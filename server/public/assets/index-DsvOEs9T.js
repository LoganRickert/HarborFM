var az=Object.defineProperty;var oP=e=>{throw TypeError(e)};var iz=(e,t,r)=>t in e?az(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var V=(e,t,r)=>iz(e,typeof t!="symbol"?t+"":t,r),E1=(e,t,r)=>t.has(e)||oP("Cannot "+r);var G=(e,t,r)=>(E1(e,t,"read from private field"),r?r.call(e):t.get(e)),Ie=(e,t,r)=>t.has(e)?oP("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Ee=(e,t,r,n)=>(E1(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),vt=(e,t,r)=>(E1(e,t,"access private method"),r);var Bg=(e,t,r,n)=>({set _(a){Ee(e,t,a,r)},get _(){return G(e,t,n)}});function sz(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(n,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();function Ts(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var T1={exports:{}},op={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lP;function oz(){if(lP)return op;lP=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var c in a)c!=="key"&&(o[c]=a[c])}else o=a;return a=o.ref,{$$typeof:e,type:n,key:u,ref:a!==void 0?a:null,props:o}}return op.Fragment=t,op.jsx=r,op.jsxs=r,op}var cP;function lz(){return cP||(cP=1,T1.exports=oz()),T1.exports}var i=lz(),P1={exports:{}},lt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uP;function cz(){if(uP)return lt;uP=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),b=Symbol.iterator;function _(H){return H===null||typeof H!="object"?null:(H=b&&H[b]||H["@@iterator"],typeof H=="function"?H:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,y={};function x(H,X,te){this.props=H,this.context=X,this.refs=y,this.updater=te||j}x.prototype.isReactComponent={},x.prototype.setState=function(H,X){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,X,"setState")},x.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function S(){}S.prototype=x.prototype;function T(H,X,te){this.props=H,this.context=X,this.refs=y,this.updater=te||j}var N=T.prototype=new S;N.constructor=T,w(N,x.prototype),N.isPureReactComponent=!0;var P=Array.isArray;function A(){}var k={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function D(H,X,te){var le=te.ref;return{$$typeof:e,type:H,key:X,ref:le!==void 0?le:null,props:te}}function I(H,X){return D(H.type,X,H.props)}function q(H){return typeof H=="object"&&H!==null&&H.$$typeof===e}function z(H){var X={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(te){return X[te]})}var M=/\/+/g;function F(H,X){return typeof H=="object"&&H!==null&&H.key!=null?z(""+H.key):X.toString(36)}function B(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(A,A):(H.status="pending",H.then(function(X){H.status==="pending"&&(H.status="fulfilled",H.value=X)},function(X){H.status==="pending"&&(H.status="rejected",H.reason=X)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function O(H,X,te,le,me){var ke=typeof H;(ke==="undefined"||ke==="boolean")&&(H=null);var xe=!1;if(H===null)xe=!0;else switch(ke){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(H.$$typeof){case e:case t:xe=!0;break;case f:return xe=H._init,O(xe(H._payload),X,te,le,me)}}if(xe)return me=me(H),xe=le===""?"."+F(H,0):le,P(me)?(te="",xe!=null&&(te=xe.replace(M,"$&/")+"/"),O(me,X,te,"",function(we){return we})):me!=null&&(q(me)&&(me=I(me,te+(me.key==null||H&&H.key===me.key?"":(""+me.key).replace(M,"$&/")+"/")+xe)),X.push(me)),1;xe=0;var He=le===""?".":le+":";if(P(H))for(var J=0;J<H.length;J++)le=H[J],ke=He+F(le,J),xe+=O(le,X,te,ke,me);else if(J=_(H),typeof J=="function")for(H=J.call(H),J=0;!(le=H.next()).done;)le=le.value,ke=He+F(le,J++),xe+=O(le,X,te,ke,me);else if(ke==="object"){if(typeof H.then=="function")return O(B(H),X,te,le,me);throw X=String(H),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return xe}function $(H,X,te){if(H==null)return H;var le=[],me=0;return O(H,le,"","",function(ke){return X.call(te,ke,me++)}),le}function K(H){if(H._status===-1){var X=H._result;X=X(),X.then(function(te){(H._status===0||H._status===-1)&&(H._status=1,H._result=te)},function(te){(H._status===0||H._status===-1)&&(H._status=2,H._result=te)}),H._status===-1&&(H._status=0,H._result=X)}if(H._status===1)return H._result.default;throw H._result}var Y=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},Z={map:$,forEach:function(H,X,te){$(H,function(){X.apply(this,arguments)},te)},count:function(H){var X=0;return $(H,function(){X++}),X},toArray:function(H){return $(H,function(X){return X})||[]},only:function(H){if(!q(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return lt.Activity=m,lt.Children=Z,lt.Component=x,lt.Fragment=r,lt.Profiler=a,lt.PureComponent=T,lt.StrictMode=n,lt.Suspense=p,lt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,lt.__COMPILER_RUNTIME={__proto__:null,c:function(H){return k.H.useMemoCache(H)}},lt.cache=function(H){return function(){return H.apply(null,arguments)}},lt.cacheSignal=function(){return null},lt.cloneElement=function(H,X,te){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var le=w({},H.props),me=H.key;if(X!=null)for(ke in X.key!==void 0&&(me=""+X.key),X)!R.call(X,ke)||ke==="key"||ke==="__self"||ke==="__source"||ke==="ref"&&X.ref===void 0||(le[ke]=X[ke]);var ke=arguments.length-2;if(ke===1)le.children=te;else if(1<ke){for(var xe=Array(ke),He=0;He<ke;He++)xe[He]=arguments[He+2];le.children=xe}return D(H.type,me,le)},lt.createContext=function(H){return H={$$typeof:u,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:o,_context:H},H},lt.createElement=function(H,X,te){var le,me={},ke=null;if(X!=null)for(le in X.key!==void 0&&(ke=""+X.key),X)R.call(X,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(me[le]=X[le]);var xe=arguments.length-2;if(xe===1)me.children=te;else if(1<xe){for(var He=Array(xe),J=0;J<xe;J++)He[J]=arguments[J+2];me.children=He}if(H&&H.defaultProps)for(le in xe=H.defaultProps,xe)me[le]===void 0&&(me[le]=xe[le]);return D(H,ke,me)},lt.createRef=function(){return{current:null}},lt.forwardRef=function(H){return{$$typeof:c,render:H}},lt.isValidElement=q,lt.lazy=function(H){return{$$typeof:f,_payload:{_status:-1,_result:H},_init:K}},lt.memo=function(H,X){return{$$typeof:h,type:H,compare:X===void 0?null:X}},lt.startTransition=function(H){var X=k.T,te={};k.T=te;try{var le=H(),me=k.S;me!==null&&me(te,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(A,Y)}catch(ke){Y(ke)}finally{X!==null&&te.types!==null&&(X.types=te.types),k.T=X}},lt.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},lt.use=function(H){return k.H.use(H)},lt.useActionState=function(H,X,te){return k.H.useActionState(H,X,te)},lt.useCallback=function(H,X){return k.H.useCallback(H,X)},lt.useContext=function(H){return k.H.useContext(H)},lt.useDebugValue=function(){},lt.useDeferredValue=function(H,X){return k.H.useDeferredValue(H,X)},lt.useEffect=function(H,X){return k.H.useEffect(H,X)},lt.useEffectEvent=function(H){return k.H.useEffectEvent(H)},lt.useId=function(){return k.H.useId()},lt.useImperativeHandle=function(H,X,te){return k.H.useImperativeHandle(H,X,te)},lt.useInsertionEffect=function(H,X){return k.H.useInsertionEffect(H,X)},lt.useLayoutEffect=function(H,X){return k.H.useLayoutEffect(H,X)},lt.useMemo=function(H,X){return k.H.useMemo(H,X)},lt.useOptimistic=function(H,X){return k.H.useOptimistic(H,X)},lt.useReducer=function(H,X,te){return k.H.useReducer(H,X,te)},lt.useRef=function(H){return k.H.useRef(H)},lt.useState=function(H){return k.H.useState(H)},lt.useSyncExternalStore=function(H,X,te){return k.H.useSyncExternalStore(H,X,te)},lt.useTransition=function(){return k.H.useTransition()},lt.version="19.2.4",lt}var dP;function Gd(){return dP||(dP=1,P1.exports=cz()),P1.exports}var v=Gd();const hi=Ts(v),kj=sz({__proto__:null,default:hi},[v]);var A1={exports:{}},lp={},R1={exports:{}},O1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fP;function uz(){return fP||(fP=1,(function(e){function t(O,$){var K=O.length;O.push($);e:for(;0<K;){var Y=K-1>>>1,Z=O[Y];if(0<a(Z,$))O[Y]=$,O[K]=Z,K=Y;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var $=O[0],K=O.pop();if(K!==$){O[0]=K;e:for(var Y=0,Z=O.length,H=Z>>>1;Y<H;){var X=2*(Y+1)-1,te=O[X],le=X+1,me=O[le];if(0>a(te,K))le<Z&&0>a(me,te)?(O[Y]=me,O[le]=K,Y=le):(O[Y]=te,O[X]=K,Y=X);else if(le<Z&&0>a(me,K))O[Y]=me,O[le]=K,Y=le;else break e}}return $}function a(O,$){var K=O.sortIndex-$.sortIndex;return K!==0?K:O.id-$.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var u=Date,c=u.now();e.unstable_now=function(){return u.now()-c}}var p=[],h=[],f=1,m=null,b=3,_=!1,j=!1,w=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function N(O){for(var $=r(h);$!==null;){if($.callback===null)n(h);else if($.startTime<=O)n(h),$.sortIndex=$.expirationTime,t(p,$);else break;$=r(h)}}function P(O){if(w=!1,N(O),!j)if(r(p)!==null)j=!0,A||(A=!0,z());else{var $=r(h);$!==null&&B(P,$.startTime-O)}}var A=!1,k=-1,R=5,D=-1;function I(){return y?!0:!(e.unstable_now()-D<R)}function q(){if(y=!1,A){var O=e.unstable_now();D=O;var $=!0;try{e:{j=!1,w&&(w=!1,S(k),k=-1),_=!0;var K=b;try{t:{for(N(O),m=r(p);m!==null&&!(m.expirationTime>O&&I());){var Y=m.callback;if(typeof Y=="function"){m.callback=null,b=m.priorityLevel;var Z=Y(m.expirationTime<=O);if(O=e.unstable_now(),typeof Z=="function"){m.callback=Z,N(O),$=!0;break t}m===r(p)&&n(p),N(O)}else n(p);m=r(p)}if(m!==null)$=!0;else{var H=r(h);H!==null&&B(P,H.startTime-O),$=!1}}break e}finally{m=null,b=K,_=!1}$=void 0}}finally{$?z():A=!1}}}var z;if(typeof T=="function")z=function(){T(q)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,F=M.port2;M.port1.onmessage=q,z=function(){F.postMessage(null)}}else z=function(){x(q,0)};function B(O,$){k=x(function(){O(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(O){switch(b){case 1:case 2:case 3:var $=3;break;default:$=b}var K=b;b=$;try{return O()}finally{b=K}},e.unstable_requestPaint=function(){y=!0},e.unstable_runWithPriority=function(O,$){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var K=b;b=O;try{return $()}finally{b=K}},e.unstable_scheduleCallback=function(O,$,K){var Y=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?Y+K:Y):K=Y,O){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=K+Z,O={id:f++,callback:$,priorityLevel:O,startTime:K,expirationTime:Z,sortIndex:-1},K>Y?(O.sortIndex=K,t(h,O),r(p)===null&&O===r(h)&&(w?(S(k),k=-1):w=!0,B(P,K-Y))):(O.sortIndex=Z,t(p,O),j||_||(j=!0,A||(A=!0,z()))),O},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(O){var $=b;return function(){var K=b;b=$;try{return O.apply(this,arguments)}finally{b=K}}}})(O1)),O1}var pP;function dz(){return pP||(pP=1,R1.exports=uz()),R1.exports}var D1={exports:{}},Dn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hP;function fz(){if(hP)return Dn;hP=1;var e=Gd();function t(p){var h="https://react.dev/errors/"+p;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)h+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+p+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(p,h,f){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:m==null?null:""+m,children:p,containerInfo:h,implementation:f}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(p,h){if(p==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Dn.createPortal=function(p,h){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return o(p,h,null,f)},Dn.flushSync=function(p){var h=u.T,f=n.p;try{if(u.T=null,n.p=2,p)return p()}finally{u.T=h,n.p=f,n.d.f()}},Dn.preconnect=function(p,h){typeof p=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(p,h))},Dn.prefetchDNS=function(p){typeof p=="string"&&n.d.D(p)},Dn.preinit=function(p,h){if(typeof p=="string"&&h&&typeof h.as=="string"){var f=h.as,m=c(f,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,_=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;f==="style"?n.d.S(p,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:m,integrity:b,fetchPriority:_}):f==="script"&&n.d.X(p,{crossOrigin:m,integrity:b,fetchPriority:_,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Dn.preinitModule=function(p,h){if(typeof p=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var f=c(h.as,h.crossOrigin);n.d.M(p,{crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(p)},Dn.preload=function(p,h){if(typeof p=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var f=h.as,m=c(f,h.crossOrigin);n.d.L(p,f,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Dn.preloadModule=function(p,h){if(typeof p=="string")if(h){var f=c(h.as,h.crossOrigin);n.d.m(p,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(p)},Dn.requestFormReset=function(p){n.d.r(p)},Dn.unstable_batchedUpdates=function(p,h){return p(h)},Dn.useFormState=function(p,h,f){return u.H.useFormState(p,h,f)},Dn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Dn.version="19.2.4",Dn}var mP;function EM(){if(mP)return D1.exports;mP=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),D1.exports=fz(),D1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gP;function pz(){if(gP)return lp;gP=1;var e=dz(),t=Gd(),r=EM();function n(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var l=s,d=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(d=l.return),s=l.return;while(s)}return l.tag===3?d:null}function u(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function c(s){if(s.tag===31){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function p(s){if(o(s)!==s)throw Error(n(188))}function h(s){var l=s.alternate;if(!l){if(l=o(s),l===null)throw Error(n(188));return l!==s?null:s}for(var d=s,g=l;;){var C=d.return;if(C===null)break;var E=C.alternate;if(E===null){if(g=C.return,g!==null){d=g;continue}break}if(C.child===E.child){for(E=C.child;E;){if(E===d)return p(C),s;if(E===g)return p(C),l;E=E.sibling}throw Error(n(188))}if(d.return!==g.return)d=C,g=E;else{for(var L=!1,U=C.child;U;){if(U===d){L=!0,d=C,g=E;break}if(U===g){L=!0,g=C,d=E;break}U=U.sibling}if(!L){for(U=E.child;U;){if(U===d){L=!0,d=E,g=C;break}if(U===g){L=!0,g=E,d=C;break}U=U.sibling}if(!L)throw Error(n(189))}}if(d.alternate!==g)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?s:l}function f(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s;for(s=s.child;s!==null;){if(l=f(s),l!==null)return l;s=s.sibling}return null}var m=Object.assign,b=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),S=Symbol.for("react.consumer"),T=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function z(s){return s===null||typeof s!="object"?null:(s=q&&s[q]||s["@@iterator"],typeof s=="function"?s:null)}var M=Symbol.for("react.client.reference");function F(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===M?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case w:return"Fragment";case x:return"Profiler";case y:return"StrictMode";case P:return"Suspense";case A:return"SuspenseList";case D:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case j:return"Portal";case T:return s.displayName||"Context";case S:return(s._context.displayName||"Context")+".Consumer";case N:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case k:return l=s.displayName||null,l!==null?l:F(s.type)||"Memo";case R:l=s._payload,s=s._init;try{return F(s(l))}catch{}}return null}var B=Array.isArray,O=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},Y=[],Z=-1;function H(s){return{current:s}}function X(s){0>Z||(s.current=Y[Z],Y[Z]=null,Z--)}function te(s,l){Z++,Y[Z]=s.current,s.current=l}var le=H(null),me=H(null),ke=H(null),xe=H(null);function He(s,l){switch(te(ke,l),te(me,s),te(le,null),l.nodeType){case 9:case 11:s=(s=l.documentElement)&&(s=s.namespaceURI)?PT(s):0;break;default:if(s=l.tagName,l=l.namespaceURI)l=PT(l),s=AT(l,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}X(le),te(le,s)}function J(){X(le),X(me),X(ke)}function we(s){s.memoizedState!==null&&te(xe,s);var l=le.current,d=AT(l,s.type);l!==d&&(te(me,s),te(le,d))}function Ne(s){me.current===s&&(X(le),X(me)),xe.current===s&&(X(xe),np._currentValue=K)}var ge,Pe;function Ae(s){if(ge===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);ge=l&&l[1]||"",Pe=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ge+s+Pe}var Ze=!1;function Me(s,l){if(!s||Ze)return"";Ze=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(l){var _e=function(){throw Error()};if(Object.defineProperty(_e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_e,[])}catch(he){var de=he}Reflect.construct(s,[],_e)}else{try{_e.call()}catch(he){de=he}s.call(_e.prototype)}}else{try{throw Error()}catch(he){de=he}(_e=s())&&typeof _e.catch=="function"&&_e.catch(function(){})}}catch(he){if(he&&de&&typeof he.stack=="string")return[he.stack,de.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var C=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");C&&C.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=g.DetermineComponentFrameRoot(),L=E[0],U=E[1];if(L&&U){var Q=L.split(`
`),ue=U.split(`
`);for(C=g=0;g<Q.length&&!Q[g].includes("DetermineComponentFrameRoot");)g++;for(;C<ue.length&&!ue[C].includes("DetermineComponentFrameRoot");)C++;if(g===Q.length||C===ue.length)for(g=Q.length-1,C=ue.length-1;1<=g&&0<=C&&Q[g]!==ue[C];)C--;for(;1<=g&&0<=C;g--,C--)if(Q[g]!==ue[C]){if(g!==1||C!==1)do if(g--,C--,0>C||Q[g]!==ue[C]){var ve=`
`+Q[g].replace(" at new "," at ");return s.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",s.displayName)),ve}while(1<=g&&0<=C);break}}}finally{Ze=!1,Error.prepareStackTrace=d}return(d=s?s.displayName||s.name:"")?Ae(d):""}function We(s,l){switch(s.tag){case 26:case 27:case 5:return Ae(s.type);case 16:return Ae("Lazy");case 13:return s.child!==l&&l!==null?Ae("Suspense Fallback"):Ae("Suspense");case 19:return Ae("SuspenseList");case 0:case 15:return Me(s.type,!1);case 11:return Me(s.type.render,!1);case 1:return Me(s.type,!0);case 31:return Ae("Activity");default:return""}}function be(s){try{var l="",d=null;do l+=We(s,d),d=s,s=s.return;while(s);return l}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var Qe=Object.prototype.hasOwnProperty,Tr=e.unstable_scheduleCallback,mt=e.unstable_cancelCallback,zr=e.unstable_shouldYield,Rn=e.unstable_requestPaint,Gt=e.unstable_now,cn=e.unstable_getCurrentPriorityLevel,Hn=e.unstable_ImmediatePriority,ia=e.unstable_UserBlockingPriority,Re=e.unstable_NormalPriority,ut=e.unstable_LowPriority,jt=e.unstable_IdlePriority,Lt=e.log,xt=e.unstable_setDisableYieldValue,ot=null,wt=null;function rr(s){if(typeof Lt=="function"&&xt(s),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(ot,s)}catch{}}var xr=Math.clz32?Math.clz32:On,un=Math.log,sa=Math.LN2;function On(s){return s>>>=0,s===0?32:31-(un(s)/sa|0)|0}var Sa=256,ki=262144,Wa=4194304;function ja(s){var l=s&42;if(l!==0)return l;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ji(s,l,d){var g=s.pendingLanes;if(g===0)return 0;var C=0,E=s.suspendedLanes,L=s.pingedLanes;s=s.warmLanes;var U=g&134217727;return U!==0?(g=U&~E,g!==0?C=ja(g):(L&=U,L!==0?C=ja(L):d||(d=U&~s,d!==0&&(C=ja(d))))):(U=g&~E,U!==0?C=ja(U):L!==0?C=ja(L):d||(d=g&~s,d!==0&&(C=ja(d)))),C===0?0:l!==0&&l!==C&&(l&E)===0&&(E=C&-C,d=l&-l,E>=d||E===32&&(d&4194048)!==0)?l:C}function Ca(s,l){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&l)===0}function Ko(s,l){switch(s){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ka(){var s=Wa;return Wa<<=1,(Wa&62914560)===0&&(Wa=4194304),s}function fe(s){for(var l=[],d=0;31>d;d++)l.push(s);return l}function je(s,l){s.pendingLanes|=l,l!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function gt(s,l,d,g,C,E){var L=s.pendingLanes;s.pendingLanes=d,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=d,s.entangledLanes&=d,s.errorRecoveryDisabledLanes&=d,s.shellSuspendCounter=0;var U=s.entanglements,Q=s.expirationTimes,ue=s.hiddenUpdates;for(d=L&~d;0<d;){var ve=31-xr(d),_e=1<<ve;U[ve]=0,Q[ve]=-1;var de=ue[ve];if(de!==null)for(ue[ve]=null,ve=0;ve<de.length;ve++){var he=de[ve];he!==null&&(he.lane&=-536870913)}d&=~_e}g!==0&&Oe(s,g,0),E!==0&&C===0&&s.tag!==0&&(s.suspendedLanes|=E&~(L&~l))}function Oe(s,l,d){s.pendingLanes|=l,s.suspendedLanes&=~l;var g=31-xr(l);s.entangledLanes|=l,s.entanglements[g]=s.entanglements[g]|1073741824|d&261930}function re(s,l){var d=s.entangledLanes|=l;for(s=s.entanglements;d;){var g=31-xr(d),C=1<<g;C&l|s[g]&l&&(s[g]|=l),d&=~C}}function Ke(s,l){var d=l&-l;return d=(d&42)!==0?1:it(d),(d&(s.suspendedLanes|l))!==0?0:d}function it(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function st(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function St(){var s=$.p;return s!==0?s:(s=window.event,s===void 0?32:eP(s.type))}function pe(s,l){var d=$.p;try{return $.p=s,l()}finally{$.p=d}}var Le=Math.random().toString(36).slice(2),bt="__reactFiber$"+Le,or="__reactProps$"+Le,oa="__reactContainer$"+Le,Ni="__reactEvents$"+Le,gu="__reactListeners$"+Le,km="__reactHandles$"+Le,v2="__reactResources$"+Le,yf="__reactMarker$"+Le;function __(s){delete s[bt],delete s[or],delete s[Ni],delete s[gu],delete s[km]}function vu(s){var l=s[bt];if(l)return l;for(var d=s.parentNode;d;){if(l=d[oa]||d[bt]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(s=$T(s);s!==null;){if(d=s[bt])return d;s=$T(s)}return l}s=d,d=s.parentNode}return null}function yu(s){if(s=s[bt]||s[oa]){var l=s.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return s}return null}function bf(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s.stateNode;throw Error(n(33))}function bu(s){var l=s[v2];return l||(l=s[v2]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function dn(s){s[yf]=!0}var y2=new Set,b2={};function ec(s,l){_u(s,l),_u(s+"Capture",l)}function _u(s,l){for(b2[s]=l,s=0;s<l.length;s++)y2.add(l[s])}var Y7=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_2={},x2={};function Q7(s){return Qe.call(x2,s)?!0:Qe.call(_2,s)?!1:Y7.test(s)?x2[s]=!0:(_2[s]=!0,!1)}function Nm(s,l,d){if(Q7(l))if(d===null)s.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":s.removeAttribute(l);return;case"boolean":var g=l.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){s.removeAttribute(l);return}}s.setAttribute(l,""+d)}}function Em(s,l,d){if(d===null)s.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttribute(l,""+d)}}function Ds(s,l,d,g){if(g===null)s.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(d);return}s.setAttributeNS(l,d,""+g)}}function Ka(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function w2(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function X7(s,l,d){var g=Object.getOwnPropertyDescriptor(s.constructor.prototype,l);if(!s.hasOwnProperty(l)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var C=g.get,E=g.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return C.call(this)},set:function(L){d=""+L,E.call(this,L)}}),Object.defineProperty(s,l,{enumerable:g.enumerable}),{getValue:function(){return d},setValue:function(L){d=""+L},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function x_(s){if(!s._valueTracker){var l=w2(s)?"checked":"value";s._valueTracker=X7(s,l,""+s[l])}}function S2(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var d=l.getValue(),g="";return s&&(g=w2(s)?s.checked?"true":"false":s.value),s=g,s!==d?(l.setValue(s),!0):!1}function Tm(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Z7=/[\n"\\]/g;function Ga(s){return s.replace(Z7,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function w_(s,l,d,g,C,E,L,U){s.name="",L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?s.type=L:s.removeAttribute("type"),l!=null?L==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+Ka(l)):s.value!==""+Ka(l)&&(s.value=""+Ka(l)):L!=="submit"&&L!=="reset"||s.removeAttribute("value"),l!=null?S_(s,L,Ka(l)):d!=null?S_(s,L,Ka(d)):g!=null&&s.removeAttribute("value"),C==null&&E!=null&&(s.defaultChecked=!!E),C!=null&&(s.checked=C&&typeof C!="function"&&typeof C!="symbol"),U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?s.name=""+Ka(U):s.removeAttribute("name")}function j2(s,l,d,g,C,E,L,U){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(s.type=E),l!=null||d!=null){if(!(E!=="submit"&&E!=="reset"||l!=null)){x_(s);return}d=d!=null?""+Ka(d):"",l=l!=null?""+Ka(l):d,U||l===s.value||(s.value=l),s.defaultValue=l}g=g??C,g=typeof g!="function"&&typeof g!="symbol"&&!!g,s.checked=U?s.checked:!!g,s.defaultChecked=!!g,L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(s.name=L),x_(s)}function S_(s,l,d){l==="number"&&Tm(s.ownerDocument)===s||s.defaultValue===""+d||(s.defaultValue=""+d)}function xu(s,l,d,g){if(s=s.options,l){l={};for(var C=0;C<d.length;C++)l["$"+d[C]]=!0;for(d=0;d<s.length;d++)C=l.hasOwnProperty("$"+s[d].value),s[d].selected!==C&&(s[d].selected=C),C&&g&&(s[d].defaultSelected=!0)}else{for(d=""+Ka(d),l=null,C=0;C<s.length;C++){if(s[C].value===d){s[C].selected=!0,g&&(s[C].defaultSelected=!0);return}l!==null||s[C].disabled||(l=s[C])}l!==null&&(l.selected=!0)}}function C2(s,l,d){if(l!=null&&(l=""+Ka(l),l!==s.value&&(s.value=l),d==null)){s.defaultValue!==l&&(s.defaultValue=l);return}s.defaultValue=d!=null?""+Ka(d):""}function k2(s,l,d,g){if(l==null){if(g!=null){if(d!=null)throw Error(n(92));if(B(g)){if(1<g.length)throw Error(n(93));g=g[0]}d=g}d==null&&(d=""),l=d}d=Ka(l),s.defaultValue=d,g=s.textContent,g===d&&g!==""&&g!==null&&(s.value=g),x_(s)}function wu(s,l){if(l){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=l;return}}s.textContent=l}var J7=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function N2(s,l,d){var g=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?g?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="":g?s.setProperty(l,d):typeof d!="number"||d===0||J7.has(l)?l==="float"?s.cssFloat=d:s[l]=(""+d).trim():s[l]=d+"px"}function E2(s,l,d){if(l!=null&&typeof l!="object")throw Error(n(62));if(s=s.style,d!=null){for(var g in d)!d.hasOwnProperty(g)||l!=null&&l.hasOwnProperty(g)||(g.indexOf("--")===0?s.setProperty(g,""):g==="float"?s.cssFloat="":s[g]="");for(var C in l)g=l[C],l.hasOwnProperty(C)&&d[C]!==g&&N2(s,C,g)}else for(var E in l)l.hasOwnProperty(E)&&N2(s,E,l[E])}function j_(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var e9=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),t9=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pm(s){return t9.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Ms(){}var C_=null;function k_(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Su=null,ju=null;function T2(s){var l=yu(s);if(l&&(s=l.stateNode)){var d=s[or]||null;e:switch(s=l.stateNode,l.type){case"input":if(w_(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Ga(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var g=d[l];if(g!==s&&g.form===s.form){var C=g[or]||null;if(!C)throw Error(n(90));w_(g,C.value,C.defaultValue,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name)}}for(l=0;l<d.length;l++)g=d[l],g.form===s.form&&S2(g)}break e;case"textarea":C2(s,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&xu(s,!!d.multiple,l,!1)}}}var N_=!1;function P2(s,l,d){if(N_)return s(l,d);N_=!0;try{var g=s(l);return g}finally{if(N_=!1,(Su!==null||ju!==null)&&(vg(),Su&&(l=Su,s=ju,ju=Su=null,T2(l),s)))for(l=0;l<s.length;l++)T2(s[l])}}function _f(s,l){var d=s.stateNode;if(d===null)return null;var g=d[or]||null;if(g===null)return null;d=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(n(231,l,typeof d));return d}var Ls=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),E_=!1;if(Ls)try{var xf={};Object.defineProperty(xf,"passive",{get:function(){E_=!0}}),window.addEventListener("test",xf,xf),window.removeEventListener("test",xf,xf)}catch{E_=!1}var Go=null,T_=null,Am=null;function A2(){if(Am)return Am;var s,l=T_,d=l.length,g,C="value"in Go?Go.value:Go.textContent,E=C.length;for(s=0;s<d&&l[s]===C[s];s++);var L=d-s;for(g=1;g<=L&&l[d-g]===C[E-g];g++);return Am=C.slice(s,1<g?1-g:void 0)}function Rm(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function Om(){return!0}function R2(){return!1}function la(s){function l(d,g,C,E,L){this._reactName=d,this._targetInst=C,this.type=g,this.nativeEvent=E,this.target=L,this.currentTarget=null;for(var U in s)s.hasOwnProperty(U)&&(d=s[U],this[U]=d?d(E):E[U]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Om:R2,this.isPropagationStopped=R2,this}return m(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Om)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Om)},persist:function(){},isPersistent:Om}),l}var tc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dm=la(tc),wf=m({},tc,{view:0,detail:0}),r9=la(wf),P_,A_,Sf,Mm=m({},wf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:O_,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Sf&&(Sf&&s.type==="mousemove"?(P_=s.screenX-Sf.screenX,A_=s.screenY-Sf.screenY):A_=P_=0,Sf=s),P_)},movementY:function(s){return"movementY"in s?s.movementY:A_}}),O2=la(Mm),n9=m({},Mm,{dataTransfer:0}),a9=la(n9),i9=m({},wf,{relatedTarget:0}),R_=la(i9),s9=m({},tc,{animationName:0,elapsedTime:0,pseudoElement:0}),o9=la(s9),l9=m({},tc,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),c9=la(l9),u9=m({},tc,{data:0}),D2=la(u9),d9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},f9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},p9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function h9(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=p9[s])?!!l[s]:!1}function O_(){return h9}var m9=m({},wf,{key:function(s){if(s.key){var l=d9[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=Rm(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?f9[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:O_,charCode:function(s){return s.type==="keypress"?Rm(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Rm(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),g9=la(m9),v9=m({},Mm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),M2=la(v9),y9=m({},wf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:O_}),b9=la(y9),_9=m({},tc,{propertyName:0,elapsedTime:0,pseudoElement:0}),x9=la(_9),w9=m({},Mm,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),S9=la(w9),j9=m({},tc,{newState:0,oldState:0}),C9=la(j9),k9=[9,13,27,32],D_=Ls&&"CompositionEvent"in window,jf=null;Ls&&"documentMode"in document&&(jf=document.documentMode);var N9=Ls&&"TextEvent"in window&&!jf,L2=Ls&&(!D_||jf&&8<jf&&11>=jf),I2=" ",$2=!1;function B2(s,l){switch(s){case"keyup":return k9.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function z2(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Cu=!1;function E9(s,l){switch(s){case"compositionend":return z2(l);case"keypress":return l.which!==32?null:($2=!0,I2);case"textInput":return s=l.data,s===I2&&$2?null:s;default:return null}}function T9(s,l){if(Cu)return s==="compositionend"||!D_&&B2(s,l)?(s=A2(),Am=T_=Go=null,Cu=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return L2&&l.locale!=="ko"?null:l.data;default:return null}}var P9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function F2(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!P9[s.type]:l==="textarea"}function q2(s,l,d,g){Su?ju?ju.push(g):ju=[g]:Su=g,l=jg(l,"onChange"),0<l.length&&(d=new Dm("onChange","change",null,d,g),s.push({event:d,listeners:l}))}var Cf=null,kf=null;function A9(s){jT(s,0)}function Lm(s){var l=bf(s);if(S2(l))return s}function U2(s,l){if(s==="change")return l}var H2=!1;if(Ls){var M_;if(Ls){var L_="oninput"in document;if(!L_){var W2=document.createElement("div");W2.setAttribute("oninput","return;"),L_=typeof W2.oninput=="function"}M_=L_}else M_=!1;H2=M_&&(!document.documentMode||9<document.documentMode)}function K2(){Cf&&(Cf.detachEvent("onpropertychange",G2),kf=Cf=null)}function G2(s){if(s.propertyName==="value"&&Lm(kf)){var l=[];q2(l,kf,s,k_(s)),P2(A9,l)}}function R9(s,l,d){s==="focusin"?(K2(),Cf=l,kf=d,Cf.attachEvent("onpropertychange",G2)):s==="focusout"&&K2()}function O9(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Lm(kf)}function D9(s,l){if(s==="click")return Lm(l)}function M9(s,l){if(s==="input"||s==="change")return Lm(l)}function L9(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var Na=typeof Object.is=="function"?Object.is:L9;function Nf(s,l){if(Na(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var d=Object.keys(s),g=Object.keys(l);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var C=d[g];if(!Qe.call(l,C)||!Na(s[C],l[C]))return!1}return!0}function V2(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Y2(s,l){var d=V2(s);s=0;for(var g;d;){if(d.nodeType===3){if(g=s+d.textContent.length,s<=l&&g>=l)return{node:d,offset:l-s};s=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=V2(d)}}function Q2(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?Q2(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function X2(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var l=Tm(s.document);l instanceof s.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)s=l.contentWindow;else break;l=Tm(s.document)}return l}function I_(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}var I9=Ls&&"documentMode"in document&&11>=document.documentMode,ku=null,$_=null,Ef=null,B_=!1;function Z2(s,l,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;B_||ku==null||ku!==Tm(g)||(g=ku,"selectionStart"in g&&I_(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Ef&&Nf(Ef,g)||(Ef=g,g=jg($_,"onSelect"),0<g.length&&(l=new Dm("onSelect","select",null,l,d),s.push({event:l,listeners:g}),l.target=ku)))}function rc(s,l){var d={};return d[s.toLowerCase()]=l.toLowerCase(),d["Webkit"+s]="webkit"+l,d["Moz"+s]="moz"+l,d}var Nu={animationend:rc("Animation","AnimationEnd"),animationiteration:rc("Animation","AnimationIteration"),animationstart:rc("Animation","AnimationStart"),transitionrun:rc("Transition","TransitionRun"),transitionstart:rc("Transition","TransitionStart"),transitioncancel:rc("Transition","TransitionCancel"),transitionend:rc("Transition","TransitionEnd")},z_={},J2={};Ls&&(J2=document.createElement("div").style,"AnimationEvent"in window||(delete Nu.animationend.animation,delete Nu.animationiteration.animation,delete Nu.animationstart.animation),"TransitionEvent"in window||delete Nu.transitionend.transition);function nc(s){if(z_[s])return z_[s];if(!Nu[s])return s;var l=Nu[s],d;for(d in l)if(l.hasOwnProperty(d)&&d in J2)return z_[s]=l[d];return s}var eN=nc("animationend"),tN=nc("animationiteration"),rN=nc("animationstart"),$9=nc("transitionrun"),B9=nc("transitionstart"),z9=nc("transitioncancel"),nN=nc("transitionend"),aN=new Map,F_="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");F_.push("scrollEnd");function Ei(s,l){aN.set(s,l),ec(l,[s])}var Im=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Va=[],Eu=0,q_=0;function $m(){for(var s=Eu,l=q_=Eu=0;l<s;){var d=Va[l];Va[l++]=null;var g=Va[l];Va[l++]=null;var C=Va[l];Va[l++]=null;var E=Va[l];if(Va[l++]=null,g!==null&&C!==null){var L=g.pending;L===null?C.next=C:(C.next=L.next,L.next=C),g.pending=C}E!==0&&iN(d,C,E)}}function Bm(s,l,d,g){Va[Eu++]=s,Va[Eu++]=l,Va[Eu++]=d,Va[Eu++]=g,q_|=g,s.lanes|=g,s=s.alternate,s!==null&&(s.lanes|=g)}function U_(s,l,d,g){return Bm(s,l,d,g),zm(s)}function ac(s,l){return Bm(s,null,null,l),zm(s)}function iN(s,l,d){s.lanes|=d;var g=s.alternate;g!==null&&(g.lanes|=d);for(var C=!1,E=s.return;E!==null;)E.childLanes|=d,g=E.alternate,g!==null&&(g.childLanes|=d),E.tag===22&&(s=E.stateNode,s===null||s._visibility&1||(C=!0)),s=E,E=E.return;return s.tag===3?(E=s.stateNode,C&&l!==null&&(C=31-xr(d),s=E.hiddenUpdates,g=s[C],g===null?s[C]=[l]:g.push(l),l.lane=d|536870912),E):null}function zm(s){if(50<Qf)throw Qf=0,Z0=null,Error(n(185));for(var l=s.return;l!==null;)s=l,l=s.return;return s.tag===3?s.stateNode:null}var Tu={};function F9(s,l,d,g){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ea(s,l,d,g){return new F9(s,l,d,g)}function H_(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Is(s,l){var d=s.alternate;return d===null?(d=Ea(s.tag,l,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=l,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&65011712,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,l=s.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d.refCleanup=s.refCleanup,d}function sN(s,l){s.flags&=65011714;var d=s.alternate;return d===null?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=d.childLanes,s.lanes=d.lanes,s.child=d.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=d.memoizedProps,s.memoizedState=d.memoizedState,s.updateQueue=d.updateQueue,s.type=d.type,l=d.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s}function Fm(s,l,d,g,C,E){var L=0;if(g=s,typeof s=="function")H_(s)&&(L=1);else if(typeof s=="string")L=KB(s,d,le.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case D:return s=Ea(31,d,l,C),s.elementType=D,s.lanes=E,s;case w:return ic(d.children,C,E,l);case y:L=8,C|=24;break;case x:return s=Ea(12,d,l,C|2),s.elementType=x,s.lanes=E,s;case P:return s=Ea(13,d,l,C),s.elementType=P,s.lanes=E,s;case A:return s=Ea(19,d,l,C),s.elementType=A,s.lanes=E,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case T:L=10;break e;case S:L=9;break e;case N:L=11;break e;case k:L=14;break e;case R:L=16,g=null;break e}L=29,d=Error(n(130,s===null?"null":typeof s,"")),g=null}return l=Ea(L,d,l,C),l.elementType=s,l.type=g,l.lanes=E,l}function ic(s,l,d,g){return s=Ea(7,s,g,l),s.lanes=d,s}function W_(s,l,d){return s=Ea(6,s,null,l),s.lanes=d,s}function oN(s){var l=Ea(18,null,null,0);return l.stateNode=s,l}function K_(s,l,d){return l=Ea(4,s.children!==null?s.children:[],s.key,l),l.lanes=d,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}var lN=new WeakMap;function Ya(s,l){if(typeof s=="object"&&s!==null){var d=lN.get(s);return d!==void 0?d:(l={value:s,source:l,stack:be(l)},lN.set(s,l),l)}return{value:s,source:l,stack:be(l)}}var Pu=[],Au=0,qm=null,Tf=0,Qa=[],Xa=0,Vo=null,es=1,ts="";function $s(s,l){Pu[Au++]=Tf,Pu[Au++]=qm,qm=s,Tf=l}function cN(s,l,d){Qa[Xa++]=es,Qa[Xa++]=ts,Qa[Xa++]=Vo,Vo=s;var g=es;s=ts;var C=32-xr(g)-1;g&=~(1<<C),d+=1;var E=32-xr(l)+C;if(30<E){var L=C-C%5;E=(g&(1<<L)-1).toString(32),g>>=L,C-=L,es=1<<32-xr(l)+C|d<<C|g,ts=E+s}else es=1<<E|d<<C|g,ts=s}function G_(s){s.return!==null&&($s(s,1),cN(s,1,0))}function V_(s){for(;s===qm;)qm=Pu[--Au],Pu[Au]=null,Tf=Pu[--Au],Pu[Au]=null;for(;s===Vo;)Vo=Qa[--Xa],Qa[Xa]=null,ts=Qa[--Xa],Qa[Xa]=null,es=Qa[--Xa],Qa[Xa]=null}function uN(s,l){Qa[Xa++]=es,Qa[Xa++]=ts,Qa[Xa++]=Vo,es=l.id,ts=l.overflow,Vo=s}var jn=null,vr=null,Rt=!1,Yo=null,Za=!1,Y_=Error(n(519));function Qo(s){var l=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Pf(Ya(l,s)),Y_}function dN(s){var l=s.stateNode,d=s.type,g=s.memoizedProps;switch(l[bt]=s,l[or]=g,d){case"dialog":kt("cancel",l),kt("close",l);break;case"iframe":case"object":case"embed":kt("load",l);break;case"video":case"audio":for(d=0;d<Zf.length;d++)kt(Zf[d],l);break;case"source":kt("error",l);break;case"img":case"image":case"link":kt("error",l),kt("load",l);break;case"details":kt("toggle",l);break;case"input":kt("invalid",l),j2(l,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":kt("invalid",l);break;case"textarea":kt("invalid",l),k2(l,g.value,g.defaultValue,g.children)}d=g.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||g.suppressHydrationWarning===!0||ET(l.textContent,d)?(g.popover!=null&&(kt("beforetoggle",l),kt("toggle",l)),g.onScroll!=null&&kt("scroll",l),g.onScrollEnd!=null&&kt("scrollend",l),g.onClick!=null&&(l.onclick=Ms),l=!0):l=!1,l||Qo(s,!0)}function fN(s){for(jn=s.return;jn;)switch(jn.tag){case 5:case 31:case 13:Za=!1;return;case 27:case 3:Za=!0;return;default:jn=jn.return}}function Ru(s){if(s!==jn)return!1;if(!Rt)return fN(s),Rt=!0,!1;var l=s.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=s.type,d=!(d!=="form"&&d!=="button")||p1(s.type,s.memoizedProps)),d=!d),d&&vr&&Qo(s),fN(s),l===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));vr=IT(s)}else if(l===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));vr=IT(s)}else l===27?(l=vr,ul(s.type)?(s=y1,y1=null,vr=s):vr=l):vr=jn?ei(s.stateNode.nextSibling):null;return!0}function sc(){vr=jn=null,Rt=!1}function Q_(){var s=Yo;return s!==null&&(fa===null?fa=s:fa.push.apply(fa,s),Yo=null),s}function Pf(s){Yo===null?Yo=[s]:Yo.push(s)}var X_=H(null),oc=null,Bs=null;function Xo(s,l,d){te(X_,l._currentValue),l._currentValue=d}function zs(s){s._currentValue=X_.current,X(X_)}function Z_(s,l,d){for(;s!==null;){var g=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),s===d)break;s=s.return}}function J_(s,l,d,g){var C=s.child;for(C!==null&&(C.return=s);C!==null;){var E=C.dependencies;if(E!==null){var L=C.child;E=E.firstContext;e:for(;E!==null;){var U=E;E=C;for(var Q=0;Q<l.length;Q++)if(U.context===l[Q]){E.lanes|=d,U=E.alternate,U!==null&&(U.lanes|=d),Z_(E.return,d,s),g||(L=null);break e}E=U.next}}else if(C.tag===18){if(L=C.return,L===null)throw Error(n(341));L.lanes|=d,E=L.alternate,E!==null&&(E.lanes|=d),Z_(L,d,s),L=null}else L=C.child;if(L!==null)L.return=C;else for(L=C;L!==null;){if(L===s){L=null;break}if(C=L.sibling,C!==null){C.return=L.return,L=C;break}L=L.return}C=L}}function Ou(s,l,d,g){s=null;for(var C=l,E=!1;C!==null;){if(!E){if((C.flags&524288)!==0)E=!0;else if((C.flags&262144)!==0)break}if(C.tag===10){var L=C.alternate;if(L===null)throw Error(n(387));if(L=L.memoizedProps,L!==null){var U=C.type;Na(C.pendingProps.value,L.value)||(s!==null?s.push(U):s=[U])}}else if(C===xe.current){if(L=C.alternate,L===null)throw Error(n(387));L.memoizedState.memoizedState!==C.memoizedState.memoizedState&&(s!==null?s.push(np):s=[np])}C=C.return}s!==null&&J_(l,s,d,g),l.flags|=262144}function Um(s){for(s=s.firstContext;s!==null;){if(!Na(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function lc(s){oc=s,Bs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Cn(s){return pN(oc,s)}function Hm(s,l){return oc===null&&lc(s),pN(s,l)}function pN(s,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},Bs===null){if(s===null)throw Error(n(308));Bs=l,s.dependencies={lanes:0,firstContext:l},s.flags|=524288}else Bs=Bs.next=l;return d}var q9=typeof AbortController<"u"?AbortController:function(){var s=[],l=this.signal={aborted:!1,addEventListener:function(d,g){s.push(g)}};this.abort=function(){l.aborted=!0,s.forEach(function(d){return d()})}},U9=e.unstable_scheduleCallback,H9=e.unstable_NormalPriority,Wr={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function e0(){return{controller:new q9,data:new Map,refCount:0}}function Af(s){s.refCount--,s.refCount===0&&U9(H9,function(){s.controller.abort()})}var Rf=null,t0=0,Du=0,Mu=null;function W9(s,l){if(Rf===null){var d=Rf=[];t0=0,Du=a1(),Mu={status:"pending",value:void 0,then:function(g){d.push(g)}}}return t0++,l.then(hN,hN),l}function hN(){if(--t0===0&&Rf!==null){Mu!==null&&(Mu.status="fulfilled");var s=Rf;Rf=null,Du=0,Mu=null;for(var l=0;l<s.length;l++)(0,s[l])()}}function K9(s,l){var d=[],g={status:"pending",value:null,reason:null,then:function(C){d.push(C)}};return s.then(function(){g.status="fulfilled",g.value=l;for(var C=0;C<d.length;C++)(0,d[C])(l)},function(C){for(g.status="rejected",g.reason=C,C=0;C<d.length;C++)(0,d[C])(void 0)}),g}var mN=O.S;O.S=function(s,l){ZE=Gt(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&W9(s,l),mN!==null&&mN(s,l)};var cc=H(null);function r0(){var s=cc.current;return s!==null?s:lr.pooledCache}function Wm(s,l){l===null?te(cc,cc.current):te(cc,l.pool)}function gN(){var s=r0();return s===null?null:{parent:Wr._currentValue,pool:s}}var Lu=Error(n(460)),n0=Error(n(474)),Km=Error(n(542)),Gm={then:function(){}};function vN(s){return s=s.status,s==="fulfilled"||s==="rejected"}function yN(s,l,d){switch(d=s[d],d===void 0?s.push(l):d!==l&&(l.then(Ms,Ms),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,_N(s),s;default:if(typeof l.status=="string")l.then(Ms,Ms);else{if(s=lr,s!==null&&100<s.shellSuspendCounter)throw Error(n(482));s=l,s.status="pending",s.then(function(g){if(l.status==="pending"){var C=l;C.status="fulfilled",C.value=g}},function(g){if(l.status==="pending"){var C=l;C.status="rejected",C.reason=g}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,_N(s),s}throw dc=l,Lu}}function uc(s){try{var l=s._init;return l(s._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(dc=d,Lu):d}}var dc=null;function bN(){if(dc===null)throw Error(n(459));var s=dc;return dc=null,s}function _N(s){if(s===Lu||s===Km)throw Error(n(483))}var Iu=null,Of=0;function Vm(s){var l=Of;return Of+=1,Iu===null&&(Iu=[]),yN(Iu,s,l)}function Df(s,l){l=l.props.ref,s.ref=l!==void 0?l:null}function Ym(s,l){throw l.$$typeof===b?Error(n(525)):(s=Object.prototype.toString.call(l),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s)))}function xN(s){function l(ie,ee){if(s){var ce=ie.deletions;ce===null?(ie.deletions=[ee],ie.flags|=16):ce.push(ee)}}function d(ie,ee){if(!s)return null;for(;ee!==null;)l(ie,ee),ee=ee.sibling;return null}function g(ie){for(var ee=new Map;ie!==null;)ie.key!==null?ee.set(ie.key,ie):ee.set(ie.index,ie),ie=ie.sibling;return ee}function C(ie,ee){return ie=Is(ie,ee),ie.index=0,ie.sibling=null,ie}function E(ie,ee,ce){return ie.index=ce,s?(ce=ie.alternate,ce!==null?(ce=ce.index,ce<ee?(ie.flags|=67108866,ee):ce):(ie.flags|=67108866,ee)):(ie.flags|=1048576,ee)}function L(ie){return s&&ie.alternate===null&&(ie.flags|=67108866),ie}function U(ie,ee,ce,ye){return ee===null||ee.tag!==6?(ee=W_(ce,ie.mode,ye),ee.return=ie,ee):(ee=C(ee,ce),ee.return=ie,ee)}function Q(ie,ee,ce,ye){var Je=ce.type;return Je===w?ve(ie,ee,ce.props.children,ye,ce.key):ee!==null&&(ee.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===R&&uc(Je)===ee.type)?(ee=C(ee,ce.props),Df(ee,ce),ee.return=ie,ee):(ee=Fm(ce.type,ce.key,ce.props,null,ie.mode,ye),Df(ee,ce),ee.return=ie,ee)}function ue(ie,ee,ce,ye){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==ce.containerInfo||ee.stateNode.implementation!==ce.implementation?(ee=K_(ce,ie.mode,ye),ee.return=ie,ee):(ee=C(ee,ce.children||[]),ee.return=ie,ee)}function ve(ie,ee,ce,ye,Je){return ee===null||ee.tag!==7?(ee=ic(ce,ie.mode,ye,Je),ee.return=ie,ee):(ee=C(ee,ce),ee.return=ie,ee)}function _e(ie,ee,ce){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return ee=W_(""+ee,ie.mode,ce),ee.return=ie,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case _:return ce=Fm(ee.type,ee.key,ee.props,null,ie.mode,ce),Df(ce,ee),ce.return=ie,ce;case j:return ee=K_(ee,ie.mode,ce),ee.return=ie,ee;case R:return ee=uc(ee),_e(ie,ee,ce)}if(B(ee)||z(ee))return ee=ic(ee,ie.mode,ce,null),ee.return=ie,ee;if(typeof ee.then=="function")return _e(ie,Vm(ee),ce);if(ee.$$typeof===T)return _e(ie,Hm(ie,ee),ce);Ym(ie,ee)}return null}function de(ie,ee,ce,ye){var Je=ee!==null?ee.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return Je!==null?null:U(ie,ee,""+ce,ye);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case _:return ce.key===Je?Q(ie,ee,ce,ye):null;case j:return ce.key===Je?ue(ie,ee,ce,ye):null;case R:return ce=uc(ce),de(ie,ee,ce,ye)}if(B(ce)||z(ce))return Je!==null?null:ve(ie,ee,ce,ye,null);if(typeof ce.then=="function")return de(ie,ee,Vm(ce),ye);if(ce.$$typeof===T)return de(ie,ee,Hm(ie,ce),ye);Ym(ie,ce)}return null}function he(ie,ee,ce,ye,Je){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return ie=ie.get(ce)||null,U(ee,ie,""+ye,Je);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case _:return ie=ie.get(ye.key===null?ce:ye.key)||null,Q(ee,ie,ye,Je);case j:return ie=ie.get(ye.key===null?ce:ye.key)||null,ue(ee,ie,ye,Je);case R:return ye=uc(ye),he(ie,ee,ce,ye,Je)}if(B(ye)||z(ye))return ie=ie.get(ce)||null,ve(ee,ie,ye,Je,null);if(typeof ye.then=="function")return he(ie,ee,ce,Vm(ye),Je);if(ye.$$typeof===T)return he(ie,ee,ce,Hm(ee,ye),Je);Ym(ee,ye)}return null}function qe(ie,ee,ce,ye){for(var Je=null,zt=null,Ge=ee,pt=ee=0,Tt=null;Ge!==null&&pt<ce.length;pt++){Ge.index>pt?(Tt=Ge,Ge=null):Tt=Ge.sibling;var Ft=de(ie,Ge,ce[pt],ye);if(Ft===null){Ge===null&&(Ge=Tt);break}s&&Ge&&Ft.alternate===null&&l(ie,Ge),ee=E(Ft,ee,pt),zt===null?Je=Ft:zt.sibling=Ft,zt=Ft,Ge=Tt}if(pt===ce.length)return d(ie,Ge),Rt&&$s(ie,pt),Je;if(Ge===null){for(;pt<ce.length;pt++)Ge=_e(ie,ce[pt],ye),Ge!==null&&(ee=E(Ge,ee,pt),zt===null?Je=Ge:zt.sibling=Ge,zt=Ge);return Rt&&$s(ie,pt),Je}for(Ge=g(Ge);pt<ce.length;pt++)Tt=he(Ge,ie,pt,ce[pt],ye),Tt!==null&&(s&&Tt.alternate!==null&&Ge.delete(Tt.key===null?pt:Tt.key),ee=E(Tt,ee,pt),zt===null?Je=Tt:zt.sibling=Tt,zt=Tt);return s&&Ge.forEach(function(ml){return l(ie,ml)}),Rt&&$s(ie,pt),Je}function tt(ie,ee,ce,ye){if(ce==null)throw Error(n(151));for(var Je=null,zt=null,Ge=ee,pt=ee=0,Tt=null,Ft=ce.next();Ge!==null&&!Ft.done;pt++,Ft=ce.next()){Ge.index>pt?(Tt=Ge,Ge=null):Tt=Ge.sibling;var ml=de(ie,Ge,Ft.value,ye);if(ml===null){Ge===null&&(Ge=Tt);break}s&&Ge&&ml.alternate===null&&l(ie,Ge),ee=E(ml,ee,pt),zt===null?Je=ml:zt.sibling=ml,zt=ml,Ge=Tt}if(Ft.done)return d(ie,Ge),Rt&&$s(ie,pt),Je;if(Ge===null){for(;!Ft.done;pt++,Ft=ce.next())Ft=_e(ie,Ft.value,ye),Ft!==null&&(ee=E(Ft,ee,pt),zt===null?Je=Ft:zt.sibling=Ft,zt=Ft);return Rt&&$s(ie,pt),Je}for(Ge=g(Ge);!Ft.done;pt++,Ft=ce.next())Ft=he(Ge,ie,pt,Ft.value,ye),Ft!==null&&(s&&Ft.alternate!==null&&Ge.delete(Ft.key===null?pt:Ft.key),ee=E(Ft,ee,pt),zt===null?Je=Ft:zt.sibling=Ft,zt=Ft);return s&&Ge.forEach(function(nz){return l(ie,nz)}),Rt&&$s(ie,pt),Je}function ir(ie,ee,ce,ye){if(typeof ce=="object"&&ce!==null&&ce.type===w&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case _:e:{for(var Je=ce.key;ee!==null;){if(ee.key===Je){if(Je=ce.type,Je===w){if(ee.tag===7){d(ie,ee.sibling),ye=C(ee,ce.props.children),ye.return=ie,ie=ye;break e}}else if(ee.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===R&&uc(Je)===ee.type){d(ie,ee.sibling),ye=C(ee,ce.props),Df(ye,ce),ye.return=ie,ie=ye;break e}d(ie,ee);break}else l(ie,ee);ee=ee.sibling}ce.type===w?(ye=ic(ce.props.children,ie.mode,ye,ce.key),ye.return=ie,ie=ye):(ye=Fm(ce.type,ce.key,ce.props,null,ie.mode,ye),Df(ye,ce),ye.return=ie,ie=ye)}return L(ie);case j:e:{for(Je=ce.key;ee!==null;){if(ee.key===Je)if(ee.tag===4&&ee.stateNode.containerInfo===ce.containerInfo&&ee.stateNode.implementation===ce.implementation){d(ie,ee.sibling),ye=C(ee,ce.children||[]),ye.return=ie,ie=ye;break e}else{d(ie,ee);break}else l(ie,ee);ee=ee.sibling}ye=K_(ce,ie.mode,ye),ye.return=ie,ie=ye}return L(ie);case R:return ce=uc(ce),ir(ie,ee,ce,ye)}if(B(ce))return qe(ie,ee,ce,ye);if(z(ce)){if(Je=z(ce),typeof Je!="function")throw Error(n(150));return ce=Je.call(ce),tt(ie,ee,ce,ye)}if(typeof ce.then=="function")return ir(ie,ee,Vm(ce),ye);if(ce.$$typeof===T)return ir(ie,ee,Hm(ie,ce),ye);Ym(ie,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint"?(ce=""+ce,ee!==null&&ee.tag===6?(d(ie,ee.sibling),ye=C(ee,ce),ye.return=ie,ie=ye):(d(ie,ee),ye=W_(ce,ie.mode,ye),ye.return=ie,ie=ye),L(ie)):d(ie,ee)}return function(ie,ee,ce,ye){try{Of=0;var Je=ir(ie,ee,ce,ye);return Iu=null,Je}catch(Ge){if(Ge===Lu||Ge===Km)throw Ge;var zt=Ea(29,Ge,null,ie.mode);return zt.lanes=ye,zt.return=ie,zt}finally{}}}var fc=xN(!0),wN=xN(!1),Zo=!1;function a0(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function i0(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Jo(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function el(s,l,d){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(Vt&2)!==0){var C=g.pending;return C===null?l.next=l:(l.next=C.next,C.next=l),g.pending=l,l=zm(s),iN(s,null,d),l}return Bm(s,g,l,d),zm(s)}function Mf(s,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var g=l.lanes;g&=s.pendingLanes,d|=g,l.lanes=d,re(s,d)}}function s0(s,l){var d=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var C=null,E=null;if(d=d.firstBaseUpdate,d!==null){do{var L={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};E===null?C=E=L:E=E.next=L,d=d.next}while(d!==null);E===null?C=E=l:E=E.next=l}else C=E=l;d={baseState:g.baseState,firstBaseUpdate:C,lastBaseUpdate:E,shared:g.shared,callbacks:g.callbacks},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=l:s.next=l,d.lastBaseUpdate=l}var o0=!1;function Lf(){if(o0){var s=Mu;if(s!==null)throw s}}function If(s,l,d,g){o0=!1;var C=s.updateQueue;Zo=!1;var E=C.firstBaseUpdate,L=C.lastBaseUpdate,U=C.shared.pending;if(U!==null){C.shared.pending=null;var Q=U,ue=Q.next;Q.next=null,L===null?E=ue:L.next=ue,L=Q;var ve=s.alternate;ve!==null&&(ve=ve.updateQueue,U=ve.lastBaseUpdate,U!==L&&(U===null?ve.firstBaseUpdate=ue:U.next=ue,ve.lastBaseUpdate=Q))}if(E!==null){var _e=C.baseState;L=0,ve=ue=Q=null,U=E;do{var de=U.lane&-536870913,he=de!==U.lane;if(he?(Et&de)===de:(g&de)===de){de!==0&&de===Du&&(o0=!0),ve!==null&&(ve=ve.next={lane:0,tag:U.tag,payload:U.payload,callback:null,next:null});e:{var qe=s,tt=U;de=l;var ir=d;switch(tt.tag){case 1:if(qe=tt.payload,typeof qe=="function"){_e=qe.call(ir,_e,de);break e}_e=qe;break e;case 3:qe.flags=qe.flags&-65537|128;case 0:if(qe=tt.payload,de=typeof qe=="function"?qe.call(ir,_e,de):qe,de==null)break e;_e=m({},_e,de);break e;case 2:Zo=!0}}de=U.callback,de!==null&&(s.flags|=64,he&&(s.flags|=8192),he=C.callbacks,he===null?C.callbacks=[de]:he.push(de))}else he={lane:de,tag:U.tag,payload:U.payload,callback:U.callback,next:null},ve===null?(ue=ve=he,Q=_e):ve=ve.next=he,L|=de;if(U=U.next,U===null){if(U=C.shared.pending,U===null)break;he=U,U=he.next,he.next=null,C.lastBaseUpdate=he,C.shared.pending=null}}while(!0);ve===null&&(Q=_e),C.baseState=Q,C.firstBaseUpdate=ue,C.lastBaseUpdate=ve,E===null&&(C.shared.lanes=0),il|=L,s.lanes=L,s.memoizedState=_e}}function SN(s,l){if(typeof s!="function")throw Error(n(191,s));s.call(l)}function jN(s,l){var d=s.callbacks;if(d!==null)for(s.callbacks=null,s=0;s<d.length;s++)SN(d[s],l)}var $u=H(null),Qm=H(0);function CN(s,l){s=Ys,te(Qm,s),te($u,l),Ys=s|l.baseLanes}function l0(){te(Qm,Ys),te($u,$u.current)}function c0(){Ys=Qm.current,X($u),X(Qm)}var Ta=H(null),Ja=null;function tl(s){var l=s.alternate;te(Fr,Fr.current&1),te(Ta,s),Ja===null&&(l===null||$u.current!==null||l.memoizedState!==null)&&(Ja=s)}function u0(s){te(Fr,Fr.current),te(Ta,s),Ja===null&&(Ja=s)}function kN(s){s.tag===22?(te(Fr,Fr.current),te(Ta,s),Ja===null&&(Ja=s)):rl()}function rl(){te(Fr,Fr.current),te(Ta,Ta.current)}function Pa(s){X(Ta),Ja===s&&(Ja=null),X(Fr)}var Fr=H(0);function Xm(s){for(var l=s;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||g1(d)||v1(d)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Fs=0,ft=null,nr=null,Kr=null,Zm=!1,Bu=!1,pc=!1,Jm=0,$f=0,zu=null,G9=0;function Pr(){throw Error(n(321))}function d0(s,l){if(l===null)return!1;for(var d=0;d<l.length&&d<s.length;d++)if(!Na(s[d],l[d]))return!1;return!0}function f0(s,l,d,g,C,E){return Fs=E,ft=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,O.H=s===null||s.memoizedState===null?cE:N0,pc=!1,E=d(g,C),pc=!1,Bu&&(E=EN(l,d,g,C)),NN(s),E}function NN(s){O.H=Ff;var l=nr!==null&&nr.next!==null;if(Fs=0,Kr=nr=ft=null,Zm=!1,$f=0,zu=null,l)throw Error(n(300));s===null||Gr||(s=s.dependencies,s!==null&&Um(s)&&(Gr=!0))}function EN(s,l,d,g){ft=s;var C=0;do{if(Bu&&(zu=null),$f=0,Bu=!1,25<=C)throw Error(n(301));if(C+=1,Kr=nr=null,s.updateQueue!=null){var E=s.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}O.H=uE,E=l(d,g)}while(Bu);return E}function V9(){var s=O.H,l=s.useState()[0];return l=typeof l.then=="function"?Bf(l):l,s=s.useState()[0],(nr!==null?nr.memoizedState:null)!==s&&(ft.flags|=1024),l}function p0(){var s=Jm!==0;return Jm=0,s}function h0(s,l,d){l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~d}function m0(s){if(Zm){for(s=s.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}Zm=!1}Fs=0,Kr=nr=ft=null,Bu=!1,$f=Jm=0,zu=null}function Wn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kr===null?ft.memoizedState=Kr=s:Kr=Kr.next=s,Kr}function qr(){if(nr===null){var s=ft.alternate;s=s!==null?s.memoizedState:null}else s=nr.next;var l=Kr===null?ft.memoizedState:Kr.next;if(l!==null)Kr=l,nr=s;else{if(s===null)throw ft.alternate===null?Error(n(467)):Error(n(310));nr=s,s={memoizedState:nr.memoizedState,baseState:nr.baseState,baseQueue:nr.baseQueue,queue:nr.queue,next:null},Kr===null?ft.memoizedState=Kr=s:Kr=Kr.next=s}return Kr}function eg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bf(s){var l=$f;return $f+=1,zu===null&&(zu=[]),s=yN(zu,s,l),l=ft,(Kr===null?l.memoizedState:Kr.next)===null&&(l=l.alternate,O.H=l===null||l.memoizedState===null?cE:N0),s}function tg(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Bf(s);if(s.$$typeof===T)return Cn(s)}throw Error(n(438,String(s)))}function g0(s){var l=null,d=ft.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var g=ft.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(l={data:g.data.map(function(C){return C.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=eg(),ft.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(s),g=0;g<s;g++)d[g]=I;return l.index++,d}function qs(s,l){return typeof l=="function"?l(s):l}function rg(s){var l=qr();return v0(l,nr,s)}function v0(s,l,d){var g=s.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=d;var C=s.baseQueue,E=g.pending;if(E!==null){if(C!==null){var L=C.next;C.next=E.next,E.next=L}l.baseQueue=C=E,g.pending=null}if(E=s.baseState,C===null)s.memoizedState=E;else{l=C.next;var U=L=null,Q=null,ue=l,ve=!1;do{var _e=ue.lane&-536870913;if(_e!==ue.lane?(Et&_e)===_e:(Fs&_e)===_e){var de=ue.revertLane;if(de===0)Q!==null&&(Q=Q.next={lane:0,revertLane:0,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),_e===Du&&(ve=!0);else if((Fs&de)===de){ue=ue.next,de===Du&&(ve=!0);continue}else _e={lane:0,revertLane:ue.revertLane,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},Q===null?(U=Q=_e,L=E):Q=Q.next=_e,ft.lanes|=de,il|=de;_e=ue.action,pc&&d(E,_e),E=ue.hasEagerState?ue.eagerState:d(E,_e)}else de={lane:_e,revertLane:ue.revertLane,gesture:ue.gesture,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},Q===null?(U=Q=de,L=E):Q=Q.next=de,ft.lanes|=_e,il|=_e;ue=ue.next}while(ue!==null&&ue!==l);if(Q===null?L=E:Q.next=U,!Na(E,s.memoizedState)&&(Gr=!0,ve&&(d=Mu,d!==null)))throw d;s.memoizedState=E,s.baseState=L,s.baseQueue=Q,g.lastRenderedState=E}return C===null&&(g.lanes=0),[s.memoizedState,g.dispatch]}function y0(s){var l=qr(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=s;var g=d.dispatch,C=d.pending,E=l.memoizedState;if(C!==null){d.pending=null;var L=C=C.next;do E=s(E,L.action),L=L.next;while(L!==C);Na(E,l.memoizedState)||(Gr=!0),l.memoizedState=E,l.baseQueue===null&&(l.baseState=E),d.lastRenderedState=E}return[E,g]}function TN(s,l,d){var g=ft,C=qr(),E=Rt;if(E){if(d===void 0)throw Error(n(407));d=d()}else d=l();var L=!Na((nr||C).memoizedState,d);if(L&&(C.memoizedState=d,Gr=!0),C=C.queue,x0(RN.bind(null,g,C,s),[s]),C.getSnapshot!==l||L||Kr!==null&&Kr.memoizedState.tag&1){if(g.flags|=2048,Fu(9,{destroy:void 0},AN.bind(null,g,C,d,l),null),lr===null)throw Error(n(349));E||(Fs&127)!==0||PN(g,l,d)}return d}function PN(s,l,d){s.flags|=16384,s={getSnapshot:l,value:d},l=ft.updateQueue,l===null?(l=eg(),ft.updateQueue=l,l.stores=[s]):(d=l.stores,d===null?l.stores=[s]:d.push(s))}function AN(s,l,d,g){l.value=d,l.getSnapshot=g,ON(l)&&DN(s)}function RN(s,l,d){return d(function(){ON(l)&&DN(s)})}function ON(s){var l=s.getSnapshot;s=s.value;try{var d=l();return!Na(s,d)}catch{return!0}}function DN(s){var l=ac(s,2);l!==null&&pa(l,s,2)}function b0(s){var l=Wn();if(typeof s=="function"){var d=s;if(s=d(),pc){rr(!0);try{d()}finally{rr(!1)}}}return l.memoizedState=l.baseState=s,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:s},l}function MN(s,l,d,g){return s.baseState=d,v0(s,nr,typeof g=="function"?g:qs)}function Y9(s,l,d,g,C){if(ig(s))throw Error(n(485));if(s=l.action,s!==null){var E={payload:C,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(L){E.listeners.push(L)}};O.T!==null?d(!0):E.isTransition=!1,g(E),d=l.pending,d===null?(E.next=l.pending=E,LN(l,E)):(E.next=d.next,l.pending=d.next=E)}}function LN(s,l){var d=l.action,g=l.payload,C=s.state;if(l.isTransition){var E=O.T,L={};O.T=L;try{var U=d(C,g),Q=O.S;Q!==null&&Q(L,U),IN(s,l,U)}catch(ue){_0(s,l,ue)}finally{E!==null&&L.types!==null&&(E.types=L.types),O.T=E}}else try{E=d(C,g),IN(s,l,E)}catch(ue){_0(s,l,ue)}}function IN(s,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(g){$N(s,l,g)},function(g){return _0(s,l,g)}):$N(s,l,d)}function $N(s,l,d){l.status="fulfilled",l.value=d,BN(l),s.state=d,l=s.pending,l!==null&&(d=l.next,d===l?s.pending=null:(d=d.next,l.next=d,LN(s,d)))}function _0(s,l,d){var g=s.pending;if(s.pending=null,g!==null){g=g.next;do l.status="rejected",l.reason=d,BN(l),l=l.next;while(l!==g)}s.action=null}function BN(s){s=s.listeners;for(var l=0;l<s.length;l++)(0,s[l])()}function zN(s,l){return l}function FN(s,l){if(Rt){var d=lr.formState;if(d!==null){e:{var g=ft;if(Rt){if(vr){t:{for(var C=vr,E=Za;C.nodeType!==8;){if(!E){C=null;break t}if(C=ei(C.nextSibling),C===null){C=null;break t}}E=C.data,C=E==="F!"||E==="F"?C:null}if(C){vr=ei(C.nextSibling),g=C.data==="F!";break e}}Qo(g)}g=!1}g&&(l=d[0])}}return d=Wn(),d.memoizedState=d.baseState=l,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zN,lastRenderedState:l},d.queue=g,d=sE.bind(null,ft,g),g.dispatch=d,g=b0(!1),E=k0.bind(null,ft,!1,g.queue),g=Wn(),C={state:l,dispatch:null,action:s,pending:null},g.queue=C,d=Y9.bind(null,ft,C,E,d),C.dispatch=d,g.memoizedState=s,[l,d,!1]}function qN(s){var l=qr();return UN(l,nr,s)}function UN(s,l,d){if(l=v0(s,l,zN)[0],s=rg(qs)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var g=Bf(l)}catch(L){throw L===Lu?Km:L}else g=l;l=qr();var C=l.queue,E=C.dispatch;return d!==l.memoizedState&&(ft.flags|=2048,Fu(9,{destroy:void 0},Q9.bind(null,C,d),null)),[g,E,s]}function Q9(s,l){s.action=l}function HN(s){var l=qr(),d=nr;if(d!==null)return UN(l,d,s);qr(),l=l.memoizedState,d=qr();var g=d.queue.dispatch;return d.memoizedState=s,[l,g,!1]}function Fu(s,l,d,g){return s={tag:s,create:d,deps:g,inst:l,next:null},l=ft.updateQueue,l===null&&(l=eg(),ft.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=s.next=s:(g=d.next,d.next=s,s.next=g,l.lastEffect=s),s}function WN(){return qr().memoizedState}function ng(s,l,d,g){var C=Wn();ft.flags|=s,C.memoizedState=Fu(1|l,{destroy:void 0},d,g===void 0?null:g)}function ag(s,l,d,g){var C=qr();g=g===void 0?null:g;var E=C.memoizedState.inst;nr!==null&&g!==null&&d0(g,nr.memoizedState.deps)?C.memoizedState=Fu(l,E,d,g):(ft.flags|=s,C.memoizedState=Fu(1|l,E,d,g))}function KN(s,l){ng(8390656,8,s,l)}function x0(s,l){ag(2048,8,s,l)}function X9(s){ft.flags|=4;var l=ft.updateQueue;if(l===null)l=eg(),ft.updateQueue=l,l.events=[s];else{var d=l.events;d===null?l.events=[s]:d.push(s)}}function GN(s){var l=qr().memoizedState;return X9({ref:l,nextImpl:s}),function(){if((Vt&2)!==0)throw Error(n(440));return l.impl.apply(void 0,arguments)}}function VN(s,l){return ag(4,2,s,l)}function YN(s,l){return ag(4,4,s,l)}function QN(s,l){if(typeof l=="function"){s=s();var d=l(s);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function XN(s,l,d){d=d!=null?d.concat([s]):null,ag(4,4,QN.bind(null,l,s),d)}function w0(){}function ZN(s,l){var d=qr();l=l===void 0?null:l;var g=d.memoizedState;return l!==null&&d0(l,g[1])?g[0]:(d.memoizedState=[s,l],s)}function JN(s,l){var d=qr();l=l===void 0?null:l;var g=d.memoizedState;if(l!==null&&d0(l,g[1]))return g[0];if(g=s(),pc){rr(!0);try{s()}finally{rr(!1)}}return d.memoizedState=[g,l],g}function S0(s,l,d){return d===void 0||(Fs&1073741824)!==0&&(Et&261930)===0?s.memoizedState=l:(s.memoizedState=d,s=eT(),ft.lanes|=s,il|=s,d)}function eE(s,l,d,g){return Na(d,l)?d:$u.current!==null?(s=S0(s,d,g),Na(s,l)||(Gr=!0),s):(Fs&42)===0||(Fs&1073741824)!==0&&(Et&261930)===0?(Gr=!0,s.memoizedState=d):(s=eT(),ft.lanes|=s,il|=s,l)}function tE(s,l,d,g,C){var E=$.p;$.p=E!==0&&8>E?E:8;var L=O.T,U={};O.T=U,k0(s,!1,l,d);try{var Q=C(),ue=O.S;if(ue!==null&&ue(U,Q),Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var ve=K9(Q,g);zf(s,l,ve,Oa(s))}else zf(s,l,g,Oa(s))}catch(_e){zf(s,l,{then:function(){},status:"rejected",reason:_e},Oa())}finally{$.p=E,L!==null&&U.types!==null&&(L.types=U.types),O.T=L}}function Z9(){}function j0(s,l,d,g){if(s.tag!==5)throw Error(n(476));var C=rE(s).queue;tE(s,C,l,K,d===null?Z9:function(){return nE(s),d(g)})}function rE(s){var l=s.memoizedState;if(l!==null)return l;l={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:K},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:d},next:null},s.memoizedState=l,s=s.alternate,s!==null&&(s.memoizedState=l),l}function nE(s){var l=rE(s);l.next===null&&(l=s.alternate.memoizedState),zf(s,l.next.queue,{},Oa())}function C0(){return Cn(np)}function aE(){return qr().memoizedState}function iE(){return qr().memoizedState}function J9(s){for(var l=s.return;l!==null;){switch(l.tag){case 24:case 3:var d=Oa();s=Jo(d);var g=el(l,s,d);g!==null&&(pa(g,l,d),Mf(g,l,d)),l={cache:e0()},s.payload=l;return}l=l.return}}function eB(s,l,d){var g=Oa();d={lane:g,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},ig(s)?oE(l,d):(d=U_(s,l,d,g),d!==null&&(pa(d,s,g),lE(d,l,g)))}function sE(s,l,d){var g=Oa();zf(s,l,d,g)}function zf(s,l,d,g){var C={lane:g,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(ig(s))oE(l,C);else{var E=s.alternate;if(s.lanes===0&&(E===null||E.lanes===0)&&(E=l.lastRenderedReducer,E!==null))try{var L=l.lastRenderedState,U=E(L,d);if(C.hasEagerState=!0,C.eagerState=U,Na(U,L))return Bm(s,l,C,0),lr===null&&$m(),!1}catch{}finally{}if(d=U_(s,l,C,g),d!==null)return pa(d,s,g),lE(d,l,g),!0}return!1}function k0(s,l,d,g){if(g={lane:2,revertLane:a1(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},ig(s)){if(l)throw Error(n(479))}else l=U_(s,d,g,2),l!==null&&pa(l,s,2)}function ig(s){var l=s.alternate;return s===ft||l!==null&&l===ft}function oE(s,l){Bu=Zm=!0;var d=s.pending;d===null?l.next=l:(l.next=d.next,d.next=l),s.pending=l}function lE(s,l,d){if((d&4194048)!==0){var g=l.lanes;g&=s.pendingLanes,d|=g,l.lanes=d,re(s,d)}}var Ff={readContext:Cn,use:tg,useCallback:Pr,useContext:Pr,useEffect:Pr,useImperativeHandle:Pr,useLayoutEffect:Pr,useInsertionEffect:Pr,useMemo:Pr,useReducer:Pr,useRef:Pr,useState:Pr,useDebugValue:Pr,useDeferredValue:Pr,useTransition:Pr,useSyncExternalStore:Pr,useId:Pr,useHostTransitionStatus:Pr,useFormState:Pr,useActionState:Pr,useOptimistic:Pr,useMemoCache:Pr,useCacheRefresh:Pr};Ff.useEffectEvent=Pr;var cE={readContext:Cn,use:tg,useCallback:function(s,l){return Wn().memoizedState=[s,l===void 0?null:l],s},useContext:Cn,useEffect:KN,useImperativeHandle:function(s,l,d){d=d!=null?d.concat([s]):null,ng(4194308,4,QN.bind(null,l,s),d)},useLayoutEffect:function(s,l){return ng(4194308,4,s,l)},useInsertionEffect:function(s,l){ng(4,2,s,l)},useMemo:function(s,l){var d=Wn();l=l===void 0?null:l;var g=s();if(pc){rr(!0);try{s()}finally{rr(!1)}}return d.memoizedState=[g,l],g},useReducer:function(s,l,d){var g=Wn();if(d!==void 0){var C=d(l);if(pc){rr(!0);try{d(l)}finally{rr(!1)}}}else C=l;return g.memoizedState=g.baseState=C,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:C},g.queue=s,s=s.dispatch=eB.bind(null,ft,s),[g.memoizedState,s]},useRef:function(s){var l=Wn();return s={current:s},l.memoizedState=s},useState:function(s){s=b0(s);var l=s.queue,d=sE.bind(null,ft,l);return l.dispatch=d,[s.memoizedState,d]},useDebugValue:w0,useDeferredValue:function(s,l){var d=Wn();return S0(d,s,l)},useTransition:function(){var s=b0(!1);return s=tE.bind(null,ft,s.queue,!0,!1),Wn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,l,d){var g=ft,C=Wn();if(Rt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=l(),lr===null)throw Error(n(349));(Et&127)!==0||PN(g,l,d)}C.memoizedState=d;var E={value:d,getSnapshot:l};return C.queue=E,KN(RN.bind(null,g,E,s),[s]),g.flags|=2048,Fu(9,{destroy:void 0},AN.bind(null,g,E,d,l),null),d},useId:function(){var s=Wn(),l=lr.identifierPrefix;if(Rt){var d=ts,g=es;d=(g&~(1<<32-xr(g)-1)).toString(32)+d,l="_"+l+"R_"+d,d=Jm++,0<d&&(l+="H"+d.toString(32)),l+="_"}else d=G9++,l="_"+l+"r_"+d.toString(32)+"_";return s.memoizedState=l},useHostTransitionStatus:C0,useFormState:FN,useActionState:FN,useOptimistic:function(s){var l=Wn();l.memoizedState=l.baseState=s;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=k0.bind(null,ft,!0,d),d.dispatch=l,[s,l]},useMemoCache:g0,useCacheRefresh:function(){return Wn().memoizedState=J9.bind(null,ft)},useEffectEvent:function(s){var l=Wn(),d={impl:s};return l.memoizedState=d,function(){if((Vt&2)!==0)throw Error(n(440));return d.impl.apply(void 0,arguments)}}},N0={readContext:Cn,use:tg,useCallback:ZN,useContext:Cn,useEffect:x0,useImperativeHandle:XN,useInsertionEffect:VN,useLayoutEffect:YN,useMemo:JN,useReducer:rg,useRef:WN,useState:function(){return rg(qs)},useDebugValue:w0,useDeferredValue:function(s,l){var d=qr();return eE(d,nr.memoizedState,s,l)},useTransition:function(){var s=rg(qs)[0],l=qr().memoizedState;return[typeof s=="boolean"?s:Bf(s),l]},useSyncExternalStore:TN,useId:aE,useHostTransitionStatus:C0,useFormState:qN,useActionState:qN,useOptimistic:function(s,l){var d=qr();return MN(d,nr,s,l)},useMemoCache:g0,useCacheRefresh:iE};N0.useEffectEvent=GN;var uE={readContext:Cn,use:tg,useCallback:ZN,useContext:Cn,useEffect:x0,useImperativeHandle:XN,useInsertionEffect:VN,useLayoutEffect:YN,useMemo:JN,useReducer:y0,useRef:WN,useState:function(){return y0(qs)},useDebugValue:w0,useDeferredValue:function(s,l){var d=qr();return nr===null?S0(d,s,l):eE(d,nr.memoizedState,s,l)},useTransition:function(){var s=y0(qs)[0],l=qr().memoizedState;return[typeof s=="boolean"?s:Bf(s),l]},useSyncExternalStore:TN,useId:aE,useHostTransitionStatus:C0,useFormState:HN,useActionState:HN,useOptimistic:function(s,l){var d=qr();return nr!==null?MN(d,nr,s,l):(d.baseState=s,[s,d.queue.dispatch])},useMemoCache:g0,useCacheRefresh:iE};uE.useEffectEvent=GN;function E0(s,l,d,g){l=s.memoizedState,d=d(g,l),d=d==null?l:m({},l,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var T0={enqueueSetState:function(s,l,d){s=s._reactInternals;var g=Oa(),C=Jo(g);C.payload=l,d!=null&&(C.callback=d),l=el(s,C,g),l!==null&&(pa(l,s,g),Mf(l,s,g))},enqueueReplaceState:function(s,l,d){s=s._reactInternals;var g=Oa(),C=Jo(g);C.tag=1,C.payload=l,d!=null&&(C.callback=d),l=el(s,C,g),l!==null&&(pa(l,s,g),Mf(l,s,g))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var d=Oa(),g=Jo(d);g.tag=2,l!=null&&(g.callback=l),l=el(s,g,d),l!==null&&(pa(l,s,d),Mf(l,s,d))}};function dE(s,l,d,g,C,E,L){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,E,L):l.prototype&&l.prototype.isPureReactComponent?!Nf(d,g)||!Nf(C,E):!0}function fE(s,l,d,g){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,g),l.state!==s&&T0.enqueueReplaceState(l,l.state,null)}function hc(s,l){var d=l;if("ref"in l){d={};for(var g in l)g!=="ref"&&(d[g]=l[g])}if(s=s.defaultProps){d===l&&(d=m({},d));for(var C in s)d[C]===void 0&&(d[C]=s[C])}return d}function pE(s){Im(s)}function hE(s){console.error(s)}function mE(s){Im(s)}function sg(s,l){try{var d=s.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(g){setTimeout(function(){throw g})}}function gE(s,l,d){try{var g=s.onCaughtError;g(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(C){setTimeout(function(){throw C})}}function P0(s,l,d){return d=Jo(d),d.tag=3,d.payload={element:null},d.callback=function(){sg(s,l)},d}function vE(s){return s=Jo(s),s.tag=3,s}function yE(s,l,d,g){var C=d.type.getDerivedStateFromError;if(typeof C=="function"){var E=g.value;s.payload=function(){return C(E)},s.callback=function(){gE(l,d,g)}}var L=d.stateNode;L!==null&&typeof L.componentDidCatch=="function"&&(s.callback=function(){gE(l,d,g),typeof C!="function"&&(sl===null?sl=new Set([this]):sl.add(this));var U=g.stack;this.componentDidCatch(g.value,{componentStack:U!==null?U:""})})}function tB(s,l,d,g,C){if(d.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(l=d.alternate,l!==null&&Ou(l,d,C,!0),d=Ta.current,d!==null){switch(d.tag){case 31:case 13:return Ja===null?yg():d.alternate===null&&Ar===0&&(Ar=3),d.flags&=-257,d.flags|=65536,d.lanes=C,g===Gm?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([g]):l.add(g),t1(s,g,C)),!1;case 22:return d.flags|=65536,g===Gm?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([g])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([g]):d.add(g)),t1(s,g,C)),!1}throw Error(n(435,d.tag))}return t1(s,g,C),yg(),!1}if(Rt)return l=Ta.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=C,g!==Y_&&(s=Error(n(422),{cause:g}),Pf(Ya(s,d)))):(g!==Y_&&(l=Error(n(423),{cause:g}),Pf(Ya(l,d))),s=s.current.alternate,s.flags|=65536,C&=-C,s.lanes|=C,g=Ya(g,d),C=P0(s.stateNode,g,C),s0(s,C),Ar!==4&&(Ar=2)),!1;var E=Error(n(520),{cause:g});if(E=Ya(E,d),Yf===null?Yf=[E]:Yf.push(E),Ar!==4&&(Ar=2),l===null)return!0;g=Ya(g,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,s=C&-C,d.lanes|=s,s=P0(d.stateNode,g,s),s0(d,s),!1;case 1:if(l=d.type,E=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(sl===null||!sl.has(E))))return d.flags|=65536,C&=-C,d.lanes|=C,C=vE(C),yE(C,s,d,g),s0(d,C),!1}d=d.return}while(d!==null);return!1}var A0=Error(n(461)),Gr=!1;function kn(s,l,d,g){l.child=s===null?wN(l,null,d,g):fc(l,s.child,d,g)}function bE(s,l,d,g,C){d=d.render;var E=l.ref;if("ref"in g){var L={};for(var U in g)U!=="ref"&&(L[U]=g[U])}else L=g;return lc(l),g=f0(s,l,d,L,E,C),U=p0(),s!==null&&!Gr?(h0(s,l,C),Us(s,l,C)):(Rt&&U&&G_(l),l.flags|=1,kn(s,l,g,C),l.child)}function _E(s,l,d,g,C){if(s===null){var E=d.type;return typeof E=="function"&&!H_(E)&&E.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=E,xE(s,l,E,g,C)):(s=Fm(d.type,null,g,l,l.mode,C),s.ref=l.ref,s.return=l,l.child=s)}if(E=s.child,!B0(s,C)){var L=E.memoizedProps;if(d=d.compare,d=d!==null?d:Nf,d(L,g)&&s.ref===l.ref)return Us(s,l,C)}return l.flags|=1,s=Is(E,g),s.ref=l.ref,s.return=l,l.child=s}function xE(s,l,d,g,C){if(s!==null){var E=s.memoizedProps;if(Nf(E,g)&&s.ref===l.ref)if(Gr=!1,l.pendingProps=g=E,B0(s,C))(s.flags&131072)!==0&&(Gr=!0);else return l.lanes=s.lanes,Us(s,l,C)}return R0(s,l,d,g,C)}function wE(s,l,d,g){var C=g.children,E=s!==null?s.memoizedState:null;if(s===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((l.flags&128)!==0){if(E=E!==null?E.baseLanes|d:d,s!==null){for(g=l.child=s.child,C=0;g!==null;)C=C|g.lanes|g.childLanes,g=g.sibling;g=C&~E}else g=0,l.child=null;return SE(s,l,E,d,g)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},s!==null&&Wm(l,E!==null?E.cachePool:null),E!==null?CN(l,E):l0(),kN(l);else return g=l.lanes=536870912,SE(s,l,E!==null?E.baseLanes|d:d,d,g)}else E!==null?(Wm(l,E.cachePool),CN(l,E),rl(),l.memoizedState=null):(s!==null&&Wm(l,null),l0(),rl());return kn(s,l,C,d),l.child}function qf(s,l){return s!==null&&s.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function SE(s,l,d,g,C){var E=r0();return E=E===null?null:{parent:Wr._currentValue,pool:E},l.memoizedState={baseLanes:d,cachePool:E},s!==null&&Wm(l,null),l0(),kN(l),s!==null&&Ou(s,l,g,!0),l.childLanes=C,null}function og(s,l){return l=cg({mode:l.mode,children:l.children},s.mode),l.ref=s.ref,s.child=l,l.return=s,l}function jE(s,l,d){return fc(l,s.child,null,d),s=og(l,l.pendingProps),s.flags|=2,Pa(l),l.memoizedState=null,s}function rB(s,l,d){var g=l.pendingProps,C=(l.flags&128)!==0;if(l.flags&=-129,s===null){if(Rt){if(g.mode==="hidden")return s=og(l,g),l.lanes=536870912,qf(null,s);if(u0(l),(s=vr)?(s=LT(s,Za),s=s!==null&&s.data==="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:Vo!==null?{id:es,overflow:ts}:null,retryLane:536870912,hydrationErrors:null},d=oN(s),d.return=l,l.child=d,jn=l,vr=null)):s=null,s===null)throw Qo(l);return l.lanes=536870912,null}return og(l,g)}var E=s.memoizedState;if(E!==null){var L=E.dehydrated;if(u0(l),C)if(l.flags&256)l.flags&=-257,l=jE(s,l,d);else if(l.memoizedState!==null)l.child=s.child,l.flags|=128,l=null;else throw Error(n(558));else if(Gr||Ou(s,l,d,!1),C=(d&s.childLanes)!==0,Gr||C){if(g=lr,g!==null&&(L=Ke(g,d),L!==0&&L!==E.retryLane))throw E.retryLane=L,ac(s,L),pa(g,s,L),A0;yg(),l=jE(s,l,d)}else s=E.treeContext,vr=ei(L.nextSibling),jn=l,Rt=!0,Yo=null,Za=!1,s!==null&&uN(l,s),l=og(l,g),l.flags|=4096;return l}return s=Is(s.child,{mode:g.mode,children:g.children}),s.ref=l.ref,l.child=s,s.return=l,s}function lg(s,l){var d=l.ref;if(d===null)s!==null&&s.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(n(284));(s===null||s.ref!==d)&&(l.flags|=4194816)}}function R0(s,l,d,g,C){return lc(l),d=f0(s,l,d,g,void 0,C),g=p0(),s!==null&&!Gr?(h0(s,l,C),Us(s,l,C)):(Rt&&g&&G_(l),l.flags|=1,kn(s,l,d,C),l.child)}function CE(s,l,d,g,C,E){return lc(l),l.updateQueue=null,d=EN(l,g,d,C),NN(s),g=p0(),s!==null&&!Gr?(h0(s,l,E),Us(s,l,E)):(Rt&&g&&G_(l),l.flags|=1,kn(s,l,d,E),l.child)}function kE(s,l,d,g,C){if(lc(l),l.stateNode===null){var E=Tu,L=d.contextType;typeof L=="object"&&L!==null&&(E=Cn(L)),E=new d(g,E),l.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=T0,l.stateNode=E,E._reactInternals=l,E=l.stateNode,E.props=g,E.state=l.memoizedState,E.refs={},a0(l),L=d.contextType,E.context=typeof L=="object"&&L!==null?Cn(L):Tu,E.state=l.memoizedState,L=d.getDerivedStateFromProps,typeof L=="function"&&(E0(l,d,L,g),E.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(L=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),L!==E.state&&T0.enqueueReplaceState(E,E.state,null),If(l,g,E,C),Lf(),E.state=l.memoizedState),typeof E.componentDidMount=="function"&&(l.flags|=4194308),g=!0}else if(s===null){E=l.stateNode;var U=l.memoizedProps,Q=hc(d,U);E.props=Q;var ue=E.context,ve=d.contextType;L=Tu,typeof ve=="object"&&ve!==null&&(L=Cn(ve));var _e=d.getDerivedStateFromProps;ve=typeof _e=="function"||typeof E.getSnapshotBeforeUpdate=="function",U=l.pendingProps!==U,ve||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(U||ue!==L)&&fE(l,E,g,L),Zo=!1;var de=l.memoizedState;E.state=de,If(l,g,E,C),Lf(),ue=l.memoizedState,U||de!==ue||Zo?(typeof _e=="function"&&(E0(l,d,_e,g),ue=l.memoizedState),(Q=Zo||dE(l,d,Q,g,de,ue,L))?(ve||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(l.flags|=4194308)):(typeof E.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=ue),E.props=g,E.state=ue,E.context=L,g=Q):(typeof E.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{E=l.stateNode,i0(s,l),L=l.memoizedProps,ve=hc(d,L),E.props=ve,_e=l.pendingProps,de=E.context,ue=d.contextType,Q=Tu,typeof ue=="object"&&ue!==null&&(Q=Cn(ue)),U=d.getDerivedStateFromProps,(ue=typeof U=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(L!==_e||de!==Q)&&fE(l,E,g,Q),Zo=!1,de=l.memoizedState,E.state=de,If(l,g,E,C),Lf();var he=l.memoizedState;L!==_e||de!==he||Zo||s!==null&&s.dependencies!==null&&Um(s.dependencies)?(typeof U=="function"&&(E0(l,d,U,g),he=l.memoizedState),(ve=Zo||dE(l,d,ve,g,de,he,Q)||s!==null&&s.dependencies!==null&&Um(s.dependencies))?(ue||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(g,he,Q),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(g,he,Q)),typeof E.componentDidUpdate=="function"&&(l.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof E.componentDidUpdate!="function"||L===s.memoizedProps&&de===s.memoizedState||(l.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||L===s.memoizedProps&&de===s.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=he),E.props=g,E.state=he,E.context=Q,g=ve):(typeof E.componentDidUpdate!="function"||L===s.memoizedProps&&de===s.memoizedState||(l.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||L===s.memoizedProps&&de===s.memoizedState||(l.flags|=1024),g=!1)}return E=g,lg(s,l),g=(l.flags&128)!==0,E||g?(E=l.stateNode,d=g&&typeof d.getDerivedStateFromError!="function"?null:E.render(),l.flags|=1,s!==null&&g?(l.child=fc(l,s.child,null,C),l.child=fc(l,null,d,C)):kn(s,l,d,C),l.memoizedState=E.state,s=l.child):s=Us(s,l,C),s}function NE(s,l,d,g){return sc(),l.flags|=256,kn(s,l,d,g),l.child}var O0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function D0(s){return{baseLanes:s,cachePool:gN()}}function M0(s,l,d){return s=s!==null?s.childLanes&~d:0,l&&(s|=Ra),s}function EE(s,l,d){var g=l.pendingProps,C=!1,E=(l.flags&128)!==0,L;if((L=E)||(L=s!==null&&s.memoizedState===null?!1:(Fr.current&2)!==0),L&&(C=!0,l.flags&=-129),L=(l.flags&32)!==0,l.flags&=-33,s===null){if(Rt){if(C?tl(l):rl(),(s=vr)?(s=LT(s,Za),s=s!==null&&s.data!=="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:Vo!==null?{id:es,overflow:ts}:null,retryLane:536870912,hydrationErrors:null},d=oN(s),d.return=l,l.child=d,jn=l,vr=null)):s=null,s===null)throw Qo(l);return v1(s)?l.lanes=32:l.lanes=536870912,null}var U=g.children;return g=g.fallback,C?(rl(),C=l.mode,U=cg({mode:"hidden",children:U},C),g=ic(g,C,d,null),U.return=l,g.return=l,U.sibling=g,l.child=U,g=l.child,g.memoizedState=D0(d),g.childLanes=M0(s,L,d),l.memoizedState=O0,qf(null,g)):(tl(l),L0(l,U))}var Q=s.memoizedState;if(Q!==null&&(U=Q.dehydrated,U!==null)){if(E)l.flags&256?(tl(l),l.flags&=-257,l=I0(s,l,d)):l.memoizedState!==null?(rl(),l.child=s.child,l.flags|=128,l=null):(rl(),U=g.fallback,C=l.mode,g=cg({mode:"visible",children:g.children},C),U=ic(U,C,d,null),U.flags|=2,g.return=l,U.return=l,g.sibling=U,l.child=g,fc(l,s.child,null,d),g=l.child,g.memoizedState=D0(d),g.childLanes=M0(s,L,d),l.memoizedState=O0,l=qf(null,g));else if(tl(l),v1(U)){if(L=U.nextSibling&&U.nextSibling.dataset,L)var ue=L.dgst;L=ue,g=Error(n(419)),g.stack="",g.digest=L,Pf({value:g,source:null,stack:null}),l=I0(s,l,d)}else if(Gr||Ou(s,l,d,!1),L=(d&s.childLanes)!==0,Gr||L){if(L=lr,L!==null&&(g=Ke(L,d),g!==0&&g!==Q.retryLane))throw Q.retryLane=g,ac(s,g),pa(L,s,g),A0;g1(U)||yg(),l=I0(s,l,d)}else g1(U)?(l.flags|=192,l.child=s.child,l=null):(s=Q.treeContext,vr=ei(U.nextSibling),jn=l,Rt=!0,Yo=null,Za=!1,s!==null&&uN(l,s),l=L0(l,g.children),l.flags|=4096);return l}return C?(rl(),U=g.fallback,C=l.mode,Q=s.child,ue=Q.sibling,g=Is(Q,{mode:"hidden",children:g.children}),g.subtreeFlags=Q.subtreeFlags&65011712,ue!==null?U=Is(ue,U):(U=ic(U,C,d,null),U.flags|=2),U.return=l,g.return=l,g.sibling=U,l.child=g,qf(null,g),g=l.child,U=s.child.memoizedState,U===null?U=D0(d):(C=U.cachePool,C!==null?(Q=Wr._currentValue,C=C.parent!==Q?{parent:Q,pool:Q}:C):C=gN(),U={baseLanes:U.baseLanes|d,cachePool:C}),g.memoizedState=U,g.childLanes=M0(s,L,d),l.memoizedState=O0,qf(s.child,g)):(tl(l),d=s.child,s=d.sibling,d=Is(d,{mode:"visible",children:g.children}),d.return=l,d.sibling=null,s!==null&&(L=l.deletions,L===null?(l.deletions=[s],l.flags|=16):L.push(s)),l.child=d,l.memoizedState=null,d)}function L0(s,l){return l=cg({mode:"visible",children:l},s.mode),l.return=s,s.child=l}function cg(s,l){return s=Ea(22,s,null,l),s.lanes=0,s}function I0(s,l,d){return fc(l,s.child,null,d),s=L0(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function TE(s,l,d){s.lanes|=l;var g=s.alternate;g!==null&&(g.lanes|=l),Z_(s.return,l,d)}function $0(s,l,d,g,C,E){var L=s.memoizedState;L===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:C,treeForkCount:E}:(L.isBackwards=l,L.rendering=null,L.renderingStartTime=0,L.last=g,L.tail=d,L.tailMode=C,L.treeForkCount=E)}function PE(s,l,d){var g=l.pendingProps,C=g.revealOrder,E=g.tail;g=g.children;var L=Fr.current,U=(L&2)!==0;if(U?(L=L&1|2,l.flags|=128):L&=1,te(Fr,L),kn(s,l,g,d),g=Rt?Tf:0,!U&&s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&TE(s,d,l);else if(s.tag===19)TE(s,d,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(C){case"forwards":for(d=l.child,C=null;d!==null;)s=d.alternate,s!==null&&Xm(s)===null&&(C=d),d=d.sibling;d=C,d===null?(C=l.child,l.child=null):(C=d.sibling,d.sibling=null),$0(l,!1,C,d,E,g);break;case"backwards":case"unstable_legacy-backwards":for(d=null,C=l.child,l.child=null;C!==null;){if(s=C.alternate,s!==null&&Xm(s)===null){l.child=C;break}s=C.sibling,C.sibling=d,d=C,C=s}$0(l,!0,d,null,E,g);break;case"together":$0(l,!1,null,null,void 0,g);break;default:l.memoizedState=null}return l.child}function Us(s,l,d){if(s!==null&&(l.dependencies=s.dependencies),il|=l.lanes,(d&l.childLanes)===0)if(s!==null){if(Ou(s,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(s!==null&&l.child!==s.child)throw Error(n(153));if(l.child!==null){for(s=l.child,d=Is(s,s.pendingProps),l.child=d,d.return=l;s.sibling!==null;)s=s.sibling,d=d.sibling=Is(s,s.pendingProps),d.return=l;d.sibling=null}return l.child}function B0(s,l){return(s.lanes&l)!==0?!0:(s=s.dependencies,!!(s!==null&&Um(s)))}function nB(s,l,d){switch(l.tag){case 3:He(l,l.stateNode.containerInfo),Xo(l,Wr,s.memoizedState.cache),sc();break;case 27:case 5:we(l);break;case 4:He(l,l.stateNode.containerInfo);break;case 10:Xo(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,u0(l),null;break;case 13:var g=l.memoizedState;if(g!==null)return g.dehydrated!==null?(tl(l),l.flags|=128,null):(d&l.child.childLanes)!==0?EE(s,l,d):(tl(l),s=Us(s,l,d),s!==null?s.sibling:null);tl(l);break;case 19:var C=(s.flags&128)!==0;if(g=(d&l.childLanes)!==0,g||(Ou(s,l,d,!1),g=(d&l.childLanes)!==0),C){if(g)return PE(s,l,d);l.flags|=128}if(C=l.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),te(Fr,Fr.current),g)break;return null;case 22:return l.lanes=0,wE(s,l,d,l.pendingProps);case 24:Xo(l,Wr,s.memoizedState.cache)}return Us(s,l,d)}function AE(s,l,d){if(s!==null)if(s.memoizedProps!==l.pendingProps)Gr=!0;else{if(!B0(s,d)&&(l.flags&128)===0)return Gr=!1,nB(s,l,d);Gr=(s.flags&131072)!==0}else Gr=!1,Rt&&(l.flags&1048576)!==0&&cN(l,Tf,l.index);switch(l.lanes=0,l.tag){case 16:e:{var g=l.pendingProps;if(s=uc(l.elementType),l.type=s,typeof s=="function")H_(s)?(g=hc(s,g),l.tag=1,l=kE(null,l,s,g,d)):(l.tag=0,l=R0(null,l,s,g,d));else{if(s!=null){var C=s.$$typeof;if(C===N){l.tag=11,l=bE(null,l,s,g,d);break e}else if(C===k){l.tag=14,l=_E(null,l,s,g,d);break e}}throw l=F(s)||s,Error(n(306,l,""))}}return l;case 0:return R0(s,l,l.type,l.pendingProps,d);case 1:return g=l.type,C=hc(g,l.pendingProps),kE(s,l,g,C,d);case 3:e:{if(He(l,l.stateNode.containerInfo),s===null)throw Error(n(387));g=l.pendingProps;var E=l.memoizedState;C=E.element,i0(s,l),If(l,g,null,d);var L=l.memoizedState;if(g=L.cache,Xo(l,Wr,g),g!==E.cache&&J_(l,[Wr],d,!0),Lf(),g=L.element,E.isDehydrated)if(E={element:g,isDehydrated:!1,cache:L.cache},l.updateQueue.baseState=E,l.memoizedState=E,l.flags&256){l=NE(s,l,g,d);break e}else if(g!==C){C=Ya(Error(n(424)),l),Pf(C),l=NE(s,l,g,d);break e}else{switch(s=l.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(vr=ei(s.firstChild),jn=l,Rt=!0,Yo=null,Za=!0,d=wN(l,null,g,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(sc(),g===C){l=Us(s,l,d);break e}kn(s,l,g,d)}l=l.child}return l;case 26:return lg(s,l),s===null?(d=qT(l.type,null,l.pendingProps,null))?l.memoizedState=d:Rt||(d=l.type,s=l.pendingProps,g=Cg(ke.current).createElement(d),g[bt]=l,g[or]=s,Nn(g,d,s),dn(g),l.stateNode=g):l.memoizedState=qT(l.type,s.memoizedProps,l.pendingProps,s.memoizedState),null;case 27:return we(l),s===null&&Rt&&(g=l.stateNode=BT(l.type,l.pendingProps,ke.current),jn=l,Za=!0,C=vr,ul(l.type)?(y1=C,vr=ei(g.firstChild)):vr=C),kn(s,l,l.pendingProps.children,d),lg(s,l),s===null&&(l.flags|=4194304),l.child;case 5:return s===null&&Rt&&((C=g=vr)&&(g=OB(g,l.type,l.pendingProps,Za),g!==null?(l.stateNode=g,jn=l,vr=ei(g.firstChild),Za=!1,C=!0):C=!1),C||Qo(l)),we(l),C=l.type,E=l.pendingProps,L=s!==null?s.memoizedProps:null,g=E.children,p1(C,E)?g=null:L!==null&&p1(C,L)&&(l.flags|=32),l.memoizedState!==null&&(C=f0(s,l,V9,null,null,d),np._currentValue=C),lg(s,l),kn(s,l,g,d),l.child;case 6:return s===null&&Rt&&((s=d=vr)&&(d=DB(d,l.pendingProps,Za),d!==null?(l.stateNode=d,jn=l,vr=null,s=!0):s=!1),s||Qo(l)),null;case 13:return EE(s,l,d);case 4:return He(l,l.stateNode.containerInfo),g=l.pendingProps,s===null?l.child=fc(l,null,g,d):kn(s,l,g,d),l.child;case 11:return bE(s,l,l.type,l.pendingProps,d);case 7:return kn(s,l,l.pendingProps,d),l.child;case 8:return kn(s,l,l.pendingProps.children,d),l.child;case 12:return kn(s,l,l.pendingProps.children,d),l.child;case 10:return g=l.pendingProps,Xo(l,l.type,g.value),kn(s,l,g.children,d),l.child;case 9:return C=l.type._context,g=l.pendingProps.children,lc(l),C=Cn(C),g=g(C),l.flags|=1,kn(s,l,g,d),l.child;case 14:return _E(s,l,l.type,l.pendingProps,d);case 15:return xE(s,l,l.type,l.pendingProps,d);case 19:return PE(s,l,d);case 31:return rB(s,l,d);case 22:return wE(s,l,d,l.pendingProps);case 24:return lc(l),g=Cn(Wr),s===null?(C=r0(),C===null&&(C=lr,E=e0(),C.pooledCache=E,E.refCount++,E!==null&&(C.pooledCacheLanes|=d),C=E),l.memoizedState={parent:g,cache:C},a0(l),Xo(l,Wr,C)):((s.lanes&d)!==0&&(i0(s,l),If(l,null,null,d),Lf()),C=s.memoizedState,E=l.memoizedState,C.parent!==g?(C={parent:g,cache:g},l.memoizedState=C,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=C),Xo(l,Wr,g)):(g=E.cache,Xo(l,Wr,g),g!==C.cache&&J_(l,[Wr],d,!0))),kn(s,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(n(156,l.tag))}function Hs(s){s.flags|=4}function z0(s,l,d,g,C){if((l=(s.mode&32)!==0)&&(l=!1),l){if(s.flags|=16777216,(C&335544128)===C)if(s.stateNode.complete)s.flags|=8192;else if(aT())s.flags|=8192;else throw dc=Gm,n0}else s.flags&=-16777217}function RE(s,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!GT(l))if(aT())s.flags|=8192;else throw dc=Gm,n0}function ug(s,l){l!==null&&(s.flags|=4),s.flags&16384&&(l=s.tag!==22?ka():536870912,s.lanes|=l,Wu|=l)}function Uf(s,l){if(!Rt)switch(s.tailMode){case"hidden":l=s.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function yr(s){var l=s.alternate!==null&&s.alternate.child===s.child,d=0,g=0;if(l)for(var C=s.child;C!==null;)d|=C.lanes|C.childLanes,g|=C.subtreeFlags&65011712,g|=C.flags&65011712,C.return=s,C=C.sibling;else for(C=s.child;C!==null;)d|=C.lanes|C.childLanes,g|=C.subtreeFlags,g|=C.flags,C.return=s,C=C.sibling;return s.subtreeFlags|=g,s.childLanes=d,l}function aB(s,l,d){var g=l.pendingProps;switch(V_(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yr(l),null;case 1:return yr(l),null;case 3:return d=l.stateNode,g=null,s!==null&&(g=s.memoizedState.cache),l.memoizedState.cache!==g&&(l.flags|=2048),zs(Wr),J(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(Ru(l)?Hs(l):s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Q_())),yr(l),null;case 26:var C=l.type,E=l.memoizedState;return s===null?(Hs(l),E!==null?(yr(l),RE(l,E)):(yr(l),z0(l,C,null,g,d))):E?E!==s.memoizedState?(Hs(l),yr(l),RE(l,E)):(yr(l),l.flags&=-16777217):(s=s.memoizedProps,s!==g&&Hs(l),yr(l),z0(l,C,s,g,d)),null;case 27:if(Ne(l),d=ke.current,C=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==g&&Hs(l);else{if(!g){if(l.stateNode===null)throw Error(n(166));return yr(l),null}s=le.current,Ru(l)?dN(l):(s=BT(C,g,d),l.stateNode=s,Hs(l))}return yr(l),null;case 5:if(Ne(l),C=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==g&&Hs(l);else{if(!g){if(l.stateNode===null)throw Error(n(166));return yr(l),null}if(E=le.current,Ru(l))dN(l);else{var L=Cg(ke.current);switch(E){case 1:E=L.createElementNS("http://www.w3.org/2000/svg",C);break;case 2:E=L.createElementNS("http://www.w3.org/1998/Math/MathML",C);break;default:switch(C){case"svg":E=L.createElementNS("http://www.w3.org/2000/svg",C);break;case"math":E=L.createElementNS("http://www.w3.org/1998/Math/MathML",C);break;case"script":E=L.createElement("div"),E.innerHTML="<script><\/script>",E=E.removeChild(E.firstChild);break;case"select":E=typeof g.is=="string"?L.createElement("select",{is:g.is}):L.createElement("select"),g.multiple?E.multiple=!0:g.size&&(E.size=g.size);break;default:E=typeof g.is=="string"?L.createElement(C,{is:g.is}):L.createElement(C)}}E[bt]=l,E[or]=g;e:for(L=l.child;L!==null;){if(L.tag===5||L.tag===6)E.appendChild(L.stateNode);else if(L.tag!==4&&L.tag!==27&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===l)break e;for(;L.sibling===null;){if(L.return===null||L.return===l)break e;L=L.return}L.sibling.return=L.return,L=L.sibling}l.stateNode=E;e:switch(Nn(E,C,g),C){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&Hs(l)}}return yr(l),z0(l,l.type,s===null?null:s.memoizedProps,l.pendingProps,d),null;case 6:if(s&&l.stateNode!=null)s.memoizedProps!==g&&Hs(l);else{if(typeof g!="string"&&l.stateNode===null)throw Error(n(166));if(s=ke.current,Ru(l)){if(s=l.stateNode,d=l.memoizedProps,g=null,C=jn,C!==null)switch(C.tag){case 27:case 5:g=C.memoizedProps}s[bt]=l,s=!!(s.nodeValue===d||g!==null&&g.suppressHydrationWarning===!0||ET(s.nodeValue,d)),s||Qo(l,!0)}else s=Cg(s).createTextNode(g),s[bt]=l,l.stateNode=s}return yr(l),null;case 31:if(d=l.memoizedState,s===null||s.memoizedState!==null){if(g=Ru(l),d!==null){if(s===null){if(!g)throw Error(n(318));if(s=l.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(557));s[bt]=l}else sc(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;yr(l),s=!1}else d=Q_(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=d),s=!0;if(!s)return l.flags&256?(Pa(l),l):(Pa(l),null);if((l.flags&128)!==0)throw Error(n(558))}return yr(l),null;case 13:if(g=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(C=Ru(l),g!==null&&g.dehydrated!==null){if(s===null){if(!C)throw Error(n(318));if(C=l.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(n(317));C[bt]=l}else sc(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;yr(l),C=!1}else C=Q_(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=C),C=!0;if(!C)return l.flags&256?(Pa(l),l):(Pa(l),null)}return Pa(l),(l.flags&128)!==0?(l.lanes=d,l):(d=g!==null,s=s!==null&&s.memoizedState!==null,d&&(g=l.child,C=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(C=g.alternate.memoizedState.cachePool.pool),E=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(E=g.memoizedState.cachePool.pool),E!==C&&(g.flags|=2048)),d!==s&&d&&(l.child.flags|=8192),ug(l,l.updateQueue),yr(l),null);case 4:return J(),s===null&&l1(l.stateNode.containerInfo),yr(l),null;case 10:return zs(l.type),yr(l),null;case 19:if(X(Fr),g=l.memoizedState,g===null)return yr(l),null;if(C=(l.flags&128)!==0,E=g.rendering,E===null)if(C)Uf(g,!1);else{if(Ar!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(E=Xm(s),E!==null){for(l.flags|=128,Uf(g,!1),s=E.updateQueue,l.updateQueue=s,ug(l,s),l.subtreeFlags=0,s=d,d=l.child;d!==null;)sN(d,s),d=d.sibling;return te(Fr,Fr.current&1|2),Rt&&$s(l,g.treeForkCount),l.child}s=s.sibling}g.tail!==null&&Gt()>mg&&(l.flags|=128,C=!0,Uf(g,!1),l.lanes=4194304)}else{if(!C)if(s=Xm(E),s!==null){if(l.flags|=128,C=!0,s=s.updateQueue,l.updateQueue=s,ug(l,s),Uf(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!Rt)return yr(l),null}else 2*Gt()-g.renderingStartTime>mg&&d!==536870912&&(l.flags|=128,C=!0,Uf(g,!1),l.lanes=4194304);g.isBackwards?(E.sibling=l.child,l.child=E):(s=g.last,s!==null?s.sibling=E:l.child=E,g.last=E)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Gt(),s.sibling=null,d=Fr.current,te(Fr,C?d&1|2:d&1),Rt&&$s(l,g.treeForkCount),s):(yr(l),null);case 22:case 23:return Pa(l),c0(),g=l.memoizedState!==null,s!==null?s.memoizedState!==null!==g&&(l.flags|=8192):g&&(l.flags|=8192),g?(d&536870912)!==0&&(l.flags&128)===0&&(yr(l),l.subtreeFlags&6&&(l.flags|=8192)):yr(l),d=l.updateQueue,d!==null&&ug(l,d.retryQueue),d=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),g=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),g!==d&&(l.flags|=2048),s!==null&&X(cc),null;case 24:return d=null,s!==null&&(d=s.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),zs(Wr),yr(l),null;case 25:return null;case 30:return null}throw Error(n(156,l.tag))}function iB(s,l){switch(V_(l),l.tag){case 1:return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return zs(Wr),J(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 26:case 27:case 5:return Ne(l),null;case 31:if(l.memoizedState!==null){if(Pa(l),l.alternate===null)throw Error(n(340));sc()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 13:if(Pa(l),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(n(340));sc()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return X(Fr),null;case 4:return J(),null;case 10:return zs(l.type),null;case 22:case 23:return Pa(l),c0(),s!==null&&X(cc),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 24:return zs(Wr),null;case 25:return null;default:return null}}function OE(s,l){switch(V_(l),l.tag){case 3:zs(Wr),J();break;case 26:case 27:case 5:Ne(l);break;case 4:J();break;case 31:l.memoizedState!==null&&Pa(l);break;case 13:Pa(l);break;case 19:X(Fr);break;case 10:zs(l.type);break;case 22:case 23:Pa(l),c0(),s!==null&&X(cc);break;case 24:zs(Wr)}}function Hf(s,l){try{var d=l.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var C=g.next;d=C;do{if((d.tag&s)===s){g=void 0;var E=d.create,L=d.inst;g=E(),L.destroy=g}d=d.next}while(d!==C)}}catch(U){Jt(l,l.return,U)}}function nl(s,l,d){try{var g=l.updateQueue,C=g!==null?g.lastEffect:null;if(C!==null){var E=C.next;g=E;do{if((g.tag&s)===s){var L=g.inst,U=L.destroy;if(U!==void 0){L.destroy=void 0,C=l;var Q=d,ue=U;try{ue()}catch(ve){Jt(C,Q,ve)}}}g=g.next}while(g!==E)}}catch(ve){Jt(l,l.return,ve)}}function DE(s){var l=s.updateQueue;if(l!==null){var d=s.stateNode;try{jN(l,d)}catch(g){Jt(s,s.return,g)}}}function ME(s,l,d){d.props=hc(s.type,s.memoizedProps),d.state=s.memoizedState;try{d.componentWillUnmount()}catch(g){Jt(s,l,g)}}function Wf(s,l){try{var d=s.ref;if(d!==null){switch(s.tag){case 26:case 27:case 5:var g=s.stateNode;break;case 30:g=s.stateNode;break;default:g=s.stateNode}typeof d=="function"?s.refCleanup=d(g):d.current=g}}catch(C){Jt(s,l,C)}}function rs(s,l){var d=s.ref,g=s.refCleanup;if(d!==null)if(typeof g=="function")try{g()}catch(C){Jt(s,l,C)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(C){Jt(s,l,C)}else d.current=null}function LE(s){var l=s.type,d=s.memoizedProps,g=s.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&g.focus();break e;case"img":d.src?g.src=d.src:d.srcSet&&(g.srcset=d.srcSet)}}catch(C){Jt(s,s.return,C)}}function F0(s,l,d){try{var g=s.stateNode;NB(g,s.type,d,l),g[or]=l}catch(C){Jt(s,s.return,C)}}function IE(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ul(s.type)||s.tag===4}function q0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||IE(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ul(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function U0(s,l,d){var g=s.tag;if(g===5||g===6)s=s.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(s,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(s),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Ms));else if(g!==4&&(g===27&&ul(s.type)&&(d=s.stateNode,l=null),s=s.child,s!==null))for(U0(s,l,d),s=s.sibling;s!==null;)U0(s,l,d),s=s.sibling}function dg(s,l,d){var g=s.tag;if(g===5||g===6)s=s.stateNode,l?d.insertBefore(s,l):d.appendChild(s);else if(g!==4&&(g===27&&ul(s.type)&&(d=s.stateNode),s=s.child,s!==null))for(dg(s,l,d),s=s.sibling;s!==null;)dg(s,l,d),s=s.sibling}function $E(s){var l=s.stateNode,d=s.memoizedProps;try{for(var g=s.type,C=l.attributes;C.length;)l.removeAttributeNode(C[0]);Nn(l,g,d),l[bt]=s,l[or]=d}catch(E){Jt(s,s.return,E)}}var Ws=!1,Vr=!1,H0=!1,BE=typeof WeakSet=="function"?WeakSet:Set,fn=null;function sB(s,l){if(s=s.containerInfo,d1=Rg,s=X2(s),I_(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var C=g.anchorOffset,E=g.focusNode;g=g.focusOffset;try{d.nodeType,E.nodeType}catch{d=null;break e}var L=0,U=-1,Q=-1,ue=0,ve=0,_e=s,de=null;t:for(;;){for(var he;_e!==d||C!==0&&_e.nodeType!==3||(U=L+C),_e!==E||g!==0&&_e.nodeType!==3||(Q=L+g),_e.nodeType===3&&(L+=_e.nodeValue.length),(he=_e.firstChild)!==null;)de=_e,_e=he;for(;;){if(_e===s)break t;if(de===d&&++ue===C&&(U=L),de===E&&++ve===g&&(Q=L),(he=_e.nextSibling)!==null)break;_e=de,de=_e.parentNode}_e=he}d=U===-1||Q===-1?null:{start:U,end:Q}}else d=null}d=d||{start:0,end:0}}else d=null;for(f1={focusedElem:s,selectionRange:d},Rg=!1,fn=l;fn!==null;)if(l=fn,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,fn=s;else for(;fn!==null;){switch(l=fn,E=l.alternate,s=l.flags,l.tag){case 0:if((s&4)!==0&&(s=l.updateQueue,s=s!==null?s.events:null,s!==null))for(d=0;d<s.length;d++)C=s[d],C.ref.impl=C.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&E!==null){s=void 0,d=l,C=E.memoizedProps,E=E.memoizedState,g=d.stateNode;try{var qe=hc(d.type,C);s=g.getSnapshotBeforeUpdate(qe,E),g.__reactInternalSnapshotBeforeUpdate=s}catch(tt){Jt(d,d.return,tt)}}break;case 3:if((s&1024)!==0){if(s=l.stateNode.containerInfo,d=s.nodeType,d===9)m1(s);else if(d===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":m1(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(n(163))}if(s=l.sibling,s!==null){s.return=l.return,fn=s;break}fn=l.return}}function zE(s,l,d){var g=d.flags;switch(d.tag){case 0:case 11:case 15:Gs(s,d),g&4&&Hf(5,d);break;case 1:if(Gs(s,d),g&4)if(s=d.stateNode,l===null)try{s.componentDidMount()}catch(L){Jt(d,d.return,L)}else{var C=hc(d.type,l.memoizedProps);l=l.memoizedState;try{s.componentDidUpdate(C,l,s.__reactInternalSnapshotBeforeUpdate)}catch(L){Jt(d,d.return,L)}}g&64&&DE(d),g&512&&Wf(d,d.return);break;case 3:if(Gs(s,d),g&64&&(s=d.updateQueue,s!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{jN(s,l)}catch(L){Jt(d,d.return,L)}}break;case 27:l===null&&g&4&&$E(d);case 26:case 5:Gs(s,d),l===null&&g&4&&LE(d),g&512&&Wf(d,d.return);break;case 12:Gs(s,d);break;case 31:Gs(s,d),g&4&&UE(s,d);break;case 13:Gs(s,d),g&4&&HE(s,d),g&64&&(s=d.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(d=mB.bind(null,d),MB(s,d))));break;case 22:if(g=d.memoizedState!==null||Ws,!g){l=l!==null&&l.memoizedState!==null||Vr,C=Ws;var E=Vr;Ws=g,(Vr=l)&&!E?Vs(s,d,(d.subtreeFlags&8772)!==0):Gs(s,d),Ws=C,Vr=E}break;case 30:break;default:Gs(s,d)}}function FE(s){var l=s.alternate;l!==null&&(s.alternate=null,FE(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&__(l)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var wr=null,ca=!1;function Ks(s,l,d){for(d=d.child;d!==null;)qE(s,l,d),d=d.sibling}function qE(s,l,d){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(ot,d)}catch{}switch(d.tag){case 26:Vr||rs(d,l),Ks(s,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Vr||rs(d,l);var g=wr,C=ca;ul(d.type)&&(wr=d.stateNode,ca=!1),Ks(s,l,d),ep(d.stateNode),wr=g,ca=C;break;case 5:Vr||rs(d,l);case 6:if(g=wr,C=ca,wr=null,Ks(s,l,d),wr=g,ca=C,wr!==null)if(ca)try{(wr.nodeType===9?wr.body:wr.nodeName==="HTML"?wr.ownerDocument.body:wr).removeChild(d.stateNode)}catch(E){Jt(d,l,E)}else try{wr.removeChild(d.stateNode)}catch(E){Jt(d,l,E)}break;case 18:wr!==null&&(ca?(s=wr,DT(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,d.stateNode),Ju(s)):DT(wr,d.stateNode));break;case 4:g=wr,C=ca,wr=d.stateNode.containerInfo,ca=!0,Ks(s,l,d),wr=g,ca=C;break;case 0:case 11:case 14:case 15:nl(2,d,l),Vr||nl(4,d,l),Ks(s,l,d);break;case 1:Vr||(rs(d,l),g=d.stateNode,typeof g.componentWillUnmount=="function"&&ME(d,l,g)),Ks(s,l,d);break;case 21:Ks(s,l,d);break;case 22:Vr=(g=Vr)||d.memoizedState!==null,Ks(s,l,d),Vr=g;break;default:Ks(s,l,d)}}function UE(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Ju(s)}catch(d){Jt(l,l.return,d)}}}function HE(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Ju(s)}catch(d){Jt(l,l.return,d)}}function oB(s){switch(s.tag){case 31:case 13:case 19:var l=s.stateNode;return l===null&&(l=s.stateNode=new BE),l;case 22:return s=s.stateNode,l=s._retryCache,l===null&&(l=s._retryCache=new BE),l;default:throw Error(n(435,s.tag))}}function fg(s,l){var d=oB(s);l.forEach(function(g){if(!d.has(g)){d.add(g);var C=gB.bind(null,s,g);g.then(C,C)}})}function ua(s,l){var d=l.deletions;if(d!==null)for(var g=0;g<d.length;g++){var C=d[g],E=s,L=l,U=L;e:for(;U!==null;){switch(U.tag){case 27:if(ul(U.type)){wr=U.stateNode,ca=!1;break e}break;case 5:wr=U.stateNode,ca=!1;break e;case 3:case 4:wr=U.stateNode.containerInfo,ca=!0;break e}U=U.return}if(wr===null)throw Error(n(160));qE(E,L,C),wr=null,ca=!1,E=C.alternate,E!==null&&(E.return=null),C.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)WE(l,s),l=l.sibling}var Ti=null;function WE(s,l){var d=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:ua(l,s),da(s),g&4&&(nl(3,s,s.return),Hf(3,s),nl(5,s,s.return));break;case 1:ua(l,s),da(s),g&512&&(Vr||d===null||rs(d,d.return)),g&64&&Ws&&(s=s.updateQueue,s!==null&&(g=s.callbacks,g!==null&&(d=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=d===null?g:d.concat(g))));break;case 26:var C=Ti;if(ua(l,s),da(s),g&512&&(Vr||d===null||rs(d,d.return)),g&4){var E=d!==null?d.memoizedState:null;if(g=s.memoizedState,d===null)if(g===null)if(s.stateNode===null){e:{g=s.type,d=s.memoizedProps,C=C.ownerDocument||C;t:switch(g){case"title":E=C.getElementsByTagName("title")[0],(!E||E[yf]||E[bt]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=C.createElement(g),C.head.insertBefore(E,C.querySelector("head > title"))),Nn(E,g,d),E[bt]=s,dn(E),g=E;break e;case"link":var L=WT("link","href",C).get(g+(d.href||""));if(L){for(var U=0;U<L.length;U++)if(E=L[U],E.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&E.getAttribute("rel")===(d.rel==null?null:d.rel)&&E.getAttribute("title")===(d.title==null?null:d.title)&&E.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){L.splice(U,1);break t}}E=C.createElement(g),Nn(E,g,d),C.head.appendChild(E);break;case"meta":if(L=WT("meta","content",C).get(g+(d.content||""))){for(U=0;U<L.length;U++)if(E=L[U],E.getAttribute("content")===(d.content==null?null:""+d.content)&&E.getAttribute("name")===(d.name==null?null:d.name)&&E.getAttribute("property")===(d.property==null?null:d.property)&&E.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&E.getAttribute("charset")===(d.charSet==null?null:d.charSet)){L.splice(U,1);break t}}E=C.createElement(g),Nn(E,g,d),C.head.appendChild(E);break;default:throw Error(n(468,g))}E[bt]=s,dn(E),g=E}s.stateNode=g}else KT(C,s.type,s.stateNode);else s.stateNode=HT(C,g,s.memoizedProps);else E!==g?(E===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):E.count--,g===null?KT(C,s.type,s.stateNode):HT(C,g,s.memoizedProps)):g===null&&s.stateNode!==null&&F0(s,s.memoizedProps,d.memoizedProps)}break;case 27:ua(l,s),da(s),g&512&&(Vr||d===null||rs(d,d.return)),d!==null&&g&4&&F0(s,s.memoizedProps,d.memoizedProps);break;case 5:if(ua(l,s),da(s),g&512&&(Vr||d===null||rs(d,d.return)),s.flags&32){C=s.stateNode;try{wu(C,"")}catch(qe){Jt(s,s.return,qe)}}g&4&&s.stateNode!=null&&(C=s.memoizedProps,F0(s,C,d!==null?d.memoizedProps:C)),g&1024&&(H0=!0);break;case 6:if(ua(l,s),da(s),g&4){if(s.stateNode===null)throw Error(n(162));g=s.memoizedProps,d=s.stateNode;try{d.nodeValue=g}catch(qe){Jt(s,s.return,qe)}}break;case 3:if(Eg=null,C=Ti,Ti=kg(l.containerInfo),ua(l,s),Ti=C,da(s),g&4&&d!==null&&d.memoizedState.isDehydrated)try{Ju(l.containerInfo)}catch(qe){Jt(s,s.return,qe)}H0&&(H0=!1,KE(s));break;case 4:g=Ti,Ti=kg(s.stateNode.containerInfo),ua(l,s),da(s),Ti=g;break;case 12:ua(l,s),da(s);break;case 31:ua(l,s),da(s),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,fg(s,g)));break;case 13:ua(l,s),da(s),s.child.flags&8192&&s.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(hg=Gt()),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,fg(s,g)));break;case 22:C=s.memoizedState!==null;var Q=d!==null&&d.memoizedState!==null,ue=Ws,ve=Vr;if(Ws=ue||C,Vr=ve||Q,ua(l,s),Vr=ve,Ws=ue,da(s),g&8192)e:for(l=s.stateNode,l._visibility=C?l._visibility&-2:l._visibility|1,C&&(d===null||Q||Ws||Vr||mc(s)),d=null,l=s;;){if(l.tag===5||l.tag===26){if(d===null){Q=d=l;try{if(E=Q.stateNode,C)L=E.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none";else{U=Q.stateNode;var _e=Q.memoizedProps.style,de=_e!=null&&_e.hasOwnProperty("display")?_e.display:null;U.style.display=de==null||typeof de=="boolean"?"":(""+de).trim()}}catch(qe){Jt(Q,Q.return,qe)}}}else if(l.tag===6){if(d===null){Q=l;try{Q.stateNode.nodeValue=C?"":Q.memoizedProps}catch(qe){Jt(Q,Q.return,qe)}}}else if(l.tag===18){if(d===null){Q=l;try{var he=Q.stateNode;C?MT(he,!0):MT(Q.stateNode,!1)}catch(qe){Jt(Q,Q.return,qe)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===s)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}g&4&&(g=s.updateQueue,g!==null&&(d=g.retryQueue,d!==null&&(g.retryQueue=null,fg(s,d))));break;case 19:ua(l,s),da(s),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,fg(s,g)));break;case 30:break;case 21:break;default:ua(l,s),da(s)}}function da(s){var l=s.flags;if(l&2){try{for(var d,g=s.return;g!==null;){if(IE(g)){d=g;break}g=g.return}if(d==null)throw Error(n(160));switch(d.tag){case 27:var C=d.stateNode,E=q0(s);dg(s,E,C);break;case 5:var L=d.stateNode;d.flags&32&&(wu(L,""),d.flags&=-33);var U=q0(s);dg(s,U,L);break;case 3:case 4:var Q=d.stateNode.containerInfo,ue=q0(s);U0(s,ue,Q);break;default:throw Error(n(161))}}catch(ve){Jt(s,s.return,ve)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function KE(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var l=s;KE(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),s=s.sibling}}function Gs(s,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)zE(s,l.alternate,l),l=l.sibling}function mc(s){for(s=s.child;s!==null;){var l=s;switch(l.tag){case 0:case 11:case 14:case 15:nl(4,l,l.return),mc(l);break;case 1:rs(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&ME(l,l.return,d),mc(l);break;case 27:ep(l.stateNode);case 26:case 5:rs(l,l.return),mc(l);break;case 22:l.memoizedState===null&&mc(l);break;case 30:mc(l);break;default:mc(l)}s=s.sibling}}function Vs(s,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var g=l.alternate,C=s,E=l,L=E.flags;switch(E.tag){case 0:case 11:case 15:Vs(C,E,d),Hf(4,E);break;case 1:if(Vs(C,E,d),g=E,C=g.stateNode,typeof C.componentDidMount=="function")try{C.componentDidMount()}catch(ue){Jt(g,g.return,ue)}if(g=E,C=g.updateQueue,C!==null){var U=g.stateNode;try{var Q=C.shared.hiddenCallbacks;if(Q!==null)for(C.shared.hiddenCallbacks=null,C=0;C<Q.length;C++)SN(Q[C],U)}catch(ue){Jt(g,g.return,ue)}}d&&L&64&&DE(E),Wf(E,E.return);break;case 27:$E(E);case 26:case 5:Vs(C,E,d),d&&g===null&&L&4&&LE(E),Wf(E,E.return);break;case 12:Vs(C,E,d);break;case 31:Vs(C,E,d),d&&L&4&&UE(C,E);break;case 13:Vs(C,E,d),d&&L&4&&HE(C,E);break;case 22:E.memoizedState===null&&Vs(C,E,d),Wf(E,E.return);break;case 30:break;default:Vs(C,E,d)}l=l.sibling}}function W0(s,l){var d=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==d&&(s!=null&&s.refCount++,d!=null&&Af(d))}function K0(s,l){s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&Af(s))}function Pi(s,l,d,g){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)GE(s,l,d,g),l=l.sibling}function GE(s,l,d,g){var C=l.flags;switch(l.tag){case 0:case 11:case 15:Pi(s,l,d,g),C&2048&&Hf(9,l);break;case 1:Pi(s,l,d,g);break;case 3:Pi(s,l,d,g),C&2048&&(s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&Af(s)));break;case 12:if(C&2048){Pi(s,l,d,g),s=l.stateNode;try{var E=l.memoizedProps,L=E.id,U=E.onPostCommit;typeof U=="function"&&U(L,l.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(Q){Jt(l,l.return,Q)}}else Pi(s,l,d,g);break;case 31:Pi(s,l,d,g);break;case 13:Pi(s,l,d,g);break;case 23:break;case 22:E=l.stateNode,L=l.alternate,l.memoizedState!==null?E._visibility&2?Pi(s,l,d,g):Kf(s,l):E._visibility&2?Pi(s,l,d,g):(E._visibility|=2,qu(s,l,d,g,(l.subtreeFlags&10256)!==0||!1)),C&2048&&W0(L,l);break;case 24:Pi(s,l,d,g),C&2048&&K0(l.alternate,l);break;default:Pi(s,l,d,g)}}function qu(s,l,d,g,C){for(C=C&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var E=s,L=l,U=d,Q=g,ue=L.flags;switch(L.tag){case 0:case 11:case 15:qu(E,L,U,Q,C),Hf(8,L);break;case 23:break;case 22:var ve=L.stateNode;L.memoizedState!==null?ve._visibility&2?qu(E,L,U,Q,C):Kf(E,L):(ve._visibility|=2,qu(E,L,U,Q,C)),C&&ue&2048&&W0(L.alternate,L);break;case 24:qu(E,L,U,Q,C),C&&ue&2048&&K0(L.alternate,L);break;default:qu(E,L,U,Q,C)}l=l.sibling}}function Kf(s,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=s,g=l,C=g.flags;switch(g.tag){case 22:Kf(d,g),C&2048&&W0(g.alternate,g);break;case 24:Kf(d,g),C&2048&&K0(g.alternate,g);break;default:Kf(d,g)}l=l.sibling}}var Gf=8192;function Uu(s,l,d){if(s.subtreeFlags&Gf)for(s=s.child;s!==null;)VE(s,l,d),s=s.sibling}function VE(s,l,d){switch(s.tag){case 26:Uu(s,l,d),s.flags&Gf&&s.memoizedState!==null&&GB(d,Ti,s.memoizedState,s.memoizedProps);break;case 5:Uu(s,l,d);break;case 3:case 4:var g=Ti;Ti=kg(s.stateNode.containerInfo),Uu(s,l,d),Ti=g;break;case 22:s.memoizedState===null&&(g=s.alternate,g!==null&&g.memoizedState!==null?(g=Gf,Gf=16777216,Uu(s,l,d),Gf=g):Uu(s,l,d));break;default:Uu(s,l,d)}}function YE(s){var l=s.alternate;if(l!==null&&(s=l.child,s!==null)){l.child=null;do l=s.sibling,s.sibling=null,s=l;while(s!==null)}}function Vf(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var g=l[d];fn=g,XE(g,s)}YE(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)QE(s),s=s.sibling}function QE(s){switch(s.tag){case 0:case 11:case 15:Vf(s),s.flags&2048&&nl(9,s,s.return);break;case 3:Vf(s);break;case 12:Vf(s);break;case 22:var l=s.stateNode;s.memoizedState!==null&&l._visibility&2&&(s.return===null||s.return.tag!==13)?(l._visibility&=-3,pg(s)):Vf(s);break;default:Vf(s)}}function pg(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var g=l[d];fn=g,XE(g,s)}YE(s)}for(s=s.child;s!==null;){switch(l=s,l.tag){case 0:case 11:case 15:nl(8,l,l.return),pg(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,pg(l));break;default:pg(l)}s=s.sibling}}function XE(s,l){for(;fn!==null;){var d=fn;switch(d.tag){case 0:case 11:case 15:nl(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var g=d.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Af(d.memoizedState.cache)}if(g=d.child,g!==null)g.return=d,fn=g;else e:for(d=s;fn!==null;){g=fn;var C=g.sibling,E=g.return;if(FE(g),g===d){fn=null;break e}if(C!==null){C.return=E,fn=C;break e}fn=E}}}var lB={getCacheForType:function(s){var l=Cn(Wr),d=l.data.get(s);return d===void 0&&(d=s(),l.data.set(s,d)),d},cacheSignal:function(){return Cn(Wr).controller.signal}},cB=typeof WeakMap=="function"?WeakMap:Map,Vt=0,lr=null,Ct=null,Et=0,Zt=0,Aa=null,al=!1,Hu=!1,G0=!1,Ys=0,Ar=0,il=0,gc=0,V0=0,Ra=0,Wu=0,Yf=null,fa=null,Y0=!1,hg=0,ZE=0,mg=1/0,gg=null,sl=null,Jr=0,ol=null,Ku=null,Qs=0,Q0=0,X0=null,JE=null,Qf=0,Z0=null;function Oa(){return(Vt&2)!==0&&Et!==0?Et&-Et:O.T!==null?a1():St()}function eT(){if(Ra===0)if((Et&536870912)===0||Rt){var s=ki;ki<<=1,(ki&3932160)===0&&(ki=262144),Ra=s}else Ra=536870912;return s=Ta.current,s!==null&&(s.flags|=32),Ra}function pa(s,l,d){(s===lr&&(Zt===2||Zt===9)||s.cancelPendingCommit!==null)&&(Gu(s,0),ll(s,Et,Ra,!1)),je(s,d),((Vt&2)===0||s!==lr)&&(s===lr&&((Vt&2)===0&&(gc|=d),Ar===4&&ll(s,Et,Ra,!1)),ns(s))}function tT(s,l,d){if((Vt&6)!==0)throw Error(n(327));var g=!d&&(l&127)===0&&(l&s.expiredLanes)===0||Ca(s,l),C=g?fB(s,l):e1(s,l,!0),E=g;do{if(C===0){Hu&&!g&&ll(s,l,0,!1);break}else{if(d=s.current.alternate,E&&!uB(d)){C=e1(s,l,!1),E=!1;continue}if(C===2){if(E=l,s.errorRecoveryDisabledLanes&E)var L=0;else L=s.pendingLanes&-536870913,L=L!==0?L:L&536870912?536870912:0;if(L!==0){l=L;e:{var U=s;C=Yf;var Q=U.current.memoizedState.isDehydrated;if(Q&&(Gu(U,L).flags|=256),L=e1(U,L,!1),L!==2){if(G0&&!Q){U.errorRecoveryDisabledLanes|=E,gc|=E,C=4;break e}E=fa,fa=C,E!==null&&(fa===null?fa=E:fa.push.apply(fa,E))}C=L}if(E=!1,C!==2)continue}}if(C===1){Gu(s,0),ll(s,l,0,!0);break}e:{switch(g=s,E=C,E){case 0:case 1:throw Error(n(345));case 4:if((l&4194048)!==l)break;case 6:ll(g,l,Ra,!al);break e;case 2:fa=null;break;case 3:case 5:break;default:throw Error(n(329))}if((l&62914560)===l&&(C=hg+300-Gt(),10<C)){if(ll(g,l,Ra,!al),Ji(g,0,!0)!==0)break e;Qs=l,g.timeoutHandle=RT(rT.bind(null,g,d,fa,gg,Y0,l,Ra,gc,Wu,al,E,"Throttled",-0,0),C);break e}rT(g,d,fa,gg,Y0,l,Ra,gc,Wu,al,E,null,-0,0)}}break}while(!0);ns(s)}function rT(s,l,d,g,C,E,L,U,Q,ue,ve,_e,de,he){if(s.timeoutHandle=-1,_e=l.subtreeFlags,_e&8192||(_e&16785408)===16785408){_e={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ms},VE(l,E,_e);var qe=(E&62914560)===E?hg-Gt():(E&4194048)===E?ZE-Gt():0;if(qe=VB(_e,qe),qe!==null){Qs=E,s.cancelPendingCommit=qe(uT.bind(null,s,l,E,d,g,C,L,U,Q,ve,_e,null,de,he)),ll(s,E,L,!ue);return}}uT(s,l,E,d,g,C,L,U,Q)}function uB(s){for(var l=s;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var g=0;g<d.length;g++){var C=d[g],E=C.getSnapshot;C=C.value;try{if(!Na(E(),C))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function ll(s,l,d,g){l&=~V0,l&=~gc,s.suspendedLanes|=l,s.pingedLanes&=~l,g&&(s.warmLanes|=l),g=s.expirationTimes;for(var C=l;0<C;){var E=31-xr(C),L=1<<E;g[E]=-1,C&=~L}d!==0&&Oe(s,d,l)}function vg(){return(Vt&6)===0?(Xf(0),!1):!0}function J0(){if(Ct!==null){if(Zt===0)var s=Ct.return;else s=Ct,Bs=oc=null,m0(s),Iu=null,Of=0,s=Ct;for(;s!==null;)OE(s.alternate,s),s=s.return;Ct=null}}function Gu(s,l){var d=s.timeoutHandle;d!==-1&&(s.timeoutHandle=-1,PB(d)),d=s.cancelPendingCommit,d!==null&&(s.cancelPendingCommit=null,d()),Qs=0,J0(),lr=s,Ct=d=Is(s.current,null),Et=l,Zt=0,Aa=null,al=!1,Hu=Ca(s,l),G0=!1,Wu=Ra=V0=gc=il=Ar=0,fa=Yf=null,Y0=!1,(l&8)!==0&&(l|=l&32);var g=s.entangledLanes;if(g!==0)for(s=s.entanglements,g&=l;0<g;){var C=31-xr(g),E=1<<C;l|=s[C],g&=~E}return Ys=l,$m(),d}function nT(s,l){ft=null,O.H=Ff,l===Lu||l===Km?(l=bN(),Zt=3):l===n0?(l=bN(),Zt=4):Zt=l===A0?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Aa=l,Ct===null&&(Ar=1,sg(s,Ya(l,s.current)))}function aT(){var s=Ta.current;return s===null?!0:(Et&4194048)===Et?Ja===null:(Et&62914560)===Et||(Et&536870912)!==0?s===Ja:!1}function iT(){var s=O.H;return O.H=Ff,s===null?Ff:s}function sT(){var s=O.A;return O.A=lB,s}function yg(){Ar=4,al||(Et&4194048)!==Et&&Ta.current!==null||(Hu=!0),(il&134217727)===0&&(gc&134217727)===0||lr===null||ll(lr,Et,Ra,!1)}function e1(s,l,d){var g=Vt;Vt|=2;var C=iT(),E=sT();(lr!==s||Et!==l)&&(gg=null,Gu(s,l)),l=!1;var L=Ar;e:do try{if(Zt!==0&&Ct!==null){var U=Ct,Q=Aa;switch(Zt){case 8:J0(),L=6;break e;case 3:case 2:case 9:case 6:Ta.current===null&&(l=!0);var ue=Zt;if(Zt=0,Aa=null,Vu(s,U,Q,ue),d&&Hu){L=0;break e}break;default:ue=Zt,Zt=0,Aa=null,Vu(s,U,Q,ue)}}dB(),L=Ar;break}catch(ve){nT(s,ve)}while(!0);return l&&s.shellSuspendCounter++,Bs=oc=null,Vt=g,O.H=C,O.A=E,Ct===null&&(lr=null,Et=0,$m()),L}function dB(){for(;Ct!==null;)oT(Ct)}function fB(s,l){var d=Vt;Vt|=2;var g=iT(),C=sT();lr!==s||Et!==l?(gg=null,mg=Gt()+500,Gu(s,l)):Hu=Ca(s,l);e:do try{if(Zt!==0&&Ct!==null){l=Ct;var E=Aa;t:switch(Zt){case 1:Zt=0,Aa=null,Vu(s,l,E,1);break;case 2:case 9:if(vN(E)){Zt=0,Aa=null,lT(l);break}l=function(){Zt!==2&&Zt!==9||lr!==s||(Zt=7),ns(s)},E.then(l,l);break e;case 3:Zt=7;break e;case 4:Zt=5;break e;case 7:vN(E)?(Zt=0,Aa=null,lT(l)):(Zt=0,Aa=null,Vu(s,l,E,7));break;case 5:var L=null;switch(Ct.tag){case 26:L=Ct.memoizedState;case 5:case 27:var U=Ct;if(L?GT(L):U.stateNode.complete){Zt=0,Aa=null;var Q=U.sibling;if(Q!==null)Ct=Q;else{var ue=U.return;ue!==null?(Ct=ue,bg(ue)):Ct=null}break t}}Zt=0,Aa=null,Vu(s,l,E,5);break;case 6:Zt=0,Aa=null,Vu(s,l,E,6);break;case 8:J0(),Ar=6;break e;default:throw Error(n(462))}}pB();break}catch(ve){nT(s,ve)}while(!0);return Bs=oc=null,O.H=g,O.A=C,Vt=d,Ct!==null?0:(lr=null,Et=0,$m(),Ar)}function pB(){for(;Ct!==null&&!zr();)oT(Ct)}function oT(s){var l=AE(s.alternate,s,Ys);s.memoizedProps=s.pendingProps,l===null?bg(s):Ct=l}function lT(s){var l=s,d=l.alternate;switch(l.tag){case 15:case 0:l=CE(d,l,l.pendingProps,l.type,void 0,Et);break;case 11:l=CE(d,l,l.pendingProps,l.type.render,l.ref,Et);break;case 5:m0(l);default:OE(d,l),l=Ct=sN(l,Ys),l=AE(d,l,Ys)}s.memoizedProps=s.pendingProps,l===null?bg(s):Ct=l}function Vu(s,l,d,g){Bs=oc=null,m0(l),Iu=null,Of=0;var C=l.return;try{if(tB(s,C,l,d,Et)){Ar=1,sg(s,Ya(d,s.current)),Ct=null;return}}catch(E){if(C!==null)throw Ct=C,E;Ar=1,sg(s,Ya(d,s.current)),Ct=null;return}l.flags&32768?(Rt||g===1?s=!0:Hu||(Et&536870912)!==0?s=!1:(al=s=!0,(g===2||g===9||g===3||g===6)&&(g=Ta.current,g!==null&&g.tag===13&&(g.flags|=16384))),cT(l,s)):bg(l)}function bg(s){var l=s;do{if((l.flags&32768)!==0){cT(l,al);return}s=l.return;var d=aB(l.alternate,l,Ys);if(d!==null){Ct=d;return}if(l=l.sibling,l!==null){Ct=l;return}Ct=l=s}while(l!==null);Ar===0&&(Ar=5)}function cT(s,l){do{var d=iB(s.alternate,s);if(d!==null){d.flags&=32767,Ct=d;return}if(d=s.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(s=s.sibling,s!==null)){Ct=s;return}Ct=s=d}while(s!==null);Ar=6,Ct=null}function uT(s,l,d,g,C,E,L,U,Q){s.cancelPendingCommit=null;do _g();while(Jr!==0);if((Vt&6)!==0)throw Error(n(327));if(l!==null){if(l===s.current)throw Error(n(177));if(E=l.lanes|l.childLanes,E|=q_,gt(s,d,E,L,U,Q),s===lr&&(Ct=lr=null,Et=0),Ku=l,ol=s,Qs=d,Q0=E,X0=C,JE=g,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,vB(Re,function(){return mT(),null})):(s.callbackNode=null,s.callbackPriority=0),g=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||g){g=O.T,O.T=null,C=$.p,$.p=2,L=Vt,Vt|=4;try{sB(s,l,d)}finally{Vt=L,$.p=C,O.T=g}}Jr=1,dT(),fT(),pT()}}function dT(){if(Jr===1){Jr=0;var s=ol,l=Ku,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=O.T,O.T=null;var g=$.p;$.p=2;var C=Vt;Vt|=4;try{WE(l,s);var E=f1,L=X2(s.containerInfo),U=E.focusedElem,Q=E.selectionRange;if(L!==U&&U&&U.ownerDocument&&Q2(U.ownerDocument.documentElement,U)){if(Q!==null&&I_(U)){var ue=Q.start,ve=Q.end;if(ve===void 0&&(ve=ue),"selectionStart"in U)U.selectionStart=ue,U.selectionEnd=Math.min(ve,U.value.length);else{var _e=U.ownerDocument||document,de=_e&&_e.defaultView||window;if(de.getSelection){var he=de.getSelection(),qe=U.textContent.length,tt=Math.min(Q.start,qe),ir=Q.end===void 0?tt:Math.min(Q.end,qe);!he.extend&&tt>ir&&(L=ir,ir=tt,tt=L);var ie=Y2(U,tt),ee=Y2(U,ir);if(ie&&ee&&(he.rangeCount!==1||he.anchorNode!==ie.node||he.anchorOffset!==ie.offset||he.focusNode!==ee.node||he.focusOffset!==ee.offset)){var ce=_e.createRange();ce.setStart(ie.node,ie.offset),he.removeAllRanges(),tt>ir?(he.addRange(ce),he.extend(ee.node,ee.offset)):(ce.setEnd(ee.node,ee.offset),he.addRange(ce))}}}}for(_e=[],he=U;he=he.parentNode;)he.nodeType===1&&_e.push({element:he,left:he.scrollLeft,top:he.scrollTop});for(typeof U.focus=="function"&&U.focus(),U=0;U<_e.length;U++){var ye=_e[U];ye.element.scrollLeft=ye.left,ye.element.scrollTop=ye.top}}Rg=!!d1,f1=d1=null}finally{Vt=C,$.p=g,O.T=d}}s.current=l,Jr=2}}function fT(){if(Jr===2){Jr=0;var s=ol,l=Ku,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=O.T,O.T=null;var g=$.p;$.p=2;var C=Vt;Vt|=4;try{zE(s,l.alternate,l)}finally{Vt=C,$.p=g,O.T=d}}Jr=3}}function pT(){if(Jr===4||Jr===3){Jr=0,Rn();var s=ol,l=Ku,d=Qs,g=JE;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Jr=5:(Jr=0,Ku=ol=null,hT(s,s.pendingLanes));var C=s.pendingLanes;if(C===0&&(sl=null),st(d),l=l.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(ot,l,void 0,(l.current.flags&128)===128)}catch{}if(g!==null){l=O.T,C=$.p,$.p=2,O.T=null;try{for(var E=s.onRecoverableError,L=0;L<g.length;L++){var U=g[L];E(U.value,{componentStack:U.stack})}}finally{O.T=l,$.p=C}}(Qs&3)!==0&&_g(),ns(s),C=s.pendingLanes,(d&261930)!==0&&(C&42)!==0?s===Z0?Qf++:(Qf=0,Z0=s):Qf=0,Xf(0)}}function hT(s,l){(s.pooledCacheLanes&=l)===0&&(l=s.pooledCache,l!=null&&(s.pooledCache=null,Af(l)))}function _g(){return dT(),fT(),pT(),mT()}function mT(){if(Jr!==5)return!1;var s=ol,l=Q0;Q0=0;var d=st(Qs),g=O.T,C=$.p;try{$.p=32>d?32:d,O.T=null,d=X0,X0=null;var E=ol,L=Qs;if(Jr=0,Ku=ol=null,Qs=0,(Vt&6)!==0)throw Error(n(331));var U=Vt;if(Vt|=4,QE(E.current),GE(E,E.current,L,d),Vt=U,Xf(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(ot,E)}catch{}return!0}finally{$.p=C,O.T=g,hT(s,l)}}function gT(s,l,d){l=Ya(d,l),l=P0(s.stateNode,l,2),s=el(s,l,2),s!==null&&(je(s,2),ns(s))}function Jt(s,l,d){if(s.tag===3)gT(s,s,d);else for(;l!==null;){if(l.tag===3){gT(l,s,d);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(sl===null||!sl.has(g))){s=Ya(d,s),d=vE(2),g=el(l,d,2),g!==null&&(yE(d,g,l,s),je(g,2),ns(g));break}}l=l.return}}function t1(s,l,d){var g=s.pingCache;if(g===null){g=s.pingCache=new cB;var C=new Set;g.set(l,C)}else C=g.get(l),C===void 0&&(C=new Set,g.set(l,C));C.has(d)||(G0=!0,C.add(d),s=hB.bind(null,s,l,d),l.then(s,s))}function hB(s,l,d){var g=s.pingCache;g!==null&&g.delete(l),s.pingedLanes|=s.suspendedLanes&d,s.warmLanes&=~d,lr===s&&(Et&d)===d&&(Ar===4||Ar===3&&(Et&62914560)===Et&&300>Gt()-hg?(Vt&2)===0&&Gu(s,0):V0|=d,Wu===Et&&(Wu=0)),ns(s)}function vT(s,l){l===0&&(l=ka()),s=ac(s,l),s!==null&&(je(s,l),ns(s))}function mB(s){var l=s.memoizedState,d=0;l!==null&&(d=l.retryLane),vT(s,d)}function gB(s,l){var d=0;switch(s.tag){case 31:case 13:var g=s.stateNode,C=s.memoizedState;C!==null&&(d=C.retryLane);break;case 19:g=s.stateNode;break;case 22:g=s.stateNode._retryCache;break;default:throw Error(n(314))}g!==null&&g.delete(l),vT(s,d)}function vB(s,l){return Tr(s,l)}var xg=null,Yu=null,r1=!1,wg=!1,n1=!1,cl=0;function ns(s){s!==Yu&&s.next===null&&(Yu===null?xg=Yu=s:Yu=Yu.next=s),wg=!0,r1||(r1=!0,bB())}function Xf(s,l){if(!n1&&wg){n1=!0;do for(var d=!1,g=xg;g!==null;){if(s!==0){var C=g.pendingLanes;if(C===0)var E=0;else{var L=g.suspendedLanes,U=g.pingedLanes;E=(1<<31-xr(42|s)+1)-1,E&=C&~(L&~U),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(d=!0,xT(g,E))}else E=Et,E=Ji(g,g===lr?E:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(E&3)===0||Ca(g,E)||(d=!0,xT(g,E));g=g.next}while(d);n1=!1}}function yB(){yT()}function yT(){wg=r1=!1;var s=0;cl!==0&&TB()&&(s=cl);for(var l=Gt(),d=null,g=xg;g!==null;){var C=g.next,E=bT(g,l);E===0?(g.next=null,d===null?xg=C:d.next=C,C===null&&(Yu=d)):(d=g,(s!==0||(E&3)!==0)&&(wg=!0)),g=C}Jr!==0&&Jr!==5||Xf(s),cl!==0&&(cl=0)}function bT(s,l){for(var d=s.suspendedLanes,g=s.pingedLanes,C=s.expirationTimes,E=s.pendingLanes&-62914561;0<E;){var L=31-xr(E),U=1<<L,Q=C[L];Q===-1?((U&d)===0||(U&g)!==0)&&(C[L]=Ko(U,l)):Q<=l&&(s.expiredLanes|=U),E&=~U}if(l=lr,d=Et,d=Ji(s,s===l?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g=s.callbackNode,d===0||s===l&&(Zt===2||Zt===9)||s.cancelPendingCommit!==null)return g!==null&&g!==null&&mt(g),s.callbackNode=null,s.callbackPriority=0;if((d&3)===0||Ca(s,d)){if(l=d&-d,l===s.callbackPriority)return l;switch(g!==null&&mt(g),st(d)){case 2:case 8:d=ia;break;case 32:d=Re;break;case 268435456:d=jt;break;default:d=Re}return g=_T.bind(null,s),d=Tr(d,g),s.callbackPriority=l,s.callbackNode=d,l}return g!==null&&g!==null&&mt(g),s.callbackPriority=2,s.callbackNode=null,2}function _T(s,l){if(Jr!==0&&Jr!==5)return s.callbackNode=null,s.callbackPriority=0,null;var d=s.callbackNode;if(_g()&&s.callbackNode!==d)return null;var g=Et;return g=Ji(s,s===lr?g:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g===0?null:(tT(s,g,l),bT(s,Gt()),s.callbackNode!=null&&s.callbackNode===d?_T.bind(null,s):null)}function xT(s,l){if(_g())return null;tT(s,l,!0)}function bB(){AB(function(){(Vt&6)!==0?Tr(Hn,yB):yT()})}function a1(){if(cl===0){var s=Du;s===0&&(s=Sa,Sa<<=1,(Sa&261888)===0&&(Sa=256)),cl=s}return cl}function wT(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Pm(""+s)}function ST(s,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,s.id&&d.setAttribute("form",s.id),l.parentNode.insertBefore(d,l),s=new FormData(s),d.parentNode.removeChild(d),s}function _B(s,l,d,g,C){if(l==="submit"&&d&&d.stateNode===C){var E=wT((C[or]||null).action),L=g.submitter;L&&(l=(l=L[or]||null)?wT(l.formAction):L.getAttribute("formAction"),l!==null&&(E=l,L=null));var U=new Dm("action","action",null,g,C);s.push({event:U,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(cl!==0){var Q=L?ST(C,L):new FormData(C);j0(d,{pending:!0,data:Q,method:C.method,action:E},null,Q)}}else typeof E=="function"&&(U.preventDefault(),Q=L?ST(C,L):new FormData(C),j0(d,{pending:!0,data:Q,method:C.method,action:E},E,Q))},currentTarget:C}]})}}for(var i1=0;i1<F_.length;i1++){var s1=F_[i1],xB=s1.toLowerCase(),wB=s1[0].toUpperCase()+s1.slice(1);Ei(xB,"on"+wB)}Ei(eN,"onAnimationEnd"),Ei(tN,"onAnimationIteration"),Ei(rN,"onAnimationStart"),Ei("dblclick","onDoubleClick"),Ei("focusin","onFocus"),Ei("focusout","onBlur"),Ei($9,"onTransitionRun"),Ei(B9,"onTransitionStart"),Ei(z9,"onTransitionCancel"),Ei(nN,"onTransitionEnd"),_u("onMouseEnter",["mouseout","mouseover"]),_u("onMouseLeave",["mouseout","mouseover"]),_u("onPointerEnter",["pointerout","pointerover"]),_u("onPointerLeave",["pointerout","pointerover"]),ec("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ec("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ec("onBeforeInput",["compositionend","keypress","textInput","paste"]),ec("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ec("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ec("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SB=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zf));function jT(s,l){l=(l&4)!==0;for(var d=0;d<s.length;d++){var g=s[d],C=g.event;g=g.listeners;e:{var E=void 0;if(l)for(var L=g.length-1;0<=L;L--){var U=g[L],Q=U.instance,ue=U.currentTarget;if(U=U.listener,Q!==E&&C.isPropagationStopped())break e;E=U,C.currentTarget=ue;try{E(C)}catch(ve){Im(ve)}C.currentTarget=null,E=Q}else for(L=0;L<g.length;L++){if(U=g[L],Q=U.instance,ue=U.currentTarget,U=U.listener,Q!==E&&C.isPropagationStopped())break e;E=U,C.currentTarget=ue;try{E(C)}catch(ve){Im(ve)}C.currentTarget=null,E=Q}}}}function kt(s,l){var d=l[Ni];d===void 0&&(d=l[Ni]=new Set);var g=s+"__bubble";d.has(g)||(CT(l,s,2,!1),d.add(g))}function o1(s,l,d){var g=0;l&&(g|=4),CT(d,s,g,l)}var Sg="_reactListening"+Math.random().toString(36).slice(2);function l1(s){if(!s[Sg]){s[Sg]=!0,y2.forEach(function(d){d!=="selectionchange"&&(SB.has(d)||o1(d,!1,s),o1(d,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[Sg]||(l[Sg]=!0,o1("selectionchange",!1,l))}}function CT(s,l,d,g){switch(eP(l)){case 2:var C=XB;break;case 8:C=ZB;break;default:C=S1}d=C.bind(null,l,d,s),C=void 0,!E_||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(C=!0),g?C!==void 0?s.addEventListener(l,d,{capture:!0,passive:C}):s.addEventListener(l,d,!0):C!==void 0?s.addEventListener(l,d,{passive:C}):s.addEventListener(l,d,!1)}function c1(s,l,d,g,C){var E=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var L=g.tag;if(L===3||L===4){var U=g.stateNode.containerInfo;if(U===C)break;if(L===4)for(L=g.return;L!==null;){var Q=L.tag;if((Q===3||Q===4)&&L.stateNode.containerInfo===C)return;L=L.return}for(;U!==null;){if(L=vu(U),L===null)return;if(Q=L.tag,Q===5||Q===6||Q===26||Q===27){g=E=L;continue e}U=U.parentNode}}g=g.return}P2(function(){var ue=E,ve=k_(d),_e=[];e:{var de=aN.get(s);if(de!==void 0){var he=Dm,qe=s;switch(s){case"keypress":if(Rm(d)===0)break e;case"keydown":case"keyup":he=g9;break;case"focusin":qe="focus",he=R_;break;case"focusout":qe="blur",he=R_;break;case"beforeblur":case"afterblur":he=R_;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=O2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=a9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=b9;break;case eN:case tN:case rN:he=o9;break;case nN:he=x9;break;case"scroll":case"scrollend":he=r9;break;case"wheel":he=S9;break;case"copy":case"cut":case"paste":he=c9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=M2;break;case"toggle":case"beforetoggle":he=C9}var tt=(l&4)!==0,ir=!tt&&(s==="scroll"||s==="scrollend"),ie=tt?de!==null?de+"Capture":null:de;tt=[];for(var ee=ue,ce;ee!==null;){var ye=ee;if(ce=ye.stateNode,ye=ye.tag,ye!==5&&ye!==26&&ye!==27||ce===null||ie===null||(ye=_f(ee,ie),ye!=null&&tt.push(Jf(ee,ye,ce))),ir)break;ee=ee.return}0<tt.length&&(de=new he(de,qe,null,d,ve),_e.push({event:de,listeners:tt}))}}if((l&7)===0){e:{if(de=s==="mouseover"||s==="pointerover",he=s==="mouseout"||s==="pointerout",de&&d!==C_&&(qe=d.relatedTarget||d.fromElement)&&(vu(qe)||qe[oa]))break e;if((he||de)&&(de=ve.window===ve?ve:(de=ve.ownerDocument)?de.defaultView||de.parentWindow:window,he?(qe=d.relatedTarget||d.toElement,he=ue,qe=qe?vu(qe):null,qe!==null&&(ir=o(qe),tt=qe.tag,qe!==ir||tt!==5&&tt!==27&&tt!==6)&&(qe=null)):(he=null,qe=ue),he!==qe)){if(tt=O2,ye="onMouseLeave",ie="onMouseEnter",ee="mouse",(s==="pointerout"||s==="pointerover")&&(tt=M2,ye="onPointerLeave",ie="onPointerEnter",ee="pointer"),ir=he==null?de:bf(he),ce=qe==null?de:bf(qe),de=new tt(ye,ee+"leave",he,d,ve),de.target=ir,de.relatedTarget=ce,ye=null,vu(ve)===ue&&(tt=new tt(ie,ee+"enter",qe,d,ve),tt.target=ce,tt.relatedTarget=ir,ye=tt),ir=ye,he&&qe)t:{for(tt=jB,ie=he,ee=qe,ce=0,ye=ie;ye;ye=tt(ye))ce++;ye=0;for(var Je=ee;Je;Je=tt(Je))ye++;for(;0<ce-ye;)ie=tt(ie),ce--;for(;0<ye-ce;)ee=tt(ee),ye--;for(;ce--;){if(ie===ee||ee!==null&&ie===ee.alternate){tt=ie;break t}ie=tt(ie),ee=tt(ee)}tt=null}else tt=null;he!==null&&kT(_e,de,he,tt,!1),qe!==null&&ir!==null&&kT(_e,ir,qe,tt,!0)}}e:{if(de=ue?bf(ue):window,he=de.nodeName&&de.nodeName.toLowerCase(),he==="select"||he==="input"&&de.type==="file")var zt=U2;else if(F2(de))if(H2)zt=M9;else{zt=O9;var Ge=R9}else he=de.nodeName,!he||he.toLowerCase()!=="input"||de.type!=="checkbox"&&de.type!=="radio"?ue&&j_(ue.elementType)&&(zt=U2):zt=D9;if(zt&&(zt=zt(s,ue))){q2(_e,zt,d,ve);break e}Ge&&Ge(s,de,ue),s==="focusout"&&ue&&de.type==="number"&&ue.memoizedProps.value!=null&&S_(de,"number",de.value)}switch(Ge=ue?bf(ue):window,s){case"focusin":(F2(Ge)||Ge.contentEditable==="true")&&(ku=Ge,$_=ue,Ef=null);break;case"focusout":Ef=$_=ku=null;break;case"mousedown":B_=!0;break;case"contextmenu":case"mouseup":case"dragend":B_=!1,Z2(_e,d,ve);break;case"selectionchange":if(I9)break;case"keydown":case"keyup":Z2(_e,d,ve)}var pt;if(D_)e:{switch(s){case"compositionstart":var Tt="onCompositionStart";break e;case"compositionend":Tt="onCompositionEnd";break e;case"compositionupdate":Tt="onCompositionUpdate";break e}Tt=void 0}else Cu?B2(s,d)&&(Tt="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(Tt="onCompositionStart");Tt&&(L2&&d.locale!=="ko"&&(Cu||Tt!=="onCompositionStart"?Tt==="onCompositionEnd"&&Cu&&(pt=A2()):(Go=ve,T_="value"in Go?Go.value:Go.textContent,Cu=!0)),Ge=jg(ue,Tt),0<Ge.length&&(Tt=new D2(Tt,s,null,d,ve),_e.push({event:Tt,listeners:Ge}),pt?Tt.data=pt:(pt=z2(d),pt!==null&&(Tt.data=pt)))),(pt=N9?E9(s,d):T9(s,d))&&(Tt=jg(ue,"onBeforeInput"),0<Tt.length&&(Ge=new D2("onBeforeInput","beforeinput",null,d,ve),_e.push({event:Ge,listeners:Tt}),Ge.data=pt)),_B(_e,s,ue,d,ve)}jT(_e,l)})}function Jf(s,l,d){return{instance:s,listener:l,currentTarget:d}}function jg(s,l){for(var d=l+"Capture",g=[];s!==null;){var C=s,E=C.stateNode;if(C=C.tag,C!==5&&C!==26&&C!==27||E===null||(C=_f(s,d),C!=null&&g.unshift(Jf(s,C,E)),C=_f(s,l),C!=null&&g.push(Jf(s,C,E))),s.tag===3)return g;s=s.return}return[]}function jB(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function kT(s,l,d,g,C){for(var E=l._reactName,L=[];d!==null&&d!==g;){var U=d,Q=U.alternate,ue=U.stateNode;if(U=U.tag,Q!==null&&Q===g)break;U!==5&&U!==26&&U!==27||ue===null||(Q=ue,C?(ue=_f(d,E),ue!=null&&L.unshift(Jf(d,ue,Q))):C||(ue=_f(d,E),ue!=null&&L.push(Jf(d,ue,Q)))),d=d.return}L.length!==0&&s.push({event:l,listeners:L})}var CB=/\r\n?/g,kB=/\u0000|\uFFFD/g;function NT(s){return(typeof s=="string"?s:""+s).replace(CB,`
`).replace(kB,"")}function ET(s,l){return l=NT(l),NT(s)===l}function ar(s,l,d,g,C,E){switch(d){case"children":typeof g=="string"?l==="body"||l==="textarea"&&g===""||wu(s,g):(typeof g=="number"||typeof g=="bigint")&&l!=="body"&&wu(s,""+g);break;case"className":Em(s,"class",g);break;case"tabIndex":Em(s,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Em(s,d,g);break;case"style":E2(s,g,E);break;case"data":if(l!=="object"){Em(s,"data",g);break}case"src":case"href":if(g===""&&(l!=="a"||d!=="href")){s.removeAttribute(d);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(d);break}g=Pm(""+g),s.setAttribute(d,g);break;case"action":case"formAction":if(typeof g=="function"){s.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(d==="formAction"?(l!=="input"&&ar(s,l,"name",C.name,C,null),ar(s,l,"formEncType",C.formEncType,C,null),ar(s,l,"formMethod",C.formMethod,C,null),ar(s,l,"formTarget",C.formTarget,C,null)):(ar(s,l,"encType",C.encType,C,null),ar(s,l,"method",C.method,C,null),ar(s,l,"target",C.target,C,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(d);break}g=Pm(""+g),s.setAttribute(d,g);break;case"onClick":g!=null&&(s.onclick=Ms);break;case"onScroll":g!=null&&kt("scroll",s);break;case"onScrollEnd":g!=null&&kt("scrollend",s);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(d=g.__html,d!=null){if(C.children!=null)throw Error(n(60));s.innerHTML=d}}break;case"multiple":s.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":s.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){s.removeAttribute("xlink:href");break}d=Pm(""+g),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(d,""+g):s.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(d,""):s.removeAttribute(d);break;case"capture":case"download":g===!0?s.setAttribute(d,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(d,g):s.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?s.setAttribute(d,g):s.removeAttribute(d);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?s.removeAttribute(d):s.setAttribute(d,g);break;case"popover":kt("beforetoggle",s),kt("toggle",s),Nm(s,"popover",g);break;case"xlinkActuate":Ds(s,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Ds(s,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Ds(s,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Ds(s,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Ds(s,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Ds(s,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Ds(s,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Ds(s,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Ds(s,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Nm(s,"is",g);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=e9.get(d)||d,Nm(s,d,g))}}function u1(s,l,d,g,C,E){switch(d){case"style":E2(s,g,E);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(d=g.__html,d!=null){if(C.children!=null)throw Error(n(60));s.innerHTML=d}}break;case"children":typeof g=="string"?wu(s,g):(typeof g=="number"||typeof g=="bigint")&&wu(s,""+g);break;case"onScroll":g!=null&&kt("scroll",s);break;case"onScrollEnd":g!=null&&kt("scrollend",s);break;case"onClick":g!=null&&(s.onclick=Ms);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!b2.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(C=d.endsWith("Capture"),l=d.slice(2,C?d.length-7:void 0),E=s[or]||null,E=E!=null?E[d]:null,typeof E=="function"&&s.removeEventListener(l,E,C),typeof g=="function")){typeof E!="function"&&E!==null&&(d in s?s[d]=null:s.hasAttribute(d)&&s.removeAttribute(d)),s.addEventListener(l,g,C);break e}d in s?s[d]=g:g===!0?s.setAttribute(d,""):Nm(s,d,g)}}}function Nn(s,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",s),kt("load",s);var g=!1,C=!1,E;for(E in d)if(d.hasOwnProperty(E)){var L=d[E];if(L!=null)switch(E){case"src":g=!0;break;case"srcSet":C=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:ar(s,l,E,L,d,null)}}C&&ar(s,l,"srcSet",d.srcSet,d,null),g&&ar(s,l,"src",d.src,d,null);return;case"input":kt("invalid",s);var U=E=L=C=null,Q=null,ue=null;for(g in d)if(d.hasOwnProperty(g)){var ve=d[g];if(ve!=null)switch(g){case"name":C=ve;break;case"type":L=ve;break;case"checked":Q=ve;break;case"defaultChecked":ue=ve;break;case"value":E=ve;break;case"defaultValue":U=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(n(137,l));break;default:ar(s,l,g,ve,d,null)}}j2(s,E,U,Q,ue,L,C,!1);return;case"select":kt("invalid",s),g=L=E=null;for(C in d)if(d.hasOwnProperty(C)&&(U=d[C],U!=null))switch(C){case"value":E=U;break;case"defaultValue":L=U;break;case"multiple":g=U;default:ar(s,l,C,U,d,null)}l=E,d=L,s.multiple=!!g,l!=null?xu(s,!!g,l,!1):d!=null&&xu(s,!!g,d,!0);return;case"textarea":kt("invalid",s),E=C=g=null;for(L in d)if(d.hasOwnProperty(L)&&(U=d[L],U!=null))switch(L){case"value":g=U;break;case"defaultValue":C=U;break;case"children":E=U;break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(n(91));break;default:ar(s,l,L,U,d,null)}k2(s,g,C,E);return;case"option":for(Q in d)if(d.hasOwnProperty(Q)&&(g=d[Q],g!=null))switch(Q){case"selected":s.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:ar(s,l,Q,g,d,null)}return;case"dialog":kt("beforetoggle",s),kt("toggle",s),kt("cancel",s),kt("close",s);break;case"iframe":case"object":kt("load",s);break;case"video":case"audio":for(g=0;g<Zf.length;g++)kt(Zf[g],s);break;case"image":kt("error",s),kt("load",s);break;case"details":kt("toggle",s);break;case"embed":case"source":case"link":kt("error",s),kt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ue in d)if(d.hasOwnProperty(ue)&&(g=d[ue],g!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:ar(s,l,ue,g,d,null)}return;default:if(j_(l)){for(ve in d)d.hasOwnProperty(ve)&&(g=d[ve],g!==void 0&&u1(s,l,ve,g,d,void 0));return}}for(U in d)d.hasOwnProperty(U)&&(g=d[U],g!=null&&ar(s,l,U,g,d,null))}function NB(s,l,d,g){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var C=null,E=null,L=null,U=null,Q=null,ue=null,ve=null;for(he in d){var _e=d[he];if(d.hasOwnProperty(he)&&_e!=null)switch(he){case"checked":break;case"value":break;case"defaultValue":Q=_e;default:g.hasOwnProperty(he)||ar(s,l,he,null,g,_e)}}for(var de in g){var he=g[de];if(_e=d[de],g.hasOwnProperty(de)&&(he!=null||_e!=null))switch(de){case"type":E=he;break;case"name":C=he;break;case"checked":ue=he;break;case"defaultChecked":ve=he;break;case"value":L=he;break;case"defaultValue":U=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(n(137,l));break;default:he!==_e&&ar(s,l,de,he,g,_e)}}w_(s,L,U,Q,ue,ve,E,C);return;case"select":he=L=U=de=null;for(E in d)if(Q=d[E],d.hasOwnProperty(E)&&Q!=null)switch(E){case"value":break;case"multiple":he=Q;default:g.hasOwnProperty(E)||ar(s,l,E,null,g,Q)}for(C in g)if(E=g[C],Q=d[C],g.hasOwnProperty(C)&&(E!=null||Q!=null))switch(C){case"value":de=E;break;case"defaultValue":U=E;break;case"multiple":L=E;default:E!==Q&&ar(s,l,C,E,g,Q)}l=U,d=L,g=he,de!=null?xu(s,!!d,de,!1):!!g!=!!d&&(l!=null?xu(s,!!d,l,!0):xu(s,!!d,d?[]:"",!1));return;case"textarea":he=de=null;for(U in d)if(C=d[U],d.hasOwnProperty(U)&&C!=null&&!g.hasOwnProperty(U))switch(U){case"value":break;case"children":break;default:ar(s,l,U,null,g,C)}for(L in g)if(C=g[L],E=d[L],g.hasOwnProperty(L)&&(C!=null||E!=null))switch(L){case"value":de=C;break;case"defaultValue":he=C;break;case"children":break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(n(91));break;default:C!==E&&ar(s,l,L,C,g,E)}C2(s,de,he);return;case"option":for(var qe in d)if(de=d[qe],d.hasOwnProperty(qe)&&de!=null&&!g.hasOwnProperty(qe))switch(qe){case"selected":s.selected=!1;break;default:ar(s,l,qe,null,g,de)}for(Q in g)if(de=g[Q],he=d[Q],g.hasOwnProperty(Q)&&de!==he&&(de!=null||he!=null))switch(Q){case"selected":s.selected=de&&typeof de!="function"&&typeof de!="symbol";break;default:ar(s,l,Q,de,g,he)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var tt in d)de=d[tt],d.hasOwnProperty(tt)&&de!=null&&!g.hasOwnProperty(tt)&&ar(s,l,tt,null,g,de);for(ue in g)if(de=g[ue],he=d[ue],g.hasOwnProperty(ue)&&de!==he&&(de!=null||he!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(n(137,l));break;default:ar(s,l,ue,de,g,he)}return;default:if(j_(l)){for(var ir in d)de=d[ir],d.hasOwnProperty(ir)&&de!==void 0&&!g.hasOwnProperty(ir)&&u1(s,l,ir,void 0,g,de);for(ve in g)de=g[ve],he=d[ve],!g.hasOwnProperty(ve)||de===he||de===void 0&&he===void 0||u1(s,l,ve,de,g,he);return}}for(var ie in d)de=d[ie],d.hasOwnProperty(ie)&&de!=null&&!g.hasOwnProperty(ie)&&ar(s,l,ie,null,g,de);for(_e in g)de=g[_e],he=d[_e],!g.hasOwnProperty(_e)||de===he||de==null&&he==null||ar(s,l,_e,de,g,he)}function TT(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function EB(){if(typeof performance.getEntriesByType=="function"){for(var s=0,l=0,d=performance.getEntriesByType("resource"),g=0;g<d.length;g++){var C=d[g],E=C.transferSize,L=C.initiatorType,U=C.duration;if(E&&U&&TT(L)){for(L=0,U=C.responseEnd,g+=1;g<d.length;g++){var Q=d[g],ue=Q.startTime;if(ue>U)break;var ve=Q.transferSize,_e=Q.initiatorType;ve&&TT(_e)&&(Q=Q.responseEnd,L+=ve*(Q<U?1:(U-ue)/(Q-ue)))}if(--g,l+=8*(E+L)/(C.duration/1e3),s++,10<s)break}}if(0<s)return l/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var d1=null,f1=null;function Cg(s){return s.nodeType===9?s:s.ownerDocument}function PT(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function AT(s,l){if(s===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&l==="foreignObject"?0:s}function p1(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var h1=null;function TB(){var s=window.event;return s&&s.type==="popstate"?s===h1?!1:(h1=s,!0):(h1=null,!1)}var RT=typeof setTimeout=="function"?setTimeout:void 0,PB=typeof clearTimeout=="function"?clearTimeout:void 0,OT=typeof Promise=="function"?Promise:void 0,AB=typeof queueMicrotask=="function"?queueMicrotask:typeof OT<"u"?function(s){return OT.resolve(null).then(s).catch(RB)}:RT;function RB(s){setTimeout(function(){throw s})}function ul(s){return s==="head"}function DT(s,l){var d=l,g=0;do{var C=d.nextSibling;if(s.removeChild(d),C&&C.nodeType===8)if(d=C.data,d==="/$"||d==="/&"){if(g===0){s.removeChild(C),Ju(l);return}g--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")g++;else if(d==="html")ep(s.ownerDocument.documentElement);else if(d==="head"){d=s.ownerDocument.head,ep(d);for(var E=d.firstChild;E;){var L=E.nextSibling,U=E.nodeName;E[yf]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&E.rel.toLowerCase()==="stylesheet"||d.removeChild(E),E=L}}else d==="body"&&ep(s.ownerDocument.body);d=C}while(d);Ju(l)}function MT(s,l){var d=s;s=0;do{var g=d.nextSibling;if(d.nodeType===1?l?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(l?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),g&&g.nodeType===8)if(d=g.data,d==="/$"){if(s===0)break;s--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||s++;d=g}while(d)}function m1(s){var l=s.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":m1(d),__(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}s.removeChild(d)}}function OB(s,l,d,g){for(;s.nodeType===1;){var C=d;if(s.nodeName.toLowerCase()!==l.toLowerCase()){if(!g&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(g){if(!s[yf])switch(l){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(E=s.getAttribute("rel"),E==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(E!==C.rel||s.getAttribute("href")!==(C.href==null||C.href===""?null:C.href)||s.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin)||s.getAttribute("title")!==(C.title==null?null:C.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(E=s.getAttribute("src"),(E!==(C.src==null?null:C.src)||s.getAttribute("type")!==(C.type==null?null:C.type)||s.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin))&&E&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(l==="input"&&s.type==="hidden"){var E=C.name==null?null:""+C.name;if(C.type==="hidden"&&s.getAttribute("name")===E)return s}else return s;if(s=ei(s.nextSibling),s===null)break}return null}function DB(s,l,d){if(l==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!d||(s=ei(s.nextSibling),s===null))return null;return s}function LT(s,l){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=ei(s.nextSibling),s===null))return null;return s}function g1(s){return s.data==="$?"||s.data==="$~"}function v1(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function MB(s,l){var d=s.ownerDocument;if(s.data==="$~")s._reactRetry=l;else if(s.data!=="$?"||d.readyState!=="loading")l();else{var g=function(){l(),d.removeEventListener("DOMContentLoaded",g)};d.addEventListener("DOMContentLoaded",g),s._reactRetry=g}}function ei(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return s}var y1=null;function IT(s){s=s.nextSibling;for(var l=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"||d==="/&"){if(l===0)return ei(s.nextSibling);l--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||l++}s=s.nextSibling}return null}function $T(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(l===0)return s;l--}else d!=="/$"&&d!=="/&"||l++}s=s.previousSibling}return null}function BT(s,l,d){switch(l=Cg(d),s){case"html":if(s=l.documentElement,!s)throw Error(n(452));return s;case"head":if(s=l.head,!s)throw Error(n(453));return s;case"body":if(s=l.body,!s)throw Error(n(454));return s;default:throw Error(n(451))}}function ep(s){for(var l=s.attributes;l.length;)s.removeAttributeNode(l[0]);__(s)}var ti=new Map,zT=new Set;function kg(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Xs=$.d;$.d={f:LB,r:IB,D:$B,C:BB,L:zB,m:FB,X:UB,S:qB,M:HB};function LB(){var s=Xs.f(),l=vg();return s||l}function IB(s){var l=yu(s);l!==null&&l.tag===5&&l.type==="form"?nE(l):Xs.r(s)}var Qu=typeof document>"u"?null:document;function FT(s,l,d){var g=Qu;if(g&&typeof l=="string"&&l){var C=Ga(l);C='link[rel="'+s+'"][href="'+C+'"]',typeof d=="string"&&(C+='[crossorigin="'+d+'"]'),zT.has(C)||(zT.add(C),s={rel:s,crossOrigin:d,href:l},g.querySelector(C)===null&&(l=g.createElement("link"),Nn(l,"link",s),dn(l),g.head.appendChild(l)))}}function $B(s){Xs.D(s),FT("dns-prefetch",s,null)}function BB(s,l){Xs.C(s,l),FT("preconnect",s,l)}function zB(s,l,d){Xs.L(s,l,d);var g=Qu;if(g&&s&&l){var C='link[rel="preload"][as="'+Ga(l)+'"]';l==="image"&&d&&d.imageSrcSet?(C+='[imagesrcset="'+Ga(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(C+='[imagesizes="'+Ga(d.imageSizes)+'"]')):C+='[href="'+Ga(s)+'"]';var E=C;switch(l){case"style":E=Xu(s);break;case"script":E=Zu(s)}ti.has(E)||(s=m({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:s,as:l},d),ti.set(E,s),g.querySelector(C)!==null||l==="style"&&g.querySelector(tp(E))||l==="script"&&g.querySelector(rp(E))||(l=g.createElement("link"),Nn(l,"link",s),dn(l),g.head.appendChild(l)))}}function FB(s,l){Xs.m(s,l);var d=Qu;if(d&&s){var g=l&&typeof l.as=="string"?l.as:"script",C='link[rel="modulepreload"][as="'+Ga(g)+'"][href="'+Ga(s)+'"]',E=C;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=Zu(s)}if(!ti.has(E)&&(s=m({rel:"modulepreload",href:s},l),ti.set(E,s),d.querySelector(C)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(rp(E)))return}g=d.createElement("link"),Nn(g,"link",s),dn(g),d.head.appendChild(g)}}}function qB(s,l,d){Xs.S(s,l,d);var g=Qu;if(g&&s){var C=bu(g).hoistableStyles,E=Xu(s);l=l||"default";var L=C.get(E);if(!L){var U={loading:0,preload:null};if(L=g.querySelector(tp(E)))U.loading=5;else{s=m({rel:"stylesheet",href:s,"data-precedence":l},d),(d=ti.get(E))&&b1(s,d);var Q=L=g.createElement("link");dn(Q),Nn(Q,"link",s),Q._p=new Promise(function(ue,ve){Q.onload=ue,Q.onerror=ve}),Q.addEventListener("load",function(){U.loading|=1}),Q.addEventListener("error",function(){U.loading|=2}),U.loading|=4,Ng(L,l,g)}L={type:"stylesheet",instance:L,count:1,state:U},C.set(E,L)}}}function UB(s,l){Xs.X(s,l);var d=Qu;if(d&&s){var g=bu(d).hoistableScripts,C=Zu(s),E=g.get(C);E||(E=d.querySelector(rp(C)),E||(s=m({src:s,async:!0},l),(l=ti.get(C))&&_1(s,l),E=d.createElement("script"),dn(E),Nn(E,"link",s),d.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},g.set(C,E))}}function HB(s,l){Xs.M(s,l);var d=Qu;if(d&&s){var g=bu(d).hoistableScripts,C=Zu(s),E=g.get(C);E||(E=d.querySelector(rp(C)),E||(s=m({src:s,async:!0,type:"module"},l),(l=ti.get(C))&&_1(s,l),E=d.createElement("script"),dn(E),Nn(E,"link",s),d.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},g.set(C,E))}}function qT(s,l,d,g){var C=(C=ke.current)?kg(C):null;if(!C)throw Error(n(446));switch(s){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=Xu(d.href),d=bu(C).hoistableStyles,g=d.get(l),g||(g={type:"style",instance:null,count:0,state:null},d.set(l,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){s=Xu(d.href);var E=bu(C).hoistableStyles,L=E.get(s);if(L||(C=C.ownerDocument||C,L={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(s,L),(E=C.querySelector(tp(s)))&&!E._p&&(L.instance=E,L.state.loading=5),ti.has(s)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},ti.set(s,d),E||WB(C,s,d,L.state))),l&&g===null)throw Error(n(528,""));return L}if(l&&g!==null)throw Error(n(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Zu(d),d=bu(C).hoistableScripts,g=d.get(l),g||(g={type:"script",instance:null,count:0,state:null},d.set(l,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,s))}}function Xu(s){return'href="'+Ga(s)+'"'}function tp(s){return'link[rel="stylesheet"]['+s+"]"}function UT(s){return m({},s,{"data-precedence":s.precedence,precedence:null})}function WB(s,l,d,g){s.querySelector('link[rel="preload"][as="style"]['+l+"]")?g.loading=1:(l=s.createElement("link"),g.preload=l,l.addEventListener("load",function(){return g.loading|=1}),l.addEventListener("error",function(){return g.loading|=2}),Nn(l,"link",d),dn(l),s.head.appendChild(l))}function Zu(s){return'[src="'+Ga(s)+'"]'}function rp(s){return"script[async]"+s}function HT(s,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var g=s.querySelector('style[data-href~="'+Ga(d.href)+'"]');if(g)return l.instance=g,dn(g),g;var C=m({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return g=(s.ownerDocument||s).createElement("style"),dn(g),Nn(g,"style",C),Ng(g,d.precedence,s),l.instance=g;case"stylesheet":C=Xu(d.href);var E=s.querySelector(tp(C));if(E)return l.state.loading|=4,l.instance=E,dn(E),E;g=UT(d),(C=ti.get(C))&&b1(g,C),E=(s.ownerDocument||s).createElement("link"),dn(E);var L=E;return L._p=new Promise(function(U,Q){L.onload=U,L.onerror=Q}),Nn(E,"link",g),l.state.loading|=4,Ng(E,d.precedence,s),l.instance=E;case"script":return E=Zu(d.src),(C=s.querySelector(rp(E)))?(l.instance=C,dn(C),C):(g=d,(C=ti.get(E))&&(g=m({},d),_1(g,C)),s=s.ownerDocument||s,C=s.createElement("script"),dn(C),Nn(C,"link",g),s.head.appendChild(C),l.instance=C);case"void":return null;default:throw Error(n(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(g=l.instance,l.state.loading|=4,Ng(g,d.precedence,s));return l.instance}function Ng(s,l,d){for(var g=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),C=g.length?g[g.length-1]:null,E=C,L=0;L<g.length;L++){var U=g[L];if(U.dataset.precedence===l)E=U;else if(E!==C)break}E?E.parentNode.insertBefore(s,E.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(s,l.firstChild))}function b1(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.title==null&&(s.title=l.title)}function _1(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.integrity==null&&(s.integrity=l.integrity)}var Eg=null;function WT(s,l,d){if(Eg===null){var g=new Map,C=Eg=new Map;C.set(d,g)}else C=Eg,g=C.get(d),g||(g=new Map,C.set(d,g));if(g.has(s))return g;for(g.set(s,null),d=d.getElementsByTagName(s),C=0;C<d.length;C++){var E=d[C];if(!(E[yf]||E[bt]||s==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var L=E.getAttribute(l)||"";L=s+L;var U=g.get(L);U?U.push(E):g.set(L,[E])}}return g}function KT(s,l,d){s=s.ownerDocument||s,s.head.insertBefore(d,l==="title"?s.querySelector("head > title"):null)}function KB(s,l,d){if(d===1||l.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return s=l.disabled,typeof l.precedence=="string"&&s==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function GT(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function GB(s,l,d,g){if(d.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var C=Xu(g.href),E=l.querySelector(tp(C));if(E){l=E._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(s.count++,s=Tg.bind(s),l.then(s,s)),d.state.loading|=4,d.instance=E,dn(E);return}E=l.ownerDocument||l,g=UT(g),(C=ti.get(C))&&b1(g,C),E=E.createElement("link"),dn(E);var L=E;L._p=new Promise(function(U,Q){L.onload=U,L.onerror=Q}),Nn(E,"link",g),d.instance=E}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(s.count++,d=Tg.bind(s),l.addEventListener("load",d),l.addEventListener("error",d))}}var x1=0;function VB(s,l){return s.stylesheets&&s.count===0&&Ag(s,s.stylesheets),0<s.count||0<s.imgCount?function(d){var g=setTimeout(function(){if(s.stylesheets&&Ag(s,s.stylesheets),s.unsuspend){var E=s.unsuspend;s.unsuspend=null,E()}},6e4+l);0<s.imgBytes&&x1===0&&(x1=62500*EB());var C=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Ag(s,s.stylesheets),s.unsuspend)){var E=s.unsuspend;s.unsuspend=null,E()}},(s.imgBytes>x1?50:800)+l);return s.unsuspend=d,function(){s.unsuspend=null,clearTimeout(g),clearTimeout(C)}}:null}function Tg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ag(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Pg=null;function Ag(s,l){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Pg=new Map,l.forEach(YB,s),Pg=null,Tg.call(s))}function YB(s,l){if(!(l.state.loading&4)){var d=Pg.get(s);if(d)var g=d.get(null);else{d=new Map,Pg.set(s,d);for(var C=s.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<C.length;E++){var L=C[E];(L.nodeName==="LINK"||L.getAttribute("media")!=="not all")&&(d.set(L.dataset.precedence,L),g=L)}g&&d.set(null,g)}C=l.instance,L=C.getAttribute("data-precedence"),E=d.get(L)||g,E===g&&d.set(null,C),d.set(L,C),this.count++,g=Tg.bind(this),C.addEventListener("load",g),C.addEventListener("error",g),E?E.parentNode.insertBefore(C,E.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(C,s.firstChild)),l.state.loading|=4}}var np={$$typeof:T,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function QB(s,l,d,g,C,E,L,U,Q){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fe(0),this.hiddenUpdates=fe(null),this.identifierPrefix=g,this.onUncaughtError=C,this.onCaughtError=E,this.onRecoverableError=L,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Q,this.incompleteTransitions=new Map}function VT(s,l,d,g,C,E,L,U,Q,ue,ve,_e){return s=new QB(s,l,d,L,Q,ue,ve,_e,U),l=1,E===!0&&(l|=24),E=Ea(3,null,null,l),s.current=E,E.stateNode=s,l=e0(),l.refCount++,s.pooledCache=l,l.refCount++,E.memoizedState={element:g,isDehydrated:d,cache:l},a0(E),s}function YT(s){return s?(s=Tu,s):Tu}function QT(s,l,d,g,C,E){C=YT(C),g.context===null?g.context=C:g.pendingContext=C,g=Jo(l),g.payload={element:d},E=E===void 0?null:E,E!==null&&(g.callback=E),d=el(s,g,l),d!==null&&(pa(d,s,l),Mf(d,s,l))}function XT(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<l?d:l}}function w1(s,l){XT(s,l),(s=s.alternate)&&XT(s,l)}function ZT(s){if(s.tag===13||s.tag===31){var l=ac(s,67108864);l!==null&&pa(l,s,67108864),w1(s,67108864)}}function JT(s){if(s.tag===13||s.tag===31){var l=Oa();l=it(l);var d=ac(s,l);d!==null&&pa(d,s,l),w1(s,l)}}var Rg=!0;function XB(s,l,d,g){var C=O.T;O.T=null;var E=$.p;try{$.p=2,S1(s,l,d,g)}finally{$.p=E,O.T=C}}function ZB(s,l,d,g){var C=O.T;O.T=null;var E=$.p;try{$.p=8,S1(s,l,d,g)}finally{$.p=E,O.T=C}}function S1(s,l,d,g){if(Rg){var C=j1(g);if(C===null)c1(s,l,g,Og,d),tP(s,g);else if(ez(C,s,l,d,g))g.stopPropagation();else if(tP(s,g),l&4&&-1<JB.indexOf(s)){for(;C!==null;){var E=yu(C);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var L=ja(E.pendingLanes);if(L!==0){var U=E;for(U.pendingLanes|=2,U.entangledLanes|=2;L;){var Q=1<<31-xr(L);U.entanglements[1]|=Q,L&=~Q}ns(E),(Vt&6)===0&&(mg=Gt()+500,Xf(0))}}break;case 31:case 13:U=ac(E,2),U!==null&&pa(U,E,2),vg(),w1(E,2)}if(E=j1(g),E===null&&c1(s,l,g,Og,d),E===C)break;C=E}C!==null&&g.stopPropagation()}else c1(s,l,g,null,d)}}function j1(s){return s=k_(s),C1(s)}var Og=null;function C1(s){if(Og=null,s=vu(s),s!==null){var l=o(s);if(l===null)s=null;else{var d=l.tag;if(d===13){if(s=u(l),s!==null)return s;s=null}else if(d===31){if(s=c(l),s!==null)return s;s=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null)}}return Og=s,null}function eP(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cn()){case Hn:return 2;case ia:return 8;case Re:case ut:return 32;case jt:return 268435456;default:return 32}default:return 32}}var k1=!1,dl=null,fl=null,pl=null,ap=new Map,ip=new Map,hl=[],JB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tP(s,l){switch(s){case"focusin":case"focusout":dl=null;break;case"dragenter":case"dragleave":fl=null;break;case"mouseover":case"mouseout":pl=null;break;case"pointerover":case"pointerout":ap.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":ip.delete(l.pointerId)}}function sp(s,l,d,g,C,E){return s===null||s.nativeEvent!==E?(s={blockedOn:l,domEventName:d,eventSystemFlags:g,nativeEvent:E,targetContainers:[C]},l!==null&&(l=yu(l),l!==null&&ZT(l)),s):(s.eventSystemFlags|=g,l=s.targetContainers,C!==null&&l.indexOf(C)===-1&&l.push(C),s)}function ez(s,l,d,g,C){switch(l){case"focusin":return dl=sp(dl,s,l,d,g,C),!0;case"dragenter":return fl=sp(fl,s,l,d,g,C),!0;case"mouseover":return pl=sp(pl,s,l,d,g,C),!0;case"pointerover":var E=C.pointerId;return ap.set(E,sp(ap.get(E)||null,s,l,d,g,C)),!0;case"gotpointercapture":return E=C.pointerId,ip.set(E,sp(ip.get(E)||null,s,l,d,g,C)),!0}return!1}function rP(s){var l=vu(s.target);if(l!==null){var d=o(l);if(d!==null){if(l=d.tag,l===13){if(l=u(d),l!==null){s.blockedOn=l,pe(s.priority,function(){JT(d)});return}}else if(l===31){if(l=c(d),l!==null){s.blockedOn=l,pe(s.priority,function(){JT(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Dg(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var d=j1(s.nativeEvent);if(d===null){d=s.nativeEvent;var g=new d.constructor(d.type,d);C_=g,d.target.dispatchEvent(g),C_=null}else return l=yu(d),l!==null&&ZT(l),s.blockedOn=d,!1;l.shift()}return!0}function nP(s,l,d){Dg(s)&&d.delete(l)}function tz(){k1=!1,dl!==null&&Dg(dl)&&(dl=null),fl!==null&&Dg(fl)&&(fl=null),pl!==null&&Dg(pl)&&(pl=null),ap.forEach(nP),ip.forEach(nP)}function Mg(s,l){s.blockedOn===l&&(s.blockedOn=null,k1||(k1=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,tz)))}var Lg=null;function aP(s){Lg!==s&&(Lg=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Lg===s&&(Lg=null);for(var l=0;l<s.length;l+=3){var d=s[l],g=s[l+1],C=s[l+2];if(typeof g!="function"){if(C1(g||d)===null)continue;break}var E=yu(d);E!==null&&(s.splice(l,3),l-=3,j0(E,{pending:!0,data:C,method:d.method,action:g},g,C))}}))}function Ju(s){function l(Q){return Mg(Q,s)}dl!==null&&Mg(dl,s),fl!==null&&Mg(fl,s),pl!==null&&Mg(pl,s),ap.forEach(l),ip.forEach(l);for(var d=0;d<hl.length;d++){var g=hl[d];g.blockedOn===s&&(g.blockedOn=null)}for(;0<hl.length&&(d=hl[0],d.blockedOn===null);)rP(d),d.blockedOn===null&&hl.shift();if(d=(s.ownerDocument||s).$$reactFormReplay,d!=null)for(g=0;g<d.length;g+=3){var C=d[g],E=d[g+1],L=C[or]||null;if(typeof E=="function")L||aP(d);else if(L){var U=null;if(E&&E.hasAttribute("formAction")){if(C=E,L=E[or]||null)U=L.formAction;else if(C1(C)!==null)continue}else U=L.action;typeof U=="function"?d[g+1]=U:(d.splice(g,3),g-=3),aP(d)}}}function iP(){function s(E){E.canIntercept&&E.info==="react-transition"&&E.intercept({handler:function(){return new Promise(function(L){return C=L})},focusReset:"manual",scroll:"manual"})}function l(){C!==null&&(C(),C=null),g||setTimeout(d,20)}function d(){if(!g&&!navigation.transition){var E=navigation.currentEntry;E&&E.url!=null&&navigation.navigate(E.url,{state:E.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,C=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(d,100),function(){g=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),C!==null&&(C(),C=null)}}}function N1(s){this._internalRoot=s}Ig.prototype.render=N1.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(n(409));var d=l.current,g=Oa();QT(d,g,s,l,null,null)},Ig.prototype.unmount=N1.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;QT(s.current,2,null,s,null,null),vg(),l[oa]=null}};function Ig(s){this._internalRoot=s}Ig.prototype.unstable_scheduleHydration=function(s){if(s){var l=St();s={blockedOn:null,target:s,priority:l};for(var d=0;d<hl.length&&l!==0&&l<hl[d].priority;d++);hl.splice(d,0,s),d===0&&rP(s)}};var sP=t.version;if(sP!=="19.2.4")throw Error(n(527,sP,"19.2.4"));$.findDOMNode=function(s){var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=h(l),s=s!==null?f(s):null,s=s===null?null:s.stateNode,s};var rz={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $g=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$g.isDisabled&&$g.supportsFiber)try{ot=$g.inject(rz),wt=$g}catch{}}return lp.createRoot=function(s,l){if(!a(s))throw Error(n(299));var d=!1,g="",C=pE,E=hE,L=mE;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(C=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(L=l.onRecoverableError)),l=VT(s,1,!1,null,null,d,g,null,C,E,L,iP),s[oa]=l.current,l1(s),new N1(l)},lp.hydrateRoot=function(s,l,d){if(!a(s))throw Error(n(299));var g=!1,C="",E=pE,L=hE,U=mE,Q=null;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(C=d.identifierPrefix),d.onUncaughtError!==void 0&&(E=d.onUncaughtError),d.onCaughtError!==void 0&&(L=d.onCaughtError),d.onRecoverableError!==void 0&&(U=d.onRecoverableError),d.formState!==void 0&&(Q=d.formState)),l=VT(s,1,!0,l,d??null,g,C,Q,E,L,U,iP),l.context=YT(null),d=l.current,g=Oa(),g=it(g),C=Jo(g),C.callback=null,el(d,C,g),d=g,l.current.lanes=d,je(l,d),ns(l),s[oa]=l.current,l1(s),new Ig(l)},lp.version="19.2.4",lp}var vP;function hz(){if(vP)return A1.exports;vP=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),A1.exports=pz(),A1.exports}var mz=hz(),Vd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},gz={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},El,Cj,vM,vz=(vM=class{constructor(){Ie(this,El,gz);Ie(this,Cj,!1)}setTimeoutProvider(e){Ee(this,El,e)}setTimeout(e,t){return G(this,El).setTimeout(e,t)}clearTimeout(e){G(this,El).clearTimeout(e)}setInterval(e,t){return G(this,El).setInterval(e,t)}clearInterval(e){G(this,El).clearInterval(e)}},El=new WeakMap,Cj=new WeakMap,vM),Pc=new vz;function yz(e){setTimeout(e,0)}var Yc=typeof window>"u"||"Deno"in globalThis;function Xn(){}function bz(e,t){return typeof e=="function"?e(t):e}function Xw(e){return typeof e=="number"&&e>=0&&e!==1/0}function TM(e,t){return Math.max(e+(t||0)-Date.now(),0)}function $l(e,t){return typeof e=="function"?e(t):e}function pi(e,t){return typeof e=="function"?e(t):e}function yP(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:o,queryKey:u,stale:c}=e;if(u){if(n){if(t.queryHash!==Nj(u,t.options))return!1}else if(!dh(t.queryKey,u))return!1}if(r!=="all"){const p=t.isActive();if(r==="active"&&!p||r==="inactive"&&p)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||a&&a!==t.state.fetchStatus||o&&!o(t))}function bP(e,t){const{exact:r,status:n,predicate:a,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(Qc(t.options.mutationKey)!==Qc(o))return!1}else if(!dh(t.options.mutationKey,o))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function Nj(e,t){return((t==null?void 0:t.queryKeyHashFn)||Qc)(e)}function Qc(e){return JSON.stringify(e,(t,r)=>Zw(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function dh(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>dh(e[r],t[r])):!1}var _z=Object.prototype.hasOwnProperty;function PM(e,t,r=0){if(e===t)return e;if(r>500)return t;const n=_P(e)&&_P(t);if(!n&&!(Zw(e)&&Zw(t)))return t;const o=(n?e:Object.keys(e)).length,u=n?t:Object.keys(t),c=u.length,p=n?new Array(c):{};let h=0;for(let f=0;f<c;f++){const m=n?f:u[f],b=e[m],_=t[m];if(b===_){p[m]=b,(n?f<o:_z.call(e,m))&&h++;continue}if(b===null||_===null||typeof b!="object"||typeof _!="object"){p[m]=_;continue}const j=PM(b,_,r+1);p[m]=j,j===b&&h++}return o===c&&h===o?e:p}function Wv(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function _P(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Zw(e){if(!xP(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!xP(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function xP(e){return Object.prototype.toString.call(e)==="[object Object]"}function xz(e){return new Promise(t=>{Pc.setTimeout(t,e)})}function Jw(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?PM(e,t):t}function wz(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function Sz(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Ej=Symbol();function AM(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Ej?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Tj(e,t){return typeof e=="function"?e(...t):!!e}function jz(e,t,r){let n=!1,a;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(a??(a=t()),n||(n=!0,a.aborted?r():a.addEventListener("abort",r,{once:!0})),a)}),e}var Lc,Tl,kd,yM,Cz=(yM=class extends Vd{constructor(){super();Ie(this,Lc);Ie(this,Tl);Ie(this,kd);Ee(this,kd,t=>{if(!Yc&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){G(this,Tl)||this.setEventListener(G(this,kd))}onUnsubscribe(){var t;this.hasListeners()||((t=G(this,Tl))==null||t.call(this),Ee(this,Tl,void 0))}setEventListener(t){var r;Ee(this,kd,t),(r=G(this,Tl))==null||r.call(this),Ee(this,Tl,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){G(this,Lc)!==t&&(Ee(this,Lc,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof G(this,Lc)=="boolean"?G(this,Lc):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Lc=new WeakMap,Tl=new WeakMap,kd=new WeakMap,yM),Pj=new Cz;function eS(){let e,t;const r=new Promise((a,o)=>{e=a,t=o});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var kz=yz;function Nz(){let e=[],t=0,r=c=>{c()},n=c=>{c()},a=kz;const o=c=>{t?e.push(c):a(()=>{r(c)})},u=()=>{const c=e;e=[],c.length&&a(()=>{n(()=>{c.forEach(p=>{r(p)})})})};return{batch:c=>{let p;t++;try{p=c()}finally{t--,t||u()}return p},batchCalls:c=>(...p)=>{o(()=>{c(...p)})},schedule:o,setNotifyFunction:c=>{r=c},setBatchNotifyFunction:c=>{n=c},setScheduler:c=>{a=c}}}var nn=Nz(),Nd,Pl,Ed,bM,Ez=(bM=class extends Vd{constructor(){super();Ie(this,Nd,!0);Ie(this,Pl);Ie(this,Ed);Ee(this,Ed,t=>{if(!Yc&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){G(this,Pl)||this.setEventListener(G(this,Ed))}onUnsubscribe(){var t;this.hasListeners()||((t=G(this,Pl))==null||t.call(this),Ee(this,Pl,void 0))}setEventListener(t){var r;Ee(this,Ed,t),(r=G(this,Pl))==null||r.call(this),Ee(this,Pl,t(this.setOnline.bind(this)))}setOnline(t){G(this,Nd)!==t&&(Ee(this,Nd,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return G(this,Nd)}},Nd=new WeakMap,Pl=new WeakMap,Ed=new WeakMap,bM),Kv=new Ez;function Tz(e){return Math.min(1e3*2**e,3e4)}function RM(e){return(e??"online")==="online"?Kv.isOnline():!0}var tS=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function OM(e){let t=!1,r=0,n;const a=eS(),o=()=>a.status!=="pending",u=w=>{var y;if(!o()){const x=new tS(w);b(x),(y=e.onCancel)==null||y.call(e,x)}},c=()=>{t=!0},p=()=>{t=!1},h=()=>Pj.isFocused()&&(e.networkMode==="always"||Kv.isOnline())&&e.canRun(),f=()=>RM(e.networkMode)&&e.canRun(),m=w=>{o()||(n==null||n(),a.resolve(w))},b=w=>{o()||(n==null||n(),a.reject(w))},_=()=>new Promise(w=>{var y;n=x=>{(o()||h())&&w(x)},(y=e.onPause)==null||y.call(e)}).then(()=>{var w;n=void 0,o()||(w=e.onContinue)==null||w.call(e)}),j=()=>{if(o())return;let w;const y=r===0?e.initialPromise:void 0;try{w=y??e.fn()}catch(x){w=Promise.reject(x)}Promise.resolve(w).then(m).catch(x=>{var A;if(o())return;const S=e.retry??(Yc?0:3),T=e.retryDelay??Tz,N=typeof T=="function"?T(r,x):T,P=S===!0||typeof S=="number"&&r<S||typeof S=="function"&&S(r,x);if(t||!P){b(x);return}r++,(A=e.onFail)==null||A.call(e,r,x),xz(N).then(()=>h()?void 0:_()).then(()=>{t?b(x):j()})})};return{promise:a,status:()=>a.status,cancel:u,continue:()=>(n==null||n(),a),cancelRetry:c,continueRetry:p,canStart:f,start:()=>(f()?j():_().then(j),a)}}var Ic,_M,DM=(_M=class{constructor(){Ie(this,Ic)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Xw(this.gcTime)&&Ee(this,Ic,Pc.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Yc?1/0:300*1e3))}clearGcTimeout(){G(this,Ic)&&(Pc.clearTimeout(G(this,Ic)),Ee(this,Ic,void 0))}},Ic=new WeakMap,_M),$c,Td,fi,Bc,yn,$h,zc,Mi,po,xM,Pz=(xM=class extends DM{constructor(t){super();Ie(this,Mi);Ie(this,$c);Ie(this,Td);Ie(this,fi);Ie(this,Bc);Ie(this,yn);Ie(this,$h);Ie(this,zc);Ee(this,zc,!1),Ee(this,$h,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ee(this,Bc,t.client),Ee(this,fi,G(this,Bc).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ee(this,$c,SP(this.options)),this.state=t.state??G(this,$c),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=G(this,yn))==null?void 0:t.promise}setOptions(t){if(this.options={...G(this,$h),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=SP(this.options);r.data!==void 0&&(this.setState(wP(r.data,r.dataUpdatedAt)),Ee(this,$c,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&G(this,fi).remove(this)}setData(t,r){const n=Jw(this.state.data,t,this.options);return vt(this,Mi,po).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){vt(this,Mi,po).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=G(this,yn))==null?void 0:n.promise;return(a=G(this,yn))==null||a.cancel(t),r?r.then(Xn).catch(Xn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(G(this,$c))}isActive(){return this.observers.some(t=>pi(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ej||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>$l(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!TM(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=G(this,yn))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=G(this,yn))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),G(this,fi).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(G(this,yn)&&(G(this,zc)?G(this,yn).cancel({revert:!0}):G(this,yn).cancelRetry()),this.scheduleGc()),G(this,fi).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||vt(this,Mi,po).call(this,{type:"invalidate"})}async fetch(t,r){var p,h,f,m,b,_,j,w,y,x,S,T;if(this.state.fetchStatus!=="idle"&&((p=G(this,yn))==null?void 0:p.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(G(this,yn))return G(this,yn).continueRetry(),G(this,yn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const N=this.observers.find(P=>P.options.queryFn);N&&this.setOptions(N.options)}const n=new AbortController,a=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(Ee(this,zc,!0),n.signal)})},o=()=>{const N=AM(this.options,r),A=(()=>{const k={client:G(this,Bc),queryKey:this.queryKey,meta:this.meta};return a(k),k})();return Ee(this,zc,!1),this.options.persister?this.options.persister(N,A,this):N(A)},c=(()=>{const N={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:G(this,Bc),state:this.state,fetchFn:o};return a(N),N})();(h=this.options.behavior)==null||h.onFetch(c,this),Ee(this,Td,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=c.fetchOptions)==null?void 0:f.meta))&&vt(this,Mi,po).call(this,{type:"fetch",meta:(m=c.fetchOptions)==null?void 0:m.meta}),Ee(this,yn,OM({initialPromise:r==null?void 0:r.initialPromise,fn:c.fetchFn,onCancel:N=>{N instanceof tS&&N.revert&&this.setState({...G(this,Td),fetchStatus:"idle"}),n.abort()},onFail:(N,P)=>{vt(this,Mi,po).call(this,{type:"failed",failureCount:N,error:P})},onPause:()=>{vt(this,Mi,po).call(this,{type:"pause"})},onContinue:()=>{vt(this,Mi,po).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0}));try{const N=await G(this,yn).start();if(N===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(N),(_=(b=G(this,fi).config).onSuccess)==null||_.call(b,N,this),(w=(j=G(this,fi).config).onSettled)==null||w.call(j,N,this.state.error,this),N}catch(N){if(N instanceof tS){if(N.silent)return G(this,yn).promise;if(N.revert){if(this.state.data===void 0)throw N;return this.state.data}}throw vt(this,Mi,po).call(this,{type:"error",error:N}),(x=(y=G(this,fi).config).onError)==null||x.call(y,N,this),(T=(S=G(this,fi).config).onSettled)==null||T.call(S,this.state.data,N,this),N}finally{this.scheduleGc()}}},$c=new WeakMap,Td=new WeakMap,fi=new WeakMap,Bc=new WeakMap,yn=new WeakMap,$h=new WeakMap,zc=new WeakMap,Mi=new WeakSet,po=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...MM(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,...wP(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Ee(this,Td,t.manual?a:void 0),a;case"error":const o=t.error;return{...n,error:o,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),nn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),G(this,fi).notify({query:this,type:"updated",action:t})})},xM);function MM(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:RM(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function wP(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function SP(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var ga,Dt,Bh,Qn,Fc,Pd,yo,Al,zh,Ad,Rd,qc,Uc,Rl,Od,Xt,th,rS,nS,aS,iS,sS,oS,lS,IM,wM,LM=(wM=class extends Vd{constructor(t,r){super();Ie(this,Xt);Ie(this,ga);Ie(this,Dt);Ie(this,Bh);Ie(this,Qn);Ie(this,Fc);Ie(this,Pd);Ie(this,yo);Ie(this,Al);Ie(this,zh);Ie(this,Ad);Ie(this,Rd);Ie(this,qc);Ie(this,Uc);Ie(this,Rl);Ie(this,Od,new Set);this.options=r,Ee(this,ga,t),Ee(this,Al,null),Ee(this,yo,eS()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(G(this,Dt).addObserver(this),jP(G(this,Dt),this.options)?vt(this,Xt,th).call(this):this.updateResult(),vt(this,Xt,iS).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return cS(G(this,Dt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return cS(G(this,Dt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,vt(this,Xt,sS).call(this),vt(this,Xt,oS).call(this),G(this,Dt).removeObserver(this)}setOptions(t){const r=this.options,n=G(this,Dt);if(this.options=G(this,ga).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof pi(this.options.enabled,G(this,Dt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");vt(this,Xt,lS).call(this),G(this,Dt).setOptions(this.options),r._defaulted&&!Wv(this.options,r)&&G(this,ga).getQueryCache().notify({type:"observerOptionsUpdated",query:G(this,Dt),observer:this});const a=this.hasListeners();a&&CP(G(this,Dt),n,this.options,r)&&vt(this,Xt,th).call(this),this.updateResult(),a&&(G(this,Dt)!==n||pi(this.options.enabled,G(this,Dt))!==pi(r.enabled,G(this,Dt))||$l(this.options.staleTime,G(this,Dt))!==$l(r.staleTime,G(this,Dt)))&&vt(this,Xt,rS).call(this);const o=vt(this,Xt,nS).call(this);a&&(G(this,Dt)!==n||pi(this.options.enabled,G(this,Dt))!==pi(r.enabled,G(this,Dt))||o!==G(this,Rl))&&vt(this,Xt,aS).call(this,o)}getOptimisticResult(t){const r=G(this,ga).getQueryCache().build(G(this,ga),t),n=this.createResult(r,t);return Rz(this,n)&&(Ee(this,Qn,n),Ee(this,Pd,this.options),Ee(this,Fc,G(this,Dt).state)),n}getCurrentResult(){return G(this,Qn)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&G(this,yo).status==="pending"&&G(this,yo).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,a))})}trackProp(t){G(this,Od).add(t)}getCurrentQuery(){return G(this,Dt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=G(this,ga).defaultQueryOptions(t),n=G(this,ga).getQueryCache().build(G(this,ga),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return vt(this,Xt,th).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),G(this,Qn)))}createResult(t,r){var D;const n=G(this,Dt),a=this.options,o=G(this,Qn),u=G(this,Fc),c=G(this,Pd),h=t!==n?t.state:G(this,Bh),{state:f}=t;let m={...f},b=!1,_;if(r._optimisticResults){const I=this.hasListeners(),q=!I&&jP(t,r),z=I&&CP(t,n,r,a);(q||z)&&(m={...m,...MM(f.data,t.options)}),r._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:j,errorUpdatedAt:w,status:y}=m;_=m.data;let x=!1;if(r.placeholderData!==void 0&&_===void 0&&y==="pending"){let I;o!=null&&o.isPlaceholderData&&r.placeholderData===(c==null?void 0:c.placeholderData)?(I=o.data,x=!0):I=typeof r.placeholderData=="function"?r.placeholderData((D=G(this,Rd))==null?void 0:D.state.data,G(this,Rd)):r.placeholderData,I!==void 0&&(y="success",_=Jw(o==null?void 0:o.data,I,r),b=!0)}if(r.select&&_!==void 0&&!x)if(o&&_===(u==null?void 0:u.data)&&r.select===G(this,zh))_=G(this,Ad);else try{Ee(this,zh,r.select),_=r.select(_),_=Jw(o==null?void 0:o.data,_,r),Ee(this,Ad,_),Ee(this,Al,null)}catch(I){Ee(this,Al,I)}G(this,Al)&&(j=G(this,Al),_=G(this,Ad),w=Date.now(),y="error");const S=m.fetchStatus==="fetching",T=y==="pending",N=y==="error",P=T&&S,A=_!==void 0,R={status:y,fetchStatus:m.fetchStatus,isPending:T,isSuccess:y==="success",isError:N,isInitialLoading:P,isLoading:P,data:_,dataUpdatedAt:m.dataUpdatedAt,error:j,errorUpdatedAt:w,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>h.dataUpdateCount||m.errorUpdateCount>h.errorUpdateCount,isFetching:S,isRefetching:S&&!T,isLoadingError:N&&!A,isPaused:m.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:N&&A,isStale:Aj(t,r),refetch:this.refetch,promise:G(this,yo),isEnabled:pi(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const I=R.data!==void 0,q=R.status==="error"&&!I,z=B=>{q?B.reject(R.error):I&&B.resolve(R.data)},M=()=>{const B=Ee(this,yo,R.promise=eS());z(B)},F=G(this,yo);switch(F.status){case"pending":t.queryHash===n.queryHash&&z(F);break;case"fulfilled":(q||R.data!==F.value)&&M();break;case"rejected":(!q||R.error!==F.reason)&&M();break}}return R}updateResult(){const t=G(this,Qn),r=this.createResult(G(this,Dt),this.options);if(Ee(this,Fc,G(this,Dt).state),Ee(this,Pd,this.options),G(this,Fc).data!==void 0&&Ee(this,Rd,G(this,Dt)),Wv(r,t))return;Ee(this,Qn,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,o=typeof a=="function"?a():a;if(o==="all"||!o&&!G(this,Od).size)return!0;const u=new Set(o??G(this,Od));return this.options.throwOnError&&u.add("error"),Object.keys(G(this,Qn)).some(c=>{const p=c;return G(this,Qn)[p]!==t[p]&&u.has(p)})};vt(this,Xt,IM).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&vt(this,Xt,iS).call(this)}},ga=new WeakMap,Dt=new WeakMap,Bh=new WeakMap,Qn=new WeakMap,Fc=new WeakMap,Pd=new WeakMap,yo=new WeakMap,Al=new WeakMap,zh=new WeakMap,Ad=new WeakMap,Rd=new WeakMap,qc=new WeakMap,Uc=new WeakMap,Rl=new WeakMap,Od=new WeakMap,Xt=new WeakSet,th=function(t){vt(this,Xt,lS).call(this);let r=G(this,Dt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Xn)),r},rS=function(){vt(this,Xt,sS).call(this);const t=$l(this.options.staleTime,G(this,Dt));if(Yc||G(this,Qn).isStale||!Xw(t))return;const n=TM(G(this,Qn).dataUpdatedAt,t)+1;Ee(this,qc,Pc.setTimeout(()=>{G(this,Qn).isStale||this.updateResult()},n))},nS=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(G(this,Dt)):this.options.refetchInterval)??!1},aS=function(t){vt(this,Xt,oS).call(this),Ee(this,Rl,t),!(Yc||pi(this.options.enabled,G(this,Dt))===!1||!Xw(G(this,Rl))||G(this,Rl)===0)&&Ee(this,Uc,Pc.setInterval(()=>{(this.options.refetchIntervalInBackground||Pj.isFocused())&&vt(this,Xt,th).call(this)},G(this,Rl)))},iS=function(){vt(this,Xt,rS).call(this),vt(this,Xt,aS).call(this,vt(this,Xt,nS).call(this))},sS=function(){G(this,qc)&&(Pc.clearTimeout(G(this,qc)),Ee(this,qc,void 0))},oS=function(){G(this,Uc)&&(Pc.clearInterval(G(this,Uc)),Ee(this,Uc,void 0))},lS=function(){const t=G(this,ga).getQueryCache().build(G(this,ga),this.options);if(t===G(this,Dt))return;const r=G(this,Dt);Ee(this,Dt,t),Ee(this,Bh,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},IM=function(t){nn.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(G(this,Qn))}),G(this,ga).getQueryCache().notify({query:G(this,Dt),type:"observerResultsUpdated"})})},wM);function Az(e,t){return pi(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function jP(e,t){return Az(e,t)||e.state.data!==void 0&&cS(e,t,t.refetchOnMount)}function cS(e,t,r){if(pi(t.enabled,e)!==!1&&$l(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Aj(e,t)}return!1}function CP(e,t,r,n){return(e!==t||pi(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Aj(e,r)}function Aj(e,t){return pi(t.enabled,e)!==!1&&e.isStaleByTime($l(t.staleTime,e))}function Rz(e,t){return!Wv(e.getCurrentResult(),t)}function Gv(e){return{onFetch:(t,r)=>{var f,m,b,_,j;const n=t.options,a=(b=(m=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:m.fetchMore)==null?void 0:b.direction,o=((_=t.state.data)==null?void 0:_.pages)||[],u=((j=t.state.data)==null?void 0:j.pageParams)||[];let c={pages:[],pageParams:[]},p=0;const h=async()=>{let w=!1;const y=T=>{jz(T,()=>t.signal,()=>w=!0)},x=AM(t.options,t.fetchOptions),S=async(T,N,P)=>{if(w)return Promise.reject();if(N==null&&T.pages.length)return Promise.resolve(T);const k=(()=>{const q={client:t.client,queryKey:t.queryKey,pageParam:N,direction:P?"backward":"forward",meta:t.options.meta};return y(q),q})(),R=await x(k),{maxPages:D}=t.options,I=P?Sz:wz;return{pages:I(T.pages,R,D),pageParams:I(T.pageParams,N,D)}};if(a&&o.length){const T=a==="backward",N=T?$M:uS,P={pages:o,pageParams:u},A=N(n,P);c=await S(P,A,T)}else{const T=e??o.length;do{const N=p===0?u[0]??n.initialPageParam:uS(n,c);if(p>0&&N==null)break;c=await S(c,N),p++}while(p<T)}return c};t.options.persister?t.fetchFn=()=>{var w,y;return(y=(w=t.options).persister)==null?void 0:y.call(w,h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=h}}}function uS(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function $M(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}function Oz(e,t){return t?uS(e,t)!=null:!1}function Dz(e,t){return!t||!e.getPreviousPageParam?!1:$M(e,t)!=null}var Mz=class extends LM{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:Gv()})}getOptimisticResult(e){return e.behavior=Gv(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){var j,w;const{state:r}=e,n=super.createResult(e,t),{isFetching:a,isRefetching:o,isError:u,isRefetchError:c}=n,p=(w=(j=r.fetchMeta)==null?void 0:j.fetchMore)==null?void 0:w.direction,h=u&&p==="forward",f=a&&p==="forward",m=u&&p==="backward",b=a&&p==="backward";return{...n,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:Oz(t,r.data),hasPreviousPage:Dz(t,r.data),isFetchNextPageError:h,isFetchingNextPage:f,isFetchPreviousPageError:m,isFetchingPreviousPage:b,isRefetchError:c&&!h&&!m,isRefetching:o&&!f&&!b}}},Fh,hs,Bn,Hc,ms,Sl,SM,Lz=(SM=class extends DM{constructor(t){super();Ie(this,ms);Ie(this,Fh);Ie(this,hs);Ie(this,Bn);Ie(this,Hc);Ee(this,Fh,t.client),this.mutationId=t.mutationId,Ee(this,Bn,t.mutationCache),Ee(this,hs,[]),this.state=t.state||BM(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){G(this,hs).includes(t)||(G(this,hs).push(t),this.clearGcTimeout(),G(this,Bn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ee(this,hs,G(this,hs).filter(r=>r!==t)),this.scheduleGc(),G(this,Bn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){G(this,hs).length||(this.state.status==="pending"?this.scheduleGc():G(this,Bn).remove(this))}continue(){var t;return((t=G(this,Hc))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var u,c,p,h,f,m,b,_,j,w,y,x,S,T,N,P,A,k;const r=()=>{vt(this,ms,Sl).call(this,{type:"continue"})},n={client:G(this,Fh),meta:this.options.meta,mutationKey:this.options.mutationKey};Ee(this,Hc,OM({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(R,D)=>{vt(this,ms,Sl).call(this,{type:"failed",failureCount:R,error:D})},onPause:()=>{vt(this,ms,Sl).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>G(this,Bn).canRun(this)}));const a=this.state.status==="pending",o=!G(this,Hc).canStart();try{if(a)r();else{vt(this,ms,Sl).call(this,{type:"pending",variables:t,isPaused:o}),G(this,Bn).config.onMutate&&await G(this,Bn).config.onMutate(t,this,n);const D=await((c=(u=this.options).onMutate)==null?void 0:c.call(u,t,n));D!==this.state.context&&vt(this,ms,Sl).call(this,{type:"pending",context:D,variables:t,isPaused:o})}const R=await G(this,Hc).start();return await((h=(p=G(this,Bn).config).onSuccess)==null?void 0:h.call(p,R,t,this.state.context,this,n)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,R,t,this.state.context,n)),await((_=(b=G(this,Bn).config).onSettled)==null?void 0:_.call(b,R,null,this.state.variables,this.state.context,this,n)),await((w=(j=this.options).onSettled)==null?void 0:w.call(j,R,null,t,this.state.context,n)),vt(this,ms,Sl).call(this,{type:"success",data:R}),R}catch(R){try{await((x=(y=G(this,Bn).config).onError)==null?void 0:x.call(y,R,t,this.state.context,this,n))}catch(D){Promise.reject(D)}try{await((T=(S=this.options).onError)==null?void 0:T.call(S,R,t,this.state.context,n))}catch(D){Promise.reject(D)}try{await((P=(N=G(this,Bn).config).onSettled)==null?void 0:P.call(N,void 0,R,this.state.variables,this.state.context,this,n))}catch(D){Promise.reject(D)}try{await((k=(A=this.options).onSettled)==null?void 0:k.call(A,void 0,R,t,this.state.context,n))}catch(D){Promise.reject(D)}throw vt(this,ms,Sl).call(this,{type:"error",error:R}),R}finally{G(this,Bn).runNext(this)}}},Fh=new WeakMap,hs=new WeakMap,Bn=new WeakMap,Hc=new WeakMap,ms=new WeakSet,Sl=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),nn.batch(()=>{G(this,hs).forEach(n=>{n.onMutationUpdate(t)}),G(this,Bn).notify({mutation:this,type:"updated",action:t})})},SM);function BM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var bo,Li,qh,jM,Iz=(jM=class extends Vd{constructor(t={}){super();Ie(this,bo);Ie(this,Li);Ie(this,qh);this.config=t,Ee(this,bo,new Set),Ee(this,Li,new Map),Ee(this,qh,0)}build(t,r,n){const a=new Lz({client:t,mutationCache:this,mutationId:++Bg(this,qh)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){G(this,bo).add(t);const r=zg(t);if(typeof r=="string"){const n=G(this,Li).get(r);n?n.push(t):G(this,Li).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(G(this,bo).delete(t)){const r=zg(t);if(typeof r=="string"){const n=G(this,Li).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&G(this,Li).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=zg(t);if(typeof r=="string"){const n=G(this,Li).get(r),a=n==null?void 0:n.find(o=>o.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=zg(t);if(typeof r=="string"){const a=(n=G(this,Li).get(r))==null?void 0:n.find(o=>o!==t&&o.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){nn.batch(()=>{G(this,bo).forEach(t=>{this.notify({type:"removed",mutation:t})}),G(this,bo).clear(),G(this,Li).clear()})}getAll(){return Array.from(G(this,bo))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>bP(r,n))}findAll(t={}){return this.getAll().filter(r=>bP(t,r))}notify(t){nn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return nn.batch(()=>Promise.all(t.map(r=>r.continue().catch(Xn))))}},bo=new WeakMap,Li=new WeakMap,qh=new WeakMap,jM);function zg(e){var t;return(t=e.options.scope)==null?void 0:t.id}var _o,Ol,va,xo,Eo,kv,dS,CM,$z=(CM=class extends Vd{constructor(r,n){super();Ie(this,Eo);Ie(this,_o);Ie(this,Ol);Ie(this,va);Ie(this,xo);Ee(this,_o,r),this.setOptions(n),this.bindMethods(),vt(this,Eo,kv).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=G(this,_o).defaultMutationOptions(r),Wv(this.options,n)||G(this,_o).getMutationCache().notify({type:"observerOptionsUpdated",mutation:G(this,va),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Qc(n.mutationKey)!==Qc(this.options.mutationKey)?this.reset():((a=G(this,va))==null?void 0:a.state.status)==="pending"&&G(this,va).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=G(this,va))==null||r.removeObserver(this)}onMutationUpdate(r){vt(this,Eo,kv).call(this),vt(this,Eo,dS).call(this,r)}getCurrentResult(){return G(this,Ol)}reset(){var r;(r=G(this,va))==null||r.removeObserver(this),Ee(this,va,void 0),vt(this,Eo,kv).call(this),vt(this,Eo,dS).call(this)}mutate(r,n){var a;return Ee(this,xo,n),(a=G(this,va))==null||a.removeObserver(this),Ee(this,va,G(this,_o).getMutationCache().build(G(this,_o),this.options)),G(this,va).addObserver(this),G(this,va).execute(r)}},_o=new WeakMap,Ol=new WeakMap,va=new WeakMap,xo=new WeakMap,Eo=new WeakSet,kv=function(){var n;const r=((n=G(this,va))==null?void 0:n.state)??BM();Ee(this,Ol,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},dS=function(r){nn.batch(()=>{var n,a,o,u,c,p,h,f;if(G(this,xo)&&this.hasListeners()){const m=G(this,Ol).variables,b=G(this,Ol).context,_={client:G(this,_o),meta:this.options.meta,mutationKey:this.options.mutationKey};if((r==null?void 0:r.type)==="success"){try{(a=(n=G(this,xo)).onSuccess)==null||a.call(n,r.data,m,b,_)}catch(j){Promise.reject(j)}try{(u=(o=G(this,xo)).onSettled)==null||u.call(o,r.data,null,m,b,_)}catch(j){Promise.reject(j)}}else if((r==null?void 0:r.type)==="error"){try{(p=(c=G(this,xo)).onError)==null||p.call(c,r.error,m,b,_)}catch(j){Promise.reject(j)}try{(f=(h=G(this,xo)).onSettled)==null||f.call(h,void 0,r.error,m,b,_)}catch(j){Promise.reject(j)}}}this.listeners.forEach(m=>{m(G(this,Ol))})})},CM),gs,kM,Bz=(kM=class extends Vd{constructor(t={}){super();Ie(this,gs);this.config=t,Ee(this,gs,new Map)}build(t,r,n){const a=r.queryKey,o=r.queryHash??Nj(a,r);let u=this.get(o);return u||(u=new Pz({client:t,queryKey:a,queryHash:o,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(u)),u}add(t){G(this,gs).has(t.queryHash)||(G(this,gs).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=G(this,gs).get(t.queryHash);r&&(t.destroy(),r===t&&G(this,gs).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){nn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return G(this,gs).get(t)}getAll(){return[...G(this,gs).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>yP(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>yP(t,n)):r}notify(t){nn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){nn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){nn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},gs=new WeakMap,kM),Or,Dl,Ml,Dd,Md,Ll,Ld,Id,NM,zz=(NM=class{constructor(e={}){Ie(this,Or);Ie(this,Dl);Ie(this,Ml);Ie(this,Dd);Ie(this,Md);Ie(this,Ll);Ie(this,Ld);Ie(this,Id);Ee(this,Or,e.queryCache||new Bz),Ee(this,Dl,e.mutationCache||new Iz),Ee(this,Ml,e.defaultOptions||{}),Ee(this,Dd,new Map),Ee(this,Md,new Map),Ee(this,Ll,0)}mount(){Bg(this,Ll)._++,G(this,Ll)===1&&(Ee(this,Ld,Pj.subscribe(async e=>{e&&(await this.resumePausedMutations(),G(this,Or).onFocus())})),Ee(this,Id,Kv.subscribe(async e=>{e&&(await this.resumePausedMutations(),G(this,Or).onOnline())})))}unmount(){var e,t;Bg(this,Ll)._--,G(this,Ll)===0&&((e=G(this,Ld))==null||e.call(this),Ee(this,Ld,void 0),(t=G(this,Id))==null||t.call(this),Ee(this,Id,void 0))}isFetching(e){return G(this,Or).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return G(this,Dl).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=G(this,Or).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=G(this,Or).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime($l(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return G(this,Or).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=G(this,Or).get(n.queryHash),o=a==null?void 0:a.state.data,u=bz(t,o);if(u!==void 0)return G(this,Or).build(this,n).setData(u,{...r,manual:!0})}setQueriesData(e,t,r){return nn.batch(()=>G(this,Or).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=G(this,Or).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=G(this,Or);nn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=G(this,Or);return nn.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=nn.batch(()=>G(this,Or).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Xn).catch(Xn)}invalidateQueries(e,t={}){return nn.batch(()=>(G(this,Or).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=nn.batch(()=>G(this,Or).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let o=a.fetch(void 0,r);return r.throwOnError||(o=o.catch(Xn)),a.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(Xn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=G(this,Or).build(this,t);return r.isStaleByTime($l(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Xn).catch(Xn)}fetchInfiniteQuery(e){return e.behavior=Gv(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Xn).catch(Xn)}ensureInfiniteQueryData(e){return e.behavior=Gv(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Kv.isOnline()?G(this,Dl).resumePausedMutations():Promise.resolve()}getQueryCache(){return G(this,Or)}getMutationCache(){return G(this,Dl)}getDefaultOptions(){return G(this,Ml)}setDefaultOptions(e){Ee(this,Ml,e)}setQueryDefaults(e,t){G(this,Dd).set(Qc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...G(this,Dd).values()],r={};return t.forEach(n=>{dh(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){G(this,Md).set(Qc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...G(this,Md).values()],r={};return t.forEach(n=>{dh(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...G(this,Ml).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Nj(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Ej&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...G(this,Ml).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){G(this,Or).clear(),G(this,Dl).clear()}},Or=new WeakMap,Dl=new WeakMap,Ml=new WeakMap,Dd=new WeakMap,Md=new WeakMap,Ll=new WeakMap,Ld=new WeakMap,Id=new WeakMap,NM),zM=v.createContext(void 0),Bt=e=>{const t=v.useContext(zM);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Fz=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(zM.Provider,{value:e,children:t})),FM=v.createContext(!1),qz=()=>v.useContext(FM);FM.Provider;function Uz(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Hz=v.createContext(Uz()),Wz=()=>v.useContext(Hz),Kz=(e,t,r)=>{const n=r!=null&&r.state.error&&typeof e.throwOnError=="function"?Tj(e.throwOnError,[r.state.error,r]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||n)&&(t.isReset()||(e.retryOnMount=!1))},Gz=e=>{v.useEffect(()=>{e.clearReset()},[e])},Vz=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||Tj(r,[e.error,n])),Yz=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Qz=(e,t)=>e.isLoading&&e.isFetching&&!t,Xz=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,kP=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function qM(e,t,r){var b,_,j,w;const n=qz(),a=Wz(),o=Bt(),u=o.defaultQueryOptions(e);(_=(b=o.getDefaultOptions().queries)==null?void 0:b._experimental_beforeQuery)==null||_.call(b,u);const c=o.getQueryCache().get(u.queryHash);u._optimisticResults=n?"isRestoring":"optimistic",Yz(u),Kz(u,a,c),Gz(a);const p=!o.getQueryCache().get(u.queryHash),[h]=v.useState(()=>new t(o,u)),f=h.getOptimisticResult(u),m=!n&&e.subscribed!==!1;if(v.useSyncExternalStore(v.useCallback(y=>{const x=m?h.subscribe(nn.batchCalls(y)):Xn;return h.updateResult(),x},[h,m]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),v.useEffect(()=>{h.setOptions(u)},[u,h]),Xz(u,f))throw kP(u,h,a);if(Vz({result:f,errorResetBoundary:a,throwOnError:u.throwOnError,query:c,suspense:u.suspense}))throw f.error;if((w=(j=o.getDefaultOptions().queries)==null?void 0:j._experimental_afterQuery)==null||w.call(j,u,f),u.experimental_prefetchInRender&&!Yc&&Qz(f,n)){const y=p?kP(u,h,a):c==null?void 0:c.promise;y==null||y.catch(Xn).finally(()=>{h.updateResult()})}return u.notifyOnChangeProps?f:h.trackResult(f)}function De(e,t){return qM(e,LM)}function Ve(e,t){const r=Bt(),[n]=v.useState(()=>new $z(r,e));v.useEffect(()=>{n.setOptions(e)},[n,e]);const a=v.useSyncExternalStore(v.useCallback(u=>n.subscribe(nn.batchCalls(u)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),o=v.useCallback((u,c)=>{n.mutate(u,c).catch(Xn)},[n]);if(a.error&&Tj(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:o,mutateAsync:a.mutate}}function UM(e,t){return qM(e,Mz)}/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=e=>{const t=Jz(e);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var eF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:o,iconNode:u,...c},p)=>v.createElement("svg",{ref:p,...eF,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:HM("lucide",a),...!o&&!tF(c)&&{"aria-hidden":"true"},...c},[...u.map(([h,f])=>v.createElement(h,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=(e,t)=>{const r=v.forwardRef(({className:n,...a},o)=>v.createElement(rF,{ref:o,iconNode:t,className:HM(`lucide-${Zz(NP(e))}`,`lucide-${e}`,n),...a}));return r.displayName=NP(e),r};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],Yd=Be("arrow-down",nF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],WM=Be("arrow-left",aF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],sF=Be("arrow-right",iF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],KM=Be("arrow-up-right",oF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Qd=Be("arrow-up",lF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],uF=Be("ban",cF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],fF=Be("calendar",dF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],GM=Be("chart-column",pF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Rj=Be("check",hF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],fS=Be("chevron-down",mF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],VM=Be("chevron-left",gF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Xd=Be("chevron-right",vF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],bF=Be("circle-plus",yF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],xF=Be("cloud-upload",_F);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],SF=Be("cloud",wF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],CF=Be("code",jF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],fh=Be("copy",kF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NF=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],EF=Be("crown",NF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Vv=Be("download",TF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=[["path",{d:"M6 8.5a6.5 6.5 0 1 1 13 0c0 6-6 6-6 10a3.5 3.5 0 1 1-7 0",key:"1dfaln"}],["path",{d:"M15 8.5a2.5 2.5 0 0 0-5 0v1a2 2 0 1 1 0 4",key:"1qnva7"}]],AF=Be("ear",PF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Yv=Be("external-link",RF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],DF=Be("eye",OF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=[["path",{d:"M4 6.835V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2h-.343",key:"1vfytu"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M2 19a2 2 0 0 1 4 0v1a2 2 0 0 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 0 1-4 0v-1a2 2 0 0 1 4 0",key:"1etmh7"}]],LF=Be("file-headphone",MF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=[["path",{d:"M11.35 22H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v5.35",key:"17jvcc"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M14 19h6",key:"bvotb8"}],["path",{d:"M17 16v6",key:"18yu1i"}]],$F=Be("file-plus-corner",IF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BF=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Oj=Be("file-text",BF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zF=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],FF=Be("flask-conical",zF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qF=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],UF=Be("house",qF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HF=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],WF=Be("image",HF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],GF=Be("info",KF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],YM=Be("key",VF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YF=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],QF=Be("layout-grid",YF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XF=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],Qv=Be("library",XF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZF=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],JF=Be("link-2",ZF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eq=[["path",{d:"M16 5H3",key:"m91uny"}],["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M11 19H3",key:"zflm78"}],["path",{d:"M21 16V5",key:"yxg4q8"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],tq=Be("list-music",eq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rq=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],QM=Be("list",rq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nq=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],aq=Be("lock-open",nq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iq=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ps=Be("lock",iq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sq=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],XM=Be("log-out",sq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oq=[["path",{d:"M18 8c0 3.613-3.869 7.429-5.393 8.795a1 1 0 0 1-1.214 0C9.87 15.429 6 11.613 6 8a6 6 0 0 1 12 0",key:"11u0oz"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.714 14h-3.71a1 1 0 0 0-.948.683l-2.004 6A1 1 0 0 0 3 22h18a1 1 0 0 0 .948-1.316l-2-6a1 1 0 0 0-.949-.684h-3.712",key:"q8zwxj"}]],lq=Be("map-pinned",oq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cq=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],uq=Be("maximize-2",cq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dq=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],fq=Be("menu",dq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pq=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],ZM=Be("message-circle",pq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hq=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],mq=Be("mic-off",hq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gq=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],$d=Be("mic",gq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vq=[["path",{d:"m11 7.601-5.994 8.19a1 1 0 0 0 .1 1.298l.817.818a1 1 0 0 0 1.314.087L15.09 12",key:"80a601"}],["path",{d:"M16.5 21.174C15.5 20.5 14.372 20 13 20c-2.058 0-3.928 2.356-6 2-2.072-.356-2.775-3.369-1.5-4.5",key:"j0ngtp"}],["circle",{cx:"16",cy:"7",r:"5",key:"d08jfb"}]],Fg=Be("mic-vocal",vq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yq=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],bq=Be("minimize-2",yq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _q=[["path",{d:"M5 12h14",key:"1ays0h"}]],EP=Be("minus",_q);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xq=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],xs=Be("pause",xq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wq=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],sb=Be("pencil",wq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sq=[["path",{d:"M10.1 13.9a14 14 0 0 0 3.732 2.668 1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2 18 18 0 0 1-12.728-5.272",key:"1wngk7"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}],["path",{d:"M4.76 13.582A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 .244.473",key:"10hv5p"}]],jq=Be("phone-off",Sq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cq=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],qi=Be("play",Cq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kq=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Qr=Be("plus",kq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nq=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],Eq=Be("power",Nq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tq=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],ob=Be("radio",Tq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pq=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],lb=Be("rotate-ccw",Pq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aq=[["path",{d:"M4 11a9 9 0 0 1 9 9",key:"pv89mb"}],["path",{d:"M4 4a16 16 0 0 1 16 16",key:"k0647b"}],["circle",{cx:"5",cy:"19",r:"1",key:"bfqh0e"}]],Ss=Be("rss",Aq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rq=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Dj=Be("search",Rq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oq=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Xv=Be("settings",Oq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dq=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],cb=Be("share-2",Dq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mq=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Lq=Be("shield",Mq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iq=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],JM=Be("square-pen",Iq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $q=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],eL=Be("square",$q);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bq=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Wl=Be("trash-2",Bq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zq=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Fq=Be("triangle-alert",zq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qq=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Zv=Be("upload",qq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uq=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],ph=Be("user-plus",Uq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hq=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],Wq=Be("user-x",Hq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kq=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],hh=Be("user",Kq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gq=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],mh=Be("users",Gq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vq=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Yq=Be("volume-2",Vq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qq=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Xq=Be("wifi-off",Qq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zq=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Nt=Be("x",Zq),Jq="_wrap_1cvpl_1",eU="_card_1cvpl_10",tU="_title_1cvpl_20",rU="_message_1cvpl_27",nU="_reloadBtn_1cvpl_34",cp={wrap:Jq,card:eU,title:tU,message:rU,reloadBtn:nU};class aU extends v.Component{constructor(r){super(r);V(this,"handleReload",()=>{window.location.reload()});this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("ErrorBoundary caught an error",r,n)}render(){return this.state.hasError?i.jsx("div",{className:cp.wrap,role:"alert",children:i.jsxs("div",{className:cp.card,children:[i.jsx("h1",{className:cp.title,children:"Something Went Wrong"}),i.jsx("p",{className:cp.message,children:"An unexpected error occurred. Try reloading the page."}),i.jsxs("button",{type:"button",className:cp.reloadBtn,onClick:this.handleReload,"aria-label":"Reload page",children:[i.jsx(lb,{size:18,"aria-hidden":!0}),"Reload"]})]})}):this.props.children}}/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var TP="popstate";function iU(e={}){function t(n,a){let{pathname:o,search:u,hash:c}=n.location;return pS("",{pathname:o,search:u,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:gh(a)}return oU(t,r,null,e)}function Cr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function vi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function sU(){return Math.random().toString(36).substring(2,10)}function PP(e,t){return{usr:e.state,key:e.key,idx:t}}function pS(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Zd(t):t,state:r,key:t&&t.key||n||sU()}}function gh({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Zd(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function oU(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:o=!1}=n,u=a.history,c="POP",p=null,h=f();h==null&&(h=0,u.replaceState({...u.state,idx:h},""));function f(){return(u.state||{idx:null}).idx}function m(){c="POP";let y=f(),x=y==null?null:y-h;h=y,p&&p({action:c,location:w.location,delta:x})}function b(y,x){c="PUSH";let S=pS(w.location,y,x);h=f()+1;let T=PP(S,h),N=w.createHref(S);try{u.pushState(T,"",N)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;a.location.assign(N)}o&&p&&p({action:c,location:w.location,delta:1})}function _(y,x){c="REPLACE";let S=pS(w.location,y,x);h=f();let T=PP(S,h),N=w.createHref(S);u.replaceState(T,"",N),o&&p&&p({action:c,location:w.location,delta:0})}function j(y){return lU(y)}let w={get action(){return c},get location(){return e(a,u)},listen(y){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(TP,m),p=y,()=>{a.removeEventListener(TP,m),p=null}},createHref(y){return t(a,y)},createURL:j,encodeLocation(y){let x=j(y);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:b,replace:_,go(y){return u.go(y)}};return w}function lU(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Cr(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:gh(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function tL(e,t,r="/"){return cU(e,t,r,!1)}function cU(e,t,r,n){let a=typeof t=="string"?Zd(t):t,o=To(a.pathname||"/",r);if(o==null)return null;let u=rL(e);uU(u);let c=null;for(let p=0;c==null&&p<u.length;++p){let h=xU(o);c=bU(u[p],h,n)}return c}function rL(e,t=[],r=[],n="",a=!1){let o=(u,c,p=a,h)=>{let f={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:c,route:u};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(n)&&p)return;Cr(f.relativePath.startsWith(n),`Absolute route path "${f.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(n.length)}let m=Co([n,f.relativePath]),b=r.concat(f);u.children&&u.children.length>0&&(Cr(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),rL(u.children,t,b,m,p)),!(u.path==null&&!u.index)&&t.push({path:m,score:vU(m,u.index),routesMeta:b})};return e.forEach((u,c)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))o(u,c);else for(let h of nL(u.path))o(u,c,!0,h)}),t}function nL(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return a?[o,""]:[o];let u=nL(n.join("/")),c=[];return c.push(...u.map(p=>p===""?o:[o,p].join("/"))),a&&c.push(...u),c.map(p=>e.startsWith("/")&&p===""?"/":p)}function uU(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:yU(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var dU=/^:[\w-]+$/,fU=3,pU=2,hU=1,mU=10,gU=-2,AP=e=>e==="*";function vU(e,t){let r=e.split("/"),n=r.length;return r.some(AP)&&(n+=gU),t&&(n+=pU),r.filter(a=>!AP(a)).reduce((a,o)=>a+(dU.test(o)?fU:o===""?hU:mU),n)}function yU(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function bU(e,t,r=!1){let{routesMeta:n}=e,a={},o="/",u=[];for(let c=0;c<n.length;++c){let p=n[c],h=c===n.length-1,f=o==="/"?t:t.slice(o.length)||"/",m=Jv({path:p.relativePath,caseSensitive:p.caseSensitive,end:h},f),b=p.route;if(!m&&h&&r&&!n[n.length-1].route.index&&(m=Jv({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},f)),!m)return null;Object.assign(a,m.params),u.push({params:a,pathname:Co([o,m.pathname]),pathnameBase:CU(Co([o,m.pathnameBase])),route:b}),m.pathnameBase!=="/"&&(o=Co([o,m.pathnameBase]))}return u}function Jv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=_U(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:n.reduce((h,{paramName:f,isOptional:m},b)=>{if(f==="*"){let j=c[b]||"";u=o.slice(0,o.length-j.length).replace(/(.)\/+$/,"$1")}const _=c[b];return m&&!_?h[f]=void 0:h[f]=(_||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:u,pattern:e}}function _U(e,t=!1,r=!0){vi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,c,p)=>(n.push({paramName:c,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function xU(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return vi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function To(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var wU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function SU(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Zd(e):e,o;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?o=RP(r.substring(1),"/"):o=RP(r,t)):o=t,{pathname:o,search:kU(n),hash:NU(a)}}function RP(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function M1(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jU(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Mj(e){let t=jU(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Lj(e,t,r,n=!1){let a;typeof e=="string"?a=Zd(e):(a={...e},Cr(!a.pathname||!a.pathname.includes("?"),M1("?","pathname","search",a)),Cr(!a.pathname||!a.pathname.includes("#"),M1("#","pathname","hash",a)),Cr(!a.search||!a.search.includes("#"),M1("#","search","hash",a)));let o=e===""||a.pathname==="",u=o?"/":a.pathname,c;if(u==null)c=r;else{let m=t.length-1;if(!n&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),m-=1;a.pathname=b.join("/")}c=m>=0?t[m]:"/"}let p=SU(a,c),h=u&&u!=="/"&&u.endsWith("/"),f=(o||u===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(h||f)&&(p.pathname+="/"),p}var Co=e=>e.join("/").replace(/\/\/+/g,"/"),CU=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),kU=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,NU=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,EU=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function TU(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function PU(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var aL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function iL(e,t){let r=e;if(typeof r!="string"||!wU.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,a=!1;if(aL)try{let o=new URL(window.location.href),u=r.startsWith("//")?new URL(o.protocol+r):new URL(r),c=To(u.pathname,t);u.origin===o.origin&&c!=null?r=c+u.search+u.hash:a=!0}catch{vi(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:a,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var sL=["POST","PUT","PATCH","DELETE"];new Set(sL);var AU=["GET",...sL];new Set(AU);var Jd=v.createContext(null);Jd.displayName="DataRouter";var ub=v.createContext(null);ub.displayName="DataRouterState";var RU=v.createContext(!1),oL=v.createContext({isTransitioning:!1});oL.displayName="ViewTransition";var OU=v.createContext(new Map);OU.displayName="Fetchers";var DU=v.createContext(null);DU.displayName="Await";var za=v.createContext(null);za.displayName="Navigation";var Uh=v.createContext(null);Uh.displayName="Location";var _i=v.createContext({outlet:null,matches:[],isDataRoute:!1});_i.displayName="Route";var Ij=v.createContext(null);Ij.displayName="RouteError";var lL="REACT_ROUTER_ERROR",MU="REDIRECT",LU="ROUTE_ERROR_RESPONSE";function IU(e){if(e.startsWith(`${lL}:${MU}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function $U(e){if(e.startsWith(`${lL}:${LU}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new EU(t.status,t.statusText,t.data)}catch{}}function BU(e,{relative:t}={}){Cr(ef(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=v.useContext(za),{hash:a,pathname:o,search:u}=Hh(e,{relative:t}),c=o;return r!=="/"&&(c=o==="/"?r:Co([r,o])),n.createHref({pathname:c,search:u,hash:a})}function ef(){return v.useContext(Uh)!=null}function Fa(){return Cr(ef(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(Uh).location}var cL="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function uL(e){v.useContext(za).static||v.useLayoutEffect(e)}function xi(){let{isDataRoute:e}=v.useContext(_i);return e?eH():zU()}function zU(){Cr(ef(),"useNavigate() may be used only in the context of a <Router> component.");let e=v.useContext(Jd),{basename:t,navigator:r}=v.useContext(za),{matches:n}=v.useContext(_i),{pathname:a}=Fa(),o=JSON.stringify(Mj(n)),u=v.useRef(!1);return uL(()=>{u.current=!0}),v.useCallback((p,h={})=>{if(vi(u.current,cL),!u.current)return;if(typeof p=="number"){r.go(p);return}let f=Lj(p,JSON.parse(o),a,h.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Co([t,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[t,r,o,a,e])}var FU=v.createContext(null);function qU(e){let t=v.useContext(_i).outlet;return v.useMemo(()=>t&&v.createElement(FU.Provider,{value:e},t),[t,e])}function wi(){let{matches:e}=v.useContext(_i),t=e[e.length-1];return t?t.params:{}}function Hh(e,{relative:t}={}){let{matches:r}=v.useContext(_i),{pathname:n}=Fa(),a=JSON.stringify(Mj(r));return v.useMemo(()=>Lj(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function UU(e,t){return dL(e,t)}function dL(e,t,r,n,a){var S;Cr(ef(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=v.useContext(za),{matches:u}=v.useContext(_i),c=u[u.length-1],p=c?c.params:{},h=c?c.pathname:"/",f=c?c.pathnameBase:"/",m=c&&c.route;{let T=m&&m.path||"";pL(h,!m||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let b=Fa(),_;if(t){let T=typeof t=="string"?Zd(t):t;Cr(f==="/"||((S=T.pathname)==null?void 0:S.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${T.pathname}" was given in the \`location\` prop.`),_=T}else _=b;let j=_.pathname||"/",w=j;if(f!=="/"){let T=f.replace(/^\//,"").split("/");w="/"+j.replace(/^\//,"").split("/").slice(T.length).join("/")}let y=tL(e,{pathname:w});vi(m||y!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),vi(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=VU(y&&y.map(T=>Object.assign({},T,{params:Object.assign({},p,T.params),pathname:Co([f,o.encodeLocation?o.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?f:Co([f,o.encodeLocation?o.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),u,r,n,a);return t&&x?v.createElement(Uh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},x):x}function HU(){let e=JU(),t=TU(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},u=null;return console.error("Error handled by React Router default ErrorBoundary:",e),u=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:o},"ErrorBoundary")," or"," ",v.createElement("code",{style:o},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:a},r):null,u)}var WU=v.createElement(HU,null),fL=class extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=$U(e.digest);r&&(e=r)}let t=e!==void 0?v.createElement(_i.Provider,{value:this.props.routeContext},v.createElement(Ij.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?v.createElement(KU,{error:e},t):t}};fL.contextType=RU;var L1=new WeakMap;function KU({children:e,error:t}){let{basename:r}=v.useContext(za);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=IU(t.digest);if(n){let a=L1.get(t);if(a)throw a;let o=iL(n.location,r);if(aL&&!L1.get(t))if(o.isExternal||n.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:n.replace}));throw L1.set(t,u),u}return v.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return e}function GU({routeContext:e,match:t,children:r}){let n=v.useContext(Jd);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),v.createElement(_i.Provider,{value:e},r)}function VU(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,u=r==null?void 0:r.errors;if(u!=null){let f=o.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id])!==void 0);Cr(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,p=-1;if(r)for(let f=0;f<o.length;f++){let m=o[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(p=f),m.route.id){let{loaderData:b,errors:_}=r,j=m.route.loader&&!b.hasOwnProperty(m.route.id)&&(!_||_[m.route.id]===void 0);if(m.route.lazy||j){c=!0,p>=0?o=o.slice(0,p+1):o=[o[0]];break}}}let h=r&&n?(f,m)=>{var b,_;n(f,{location:r.location,params:((_=(b=r.matches)==null?void 0:b[0])==null?void 0:_.params)??{},unstable_pattern:PU(r.matches),errorInfo:m})}:void 0;return o.reduceRight((f,m,b)=>{let _,j=!1,w=null,y=null;r&&(_=u&&m.route.id?u[m.route.id]:void 0,w=m.route.errorElement||WU,c&&(p<0&&b===0?(pL("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,y=null):p===b&&(j=!0,y=m.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,b+1)),S=()=>{let T;return _?T=w:j?T=y:m.route.Component?T=v.createElement(m.route.Component,null):m.route.element?T=m.route.element:T=f,v.createElement(GU,{match:m,routeContext:{outlet:f,matches:x,isDataRoute:r!=null},children:T})};return r&&(m.route.ErrorBoundary||m.route.errorElement||b===0)?v.createElement(fL,{location:r.location,revalidation:r.revalidation,component:w,error:_,children:S(),routeContext:{outlet:null,matches:x,isDataRoute:!0},onError:h}):S()},null)}function $j(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YU(e){let t=v.useContext(Jd);return Cr(t,$j(e)),t}function QU(e){let t=v.useContext(ub);return Cr(t,$j(e)),t}function XU(e){let t=v.useContext(_i);return Cr(t,$j(e)),t}function Bj(e){let t=XU(e),r=t.matches[t.matches.length-1];return Cr(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function ZU(){return Bj("useRouteId")}function JU(){var n;let e=v.useContext(Ij),t=QU("useRouteError"),r=Bj("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function eH(){let{router:e}=YU("useNavigate"),t=Bj("useNavigate"),r=v.useRef(!1);return uL(()=>{r.current=!0}),v.useCallback(async(a,o={})=>{vi(r.current,cL),r.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...o}))},[e,t])}var OP={};function pL(e,t,r){!t&&!OP[e]&&(OP[e]=!0,vi(!1,r))}v.memo(tH);function tH({routes:e,future:t,state:r,onError:n}){return dL(e,void 0,r,n,t)}function Hi({to:e,replace:t,state:r,relative:n}){Cr(ef(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=v.useContext(za);vi(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=v.useContext(_i),{pathname:u}=Fa(),c=xi(),p=Lj(e,Mj(o),u,n==="path"),h=JSON.stringify(p);return v.useEffect(()=>{c(JSON.parse(h),{replace:t,state:r,relative:n})},[c,h,n,t,r]),null}function rH(e){return qU(e.context)}function qt(e){Cr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nH({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:o=!1,unstable_useTransitions:u}){Cr(!ef(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),p=v.useMemo(()=>({basename:c,navigator:a,static:o,unstable_useTransitions:u,future:{}}),[c,a,o,u]);typeof r=="string"&&(r=Zd(r));let{pathname:h="/",search:f="",hash:m="",state:b=null,key:_="default"}=r,j=v.useMemo(()=>{let w=To(h,c);return w==null?null:{location:{pathname:w,search:f,hash:m,state:b,key:_},navigationType:n}},[c,h,f,m,b,_,n]);return vi(j!=null,`<Router basename="${c}"> is not able to match the URL "${h}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:v.createElement(za.Provider,{value:p},v.createElement(Uh.Provider,{children:t,value:j}))}function aH({children:e,location:t}){return UU(hS(e),t)}function hS(e,t=[]){let r=[];return v.Children.forEach(e,(n,a)=>{if(!v.isValidElement(n))return;let o=[...t,a];if(n.type===v.Fragment){r.push.apply(r,hS(n.props.children,o));return}Cr(n.type===qt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Cr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let u={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(u.children=hS(n.props.children,o)),r.push(u)}),r}var Nv="get",Ev="application/x-www-form-urlencoded";function db(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function iH(e){return db(e)&&e.tagName.toLowerCase()==="button"}function sH(e){return db(e)&&e.tagName.toLowerCase()==="form"}function oH(e){return db(e)&&e.tagName.toLowerCase()==="input"}function lH(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function cH(e,t){return e.button===0&&(!t||t==="_self")&&!lH(e)}function mS(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function uH(e,t){let r=mS(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(o=>{r.append(a,o)})}),r}var qg=null;function dH(){if(qg===null)try{new FormData(document.createElement("form"),0),qg=!1}catch{qg=!0}return qg}var fH=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function I1(e){return e!=null&&!fH.has(e)?(vi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ev}"`),null):e}function pH(e,t){let r,n,a,o,u;if(sH(e)){let c=e.getAttribute("action");n=c?To(c,t):null,r=e.getAttribute("method")||Nv,a=I1(e.getAttribute("enctype"))||Ev,o=new FormData(e)}else if(iH(e)||oH(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=e.getAttribute("formaction")||c.getAttribute("action");if(n=p?To(p,t):null,r=e.getAttribute("formmethod")||c.getAttribute("method")||Nv,a=I1(e.getAttribute("formenctype"))||I1(c.getAttribute("enctype"))||Ev,o=new FormData(c,e),!dH()){let{name:h,type:f,value:m}=e;if(f==="image"){let b=h?`${h}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else h&&o.append(h,m)}}else{if(db(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Nv,n=null,a=Ev,u=e}return o&&a==="text/plain"&&(u=o,o=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function zj(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function hH(e,t,r,n){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${n}`:a.pathname=`${a.pathname}.${n}`:a.pathname==="/"?a.pathname=`_root.${n}`:t&&To(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function mH(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function gH(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function vH(e,t,r){let n=await Promise.all(e.map(async a=>{let o=t.routes[a.route.id];if(o){let u=await mH(o,r);return u.links?u.links():[]}return[]}));return xH(n.flat(1).filter(gH).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function DP(e,t,r,n,a,o){let u=(p,h)=>r[h]?p.route.id!==r[h].route.id:!0,c=(p,h)=>{var f;return r[h].pathname!==p.pathname||((f=r[h].route.path)==null?void 0:f.endsWith("*"))&&r[h].params["*"]!==p.params["*"]};return o==="assets"?t.filter((p,h)=>u(p,h)||c(p,h)):o==="data"?t.filter((p,h)=>{var m;let f=n.routes[p.route.id];if(!f||!f.hasLoader)return!1;if(u(p,h)||c(p,h))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((m=r[0])==null?void 0:m.params)||{},nextUrl:new URL(e,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function yH(e,t,{includeHydrateFallback:r}={}){return bH(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function bH(e){return[...new Set(e)]}function _H(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function xH(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let o=JSON.stringify(_H(a));return r.has(o)||(r.add(o),n.push({key:o,link:a})),n},[])}function hL(){let e=v.useContext(Jd);return zj(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function wH(){let e=v.useContext(ub);return zj(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Fj=v.createContext(void 0);Fj.displayName="FrameworkContext";function mL(){let e=v.useContext(Fj);return zj(e,"You must render this element inside a <HydratedRouter> element"),e}function SH(e,t){let r=v.useContext(Fj),[n,a]=v.useState(!1),[o,u]=v.useState(!1),{onFocus:c,onBlur:p,onMouseEnter:h,onMouseLeave:f,onTouchStart:m}=t,b=v.useRef(null);v.useEffect(()=>{if(e==="render"&&u(!0),e==="viewport"){let w=x=>{x.forEach(S=>{u(S.isIntersecting)})},y=new IntersectionObserver(w,{threshold:.5});return b.current&&y.observe(b.current),()=>{y.disconnect()}}},[e]),v.useEffect(()=>{if(n){let w=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(w)}}},[n]);let _=()=>{a(!0)},j=()=>{a(!1),u(!1)};return r?e!=="intent"?[o,b,{}]:[o,b,{onFocus:up(c,_),onBlur:up(p,j),onMouseEnter:up(h,_),onMouseLeave:up(f,j),onTouchStart:up(m,_)}]:[!1,b,{}]}function up(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function jH({page:e,...t}){let{router:r}=hL(),n=v.useMemo(()=>tL(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?v.createElement(kH,{page:e,matches:n,...t}):null}function CH(e){let{manifest:t,routeModules:r}=mL(),[n,a]=v.useState([]);return v.useEffect(()=>{let o=!1;return vH(e,t,r).then(u=>{o||a(u)}),()=>{o=!0}},[e,t,r]),n}function kH({page:e,matches:t,...r}){let n=Fa(),{future:a,manifest:o,routeModules:u}=mL(),{basename:c}=hL(),{loaderData:p,matches:h}=wH(),f=v.useMemo(()=>DP(e,t,h,o,n,"data"),[e,t,h,o,n]),m=v.useMemo(()=>DP(e,t,h,o,n,"assets"),[e,t,h,o,n]),b=v.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let w=new Set,y=!1;if(t.forEach(S=>{var N;let T=o.routes[S.route.id];!T||!T.hasLoader||(!f.some(P=>P.route.id===S.route.id)&&S.route.id in p&&((N=u[S.route.id])!=null&&N.shouldRevalidate)||T.hasClientLoader?y=!0:w.add(S.route.id))}),w.size===0)return[];let x=hH(e,c,a.unstable_trailingSlashAwareDataRequests,"data");return y&&w.size>0&&x.searchParams.set("_routes",t.filter(S=>w.has(S.route.id)).map(S=>S.route.id).join(",")),[x.pathname+x.search]},[c,a.unstable_trailingSlashAwareDataRequests,p,n,o,f,t,e,u]),_=v.useMemo(()=>yH(m,o),[m,o]),j=CH(m);return v.createElement(v.Fragment,null,b.map(w=>v.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...r})),_.map(w=>v.createElement("link",{key:w,rel:"modulepreload",href:w,...r})),j.map(({key:w,link:y})=>v.createElement("link",{key:w,nonce:r.nonce,...y,crossOrigin:y.crossOrigin??r.crossOrigin})))}function NH(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var EH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{EH&&(window.__reactRouterVersion="7.13.0")}catch{}function TH({basename:e,children:t,unstable_useTransitions:r,window:n}){let a=v.useRef();a.current==null&&(a.current=iU({window:n,v5Compat:!0}));let o=a.current,[u,c]=v.useState({action:o.action,location:o.location}),p=v.useCallback(h=>{r===!1?c(h):v.startTransition(()=>c(h))},[r]);return v.useLayoutEffect(()=>o.listen(p),[o,p]),v.createElement(nH,{basename:e,children:t,location:u.location,navigationType:u.action,navigator:o,unstable_useTransitions:r})}var gL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xe=v.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:o,replace:u,state:c,target:p,to:h,preventScrollReset:f,viewTransition:m,unstable_defaultShouldRevalidate:b,..._},j){let{basename:w,unstable_useTransitions:y}=v.useContext(za),x=typeof h=="string"&&gL.test(h),S=iL(h,w);h=S.to;let T=BU(h,{relative:a}),[N,P,A]=SH(n,_),k=RH(h,{replace:u,state:c,target:p,preventScrollReset:f,relative:a,viewTransition:m,unstable_defaultShouldRevalidate:b,unstable_useTransitions:y});function R(I){t&&t(I),I.defaultPrevented||k(I)}let D=v.createElement("a",{..._,...A,href:S.absoluteURL||T,onClick:S.isExternal||o?t:R,ref:NH(j,P),target:p,"data-discover":!x&&r==="render"?"true":void 0});return N&&!x?v.createElement(v.Fragment,null,D,v.createElement(jH,{page:T})):D});Xe.displayName="Link";var Ma=v.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:o,to:u,viewTransition:c,children:p,...h},f){let m=Hh(u,{relative:h.relative}),b=Fa(),_=v.useContext(ub),{navigator:j,basename:w}=v.useContext(za),y=_!=null&&IH(m)&&c===!0,x=j.encodeLocation?j.encodeLocation(m).pathname:m.pathname,S=b.pathname,T=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;r||(S=S.toLowerCase(),T=T?T.toLowerCase():null,x=x.toLowerCase()),T&&w&&(T=To(T,w)||T);const N=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let P=S===x||!a&&S.startsWith(x)&&S.charAt(N)==="/",A=T!=null&&(T===x||!a&&T.startsWith(x)&&T.charAt(x.length)==="/"),k={isActive:P,isPending:A,isTransitioning:y},R=P?t:void 0,D;typeof n=="function"?D=n(k):D=[n,P?"active":null,A?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let I=typeof o=="function"?o(k):o;return v.createElement(Xe,{...h,"aria-current":R,className:D,ref:f,style:I,to:u,viewTransition:c},typeof p=="function"?p(k):p)});Ma.displayName="NavLink";var PH=v.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:o,method:u=Nv,action:c,onSubmit:p,relative:h,preventScrollReset:f,viewTransition:m,unstable_defaultShouldRevalidate:b,..._},j)=>{let{unstable_useTransitions:w}=v.useContext(za),y=MH(),x=LH(c,{relative:h}),S=u.toLowerCase()==="get"?"get":"post",T=typeof c=="string"&&gL.test(c),N=P=>{if(p&&p(P),P.defaultPrevented)return;P.preventDefault();let A=P.nativeEvent.submitter,k=(A==null?void 0:A.getAttribute("formmethod"))||u,R=()=>y(A||P.currentTarget,{fetcherKey:t,method:k,navigate:r,replace:a,state:o,relative:h,preventScrollReset:f,viewTransition:m,unstable_defaultShouldRevalidate:b});w&&r!==!1?v.startTransition(()=>R()):R()};return v.createElement("form",{ref:j,method:S,action:x,onSubmit:n?p:N,..._,"data-discover":!T&&e==="render"?"true":void 0})});PH.displayName="Form";function AH(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vL(e){let t=v.useContext(Jd);return Cr(t,AH(e)),t}function RH(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:o,viewTransition:u,unstable_defaultShouldRevalidate:c,unstable_useTransitions:p}={}){let h=xi(),f=Fa(),m=Hh(e,{relative:o});return v.useCallback(b=>{if(cH(b,t)){b.preventDefault();let _=r!==void 0?r:gh(f)===gh(m),j=()=>h(e,{replace:_,state:n,preventScrollReset:a,relative:o,viewTransition:u,unstable_defaultShouldRevalidate:c});p?v.startTransition(()=>j()):j()}},[f,h,m,r,n,t,e,a,o,u,c,p])}function fb(e){vi(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=v.useRef(mS(e)),r=v.useRef(!1),n=Fa(),a=v.useMemo(()=>uH(n.search,r.current?null:t.current),[n.search]),o=xi(),u=v.useCallback((c,p)=>{const h=mS(typeof c=="function"?c(new URLSearchParams(a)):c);r.current=!0,o("?"+h,p)},[o,a]);return[a,u]}var OH=0,DH=()=>`__${String(++OH)}__`;function MH(){let{router:e}=vL("useSubmit"),{basename:t}=v.useContext(za),r=ZU(),n=e.fetch,a=e.navigate;return v.useCallback(async(o,u={})=>{let{action:c,method:p,encType:h,formData:f,body:m}=pH(o,t);if(u.navigate===!1){let b=u.fetcherKey||DH();await n(b,r,u.action||c,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:f,body:m,formMethod:u.method||p,formEncType:u.encType||h,flushSync:u.flushSync})}else await a(u.action||c,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:f,body:m,formMethod:u.method||p,formEncType:u.encType||h,replace:u.replace,state:u.state,fromRouteId:r,flushSync:u.flushSync,viewTransition:u.viewTransition})},[n,a,t,r])}function LH(e,{relative:t}={}){let{basename:r}=v.useContext(za),n=v.useContext(_i);Cr(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),o={...Hh(e||".",{relative:t})},u=Fa();if(e==null){o.search=u.search;let c=new URLSearchParams(o.search),p=c.getAll("index");if(p.some(f=>f==="")){c.delete("index"),p.filter(m=>m).forEach(m=>c.append("index",m));let f=c.toString();o.search=f?`?${f}`:""}}return(!e||e===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:Co([r,o.pathname])),gh(o)}function IH(e,{relative:t}={}){let r=v.useContext(oL);Cr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=vL("useViewTransitionState"),a=Hh(e,{relative:t});if(!r.isTransitioning)return!1;let o=To(r.currentLocation.pathname,n)||r.currentLocation.pathname,u=To(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Jv(a.pathname,u)!=null||Jv(a.pathname,o)!=null}var Wh=EM();const $H=Ts(Wh),MP=e=>{let t;const r=new Set,n=(h,f)=>{const m=typeof h=="function"?h(t):h;if(!Object.is(m,t)){const b=t;t=f??(typeof m!="object"||m===null)?m:Object.assign({},t,m),r.forEach(_=>_(t,b))}},a=()=>t,c={setState:n,getState:a,getInitialState:()=>p,subscribe:h=>(r.add(h),()=>r.delete(h))},p=t=e(n,a,c);return c},BH=(e=>e?MP(e):MP),zH=e=>e;function FH(e,t=zH){const r=hi.useSyncExternalStore(e.subscribe,hi.useCallback(()=>t(e.getState()),[e,t]),hi.useCallback(()=>t(e.getInitialState()),[e,t]));return hi.useDebugValue(r),r}const LP=e=>{const t=BH(e),r=n=>FH(t,n);return Object.assign(r,t),r},qH=(e=>e?LP(e):LP),As=qH(e=>({user:null,setUser:t=>e({user:t})})),UH="/api";function vh(e){const t=e==null?void 0:e.status;return t===void 0||t===0||t>=500}const HH="harborfm_csrf";function WH(e){if(typeof document>"u")return;const t=document.cookie.split(";").map(r=>r.trim());for(const r of t){if(!r)continue;const n=r.indexOf("=");if(n<0||r.slice(0,n)!==e)continue;const o=r.slice(n+1);try{return decodeURIComponent(o)}catch{return o}}}function KH(){return WH(HH)}function tr(){const e=KH();return e?{"x-csrf-token":e}:{}}function GH(e){const t=e.toUpperCase();return t!=="GET"&&t!=="HEAD"&&t!=="OPTIONS"}async function qa(e,t={}){const{json:r,...n}=t,a=(n.method??(r!==void 0?"POST":"GET")).toUpperCase(),o={...n.headers};r!==void 0&&(o["Content-Type"]="application/json"),GH(a)&&Object.assign(o,tr());let u;try{u=await fetch(`${UH}${e}`,{...n,method:a,credentials:"include",headers:o,body:r!==void 0?JSON.stringify(r):n.body})}catch{throw Object.assign(new Error("Network error"),{status:0})}if(!u.ok){if(u.status===429){const h=u.headers.get("Retry-After"),f=h&&/^\d+$/.test(h)?`Too many requests. Please try again in ${h} second${h==="1"?"":"s"}.`:"Too many requests. Please wait a moment and try again.";throw Object.assign(new Error(f),{status:429})}const c=await u.json().catch(()=>({error:u.statusText}));throw Object.assign(new Error(c.error??u.statusText),{status:u.status})}if(u.status!==204)return u.json()}function At(e){return qa(e,{method:"GET"})}function an(e,t){return qa(e,{method:"POST",json:t})}function Kl(e,t){return qa(e,{method:"PATCH",json:t})}function VH(e,t){return qa(e,{method:"PUT",json:t})}function Kh(e){return qa(e,{method:"DELETE"})}function lu(e){return!!(e!=null&&e.read_only)}const YH=5*1024*1024;function QH(e){return e!=null&&e.user?XH(e.user):!0}function XH(e){if(!e)return!0;const t=e.max_storage_mb??null;if(t==null||t<=0)return!0;const r=e.disk_bytes_used??0;return t*1024*1024-r>=YH}const ZH="Less than 5 MB storage free. Free up space to record.";function Si(){return At("/auth/me")}function JH(e,t,r){return an("/auth/register",{email:e,password:t,...r?{captchaToken:r}:{}})}function eW(e,t,r){return an("/auth/login",{email:e,password:t,...r?{captchaToken:r}:{}})}function tW(){return an("/auth/logout")}function rW(e){return At(`/auth/verify-email?token=${encodeURIComponent(e)}`)}function nW(e){return At(`/auth/validate-reset-token?token=${encodeURIComponent(e)}`)}function aW(e,t){return an("/auth/forgot-password",{email:e,...t?{captchaToken:t}:{}})}function iW(e,t){return an("/auth/reset-password",{token:e,password:t})}function cu(){return At("/setup/status")}function sW(e){const t=new URLSearchParams({id:e});return At(`/setup/validate?${t.toString()}`)}function oW(e,t){const r=new URLSearchParams({id:e});return an(`/setup/complete?${r.toString()}`,t)}function uu(){return At("/public/config")}function lW(e){var n;const t=new URLSearchParams;t.set("limit",String(e.limit)),(e==null?void 0:e.offset)!=null&&t.set("offset",String(e.offset)),(n=e==null?void 0:e.q)!=null&&n.trim()&&t.set("q",e.q.trim()),e!=null&&e.sort&&t.set("sort",e.sort);const r=t.toString();return At(`/public/podcasts${r?`?${r}`:""}`)}function pb(e){return At(`/public/podcasts/${e}`)}function cW(e,t=50,r=0,n="newest",a){const o=new URLSearchParams;return o.set("limit",String(t)),o.set("offset",String(r)),o.set("sort",n),a!=null&&a.trim()&&o.set("q",a.trim()),At(`/public/podcasts/${e}/episodes?${o.toString()}`)}function qj(e,t){return At(`/public/podcasts/${e}/episodes/${t}`)}function uW(e,t){return At(`/public/podcasts/${encodeURIComponent(e)}/episodes/${encodeURIComponent(t)}/cast`)}function dW(e,t){const r=new URLSearchParams;r.set("limit",String(t.limit)),(t==null?void 0:t.offset)!=null&&r.set("offset",String(t.offset));const n=r.toString();return At(`/public/podcasts/${e}/cast${n?`?${n}`:""}`)}function Uj(e,t){return`/api/public/podcasts/${encodeURIComponent(e)}/episodes/${encodeURIComponent(t)}/waveform`}function fW(e,t){return an("/public/subscriber-auth",{token:e,podcastSlug:t})}function pW(){return At("/public/subscriber-auth/status")}function hW(e){const t=e?`?podcastSlug=${encodeURIComponent(e)}`:"";return Kh(`/public/subscriber-auth${t}`)}const mW="_layout_ohwld_1",gW="_header_ohwld_13",vW="_headerContainer_ohwld_18",yW="_headerLeft_ohwld_29",bW="_logo_ohwld_35",_W="_logoIcon_ohwld_49",xW="_navBar_ohwld_55",wW="_navLink_ohwld_68",SW="_navLinkActive_ohwld_83",jW="_adminDropdownWrap_ohwld_97",CW="_adminDropdownWrapOpen_ohwld_102",kW="_adminDropdown_ohwld_97",NW="_adminChevron_ohwld_120",EW="_adminDropdownLink_ohwld_145",TW="_adminDropdownLinkActive_ohwld_146",PW="_nav_ohwld_55",AW="_profileLink_ohwld_179",RW="_profileLinkActive_ohwld_180",OW="_logout_ohwld_214",DW="_menuToggle_ohwld_233",MW="_menuOverlay_ohwld_256",LW="_mobileMenu_ohwld_271",IW="_mobileMenuOpen_ohwld_289",$W="_mobileMenuHeader_ohwld_293",BW="_mobileMenuTitle_ohwld_301",zW="_mobileMenuProfile_ohwld_307",FW="_mobileMenuClose_ohwld_313",qW="_mobileNav_ohwld_330",UW="_mobileNavLink_ohwld_338",HW="_mobileNavLinkActive_ohwld_339",WW="_mobileAdminSection_ohwld_366",KW="_mobileAdminTrigger_ohwld_372",GW="_adminChevronOpen_ohwld_394",VW="_mobileAdminSubmenu_ohwld_399",YW="_mobileMenuFooter_ohwld_412",QW="_mobileLogout_ohwld_419",XW="_main_ohwld_453",et={layout:mW,header:gW,headerContainer:vW,headerLeft:yW,logo:bW,logoIcon:_W,navBar:xW,navLink:wW,navLinkActive:SW,adminDropdownWrap:jW,adminDropdownWrapOpen:CW,adminDropdown:kW,adminChevron:NW,adminDropdownLink:EW,adminDropdownLinkActive:TW,nav:PW,profileLink:AW,profileLinkActive:RW,logout:OW,menuToggle:DW,menuOverlay:MW,mobileMenu:LW,mobileMenuOpen:IW,mobileMenuHeader:$W,mobileMenuTitle:BW,mobileMenuProfile:zW,mobileMenuClose:FW,mobileNav:qW,mobileNavLink:UW,mobileNavLinkActive:HW,mobileAdminSection:WW,mobileAdminTrigger:KW,adminChevronOpen:GW,mobileAdminSubmenu:VW,mobileMenuFooter:YW,mobileLogout:QW,main:XW},ZW=["/users","/settings"];function JW(e){return ZW.some(t=>e===t||e.startsWith(t+"/"))}function eK(){const{user:e,setUser:t}=As(),r=Bt(),n=xi(),a=Fa(),[o,u]=v.useState(!1),[c,p]=v.useState(!1),[h,f]=v.useState(!1),m=v.useRef(null),b=v.useRef(null);async function _(){await tW(),t(null),r.clear(),n("/login"),u(!1)}return v.useEffect(()=>{function j(w){m.current&&!m.current.contains(w.target)&&u(!1)}if(o)return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[o]),v.useEffect(()=>{u(!1),p(!1),f(!1)},[a.pathname]),v.useEffect(()=>{function j(w){b.current&&!b.current.contains(w.target)&&f(!1)}if(h)return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[h]),i.jsxs("div",{className:et.layout,children:[i.jsx("header",{className:et.header,children:i.jsxs("div",{className:et.headerContainer,children:[i.jsxs("div",{className:et.headerLeft,children:[i.jsxs(Xe,{to:"/",className:et.logo,onClick:()=>u(!1),children:[i.jsx("img",{src:"/favicon.svg",alt:"",className:et.logoIcon}),"HarborFM"]}),i.jsxs("nav",{className:et.navBar,children:[i.jsx(Ma,{to:"/",end:!0,className:({isActive:j})=>j?et.navLinkActive:et.navLink,children:"Home"}),i.jsx(Ma,{to:"/library",className:({isActive:j})=>j?et.navLinkActive:et.navLink,children:"Library"}),i.jsx(Ma,{to:"/messages",className:({isActive:j})=>j?et.navLinkActive:et.navLink,children:"Messages"}),(e==null?void 0:e.role)==="admin"&&i.jsxs("div",{ref:b,className:`${et.adminDropdownWrap} ${h?et.adminDropdownWrapOpen:""}`,onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),children:[i.jsxs("button",{type:"button",className:JW(a.pathname)?et.navLinkActive:et.navLink,"aria-haspopup":"true","aria-expanded":h,"aria-label":"Admin menu",onClick:()=>f(j=>!j),children:["Admin",i.jsx(fS,{size:16,strokeWidth:2,className:et.adminChevron,"aria-hidden":!0})]}),i.jsxs("div",{className:et.adminDropdown,role:"menu",children:[i.jsx(Ma,{to:"/users",className:({isActive:j})=>j?et.adminDropdownLinkActive:et.adminDropdownLink,role:"menuitem",onClick:()=>f(!1),children:"Users"}),i.jsx(Ma,{to:"/settings",className:({isActive:j})=>j?et.adminDropdownLinkActive:et.adminDropdownLink,role:"menuitem",onClick:()=>f(!1),children:"Settings"})]})]})]})]}),i.jsxs("div",{className:et.nav,children:[i.jsxs(Ma,{to:"/profile",className:({isActive:j})=>j?et.profileLinkActive:et.profileLink,title:"Profile",children:[i.jsx(hh,{size:18,strokeWidth:2,"aria-hidden":!0}),"Profile"]}),i.jsx("button",{type:"button",className:et.logout,onClick:_,"aria-label":"Log out",children:"Log out"}),i.jsx("button",{type:"button",className:et.menuToggle,onClick:()=>u(!o),"aria-label":"Toggle menu",children:o?i.jsx(Nt,{size:24,strokeWidth:2}):i.jsx(fq,{size:24,strokeWidth:2})})]})]})}),o&&i.jsx("div",{className:et.menuOverlay,onClick:()=>u(!1)}),i.jsxs("div",{ref:m,className:`${et.mobileMenu} ${o?et.mobileMenuOpen:""}`,inert:o?void 0:!0,children:[i.jsxs("div",{className:et.mobileMenuHeader,children:[i.jsx("span",{className:et.mobileMenuTitle,children:"Menu"}),i.jsx("button",{type:"button",className:et.mobileMenuClose,onClick:()=>u(!1),"aria-label":"Close menu",children:i.jsx(Nt,{size:24,strokeWidth:2})})]}),i.jsxs("nav",{className:et.mobileNav,children:[i.jsx(Ma,{to:"/",end:!0,className:({isActive:j})=>j?et.mobileNavLinkActive:et.mobileNavLink,onClick:()=>u(!1),children:"Home"}),i.jsx(Ma,{to:"/library",className:({isActive:j})=>j?et.mobileNavLinkActive:et.mobileNavLink,onClick:()=>u(!1),children:"Library"}),i.jsx(Ma,{to:"/messages",className:({isActive:j})=>j?et.mobileNavLinkActive:et.mobileNavLink,onClick:()=>u(!1),children:"Messages"}),i.jsxs(Ma,{to:"/profile",className:({isActive:j})=>`${j?et.mobileNavLinkActive:et.mobileNavLink} ${et.mobileMenuProfile}`,onClick:()=>u(!1),children:[i.jsx(hh,{size:20,strokeWidth:2,"aria-hidden":!0}),"Profile"]}),(e==null?void 0:e.role)==="admin"&&i.jsxs("div",{className:et.mobileAdminSection,children:[i.jsxs("button",{type:"button",className:et.mobileAdminTrigger,onClick:()=>p(j=>!j),"aria-expanded":c,children:["Admin",i.jsx(fS,{size:18,strokeWidth:2,className:c?et.adminChevronOpen:"","aria-hidden":!0})]}),c&&i.jsxs("div",{className:et.mobileAdminSubmenu,children:[i.jsx(Ma,{to:"/users",className:({isActive:j})=>j?et.mobileNavLinkActive:et.mobileNavLink,onClick:()=>{u(!1),p(!1)},children:"Users"}),i.jsx(Ma,{to:"/settings",className:({isActive:j})=>j?et.mobileNavLinkActive:et.mobileNavLink,onClick:()=>{u(!1),p(!1)},children:"Settings"})]})]})]}),i.jsx("div",{className:et.mobileMenuFooter,children:i.jsxs("button",{type:"button",className:et.mobileLogout,onClick:_,"aria-label":"Log out",children:[i.jsx(XM,{size:20,strokeWidth:2,"aria-hidden":!0}),"Log out"]})})]}),i.jsx("main",{className:et.main,children:i.jsx(rH,{})})]})}const tK="_wrap_dfkeq_1",rK="_welcomeBanner_dfkeq_17",nK="_card_dfkeq_34",aK="_brand_dfkeq_44",iK="_brandIcon_dfkeq_52",sK="_title_dfkeq_58",oK="_subtitle_dfkeq_66",lK="_setupHeader_dfkeq_72",cK="_loginHeader_dfkeq_77",uK="_setupHeaderTitle_dfkeq_82",dK="_setupHeaderSub_dfkeq_91",fK="_form_dfkeq_98",pK="_label_dfkeq_104",hK="_input_dfkeq_113",mK="_error_dfkeq_126",gK="_verificationCard_dfkeq_139",vK="_verificationCardText_dfkeq_147",yK="_verificationCardFooter_dfkeq_154",bK="_verificationCardError_dfkeq_162",_K="_verificationCardErrorText_dfkeq_170",xK="_verificationCardSuccess_dfkeq_177",wK="_verificationCardSuccessText_dfkeq_185",SK="_setupNotice_dfkeq_192",jK="_setupNoticeTitle_dfkeq_200",CK="_setupNoticeBody_dfkeq_207",kK="_setupNoticeCode_dfkeq_214",NK="_submit_dfkeq_222",EK="_footerActions_dfkeq_247",TK="_footerAction_dfkeq_247",PK="_footerActionIcon_dfkeq_270",AK="_footerActionLabel_dfkeq_280",RK="_footerActionLink_dfkeq_286",OK="_footer_dfkeq_247",DK="_footerLinks_dfkeq_312",MK="_footerBelowCard_dfkeq_319",LK="_footerBelowCardSep_dfkeq_330",IK="_toggleHelp_dfkeq_338",se={wrap:tK,welcomeBanner:rK,card:nK,brand:aK,brandIcon:iK,title:sK,subtitle:oK,setupHeader:lK,loginHeader:cK,setupHeaderTitle:uK,setupHeaderSub:dK,form:fK,label:pK,input:hK,error:mK,verificationCard:gK,verificationCardText:vK,verificationCardFooter:yK,verificationCardError:bK,verificationCardErrorText:_K,verificationCardSuccess:xK,verificationCardSuccessText:wK,setupNotice:SK,setupNoticeTitle:jK,setupNoticeBody:CK,setupNoticeCode:kK,submit:NK,footerActions:EK,footerAction:TK,footerActionIcon:PK,footerActionLabel:AK,footerActionLink:RK,footer:OK,footerLinks:DK,footerBelowCard:MK,footerBelowCardSep:LK,toggleHelp:IK},$K="_card_1wgr1_1",BK="_content_1wgr1_16",zK="_header_1wgr1_20",FK="_status_1wgr1_28",qK="_iconWrap_1wgr1_35",UK="_statusText_1wgr1_46",HK="_title_1wgr1_50",WK="_subtitle_1wgr1_58",KK="_body_1wgr1_64",GK="_details_1wgr1_71",VK="_actions_1wgr1_85",YK="_retry_1wgr1_94",ri={card:$K,content:BK,header:zK,status:FK,iconWrap:qK,statusText:UK,title:HK,subtitle:WK,body:KK,details:GK,actions:VK,retry:YK};function yL({title:e="Server is offline",message:t="Could not reach HarborFM server. Make sure the server is running, then try again.",details:r,onRetry:n}){return i.jsx("div",{className:se.wrap,children:i.jsxs("div",{className:`${se.card} ${ri.card}`,children:[i.jsxs("div",{className:se.brand,children:[i.jsx("img",{src:"/favicon.svg",alt:"",className:se.brandIcon}),i.jsx("h1",{className:se.title,children:"HarborFM"})]}),i.jsxs("div",{className:ri.content,children:[i.jsx("div",{className:ri.header,children:i.jsxs("div",{className:ri.status,children:[i.jsx("div",{className:ri.iconWrap,"aria-hidden":"true",children:i.jsx(Xq,{size:18})}),i.jsxs("div",{className:ri.statusText,children:[i.jsx("h2",{className:ri.title,children:e}),i.jsx("p",{className:ri.subtitle,children:"We couldnt reach the API right now."})]})]})}),i.jsx("p",{className:ri.body,children:t}),r&&i.jsx("div",{className:ri.details,children:r}),n&&i.jsx("div",{className:ri.actions,children:i.jsxs("button",{type:"button",className:`${se.submit} ${ri.retry}`,onClick:n,"aria-label":"Retry",children:[i.jsx(lb,{size:16,"aria-hidden":"true"}),"Retry"]})})]})]})})}const IP="https://www.google.com/recaptcha/api.js",QK="https://js.hcaptcha.com/1/api.js";function $1(e,t){if(document.querySelector(`script[src="${e}"]`)){t==null||t();return}const r=document.createElement("script");r.src=e,r.async=!0,r.defer=!0,t&&(r.onload=t),document.head.appendChild(r)}const Gh=v.forwardRef(function({provider:t,siteKey:r,action:n="login"},a){const o=v.useRef(null),u=v.useRef(null);return v.useImperativeHandle(a,()=>({getToken:()=>{if(t==="recaptcha_v3")return window.grecaptcha?new Promise(c=>{window.grecaptcha.ready(c)}).then(()=>window.grecaptcha.execute(r,{action:n})):Promise.resolve("");if(t==="recaptcha_v2"){if(!window.grecaptcha)return Promise.resolve("");const c=u.current??void 0,p=window.grecaptcha.getResponse(c);return Promise.resolve(p||"")}if(t==="hcaptcha"&&window.hcaptcha){const c=u.current??void 0,p=window.hcaptcha.getResponse(c);return Promise.resolve(p||"")}return Promise.resolve("")}}),[t,r,n]),v.useEffect(()=>{if(r){if(t==="recaptcha_v3"){$1(`${IP}?render=${encodeURIComponent(r)}`);return}if(t==="recaptcha_v2"){const c=()=>{if(!(!o.current||!window.grecaptcha))try{u.current=window.grecaptcha.render(o.current,{sitekey:r})}catch{}};window.onRecaptchaLoad=c;const p=`${IP}?onload=onRecaptchaLoad&render=explicit`;return $1(p,()=>{var h,f;(f=(h=window.grecaptcha)==null?void 0:h.ready)==null||f.call(h,c)}),()=>{window.onRecaptchaLoad=void 0}}if(t==="hcaptcha"){const c=()=>{if(!(u.current!=null||!o.current||!window.hcaptcha))try{u.current=window.hcaptcha.render(o.current,{sitekey:r})}catch{}};window.onHcaptchaLoad=c;const p=`${QK}?onload=onHcaptchaLoad&render=explicit`;return document.querySelector(`script[src="${p}"]`)?setTimeout(c,0):$1(p),()=>{window.onHcaptchaLoad=void 0}}}},[t,r]),t==="recaptcha_v3"?null:i.jsx("div",{className:"captcha-container",style:{marginTop:"0.5rem",minHeight:78,display:"flex",justifyContent:"center"},children:i.jsx("div",{ref:o})})});function XK(){var _,j;const[e]=fb(),t=e.get("verified")==="1",[r,n]=v.useState(""),[a,o]=v.useState(""),u=As(w=>w.setUser),c=xi(),p=Bt(),h=v.useRef(null),{data:f}=De({queryKey:["setupStatus"],queryFn:cu,retry:!1,staleTime:1e4}),m=Ve({mutationFn:async()=>{var y;let w;return f!=null&&f.captchaProvider&&f.captchaProvider!=="none"&&f.captchaSiteKey&&(w=await((y=h.current)==null?void 0:y.getToken()),w!=null&&w.trim()||console.error("[Login] CAPTCHA enabled but no token from widget",{captchaProvider:f.captchaProvider,hasRef:!!h.current})),eW(r,a,w)},onSuccess:w=>{u(w.user),p.invalidateQueries({queryKey:["me"]}),c("/")},onError:w=>{console.error("[Login] submit failed",{message:w.message,name:w.name})}});async function b(w){w.preventDefault(),t&&c("/login",{replace:!0}),m.mutate()}return i.jsx("main",{children:i.jsxs("div",{className:se.wrap,children:[i.jsxs("div",{className:se.card,children:[i.jsxs("div",{className:se.brand,children:[i.jsx("img",{src:"/favicon.svg",alt:"",className:se.brandIcon}),i.jsx("h1",{className:se.title,children:"HarborFM"})]}),i.jsx("div",{className:se.loginHeader,children:i.jsx("h2",{className:se.setupHeaderTitle,children:"Sign in to your account"})}),i.jsxs("form",{onSubmit:b,className:se.form,children:[i.jsxs("label",{className:se.label,children:["Email",i.jsx("input",{type:"email",autoComplete:"email",value:r,onChange:w=>n(w.target.value),className:se.input,required:!0})]}),i.jsxs("label",{className:se.label,children:["Password",i.jsx("input",{type:"password",autoComplete:"current-password",value:a,onChange:w=>o(w.target.value),className:se.input,required:!0})]}),(f==null?void 0:f.captchaProvider)&&f.captchaProvider!=="none"&&f.captchaSiteKey&&i.jsx(Gh,{ref:h,provider:f.captchaProvider,siteKey:f.captchaSiteKey}),t&&i.jsx("div",{className:se.verificationCardSuccess,children:i.jsx("p",{className:se.verificationCardSuccessText,children:"Your email is verified. You can sign in now."})}),m.isError&&i.jsx("div",{className:se.verificationCardError,children:i.jsx("p",{className:se.verificationCardErrorText,children:(_=m.error)==null?void 0:_.message})}),i.jsxs("button",{type:"submit",className:se.submit,disabled:m.isPending||!r.trim()||a.length<4,"aria-label":"Sign in",children:[i.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":!0,children:[i.jsx("path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}),i.jsx("polyline",{points:"10 17 15 12 10 7"}),i.jsx("line",{x1:"15",y1:"12",x2:"3",y2:"12"})]}),m.isPending?"Signing in...":"Sign in"]})]}),i.jsxs("div",{className:se.footerActions,children:[i.jsxs("div",{className:se.footerAction,children:[i.jsx("span",{className:se.footerActionIcon,"aria-hidden":!0,children:i.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M15 7a2 2 0 0 1 2 2m-4 2a6 6 0 0 1-3-5 6 6 0 0 1 6 0 6 6 0 0 1-3 5"}),i.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"})]})}),i.jsx("span",{className:se.footerActionLabel,children:"Forgot your password?"}),i.jsx(Xe,{to:"/reset-password",className:se.footerActionLink,children:"Reset password"})]}),(f==null?void 0:f.registrationEnabled)!==!1&&i.jsxs("div",{className:se.footerAction,children:[i.jsx("span",{className:se.footerActionIcon,"aria-hidden":!0,children:i.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),i.jsx("circle",{cx:"9",cy:"7",r:"4"}),i.jsx("line",{x1:"19",y1:"8",x2:"19",y2:"14"}),i.jsx("line",{x1:"22",y1:"11",x2:"16",y2:"11"})]})}),i.jsx("span",{className:se.footerActionLabel,children:"No account?"}),i.jsx(Xe,{to:"/register",className:se.footerActionLink,children:"Create account"})]})]})]}),((j=f==null?void 0:f.welcomeBanner)==null?void 0:j.trim())&&i.jsx("div",{className:se.welcomeBanner,role:"status",children:f.welcomeBanner}),i.jsxs("p",{className:se.footerBelowCard,children:[i.jsx(Xe,{to:"/privacy",children:"Privacy Policy"}),i.jsx("span",{className:se.footerBelowCardSep,"aria-hidden":!0}),i.jsx(Xe,{to:"/terms",children:"Terms of Service"}),i.jsx("span",{className:se.footerBelowCardSep,"aria-hidden":!0}),i.jsx(Xe,{to:"/contact",children:"Contact"})]})]})})}function ZK(){var _;const[e,t]=v.useState(""),[r,n]=v.useState(""),a=As(j=>j.setUser),o=xi(),u=Bt(),c=v.useRef(null),{data:p}=De({queryKey:["setupStatus"],queryFn:cu,retry:!1,staleTime:1e4}),[h,f]=v.useState(null),m=Ve({mutationFn:async()=>{var w;let j;return p!=null&&p.captchaProvider&&p.captchaProvider!=="none"&&p.captchaSiteKey&&(j=await((w=c.current)==null?void 0:w.getToken())),JH(e,r,j)},onSuccess:j=>{if("requiresVerification"in j&&j.requiresVerification){f(j.message??"Check your email to verify your account, then sign in.");return}"user"in j&&(a(j.user),u.invalidateQueries({queryKey:["me"]}),o("/"))}});async function b(j){j.preventDefault(),m.mutate()}return i.jsx("main",{children:i.jsxs("div",{className:se.wrap,children:[i.jsxs("div",{className:se.card,children:[i.jsxs("div",{className:se.brand,children:[i.jsx("img",{src:"/favicon.svg",alt:"",className:se.brandIcon}),i.jsx("h1",{className:se.title,children:"HarborFM"})]}),i.jsx("div",{className:se.loginHeader,children:i.jsx("h2",{className:se.setupHeaderTitle,children:"Register"})}),h?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:se.verificationCard,children:i.jsx("p",{className:se.verificationCardText,children:h})}),i.jsxs("p",{className:se.verificationCardFooter,children:[i.jsx(Xe,{to:"/login",children:"Sign in"})," once youve verified your email."]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("form",{onSubmit:b,className:se.form,children:[i.jsxs("label",{className:se.label,children:["Email",i.jsx("input",{type:"email",autoComplete:"email",value:e,onChange:j=>t(j.target.value),className:se.input,required:!0})]}),i.jsxs("label",{className:se.label,children:["Password",i.jsx("input",{type:"password",autoComplete:"new-password",value:r,onChange:j=>n(j.target.value),className:se.input,minLength:8,required:!0})]}),(p==null?void 0:p.captchaProvider)&&p.captchaProvider!=="none"&&p.captchaSiteKey&&i.jsx(Gh,{ref:c,provider:p.captchaProvider,siteKey:p.captchaSiteKey}),m.isError&&i.jsx("p",{className:se.error,children:(_=m.error)==null?void 0:_.message}),i.jsxs("button",{type:"submit",className:se.submit,disabled:m.isPending||!e.trim()||r.length<8,"aria-label":"Create account",children:[i.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":!0,children:[i.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),i.jsx("circle",{cx:"9",cy:"7",r:"4"}),i.jsx("line",{x1:"19",y1:"8",x2:"19",y2:"14"}),i.jsx("line",{x1:"22",y1:"11",x2:"16",y2:"11"})]}),m.isPending?"Creating...":"Create account"]})]}),i.jsxs("p",{className:se.footer,children:["Already have an account? ",i.jsx(Xe,{to:"/login",children:"Sign in"})]})]})]}),i.jsxs("p",{className:se.footerBelowCard,children:[i.jsx(Xe,{to:"/privacy",children:"Privacy Policy"}),i.jsx("span",{className:se.footerBelowCardSep,"aria-hidden":!0}),i.jsx(Xe,{to:"/terms",children:"Terms of Service"}),i.jsx("span",{className:se.footerBelowCardSep,"aria-hidden":!0}),i.jsx(Xe,{to:"/contact",children:"Contact"})]})]})})}function _a(){return i.jsxs("div",{className:"app-loading","aria-label":"Loading",children:[i.jsx("span",{className:"app-loading__dot"}),i.jsx("span",{className:"app-loading__dot"}),i.jsx("span",{className:"app-loading__dot"})]})}function JK({label:e="Loading"}){return i.jsxs("span",{"aria-label":e,style:{display:"inline-flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",padding:"0.25rem 0"},children:[i.jsx("span",{className:"app-loading__dot"}),i.jsx("span",{className:"app-loading__dot"}),i.jsx("span",{className:"app-loading__dot"})]})}function eG(){var M;const e=Fa(),t=xi(),r=Bt(),n=v.useMemo(()=>(new URLSearchParams(e.search).get("id")||"").trim(),[e.search]),{data:a,isLoading:o,isError:u,error:c,refetch:p}=De({queryKey:["setupStatus"],queryFn:cu,retry:!1,staleTime:1e4}),{isLoading:h,isError:f,error:m,data:b,refetch:_}=De({queryKey:["setupValidate",n],queryFn:()=>sW(n),enabled:!!n&&!!(a!=null&&a.setupRequired),retry:!1,staleTime:1e4}),j=v.useMemo(()=>typeof window>"u"?"":window.location.origin,[]),[w,y]=v.useState(""),[x,S]=v.useState(""),[T,N]=v.useState(j),[P,A]=v.useState(!1),[k,R]=v.useState(!0),[D,I]=v.useState(!1),q=Ve({mutationFn:()=>oW(n,{email:w,password:x,hostname:T.trim().replace(/\/+$/,""),registration_enabled:P,public_feeds_enabled:k,import_pixabay_assets:D}),onSuccess:async()=>{r.setQueryData(["setupStatus"],{setupRequired:!1}),r.invalidateQueries({queryKey:["setupStatus"]}),t("/login",{replace:!0})}});function z(F){F.preventDefault(),n&&q.mutate()}if(o)return i.jsx("main",{children:i.jsx("div",{className:se.wrap,children:i.jsx("div",{className:se.card,children:i.jsx("p",{className:se.subtitle,children:"Loading setup status..."})})})});if(u){const F=c instanceof Error?c.message:"Failed to reach server";return i.jsx(yL,{title:"Server is offline",message:"Could not load setup status. The server may be down or restarting.",details:F,onRetry:()=>{p()}})}if(a&&!a.setupRequired)return i.jsx(Hi,{to:"/",replace:!0});if(q.isPending)return i.jsx(_a,{});if(!n)return i.jsx("main",{children:i.jsx("div",{className:se.wrap,children:i.jsxs("div",{className:se.card,children:[i.jsxs("div",{className:se.brand,children:[i.jsx("img",{src:"/favicon.svg",alt:"",className:se.brandIcon}),i.jsx("h1",{className:se.title,children:"HarborFM"})]}),i.jsxs("div",{className:se.setupNotice,role:"alert","aria-live":"polite",children:[i.jsx("p",{className:se.setupNoticeTitle,children:"Setup link required"}),i.jsxs("p",{className:se.setupNoticeBody,children:["Missing setup id in the URL. Check the server logs for a link like"," ",i.jsx("code",{className:se.setupNoticeCode,children:"/setup?id=....."})]})]})]})})});if(h)return i.jsx("main",{children:i.jsx("div",{className:se.wrap,children:i.jsxs("div",{className:se.card,children:[i.jsxs("div",{className:se.brand,children:[i.jsx("img",{src:"/favicon.svg",alt:"",className:se.brandIcon}),i.jsx("h1",{className:se.title,children:"HarborFM"})]}),i.jsx("p",{className:se.subtitle,children:"Validating setup link..."})]})})});if(f||!b){const F=m instanceof Error?m.message:"Invalid setup link";return i.jsx("main",{children:i.jsx("div",{className:se.wrap,children:i.jsxs("div",{className:se.card,children:[i.jsxs("div",{className:se.brand,children:[i.jsx("img",{src:"/favicon.svg",alt:"",className:se.brandIcon}),i.jsx("h1",{className:se.title,children:"HarborFM"})]}),i.jsxs("div",{className:se.setupNotice,role:"alert","aria-live":"polite",children:[i.jsx("p",{className:se.setupNoticeTitle,children:"Setup link invalid"}),i.jsx("p",{className:se.setupNoticeBody,children:F})]}),i.jsx("button",{type:"button",className:se.submit,onClick:()=>{_()},"aria-label":"Retry validating setup link",style:{marginTop:"1rem",width:"100%"},children:"Retry"})]})})})}return i.jsx("main",{children:i.jsx("div",{className:se.wrap,children:i.jsxs("div",{className:se.card,children:[i.jsxs("div",{className:se.brand,children:[i.jsx("img",{src:"/favicon.svg",alt:"",className:se.brandIcon}),i.jsx("h1",{className:se.title,children:"HarborFM"})]}),i.jsx("div",{className:se.setupHeader,children:i.jsx("h2",{className:se.setupHeaderTitle,children:"Initial setup"})}),i.jsxs("form",{onSubmit:z,className:se.form,children:[i.jsxs("label",{className:se.label,children:["Admin email",i.jsx("input",{type:"email",autoComplete:"email",value:w,onChange:F=>y(F.target.value),className:se.input,required:!0})]}),i.jsxs("label",{className:se.label,children:["Admin password",i.jsx("input",{type:"password",autoComplete:"new-password",value:x,onChange:F=>S(F.target.value),className:se.input,minLength:8,required:!0})]}),i.jsxs("label",{className:se.label,children:["Hostname (public base URL, optional)",i.jsx("input",{type:"text",placeholder:"https://podcasts.example.com",value:T,onChange:F=>N(F.target.value),className:se.input})]}),i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:P,onChange:F=>A(F.target.checked)}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Enable Account Registration"})]}),i.jsx("p",{className:se.toggleHelp,children:"When enabled, new users can create accounts. When disabled, only existing users can log in."}),i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:k,onChange:F=>R(F.target.checked)}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Enable Public Feeds"})]}),i.jsx("p",{className:se.toggleHelp,children:"When enabled, anyone can view your podcast feed pages and RSS. When disabled, feed pages are hidden."}),i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:D,onChange:F=>I(F.target.checked)}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Import Pixabay Assets"})]}),i.jsx("p",{className:se.toggleHelp,children:"Imports a list of curated Pixabay assets into your global library."}),q.isError&&i.jsx("p",{className:se.error,children:(M=q.error)==null?void 0:M.message}),i.jsx("button",{type:"submit",className:se.submit,disabled:q.isPending||!n,"aria-label":"Complete setup",children:q.isPending?"Setting up...":"Complete setup"})]})]})})})}function tG(){var N,P,A,k;const[e]=fb(),t=e.get("token"),[r,n]=v.useState(""),[a,o]=v.useState(""),[u,c]=v.useState(""),p=v.useRef(null),{data:h}=De({queryKey:["setupStatus"],queryFn:cu,retry:!1,staleTime:1e4}),f=(t==null?void 0:t.trim())??"",m=!!f,b=De({queryKey:["validateResetToken",f],queryFn:()=>nW(f),enabled:m,retry:!1,staleTime:300*1e3}),_=b.isSuccess&&((N=b.data)==null?void 0:N.ok)===!0,j=m&&!b.isLoading&&(b.isError||!_),w=Ve({mutationFn:async()=>{var D;let R;if(h!=null&&h.captchaProvider&&h.captchaProvider!=="none"&&h.captchaSiteKey&&(R=await((D=p.current)==null?void 0:D.getToken()),!(R!=null&&R.trim())))throw new Error("Please complete the CAPTCHA.");return aW(r,R)}}),y=Ve({mutationFn:()=>iW(f,a)}),x=(h==null?void 0:h.emailConfigured)===!0;function S(R){R.preventDefault(),r.trim()&&w.mutate()}function T(R){R.preventDefault(),a===u&&y.mutate()}return i.jsx("main",{children:i.jsxs("div",{className:se.wrap,children:[i.jsxs("div",{className:se.card,children:[i.jsxs("div",{className:se.brand,children:[i.jsx("img",{src:"/favicon.svg",alt:"",className:se.brandIcon}),i.jsx("h1",{className:se.title,children:"HarborFM"})]}),i.jsx("div",{className:se.loginHeader,children:i.jsx("h2",{className:se.setupHeaderTitle,children:m?"Set New Password":"Reset Password"})}),!x&&!m&&i.jsx("div",{className:se.verificationCardError,children:i.jsx("p",{className:se.verificationCardErrorText,children:"Password reset is not available because no email service is configured. Ask an administrator to set up SMTP or SendGrid in Settings."})}),x&&!m&&i.jsx(i.Fragment,{children:w.isSuccess?i.jsx("div",{className:se.verificationCard,children:i.jsx("p",{className:se.verificationCardText,children:"If an account exists for that email, we sent a reset link. Check your inbox and use the link within 1 hour."})}):i.jsxs("form",{onSubmit:S,className:se.form,children:[i.jsxs("label",{className:se.label,children:["Email",i.jsx("input",{type:"email",autoComplete:"email",value:r,onChange:R=>n(R.target.value),className:se.input,required:!0})]}),(h==null?void 0:h.captchaProvider)&&h.captchaProvider!=="none"&&h.captchaSiteKey&&i.jsx(Gh,{ref:p,provider:h.captchaProvider,siteKey:h.captchaSiteKey,action:"forgot_password"}),w.isError&&i.jsx("div",{className:se.verificationCardError,children:i.jsx("p",{className:se.verificationCardErrorText,children:(P=w.error)==null?void 0:P.message})}),i.jsxs("button",{type:"submit",className:se.submit,disabled:w.isPending||!r.trim(),"aria-label":"Send reset link",children:[i.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":!0,children:[i.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),i.jsx("polyline",{points:"22,6 12,13 2,6"})]}),w.isPending?"Sending...":"Send reset link"]})]})}),m&&i.jsxs(i.Fragment,{children:[b.isLoading&&i.jsx("p",{className:se.verificationCardText,children:"Checking reset link..."}),j&&i.jsx("div",{className:se.verificationCardError,children:i.jsx("p",{className:se.verificationCardErrorText,children:((A=b.error)==null?void 0:A.message)??"Invalid or expired reset link. Request a new one from the reset password page."})}),_&&y.isSuccess?i.jsx("div",{className:se.verificationCardSuccess,children:i.jsx("p",{className:se.verificationCardSuccessText,children:"Your password has been reset. You can sign in now."})}):_?i.jsxs("form",{onSubmit:T,className:se.form,children:[i.jsxs("label",{className:se.label,children:["New password",i.jsx("input",{type:"password",autoComplete:"new-password",value:a,onChange:R=>o(R.target.value),className:se.input,minLength:8,required:!0})]}),i.jsxs("label",{className:se.label,children:["Confirm password",i.jsx("input",{type:"password",autoComplete:"new-password",value:u,onChange:R=>c(R.target.value),className:se.input,minLength:8,required:!0})]}),a!==u&&u.length>0&&i.jsx("p",{className:se.error,children:"Passwords do not match."}),y.isError&&i.jsx("div",{className:se.verificationCardError,children:i.jsx("p",{className:se.verificationCardErrorText,children:(k=y.error)==null?void 0:k.message})}),i.jsx("button",{type:"submit",className:se.submit,disabled:y.isPending||a!==u||a.length<8,"aria-label":"Set New Password",children:y.isPending?"Saving...":"Set New Password"})]}):null]}),(!m||j||y.isSuccess)&&i.jsx("p",{className:se.footer,style:{marginTop:"1.5rem"},children:i.jsx(Xe,{to:"/login",children:"Back to sign in"})})]}),i.jsxs("p",{className:se.footerBelowCard,children:[i.jsx(Xe,{to:"/privacy",children:"Privacy Policy"}),i.jsx("span",{className:se.footerBelowCardSep,"aria-hidden":!0}),i.jsx(Xe,{to:"/terms",children:"Terms of Service"}),i.jsx("span",{className:se.footerBelowCardSep,"aria-hidden":!0}),i.jsx(Xe,{to:"/contact",children:"Contact"})]})]})})}function rG(){const[e]=fb(),t=xi(),r=e.get("token"),[n,a]=v.useState("loading"),[o,u]=v.useState(null);return v.useEffect(()=>{if(!(r!=null&&r.trim())){a("error"),u("Missing verification link.");return}rW(r).then(()=>{a("ok"),t("/login?verified=1",{replace:!0})}).catch(c=>{a("error"),u(c instanceof Error?c.message:"Verification failed.")})},[r,t]),i.jsx("main",{children:i.jsx("div",{className:se.wrap,children:i.jsxs("div",{className:se.card,children:[i.jsxs("div",{className:se.brand,children:[i.jsx("img",{src:"/favicon.svg",alt:"",className:se.brandIcon}),i.jsx("h1",{className:se.title,children:"HarborFM"})]}),i.jsx("div",{className:se.loginHeader,children:i.jsx("h2",{className:se.setupHeaderTitle,children:"Verify your email"})}),n==="loading"&&i.jsx("p",{className:se.subtitle,children:"Verifying your account..."}),n==="ok"&&i.jsx("p",{className:se.subtitle,children:"Redirecting to sign in..."}),n==="error"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:se.verificationCardError,children:i.jsx("p",{className:se.verificationCardErrorText,children:o})}),i.jsxs("p",{className:se.footerBelowCard,style:{marginTop:"1rem"},children:[i.jsx(Xe,{to:"/login",children:"Back to sign in"}),i.jsx("span",{className:se.footerBelowCardSep,"aria-hidden":!0}),i.jsx(Xe,{to:"/register",children:"Register again"})]})]})]})})})}function Hj(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var du=Hj();function bL(e){du=e}var ch={exec:()=>null};function Wt(e,t=""){let r=typeof e=="string"?e:e.source,n={replace:(a,o)=>{let u=typeof o=="string"?o:o.source;return u=u.replace(ea.caret,"$1"),r=r.replace(a,u),n},getRegex:()=>new RegExp(r,t)};return n}var nG=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),ea={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] +\S/,listReplaceTask:/^\[[ xX]\] +/,listTaskCheckbox:/\[[ xX]\]/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},aG=/^(?:[ \t]*(?:\n|$))+/,iG=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,sG=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Vh=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,oG=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Wj=/(?:[*+-]|\d{1,9}[.)])/,_L=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,xL=Wt(_L).replace(/bull/g,Wj).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),lG=Wt(_L).replace(/bull/g,Wj).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Kj=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,cG=/^[^\n]+/,Gj=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,uG=Wt(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Gj).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),dG=Wt(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Wj).getRegex(),hb="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Vj=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,fG=Wt("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Vj).replace("tag",hb).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),wL=Wt(Kj).replace("hr",Vh).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",hb).getRegex(),pG=Wt(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",wL).getRegex(),Yj={blockquote:pG,code:iG,def:uG,fences:sG,heading:oG,hr:Vh,html:fG,lheading:xL,list:dG,newline:aG,paragraph:wL,table:ch,text:cG},$P=Wt("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Vh).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",hb).getRegex(),hG={...Yj,lheading:lG,table:$P,paragraph:Wt(Kj).replace("hr",Vh).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",$P).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",hb).getRegex()},mG={...Yj,html:Wt(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Vj).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ch,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Wt(Kj).replace("hr",Vh).replace("heading",` *#{1,6} *[^
]`).replace("lheading",xL).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},gG=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,vG=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,SL=/^( {2,}|\\)\n(?!\s*$)/,yG=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,mb=/[\p{P}\p{S}]/u,Qj=/[\s\p{P}\p{S}]/u,jL=/[^\s\p{P}\p{S}]/u,bG=Wt(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Qj).getRegex(),CL=/(?!~)[\p{P}\p{S}]/u,_G=/(?!~)[\s\p{P}\p{S}]/u,xG=/(?:[^\s\p{P}\p{S}]|~)/u,wG=Wt(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",nG?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),kL=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,SG=Wt(kL,"u").replace(/punct/g,mb).getRegex(),jG=Wt(kL,"u").replace(/punct/g,CL).getRegex(),NL="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",CG=Wt(NL,"gu").replace(/notPunctSpace/g,jL).replace(/punctSpace/g,Qj).replace(/punct/g,mb).getRegex(),kG=Wt(NL,"gu").replace(/notPunctSpace/g,xG).replace(/punctSpace/g,_G).replace(/punct/g,CL).getRegex(),NG=Wt("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,jL).replace(/punctSpace/g,Qj).replace(/punct/g,mb).getRegex(),EG=Wt(/\\(punct)/,"gu").replace(/punct/g,mb).getRegex(),TG=Wt(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),PG=Wt(Vj).replace("(?:-->|$)","-->").getRegex(),AG=Wt("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",PG).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),ey=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,RG=Wt(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",ey).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),EL=Wt(/^!?\[(label)\]\[(ref)\]/).replace("label",ey).replace("ref",Gj).getRegex(),TL=Wt(/^!?\[(ref)\](?:\[\])?/).replace("ref",Gj).getRegex(),OG=Wt("reflink|nolink(?!\\()","g").replace("reflink",EL).replace("nolink",TL).getRegex(),BP=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,Xj={_backpedal:ch,anyPunctuation:EG,autolink:TG,blockSkip:wG,br:SL,code:vG,del:ch,emStrongLDelim:SG,emStrongRDelimAst:CG,emStrongRDelimUnd:NG,escape:gG,link:RG,nolink:TL,punctuation:bG,reflink:EL,reflinkSearch:OG,tag:AG,text:yG,url:ch},DG={...Xj,link:Wt(/^!?\[(label)\]\((.*?)\)/).replace("label",ey).getRegex(),reflink:Wt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ey).getRegex()},gS={...Xj,emStrongRDelimAst:kG,emStrongLDelim:jG,url:Wt(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",BP).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:Wt(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",BP).getRegex()},MG={...gS,br:Wt(SL).replace("{2,}","*").getRegex(),text:Wt(gS.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Ug={normal:Yj,gfm:hG,pedantic:mG},dp={normal:Xj,gfm:gS,breaks:MG,pedantic:DG},LG={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},zP=e=>LG[e];function ho(e,t){if(t){if(ea.escapeTest.test(e))return e.replace(ea.escapeReplace,zP)}else if(ea.escapeTestNoEncode.test(e))return e.replace(ea.escapeReplaceNoEncode,zP);return e}function FP(e){try{e=encodeURI(e).replace(ea.percentDecode,"%")}catch{return null}return e}function qP(e,t){var o;let r=e.replace(ea.findPipe,(u,c,p)=>{let h=!1,f=c;for(;--f>=0&&p[f]==="\\";)h=!h;return h?"|":" |"}),n=r.split(ea.splitPipe),a=0;if(n[0].trim()||n.shift(),n.length>0&&!((o=n.at(-1))!=null&&o.trim())&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;a<n.length;a++)n[a]=n[a].trim().replace(ea.slashPipe,"|");return n}function fp(e,t,r){let n=e.length;if(n===0)return"";let a=0;for(;a<n&&e.charAt(n-a-1)===t;)a++;return e.slice(0,n-a)}function IG(e,t){if(e.indexOf(t[1])===-1)return-1;let r=0;for(let n=0;n<e.length;n++)if(e[n]==="\\")n++;else if(e[n]===t[0])r++;else if(e[n]===t[1]&&(r--,r<0))return n;return r>0?-2:-1}function UP(e,t,r,n,a){let o=t.href,u=t.title||null,c=e[1].replace(a.other.outputLinkReplace,"$1");n.state.inLink=!0;let p={type:e[0].charAt(0)==="!"?"image":"link",raw:r,href:o,title:u,text:c,tokens:n.inlineTokens(c)};return n.state.inLink=!1,p}function $G(e,t,r){let n=e.match(r.other.indentCodeCompensation);if(n===null)return t;let a=n[1];return t.split(`
`).map(o=>{let u=o.match(r.other.beginningSpace);if(u===null)return o;let[c]=u;return c.length>=a.length?o.slice(a.length):o}).join(`
`)}var ty=class{constructor(t){V(this,"options");V(this,"rules");V(this,"lexer");this.options=t||du}space(t){let r=this.rules.block.newline.exec(t);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(t){let r=this.rules.block.code.exec(t);if(r){let n=r[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?n:fp(n,`
`)}}}fences(t){let r=this.rules.block.fences.exec(t);if(r){let n=r[0],a=$G(n,r[3]||"",this.rules);return{type:"code",raw:n,lang:r[2]?r[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):r[2],text:a}}}heading(t){let r=this.rules.block.heading.exec(t);if(r){let n=r[2].trim();if(this.rules.other.endingHash.test(n)){let a=fp(n,"#");(this.options.pedantic||!a||this.rules.other.endingSpaceChar.test(a))&&(n=a.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){let r=this.rules.block.hr.exec(t);if(r)return{type:"hr",raw:fp(r[0],`
`)}}blockquote(t){let r=this.rules.block.blockquote.exec(t);if(r){let n=fp(r[0],`
`).split(`
`),a="",o="",u=[];for(;n.length>0;){let c=!1,p=[],h;for(h=0;h<n.length;h++)if(this.rules.other.blockquoteStart.test(n[h]))p.push(n[h]),c=!0;else if(!c)p.push(n[h]);else break;n=n.slice(h);let f=p.join(`
`),m=f.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");a=a?`${a}
${f}`:f,o=o?`${o}
${m}`:m;let b=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(m,u,!0),this.lexer.state.top=b,n.length===0)break;let _=u.at(-1);if((_==null?void 0:_.type)==="code")break;if((_==null?void 0:_.type)==="blockquote"){let j=_,w=j.raw+`
`+n.join(`
`),y=this.blockquote(w);u[u.length-1]=y,a=a.substring(0,a.length-j.raw.length)+y.raw,o=o.substring(0,o.length-j.text.length)+y.text;break}else if((_==null?void 0:_.type)==="list"){let j=_,w=j.raw+`
`+n.join(`
`),y=this.list(w);u[u.length-1]=y,a=a.substring(0,a.length-_.raw.length)+y.raw,o=o.substring(0,o.length-j.raw.length)+y.raw,n=w.substring(u.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:a,tokens:u,text:o}}}list(t){var n,a;let r=this.rules.block.list.exec(t);if(r){let o=r[1].trim(),u=o.length>1,c={type:"list",raw:"",ordered:u,start:u?+o.slice(0,-1):"",loose:!1,items:[]};o=u?`\\d{1,9}\\${o.slice(-1)}`:`\\${o}`,this.options.pedantic&&(o=u?o:"[*+-]");let p=this.rules.other.listItemRegex(o),h=!1;for(;t;){let m=!1,b="",_="";if(!(r=p.exec(t))||this.rules.block.hr.test(t))break;b=r[0],t=t.substring(b.length);let j=r[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,S=>" ".repeat(3*S.length)),w=t.split(`
`,1)[0],y=!j.trim(),x=0;if(this.options.pedantic?(x=2,_=j.trimStart()):y?x=r[1].length+1:(x=r[2].search(this.rules.other.nonSpaceChar),x=x>4?1:x,_=j.slice(x),x+=r[1].length),y&&this.rules.other.blankLine.test(w)&&(b+=w+`
`,t=t.substring(w.length+1),m=!0),!m){let S=this.rules.other.nextBulletRegex(x),T=this.rules.other.hrRegex(x),N=this.rules.other.fencesBeginRegex(x),P=this.rules.other.headingBeginRegex(x),A=this.rules.other.htmlBeginRegex(x);for(;t;){let k=t.split(`
`,1)[0],R;if(w=k,this.options.pedantic?(w=w.replace(this.rules.other.listReplaceNesting,"  "),R=w):R=w.replace(this.rules.other.tabCharGlobal,"    "),N.test(w)||P.test(w)||A.test(w)||S.test(w)||T.test(w))break;if(R.search(this.rules.other.nonSpaceChar)>=x||!w.trim())_+=`
`+R.slice(x);else{if(y||j.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||N.test(j)||P.test(j)||T.test(j))break;_+=`
`+w}!y&&!w.trim()&&(y=!0),b+=k+`
`,t=t.substring(k.length+1),j=R.slice(x)}}c.loose||(h?c.loose=!0:this.rules.other.doubleBlankLine.test(b)&&(h=!0)),c.items.push({type:"list_item",raw:b,task:!!this.options.gfm&&this.rules.other.listIsTask.test(_),loose:!1,text:_,tokens:[]}),c.raw+=b}let f=c.items.at(-1);if(f)f.raw=f.raw.trimEnd(),f.text=f.text.trimEnd();else return;c.raw=c.raw.trimEnd();for(let m of c.items){if(this.lexer.state.top=!1,m.tokens=this.lexer.blockTokens(m.text,[]),m.task){if(m.text=m.text.replace(this.rules.other.listReplaceTask,""),((n=m.tokens[0])==null?void 0:n.type)==="text"||((a=m.tokens[0])==null?void 0:a.type)==="paragraph"){m.tokens[0].raw=m.tokens[0].raw.replace(this.rules.other.listReplaceTask,""),m.tokens[0].text=m.tokens[0].text.replace(this.rules.other.listReplaceTask,"");for(let _=this.lexer.inlineQueue.length-1;_>=0;_--)if(this.rules.other.listIsTask.test(this.lexer.inlineQueue[_].src)){this.lexer.inlineQueue[_].src=this.lexer.inlineQueue[_].src.replace(this.rules.other.listReplaceTask,"");break}}let b=this.rules.other.listTaskCheckbox.exec(m.raw);if(b){let _={type:"checkbox",raw:b[0]+" ",checked:b[0]!=="[ ]"};m.checked=_.checked,c.loose?m.tokens[0]&&["paragraph","text"].includes(m.tokens[0].type)&&"tokens"in m.tokens[0]&&m.tokens[0].tokens?(m.tokens[0].raw=_.raw+m.tokens[0].raw,m.tokens[0].text=_.raw+m.tokens[0].text,m.tokens[0].tokens.unshift(_)):m.tokens.unshift({type:"paragraph",raw:_.raw,text:_.raw,tokens:[_]}):m.tokens.unshift(_)}}if(!c.loose){let b=m.tokens.filter(j=>j.type==="space"),_=b.length>0&&b.some(j=>this.rules.other.anyLine.test(j.raw));c.loose=_}}if(c.loose)for(let m of c.items){m.loose=!0;for(let b of m.tokens)b.type==="text"&&(b.type="paragraph")}return c}}html(t){let r=this.rules.block.html.exec(t);if(r)return{type:"html",block:!0,raw:r[0],pre:r[1]==="pre"||r[1]==="script"||r[1]==="style",text:r[0]}}def(t){let r=this.rules.block.def.exec(t);if(r){let n=r[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),a=r[2]?r[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):r[3];return{type:"def",tag:n,raw:r[0],href:a,title:o}}}table(t){var c;let r=this.rules.block.table.exec(t);if(!r||!this.rules.other.tableDelimiter.test(r[2]))return;let n=qP(r[1]),a=r[2].replace(this.rules.other.tableAlignChars,"").split("|"),o=(c=r[3])!=null&&c.trim()?r[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],u={type:"table",raw:r[0],header:[],align:[],rows:[]};if(n.length===a.length){for(let p of a)this.rules.other.tableAlignRight.test(p)?u.align.push("right"):this.rules.other.tableAlignCenter.test(p)?u.align.push("center"):this.rules.other.tableAlignLeft.test(p)?u.align.push("left"):u.align.push(null);for(let p=0;p<n.length;p++)u.header.push({text:n[p],tokens:this.lexer.inline(n[p]),header:!0,align:u.align[p]});for(let p of o)u.rows.push(qP(p,u.header.length).map((h,f)=>({text:h,tokens:this.lexer.inline(h),header:!1,align:u.align[f]})));return u}}lheading(t){let r=this.rules.block.lheading.exec(t);if(r)return{type:"heading",raw:r[0],depth:r[2].charAt(0)==="="?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(t){let r=this.rules.block.paragraph.exec(t);if(r){let n=r[1].charAt(r[1].length-1)===`
`?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:n,tokens:this.lexer.inline(n)}}}text(t){let r=this.rules.block.text.exec(t);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(t){let r=this.rules.inline.escape.exec(t);if(r)return{type:"escape",raw:r[0],text:r[1]}}tag(t){let r=this.rules.inline.tag.exec(t);if(r)return!this.lexer.state.inLink&&this.rules.other.startATag.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(t){let r=this.rules.inline.link.exec(t);if(r){let n=r[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let u=fp(n.slice(0,-1),"\\");if((n.length-u.length)%2===0)return}else{let u=IG(r[2],"()");if(u===-2)return;if(u>-1){let c=(r[0].indexOf("!")===0?5:4)+r[1].length+u;r[2]=r[2].substring(0,u),r[0]=r[0].substring(0,c).trim(),r[3]=""}}let a=r[2],o="";if(this.options.pedantic){let u=this.rules.other.pedanticHrefTitle.exec(a);u&&(a=u[1],o=u[3])}else o=r[3]?r[3].slice(1,-1):"";return a=a.trim(),this.rules.other.startAngleBracket.test(a)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?a=a.slice(1):a=a.slice(1,-1)),UP(r,{href:a&&a.replace(this.rules.inline.anyPunctuation,"$1"),title:o&&o.replace(this.rules.inline.anyPunctuation,"$1")},r[0],this.lexer,this.rules)}}reflink(t,r){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){let a=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),o=r[a.toLowerCase()];if(!o){let u=n[0].charAt(0);return{type:"text",raw:u,text:u}}return UP(n,o,n[0],this.lexer,this.rules)}}emStrong(t,r,n=""){let a=this.rules.inline.emStrongLDelim.exec(t);if(!(!a||a[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!(a[1]||a[2])||!n||this.rules.inline.punctuation.exec(n))){let o=[...a[0]].length-1,u,c,p=o,h=0,f=a[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(f.lastIndex=0,r=r.slice(-1*t.length+o);(a=f.exec(r))!=null;){if(u=a[1]||a[2]||a[3]||a[4]||a[5]||a[6],!u)continue;if(c=[...u].length,a[3]||a[4]){p+=c;continue}else if((a[5]||a[6])&&o%3&&!((o+c)%3)){h+=c;continue}if(p-=c,p>0)continue;c=Math.min(c,c+p+h);let m=[...a[0]][0].length,b=t.slice(0,o+a.index+m+c);if(Math.min(o,c)%2){let j=b.slice(1,-1);return{type:"em",raw:b,text:j,tokens:this.lexer.inlineTokens(j)}}let _=b.slice(2,-2);return{type:"strong",raw:b,text:_,tokens:this.lexer.inlineTokens(_)}}}}codespan(t){let r=this.rules.inline.code.exec(t);if(r){let n=r[2].replace(this.rules.other.newLineCharGlobal," "),a=this.rules.other.nonSpaceChar.test(n),o=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return a&&o&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:r[0],text:n}}}br(t){let r=this.rules.inline.br.exec(t);if(r)return{type:"br",raw:r[0]}}del(t){let r=this.rules.inline.del.exec(t);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(t){let r=this.rules.inline.autolink.exec(t);if(r){let n,a;return r[2]==="@"?(n=r[1],a="mailto:"+n):(n=r[1],a=n),{type:"link",raw:r[0],text:n,href:a,tokens:[{type:"text",raw:n,text:n}]}}}url(t){var n;let r;if(r=this.rules.inline.url.exec(t)){let a,o;if(r[2]==="@")a=r[0],o="mailto:"+a;else{let u;do u=r[0],r[0]=((n=this.rules.inline._backpedal.exec(r[0]))==null?void 0:n[0])??"";while(u!==r[0]);a=r[0],r[1]==="www."?o="http://"+r[0]:o=r[0]}return{type:"link",raw:r[0],text:a,href:o,tokens:[{type:"text",raw:a,text:a}]}}}inlineText(t){let r=this.rules.inline.text.exec(t);if(r){let n=this.lexer.state.inRawBlock;return{type:"text",raw:r[0],text:r[0],escaped:n}}}},Ii=class vS{constructor(t){V(this,"tokens");V(this,"options");V(this,"state");V(this,"inlineQueue");V(this,"tokenizer");this.tokens=[],this.tokens.links=Object.create(null),this.options=t||du,this.options.tokenizer=this.options.tokenizer||new ty,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let r={other:ea,block:Ug.normal,inline:dp.normal};this.options.pedantic?(r.block=Ug.pedantic,r.inline=dp.pedantic):this.options.gfm&&(r.block=Ug.gfm,this.options.breaks?r.inline=dp.breaks:r.inline=dp.gfm),this.tokenizer.rules=r}static get rules(){return{block:Ug,inline:dp}}static lex(t,r){return new vS(r).lex(t)}static lexInline(t,r){return new vS(r).inlineTokens(t)}lex(t){t=t.replace(ea.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){let n=this.inlineQueue[r];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,r=[],n=!1){var a,o,u;for(this.options.pedantic&&(t=t.replace(ea.tabCharGlobal,"    ").replace(ea.spaceLine,""));t;){let c;if((o=(a=this.options.extensions)==null?void 0:a.block)!=null&&o.some(h=>(c=h.call({lexer:this},t,r))?(t=t.substring(c.raw.length),r.push(c),!0):!1))continue;if(c=this.tokenizer.space(t)){t=t.substring(c.raw.length);let h=r.at(-1);c.raw.length===1&&h!==void 0?h.raw+=`
`:r.push(c);continue}if(c=this.tokenizer.code(t)){t=t.substring(c.raw.length);let h=r.at(-1);(h==null?void 0:h.type)==="paragraph"||(h==null?void 0:h.type)==="text"?(h.raw+=(h.raw.endsWith(`
`)?"":`
`)+c.raw,h.text+=`
`+c.text,this.inlineQueue.at(-1).src=h.text):r.push(c);continue}if(c=this.tokenizer.fences(t)){t=t.substring(c.raw.length),r.push(c);continue}if(c=this.tokenizer.heading(t)){t=t.substring(c.raw.length),r.push(c);continue}if(c=this.tokenizer.hr(t)){t=t.substring(c.raw.length),r.push(c);continue}if(c=this.tokenizer.blockquote(t)){t=t.substring(c.raw.length),r.push(c);continue}if(c=this.tokenizer.list(t)){t=t.substring(c.raw.length),r.push(c);continue}if(c=this.tokenizer.html(t)){t=t.substring(c.raw.length),r.push(c);continue}if(c=this.tokenizer.def(t)){t=t.substring(c.raw.length);let h=r.at(-1);(h==null?void 0:h.type)==="paragraph"||(h==null?void 0:h.type)==="text"?(h.raw+=(h.raw.endsWith(`
`)?"":`
`)+c.raw,h.text+=`
`+c.raw,this.inlineQueue.at(-1).src=h.text):this.tokens.links[c.tag]||(this.tokens.links[c.tag]={href:c.href,title:c.title},r.push(c));continue}if(c=this.tokenizer.table(t)){t=t.substring(c.raw.length),r.push(c);continue}if(c=this.tokenizer.lheading(t)){t=t.substring(c.raw.length),r.push(c);continue}let p=t;if((u=this.options.extensions)!=null&&u.startBlock){let h=1/0,f=t.slice(1),m;this.options.extensions.startBlock.forEach(b=>{m=b.call({lexer:this},f),typeof m=="number"&&m>=0&&(h=Math.min(h,m))}),h<1/0&&h>=0&&(p=t.substring(0,h+1))}if(this.state.top&&(c=this.tokenizer.paragraph(p))){let h=r.at(-1);n&&(h==null?void 0:h.type)==="paragraph"?(h.raw+=(h.raw.endsWith(`
`)?"":`
`)+c.raw,h.text+=`
`+c.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=h.text):r.push(c),n=p.length!==t.length,t=t.substring(c.raw.length);continue}if(c=this.tokenizer.text(t)){t=t.substring(c.raw.length);let h=r.at(-1);(h==null?void 0:h.type)==="text"?(h.raw+=(h.raw.endsWith(`
`)?"":`
`)+c.raw,h.text+=`
`+c.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=h.text):r.push(c);continue}if(t){let h="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(h);break}else throw new Error(h)}}return this.state.top=!0,r}inline(t,r=[]){return this.inlineQueue.push({src:t,tokens:r}),r}inlineTokens(t,r=[]){var p,h,f,m,b;let n=t,a=null;if(this.tokens.links){let _=Object.keys(this.tokens.links);if(_.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)_.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,a.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let o;for(;(a=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)o=a[2]?a[2].length:0,n=n.slice(0,a.index+o)+"["+"a".repeat(a[0].length-o-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);n=((h=(p=this.options.hooks)==null?void 0:p.emStrongMask)==null?void 0:h.call({lexer:this},n))??n;let u=!1,c="";for(;t;){u||(c=""),u=!1;let _;if((m=(f=this.options.extensions)==null?void 0:f.inline)!=null&&m.some(w=>(_=w.call({lexer:this},t,r))?(t=t.substring(_.raw.length),r.push(_),!0):!1))continue;if(_=this.tokenizer.escape(t)){t=t.substring(_.raw.length),r.push(_);continue}if(_=this.tokenizer.tag(t)){t=t.substring(_.raw.length),r.push(_);continue}if(_=this.tokenizer.link(t)){t=t.substring(_.raw.length),r.push(_);continue}if(_=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(_.raw.length);let w=r.at(-1);_.type==="text"&&(w==null?void 0:w.type)==="text"?(w.raw+=_.raw,w.text+=_.text):r.push(_);continue}if(_=this.tokenizer.emStrong(t,n,c)){t=t.substring(_.raw.length),r.push(_);continue}if(_=this.tokenizer.codespan(t)){t=t.substring(_.raw.length),r.push(_);continue}if(_=this.tokenizer.br(t)){t=t.substring(_.raw.length),r.push(_);continue}if(_=this.tokenizer.del(t)){t=t.substring(_.raw.length),r.push(_);continue}if(_=this.tokenizer.autolink(t)){t=t.substring(_.raw.length),r.push(_);continue}if(!this.state.inLink&&(_=this.tokenizer.url(t))){t=t.substring(_.raw.length),r.push(_);continue}let j=t;if((b=this.options.extensions)!=null&&b.startInline){let w=1/0,y=t.slice(1),x;this.options.extensions.startInline.forEach(S=>{x=S.call({lexer:this},y),typeof x=="number"&&x>=0&&(w=Math.min(w,x))}),w<1/0&&w>=0&&(j=t.substring(0,w+1))}if(_=this.tokenizer.inlineText(j)){t=t.substring(_.raw.length),_.raw.slice(-1)!=="_"&&(c=_.raw.slice(-1)),u=!0;let w=r.at(-1);(w==null?void 0:w.type)==="text"?(w.raw+=_.raw,w.text+=_.text):r.push(_);continue}if(t){let w="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(w);break}else throw new Error(w)}}return r}},ry=class{constructor(t){V(this,"options");V(this,"parser");this.options=t||du}space(t){return""}code({text:t,lang:r,escaped:n}){var u;let a=(u=(r||"").match(ea.notSpaceStart))==null?void 0:u[0],o=t.replace(ea.endingNewline,"")+`
`;return a?'<pre><code class="language-'+ho(a)+'">'+(n?o:ho(o,!0))+`</code></pre>
`:"<pre><code>"+(n?o:ho(o,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}def(t){return""}heading({tokens:t,depth:r}){return`<h${r}>${this.parser.parseInline(t)}</h${r}>
`}hr(t){return`<hr>
`}list(t){let r=t.ordered,n=t.start,a="";for(let c=0;c<t.items.length;c++){let p=t.items[c];a+=this.listitem(p)}let o=r?"ol":"ul",u=r&&n!==1?' start="'+n+'"':"";return"<"+o+u+`>
`+a+"</"+o+`>
`}listitem(t){return`<li>${this.parser.parse(t.tokens)}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"> '}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let r="",n="";for(let o=0;o<t.header.length;o++)n+=this.tablecell(t.header[o]);r+=this.tablerow({text:n});let a="";for(let o=0;o<t.rows.length;o++){let u=t.rows[o];n="";for(let c=0;c<u.length;c++)n+=this.tablecell(u[c]);a+=this.tablerow({text:n})}return a&&(a=`<tbody>${a}</tbody>`),`<table>
<thead>
`+r+`</thead>
`+a+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){let r=this.parser.parseInline(t.tokens),n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+r+`</${n}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${ho(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:r,tokens:n}){let a=this.parser.parseInline(n),o=FP(t);if(o===null)return a;t=o;let u='<a href="'+t+'"';return r&&(u+=' title="'+ho(r)+'"'),u+=">"+a+"</a>",u}image({href:t,title:r,text:n,tokens:a}){a&&(n=this.parser.parseInline(a,this.parser.textRenderer));let o=FP(t);if(o===null)return ho(n);t=o;let u=`<img src="${t}" alt="${n}"`;return r&&(u+=` title="${ho(r)}"`),u+=">",u}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:ho(t.text)}},Zj=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}checkbox({raw:e}){return e}},$i=class yS{constructor(t){V(this,"options");V(this,"renderer");V(this,"textRenderer");this.options=t||du,this.options.renderer=this.options.renderer||new ry,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Zj}static parse(t,r){return new yS(r).parse(t)}static parseInline(t,r){return new yS(r).parseInline(t)}parse(t){var n,a;let r="";for(let o=0;o<t.length;o++){let u=t[o];if((a=(n=this.options.extensions)==null?void 0:n.renderers)!=null&&a[u.type]){let p=u,h=this.options.extensions.renderers[p.type].call({parser:this},p);if(h!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(p.type)){r+=h||"";continue}}let c=u;switch(c.type){case"space":{r+=this.renderer.space(c);break}case"hr":{r+=this.renderer.hr(c);break}case"heading":{r+=this.renderer.heading(c);break}case"code":{r+=this.renderer.code(c);break}case"table":{r+=this.renderer.table(c);break}case"blockquote":{r+=this.renderer.blockquote(c);break}case"list":{r+=this.renderer.list(c);break}case"checkbox":{r+=this.renderer.checkbox(c);break}case"html":{r+=this.renderer.html(c);break}case"def":{r+=this.renderer.def(c);break}case"paragraph":{r+=this.renderer.paragraph(c);break}case"text":{r+=this.renderer.text(c);break}default:{let p='Token with "'+c.type+'" type was not found.';if(this.options.silent)return console.error(p),"";throw new Error(p)}}}return r}parseInline(t,r=this.renderer){var a,o;let n="";for(let u=0;u<t.length;u++){let c=t[u];if((o=(a=this.options.extensions)==null?void 0:a.renderers)!=null&&o[c.type]){let h=this.options.extensions.renderers[c.type].call({parser:this},c);if(h!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(c.type)){n+=h||"";continue}}let p=c;switch(p.type){case"escape":{n+=r.text(p);break}case"html":{n+=r.html(p);break}case"link":{n+=r.link(p);break}case"image":{n+=r.image(p);break}case"checkbox":{n+=r.checkbox(p);break}case"strong":{n+=r.strong(p);break}case"em":{n+=r.em(p);break}case"codespan":{n+=r.codespan(p);break}case"br":{n+=r.br(p);break}case"del":{n+=r.del(p);break}case"text":{n+=r.text(p);break}default:{let h='Token with "'+p.type+'" type was not found.';if(this.options.silent)return console.error(h),"";throw new Error(h)}}}return n}},Cv,rh=(Cv=class{constructor(e){V(this,"options");V(this,"block");this.options=e||du}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?Ii.lex:Ii.lexInline}provideParser(){return this.block?$i.parse:$i.parseInline}},V(Cv,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens","emStrongMask"])),V(Cv,"passThroughHooksRespectAsync",new Set(["preprocess","postprocess","processAllTokens"])),Cv),BG=class{constructor(...e){V(this,"defaults",Hj());V(this,"options",this.setOptions);V(this,"parse",this.parseMarkdown(!0));V(this,"parseInline",this.parseMarkdown(!1));V(this,"Parser",$i);V(this,"Renderer",ry);V(this,"TextRenderer",Zj);V(this,"Lexer",Ii);V(this,"Tokenizer",ty);V(this,"Hooks",rh);this.use(...e)}walkTokens(e,t){var n,a;let r=[];for(let o of e)switch(r=r.concat(t.call(this,o)),o.type){case"table":{let u=o;for(let c of u.header)r=r.concat(this.walkTokens(c.tokens,t));for(let c of u.rows)for(let p of c)r=r.concat(this.walkTokens(p.tokens,t));break}case"list":{let u=o;r=r.concat(this.walkTokens(u.items,t));break}default:{let u=o;(a=(n=this.defaults.extensions)==null?void 0:n.childTokens)!=null&&a[u.type]?this.defaults.extensions.childTokens[u.type].forEach(c=>{let p=u[c].flat(1/0);r=r.concat(this.walkTokens(p,t))}):u.tokens&&(r=r.concat(this.walkTokens(u.tokens,t)))}}return r}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{let n={...r};if(n.async=this.defaults.async||n.async||!1,r.extensions&&(r.extensions.forEach(a=>{if(!a.name)throw new Error("extension name required");if("renderer"in a){let o=t.renderers[a.name];o?t.renderers[a.name]=function(...u){let c=a.renderer.apply(this,u);return c===!1&&(c=o.apply(this,u)),c}:t.renderers[a.name]=a.renderer}if("tokenizer"in a){if(!a.level||a.level!=="block"&&a.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let o=t[a.level];o?o.unshift(a.tokenizer):t[a.level]=[a.tokenizer],a.start&&(a.level==="block"?t.startBlock?t.startBlock.push(a.start):t.startBlock=[a.start]:a.level==="inline"&&(t.startInline?t.startInline.push(a.start):t.startInline=[a.start]))}"childTokens"in a&&a.childTokens&&(t.childTokens[a.name]=a.childTokens)}),n.extensions=t),r.renderer){let a=this.defaults.renderer||new ry(this.defaults);for(let o in r.renderer){if(!(o in a))throw new Error(`renderer '${o}' does not exist`);if(["options","parser"].includes(o))continue;let u=o,c=r.renderer[u],p=a[u];a[u]=(...h)=>{let f=c.apply(a,h);return f===!1&&(f=p.apply(a,h)),f||""}}n.renderer=a}if(r.tokenizer){let a=this.defaults.tokenizer||new ty(this.defaults);for(let o in r.tokenizer){if(!(o in a))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;let u=o,c=r.tokenizer[u],p=a[u];a[u]=(...h)=>{let f=c.apply(a,h);return f===!1&&(f=p.apply(a,h)),f}}n.tokenizer=a}if(r.hooks){let a=this.defaults.hooks||new rh;for(let o in r.hooks){if(!(o in a))throw new Error(`hook '${o}' does not exist`);if(["options","block"].includes(o))continue;let u=o,c=r.hooks[u],p=a[u];rh.passThroughHooks.has(o)?a[u]=h=>{if(this.defaults.async&&rh.passThroughHooksRespectAsync.has(o))return(async()=>{let m=await c.call(a,h);return p.call(a,m)})();let f=c.call(a,h);return p.call(a,f)}:a[u]=(...h)=>{if(this.defaults.async)return(async()=>{let m=await c.apply(a,h);return m===!1&&(m=await p.apply(a,h)),m})();let f=c.apply(a,h);return f===!1&&(f=p.apply(a,h)),f}}n.hooks=a}if(r.walkTokens){let a=this.defaults.walkTokens,o=r.walkTokens;n.walkTokens=function(u){let c=[];return c.push(o.call(this,u)),a&&(c=c.concat(a.call(this,u))),c}}this.defaults={...this.defaults,...n}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return Ii.lex(e,t??this.defaults)}parser(e,t){return $i.parse(e,t??this.defaults)}parseMarkdown(e){return(t,r)=>{let n={...r},a={...this.defaults,...n},o=this.onError(!!a.silent,!!a.async);if(this.defaults.async===!0&&n.async===!1)return o(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||t===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(a.hooks&&(a.hooks.options=a,a.hooks.block=e),a.async)return(async()=>{let u=a.hooks?await a.hooks.preprocess(t):t,c=await(a.hooks?await a.hooks.provideLexer():e?Ii.lex:Ii.lexInline)(u,a),p=a.hooks?await a.hooks.processAllTokens(c):c;a.walkTokens&&await Promise.all(this.walkTokens(p,a.walkTokens));let h=await(a.hooks?await a.hooks.provideParser():e?$i.parse:$i.parseInline)(p,a);return a.hooks?await a.hooks.postprocess(h):h})().catch(o);try{a.hooks&&(t=a.hooks.preprocess(t));let u=(a.hooks?a.hooks.provideLexer():e?Ii.lex:Ii.lexInline)(t,a);a.hooks&&(u=a.hooks.processAllTokens(u)),a.walkTokens&&this.walkTokens(u,a.walkTokens);let c=(a.hooks?a.hooks.provideParser():e?$i.parse:$i.parseInline)(u,a);return a.hooks&&(c=a.hooks.postprocess(c)),c}catch(u){return o(u)}}}onError(e,t){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let n="<p>An error occurred:</p><pre>"+ho(r.message+"",!0)+"</pre>";return t?Promise.resolve(n):n}if(t)return Promise.reject(r);throw r}}},Xc=new BG;function Ht(e,t){return Xc.parse(e,t)}Ht.options=Ht.setOptions=function(e){return Xc.setOptions(e),Ht.defaults=Xc.defaults,bL(Ht.defaults),Ht};Ht.getDefaults=Hj;Ht.defaults=du;Ht.use=function(...e){return Xc.use(...e),Ht.defaults=Xc.defaults,bL(Ht.defaults),Ht};Ht.walkTokens=function(e,t){return Xc.walkTokens(e,t)};Ht.parseInline=Xc.parseInline;Ht.Parser=$i;Ht.parser=$i.parse;Ht.Renderer=ry;Ht.TextRenderer=Zj;Ht.Lexer=Ii;Ht.lexer=Ii.lex;Ht.Tokenizer=ty;Ht.Hooks=rh;Ht.parse=Ht;Ht.options;Ht.setOptions;Ht.use;Ht.walkTokens;Ht.parseInline;$i.parse;Ii.lex;function zG(){return At("/settings")}function FG(){return At("/settings/commands")}function PL(){return fetch("/api/public/legal",{method:"GET",credentials:"include"}).then(e=>{if(!e.ok)throw new Error("Failed to load");return e.json()})}function qG(e){return Kl("/settings",e)}function UG(e){return qa("/settings/test-llm",{method:"POST",json:e})}function HG(e){return qa("/settings/test-whisper",{method:"POST",json:{whisper_asr_url:e.trim().replace(/\/+$/,"")}})}function WG(e){return qa("/settings/test-transcription-openai",{method:"POST",json:e??{}})}function KG(e){return qa("/settings/test-smtp",{method:"POST",json:e})}function GG(e){return qa("/settings/test-sendgrid",{method:"POST",json:e})}function VG(e){return qa("/settings/geolite/test",{method:"POST",json:e})}function YG(){return At("/settings/geolite/check")}function QG(e){return qa("/settings/geolite/update",{method:"POST",json:e})}const XG="_page_pewd6_1",ZG="_wrap_pewd6_11",JG="_card_pewd6_17",eV="_header_pewd6_25",tV="_back_pewd6_29",rV="_title_pewd6_41",nV="_updated_pewd6_49",aV="_content_pewd6_55",iV="_markdownBody_pewd6_76",sV="_footerLinks_pewd6_106",oV="_footerSep_pewd6_127",ni={page:XG,wrap:ZG,card:JG,header:eV,back:tV,title:rV,updated:nV,content:aV,markdownBody:iV,footerLinks:sV,footerSep:oV};Ht.setOptions({gfm:!0,breaks:!0});const lV=i.jsxs(i.Fragment,{children:[i.jsx("p",{children:"HarborFM is an open-source podcast creator. This privacy policy describes how your data is handled when you use a HarborFM instance."}),i.jsx("h2",{children:"Data we collect and use"}),i.jsxs("p",{children:[i.jsx("strong",{children:"Account data."})," When you register, we store your email address and a hashed password. We use this to authenticate you and to manage your account."]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Login and security."}),' When you sign in, we may record your IP address, user agent, and approximate location (country/city from IP, if GeoLite2 is enabled) for security and to show "last login" information to admins. We use this to detect abuse and to help you verify your account activity.']}),i.jsxs("p",{children:[i.jsx("strong",{children:"Content you create."})," Podcasts, episodes, audio files, and other content you create are stored on the server. They are used to produce and serve your shows and to provide features you use (e.g. exports, RSS)."]}),i.jsx("h2",{children:"Who operates this instance"}),i.jsx("p",{children:"This HarborFM server is operated by the administrator of this instance. Data is stored on their infrastructure and is subject to their policies and applicable law. For questions about this instance, contact the server administrator."}),i.jsx("h2",{children:"Data sharing"}),i.jsx("p",{children:"We do not sell your data. Data may be shared only as needed to operate the service (e.g. with hosting or export providers you configure) or when required by law."}),i.jsx("h2",{children:"Your rights"}),i.jsx("p",{children:"You can request access to, correction of, or deletion of your account and data by contacting the administrator of this instance. Export and deletion capabilities may also be available in the app."}),i.jsx("h2",{children:"Changes"}),i.jsx("p",{children:'We may update this policy from time to time. The "Last updated" date at the top will be revised when we do. Continued use of the service after changes constitutes acceptance of the updated policy.'})]});function cV(){var a;const{data:e,isLoading:t,isError:r}=De({queryKey:["publicLegal"],queryFn:PL,staleTime:12e4});if(t||e==null&&!r)return i.jsx(_a,{});const n=((a=e==null?void 0:e.privacy)==null?void 0:a.trim())||null;return i.jsx("main",{className:ni.page,children:i.jsx("div",{className:ni.wrap,children:i.jsxs("div",{className:ni.card,children:[i.jsxs("div",{className:ni.header,children:[i.jsx(Xe,{to:"/login",className:ni.back,children:" Back to sign in"}),i.jsx("h1",{className:ni.title,children:"Privacy Policy"}),!n&&i.jsx("p",{className:ni.updated,children:"Last updated: February 2026"})]}),i.jsx("div",{className:ni.content,children:n?i.jsx("div",{className:ni.markdownBody,dangerouslySetInnerHTML:{__html:Ht.parse(n,{async:!1})}}):lV}),i.jsxs("p",{className:ni.footerLinks,children:[i.jsx(Xe,{to:"/privacy",children:"Privacy Policy"}),i.jsx("span",{className:ni.footerSep,"aria-hidden":!0}),i.jsx(Xe,{to:"/terms",children:"Terms of Service"}),i.jsx("span",{className:ni.footerSep,"aria-hidden":!0}),i.jsx(Xe,{to:"/contact",children:"Contact"})]})]})})})}const uV="_page_pewd6_1",dV="_wrap_pewd6_11",fV="_card_pewd6_17",pV="_header_pewd6_25",hV="_back_pewd6_29",mV="_title_pewd6_41",gV="_updated_pewd6_49",vV="_content_pewd6_55",yV="_markdownBody_pewd6_76",bV="_footerLinks_pewd6_106",_V="_footerSep_pewd6_127",ai={page:uV,wrap:dV,card:fV,header:pV,back:hV,title:mV,updated:gV,content:vV,markdownBody:yV,footerLinks:bV,footerSep:_V};Ht.setOptions({gfm:!0,breaks:!0});const xV=i.jsxs(i.Fragment,{children:[i.jsx("p",{children:"Welcome to HarborFM. By using this service, you agree to these terms. HarborFM is open-source software; this instance is operated by the server administrator."}),i.jsx("h2",{children:"Use of the service"}),i.jsx("p",{children:"You must use the service in compliance with applicable laws and not for illegal, harmful, or abusive purposes. You are responsible for the content you create and for keeping your account credentials secure."}),i.jsx("h2",{children:"Account and content"}),i.jsx("p",{children:"You may need to register an account to use certain features. The administrator may disable registration, suspend accounts, or remove content that violates these terms or applicable law. We may retain data as needed for the operation of the service or legal obligations."}),i.jsx("h2",{children:"Intellectual property"}),i.jsx("p",{children:"You retain rights to the content you create. By uploading or publishing content, you grant the operator the rights necessary to host, serve, and deliver your content (e.g. podcasts and RSS). HarborFM software is licensed under its project license; see the repository for details."}),i.jsx("h2",{children:"Disclaimer"}),i.jsx("p",{children:'The service is provided "as is." The operator is not liable for any damages arising from your use of the service or any third-party services you connect (e.g. export providers). Availability and features may change.'}),i.jsx("h2",{children:"Changes"}),i.jsx("p",{children:'These terms may be updated from time to time. The "Last updated" date will be revised when we do. Continued use after changes constitutes acceptance of the updated terms.'})]});function wV(){var a;const{data:e,isLoading:t,isError:r}=De({queryKey:["publicLegal"],queryFn:PL,staleTime:12e4});if(t||e==null&&!r)return i.jsx(_a,{});const n=((a=e==null?void 0:e.terms)==null?void 0:a.trim())||null;return i.jsx("main",{className:ai.page,children:i.jsx("div",{className:ai.wrap,children:i.jsxs("div",{className:ai.card,children:[i.jsxs("div",{className:ai.header,children:[i.jsx(Xe,{to:"/login",className:ai.back,children:" Back to sign in"}),i.jsx("h1",{className:ai.title,children:"Terms of Service"}),!n&&i.jsx("p",{className:ai.updated,children:"Last updated: February 2026"})]}),i.jsx("div",{className:ai.content,children:n?i.jsx("div",{className:ai.markdownBody,dangerouslySetInnerHTML:{__html:Ht.parse(n,{async:!1})}}):xV}),i.jsxs("p",{className:ai.footerLinks,children:[i.jsx(Xe,{to:"/privacy",children:"Privacy Policy"}),i.jsx("span",{className:ai.footerSep,"aria-hidden":!0}),i.jsx(Xe,{to:"/terms",children:"Terms of Service"}),i.jsx("span",{className:ai.footerSep,"aria-hidden":!0}),i.jsx(Xe,{to:"/contact",children:"Contact"})]})]})})})}function gi(e,t,r){v.useEffect(()=>{const n=e.current;if(!n)return;n.style.height="0";const a=(r==null?void 0:r.minHeight)??0,o=a?Math.max(n.scrollHeight,a):n.scrollHeight;n.style.height=`${o}px`},[e,t,r==null?void 0:r.minHeight])}function AL(e){return an("/contact",e)}const SV=80;function jV(){var k;const[e]=fb(),t=e.get("podcast")??void 0,r=e.get("episode")??void 0,n=As(R=>R.user),[a,o]=v.useState(""),[u,c]=v.useState(""),[p,h]=v.useState(""),f=v.useRef(!1),m=v.useRef(null),b=v.useRef(null),{data:_}=De({queryKey:["public-podcast",t],queryFn:()=>pb(t),enabled:!!t,retry:!1}),{data:j}=De({queryKey:["public-episode",t,r],queryFn:()=>qj(t,r),enabled:!!t&&!!r,retry:!1});gi(b,p,{minHeight:SV});const{data:w}=De({queryKey:["setupStatus"],queryFn:cu,retry:!1,staleTime:1e4}),{data:y}=De({queryKey:["me"],queryFn:Si,retry:!1,staleTime:300*1e3}),x=n??(y==null?void 0:y.user);v.useEffect(()=>{x!=null&&x.email&&!f.current&&(c(x.email),f.current=!0)},[x==null?void 0:x.email]);const S=Ve({mutationFn:async()=>{var D;let R;if(w!=null&&w.captchaProvider&&w.captchaProvider!=="none"&&w.captchaSiteKey&&(R=await((D=m.current)==null?void 0:D.getToken()),!(R!=null&&R.trim())))throw new Error("Please complete the CAPTCHA.");return AL({name:a,email:u,message:p,captchaToken:R,...t&&{podcastSlug:t},...r&&t&&{episodeSlug:r}})}});async function T(R){R.preventDefault(),S.mutate()}const N=S.isSuccess,P=j&&_?`${j.title} - ${_.title}`:_?_.title:null,A=[t,r].filter(Boolean).length?`?${new URLSearchParams({...t&&{podcast:t},...r&&{episode:r}}).toString()}`:"";return i.jsx("main",{children:i.jsxs("div",{className:se.wrap,children:[i.jsxs("div",{className:se.card,children:[i.jsxs("div",{className:se.brand,children:[i.jsx("img",{src:"/favicon.svg",alt:"",className:se.brandIcon}),i.jsx("h1",{className:se.title,children:"HarborFM"})]}),i.jsxs("div",{className:se.loginHeader,children:[i.jsx("h2",{className:se.setupHeaderTitle,children:P?"Send feedback":"Contact"}),P&&i.jsxs("p",{className:se.setupHeaderSub,children:["About: ",P]})]}),N?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:se.verificationCardSuccess,children:i.jsx("p",{className:se.verificationCardSuccessText,children:"Thanks for your message. Well get back to you as soon as we can."})}),i.jsxs("p",{className:`${se.footer} ${se.footerLinks}`,style:{marginTop:"1.5rem"},children:[i.jsx(Xe,{to:`/contact${A}`,onClick:()=>{S.reset(),h("")},children:"Send another message"}),i.jsx("span",{className:se.footerBelowCardSep,"aria-hidden":!0}),i.jsx(Xe,{to:x?"/":"/login",children:x?"Back to dashboard":"Sign in"})]})]}):i.jsxs("form",{onSubmit:T,className:se.form,children:[i.jsxs("label",{className:se.label,children:["Name",i.jsx("input",{type:"text",autoComplete:"name",value:a,onChange:R=>o(R.target.value),className:se.input,required:!0,maxLength:200})]}),i.jsxs("label",{className:se.label,children:["Email",i.jsx("input",{type:"email",autoComplete:"email",value:u,onChange:R=>c(R.target.value),className:se.input,required:!0})]}),i.jsxs("label",{className:se.label,children:["Message",i.jsx("textarea",{ref:b,value:p,onChange:R=>h(R.target.value),className:se.input,required:!0,rows:2,maxLength:1e4,style:{resize:"none",overflow:"hidden"}})]}),(w==null?void 0:w.captchaProvider)&&w.captchaProvider!=="none"&&w.captchaSiteKey&&i.jsx(Gh,{ref:m,provider:w.captchaProvider,siteKey:w.captchaSiteKey,action:"contact"}),S.isError&&i.jsx("div",{className:se.verificationCardError,children:i.jsx("p",{className:se.verificationCardErrorText,children:(k=S.error)==null?void 0:k.message})}),i.jsx("button",{type:"submit",className:se.submit,disabled:S.isPending,"aria-label":"Send message",children:S.isPending?"Sending...":"Send message"})]}),!N&&i.jsx("p",{className:se.footer,style:{marginTop:"1.5rem"},children:i.jsx(Xe,{to:x?"/":"/login",children:x?"Back to dashboard":"Back to sign in"})})]}),i.jsxs("p",{className:se.footerBelowCard,children:[i.jsx(Xe,{to:"/privacy",children:"Privacy Policy"}),i.jsx("span",{className:se.footerBelowCardSep,"aria-hidden":!0}),i.jsx(Xe,{to:"/terms",children:"Terms of Service"}),i.jsx("span",{className:se.footerBelowCardSep,"aria-hidden":!0}),i.jsx(Xe,{to:"/contact",children:"Contact"})]})]})})}function Bl(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function HP(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function RL(...e){return t=>{let r=!1;const n=e.map(a=>{const o=HP(a,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let a=0;a<n.length;a++){const o=n[a];typeof o=="function"?o():HP(e[a],null)}}}}function fu(...e){return v.useCallback(RL(...e),e)}function CV(e,t){const r=v.createContext(t),n=o=>{const{children:u,...c}=o,p=v.useMemo(()=>c,Object.values(c));return i.jsx(r.Provider,{value:p,children:u})};n.displayName=e+"Provider";function a(o){const u=v.useContext(r);if(u)return u;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,a]}function kV(e,t=[]){let r=[];function n(o,u){const c=v.createContext(u),p=r.length;r=[...r,u];const h=m=>{var x;const{scope:b,children:_,...j}=m,w=((x=b==null?void 0:b[e])==null?void 0:x[p])||c,y=v.useMemo(()=>j,Object.values(j));return i.jsx(w.Provider,{value:y,children:_})};h.displayName=o+"Provider";function f(m,b){var w;const _=((w=b==null?void 0:b[e])==null?void 0:w[p])||c,j=v.useContext(_);if(j)return j;if(u!==void 0)return u;throw new Error(`\`${m}\` must be used within \`${o}\``)}return[h,f]}const a=()=>{const o=r.map(u=>v.createContext(u));return function(c){const p=(c==null?void 0:c[e])||o;return v.useMemo(()=>({[`__scope${e}`]:{...c,[e]:p}}),[c,p])}};return a.scopeName=e,[n,NV(a,...t)]}function NV(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const u=n.reduce((c,{useScope:p,scopeName:h})=>{const m=p(o)[`__scope${h}`];return{...c,...m}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return r.scopeName=t.scopeName,r}var yh=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},EV=kj[" useId ".trim().toString()]||(()=>{}),TV=0;function B1(e){const[t,r]=v.useState(EV());return yh(()=>{r(n=>n??String(TV++))},[e]),e||(t?`radix-${t}`:"")}var PV=kj[" useInsertionEffect ".trim().toString()]||yh;function AV({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,o,u]=RV({defaultProp:t,onChange:r}),c=e!==void 0,p=c?e:a;{const f=v.useRef(e!==void 0);v.useEffect(()=>{const m=f.current;m!==c&&console.warn(`${n} is changing from ${m?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=c},[c,n])}const h=v.useCallback(f=>{var m;if(c){const b=OV(f)?f(e):f;b!==e&&((m=u.current)==null||m.call(u,b))}else o(f)},[c,e,o,u]);return[p,h]}function RV({defaultProp:e,onChange:t}){const[r,n]=v.useState(e),a=v.useRef(r),o=v.useRef(t);return PV(()=>{o.current=t},[t]),v.useEffect(()=>{var u;a.current!==r&&((u=o.current)==null||u.call(o,r),a.current=r)},[r,a]),[r,n,o]}function OV(e){return typeof e=="function"}function OL(e){const t=DV(e),r=v.forwardRef((n,a)=>{const{children:o,...u}=n,c=v.Children.toArray(o),p=c.find(LV);if(p){const h=p.props.children,f=c.map(m=>m===p?v.Children.count(h)>1?v.Children.only(null):v.isValidElement(h)?h.props.children:null:m);return i.jsx(t,{...u,ref:a,children:v.isValidElement(h)?v.cloneElement(h,void 0,f):null})}return i.jsx(t,{...u,ref:a,children:o})});return r.displayName=`${e}.Slot`,r}function DV(e){const t=v.forwardRef((r,n)=>{const{children:a,...o}=r;if(v.isValidElement(a)){const u=$V(a),c=IV(o,a.props);return a.type!==v.Fragment&&(c.ref=n?RL(n,u):u),v.cloneElement(a,c)}return v.Children.count(a)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var MV=Symbol("radix.slottable");function LV(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===MV}function IV(e,t){const r={...t};for(const n in t){const a=e[n],o=t[n];/^on[A-Z]/.test(n)?a&&o?r[n]=(...c)=>{const p=o(...c);return a(...c),p}:a&&(r[n]=a):n==="style"?r[n]={...a,...o}:n==="className"&&(r[n]=[a,o].filter(Boolean).join(" "))}return{...e,...r}}function $V(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var BV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Io=BV.reduce((e,t)=>{const r=OL(`Primitive.${t}`),n=v.forwardRef((a,o)=>{const{asChild:u,...c}=a,p=u?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(p,{...c,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function zV(e,t){e&&Wh.flushSync(()=>e.dispatchEvent(t))}function bh(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function FV(e,t=globalThis==null?void 0:globalThis.document){const r=bh(e);v.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var qV="DismissableLayer",bS="dismissableLayer.update",UV="dismissableLayer.pointerDownOutside",HV="dismissableLayer.focusOutside",WP,DL=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ML=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:u,onDismiss:c,...p}=e,h=v.useContext(DL),[f,m]=v.useState(null),b=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,_]=v.useState({}),j=fu(t,k=>m(k)),w=Array.from(h.layers),[y]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),x=w.indexOf(y),S=f?w.indexOf(f):-1,T=h.layersWithOutsidePointerEventsDisabled.size>0,N=S>=x,P=GV(k=>{const R=k.target,D=[...h.branches].some(I=>I.contains(R));!N||D||(a==null||a(k),u==null||u(k),k.defaultPrevented||c==null||c())},b),A=VV(k=>{const R=k.target;[...h.branches].some(I=>I.contains(R))||(o==null||o(k),u==null||u(k),k.defaultPrevented||c==null||c())},b);return FV(k=>{S===h.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&c&&(k.preventDefault(),c()))},b),v.useEffect(()=>{if(f)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(WP=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(f)),h.layers.add(f),KP(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=WP)}},[f,b,r,h]),v.useEffect(()=>()=>{f&&(h.layers.delete(f),h.layersWithOutsidePointerEventsDisabled.delete(f),KP())},[f,h]),v.useEffect(()=>{const k=()=>_({});return document.addEventListener(bS,k),()=>document.removeEventListener(bS,k)},[]),i.jsx(Io.div,{...p,ref:j,style:{pointerEvents:T?N?"auto":"none":void 0,...e.style},onFocusCapture:Bl(e.onFocusCapture,A.onFocusCapture),onBlurCapture:Bl(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:Bl(e.onPointerDownCapture,P.onPointerDownCapture)})});ML.displayName=qV;var WV="DismissableLayerBranch",KV=v.forwardRef((e,t)=>{const r=v.useContext(DL),n=v.useRef(null),a=fu(t,n);return v.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),i.jsx(Io.div,{...e,ref:a})});KV.displayName=WV;function GV(e,t=globalThis==null?void 0:globalThis.document){const r=bh(e),n=v.useRef(!1),a=v.useRef(()=>{});return v.useEffect(()=>{const o=c=>{if(c.target&&!n.current){let p=function(){LL(UV,r,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=p,t.addEventListener("click",a.current,{once:!0})):p()}else t.removeEventListener("click",a.current);n.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function VV(e,t=globalThis==null?void 0:globalThis.document){const r=bh(e),n=v.useRef(!1);return v.useEffect(()=>{const a=o=>{o.target&&!n.current&&LL(HV,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function KP(){const e=new CustomEvent(bS);document.dispatchEvent(e)}function LL(e,t,r,{discrete:n}){const a=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?zV(a,o):a.dispatchEvent(o)}var z1="focusScope.autoFocusOnMount",F1="focusScope.autoFocusOnUnmount",GP={bubbles:!1,cancelable:!0},YV="FocusScope",IL=v.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...u}=e,[c,p]=v.useState(null),h=bh(a),f=bh(o),m=v.useRef(null),b=fu(t,w=>p(w)),_=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(n){let w=function(T){if(_.paused||!c)return;const N=T.target;c.contains(N)?m.current=N:jl(m.current,{select:!0})},y=function(T){if(_.paused||!c)return;const N=T.relatedTarget;N!==null&&(c.contains(N)||jl(m.current,{select:!0}))},x=function(T){if(document.activeElement===document.body)for(const P of T)P.removedNodes.length>0&&jl(c)};document.addEventListener("focusin",w),document.addEventListener("focusout",y);const S=new MutationObserver(x);return c&&S.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",y),S.disconnect()}}},[n,c,_.paused]),v.useEffect(()=>{if(c){YP.add(_);const w=document.activeElement;if(!c.contains(w)){const x=new CustomEvent(z1,GP);c.addEventListener(z1,h),c.dispatchEvent(x),x.defaultPrevented||(QV(tY($L(c)),{select:!0}),document.activeElement===w&&jl(c))}return()=>{c.removeEventListener(z1,h),setTimeout(()=>{const x=new CustomEvent(F1,GP);c.addEventListener(F1,f),c.dispatchEvent(x),x.defaultPrevented||jl(w??document.body,{select:!0}),c.removeEventListener(F1,f),YP.remove(_)},0)}}},[c,h,f,_]);const j=v.useCallback(w=>{if(!r&&!n||_.paused)return;const y=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,x=document.activeElement;if(y&&x){const S=w.currentTarget,[T,N]=XV(S);T&&N?!w.shiftKey&&x===N?(w.preventDefault(),r&&jl(T,{select:!0})):w.shiftKey&&x===T&&(w.preventDefault(),r&&jl(N,{select:!0})):x===S&&w.preventDefault()}},[r,n,_.paused]);return i.jsx(Io.div,{tabIndex:-1,...u,ref:b,onKeyDown:j})});IL.displayName=YV;function QV(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(jl(n,{select:t}),document.activeElement!==r)return}function XV(e){const t=$L(e),r=VP(t,e),n=VP(t.reverse(),e);return[r,n]}function $L(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function VP(e,t){for(const r of e)if(!ZV(r,{upTo:t}))return r}function ZV(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function JV(e){return e instanceof HTMLInputElement&&"select"in e}function jl(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&JV(e)&&t&&e.select()}}var YP=eY();function eY(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=QP(e,t),e.unshift(t)},remove(t){var r;e=QP(e,t),(r=e[0])==null||r.resume()}}}function QP(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function tY(e){return e.filter(t=>t.tagName!=="A")}var rY="Portal",BL=v.forwardRef((e,t)=>{var c;const{container:r,...n}=e,[a,o]=v.useState(!1);yh(()=>o(!0),[]);const u=r||a&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return u?$H.createPortal(i.jsx(Io.div,{...n,ref:t}),u):null});BL.displayName=rY;function nY(e,t){return v.useReducer((r,n)=>t[r][n]??r,e)}var gb=e=>{const{present:t,children:r}=e,n=aY(t),a=typeof r=="function"?r({present:n.isPresent}):v.Children.only(r),o=fu(n.ref,iY(a));return typeof r=="function"||n.isPresent?v.cloneElement(a,{ref:o}):null};gb.displayName="Presence";function aY(e){const[t,r]=v.useState(),n=v.useRef(null),a=v.useRef(e),o=v.useRef("none"),u=e?"mounted":"unmounted",[c,p]=nY(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const h=Hg(n.current);o.current=c==="mounted"?h:"none"},[c]),yh(()=>{const h=n.current,f=a.current;if(f!==e){const b=o.current,_=Hg(h);e?p("MOUNT"):_==="none"||(h==null?void 0:h.display)==="none"?p("UNMOUNT"):p(f&&b!==_?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,p]),yh(()=>{if(t){let h;const f=t.ownerDocument.defaultView??window,m=_=>{const w=Hg(n.current).includes(CSS.escape(_.animationName));if(_.target===t&&w&&(p("ANIMATION_END"),!a.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",h=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},b=_=>{_.target===t&&(o.current=Hg(n.current))};return t.addEventListener("animationstart",b),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{f.clearTimeout(h),t.removeEventListener("animationstart",b),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else p("ANIMATION_END")},[t,p]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:v.useCallback(h=>{n.current=h?getComputedStyle(h):null,r(h)},[])}}function Hg(e){return(e==null?void 0:e.animationName)||"none"}function iY(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var q1=0;function sY(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??XP()),document.body.insertAdjacentElement("beforeend",e[1]??XP()),q1++,()=>{q1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),q1--}},[])}function XP(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ys=function(){return ys=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},ys.apply(this,arguments)};function zL(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function oY(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,o;n<a;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var Tv="right-scroll-bar-position",Pv="width-before-scroll-bar",lY="with-scroll-bars-hidden",cY="--removed-body-scroll-bar-size";function U1(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function uY(e,t){var r=v.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var dY=typeof window<"u"?v.useLayoutEffect:v.useEffect,ZP=new WeakMap;function fY(e,t){var r=uY(null,function(n){return e.forEach(function(a){return U1(a,n)})});return dY(function(){var n=ZP.get(r);if(n){var a=new Set(n),o=new Set(e),u=r.current;a.forEach(function(c){o.has(c)||U1(c,null)}),o.forEach(function(c){a.has(c)||U1(c,u)})}ZP.set(r,e)},[e]),r}function pY(e){return e}function hY(e,t){t===void 0&&(t=pY);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var u=t(o,n);return r.push(u),function(){r=r.filter(function(c){return c!==u})}},assignSyncMedium:function(o){for(n=!0;r.length;){var u=r;r=[],u.forEach(o)}r={push:function(c){return o(c)},filter:function(){return r}}},assignMedium:function(o){n=!0;var u=[];if(r.length){var c=r;r=[],c.forEach(o),u=r}var p=function(){var f=u;u=[],f.forEach(o)},h=function(){return Promise.resolve().then(p)};h(),r={push:function(f){u.push(f),h()},filter:function(f){return u=u.filter(f),r}}}};return a}function mY(e){e===void 0&&(e={});var t=hY(null);return t.options=ys({async:!0,ssr:!1},e),t}var FL=function(e){var t=e.sideCar,r=zL(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return v.createElement(n,ys({},r))};FL.isSideCarExport=!0;function gY(e,t){return e.useMedium(t),FL}var qL=mY(),H1=function(){},vb=v.forwardRef(function(e,t){var r=v.useRef(null),n=v.useState({onScrollCapture:H1,onWheelCapture:H1,onTouchMoveCapture:H1}),a=n[0],o=n[1],u=e.forwardProps,c=e.children,p=e.className,h=e.removeScrollBar,f=e.enabled,m=e.shards,b=e.sideCar,_=e.noRelative,j=e.noIsolation,w=e.inert,y=e.allowPinchZoom,x=e.as,S=x===void 0?"div":x,T=e.gapMode,N=zL(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=b,A=fY([r,t]),k=ys(ys({},N),a);return v.createElement(v.Fragment,null,f&&v.createElement(P,{sideCar:qL,removeScrollBar:h,shards:m,noRelative:_,noIsolation:j,inert:w,setCallbacks:o,allowPinchZoom:!!y,lockRef:r,gapMode:T}),u?v.cloneElement(v.Children.only(c),ys(ys({},k),{ref:A})):v.createElement(S,ys({},k,{className:p,ref:A}),c))});vb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};vb.classNames={fullWidth:Pv,zeroRight:Tv};var vY=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function yY(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=vY();return t&&e.setAttribute("nonce",t),e}function bY(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function _Y(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var xY=function(){var e=0,t=null;return{add:function(r){e==0&&(t=yY())&&(bY(t,r),_Y(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},wY=function(){var e=xY();return function(t,r){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},UL=function(){var e=wY(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},SY={left:0,top:0,right:0,gap:0},W1=function(e){return parseInt(e||"",10)||0},jY=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[W1(r),W1(n),W1(a)]},CY=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return SY;var t=jY(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},kY=UL(),xd="data-scroll-locked",NY=function(e,t,r,n){var a=e.left,o=e.top,u=e.right,c=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(lY,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat(xd,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Tv,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Pv,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Tv," .").concat(Tv,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Pv," .").concat(Pv,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(xd,`] {
    `).concat(cY,": ").concat(c,`px;
  }
`)},JP=function(){var e=parseInt(document.body.getAttribute(xd)||"0",10);return isFinite(e)?e:0},EY=function(){v.useEffect(function(){return document.body.setAttribute(xd,(JP()+1).toString()),function(){var e=JP()-1;e<=0?document.body.removeAttribute(xd):document.body.setAttribute(xd,e.toString())}},[])},TY=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;EY();var o=v.useMemo(function(){return CY(a)},[a]);return v.createElement(kY,{styles:NY(o,!t,a,r?"":"!important")})},_S=!1;if(typeof window<"u")try{var Wg=Object.defineProperty({},"passive",{get:function(){return _S=!0,!0}});window.addEventListener("test",Wg,Wg),window.removeEventListener("test",Wg,Wg)}catch{_S=!1}var ed=_S?{passive:!1}:!1,PY=function(e){return e.tagName==="TEXTAREA"},HL=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!PY(e)&&r[t]==="visible")},AY=function(e){return HL(e,"overflowY")},RY=function(e){return HL(e,"overflowX")},eA=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=WL(e,n);if(a){var o=KL(e,n),u=o[1],c=o[2];if(u>c)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},OY=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},DY=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},WL=function(e,t){return e==="v"?AY(t):RY(t)},KL=function(e,t){return e==="v"?OY(t):DY(t)},MY=function(e,t){return e==="h"&&t==="rtl"?-1:1},LY=function(e,t,r,n,a){var o=MY(e,window.getComputedStyle(t).direction),u=o*n,c=r.target,p=t.contains(c),h=!1,f=u>0,m=0,b=0;do{if(!c)break;var _=KL(e,c),j=_[0],w=_[1],y=_[2],x=w-y-o*j;(j||x)&&WL(e,c)&&(m+=x,b+=j);var S=c.parentNode;c=S&&S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?S.host:S}while(!p&&c!==document.body||p&&(t.contains(c)||t===c));return(f&&Math.abs(m)<1||!f&&Math.abs(b)<1)&&(h=!0),h},Kg=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},tA=function(e){return[e.deltaX,e.deltaY]},rA=function(e){return e&&"current"in e?e.current:e},IY=function(e,t){return e[0]===t[0]&&e[1]===t[1]},$Y=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},BY=0,td=[];function zY(e){var t=v.useRef([]),r=v.useRef([0,0]),n=v.useRef(),a=v.useState(BY++)[0],o=v.useState(UL)[0],u=v.useRef(e);v.useEffect(function(){u.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var w=oY([e.lockRef.current],(e.shards||[]).map(rA),!0).filter(Boolean);return w.forEach(function(y){return y.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),w.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var c=v.useCallback(function(w,y){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!u.current.allowPinchZoom;var x=Kg(w),S=r.current,T="deltaX"in w?w.deltaX:S[0]-x[0],N="deltaY"in w?w.deltaY:S[1]-x[1],P,A=w.target,k=Math.abs(T)>Math.abs(N)?"h":"v";if("touches"in w&&k==="h"&&A.type==="range")return!1;var R=window.getSelection(),D=R&&R.anchorNode,I=D?D===A||D.contains(A):!1;if(I)return!1;var q=eA(k,A);if(!q)return!0;if(q?P=k:(P=k==="v"?"h":"v",q=eA(k,A)),!q)return!1;if(!n.current&&"changedTouches"in w&&(T||N)&&(n.current=P),!P)return!0;var z=n.current||P;return LY(z,y,w,z==="h"?T:N)},[]),p=v.useCallback(function(w){var y=w;if(!(!td.length||td[td.length-1]!==o)){var x="deltaY"in y?tA(y):Kg(y),S=t.current.filter(function(P){return P.name===y.type&&(P.target===y.target||y.target===P.shadowParent)&&IY(P.delta,x)})[0];if(S&&S.should){y.cancelable&&y.preventDefault();return}if(!S){var T=(u.current.shards||[]).map(rA).filter(Boolean).filter(function(P){return P.contains(y.target)}),N=T.length>0?c(y,T[0]):!u.current.noIsolation;N&&y.cancelable&&y.preventDefault()}}},[]),h=v.useCallback(function(w,y,x,S){var T={name:w,delta:y,target:x,should:S,shadowParent:FY(x)};t.current.push(T),setTimeout(function(){t.current=t.current.filter(function(N){return N!==T})},1)},[]),f=v.useCallback(function(w){r.current=Kg(w),n.current=void 0},[]),m=v.useCallback(function(w){h(w.type,tA(w),w.target,c(w,e.lockRef.current))},[]),b=v.useCallback(function(w){h(w.type,Kg(w),w.target,c(w,e.lockRef.current))},[]);v.useEffect(function(){return td.push(o),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:b}),document.addEventListener("wheel",p,ed),document.addEventListener("touchmove",p,ed),document.addEventListener("touchstart",f,ed),function(){td=td.filter(function(w){return w!==o}),document.removeEventListener("wheel",p,ed),document.removeEventListener("touchmove",p,ed),document.removeEventListener("touchstart",f,ed)}},[]);var _=e.removeScrollBar,j=e.inert;return v.createElement(v.Fragment,null,j?v.createElement(o,{styles:$Y(a)}):null,_?v.createElement(TY,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function FY(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const qY=gY(qL,zY);var GL=v.forwardRef(function(e,t){return v.createElement(vb,ys({},e,{ref:t,sideCar:qY}))});GL.classNames=vb.classNames;var UY=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},rd=new WeakMap,Gg=new WeakMap,Vg={},K1=0,VL=function(e){return e&&(e.host||VL(e.parentNode))},HY=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=VL(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},WY=function(e,t,r,n){var a=HY(t,Array.isArray(e)?e:[e]);Vg[r]||(Vg[r]=new WeakMap);var o=Vg[r],u=[],c=new Set,p=new Set(a),h=function(m){!m||c.has(m)||(c.add(m),h(m.parentNode))};a.forEach(h);var f=function(m){!m||p.has(m)||Array.prototype.forEach.call(m.children,function(b){if(c.has(b))f(b);else try{var _=b.getAttribute(n),j=_!==null&&_!=="false",w=(rd.get(b)||0)+1,y=(o.get(b)||0)+1;rd.set(b,w),o.set(b,y),u.push(b),w===1&&j&&Gg.set(b,!0),y===1&&b.setAttribute(r,"true"),j||b.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",b,x)}})};return f(t),c.clear(),K1++,function(){u.forEach(function(m){var b=rd.get(m)-1,_=o.get(m)-1;rd.set(m,b),o.set(m,_),b||(Gg.has(m)||m.removeAttribute(n),Gg.delete(m)),_||m.removeAttribute(r)}),K1--,K1||(rd=new WeakMap,rd=new WeakMap,Gg=new WeakMap,Vg={})}},KY=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=UY(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),WY(n,a,r,"aria-hidden")):function(){return null}},yb="Dialog",[YL]=kV(yb),[GY,Gi]=YL(yb),QL=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:o,modal:u=!0}=e,c=v.useRef(null),p=v.useRef(null),[h,f]=AV({prop:n,defaultProp:a??!1,onChange:o,caller:yb});return i.jsx(GY,{scope:t,triggerRef:c,contentRef:p,contentId:B1(),titleId:B1(),descriptionId:B1(),open:h,onOpenChange:f,onOpenToggle:v.useCallback(()=>f(m=>!m),[f]),modal:u,children:r})};QL.displayName=yb;var XL="DialogTrigger",VY=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Gi(XL,r),o=fu(t,a.triggerRef);return i.jsx(Io.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":tC(a.open),...n,ref:o,onClick:Bl(e.onClick,a.onOpenToggle)})});VY.displayName=XL;var Jj="DialogPortal",[YY,ZL]=YL(Jj,{forceMount:void 0}),JL=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,o=Gi(Jj,t);return i.jsx(YY,{scope:t,forceMount:r,children:v.Children.map(n,u=>i.jsx(gb,{present:r||o.open,children:i.jsx(BL,{asChild:!0,container:a,children:u})}))})};JL.displayName=Jj;var ny="DialogOverlay",e6=v.forwardRef((e,t)=>{const r=ZL(ny,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,o=Gi(ny,e.__scopeDialog);return o.modal?i.jsx(gb,{present:n||o.open,children:i.jsx(XY,{...a,ref:t})}):null});e6.displayName=ny;var QY=OL("DialogOverlay.RemoveScroll"),XY=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Gi(ny,r);return i.jsx(GL,{as:QY,allowPinchZoom:!0,shards:[a.contentRef],children:i.jsx(Io.div,{"data-state":tC(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Zc="DialogContent",t6=v.forwardRef((e,t)=>{const r=ZL(Zc,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,o=Gi(Zc,e.__scopeDialog);return i.jsx(gb,{present:n||o.open,children:o.modal?i.jsx(ZY,{...a,ref:t}):i.jsx(JY,{...a,ref:t})})});t6.displayName=Zc;var ZY=v.forwardRef((e,t)=>{const r=Gi(Zc,e.__scopeDialog),n=v.useRef(null),a=fu(t,r.contentRef,n);return v.useEffect(()=>{const o=n.current;if(o)return KY(o)},[]),i.jsx(r6,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Bl(e.onCloseAutoFocus,o=>{var u;o.preventDefault(),(u=r.triggerRef.current)==null||u.focus()}),onPointerDownOutside:Bl(e.onPointerDownOutside,o=>{const u=o.detail.originalEvent,c=u.button===0&&u.ctrlKey===!0;(u.button===2||c)&&o.preventDefault()}),onFocusOutside:Bl(e.onFocusOutside,o=>o.preventDefault())})}),JY=v.forwardRef((e,t)=>{const r=Gi(Zc,e.__scopeDialog),n=v.useRef(!1),a=v.useRef(!1);return i.jsx(r6,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var u,c;(u=e.onCloseAutoFocus)==null||u.call(e,o),o.defaultPrevented||(n.current||(c=r.triggerRef.current)==null||c.focus(),o.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:o=>{var p,h;(p=e.onInteractOutside)==null||p.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const u=o.target;((h=r.triggerRef.current)==null?void 0:h.contains(u))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),r6=v.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:o,...u}=e,c=Gi(Zc,r),p=v.useRef(null),h=fu(t,p);return sY(),i.jsxs(i.Fragment,{children:[i.jsx(IL,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:o,children:i.jsx(ML,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":tC(c.open),...u,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(eQ,{titleId:c.titleId}),i.jsx(rQ,{contentRef:p,descriptionId:c.descriptionId})]})]})}),eC="DialogTitle",n6=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Gi(eC,r);return i.jsx(Io.h2,{id:a.titleId,...n,ref:t})});n6.displayName=eC;var a6="DialogDescription",i6=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Gi(a6,r);return i.jsx(Io.p,{id:a.descriptionId,...n,ref:t})});i6.displayName=a6;var s6="DialogClose",o6=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Gi(s6,r);return i.jsx(Io.button,{type:"button",...n,ref:t,onClick:Bl(e.onClick,()=>a.onOpenChange(!1))})});o6.displayName=s6;function tC(e){return e?"open":"closed"}var l6="DialogTitleWarning",[P6e,c6]=CV(l6,{contentName:Zc,titleName:eC,docsSlug:"dialog"}),eQ=({titleId:e})=>{const t=c6(l6),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},tQ="DialogDescriptionWarning",rQ=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${c6(tQ).contentName}}.`;return v.useEffect(()=>{var o;const a=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},cr=QL,mr=JL,ur=e6,dr=t6,fr=n6,kr=i6,dt=o6;class u6 extends Error{constructor(t,r,n){super(t),this.status=r,this.data=n,this.name="CollaboratorApiError"}}const d6="/api";function nQ(e){const t=new URLSearchParams;t.set("limit",String(e.limit)),(e==null?void 0:e.offset)!=null&&t.set("offset",String(e.offset)),e!=null&&e.q&&t.set("q",e.q),e!=null&&e.sort&&t.set("sort",e.sort);const r=t.toString();return At(`/podcasts${r?`?${r}`:""}`)}function aQ(e,t){const r=new URLSearchParams;r.set("limit",String(t.limit)),(t==null?void 0:t.offset)!=null&&r.set("offset",String(t.offset)),t!=null&&t.q&&r.set("q",t.q),t!=null&&t.sort&&r.set("sort",t.sort);const n=r.toString();return At(`/podcasts/user/${e}${n?`?${n}`:""}`)}function pu(e){return At(`/podcasts/${e}`)}function iQ(e,t){const r=new URLSearchParams;t!=null&&t.start_date&&r.set("start_date",t.start_date),t!=null&&t.end_date&&r.set("end_date",t.end_date),(t==null?void 0:t.limit)!=null&&r.set("limit",String(t.limit)),(t==null?void 0:t.offset)!=null&&r.set("offset",String(t.offset));const n=r.toString();return At(`/podcasts/${e}/analytics${n?`?${n}`:""}`)}function sQ(e){return an("/podcasts",e)}async function oQ(e,t){const r=new FormData;r.append("file",t);const n=await fetch(`${d6}/podcasts/${e}/artwork`,{method:"POST",credentials:"include",headers:tr(),body:r});if(!n.ok){const a=await n.json().catch(()=>({error:n.statusText}));throw new Error(a.error??n.statusText)}return n.json()}function lQ(e){return At(`/podcasts/${e}/collaborators`)}async function cQ(e,t){const r=await fetch(`/api/podcasts/${e}/collaborators`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",...tr()},body:JSON.stringify(t)}),n=await r.json().catch(()=>({}));if(!r.ok)throw new u6(n.error??r.statusText,r.status,n);return n}function uQ(e,t,r){return Kl(`/podcasts/${e}/collaborators/${t}`,r)}function dQ(e,t){return fetch(`/api/podcasts/${e}/collaborators/${t}`,{method:"DELETE",credentials:"include",headers:tr()}).then(r=>{if(!r.ok)return r.json().then(n=>Promise.reject(new Error(n.error??r.statusText)))})}function fQ(e){return an("/invite-to-platform",e)}function pQ(e){return an("/podcasts/import",{feed_url:e})}function hQ(e){return At(`/podcasts/${e}/import-status`)}function mQ(){return At("/podcasts/import-status")}function rC(e,t){return Kl(`/podcasts/${e}`,t)}function nA(e,t){const r=new URLSearchParams;t!=null&&t.limit&&r.set("limit",String(t.limit)),t!=null&&t.offset&&r.set("offset",String(t.offset)),t!=null&&t.q&&r.set("q",t.q),t!=null&&t.sort&&r.set("sort",t.sort);const n=r.toString(),a=`/podcasts/${e}/subscriber-tokens${n?`?${n}`:""}`;return At(a)}function gQ(e,t){return an(`/podcasts/${e}/subscriber-tokens`,t)}function vQ(e,t,r){return Kl(`/podcasts/${e}/subscriber-tokens/${t}`,r)}function yQ(e,t){return Kh(`/podcasts/${e}/subscriber-tokens/${t}`)}function Av(e,t){const r=new URLSearchParams;(t==null?void 0:t.limit)!=null&&r.set("limit",String(t.limit)),(t==null?void 0:t.offset)!=null&&r.set("offset",String(t.offset)),t!=null&&t.q&&r.set("q",t.q),t!=null&&t.sort&&r.set("sort",t.sort),t!=null&&t.episode_id&&r.set("episode_id",t.episode_id);const n=r.toString();return At(`/podcasts/${e}/cast${n?`?${n}`:""}`)}function bQ(e,t){return an(`/podcasts/${e}/cast`,t)}function _Q(e,t,r){return Kl(`/podcasts/${e}/cast/${t}`,r)}function xQ(e,t){return Kh(`/podcasts/${e}/cast/${t}`)}async function aA(e,t,r){const n=new FormData;n.append("file",r);const a=await fetch(`${d6}/podcasts/${e}/cast/${t}/photo`,{method:"POST",credentials:"include",headers:tr(),body:n});if(!a.ok){const o=await a.json().catch(()=>({error:a.statusText}));throw new Error(o.error??a.statusText)}return a.json()}function f6(e,t,r){return`/api/podcasts/${e}/cast/${t}/artwork/${encodeURIComponent(r)}`}const wQ="_card_1o0pt_4",SQ="_cardTitle_1o0pt_12",jQ="_sectionTitle_1o0pt_21",CQ="_sectionSub_1o0pt_28",kQ="_pdCardSectionSub_1o0pt_36",NQ="_pdCardEmptyState_1o0pt_44",EQ="_exportHeader_1o0pt_56",TQ="_tokenHeader_1o0pt_57",PQ="_exportTitle_1o0pt_66",AQ="_tokenTitle_1o0pt_67",RQ="_exportHeaderActions_1o0pt_73",OQ="_tokenHeaderActions_1o0pt_74",DQ="_exportMuted_1o0pt_81",MQ="_tokenMuted_1o0pt_82",LQ="_tokenNoMatch_1o0pt_89",IQ="_tokenNoMatchText_1o0pt_98",$Q="_subscriberDisabledBody_1o0pt_105",BQ="_subscriberDisabledMessage_1o0pt_113",zQ="_subscriberDisabledActions_1o0pt_119",FQ="_podcastHero_1o0pt_127",qQ="_podcastHeroArtwork_1o0pt_134",UQ="_podcastHeroMain_1o0pt_144",HQ="_podcastHeroTitleRow_1o0pt_154",WQ="_podcastHeroTitleLock_1o0pt_163",KQ="_podcastHeroTitleLockGold_1o0pt_168",GQ="_podcastHeroDescription_1o0pt_182",VQ="_cardHeaderActions_1o0pt_187",YQ="_label_1o0pt_205",QQ="_input_1o0pt_214",XQ="_select_1o0pt_215",ZQ="_submit_1o0pt_243",JQ="_cancel_1o0pt_264",eX="_dialogOverlay_1o0pt_285",tX="_fadeIn_1o0pt_1",rX="_dialogContent_1o0pt_298",nX="_dialogContentWide_1o0pt_314",aX="_dialogContentScrollable_1o0pt_318",iX="_dialogBodyScroll_1o0pt_324",sX="_dialogHeaderRow_1o0pt_353",oX="_dialogTitle_1o0pt_361",lX="_dialogDescription_1o0pt_376",cX="_dialogClose_1o0pt_383",uX="_dialogActions_1o0pt_409",dX="_dialogFooter_1o0pt_419",fX="_dialogFooterCancelLeft_1o0pt_426",pX="_dialogConfirm_1o0pt_433",hX="_dialogConfirmRemove_1o0pt_458",mX="_exportList_1o0pt_481",gX="_collabList_1o0pt_482",vX="_tokenList_1o0pt_483",yX="_exportCard_1o0pt_492",bX="_collabCard_1o0pt_500",_X="_tokenCard_1o0pt_501",xX="_exportCardRow_1o0pt_520",wX="_collabCardRow_1o0pt_521",SX="_tokenCardRow_1o0pt_522",jX="_exportCardMeta_1o0pt_530",CX="_collabCardMeta_1o0pt_531",kX="_tokenCardMeta_1o0pt_532",NX="_tokenCardMetaRow_1o0pt_555",EX="_exportCardActions_1o0pt_562",TX="_collabCardActions_1o0pt_563",PX="_tokenCardActions_1o0pt_564",AX="_exportModeBadge_1o0pt_572",RX="_roleBadge_1o0pt_591",OX="_statusBadgeActive_1o0pt_604",DX="_statusBadgeDisabled_1o0pt_616",MX="_statusBadgeDisabledDanger_1o0pt_628",LX="_exportDeleteBtn_1o0pt_640",IX="_collabDeleteBtn_1o0pt_641",$X="_tokenDeleteBtn_1o0pt_642",BX="_tokenMetaText_1o0pt_671",zX="_cardHeader_1o0pt_187",FX="_cardSettings_1o0pt_693",qX="_cardHeaderPrimary_1o0pt_720",UX="_cardHeaderSecondary_1o0pt_748",HX="_form_1o0pt_775",WX="_textarea_1o0pt_781",KX="_dialogSectionTitle_1o0pt_799",GX="_dialogShowDetailsGrid_1o0pt_812",VX="_editDetailsTabSelectWrap_1o0pt_817",YX="_editDetailsTabSelect_1o0pt_817",QX="_editDetailsTabs_1o0pt_845",XX="_editDetailsTab_1o0pt_817",ZX="_editDetailsTabActive_1o0pt_877",JX="_editDetailsTabPanel_1o0pt_882",eZ="_editDetailsTabPanelActive_1o0pt_886",tZ="_advancedToggle_1o0pt_903",rZ="_overviewFieldsStack_1o0pt_925",nZ="_tabPanelFields_1o0pt_926",aZ="_advancedFields_1o0pt_932",iZ="_coverImageWrap_1o0pt_940",sZ="_coverImagePreview_1o0pt_947",oZ="_coverImagePreviewPlaceholder_1o0pt_957",lZ="_coverImageControls_1o0pt_970",cZ="_coverSourceToggle_1o0pt_978",uZ="_coverSourceToggleBtn_1o0pt_985",dZ="_coverSourceToggleActive_1o0pt_986",fZ="_coverFileInput_1o0pt_1013",pZ="_gearBtn_1o0pt_1042",hZ="_deployBtn_1o0pt_1069",mZ="_statusToggle_1o0pt_1096",gZ="_statusToggleBtn_1o0pt_1105",vZ="_statusToggleActive_1o0pt_1106",yZ="_success_1o0pt_1133",bZ="_collabLimitCard_1o0pt_1144",_Z="_tokenLimitCard_1o0pt_1145",xZ="_collabError_1o0pt_1156",wZ="_tokenError_1o0pt_1157",SZ="_collabEmptyState_1o0pt_1178",jZ="_tokenEmptyState_1o0pt_1179",CZ="_error_1o0pt_1187",kZ="_muted_1o0pt_1197",ne={card:wQ,cardTitle:SQ,sectionTitle:jQ,sectionSub:CQ,pdCardSectionSub:kQ,pdCardEmptyState:NQ,exportHeader:EQ,tokenHeader:TQ,exportTitle:PQ,tokenTitle:AQ,exportHeaderActions:RQ,tokenHeaderActions:OQ,exportMuted:DQ,tokenMuted:MQ,tokenNoMatch:LQ,tokenNoMatchText:IQ,subscriberDisabledBody:$Q,subscriberDisabledMessage:BQ,subscriberDisabledActions:zQ,podcastHero:FQ,podcastHeroArtwork:qQ,podcastHeroMain:UQ,podcastHeroTitleRow:HQ,podcastHeroTitleLock:WQ,podcastHeroTitleLockGold:KQ,podcastHeroDescription:GQ,cardHeaderActions:VQ,label:YQ,input:QQ,select:XQ,submit:ZQ,cancel:JQ,dialogOverlay:eX,fadeIn:tX,dialogContent:rX,dialogContentWide:nX,dialogContentScrollable:aX,dialogBodyScroll:iX,dialogHeaderRow:sX,dialogTitle:oX,dialogDescription:lX,dialogClose:cX,dialogActions:uX,dialogFooter:dX,dialogFooterCancelLeft:fX,dialogConfirm:pX,dialogConfirmRemove:hX,exportList:mX,collabList:gX,tokenList:vX,exportCard:yX,collabCard:bX,tokenCard:_X,exportCardRow:xX,collabCardRow:wX,tokenCardRow:SX,exportCardMeta:jX,collabCardMeta:CX,tokenCardMeta:kX,tokenCardMetaRow:NX,exportCardActions:EX,collabCardActions:TX,tokenCardActions:PX,exportModeBadge:AX,roleBadge:RX,statusBadgeActive:OX,statusBadgeDisabled:DX,statusBadgeDisabledDanger:MX,exportDeleteBtn:LX,collabDeleteBtn:IX,tokenDeleteBtn:$X,tokenMetaText:BX,cardHeader:zX,cardSettings:FX,cardHeaderPrimary:qX,cardHeaderSecondary:UX,form:HX,textarea:WX,dialogSectionTitle:KX,dialogShowDetailsGrid:GX,editDetailsTabSelectWrap:VX,editDetailsTabSelect:YX,editDetailsTabs:QX,editDetailsTab:XX,editDetailsTabActive:ZX,editDetailsTabPanel:JX,editDetailsTabPanelActive:eZ,advancedToggle:tZ,overviewFieldsStack:rZ,tabPanelFields:nZ,advancedFields:aZ,coverImageWrap:iZ,coverImagePreview:sZ,coverImagePreviewPlaceholder:oZ,coverImageControls:lZ,coverSourceToggle:cZ,coverSourceToggleBtn:uZ,coverSourceToggleActive:dZ,coverFileInput:fZ,gearBtn:pZ,deployBtn:hZ,statusToggle:mZ,statusToggleBtn:gZ,statusToggleActive:vZ,success:yZ,collabLimitCard:bZ,tokenLimitCard:_Z,collabError:xZ,tokenError:wZ,collabEmptyState:SZ,tokenEmptyState:jZ,error:CZ,muted:kZ};function NZ(e){if(!e)return"";const t=e.trim();if(!t)return"";if(t.startsWith("/")&&!t.startsWith("//"))return t;try{const r=typeof window<"u"?window.location.origin:"https://x",n=new URL(t,r),a=n.protocol.toLowerCase();if(a==="https:"||a==="http:"||a==="blob:")return n.href}catch{}return""}function p6({open:e,podcastId:t,onClose:r}){var F,B;const n=Bt(),{user:a}=As(),{data:o,isLoading:u}=De({queryKey:["podcast",t],queryFn:()=>pu(t),enabled:e&&!!t}),[c,p]=v.useState({}),h=v.useRef(c),[f,m]=v.useState("url"),[b,_]=v.useState(null),[j,w]=v.useState(null),[y,x]=v.useState(0),[S,T]=v.useState(""),[N,P]=v.useState(null),[A,k]=v.useState("overview"),R=v.useRef(null),D=v.useRef(null);gi(R,c.description??"",{minHeight:80}),gi(D,c.summary??"",{minHeight:60}),v.useEffect(()=>{h.current=c},[c]),v.useEffect(()=>{const O=(c.artwork_url??"").trim();if(!O){T("");return}const $=setTimeout(()=>T(O),400);return()=>clearTimeout($)},[c.artwork_url]),v.useEffect(()=>{o&&(p({...o,artwork_url:o.artwork_url??null}),T((o.artwork_url??"").trim()),m(o.artwork_filename?"upload":"url"),_(null))},[o]),v.useEffect(()=>{e&&o&&(p({...o,artwork_url:o.artwork_url??null}),T((o.artwork_url??"").trim()),_(null))},[e,o]),v.useEffect(()=>{if(!b){w($=>($&&URL.revokeObjectURL($),null));return}const O=URL.createObjectURL(b);return w(O),()=>URL.revokeObjectURL(O)},[b]);const I=Ve({mutationFn:O=>rC(t,O),onSuccess:()=>{n.invalidateQueries({queryKey:["podcast",t]}),n.invalidateQueries({queryKey:["podcasts"]}),r()}}),q=Ve({mutationFn:O=>oQ(t,O),onSuccess:()=>{n.invalidateQueries({queryKey:["podcast",t]}),n.invalidateQueries({queryKey:["podcasts"]}),x(O=>O+1)}});v.useEffect(()=>{e||(I.reset(),q.reset(),P(null),k("overview"))},[e,I,q]);async function z(O){var Z,H,X,te;O.preventDefault();const $=h.current,K=b;if(K)try{await q.mutateAsync(K),_(null)}catch{return}const Y={title:$.title,slug:$.slug,description:$.description,subtitle:$.subtitle??null,summary:$.summary??null,language:$.language,author_name:$.author_name,owner_name:$.owner_name,email:$.email,category_primary:$.category_primary,category_secondary:$.category_secondary,category_primary_two:$.category_primary_two,category_secondary_two:$.category_secondary_two,category_primary_three:$.category_primary_three,category_secondary_three:$.category_secondary_three,explicit:$.explicit!==void 0?$.explicit===1?1:0:void 0,site_url:$.site_url,artwork_url:K?null:$.artwork_url!==void 0?$.artwork_url:null,copyright:$.copyright,podcast_guid:$.podcast_guid,locked:$.locked!==void 0?$.locked===1?1:0:void 0,license:$.license,itunes_type:$.itunes_type,medium:$.medium,funding_url:$.funding_url??null,funding_label:$.funding_label??null,persons:$.persons??null,update_frequency_rrule:$.update_frequency_rrule??null,update_frequency_label:$.update_frequency_label??null,spotify_recent_count:$.spotify_recent_count??null,spotify_country_of_origin:$.spotify_country_of_origin??null,apple_podcasts_verify:$.apple_podcasts_verify??null,unlisted:$.unlisted!==void 0?$.unlisted===1?1:0:void 0,subscriber_only_feed_enabled:$.subscriber_only_feed_enabled!==void 0?$.subscriber_only_feed_enabled===1?1:0:void 0,public_feed_disabled:$.public_feed_disabled!==void 0?$.public_feed_disabled===1?1:0:void 0};if((o==null?void 0:o.my_role)==="owner"&&(o!=null&&o.dns_config)){const le=o.dns_config;if(le.allow_linking_domain&&$.link_domain!==void 0){const me=((Z=$.link_domain)==null?void 0:Z.trim())||null;if(me&&(me.toLowerCase().startsWith("http://")||me.toLowerCase().startsWith("https://"))){P("Use hostname only (no http:// or https://).");return}Y.link_domain=me}le.allow_domain&&$.managed_domain!==void 0?Y.managed_domain=((H=$.managed_domain)==null?void 0:H.trim())||null:Y.managed_domain=null,le.allow_sub_domain&&le.default_domain&&$.managed_sub_domain!==void 0?Y.managed_sub_domain=((X=$.managed_sub_domain)==null?void 0:X.trim())||null:Y.managed_sub_domain=null,le.allow_custom_key&&$.cloudflare_api_key!==void 0?Y.cloudflare_api_key=((te=$.cloudflare_api_key)==null?void 0:te.trim())||void 0:Y.cloudflare_api_key=null}P(null),I.mutate(Y)}function M(){const O="abcdefghijklmnopqrstuvwxyz0-9";let $="private-";const K=new Uint8Array(14);crypto.getRandomValues(K);for(let Y=0;Y<14;Y++)$+=O[K[Y]%O.length];return $}return!e||!t?null:i.jsx(cr,{open:e,onOpenChange:O=>!O&&r(),children:i.jsxs(mr,{children:[i.jsx(ur,{className:ne.dialogOverlay}),i.jsxs(dr,{className:`${ne.dialogContent} ${ne.dialogContentWide} ${ne.dialogContentScrollable} ${ne.dialogShowDetailsGrid}`,children:[i.jsxs("div",{className:ne.dialogHeaderRow,children:[i.jsx(fr,{className:ne.dialogTitle,children:"Edit Podcast Details"}),i.jsx(dt,{asChild:!0,children:i.jsx("button",{type:"button",className:ne.dialogClose,"aria-label":"Close",disabled:I.isPending||q.isPending,children:i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":"true"})})})]}),i.jsx(kr,{className:ne.dialogDescription,children:"Update the podcast title, slug, and other feed details."}),o&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:ne.editDetailsTabSelectWrap,children:i.jsxs("select",{className:ne.editDetailsTabSelect,value:A,onChange:O=>k(O.target.value),"aria-label":"Jump to section",children:[i.jsx("option",{value:"overview",children:"Overview"}),i.jsx("option",{value:"author",children:"Author"}),i.jsx("option",{value:"categories",children:"Categories"}),i.jsx("option",{value:"distribution",children:"Distribution"}),i.jsx("option",{value:"more",children:"More"})]})}),i.jsx("div",{className:ne.editDetailsTabs,role:"tablist","aria-label":"Edit sections",onKeyDown:O=>{const $=["overview","author","categories","distribution","more"],K=$.indexOf(A);O.key==="ArrowLeft"&&K>0?(O.preventDefault(),k($[K-1])):O.key==="ArrowRight"&&K<$.length-1&&(O.preventDefault(),k($[K+1]))},children:["overview","author","categories","distribution","more"].map(O=>i.jsx("button",{type:"button",role:"tab",tabIndex:A===O?0:-1,"aria-selected":A===O,"aria-controls":`edit-details-panel-${O}`,id:`edit-details-tab-${O}`,className:`${ne.editDetailsTab} ${A===O?ne.editDetailsTabActive:""}`,onClick:()=>k(O),children:O==="overview"?"Overview":O==="author"?"Author":O==="categories"?"Categories":O==="distribution"?"Distribution":"More"},O))})]}),i.jsx("div",{className:ne.dialogBodyScroll,children:u&&!o?i.jsx("p",{style:{padding:"1.5rem",color:"var(--text-muted)",margin:0},children:"Loading..."}):o?i.jsxs("form",{id:"edit-show-details-form",onSubmit:z,className:ne.form,children:[i.jsx("div",{role:"tabpanel",id:"edit-details-panel-overview","aria-labelledby":"edit-details-tab-overview",className:`${ne.editDetailsTabPanel} ${A==="overview"?ne.editDetailsTabPanelActive:""}`,children:i.jsxs("div",{className:ne.overviewFieldsStack,children:[i.jsxs("label",{className:ne.label,children:["Title",i.jsx("input",{type:"text",value:c.title??"",onChange:O=>p($=>({...$,title:O.target.value})),className:ne.input,placeholder:"e.g. My Awesome Podcast",required:!0})]}),i.jsxs("label",{className:ne.label,children:["Slug",i.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center",flexWrap:"wrap"},children:[i.jsx("input",{type:"text",value:c.slug??"",onChange:O=>p($=>({...$,slug:O.target.value})),className:ne.input,placeholder:"e.g. my-awesome-podcast",style:{flex:"1 1 200px"},disabled:c.unlisted!==1&&(a==null?void 0:a.role)!=="admin"}),c.unlisted===1&&i.jsx("button",{type:"button",className:ne.gearBtn,onClick:()=>p(O=>({...O,slug:M()})),"aria-label":"Regenerate secret slug",children:"Regenerate secret slug"})]}),c.unlisted===1&&i.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginTop:"0.25rem",marginLeft:"0"},children:"Unlisted shows can use a secret slug; only people with the link can find the feed."})]}),i.jsxs("label",{className:"toggle","aria-describedby":"unlisted-desc",children:[i.jsx("input",{type:"checkbox",checked:c.unlisted===1,onChange:O=>p($=>({...$,unlisted:O.target.checked?1:0}))}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Unlisted"})]}),i.jsx("p",{id:"unlisted-desc",style:{fontSize:"0.75rem",color:"var(--text-muted)",margin:"0.25rem 0 0 0"},children:"Unlisted shows do not appear on the public /feed page or in the sitemap. Use a secret slug to share the feed link only with subscribers."}),i.jsxs("label",{className:"toggle","aria-describedby":"subscribers-enabled-desc",children:[i.jsx("input",{type:"checkbox",checked:c.subscriber_only_feed_enabled===1,onChange:O=>{const $=O.target.checked;p(K=>({...K,subscriber_only_feed_enabled:$?1:0,...$?{}:{public_feed_disabled:0}}))}}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Subscribers Enabled"})]}),i.jsx("p",{id:"subscribers-enabled-desc",style:{fontSize:"0.75rem",color:"var(--text-muted)",margin:"0.25rem 0 0 0"},children:"Allow adding subscribers and sharing a private feed link. Subscribers can see episodes that include subscriber-only ones when using their link."}),c.subscriber_only_feed_enabled===1&&i.jsxs(i.Fragment,{children:[i.jsxs("label",{className:"toggle","aria-describedby":"subscriber-only-desc",children:[i.jsx("input",{type:"checkbox",checked:c.public_feed_disabled===1,onChange:O=>p($=>({...$,public_feed_disabled:O.target.checked?1:0}))}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Subscriber Only"})]}),i.jsx("p",{id:"subscriber-only-desc",style:{fontSize:"0.75rem",color:"var(--text-muted)",margin:"0.25rem 0 0 0"},children:"When on, the public feed does not load at all. The show is only available to people with a subscriber link."})]}),i.jsxs("label",{className:ne.label,children:["Description",i.jsx("textarea",{ref:R,value:c.description??"",onChange:O=>p($=>({...$,description:O.target.value})),className:ne.textarea,rows:2,style:{overflow:"hidden",resize:"none"},placeholder:"What your show is about. Shown in podcast apps and directories."})]}),i.jsxs("label",{className:ne.label,children:["Subtitle",i.jsx("input",{type:"text",value:c.subtitle??"",onChange:O=>p($=>({...$,subtitle:O.target.value.trim()||null})),className:ne.input,placeholder:"e.g. A weekly show about technology"})]}),i.jsxs("label",{className:ne.label,children:["Summary",i.jsx("textarea",{ref:D,value:c.summary??"",onChange:O=>{const $=O.target.value;p(K=>({...K,summary:$.trim()===""?null:$}))},className:ne.textarea,rows:2,style:{overflow:"hidden",resize:"none"},placeholder:"Extended description for podcast apps (optional)"})]}),i.jsxs("label",{className:ne.label,children:["Cover",i.jsxs("div",{className:ne.coverImageWrap,children:[(f==="url"?S&&(S.startsWith("http://")||S.startsWith("https://")):b||o!=null&&o.artwork_filename)?i.jsx("img",{src:NZ(f==="url"?S:j??(o!=null&&o.artwork_filename&&t?`/api/podcasts/${t}/artwork/${encodeURIComponent(o.artwork_filename)}`:"")),alt:"",className:ne.coverImagePreview},f==="url"?`url-${S}`:`upload-${(o==null?void 0:o.artwork_filename)??""}-${!!j}`):i.jsx("div",{className:ne.coverImagePreviewPlaceholder,children:i.jsx(WF,{size:28,"aria-hidden":!0})}),i.jsxs("div",{className:ne.coverImageControls,children:[i.jsxs("div",{className:ne.coverSourceToggle,role:"group","aria-label":"Cover image source",children:[i.jsx("button",{type:"button",className:f==="url"?ne.coverSourceToggleActive:ne.coverSourceToggleBtn,onClick:()=>m("url"),"aria-pressed":f==="url","aria-label":"Cover image from URL",children:"URL"}),i.jsx("button",{type:"button",className:f==="upload"?ne.coverSourceToggleActive:ne.coverSourceToggleBtn,onClick:()=>m("upload"),"aria-pressed":f==="upload","aria-label":"Upload cover image",children:"Upload"})]}),f==="url"?i.jsx("input",{type:"url",value:c.artwork_url??"",onChange:O=>{const $=O.target.value.trim();p(K=>({...K,artwork_url:$===""?null:$}))},className:ne.input,placeholder:"https://..."}):i.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/webp",className:ne.coverFileInput,onChange:O=>{var K;const $=(K=O.target.files)==null?void 0:K[0];$&&_($)},disabled:I.isPending,"aria-label":"Choose cover image"},y),f==="upload"&&b&&i.jsxs("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",margin:0},children:[b.name," will be uploaded when you save."]}),f==="upload"&&q.isError&&i.jsx("p",{className:ne.error,style:{margin:0,marginTop:"0.25rem"},children:(F=q.error)==null?void 0:F.message}),f==="url"&&i.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",margin:"0.25rem 0 0 0"},children:"Public URL (optional)"}),f==="upload"&&i.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",margin:"0.25rem 0 0 0"},children:"JPG, PNG or WebP, max 5MB"})]})]})]})]})}),i.jsx("div",{role:"tabpanel",id:"edit-details-panel-author","aria-labelledby":"edit-details-tab-author",className:`${ne.editDetailsTabPanel} ${A==="author"?ne.editDetailsTabPanelActive:""}`,children:i.jsxs("div",{className:ne.tabPanelFields,children:[i.jsxs("label",{className:ne.label,children:["Author Name",i.jsx("input",{type:"text",value:c.author_name??"",onChange:O=>p($=>({...$,author_name:O.target.value})),className:ne.input,placeholder:"e.g. Jane Smith"})]}),i.jsxs("label",{className:ne.label,children:["Owner Name",i.jsx("input",{type:"text",value:c.owner_name??"",onChange:O=>p($=>({...$,owner_name:O.target.value})),className:ne.input,placeholder:"e.g. Jane Smith or Company Name"})]}),i.jsxs("label",{className:ne.label,children:["Email",i.jsx("input",{type:"email",value:c.email??"",onChange:O=>p($=>({...$,email:O.target.value})),className:ne.input,placeholder:"e.g. contact@example.com"})]})]})}),i.jsx("div",{role:"tabpanel",id:"edit-details-panel-categories","aria-labelledby":"edit-details-tab-categories",className:`${ne.editDetailsTabPanel} ${A==="categories"?ne.editDetailsTabPanelActive:""}`,children:i.jsxs("div",{className:ne.tabPanelFields,children:[i.jsxs("label",{className:ne.label,children:["Primary Category",i.jsx("input",{type:"text",value:c.category_primary??"",onChange:O=>{const $=O.target.value;p(K=>({...K,category_primary:$,...$.trim()?{}:{category_secondary:null}}))},className:ne.input,placeholder:"e.g. Technology"})]}),i.jsxs("label",{className:ne.label,children:["Secondary Category",i.jsx("input",{type:"text",value:c.category_secondary??"",onChange:O=>p($=>({...$,category_secondary:($.category_primary??"").trim()&&O.target.value||null})),className:ne.input,placeholder:"e.g. Technology News",disabled:!(c.category_primary??"").trim()}),i.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",margin:"0.25rem 0 0 0"},children:"Optional subcategory (e.g. Technology News under Technology)"})]}),i.jsxs("label",{className:ne.label,children:["Primary Category 2",i.jsx("input",{type:"text",value:c.category_primary_two??"",onChange:O=>{const $=O.target.value||null;p(K=>({...K,category_primary_two:$,...($??"").trim()?{}:{category_secondary_two:null}}))},className:ne.input,placeholder:"e.g. Arts"})]}),i.jsxs("label",{className:ne.label,children:["Secondary Category 2",i.jsx("input",{type:"text",value:c.category_secondary_two??"",onChange:O=>p($=>({...$,category_secondary_two:($.category_primary_two??"").trim()&&O.target.value||null})),className:ne.input,placeholder:"e.g. Visual Arts",disabled:!(c.category_primary_two??"").trim()})]}),i.jsxs("label",{className:ne.label,children:["Primary Category 3",i.jsx("input",{type:"text",value:c.category_primary_three??"",onChange:O=>{const $=O.target.value||null;p(K=>({...K,category_primary_three:$,...($??"").trim()?{}:{category_secondary_three:null}}))},className:ne.input,placeholder:"e.g. Leisure"})]}),i.jsxs("label",{className:ne.label,children:["Secondary Category 3",i.jsx("input",{type:"text",value:c.category_secondary_three??"",onChange:O=>p($=>({...$,category_secondary_three:($.category_primary_three??"").trim()&&O.target.value||null})),className:ne.input,placeholder:"e.g. Hobbies",disabled:!(c.category_primary_three??"").trim()})]})]})}),i.jsx("div",{role:"tabpanel",id:"edit-details-panel-distribution","aria-labelledby":"edit-details-tab-distribution",className:`${ne.editDetailsTabPanel} ${A==="distribution"?ne.editDetailsTabPanelActive:""}`,children:i.jsxs("div",{className:ne.tabPanelFields,children:[i.jsxs("label",{className:ne.label,children:["Site URL",i.jsx("input",{type:"url",value:c.site_url??"",onChange:O=>p($=>({...$,site_url:O.target.value||null})),className:ne.input,placeholder:"e.g. https://myshow.com"})]}),i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:!!c.explicit,onChange:O=>p($=>({...$,explicit:O.target.checked?1:0}))}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Explicit"})]}),i.jsxs("label",{className:ne.label,children:["Copyright",i.jsx("input",{type:"text",value:c.copyright??"",onChange:O=>p($=>({...$,copyright:O.target.value||null})),className:ne.input,placeholder:"e.g. Copyright 2026"})]}),i.jsxs("label",{className:ne.label,children:["License",i.jsx("input",{type:"text",value:c.license??"",onChange:O=>p($=>({...$,license:O.target.value||null})),className:ne.input,placeholder:"e.g. All rights reserved"})]}),(o==null?void 0:o.my_role)==="owner"&&o.dns_config&&(o.dns_config.allow_linking_domain||o.dns_config.allow_domain||o.dns_config.allow_sub_domain&&!!o.dns_config.default_domain)&&i.jsxs(i.Fragment,{children:[i.jsx("h3",{className:ne.dialogSectionTitle,children:"DNS & Custom Domain"}),o.dns_config.allow_linking_domain&&i.jsxs("label",{className:ne.label,children:["Link Domain",i.jsx("input",{type:"text",value:c.link_domain??"",onChange:O=>{const $=O.target.value.trim()||null;p(K=>({...K,link_domain:$})),N&&$&&!$.toLowerCase().startsWith("http://")&&!$.toLowerCase().startsWith("https://")&&P(null)},onBlur:()=>{const O=(c.link_domain??"").trim();O&&(O.toLowerCase().startsWith("http://")||O.toLowerCase().startsWith("https://"))&&P("Use hostname only (no http:// or https://).")},className:ne.input,placeholder:"e.g. feed.myshow.com","aria-invalid":!!N,"aria-describedby":N?"link-domain-error":void 0}),N?i.jsx("p",{id:"link-domain-error",style:{fontSize:"0.75rem",color:"var(--error)",marginTop:"0.25rem",marginLeft:"0"},role:"alert",children:N}):i.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginTop:"0.25rem",marginLeft:"0"},children:"Hostname only (no https://). Requests to this host redirect to your public feed."})]}),o.dns_config.allow_domain&&i.jsxs("label",{className:ne.label,children:["Managed Domain",(B=o.dns_config.allow_domains)!=null&&B.length?i.jsxs("select",{value:c.managed_domain??"",onChange:O=>p($=>({...$,managed_domain:O.target.value||null})),className:ne.input,children:[i.jsx("option",{value:"",children:"-"}),o.dns_config.allow_domains.map(O=>i.jsx("option",{value:O,children:O},O))]}):i.jsx("input",{type:"text",value:c.managed_domain??"",onChange:O=>p($=>({...$,managed_domain:O.target.value.trim()||null})),className:ne.input,placeholder:"e.g. example.com"})]}),o.dns_config.allow_domain&&o.dns_config.allow_custom_key&&i.jsxs("label",{className:ne.label,children:["CloudFlare API Key (Optional)",i.jsx("input",{type:"password",value:c.cloudflare_api_key??"",onChange:O=>p($=>({...$,cloudflare_api_key:O.target.value||void 0})),className:ne.input,placeholder:c.cloudflare_api_key_set?"(leave blank to keep current)":"Enter API token",autoComplete:"off"})]}),o.dns_config.allow_sub_domain&&o.dns_config.default_domain&&i.jsxs("label",{className:ne.label,children:["Managed Sub-Domain",i.jsx("input",{type:"text",value:c.managed_sub_domain??"",onChange:O=>{const $=O.target.value.replace(/[^a-zA-Z0-9-]/g,"").trim()||null;p(K=>({...K,managed_sub_domain:$}))},className:ne.input,placeholder:`e.g. www, myshow ( myshow.${o.dns_config.default_domain})`}),i.jsxs("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginTop:"0.25rem",marginLeft:"0"},children:["Sub-domain under ",o.dns_config.default_domain,". Letters, numbers, and hyphens only."]})]})]})]})}),i.jsx("div",{role:"tabpanel",id:"edit-details-panel-more","aria-labelledby":"edit-details-tab-more",className:`${ne.editDetailsTabPanel} ${A==="more"?ne.editDetailsTabPanelActive:""}`,children:i.jsxs("div",{id:"edit-show-advanced-fields",className:ne.advancedFields,children:[i.jsxs("label",{className:ne.label,children:["Podcast GUID",i.jsx("input",{type:"text",value:c.podcast_guid??"",onChange:O=>p($=>({...$,podcast_guid:O.target.value||null})),className:ne.input,placeholder:"Leave blank to auto-generate"}),i.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",margin:"0.25rem 0 0 0"},children:"Unique identifier for your podcast feed. Only change if you need to keep an existing ID."})]}),i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:!!c.locked,onChange:O=>p($=>({...$,locked:O.target.checked?1:0}))}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Locked (Prevent Other Platforms From Importing)"})]}),i.jsxs("label",{className:ne.label,children:["Episode order",i.jsx("div",{className:ne.statusToggle,role:"group","aria-label":"Episode order",children:["episodic","serial"].map(O=>i.jsx("button",{type:"button",className:(c.itunes_type??"episodic")===O?ne.statusToggleActive:ne.statusToggleBtn,onClick:()=>p($=>({...$,itunes_type:O})),"aria-pressed":(c.itunes_type??"episodic")===O,"aria-label":O==="episodic"?"Episodic":"Serial",children:O==="episodic"?"Episodic":"Serial"},O))}),i.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",margin:"0.25rem 0 0 0"},children:"Episodic: episodes can be listened to in any order. Serial: episodes should be listened to in order."})]}),i.jsxs("label",{className:ne.label,children:["Medium",i.jsxs("select",{value:c.medium??"podcast",onChange:O=>p($=>({...$,medium:O.target.value})),className:ne.input,children:[i.jsx("option",{value:"podcast",children:"Podcast"}),i.jsx("option",{value:"music",children:"Music"}),i.jsx("option",{value:"video",children:"Video"}),i.jsx("option",{value:"film",children:"Film"}),i.jsx("option",{value:"audiobook",children:"Audiobook"}),i.jsx("option",{value:"newsletter",children:"Newsletter"}),i.jsx("option",{value:"blog",children:"Blog"})]})]}),i.jsxs("label",{className:ne.label,children:["Funding URL",i.jsx("input",{type:"url",value:c.funding_url??"",onChange:O=>p($=>({...$,funding_url:O.target.value.trim()||null})),className:ne.input,placeholder:"e.g. https://patreon.com/myshow"})]}),i.jsxs("label",{className:ne.label,children:["Funding Label",i.jsx("input",{type:"text",value:c.funding_label??"",onChange:O=>p($=>({...$,funding_label:O.target.value.trim()||null})),className:ne.input,placeholder:"e.g. Support the show"})]}),i.jsxs("label",{className:ne.label,children:["Hosts and contributors",i.jsx("input",{type:"text",value:(()=>{try{const O=c.persons;if(!O)return"";const $=JSON.parse(O);return Array.isArray($)?$.map(K=>String(K)).join(", "):O}catch{return c.persons??""}})(),onChange:O=>{const $=O.target.value.trim();if(!$){p(Y=>({...Y,persons:null}));return}const K=$.split(",").map(Y=>Y.trim()).filter(Boolean);p(Y=>({...Y,persons:K.length?JSON.stringify(K):null}))},className:ne.input,placeholder:"e.g. Jane Smith, John Doe"})]}),i.jsxs("label",{className:ne.label,children:["Update schedule (Spotify)",i.jsx("input",{type:"text",value:c.update_frequency_rrule??"",onChange:O=>p($=>({...$,update_frequency_rrule:O.target.value.trim()||null})),className:ne.input,placeholder:"e.g. FREQ=WEEKLY or FREQ=DAILY"})]}),i.jsxs("label",{className:ne.label,children:["Update schedule label (Spotify)",i.jsx("input",{type:"text",value:c.update_frequency_label??"",onChange:O=>p($=>({...$,update_frequency_label:O.target.value.trim()||null})),className:ne.input,placeholder:"e.g. Weekly or Daily"})]}),i.jsxs("label",{className:ne.label,children:["Spotify Recent Count",i.jsx("input",{type:"number",min:0,value:c.spotify_recent_count??"",onChange:O=>{const $=O.target.value,K=$===""?null:parseInt($,10);p(Y=>({...Y,spotify_recent_count:K!=null&&!Number.isNaN(K)&&K>=0?K:null}))},className:ne.input,placeholder:"e.g. 150"})]}),i.jsxs("label",{className:ne.label,children:["Spotify country of origin",i.jsx("input",{type:"text",value:c.spotify_country_of_origin??"",onChange:O=>p($=>({...$,spotify_country_of_origin:O.target.value.trim()||null})),className:ne.input,placeholder:"e.g. US"})]}),i.jsxs("label",{className:ne.label,children:["Apple Podcasts verification code",i.jsx("input",{type:"text",value:c.apple_podcasts_verify??"",onChange:O=>p($=>({...$,apple_podcasts_verify:O.target.value.trim()||null})),className:ne.input,placeholder:"From Apple Podcasts Connect"})]})]})}),I.isError&&i.jsx("p",{className:ne.error,children:I.error instanceof Error?I.error.message:JSON.stringify(I.error)}),I.isSuccess&&i.jsx("p",{className:ne.success,children:"Saved."})]}):null}),o&&i.jsxs("div",{className:`${ne.dialogFooter} ${ne.dialogFooterCancelLeft}`,children:[i.jsx("button",{type:"button",className:ne.cancel,onClick:r,"aria-label":"Cancel editing show",children:"Cancel"}),i.jsx("button",{type:"submit",form:"edit-show-details-form",className:ne.dialogConfirm,disabled:I.isPending||q.isPending,"aria-label":"Save show changes",children:q.isPending?"Uploading...":I.isPending?"Saving...":"Save"})]})]})]})})}const EZ="_importDialogOverlay_awt3f_3",TZ="_importDialogContent_awt3f_16",PZ="_importDialogHeaderRow_awt3f_32",AZ="_importDialogTitle_awt3f_40",RZ="_importDialogClose_awt3f_50",OZ="_importDialogDescription_awt3f_76",DZ="_importDialogForm_awt3f_83",MZ="_importDialogLabel_awt3f_89",LZ="_importDialogInput_awt3f_98",IZ="_importDialogErrorCard_awt3f_122",$Z="_importDialogError_awt3f_122",BZ="_importDialogActions_awt3f_135",zZ="_importDialogSecondary_awt3f_142",FZ="_importDialogPrimary_awt3f_159",qZ="_importDialogProgress_awt3f_181",UZ="_importDialogProgressText_awt3f_189",HZ="_loadingSpinner_awt3f_195",En={importDialogOverlay:EZ,importDialogContent:TZ,importDialogHeaderRow:PZ,importDialogTitle:AZ,importDialogClose:RZ,importDialogDescription:OZ,importDialogForm:DZ,importDialogLabel:MZ,importDialogInput:LZ,importDialogErrorCard:IZ,importDialogError:$Z,importDialogActions:BZ,importDialogSecondary:zZ,importDialogPrimary:FZ,importDialogProgress:qZ,importDialogProgressText:UZ,loadingSpinner:HZ},WZ=5e3;function KZ({open:e,initialPodcastId:t,onClose:r}){const n=Bt(),a=xi(),[o,u]=v.useState(""),[c,p]=v.useState("idle"),[h,f]=v.useState(null),[m,b]=v.useState(null),_=v.useRef(null),j=v.useRef(null);v.useEffect(()=>{if(!e){p("idle"),f(null),b(null),_.current=null,j.current&&(clearInterval(j.current),j.current=null);return}t!=null&&t.trim()&&(_.current=t.trim(),p("polling"),b("Importing"))},[e,t]),v.useEffect(()=>{if(c!=="polling"||!_.current)return;const x=()=>{hQ(_.current).then(S=>{if(b(S.message??null),S.status==="done"){j.current&&(clearInterval(j.current),j.current=null),n.invalidateQueries({queryKey:["podcasts"]}),r();const T=_.current;T&&a(`/podcasts/${T}`)}else S.status==="failed"&&(j.current&&(clearInterval(j.current),j.current=null),f(S.error??"Import failed"),p("idle"))}).catch(()=>{})};return x(),j.current=setInterval(x,WZ),()=>{j.current&&(clearInterval(j.current),j.current=null)}},[c,r,n,a]);async function w(x){x.preventDefault();const S=o.trim();if(!S){f("Enter a feed URL");return}f(null),p("submitting");try{const{podcast_id:T}=await pQ(S);_.current=T,p("polling"),b("Starting import")}catch(T){const N=T&&typeof T=="object"&&"status"in T&&T.status===409?"You already have an import in progress. Wait for it to finish or refresh the page to see its status.":T instanceof Error?T.message:"Import failed";f(N),p("idle")}}if(!e)return null;const y=c==="idle";return i.jsx(cr,{open:e,onOpenChange:x=>!x&&y&&r(),children:i.jsxs(mr,{children:[i.jsx(ur,{className:En.importDialogOverlay}),i.jsxs(dr,{className:En.importDialogContent,children:[i.jsxs("div",{className:En.importDialogHeaderRow,children:[i.jsx(fr,{className:En.importDialogTitle,children:"Import Podcast"}),i.jsx(dt,{asChild:!0,children:i.jsx("button",{type:"button",className:En.importDialogClose,"aria-label":"Close",disabled:!y,children:i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":"true"})})})]}),i.jsx(kr,{className:En.importDialogDescription,children:"Enter the RSS or Atom feed URL of the podcast you want to import. Episodes will be downloaded and added as a new show."}),i.jsxs("form",{onSubmit:w,className:En.importDialogForm,children:[(y||h)&&i.jsxs(i.Fragment,{children:[i.jsxs("label",{className:En.importDialogLabel,children:["Feed URL",i.jsx("input",{type:"url",value:o,onChange:x=>u(x.target.value),className:En.importDialogInput,placeholder:"https://example.com/feed.xml",disabled:!y,autoFocus:!0})]}),h&&i.jsx("div",{className:En.importDialogErrorCard,role:"alert",children:i.jsx("p",{className:En.importDialogError,children:h})}),i.jsxs("div",{className:En.importDialogActions,children:[i.jsx("button",{type:"button",className:En.importDialogSecondary,onClick:r,children:"Cancel"}),i.jsx("button",{type:"submit",className:En.importDialogPrimary,disabled:!y||!o.trim(),children:"Import"})]})]}),(c==="submitting"||c==="polling")&&!h&&i.jsxs("div",{className:En.importDialogProgress,children:[i.jsx("div",{className:En.loadingSpinner,"aria-hidden":"true"}),i.jsx("p",{className:En.importDialogProgressText,children:c==="submitting"?"Importing":m??"Importing"})]})]})]})]})})}const GZ=300;function VZ(){const[e,t]=v.useState(""),[r,n]=v.useState(""),[a,o]=v.useState(!0);return v.useEffect(()=>{if(e.trim()===""){n("");return}const u=window.setTimeout(()=>{n(e.trim())},GZ);return()=>window.clearTimeout(u)},[e]),{searchQuery:e,searchDebounced:r,setSearchQuery:t,sortNewestFirst:a,setSortNewestFirst:o}}const Yh="/api";function YZ(e=1,t=50,r){const n=new URLSearchParams;return n.set("page",String(e)),n.set("limit",String(t)),r&&n.set("search",r),fetch(`${Yh}/users?${n.toString()}`,{method:"GET",credentials:"include"}).then(a=>a.ok?a.json():a.json().then(o=>{throw new Error(o.error??a.statusText)}))}function h6(e){return fetch(`${Yh}/users/${e}`,{method:"GET",credentials:"include"}).then(t=>t.ok?t.json():t.json().then(r=>{throw new Error(r.error??t.statusText)}))}function QZ(e,t){return fetch(`${Yh}/users/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json",...tr()},credentials:"include",body:JSON.stringify(t)}).then(r=>r.ok?r.json():r.json().then(n=>{throw new Error(n.error??r.statusText)}))}function XZ(e){return fetch(`${Yh}/users`,{method:"POST",headers:{"Content-Type":"application/json",...tr()},credentials:"include",body:JSON.stringify({email:e.email,password:e.password,role:e.role??"user"})}).then(t=>t.ok?t.json():t.json().then(r=>{throw new Error(r.error??t.statusText)}))}function ZZ(e){return fetch(`${Yh}/users/${e}`,{method:"DELETE",credentials:"include",headers:tr()}).then(t=>t.ok?t.json():t.json().then(r=>{throw new Error(r.error??t.statusText)}))}const Ac=10;function JZ({userId:e,page:t,searchDebounced:r,sortNewestFirst:n}){var f,m;const a=!!e,o=De({queryKey:["user",e],queryFn:()=>h6(e),enabled:!!e}),u=De({queryKey:["podcasts",e,t,r,n?"newest":"oldest"],queryFn:()=>e?aQ(e,{limit:Ac,offset:(t-1)*Ac,q:r||void 0,sort:n?"newest":"oldest"}):nQ({limit:Ac,offset:(t-1)*Ac,q:r||void 0,sort:n?"newest":"oldest"})}),c=De({queryKey:["me"],queryFn:Si,enabled:!a}),p=De({queryKey:["publicConfig",typeof window<"u"?window.location.host:""],queryFn:uu,staleTime:1e4}),h=De({queryKey:["activeImport"],queryFn:mQ,enabled:!a,refetchInterval:b=>{const _=b.state.data;return(_==null?void 0:_.status)==="pending"||(_==null?void 0:_.status)==="importing"?5e3:!1},refetchIntervalInBackground:!1,gcTime:0});return{selectedUser:o.data,podcasts:((f=u.data)==null?void 0:f.podcasts)??[],total:((m=u.data)==null?void 0:m.total)??0,isLoading:u.isLoading,isFetching:u.isFetching,isError:u.isError,meData:c.data,publicConfig:p.data,activeImport:h.data,podcastsData:u.data}}const eJ="_header_b1sx8_2",tJ="_headerLeft_b1sx8_11",rJ="_title_b1sx8_15",nJ="_subtitle_b1sx8_24",aJ="_createBtn_b1sx8_31",iJ="_createBtnDisabled_b1sx8_60",Zs={header:eJ,headerLeft:tJ,title:rJ,subtitle:nJ,createBtn:aJ,createBtnDisabled:iJ};function sJ({isAdminView:e,selectedUser:t,total:r,readOnly:n,atPodcastLimit:a}){return i.jsxs("header",{className:Zs.header,children:[i.jsxs("div",{className:Zs.headerLeft,children:[i.jsx("h1",{className:Zs.title,children:e?`Podcasts (${(t==null?void 0:t.email)??"Loading..."})`:"Your shows"}),i.jsx("p",{className:Zs.subtitle,children:r!=null&&r>0?`${r} show${r===1?"":"s"}  Manage and publish episodes`:"Manage your shows and publish episodes"})]}),!e&&(n?i.jsxs("span",{className:`${Zs.createBtn} ${Zs.createBtnDisabled}`,title:"Read-only account",children:[i.jsx(Qr,{size:18,strokeWidth:2.5}),"New Show"]}):a?i.jsxs("span",{className:`${Zs.createBtn} ${Zs.createBtnDisabled}`,title:"You're at max shows",children:[i.jsx(Qr,{size:18,strokeWidth:2.5}),"New Show"]}):i.jsxs(Xe,{to:"/podcasts/new",className:Zs.createBtn,children:[i.jsx(Qr,{size:18,strokeWidth:2.5}),"New Show"]}))]})}const oJ="_controls_19274_2",lJ="_searchWrapper_19274_9",cJ="_searchIcon_19274_15",uJ="_searchInput_19274_24",dJ="_sortToggle_19274_45",fJ="_sortBtn_19274_53",pJ="_sortBtnActive_19274_54",Js={controls:oJ,searchWrapper:lJ,searchIcon:cJ,searchInput:uJ,sortToggle:dJ,sortBtn:fJ,sortBtnActive:pJ};function hJ({searchQuery:e,onSearchChange:t,sortNewestFirst:r,onSortChange:n}){return i.jsxs("div",{className:Js.controls,children:[i.jsxs("div",{className:Js.searchWrapper,children:[i.jsx(Dj,{className:Js.searchIcon,size:18,strokeWidth:2,"aria-hidden":!0}),i.jsx("input",{type:"search",className:Js.searchInput,placeholder:"Search by title, author, or description...",value:e,onChange:a=>t(a.target.value),"aria-label":"Search podcasts"})]}),i.jsxs("div",{className:Js.sortToggle,role:"group","aria-label":"Sort order",children:[i.jsxs("button",{type:"button",className:r?Js.sortBtnActive:Js.sortBtn,"aria-label":"Sort newest first",onClick:()=>n(!0),children:[i.jsx(Yd,{size:16,strokeWidth:2,"aria-hidden":!0}),"Newest"]}),i.jsxs("button",{type:"button",className:r?Js.sortBtn:Js.sortBtnActive,"aria-label":"Sort oldest first",onClick:()=>n(!1),children:[i.jsx(Qd,{size:16,strokeWidth:2,"aria-hidden":!0}),"Oldest"]})]})]})}function bb(e){return`/api/public/podcasts/${encodeURIComponent(e)}/rss`}function mJ(e,t){const n=new URLSearchParams().toString();return`/api/podcasts/${encodeURIComponent(e)}/rss-preview${n?`?${n}`:""}`}function gJ(e,t){return e?!1:t==="owner"||t==="manager"}const vJ="_card_1fzr6_2",yJ="_cardSubscriberOnly_1fzr6_12",bJ="_cardLink_1fzr6_25",_J="_cardArtworkWrapper_1fzr6_41",xJ="_cardArtwork_1fzr6_41",wJ="_cardArtworkPlaceholder_1fzr6_56",SJ="_cardBody_1fzr6_66",jJ="_cardTitleRow_1fzr6_74",CJ="_cardTitleLock_1fzr6_81",kJ="_cardTitleLockGold_1fzr6_86",NJ="_cardTitle_1fzr6_74",EJ="_cardSlug_1fzr6_107",TJ="_sharedBadge_1fzr6_119",PJ="_cardDesc_1fzr6_131",AJ="_cardArrow_1fzr6_142",RJ="_cardFooter_1fzr6_162",OJ="_cardActions_1fzr6_172",DJ="_cardSettings_1fzr6_181",MJ="_cardAction_1fzr6_172",LJ="_cardActionPrimary_1fzr6_183",IJ="_cardActionLabel_1fzr6_198",$J="_cardActionPrimaryDisabled_1fzr6_262",BJ="_cardActionDisabled_1fzr6_273",ht={card:vJ,cardSubscriberOnly:yJ,cardLink:bJ,cardArtworkWrapper:_J,cardArtwork:xJ,cardArtworkPlaceholder:wJ,cardBody:SJ,cardTitleRow:jJ,cardTitleLock:CJ,cardTitleLockGold:kJ,cardTitle:NJ,cardSlug:EJ,sharedBadge:TJ,cardDesc:PJ,cardArrow:AJ,cardFooter:RJ,cardActions:OJ,cardSettings:DJ,cardAction:MJ,cardActionPrimary:LJ,cardActionLabel:IJ,cardActionPrimaryDisabled:$J,cardActionDisabled:BJ};function zJ({podcast:e,isAdminView:t,readOnly:r,publicFeedsEnabled:n,onEditClick:a}){const o=e.my_role,u=gJ(r,o),c=e.max_episodes??null,p=Number(e.episode_count??0),h=c!=null&&c>0&&p>=Number(c);return i.jsxs("article",{className:e.public_feed_disabled===1?`${ht.card} ${ht.cardSubscriberOnly}`:ht.card,children:[i.jsxs(Xe,{to:`/podcasts/${e.id}`,className:ht.cardLink,children:[i.jsx("div",{className:ht.cardArtworkWrapper,children:e.artwork_url||e.artwork_filename?i.jsx("img",{src:e.artwork_url??(e.artwork_filename?`/api/podcasts/${e.id}/artwork/${encodeURIComponent(e.artwork_filename)}`:""),alt:"",className:ht.cardArtwork}):i.jsx("div",{className:ht.cardArtworkPlaceholder,children:i.jsx(ob,{size:32,strokeWidth:1.5})})}),i.jsxs("div",{className:ht.cardBody,children:[i.jsxs("div",{className:ht.cardTitleRow,children:[e.subscriber_only_feed_enabled===1&&i.jsx(Ps,{size:18,strokeWidth:2,className:e.public_feed_disabled===1?`${ht.cardTitleLock} ${ht.cardTitleLockGold}`:ht.cardTitleLock,"aria-hidden":!0}),i.jsx("h2",{className:ht.cardTitle,children:e.title})]}),i.jsxs("p",{className:ht.cardSlug,children:[e.slug,e.is_shared&&i.jsx("span",{className:ht.sharedBadge,title:"Shared with you",children:"Shared"})]}),e.description&&i.jsxs("p",{className:ht.cardDesc,children:[e.description.slice(0,120),e.description.length>120?"...":""]})]}),i.jsx("span",{className:ht.cardArrow,children:i.jsx(KM,{size:18,strokeWidth:2,"aria-hidden":"true"})})]}),i.jsx("div",{className:ht.cardFooter,children:i.jsxs("div",{className:ht.cardActions,children:[n?i.jsxs(Xe,{to:`/feed/${e.slug}`,className:ht.cardAction,"aria-label":`RSS feed for ${e.title}`,children:[i.jsx(Ss,{size:16,strokeWidth:2,"aria-hidden":!0}),i.jsx("span",{className:ht.cardActionLabel,children:"Feed"})]}):i.jsxs("a",{href:bb(e.slug),className:ht.cardAction,"aria-label":`RSS feed XML for ${e.title}`,children:[i.jsx(Ss,{size:16,strokeWidth:2,"aria-hidden":!0}),i.jsx("span",{className:ht.cardActionLabel,children:"Feed"})]}),!t&&i.jsx(i.Fragment,{children:u?i.jsxs("button",{type:"button",className:ht.cardSettings,"aria-label":`Edit show settings for ${e.title}`,onClick:f=>{f.preventDefault(),a(e.id)},children:[i.jsx(Xv,{size:16,strokeWidth:2,"aria-hidden":!0}),i.jsx("span",{className:ht.cardActionLabel,children:"Settings"})]}):i.jsxs("span",{className:`${ht.cardAction} ${ht.cardActionDisabled}`,title:o&&o!=="owner"&&o!=="manager"?"Only managers and the owner can edit show settings":"Read-only account",children:[i.jsx(Xv,{size:16,strokeWidth:2,"aria-hidden":!0}),i.jsx("span",{className:ht.cardActionLabel,children:"Settings"})]})}),i.jsxs(Xe,{to:`/podcasts/${e.id}/episodes`,className:ht.cardAction,"aria-label":`Episodes for ${e.title}`,children:[i.jsx(QM,{size:16,strokeWidth:2,"aria-hidden":!0}),i.jsx("span",{className:ht.cardActionLabel,children:"Episodes"})]}),!t&&i.jsx(i.Fragment,{children:r?i.jsxs("span",{className:`${ht.cardActionPrimary} ${ht.cardActionPrimaryDisabled}`,title:"Read-only account",children:[i.jsx(Fg,{size:16,strokeWidth:2,"aria-hidden":!0}),i.jsx("span",{className:ht.cardActionLabel,children:"New Episode"})]}):!o||o!=="owner"&&o!=="manager"?i.jsxs("span",{className:`${ht.cardActionPrimary} ${ht.cardActionPrimaryDisabled}`,title:"Only managers and the owner can create episodes","aria-label":"New episode (view or editor)",children:[i.jsx(Fg,{size:16,strokeWidth:2,"aria-hidden":!0}),i.jsx("span",{className:ht.cardActionLabel,children:"New Episode"})]}):h?i.jsxs("span",{className:`${ht.cardActionPrimary} ${ht.cardActionPrimaryDisabled}`,title:"You're at max episodes for this show","aria-label":"New episode (at limit)",children:[i.jsx(Fg,{size:16,strokeWidth:2,"aria-hidden":!0}),i.jsx("span",{className:ht.cardActionLabel,children:"New Episode"})]}):i.jsxs(Xe,{to:`/podcasts/${e.id}/episodes/new`,className:ht.cardActionPrimary,"aria-label":`Create new episode for ${e.title}`,children:[i.jsx(Fg,{size:16,strokeWidth:2,"aria-hidden":!0}),i.jsx("span",{className:ht.cardActionLabel,children:"New Episode"})]})})]})})]},e.id)}const FJ="_paginationWrap_mcscc_1",qJ="_paginationMeta_mcscc_8",UJ="_pagination_mcscc_1",HJ="_pageBtn_mcscc_23",WJ="_pageInfo_mcscc_45",nd={paginationWrap:FJ,paginationMeta:qJ,pagination:UJ,pageBtn:HJ,pageInfo:WJ};function KJ({rangeStart:e,rangeEnd:t,total:r,searchQuery:n,page:a,totalPages:o,onPageChange:u}){return r===0?null:i.jsxs("div",{className:nd.paginationWrap,children:[i.jsxs("p",{className:nd.paginationMeta,children:["Showing ",e,"",t," of ",r," shows",n.trim()&&` matching "${n.trim()}"`]}),o>1&&i.jsxs("div",{className:nd.pagination,children:[i.jsx("button",{type:"button",className:nd.pageBtn,onClick:()=>u(Math.max(1,a-1)),disabled:a<=1,"aria-label":"Previous page",children:"Previous"}),i.jsxs("span",{className:nd.pageInfo,children:["Page ",a," of ",o]}),i.jsx("button",{type:"button",className:nd.pageBtn,onClick:()=>u(Math.min(o,a+1)),disabled:a>=o,"aria-label":"Next page",children:"Next"})]})]})}const GJ="_importCard_1tn0r_2",VJ="_importCardRow_1tn0r_28",YJ="_importCardHeader_1tn0r_36",QJ="_importCardTitle_1tn0r_41",XJ="_importCardSub_1tn0r_48",ZJ="_importCardBtn_1tn0r_54",ad={importCard:GJ,importCardRow:VJ,importCardHeader:YJ,importCardTitle:QJ,importCardSub:XJ,importCardBtn:ZJ};function JJ({onImportClick:e}){return i.jsx("section",{className:ad.importCard,"aria-label":"Import podcast",children:i.jsxs("div",{className:ad.importCardRow,children:[i.jsxs("div",{className:ad.importCardHeader,children:[i.jsx("h2",{className:ad.importCardTitle,children:"Import Podcast"}),i.jsx("p",{className:ad.importCardSub,children:"Add an existing show from its RSS or Atom feed. Episodes will be downloaded and added to a new show."})]}),i.jsxs("button",{type:"button",className:ad.importCardBtn,onClick:e,"aria-label":"Open import podcast dialog",children:[i.jsx(Vv,{size:20,strokeWidth:2,"aria-hidden":!0}),"Import"]})]})})}const eee="_empty_en1x7_2",tee="_emptyIcon_en1x7_16",ree="_emptyTitle_en1x7_29",nee="_emptyMessage_en1x7_36",aee="_emptyBtn_en1x7_44",iee="_emptyBtnDisabled_en1x7_67",eo={empty:eee,emptyIcon:tee,emptyTitle:ree,emptyMessage:nee,emptyBtn:aee,emptyBtnDisabled:iee};function see({isAdminView:e,readOnly:t,atPodcastLimit:r}){return i.jsxs("div",{className:eo.empty,children:[i.jsx("div",{className:eo.emptyIcon,children:i.jsx(ob,{size:40,strokeWidth:1.5})}),i.jsx("h2",{className:eo.emptyTitle,children:"No podcasts yet"}),i.jsx("p",{className:eo.emptyMessage,children:"Create your first show to get started publishing episodes."}),!e&&(t?i.jsxs("span",{className:`${eo.emptyBtn} ${eo.emptyBtnDisabled}`,title:"Read-only account",children:[i.jsx(Qr,{size:18,strokeWidth:2.5}),"Create Your First Show"]}):r?i.jsxs("span",{className:`${eo.emptyBtn} ${eo.emptyBtnDisabled}`,title:"You're at max shows",children:[i.jsx(Qr,{size:18,strokeWidth:2.5}),"Create Your First Show"]}):i.jsxs(Xe,{to:"/podcasts/new",className:eo.emptyBtn,children:[i.jsx(Qr,{size:18,strokeWidth:2.5}),"Create Your First Show"]}))]})}const oee="_card_gn1aj_1",lee="_title_gn1aj_10",cee="_message_gn1aj_17",G1={card:oee,title:lee,message:cee};function tf({title:e,message:t="Please try refreshing the page."}){return i.jsxs("div",{className:G1.card,children:[i.jsx("p",{className:G1.title,children:e}),i.jsx("p",{className:G1.message,children:t})]})}const uee="_dashboard_1axsn_1",dee="_loading_1axsn_8",fee="_loadingSpinner_1axsn_19",pee="_searchingIndicator_1axsn_32",hee="_searchingSpinner_1axsn_45",mee="_noMatch_1axsn_54",gee="_noMatchText_1axsn_62",vee="_grid_1axsn_69",gl={dashboard:uee,loading:dee,loadingSpinner:fee,searchingIndicator:pee,searchingSpinner:hee,noMatch:mee,noMatchText:gee,grid:vee};function iA(){var H;const{userId:e}=wi(),[t,r]=v.useState(null),[n,a]=v.useState(!1),[o,u]=v.useState(null),[c,p]=v.useState(1),h=v.useRef(!1),f=!!e,{searchQuery:m,searchDebounced:b,setSearchQuery:_,sortNewestFirst:j,setSortNewestFirst:w}=VZ(),{selectedUser:y,podcasts:x,total:S,isLoading:T,isFetching:N,isError:P,meData:A,publicConfig:k,activeImport:R,podcastsData:D}=JZ({userId:e,page:c,searchDebounced:b,sortNewestFirst:j});v.useEffect(()=>{if(f)return;const X=R==null?void 0:R.status;(X==="pending"||X==="importing")&&(R!=null&&R.podcast_id)&&!h.current&&(a(!0),u(R.podcast_id))},[f,R==null?void 0:R.status,R==null?void 0:R.podcast_id]);const I=(k==null?void 0:k.public_feeds_enabled)!==!1,q=((H=A==null?void 0:A.user)==null?void 0:H.max_podcasts)??null,z=(A==null?void 0:A.podcast_count)??0,M=!f&&q!=null&&q>0&&z>=q,F=As(X=>X.user),B=!f&&lu((A==null?void 0:A.user)??F),O=Math.max(1,Math.ceil(S/Ac)),$=Math.max(1,Math.min(c,O)),K=S===0?0:($-1)*Ac+1,Y=($-1)*Ac+x.length,Z=!f&&!B&&!M;return v.useEffect(()=>{window.scrollTo(0,0)},[c]),v.useEffect(()=>{p(1)},[b]),v.useEffect(()=>{D!=null&&S>0&&p(X=>X>O?Math.max(1,O):X)},[O,D,S]),i.jsxs("div",{className:gl.dashboard,children:[i.jsx(sJ,{isAdminView:f,selectedUser:y,total:S,readOnly:B,atPodcastLimit:M}),P&&i.jsx(tf,{title:"Failed to load podcasts"}),!P&&i.jsx(hJ,{searchQuery:m,onSearchChange:X=>{_(X),p(1)},sortNewestFirst:j,onSortChange:X=>{w(X),p(1)}}),T&&!D&&i.jsxs("div",{className:gl.loading,children:[i.jsx("div",{className:gl.loadingSpinner}),i.jsx("p",{children:"Loading..."})]}),N&&D&&i.jsxs("div",{className:gl.searchingIndicator,children:[i.jsx("div",{className:gl.searchingSpinner}),i.jsx("span",{children:"Searching..."})]}),!T&&!P&&x.length===0&&m.trim()&&i.jsx("div",{className:gl.noMatch,children:i.jsx("p",{className:gl.noMatchText,children:"No shows match your search."})}),!T&&!P&&x.length===0&&!m.trim()&&i.jsx(see,{isAdminView:f,readOnly:B,atPodcastLimit:M}),!T&&!P&&(x.length>0||Z)&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:gl.grid,children:x.map(X=>i.jsx(zJ,{podcast:X,isAdminView:f,readOnly:B,publicFeedsEnabled:I,onEditClick:r},X.id))}),i.jsx(KJ,{rangeStart:K,rangeEnd:Y,total:S,searchQuery:m,page:$,totalPages:O,onPageChange:p}),Z&&i.jsx(JJ,{onImportClick:()=>a(!0)})]}),t!=null&&i.jsx(p6,{open:!0,podcastId:t,onClose:()=>r(null)}),i.jsx(KZ,{open:n,initialPodcastId:o,onClose:()=>{a(!1),u(null),h.current=!0}})]})}const yee="_breadcrumb_1a7vd_2",bee="_list_1a7vd_7",_ee="_item_1a7vd_19",xee="_sep_1a7vd_26",wee="_card_1a7vd_36",See="_current_1a7vd_57",jee="_label_1a7vd_72",Cee="_labelDesktop_1a7vd_73",kee="_labelMobile_1a7vd_74",Nee="_labelDual_1a7vd_83",Eee="_itemHideOnMobile_1a7vd_125",Da={breadcrumb:yee,list:bee,item:_ee,sep:xee,card:wee,current:See,label:jee,labelDesktop:Cee,labelMobile:kee,labelDual:Nee,itemHideOnMobile:Eee};function rf({items:e}){return e.length===0?null:i.jsx("nav",{className:Da.breadcrumb,"aria-label":"Breadcrumb",children:i.jsx("ol",{className:Da.list,itemScope:!0,itemType:"https://schema.org/BreadcrumbList",children:e.map((t,r)=>{const n=r===e.length-1,a=t.mobileLabel!=null?i.jsxs("span",{itemProp:"name",className:Da.labelDual,children:[i.jsx("span",{className:Da.labelDesktop,children:t.label}),i.jsx("span",{className:Da.labelMobile,children:t.mobileLabel})]}):i.jsx("span",{itemProp:"name",className:Da.label,children:t.label});return i.jsxs("li",{className:t.hideOnMobile?`${Da.item} ${Da.itemHideOnMobile}`:Da.item,itemProp:"itemListElement",itemScope:!0,itemType:"https://schema.org/ListItem",children:[r>0&&i.jsx("span",{className:Da.sep,"aria-hidden":!0,children:i.jsx(Xd,{size:14,strokeWidth:2.5})}),!n&&t.href?i.jsx(Xe,{to:t.href,className:Da.card,itemProp:"item",children:a}):i.jsx("span",{className:`${Da.card} ${Da.current}`,"aria-current":"page",children:a}),i.jsx("meta",{itemProp:"position",content:String(r+1)})]},r)})})})}const Tee="_page_ievhn_1",Pee="_hero_ievhn_6",Aee="_heroTitle_ievhn_10",Ree="_heroTitleAccent_ievhn_19",Oee="_heroSub_ievhn_25",Dee="_card_ievhn_32",Mee="_form_ievhn_40",Lee="_label_ievhn_46",Iee="_labelHint_ievhn_55",$ee="_input_ievhn_61",Bee="_textarea_ievhn_62",zee="_slugInput_ievhn_90",Fee="_error_ievhn_102",qee="_actions_ievhn_112",Uee="_cancel_ievhn_121",Hee="_submit_ievhn_122",Pt={page:Tee,hero:Pee,heroTitle:Aee,heroTitleAccent:Ree,heroSub:Oee,card:Dee,form:Mee,label:Lee,labelHint:Iee,input:$ee,textarea:Bee,slugInput:zee,error:Fee,actions:qee,cancel:Uee,submit:Hee};function V1(e){return e.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"").replace(/-+/g,"-").replace(/^-|-$/g,"")}function Wee(){var x,S;const[e,t]=v.useState(""),[r,n]=v.useState(""),[a,o]=v.useState(""),u=v.useRef(null);gi(u,a,{minHeight:80});const c=xi(),p=Bt(),{data:h}=De({queryKey:["me"],queryFn:Si}),f=((x=h==null?void 0:h.user)==null?void 0:x.max_podcasts)??null,m=(h==null?void 0:h.podcast_count)??0,b=f!=null&&f>0&&m>=f,_=lu(h==null?void 0:h.user);v.useEffect(()=>{_&&c("/",{replace:!0})},[_,c]);const j=Ve({mutationFn:()=>sQ({title:e||"Untitled",slug:r||V1(e||"")||"podcast",description:a||void 0}),onSuccess:T=>{p.invalidateQueries({queryKey:["podcasts"]}),p.invalidateQueries({queryKey:["me"]}),c(`/podcasts/${T.id}`)}});function w(T){const N=T.target.value;t(N),(!r||r===V1(e))&&n(V1(N))}function y(T){T.preventDefault(),j.mutate()}return i.jsxs("div",{className:Pt.page,children:[i.jsx(rf,{items:[{label:"Home",href:"/"},{label:"New Show"}]}),i.jsxs("header",{className:Pt.hero,children:[i.jsxs("h1",{className:Pt.heroTitle,children:["New Show",i.jsx("span",{className:Pt.heroTitleAccent,children:"Create A Podcast"})]}),i.jsx("p",{className:Pt.heroSub,children:"Give your show a name and a URL-friendly slug. You can add artwork and more details later."})]}),i.jsx("div",{className:Pt.card,children:i.jsxs("form",{onSubmit:y,className:Pt.form,children:[i.jsxs("label",{className:Pt.label,children:["Title",i.jsx("input",{type:"text",value:e,onChange:w,className:Pt.input,placeholder:"e.g. My Podcast",required:!0})]}),i.jsxs("label",{className:Pt.label,children:["Slug",i.jsx("span",{className:Pt.labelHint,children:"Used in URLs and feed - lowercase, hyphens only"}),i.jsx("input",{type:"text",value:r,onChange:T=>n(T.target.value),className:`${Pt.input} ${Pt.slugInput}`,placeholder:"my-podcast"})]}),i.jsxs("label",{className:Pt.label,children:["Description",i.jsx("textarea",{ref:u,value:a,onChange:T=>o(T.target.value),className:Pt.textarea,rows:2,style:{overflow:"hidden",resize:"none"},placeholder:"What's your show about? (optional)"})]}),b&&i.jsxs("p",{className:Pt.error,role:"alert",children:["You have reached your limit of ",f," show",f===1?"":"s",". You cannot create more."]}),j.isError&&i.jsx("p",{className:Pt.error,role:"alert",children:(S=j.error)==null?void 0:S.message}),i.jsxs("div",{className:Pt.actions,children:[i.jsxs("button",{type:"button",className:Pt.cancel,onClick:()=>c(-1),"aria-label":"Cancel creating show",children:[i.jsx(WM,{size:18,strokeWidth:2,"aria-hidden":!0}),"Cancel"]}),i.jsxs("button",{type:"submit",className:Pt.submit,disabled:j.isPending||b,"aria-label":"Create show",children:[i.jsx(Qr,{size:18,strokeWidth:2.5,"aria-hidden":!0}),j.isPending?"Creating...":"Create Show"]})]})]})})]})}const Yg=[{key:"apple_podcasts_url",label:"Apple Podcasts"},{key:"spotify_url",label:"Spotify"},{key:"amazon_music_url",label:"Amazon Music"},{key:"podcast_index_url",label:"Podcast Index"},{key:"listen_notes_url",label:"Listen Notes"},{key:"castbox_url",label:"Castbox"},{key:"x_url",label:"X"},{key:"facebook_url",label:"Facebook"},{key:"instagram_url",label:"Instagram"},{key:"tiktok_url",label:"TikTok"},{key:"youtube_url",label:"YouTube"}];function Kee({open:e,podcastId:t,onClose:r}){const n=Bt(),{data:a,isLoading:o}=De({queryKey:["podcast",t],queryFn:()=>pu(t),enabled:e&&!!t}),[u,c]=v.useState({});v.useEffect(()=>{if(e&&a){const f={};for(const{key:m}of Yg)f[m]=a[m]??null;c(f)}},[e,a]);const p=Ve({mutationFn:f=>rC(t,f),onSuccess:()=>{n.invalidateQueries({queryKey:["podcast",t]}),n.invalidateQueries({queryKey:["podcasts"]}),n.invalidateQueries({queryKey:["public-podcast"]}),r()}});function h(f){f.preventDefault();const m={};for(const{key:b}of Yg){const _=u[b];m[b]=((_==null?void 0:_.trim())||null)??null}p.mutate(m)}return!e||!t?null:i.jsx(cr,{open:e,onOpenChange:f=>!f&&r(),children:i.jsxs(mr,{children:[i.jsx(ur,{className:ne.dialogOverlay}),i.jsxs(dr,{className:`${ne.dialogContent} ${ne.dialogContentWide} ${ne.dialogContentScrollable}`,children:[i.jsxs("div",{className:ne.dialogHeaderRow,children:[i.jsx(fr,{className:ne.dialogTitle,children:"Edit Links"}),i.jsx(dt,{asChild:!0,children:i.jsx("button",{type:"button",className:ne.dialogClose,"aria-label":"Close",disabled:p.isPending,children:i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":"true"})})})]}),i.jsx(kr,{className:ne.dialogDescription,children:"Add links to your podcast on listening platforms and social media. Leave blank to hide."}),i.jsx("div",{className:ne.dialogBodyScroll,children:o&&!a?i.jsx("p",{style:{padding:"1.5rem",color:"var(--text-muted)",margin:0},children:"Loading..."}):i.jsxs("form",{id:"edit-social-links-form",onSubmit:h,className:ne.form,children:[i.jsx("h3",{className:ne.dialogSectionTitle,children:"Listen on"}),Yg.slice(0,6).map(({key:f,label:m})=>i.jsxs("label",{className:ne.label,children:[m,i.jsx("input",{type:"url",value:u[f]??"",onChange:b=>c(_=>({..._,[f]:b.target.value})),className:ne.input,placeholder:"https://..."})]},f)),i.jsx("h3",{className:ne.dialogSectionTitle,style:{marginTop:"1.5rem"},children:"Follow"}),Yg.slice(6).map(({key:f,label:m})=>i.jsxs("label",{className:ne.label,children:[m,i.jsx("input",{type:"url",value:u[f]??"",onChange:b=>c(_=>({..._,[f]:b.target.value})),className:ne.input,placeholder:"https://..."})]},f))]})}),a&&i.jsxs("div",{className:ne.dialogFooter,children:[i.jsx("button",{type:"button",className:ne.cancel,onClick:r,disabled:p.isPending,"aria-label":"Cancel",children:"Cancel"}),i.jsx("button",{type:"submit",form:"edit-social-links-form",className:ne.submit,disabled:p.isPending,"aria-label":"Save links",children:p.isPending?"Saving":"Save"})]})]})]})})}const Gee="_podcastHero_1kvz3_4",Vee="_podcastHeroArtwork_1kvz3_11",Yee="_podcastHeroMain_1kvz3_21",Qee="_podcastHeroTitleRow_1kvz3_31",Xee="_podcastHeroTitleRowCentered_1kvz3_41",Zee="_podcastHeroTitleLock_1kvz3_47",Jee="_podcastHeroTitleLockGold_1kvz3_52",ete="_cardTitle_1kvz3_56",tte="_podcastHeroDescription_1kvz3_61",rte="_cardHeaderActions_1kvz3_66",nte="_cardHeader_1kvz3_66",ate="_cardSettings_1kvz3_100",ite="_cardHeaderPrimary_1kvz3_125",ste="_cardHeaderSecondary_1kvz3_155",ote="_podcastDetails_1kvz3_184",lte="_podcastDetailsTitle_1kvz3_190",cte="_podcastDetailsGrid_1kvz3_199",ute="_podcastDetailsItem_1kvz3_206",dte="_podcastDetailsTerm_1kvz3_212",fte="_podcastDetailsValue_1kvz3_221",pte="_podcastDetailsLink_1kvz3_238",hte="_podcastDetailsActionLink_1kvz3_246",mte="_podcastDetailsActionLinkDisabled_1kvz3_271",gte="_rssSectionSub_1kvz3_284",vte="_rssHeader_1kvz3_288",yte="_rssTitle_1kvz3_297",bte="_sectionTitle_1kvz3_304",_te="_rssActions_1kvz3_309",xte="_rssBtn_1kvz3_316",wte="_rssUrlRow_1kvz3_338",Ste="_rssUrlLabel_1kvz3_346",jte="_rssUrl_1kvz3_338",nC={podcastHero:Gee,podcastHeroArtwork:Vee,podcastHeroMain:Yee,podcastHeroTitleRow:Qee,podcastHeroTitleRowCentered:Xee,podcastHeroTitleLock:Zee,podcastHeroTitleLockGold:Jee,cardTitle:ete,podcastHeroDescription:tte,cardHeaderActions:rte,cardHeader:nte,cardSettings:ate,cardHeaderPrimary:ite,cardHeaderSecondary:ste,podcastDetails:ote,podcastDetailsTitle:lte,podcastDetailsGrid:cte,podcastDetailsItem:ute,podcastDetailsTerm:dte,podcastDetailsValue:fte,podcastDetailsLink:pte,podcastDetailsActionLink:hte,podcastDetailsActionLinkDisabled:mte,rssSectionSub:gte,rssHeader:vte,rssTitle:yte,sectionTitle:bte,rssActions:_te,rssBtn:xte,rssUrlRow:wte,rssUrlLabel:Ste,rssUrl:jte},Mn={...ne,...nC};function Cte({podcast:e,readOnly:t,canManageShow:r,onEditClick:n,onLinksClick:a,centerTitle:o}){return i.jsxs("div",{className:Mn.podcastHero,children:[(e.artwork_url||e.artwork_filename)&&i.jsx("img",{src:e.artwork_url??(e.artwork_filename?`/api/podcasts/${e.id}/artwork/${encodeURIComponent(e.artwork_filename)}`:""),alt:"",className:Mn.podcastHeroArtwork}),i.jsxs("div",{className:Mn.podcastHeroMain,children:[i.jsxs("div",{className:o?`${Mn.podcastHeroTitleRow} ${Mn.podcastHeroTitleRowCentered}`:Mn.podcastHeroTitleRow,children:[e.subscriber_only_feed_enabled===1&&i.jsx(Ps,{size:22,strokeWidth:2,className:e.public_feed_disabled===1?`${Mn.podcastHeroTitleLock} ${Mn.podcastHeroTitleLockGold}`:Mn.podcastHeroTitleLock,"aria-hidden":!0}),i.jsx("h1",{className:Mn.cardTitle,children:e.title})]}),e.description&&i.jsx("p",{className:Mn.podcastHeroDescription,children:e.description}),i.jsxs("div",{className:Mn.cardHeaderActions,children:[i.jsxs(Xe,{to:`/podcasts/${e.id}/analytics`,className:Mn.cardHeaderSecondary,children:[i.jsx(GM,{size:16,strokeWidth:2,"aria-hidden":!0}),"Analytics"]}),i.jsxs(Xe,{to:`/podcasts/${e.id}/episodes`,className:Mn.cardHeaderPrimary,children:[i.jsx(QM,{size:16,strokeWidth:2,"aria-hidden":!0}),"Episodes"]}),!t&&r&&i.jsxs(i.Fragment,{children:[i.jsx("button",{type:"button",className:Mn.cardSettings,onClick:n,"aria-label":`Edit details for ${e.title}`,children:i.jsx(Xv,{size:18,strokeWidth:2})}),a&&i.jsx("button",{type:"button",className:Mn.cardSettings,onClick:a,"aria-label":`Edit links for ${e.title}`,title:"Edit links",children:i.jsx(JF,{size:18,strokeWidth:2})})]})]})]})]})}const yt={...ne,...nC};function sA(e){return e.toLowerCase().replace(/\b\w/g,t=>t.toUpperCase())}function kte({podcast:e,publicFeedsEnabled:t}){return i.jsxs("div",{className:yt.podcastDetails,children:[i.jsx("h2",{className:yt.podcastDetailsTitle,children:"Show details"}),i.jsxs("dl",{className:yt.podcastDetailsGrid,children:[t&&i.jsxs("div",{className:yt.podcastDetailsItem,children:[i.jsx("dt",{className:yt.podcastDetailsTerm,children:"Public Feed Page"}),i.jsx("dd",{className:yt.podcastDetailsValue,children:i.jsxs(Xe,{to:`/feed/${e.slug}`,className:yt.podcastDetailsActionLink,children:[i.jsx(Ss,{size:16,strokeWidth:2,"aria-hidden":!0}),"Public Feed Page"]})})]}),i.jsxs("div",{className:yt.podcastDetailsItem,children:[i.jsx("dt",{className:yt.podcastDetailsTerm,children:"Public Feed XML"}),i.jsx("dd",{className:yt.podcastDetailsValue,children:i.jsxs("a",{href:bb(e.slug),target:"_blank",rel:"noopener noreferrer",className:yt.podcastDetailsActionLink,children:[i.jsx(Ss,{size:16,strokeWidth:2,"aria-hidden":!0}),"Public Feed XML"]})})]}),e.site_url&&i.jsxs("div",{className:yt.podcastDetailsItem,children:[i.jsx("dt",{className:yt.podcastDetailsTerm,children:"Website"}),i.jsx("dd",{className:yt.podcastDetailsValue,children:i.jsxs("a",{href:e.site_url,target:"_blank",rel:"noopener noreferrer",className:yt.podcastDetailsActionLink,children:[i.jsx(Yv,{size:16,strokeWidth:2,"aria-hidden":!0}),"Visit website"]})})]}),e.author_name&&i.jsxs("div",{className:yt.podcastDetailsItem,children:[i.jsx("dt",{className:yt.podcastDetailsTerm,children:"Author"}),i.jsx("dd",{className:yt.podcastDetailsValue,children:e.author_name})]}),[e.category_primary,e.category_secondary,e.category_primary_two,e.category_secondary_two,e.category_primary_three,e.category_secondary_three].some(Boolean)&&i.jsxs("div",{className:yt.podcastDetailsItem,children:[i.jsx("dt",{className:yt.podcastDetailsTerm,children:"Categories"}),i.jsx("dd",{className:yt.podcastDetailsValue,children:[e.category_primary,e.category_secondary,e.category_primary_two,e.category_secondary_two,e.category_primary_three,e.category_secondary_three].filter(Boolean).join(", ")})]}),e.language&&i.jsxs("div",{className:yt.podcastDetailsItem,children:[i.jsx("dt",{className:yt.podcastDetailsTerm,children:"Language"}),i.jsx("dd",{className:yt.podcastDetailsValue,children:sA(e.language)})]}),e.medium&&i.jsxs("div",{className:yt.podcastDetailsItem,children:[i.jsx("dt",{className:yt.podcastDetailsTerm,children:"Medium"}),i.jsx("dd",{className:yt.podcastDetailsValue,children:sA(e.medium)})]}),i.jsxs("div",{className:yt.podcastDetailsItem,children:[i.jsx("dt",{className:yt.podcastDetailsTerm,children:"Type"}),i.jsx("dd",{className:yt.podcastDetailsValue,children:e.itunes_type==="serial"?"Serial":"Episodic"})]}),e.owner_name&&i.jsxs("div",{className:yt.podcastDetailsItem,children:[i.jsx("dt",{className:yt.podcastDetailsTerm,children:"Owner"}),i.jsx("dd",{className:yt.podcastDetailsValue,children:e.owner_name})]}),e.email&&i.jsxs("div",{className:yt.podcastDetailsItem,children:[i.jsx("dt",{className:yt.podcastDetailsTerm,children:"Email"}),i.jsx("dd",{className:yt.podcastDetailsValue,children:i.jsx("a",{href:`mailto:${e.email}`,className:yt.podcastDetailsLink,children:e.email})})]}),!!e.explicit&&i.jsxs("div",{className:yt.podcastDetailsItem,children:[i.jsx("dt",{className:yt.podcastDetailsTerm,children:"Explicit"}),i.jsx("dd",{className:yt.podcastDetailsValue,children:"Yes"})]})]})]})}const to={...ne,...nC};function Nte({podcast:e}){return i.jsxs("div",{className:to.card,children:[i.jsxs("div",{className:to.rssHeader,children:[i.jsxs("div",{className:to.rssTitle,children:[i.jsx(Ss,{size:18,strokeWidth:2,"aria-hidden":"true"}),i.jsx("h2",{className:to.sectionTitle,children:"RSS Feed"})]}),i.jsxs("div",{className:to.rssActions,children:[i.jsxs("a",{href:`https://podba.se/validate/?url=${encodeURIComponent(`${window.location.origin}${bb(e.slug)}`)}`,target:"_blank",rel:"noopener noreferrer",className:to.rssBtn,children:[i.jsx(Yv,{size:16,strokeWidth:2,"aria-hidden":"true"}),"Validate Public Feed"]}),i.jsxs("a",{href:mJ(e.id),target:"_blank",rel:"noopener noreferrer",className:to.rssBtn,children:[i.jsx(Yv,{size:16,strokeWidth:2,"aria-hidden":"true"}),"Preview Feed XML"]})]})]}),i.jsx("p",{className:`${to.pdCardSectionSub} ${to.rssSectionSub}`,children:"The feed updates automatically when you save show details or create/update episodes. With an export destination you can deploy your feed and media to storage (S3, FTP, SFTP, WebDAV, IPFS, or SMB)."})]})}const Ete=300;function aC(e,t=Ete){const[r,n]=v.useState(e);return v.useEffect(()=>{if(e===""||e===null||e===void 0){n(e);return}const a=window.setTimeout(()=>{n(e)},t);return()=>window.clearTimeout(a)},[e,t]),r}const Tte="_castSectionHeader_9e2zu_3",Pte="_castSearchWrap_9e2zu_11",Ate="_statusToggle_9e2zu_19",Rte="_castSearchInput_9e2zu_27",Ote="_castPagination_9e2zu_43",Dte="_castPaginationBtn_9e2zu_51",Mte="_castPaginationLabel_9e2zu_72",Lte="_castList_9e2zu_77",Ite="_castRow_9e2zu_86",$te="_castRowMeta_9e2zu_108",Bte="_castRowNameWrap_9e2zu_114",zte="_castRowName_9e2zu_114",Fte="_castRowActions_9e2zu_126",qte="_castRowEditBtn_9e2zu_130",Ute="_castRowDeleteBtn_9e2zu_135",Hte="_castAvatar_9e2zu_144",Wte="_castAvatarPlaceholder_9e2zu_154",Kte="_castRowHostIcon_9e2zu_176",Gte="_castEmpty_9e2zu_206",Vte="_castChip_9e2zu_214",Yte="_castChipAvatar_9e2zu_225",Qte="_castChipAvatarPlaceholder_9e2zu_233",Xte="_castChipName_9e2zu_245",Zte="_castChipsWrap_9e2zu_252",Jte="_castChips_9e2zu_252",ere="_castChipRemove_9e2zu_263",tre="_castDialogFormWrap_9e2zu_277",rre="_castDialogFormGroup_9e2zu_284",nre="_castDialogFormLabel_9e2zu_288",are="_castDialogRequired_9e2zu_296",ire="_castDialogFormInput_9e2zu_301",sre="_castDialogFormTextarea_9e2zu_322",ore="_castDialogFormGroupDescription_9e2zu_346",lre="_castDialogRoleToggle_9e2zu_350",cre="_castDialogRoleToggleBtn_9e2zu_358",ure="_castDialogRoleToggleBtnActive_9e2zu_359",dre="_castDialogActions_9e2zu_386",fre="_castDialogFileInput_9e2zu_396",pre="_castPhotoPreview_9e2zu_425",hre="_castPhotoPreviewPlaceholder_9e2zu_434",Qh={castSectionHeader:Tte,castSearchWrap:Pte,statusToggle:Ate,castSearchInput:Rte,castPagination:Ote,castPaginationBtn:Dte,castPaginationLabel:Mte,castList:Lte,castRow:Ite,castRowMeta:$te,castRowNameWrap:Bte,castRowName:zte,castRowActions:Fte,castRowEditBtn:qte,castRowDeleteBtn:Ute,castAvatar:Hte,castAvatarPlaceholder:Wte,castRowHostIcon:Kte,castEmpty:Gte,castChip:Vte,castChipAvatar:Yte,castChipAvatarPlaceholder:Qte,castChipName:Xte,castChipsWrap:Zte,castChips:Jte,castChipRemove:ere,castDialogFormWrap:tre,castDialogFormGroup:rre,castDialogFormLabel:nre,castDialogRequired:are,castDialogFormInput:ire,castDialogFormTextarea:sre,castDialogFormGroupDescription:ore,castDialogRoleToggle:lre,castDialogRoleToggleBtn:cre,castDialogRoleToggleBtnActive:ure,castDialogActions:dre,castDialogFileInput:fre,castPhotoPreview:pre,castPhotoPreviewPlaceholder:hre},ii={...ne,...Qh};function mre(e){if(!e)return"";const t=e.trim();if(!t)return"";if(t.startsWith("/")&&!t.startsWith("//"))return t;try{const r=typeof window<"u"?window.location.origin:"https://x",n=new URL(t,r);if(["https:","http:","blob:"].includes(n.protocol.toLowerCase()))return n.href}catch{}return""}function xS({member:e,podcastId:t,photoSrc:r,variant:n="row",children:a}){const o=r??((e.photo_filename&&t?f6(t,e.id,e.photo_filename):"")||mre(e.photo_url)),u=o?i.jsx("img",{src:o,alt:"",className:n==="chip"?ii.castChipAvatar:ii.castAvatar}):i.jsx("div",{className:n==="chip"?ii.castChipAvatarPlaceholder:ii.castAvatarPlaceholder,children:i.jsx(hh,{size:n==="chip"?12:18})}),c=i.jsxs("div",{className:ii.castRowNameWrap,children:[e.role==="host"&&i.jsx("span",{className:ii.castRowHostIcon,"aria-hidden":!0,children:i.jsx($d,{size:n==="chip"?12:14})}),i.jsx("span",{className:n==="chip"?ii.castChipName:ii.castRowName,children:e.name})]});return n==="chip"?i.jsxs("div",{className:ii.castChip,children:[u,c,a]}):i.jsxs("li",{className:ii.castRow,children:[u,i.jsx("div",{className:ii.castRowMeta,children:c}),a&&i.jsx("div",{className:ii.castRowActions,children:a})]})}const Ai={...ne,...Qh};function gre({cast:e,total:t,limit:r,offset:n,podcastId:a,canEdit:o,canDelete:u,onEdit:c,onDelete:p,onPrevPage:h,onNextPage:f,isDeleting:m}){const b=n>0,_=n+e.length<t,j=t===0?0:n+1,w=Math.min(n+r,t);return e.length===0&&t===0?i.jsx("p",{className:Ai.pdCardEmptyState,children:"No cast members yet. Add a host or guest above."}):e.length===0?i.jsx("p",{className:Ai.pdCardEmptyState,children:"No results match your search."}):i.jsxs(i.Fragment,{children:[i.jsx("ul",{className:Ai.castList,children:e.map(y=>i.jsxs(xS,{member:y,podcastId:a,children:[o(y)&&i.jsxs("button",{type:"button",className:`${Ai.cancel} ${Ai.castRowEditBtn}`,onClick:()=>c(y),"aria-label":`Edit ${y.name}`,children:[i.jsx(sb,{size:16,"aria-hidden":!0}),"Edit"]}),u(y)&&i.jsx("button",{type:"button",className:`${Ai.exportDeleteBtn} ${Ai.castRowDeleteBtn}`,onClick:()=>p(y),disabled:m,"aria-label":`Delete ${y.name}`,children:i.jsx(Wl,{size:14})})]},y.id))}),t>r&&i.jsxs("div",{className:Ai.castPagination,children:[i.jsx("button",{type:"button",className:Ai.castPaginationBtn,onClick:h,disabled:!b,"aria-label":"Previous page",children:i.jsx(VM,{size:16})}),i.jsxs("span",{className:Ai.castPaginationLabel,children:[j,"",w," of ",t]}),i.jsx("button",{type:"button",className:Ai.castPaginationBtn,onClick:f,disabled:!_,"aria-label":"Next page",children:i.jsx(Xd,{size:16})})]})]})}const rt={...ne,...Qh};function vre(e){if(!e)return"";const t=e.trim();if(!t)return"";if(t.startsWith("/")&&!t.startsWith("//"))return t;try{const r=typeof window<"u"?window.location.origin:"https://x",n=new URL(t,r);if(["https:","http:","blob:"].includes(n.protocol.toLowerCase()))return n.href}catch{}return""}function yre({open:e,podcastId:t,cast:r,isFirstEntry:n,canAddHost:a,onClose:o,onSuccess:u}){const c=!!r,[p,h]=v.useState(""),[f,m]=v.useState("guest"),[b,_]=v.useState(""),[j,w]=v.useState(""),[y,x]=v.useState(""),[S,T]=v.useState(1),[N,P]=v.useState("url"),[A,k]=v.useState(null),[R,D]=v.useState(null),[I,q]=v.useState(null),z=v.useRef(null),M=v.useRef(null);gi(M,b,{minHeight:80}),v.useEffect(()=>{e&&(q(null),r?(h(r.name),m(r.role),_(r.description??""),w(r.photo_url??""),x(r.social_link_text??""),T(r.is_public??1),P(r.photo_filename?"upload":"url"),k(null)):(h(""),m(n?"host":"guest"),_(""),w(""),x(""),T(1),P("url"),k(null)))},[e,r,n]),v.useEffect(()=>{if(!A){D(Z=>(Z&&URL.revokeObjectURL(Z),null));return}const Y=URL.createObjectURL(A);return D(Y),()=>URL.revokeObjectURL(Y)},[A]);const F=Ve({mutationFn:Y=>bQ(t,Y),onSuccess:async Y=>{if(A&&Y.id)try{await aA(t,Y.id,A)}catch{}u(),o()},onError:Y=>q(Y.message)}),B=Ve({mutationFn:Y=>_Q(t,r.id,Y),onSuccess:async()=>{if(A&&r)try{await aA(t,r.id,A)}catch{}u(),o()},onError:Y=>q(Y.message)}),O=Y=>{Y.preventDefault(),q(null);const Z=p.trim();if(!Z)return;if(f==="host"&&!a){q("Only owners and managers can add hosts.");return}const H={name:Z,role:f,description:b.trim()||void 0,photo_url:N==="url"&&j.trim()||void 0,social_link_text:y.trim()||void 0,is_public:S};c?B.mutate(H):F.mutate(H)},$=R||(r!=null&&r.photo_filename&&t?f6(t,r.id,r.photo_filename):"")||vre(j),K=F.isPending||B.isPending;return i.jsx(cr,{open:e,onOpenChange:Y=>!Y&&o(),children:i.jsxs(mr,{children:[i.jsx(ur,{className:rt.dialogOverlay}),i.jsxs(dr,{className:`${rt.dialogContent} ${rt.dialogContentWide} ${rt.dialogContentScrollable}`,children:[i.jsxs("div",{className:rt.dialogHeaderRow,children:[i.jsx(fr,{className:rt.dialogTitle,children:c?"Edit cast member":"Add cast member"}),i.jsx(dt,{asChild:!0,children:i.jsx("button",{type:"button",className:rt.dialogClose,"aria-label":"Close",disabled:K,children:i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":!0})})})]}),i.jsx(kr,{className:rt.dialogDescription,children:c?"Update the cast member details.":""}),i.jsxs("form",{onSubmit:O,className:rt.castDialogFormWrap,children:[i.jsxs("div",{className:rt.dialogBodyScroll,children:[I&&i.jsx("p",{className:rt.error,children:I}),i.jsx("div",{className:rt.castDialogFormGroup,children:i.jsxs("label",{className:rt.castDialogFormLabel,children:["Name ",i.jsx("span",{className:rt.castDialogRequired,"aria-hidden":"true",children:"*"}),i.jsx("input",{type:"text",value:p,onChange:Y=>h(Y.target.value),className:rt.castDialogFormInput,placeholder:"e.g. Jane Doe",required:!0})]})}),i.jsx("div",{className:rt.castDialogFormGroup,children:i.jsxs("label",{className:rt.castDialogFormLabel,children:["Role",i.jsxs("div",{className:rt.castDialogRoleToggle,role:"group","aria-label":"Host or Guest",children:[i.jsx("button",{type:"button",className:f==="guest"?rt.castDialogRoleToggleBtnActive:rt.castDialogRoleToggleBtn,onClick:()=>m("guest"),disabled:!a&&f==="host","aria-pressed":f==="guest",children:"Guest"}),i.jsx("button",{type:"button",className:f==="host"?rt.castDialogRoleToggleBtnActive:rt.castDialogRoleToggleBtn,onClick:()=>a&&m("host"),disabled:!a,"aria-pressed":f==="host",children:"Host"})]})]})}),i.jsx("div",{className:`${rt.castDialogFormGroup} ${rt.castDialogFormGroupDescription}`,children:i.jsxs("label",{className:rt.castDialogFormLabel,children:["Description",i.jsx("textarea",{ref:M,value:b,onChange:Y=>_(Y.target.value),className:rt.castDialogFormTextarea,rows:2,placeholder:"Short bio or title",style:{overflow:"hidden",resize:"none",minHeight:80}})]})}),i.jsx("div",{className:rt.castDialogFormGroup,children:i.jsxs("label",{className:rt.castDialogFormLabel,children:["Photo",i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginTop:"0.375rem"},children:[$?i.jsx("img",{src:$,alt:"",className:rt.castPhotoPreview}):i.jsx("div",{className:rt.castPhotoPreviewPlaceholder,children:i.jsx(hh,{size:24})}),i.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"0.5rem",minWidth:0},children:[i.jsxs("div",{className:rt.castDialogRoleToggle,role:"group",children:[i.jsx("button",{type:"button",className:N==="url"?rt.castDialogRoleToggleBtnActive:rt.castDialogRoleToggleBtn,onClick:()=>P("url"),"aria-pressed":N==="url",children:"URL"}),i.jsx("button",{type:"button",className:N==="upload"?rt.castDialogRoleToggleBtnActive:rt.castDialogRoleToggleBtn,onClick:()=>P("upload"),"aria-pressed":N==="upload",children:"Upload"})]}),N==="url"?i.jsx("input",{type:"url",value:j,onChange:Y=>w(Y.target.value),className:rt.castDialogFormInput,placeholder:"https://..."}):i.jsx("input",{ref:z,type:"file",accept:"image/*",onChange:Y=>{var Z;return k(((Z=Y.target.files)==null?void 0:Z[0])??null)},className:rt.castDialogFileInput})]})]})]})}),i.jsx("div",{className:rt.castDialogFormGroup,children:i.jsxs("label",{className:rt.castDialogFormLabel,children:["Social Link",i.jsx("input",{type:"url",value:y,onChange:Y=>x(Y.target.value),className:rt.castDialogFormInput,placeholder:"e.g. https://instagram.com/username"})]})}),i.jsx("div",{className:rt.castDialogFormGroup,children:i.jsxs("label",{className:rt.castDialogFormLabel,children:["Visibility",i.jsxs("div",{className:rt.castDialogRoleToggle,role:"group",children:[i.jsx("button",{type:"button",className:S===1?rt.castDialogRoleToggleBtnActive:rt.castDialogRoleToggleBtn,onClick:()=>T(1),"aria-pressed":S===1,children:"Public"}),i.jsx("button",{type:"button",className:S===0?rt.castDialogRoleToggleBtnActive:rt.castDialogRoleToggleBtn,onClick:()=>T(0),"aria-pressed":S===0,children:"Private"})]})]})})]}),i.jsxs("div",{className:rt.castDialogActions,children:[i.jsx("button",{type:"button",className:rt.cancel,onClick:o,disabled:K,children:"Cancel"}),i.jsx("button",{type:"submit",className:rt.dialogConfirm,disabled:K,children:K?"Saving...":c?"Save":"Add"})]})]})]})]})})}const ro=ne;function bre({cast:e,isOpen:t,onClose:r,onConfirm:n,isPending:a}){return i.jsx(cr,{open:t,onOpenChange:o=>!o&&r(),children:i.jsxs(mr,{children:[i.jsx(ur,{className:ro.dialogOverlay}),i.jsxs(dr,{className:ro.dialogContent,children:[i.jsxs("div",{className:ro.dialogHeaderRow,children:[i.jsx(fr,{className:ro.dialogTitle,children:"Remove cast member?"}),i.jsx(dt,{asChild:!0,children:i.jsx("button",{type:"button",className:ro.dialogClose,"aria-label":"Close",children:i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":"true"})})})]}),i.jsx(kr,{className:ro.dialogDescription,children:e?`This will remove ${e.name} from the show cast. They can be added again later.`:"This will remove this cast member from the show."}),i.jsxs("div",{className:ro.dialogActions,children:[i.jsx(dt,{asChild:!0,children:i.jsx("button",{type:"button",className:ro.cancel,"aria-label":"Cancel",children:"Cancel"})}),i.jsx("button",{type:"button",className:ro.dialogConfirmRemove,onClick:()=>e&&n(e.id),disabled:a,"aria-label":"Confirm remove cast member",children:a?"Removing...":"Remove"})]})]})]})})}const Kn={...ne,...Qh},pp=5;function _re({podcastId:e,myRole:t}){const r=Bt(),[n,a]=v.useState(""),o=aC(n),[u,c]=v.useState("newest"),[p,h]=v.useState(0),[f,m]=v.useState(!1),[b,_]=v.useState(null),[j,w]=v.useState(null),y=t==="owner"||t==="manager",x=t==="owner"||t==="manager"||t==="editor",S=y||x,{data:T,isLoading:N}=De({queryKey:["cast",e,{limit:pp,offset:p,q:o,sort:u}],queryFn:()=>Av(e,{limit:pp,offset:p,q:o.trim()||void 0,sort:u}),enabled:!!e}),P=(T==null?void 0:T.cast)??[],A=(T==null?void 0:T.total)??0,k=A===0&&!b,R=Ve({mutationFn:B=>xQ(e,B),onSuccess:()=>{r.invalidateQueries({queryKey:["cast",e]}),w(null)}}),D=B=>B.role==="host"?y:x,I=B=>D(B),q=()=>{_(null),m(!0)},z=B=>{_(B),m(!0)},M=()=>{m(!1),_(null)},F=()=>{r.invalidateQueries({queryKey:["cast",e]})};return i.jsxs("div",{className:Kn.card,children:[i.jsxs("div",{className:Kn.exportHeader,children:[i.jsxs("div",{className:Kn.exportTitle,children:[i.jsx(ph,{size:18,strokeWidth:2,"aria-hidden":"true"}),i.jsx("h2",{className:Kn.sectionTitle,children:"Show Cast"})]}),i.jsx("div",{className:Kn.exportHeaderActions,children:S&&i.jsxs("button",{type:"button",className:Kn.gearBtn,onClick:q,"aria-label":"Add cast member",children:[i.jsx(ph,{size:16,strokeWidth:2,"aria-hidden":!0}),"Add Cast Member"]})})]}),i.jsx("p",{className:Kn.pdCardSectionSub,children:"Add hosts and guests for your show. Hosts and guests can be assigned to individual episodes."}),i.jsxs("div",{className:Kn.castSearchWrap,children:[i.jsx("input",{type:"search",value:n,onChange:B=>{a(B.target.value),h(0)},placeholder:"Search by name...",className:Kn.castSearchInput,"aria-label":"Search cast"}),i.jsxs("div",{className:Kn.statusToggle,role:"group","aria-label":"Sort order",children:[i.jsx("button",{type:"button",className:u==="newest"?Kn.statusToggleActive:Kn.statusToggleBtn,onClick:()=>{c("newest"),h(0)},"aria-pressed":u==="newest",children:"Newest"}),i.jsx("button",{type:"button",className:u==="oldest"?Kn.statusToggleActive:Kn.statusToggleBtn,onClick:()=>{c("oldest"),h(0)},"aria-pressed":u==="oldest",children:"Oldest"})]})]}),N?i.jsx("p",{className:Kn.pdCardEmptyState,children:"Loading..."}):i.jsx(gre,{cast:P,total:A,limit:pp,offset:p,podcastId:e,canEdit:D,canDelete:I,onEdit:z,onDelete:w,onPrevPage:()=>h(B=>Math.max(0,B-pp)),onNextPage:()=>h(B=>B+pp),isDeleting:R.isPending}),f&&i.jsx(yre,{open:f,podcastId:e,cast:b,isFirstEntry:k,canAddHost:y,onClose:M,onSuccess:F}),i.jsx(bre,{cast:j,isOpen:!!j,onClose:()=>w(null),onConfirm:B=>R.mutate(B),isPending:R.isPending})]})}function xre(e){return At(`/podcasts/${e}/exports`).then(t=>t.exports)}function wre(e,t){return an(`/podcasts/${e}/exports`,t)}function Sre(e,t){return Kl(`/exports/${e}`,t)}function jre(e){return an(`/exports/${e}/test`)}function Cre(e){return an(`/podcasts/${e}/exports/deploy`)}function kre(e){return Kh(`/exports/${e}`)}const m6={S3:"S3",FTP:"FTP",SFTP:"SFTP",WebDAV:"WebDAV",IPFS:"IPFS",SMB:"SMB"},Nre="_addExportWrap_19vbp_4",Ere="_addExportTitle_19vbp_11",Tre="_addExportForm_19vbp_18",Pre="_addExportActions_19vbp_24",Are="_statusToggle_19vbp_32",Rre="_statusToggleBtn_19vbp_40",Ore="_statusToggleActive_19vbp_41",Dre="_exportModeToggle_19vbp_69",Mre="_deployBtn_19vbp_79",Lre="_deployAllRow_19vbp_104",Ire="_deployAllResults_19vbp_110",$re="_exportResult_19vbp_118",Bre="_exportMeta_19vbp_124",_b={addExportWrap:Nre,addExportTitle:Ere,addExportForm:Tre,addExportActions:Pre,statusToggle:Are,statusToggleBtn:Rre,statusToggleActive:Ore,exportModeToggle:Dre,deployBtn:Mre,deployAllRow:Lre,deployAllResults:Ire,exportResult:$re,exportMeta:Bre},Ln={...ne,..._b};function zre({exports:e,readOnly:t,testingId:r,testMutation:n,onTest:a,onEdit:o,onDelete:u,isDeleting:c}){return i.jsx("ul",{className:Ln.exportList,children:e.map(p=>{var _,j,w,y;const h=(p.public_base_url??"").trim().replace(/\/$/,""),f=(p.prefix??"").trim().replace(/^\/|\/$/g,""),m=h?f?`${h}/${f}/feed.xml`:`${h}/feed.xml`:null,b=r===p.id;return i.jsxs("li",{className:Ln.exportCard,children:[i.jsxs("div",{className:Ln.exportCardRow,children:[i.jsxs("div",{className:Ln.exportCardMeta,children:[i.jsx("strong",{children:p.name}),i.jsx("span",{className:Ln.exportModeBadge,children:m6[p.mode]??p.mode})]}),i.jsxs("div",{className:Ln.exportCardActions,children:[i.jsxs("button",{type:"button",className:Ln.cancel,onClick:()=>m&&window.open(m,"_blank","noopener,noreferrer"),disabled:!m,title:m?"Open RSS feed":"Set public base URL to open RSS","aria-label":`Open RSS feed for ${p.name}`,children:[i.jsx(Ss,{size:16,"aria-hidden":!0}),"RSS"]}),!t&&i.jsxs(i.Fragment,{children:[i.jsxs("button",{type:"button",className:Ln.cancel,onClick:()=>a(p.id),disabled:b,"aria-label":`Test connection for ${p.name}`,children:[i.jsx(FF,{size:16,"aria-hidden":!0}),b?"Testing...":"Test"]}),i.jsxs("button",{type:"button",className:Ln.cancel,onClick:()=>o(p),"aria-label":`Edit ${p.name}`,children:[i.jsx(sb,{size:16,"aria-hidden":!0}),"Edit"]}),i.jsx("button",{type:"button",className:Ln.exportDeleteBtn,onClick:()=>u(p),disabled:c,"aria-label":`Delete ${p.name}`,children:i.jsx(Wl,{size:16,"aria-hidden":!0})})]})]})]}),n.variables===p.id&&n.isSuccess&&((_=n.data)==null?void 0:_.ok)===!0&&i.jsx("p",{className:`${Ln.success} ${Ln.exportResult}`,children:"Connection OK."}),n.variables===p.id&&n.isSuccess&&((j=n.data)==null?void 0:j.ok)===!1&&i.jsx("p",{className:`${Ln.error} ${Ln.exportResult}`,children:((w=n.data)==null?void 0:w.error)||"Test failed"}),n.isError&&n.variables===p.id&&i.jsx("p",{className:`${Ln.error} ${Ln.exportResult}`,children:(y=n.error)==null?void 0:y.message})]},p.id)})})}const ze={...ne,..._b};function Fre({open:e,formMode:t,initial:r,onSubmitCreate:n,onSubmitUpdate:a,error:o}){const u=(r==null?void 0:r.mode)??"S3",[c,p]=v.useState(u),[h,f]=v.useState((r==null?void 0:r.name)??""),[m,b]=v.useState((r==null?void 0:r.public_base_url)??""),[_,j]=v.useState(()=>({bucket:"",prefix:"",region:"auto",endpoint_url:"",access_key_id:"",secret_access_key:"",host:"",port:21,username:"",password:"",path:"",secure:!1,private_key:"",url:"",api_url:"",api_key:"",gateway_url:"",share:"",domain:""})),w=t==="edit",y=v.useRef(null),x=(k,R)=>j(D=>({...D,[k]:R})),S=k=>_[k]??"";gi(y,String(S("private_key")),{minHeight:60}),v.useEffect(()=>{if(!e)return;const k=(r==null?void 0:r.mode)??"S3";p(k),f((r==null?void 0:r.name)??""),b((r==null?void 0:r.public_base_url)??"");const R=t==="edit",D=k==="SFTP"?22:21;j({bucket:(r==null?void 0:r.bucket)??"",prefix:(r==null?void 0:r.prefix)??"",region:(r==null?void 0:r.region)??"auto",endpoint_url:(r==null?void 0:r.endpoint_url)??"",access_key_id:"",secret_access_key:"",host:"",port:R?"":D,username:"",password:"",path:"",secure:!1,private_key:"",url:"",api_url:"",api_key:"",gateway_url:"",share:"",domain:""})},[e,r,t]);const T=()=>{const k=h.trim(),R=m.trim()||void 0;switch(c){case"S3":return{mode:"S3",name:k,bucket:String(S("bucket")).trim(),prefix:String(S("prefix")).trim(),region:String(S("region")).trim(),endpoint_url:String(S("endpoint_url")).trim()||null,access_key_id:String(S("access_key_id")).trim(),secret_access_key:String(S("secret_access_key")).trim(),public_base_url:R??null};case"FTP":return{mode:"FTP",name:k,host:String(S("host")).trim(),port:Number(S("port"))||21,username:String(S("username")).trim(),password:String(S("password")).trim(),path:String(S("path")).trim(),secure:!!S("secure"),public_base_url:R??null};case"SFTP":return{mode:"SFTP",name:k,host:String(S("host")).trim(),port:Number(S("port"))||22,username:String(S("username")).trim(),password:String(S("password")).trim()||void 0,private_key:String(S("private_key")).trim()||void 0,path:String(S("path")).trim(),public_base_url:R??null};case"WebDAV":return{mode:"WebDAV",name:k,url:String(S("url")).trim(),username:String(S("username")).trim(),password:String(S("password")).trim(),path:String(S("path")).trim(),public_base_url:R??null};case"IPFS":return{mode:"IPFS",name:k,api_url:String(S("api_url")).trim(),api_key:String(S("api_key")).trim()||void 0,username:String(S("username")).trim()||void 0,password:String(S("password")).trim()||void 0,path:String(S("path")).trim(),gateway_url:String(S("gateway_url")).trim()||null,public_base_url:R??null};case"SMB":{const D=S("port");return{mode:"SMB",name:k,host:String(S("host")).trim(),port:D!==""&&D!==void 0&&Number(D)>0?Number(D):void 0,share:String(S("share")).trim(),username:String(S("username")).trim(),password:String(S("password")).trim(),domain:String(S("domain")).trim(),path:String(S("path")).trim(),public_base_url:R??null}}default:return{mode:"S3",name:k,bucket:"",prefix:"",region:"",endpoint_url:null,access_key_id:"",secret_access_key:""}}},N=()=>{const k={mode:c,name:h.trim(),public_base_url:m.trim()||null,endpoint_url:null};if(c==="S3"){String(S("bucket")).trim()&&(k.bucket=String(S("bucket")).trim()),String(S("region")).trim()&&(k.region=String(S("region")).trim());const R=String(S("endpoint_url")).trim();k.endpoint_url=R||null,(String(S("access_key_id")).trim()||String(S("secret_access_key")).trim())&&(k.access_key_id=String(S("access_key_id")).trim(),k.secret_access_key=String(S("secret_access_key")).trim()),String(S("prefix")).trim()!==void 0&&(k.prefix=String(S("prefix")).trim())}else{String(S("host")).trim()&&(k.host=String(S("host")).trim());const R=S("port");if(R!==""&&R!==void 0&&Number(R)>0&&(k.port=Number(R)),String(S("username")).trim()&&(k.username=String(S("username")).trim()),String(S("password")).trim()&&(k.password=String(S("password")).trim()),String(S("path")).trim()!==void 0&&(k.path=String(S("path")).trim()),c==="FTP"&&(k.secure=!!S("secure")),c==="SFTP"&&String(S("private_key")).trim()&&(k.private_key=String(S("private_key")).trim()),c==="WebDAV"&&String(S("url")).trim()&&(k.url=String(S("url")).trim()),c==="IPFS"){String(S("api_url")).trim()&&(k.api_url=String(S("api_url")).trim()),String(S("api_key")).trim()&&(k.api_key=String(S("api_key")).trim()),String(S("username")).trim()&&(k.username=String(S("username")).trim()),String(S("password")).trim()&&(k.password=String(S("password")).trim());const D=String(S("gateway_url")).trim();k.gateway_url=D||null}if(c==="SMB"){const D=S("port");D!==""&&D!==void 0&&Number(D)>0&&(k.port=Number(D)),String(S("share")).trim()&&(k.share=String(S("share")).trim()),String(S("domain")).trim()&&(k.domain=String(S("domain")).trim())}}return k},P=k=>{k.preventDefault(),t==="create"?n(T()):r!=null&&r.id&&a(r.id,N())},A=w?"(Leave blank to keep existing)":"";return i.jsx("div",{children:i.jsxs("form",{id:"add-delivery-form",className:ze.addExportForm,onSubmit:P,children:[i.jsxs("label",{className:ze.label,children:["Name",i.jsx("input",{className:ze.input,value:h,onChange:k=>f(k.target.value),placeholder:"Production",required:!0})]}),i.jsxs("label",{className:ze.label,children:["Public base URL (optional)",i.jsx("input",{className:ze.input,type:"url",value:m,onChange:k=>b(k.target.value),placeholder:"https://cdn.example.com"})]}),i.jsxs("div",{className:ze.label,children:["Destination type",i.jsx("div",{className:`${ze.statusToggle} ${ze.exportModeToggle}`,role:"group","aria-label":"Export destination type",children:Object.entries(m6).map(([k,R])=>i.jsx("button",{type:"button",className:c===k?ze.statusToggleActive:ze.statusToggleBtn,onClick:()=>{k!==c&&(p(k),j({bucket:"",prefix:"",region:"auto",endpoint_url:"",access_key_id:"",secret_access_key:"",host:"",port:k==="SMB"?"":k==="SFTP"?22:21,username:"",password:"",path:"",secure:!1,private_key:"",url:"",api_url:"",api_key:"",gateway_url:"",share:"",domain:""}))},children:R},k))})]}),c==="S3"&&i.jsxs(i.Fragment,{children:[i.jsxs("label",{className:ze.label,children:["Bucket",i.jsx("input",{className:ze.input,value:String(S("bucket")),onChange:k=>x("bucket",k.target.value),placeholder:A,required:!w})]}),i.jsxs("label",{className:ze.label,children:["Prefix (e.g. podcasts/my-show/)",i.jsx("input",{className:ze.input,value:String(S("prefix")),onChange:k=>x("prefix",k.target.value),placeholder:w?A:void 0})]}),i.jsxs("label",{className:ze.label,children:["Region",i.jsx("input",{className:ze.input,value:String(S("region")),onChange:k=>x("region",k.target.value),placeholder:A,required:!w})]}),i.jsxs("label",{className:ze.label,children:["Endpoint URL (optional, for R2 or other S3-compatible)",i.jsx("input",{className:ze.input,type:"url",value:String(S("endpoint_url")),onChange:k=>x("endpoint_url",k.target.value),placeholder:w?A:"https://..."})]}),i.jsxs("label",{className:ze.label,children:["Access Key ID",i.jsx("input",{className:ze.input,type:"text",value:String(S("access_key_id")),onChange:k=>x("access_key_id",k.target.value),placeholder:A,required:!w})]}),i.jsxs("label",{className:ze.label,children:["Secret Access Key",i.jsx("input",{className:ze.input,type:"password",value:String(S("secret_access_key")),onChange:k=>x("secret_access_key",k.target.value),placeholder:A,required:!w})]})]}),(c==="FTP"||c==="SFTP")&&i.jsxs(i.Fragment,{children:[i.jsxs("label",{className:ze.label,children:["Host",i.jsx("input",{className:ze.input,value:String(S("host")),onChange:k=>x("host",k.target.value),placeholder:w?A:"ftp.example.com",required:!w})]}),i.jsxs("label",{className:ze.label,children:["Port",i.jsx("input",{className:ze.input,type:"number",value:S("port")===""||S("port")===void 0?"":String(S("port")),onChange:k=>x("port",k.target.value===""?"":parseInt(k.target.value,10)||0),placeholder:w?A:void 0,min:1,max:65535})]}),i.jsxs("label",{className:ze.label,children:["Username",i.jsx("input",{className:ze.input,value:String(S("username")),onChange:k=>x("username",k.target.value),placeholder:w?A:void 0,required:!w})]}),i.jsxs("label",{className:ze.label,children:["Password",i.jsx("input",{className:ze.input,type:"password",value:String(S("password")),onChange:k=>x("password",k.target.value),placeholder:A,required:!w})]}),c==="SFTP"&&i.jsxs("label",{className:ze.label,children:["Private key (optional, alternative to password)",i.jsx("textarea",{ref:y,className:ze.input,rows:2,value:String(S("private_key")),onChange:k=>x("private_key",k.target.value),placeholder:A,style:{overflow:"hidden",resize:"none"}})]}),i.jsxs("label",{className:ze.label,children:["Path",i.jsx("input",{className:ze.input,value:String(S("path")),onChange:k=>x("path",k.target.value),placeholder:w?A:"/podcasts/my-show"})]}),c==="FTP"&&i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:!!S("secure"),onChange:k=>x("secure",k.target.checked)}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Use TLS (FTPS)"})]})]}),c==="WebDAV"&&i.jsxs(i.Fragment,{children:[i.jsxs("label",{className:ze.label,children:["WebDAV URL",i.jsx("input",{className:ze.input,type:"url",value:String(S("url")),onChange:k=>x("url",k.target.value),placeholder:w?A:"https://...",required:!w})]}),i.jsxs("label",{className:ze.label,children:["Username",i.jsx("input",{className:ze.input,value:String(S("username")),onChange:k=>x("username",k.target.value),placeholder:w?A:void 0,required:!w})]}),i.jsxs("label",{className:ze.label,children:["Password",i.jsx("input",{className:ze.input,type:"password",value:String(S("password")),onChange:k=>x("password",k.target.value),placeholder:A,required:!w})]}),i.jsxs("label",{className:ze.label,children:["Path",i.jsx("input",{className:ze.input,value:String(S("path")),onChange:k=>x("path",k.target.value),placeholder:w?A:"/remote/path"})]})]}),c==="IPFS"&&i.jsxs(i.Fragment,{children:[i.jsxs("label",{className:ze.label,children:["IPFS API URL",i.jsx("input",{className:ze.input,type:"url",value:String(S("api_url")),onChange:k=>x("api_url",k.target.value),placeholder:w?A:"http://127.0.0.1:5001",required:!w})]}),i.jsxs("label",{className:ze.label,children:["API key (optional)",i.jsx("input",{className:ze.input,type:"password",value:String(S("api_key")),onChange:k=>x("api_key",k.target.value),placeholder:A})]}),i.jsxs("label",{className:ze.label,children:["Username (for Basic auth, e.g. Caddy)",i.jsx("input",{className:ze.input,value:String(S("username")),onChange:k=>x("username",k.target.value),placeholder:w?A:void 0})]}),i.jsxs("label",{className:ze.label,children:["Password (for Basic auth)",i.jsx("input",{className:ze.input,type:"password",value:String(S("password")),onChange:k=>x("password",k.target.value),placeholder:A})]}),i.jsxs("label",{className:ze.label,children:["Gateway URL (for enclosure URLs, e.g. https://ipfs.io/ipfs/)",i.jsx("input",{className:ze.input,type:"url",value:String(S("gateway_url")),onChange:k=>x("gateway_url",k.target.value),placeholder:w?A:"https://ipfs.io/ipfs/"})]}),i.jsxs("label",{className:ze.label,children:["Path",i.jsx("input",{className:ze.input,value:String(S("path")),onChange:k=>x("path",k.target.value),placeholder:w?A:"/deploy"})]})]}),c==="SMB"&&i.jsxs(i.Fragment,{children:[i.jsxs("label",{className:ze.label,children:["Host",i.jsx("input",{className:ze.input,value:String(S("host")),onChange:k=>x("host",k.target.value),placeholder:w?A:"server",required:!w})]}),i.jsxs("label",{className:ze.label,children:["Port (optional, default 445)",i.jsx("input",{className:ze.input,type:"number",value:S("port")===""||S("port")===void 0?"":String(S("port")),onChange:k=>x("port",k.target.value===""?"":parseInt(k.target.value,10)||0),placeholder:w?A:void 0,min:1,max:65535})]}),i.jsxs("label",{className:ze.label,children:["Share name",i.jsx("input",{className:ze.input,value:String(S("share")),onChange:k=>x("share",k.target.value),placeholder:w?A:"podcasts",required:!w})]}),i.jsxs("label",{className:ze.label,children:["Username",i.jsx("input",{className:ze.input,value:String(S("username")),onChange:k=>x("username",k.target.value),placeholder:w?A:void 0,required:!w})]}),i.jsxs("label",{className:ze.label,children:["Password",i.jsx("input",{className:ze.input,type:"password",value:String(S("password")),onChange:k=>x("password",k.target.value),placeholder:A,required:!w})]}),i.jsxs("label",{className:ze.label,children:["Domain (optional)",i.jsx("input",{className:ze.input,value:String(S("domain")),onChange:k=>x("domain",k.target.value),placeholder:w?A:"WORKGROUP"})]}),i.jsxs("label",{className:ze.label,children:["Path",i.jsx("input",{className:ze.input,value:String(S("path")),onChange:k=>x("path",k.target.value),placeholder:w?A:"/subfolder"})]})]}),o&&i.jsx("p",{className:ze.error,children:o})]})})}const ha=ne;function qre({isOpen:e,onClose:t,editingExport:r,formMode:n,isSaving:a,error:o,onSubmitCreate:u,onSubmitUpdate:c}){return i.jsx(cr,{open:e,onOpenChange:p=>!a&&!p&&t(),children:i.jsxs(mr,{children:[i.jsx(ur,{className:ha.dialogOverlay}),i.jsxs(dr,{className:`${ha.dialogContent} ${ha.dialogContentWide} ${ha.dialogContentScrollable} ${ha.dialogShowDetailsGrid}`,children:[i.jsxs("div",{className:ha.dialogHeaderRow,children:[i.jsx(fr,{className:ha.dialogTitle,children:r?"Edit Delivery":"Add Delivery"}),i.jsx(dt,{asChild:!0,children:i.jsx("button",{type:"button",className:ha.dialogClose,"aria-label":"Close",disabled:a,children:i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":"true"})})})]}),i.jsxs(kr,{className:ha.dialogDescription,children:[r?"Update the destination settings.":"Choose a destination type and enter connection details."," Credentials are stored encrypted and cannot be viewed after saving."]}),i.jsx("div",{className:ha.dialogBodyScroll,children:i.jsx(Fre,{open:e,formMode:n,initial:r,onSubmitCreate:u,onSubmitUpdate:c,error:o})}),i.jsxs("div",{className:`${ha.dialogFooter} ${ha.dialogFooterCancelLeft}`,children:[i.jsx(dt,{asChild:!0,children:i.jsx("button",{type:"button",className:ha.cancel,onClick:t,disabled:a,"aria-label":"Cancel",children:"Cancel"})}),i.jsx("button",{type:"submit",form:"add-delivery-form",className:ha.submit,disabled:a,"aria-label":"Save export",children:a?"Saving...":r?"Save":"Add"})]})]})]})})}const no=ne;function Ure({export:e,isOpen:t,onClose:r,onConfirm:n,isPending:a}){return i.jsx(cr,{open:t,onOpenChange:o=>!o&&r(),children:i.jsxs(mr,{children:[i.jsx(ur,{className:no.dialogOverlay}),i.jsxs(dr,{className:no.dialogContent,children:[i.jsxs("div",{className:no.dialogHeaderRow,children:[i.jsx(fr,{className:no.dialogTitle,children:"Remove delivery?"}),i.jsx(dt,{asChild:!0,children:i.jsx("button",{type:"button",className:no.dialogClose,"aria-label":"Close",children:i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":"true"})})})]}),i.jsx(kr,{className:no.dialogDescription,children:e?`This will permanently remove "${e.name}". This cannot be undone.`:"This will permanently remove this destination. This cannot be undone."}),i.jsxs("div",{className:no.dialogActions,children:[i.jsx(dt,{asChild:!0,children:i.jsx("button",{type:"button",className:no.cancel,"aria-label":"Cancel",children:"Cancel"})}),i.jsx("button",{type:"button",className:no.dialogConfirmRemove,onClick:()=>e&&n(e.id),disabled:a,"aria-label":"Confirm remove delivery",children:a?"Removing...":"Remove"})]})]})]})})}const hp={...ne,..._b};function Hre({results:e,error:t,isSuccess:r,isError:n}){return!r&&!n?null:i.jsxs("div",{className:hp.deployAllRow,children:[r&&e&&i.jsx("div",{className:hp.deployAllResults,children:e.map(a=>i.jsxs("p",{className:a.status==="success"?hp.success:hp.error,children:[a.name,": ",a.status==="success"?`Uploaded ${a.uploaded} file(s)${a.skipped&&a.skipped>0?`, ${a.skipped} unchanged`:""}.`:(a.errors??["Failed"]).join("; ")]},a.export_id))}),n&&i.jsx("p",{className:hp.error,children:t==null?void 0:t.message})]})}const ao={...ne,..._b};function Wre({podcastId:e,readOnly:t=!1}){var D,I,q;const r=Bt(),{data:n=[]}=De({queryKey:["exports",e],queryFn:()=>xre(e)}),[a,o]=v.useState(null),[u,c]=v.useState(!1),[p,h]=v.useState(!1),[f,m]=v.useState(null),[b,_]=v.useState(null),j=Ve({mutationFn:z=>wre(e,z),onSuccess:()=>{r.invalidateQueries({queryKey:["exports",e]}),h(!1),m(null)}}),w=Ve({mutationFn:z=>Sre(z.exportId,z.body),onSuccess:()=>{r.invalidateQueries({queryKey:["exports",e]}),h(!1),m(null)}}),y=Ve({mutationFn:z=>jre(z),onSuccess:()=>{o(null),r.invalidateQueries({queryKey:["exports",e]})},onError:()=>o(null)}),x=Ve({mutationFn:()=>Cre(e),onSuccess:()=>c(!1),onError:()=>c(!1)}),S=Ve({mutationFn:z=>kre(z),onSuccess:()=>{r.invalidateQueries({queryKey:["exports",e]}),_(null)}}),T=f?n.find(z=>z.id===f):void 0,N=j.isPending||w.isPending,P=()=>{m(null),h(!0)},A=z=>{m(z.id),h(!0)},k=z=>{o(z),y.mutate(z)},R=()=>{c(!0),x.mutate()};return i.jsxs("div",{className:ao.card,children:[i.jsxs("div",{className:ao.exportHeader,children:[i.jsxs("div",{className:ao.exportTitle,children:[i.jsx(SF,{size:18,strokeWidth:2,"aria-hidden":"true"}),i.jsx("h2",{className:ao.sectionTitle,children:"Podcast Delivery"})]}),!t&&i.jsxs("div",{className:ao.exportHeaderActions,children:[i.jsxs("button",{type:"button",className:ao.gearBtn,onClick:P,"aria-label":"Add delivery destination",children:[i.jsx(Qr,{size:16,strokeWidth:2,"aria-hidden":"true"}),"Add Delivery"]}),n.length>0&&i.jsxs("button",{type:"button",className:ao.deployBtn,onClick:R,disabled:u,"aria-label":"Deploy to all destinations",children:[i.jsx(xF,{size:16,"aria-hidden":!0}),u?"Deploying...":"Deploy"]})]})]}),i.jsx("p",{className:ao.pdCardSectionSub,children:"Deploy your RSS feed and episode audio files to one or more destinations. Credentials are stored encrypted and cannot be viewed after saving."}),n.length===0?i.jsx("p",{className:ao.pdCardEmptyState,children:"No delivery destinations configured. Add one to get started."}):i.jsx(zre,{exports:n,readOnly:t,testingId:a,testMutation:y,onTest:k,onEdit:A,onDelete:_,isDeleting:S.isPending}),!t&&n.length>0&&i.jsx(Hre,{results:(D=x.data)==null?void 0:D.results,error:x.error,isSuccess:x.isSuccess,isError:x.isError}),i.jsx(qre,{isOpen:p,onClose:()=>{h(!1),m(null)},editingExport:T,formMode:T?"edit":"create",isSaving:N,error:j.isError?(I=j.error)==null?void 0:I.message:w.isError?(q=w.error)==null?void 0:q.message:void 0,onSubmitCreate:z=>j.mutate(z),onSubmitUpdate:(z,M)=>w.mutate({exportId:z,body:M})}),i.jsx(Ure,{export:b,isOpen:!!b,onClose:()=>_(null),onConfirm:z=>S.mutate(z),isPending:S.isPending})]})}const Kre="_collabForm_1bd34_4",Gre="_collabFormInputWrap_1bd34_12",Vre="_input_1bd34_17",Yre="_collabFormActions_1bd34_26",Qre="_collabFormInput_1bd34_12",Xre="_roleSelect_1bd34_64",Zre="_collabLimitCard_1bd34_74",Jre="_collabError_1bd34_85",ene="_collabEmptyState_1bd34_105",tne="_statusToggle_1bd34_113",rne="_statusToggleBtn_1bd34_121",nne="_statusToggleActive_1bd34_122",ane="_collabMetaWrap_1bd34_150",ine="_collabRoleIcon_1bd34_157",sne="_collabCardActions_1bd34_165",one="_collabDeleteBtn_1bd34_178",lne="_invitePlatformBtn_1bd34_204",iC={collabForm:Kre,collabFormInputWrap:Gre,input:Vre,collabFormActions:Yre,collabFormInput:Qre,roleSelect:Xre,collabLimitCard:Zre,collabError:Jre,collabEmptyState:ene,statusToggle:tne,statusToggleBtn:rne,statusToggleActive:nne,collabMetaWrap:ane,collabRoleIcon:ine,collabCardActions:sne,collabDeleteBtn:one,invitePlatformBtn:lne},Ri={...ne,...iC};function cne({podcastId:e,atLimit:t,limitValue:r,onSuccess:n}){const a=Bt(),[o,u]=v.useState(""),[c,p]=v.useState("editor"),[h,f]=v.useState(null),[m,b]=v.useState(null),[_,j]=v.useState(!1),w=Ve({mutationFn:T=>cQ(e,T),onSuccess:()=>{a.invalidateQueries({queryKey:["collaborators",e]}),a.invalidateQueries({queryKey:["podcasts"]}),u(""),f(null),b(null),n()},onError:T=>{var N,P;T instanceof u6&&((N=T.data)==null?void 0:N.code)==="USER_NOT_FOUND"&&((P=T.data)!=null&&P.email)?(b(T.data.email),f("This person is not on the platform yet.")):(f(T instanceof Error?T.message:"Failed to add collaborator"),b(null))}}),y=Ve({mutationFn:T=>fQ({email:T}),onSuccess:()=>{b(null),j(!1)},onError:()=>j(!1)});function x(T){T.preventDefault(),f(null),b(null);const N=o.trim().toLowerCase();N&&w.mutate({email:N,role:c})}function S(){m&&(j(!0),y.mutate(m))}return t?i.jsxs("div",{className:Ri.collabLimitCard,role:"status",children:["This show has reached its collaborator limit (",r,"). Remove someone to invite another."]}):i.jsxs(i.Fragment,{children:[i.jsxs("form",{onSubmit:x,className:Ri.collabForm,children:[i.jsx("div",{className:Ri.collabFormInputWrap,children:i.jsx("input",{type:"email",placeholder:"Email",value:o,onChange:T=>u(T.target.value),className:Ri.collabFormInput,required:!0})}),i.jsxs("div",{className:Ri.collabFormActions,children:[i.jsx("div",{className:Ri.statusToggle,role:"group","aria-label":"Role",children:["view","editor","manager"].map(T=>i.jsx("button",{type:"button",className:c===T?Ri.statusToggleActive:Ri.statusToggleBtn,onClick:()=>p(T),"aria-pressed":c===T,"aria-label":T.charAt(0).toUpperCase()+T.slice(1),children:T.charAt(0).toUpperCase()+T.slice(1)},T))}),i.jsxs("button",{type:"submit",className:Ri.gearBtn,disabled:w.isPending,"aria-label":"Add collaborator",children:[i.jsx(ph,{size:16,strokeWidth:2,"aria-hidden":!0}),w.isPending?"Adding...":"Add"]})]})]}),h&&i.jsxs("div",{className:Ri.collabError,children:[i.jsx("p",{children:h}),m&&i.jsx("button",{type:"button",className:Ri.invitePlatformBtn,onClick:S,disabled:y.isPending||_,children:y.isPending||_?"Sending...":"Invite them to join the platform"})]})]})}const Oi={...ne,...iC},une={owner:EF,manager:Lq,editor:sb,view:DF},dne=14;function fne({collaborators:e,podcastId:t,onRemove:r,isRemoving:n}){const a=Bt();return i.jsx("ul",{className:Oi.exportList,children:e.map(o=>{const u=une[o.role];return i.jsx("li",{className:Oi.exportCard,children:i.jsxs("div",{className:Oi.exportCardRow,children:[i.jsx("div",{className:Oi.exportCardMeta,children:i.jsxs("div",{className:Oi.collabMetaWrap,children:[u&&i.jsx("span",{className:Oi.collabRoleIcon,"aria-hidden":!0,children:i.jsx(u,{size:dne})}),i.jsx("strong",{children:o.email})]})}),i.jsxs("div",{className:Oi.collabCardActions,children:[i.jsx("div",{className:Oi.statusToggle,role:"group","aria-label":`Role for ${o.email}`,children:["view","editor","manager"].map(c=>i.jsx("button",{type:"button",className:o.role===c?Oi.statusToggleActive:Oi.statusToggleBtn,onClick:()=>{c!==o.role&&uQ(t,o.user_id,{role:c}).then(()=>{a.invalidateQueries({queryKey:["collaborators",t]})})},"aria-pressed":o.role===c,"aria-label":c.charAt(0).toUpperCase()+c.slice(1),children:c.charAt(0).toUpperCase()+c.slice(1)},c))}),i.jsx("button",{type:"button",className:Oi.collabDeleteBtn,onClick:()=>r({user_id:o.user_id,email:o.email}),disabled:n,"aria-label":`Remove ${o.email}`,children:i.jsx(Wl,{size:16,"aria-hidden":!0})})]})]})},o.user_id)})})}const io=ne;function pne({collaborator:e,isOpen:t,onClose:r,onConfirm:n,isPending:a}){return i.jsx(cr,{open:t,onOpenChange:o=>!o&&r(),children:i.jsxs(mr,{children:[i.jsx(ur,{className:io.dialogOverlay}),i.jsxs(dr,{className:io.dialogContent,children:[i.jsxs("div",{className:io.dialogHeaderRow,children:[i.jsx(fr,{className:io.dialogTitle,children:"Remove collaborator?"}),i.jsx(dt,{asChild:!0,children:i.jsx("button",{type:"button",className:io.dialogClose,"aria-label":"Close",children:i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":"true"})})})]}),i.jsx(kr,{className:io.dialogDescription,children:e?`This will remove ${e.email} from this show. They will lose access.`:"This will remove this collaborator from this show."}),i.jsxs("div",{className:io.dialogActions,children:[i.jsx(dt,{asChild:!0,children:i.jsx("button",{type:"button",className:io.cancel,"aria-label":"Cancel",children:"Cancel"})}),i.jsx("button",{type:"button",className:io.dialogConfirmRemove,onClick:()=>e&&n(e.user_id),disabled:a,"aria-label":"Confirm remove collaborator",children:a?"Removing...":"Remove"})]})]})]})})}const vc={...ne,...iC};function hne({podcastId:e,effectiveMaxCollaborators:t}){const r=Bt(),{data:n,isLoading:a}=De({queryKey:["collaborators",e],queryFn:()=>lQ(e).then(f=>f.collaborators),enabled:!!e}),o=n??[],u=t!=null&&t>0&&o.length>=t,[c,p]=v.useState(null),h=Ve({mutationFn:f=>dQ(e,f),onSuccess:()=>{r.invalidateQueries({queryKey:["collaborators",e]}),r.invalidateQueries({queryKey:["podcasts"]}),p(null)}});return i.jsxs("div",{className:vc.card,children:[i.jsx("div",{className:vc.exportHeader,children:i.jsxs("div",{className:vc.exportTitle,children:[i.jsx(mh,{size:18,strokeWidth:2,"aria-hidden":"true"}),i.jsx("h2",{className:vc.sectionTitle,children:"Collaborators"})]})}),i.jsx("p",{className:vc.pdCardSectionSub,children:"Invite others to this show. View: read-only. Editor: edit segments and build the episode. Manager: edit metadata, episodes, and exports."}),i.jsx(cne,{podcastId:e,atLimit:u,limitValue:t,onSuccess:()=>{}}),a?i.jsx("p",{className:vc.pdCardEmptyState,children:"Loading..."}):o.length===0?i.jsx("p",{className:vc.pdCardEmptyState,children:"No collaborators yet. Add someone by email above."}):i.jsxs(i.Fragment,{children:[i.jsx(fne,{collaborators:o,podcastId:e,onRemove:p,isRemoving:h.isPending}),i.jsx(pne,{collaborator:c,isOpen:!!c,onClose:()=>p(null),onConfirm:f=>h.mutate(f),isPending:h.isPending})]})]})}const mne="_tokenForm_19kjj_4",gne="_collabForm_19kjj_5",vne="_tokenFormInputWrap_19kjj_13",yne="_collabFormInputWrap_19kjj_14",bne="_tokenFormInput_19kjj_13",_ne="_tokenFormActions_19kjj_51",xne="_toggle_19kjj_58",wne="_createTokenBtn_19kjj_67",Sne="_tokenActionBtn_19kjj_95",jne="_tokenExtendForm_19kjj_123",Cne="_tokenExtendInput_19kjj_130",kne="_tokenExtendActions_19kjj_151",Nne="_tokenExtendSave_19kjj_157",Ene="_tokenExtendCancel_19kjj_182",Tne="_tokenCreatedHeader_19kjj_232",Pne="_tokenCreatedContent_19kjj_237",Ane="_tokenCreatedActions_19kjj_241",Rne="_tokenCreatedCopyBtn_19kjj_245",One="_tokenCreatedDismissBtn_19kjj_250",Dne="_tokenControls_19kjj_256",Mne="_tokenSearchWrapper_19kjj_266",Lne="_tokenSearchIcon_19kjj_272",Ine="_tokenSearchInput_19kjj_281",$ne="_tokenSortToggle_19kjj_303",Bne="_tokenSortBtn_19kjj_311",zne="_tokenSortBtnActive_19kjj_312",Fne="_tokenPaginationWrap_19kjj_344",qne="_tokenPaginationMeta_19kjj_351",Une="_tokenPagination_19kjj_344",Hne="_tokenPageBtn_19kjj_366",Wne="_tokenPageInfo_19kjj_388",Kne="_tokenCardMeta_19kjj_394",Gne="_tokenCardMetaRow_19kjj_401",Vne="_tokenMetaText_19kjj_410",Yne="_tokenCardActions_19kjj_416",Qne="_tokenDeleteBtn_19kjj_424",Xne="_tokenCreatedCard_19kjj_450",Zne="_tokenCreatedTitle_19kjj_474",Jne="_tokenUrl_19kjj_481",eae="_subscriberDisabledBody_19kjj_543",tae="_subscriberDisabledMessage_19kjj_548",rae="_subscriberDisabledActions_19kjj_554",nae="_subscriberInfoBtn_19kjj_561",aae="_subscriberEnableBtn_19kjj_583",iae="_subscriberDialogConfirmBtn_19kjj_610",sae="_subscriberDialogCancelBtn_19kjj_637",oae="_subscriberInfoBody_19kjj_660",lae="_tokenMuted_19kjj_676",cae="_tokenNoMatch_19kjj_682",uae="_tokenNoMatchText_19kjj_691",Ua={tokenForm:mne,collabForm:gne,tokenFormInputWrap:vne,collabFormInputWrap:yne,tokenFormInput:bne,tokenFormActions:_ne,toggle:xne,createTokenBtn:wne,tokenActionBtn:Sne,tokenExtendForm:jne,tokenExtendInput:Cne,tokenExtendActions:kne,tokenExtendSave:Nne,tokenExtendCancel:Ene,tokenCreatedHeader:Tne,tokenCreatedContent:Pne,tokenCreatedActions:Ane,tokenCreatedCopyBtn:Rne,tokenCreatedDismissBtn:One,tokenControls:Dne,tokenSearchWrapper:Mne,tokenSearchIcon:Lne,tokenSearchInput:Ine,tokenSortToggle:$ne,tokenSortBtn:Bne,tokenSortBtnActive:zne,tokenPaginationWrap:Fne,tokenPaginationMeta:qne,tokenPagination:Une,tokenPageBtn:Hne,tokenPageInfo:Wne,tokenCardMeta:Kne,tokenCardMetaRow:Gne,tokenMetaText:Vne,tokenCardActions:Yne,tokenDeleteBtn:Qne,tokenCreatedCard:Xne,tokenCreatedTitle:Zne,tokenUrl:Jne,subscriberDisabledBody:eae,subscriberDisabledMessage:tae,subscriberDisabledActions:rae,subscriberInfoBtn:nae,subscriberEnableBtn:aae,subscriberDialogConfirmBtn:iae,subscriberDialogCancelBtn:sae,subscriberInfoBody:oae,tokenMuted:lae,tokenNoMatch:cae,tokenNoMatchText:uae},vl={...ne,...Ua};function dae({isOpen:e,onClose:t}){return i.jsx(cr,{open:e,onOpenChange:t,children:i.jsxs(mr,{children:[i.jsx(ur,{className:vl.dialogOverlay}),i.jsxs(dr,{className:vl.dialogContent,"aria-describedby":"subscriber-info-desc",children:[i.jsxs("div",{className:vl.dialogHeaderRow,children:[i.jsx(fr,{className:vl.dialogTitle,children:"How subscriber feeds work"}),i.jsx(dt,{asChild:!0,children:i.jsx("button",{type:"button",className:vl.dialogClose,"aria-label":"Close",children:i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":"true"})})})]}),i.jsxs("div",{id:"subscriber-info-desc",className:vl.subscriberInfoBody,children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Subscriber-only feeds"})," let you share a private RSS feed with specific people. Each subscriber gets a unique feed URL that only they can use."]}),i.jsxs("p",{children:["You create ",i.jsx("strong",{children:"tokens"})," (one per subscriber or group). For each token you get a secret feed link. Share that link with the subscriber-they add it to their podcast app like any other feed. The feed can include ",i.jsx("strong",{children:"subscriber-only episodes"})," that you mark in the episode editor; those episodes do not appear in your public feed or on the public show page."]}),i.jsxs("p",{children:["You can set optional ",i.jsx("strong",{children:"valid from"})," and ",i.jsx("strong",{children:"valid until"})," dates to limit when a token works, and you can ",i.jsx("strong",{children:"disable"})," or ",i.jsx("strong",{children:"delete"})," tokens anytime. Disabled tokens stop working; deleted tokens are removed. The raw token is only shown once when you create it-copy the feed URL then."]}),i.jsx("p",{children:"Enable subscriptions above to create tokens and start sharing a private feed."})]}),i.jsx("div",{className:vl.dialogActions,children:i.jsx(dt,{asChild:!0,children:i.jsx("button",{type:"button",className:vl.subscriberDialogConfirmBtn,"aria-label":"Close",children:"Got it"})})})]})]})})}const yl={...ne,...Ua};function fae({token:e,baseUrl:t,onDismiss:r,copied:n,onCopy:a}){return i.jsx("div",{className:yl.tokenCreatedCard,role:"status",children:i.jsxs("div",{className:yl.tokenCreatedHeader,children:[i.jsxs("div",{className:yl.tokenCreatedContent,children:[i.jsx("p",{className:yl.tokenCreatedTitle,children:"Token created. Copy the feed URL now - it won't be shown again."}),i.jsxs("code",{className:yl.tokenUrl,children:[t,"/private/",e.slice(0,12),"..."]})]}),i.jsxs("div",{className:yl.tokenCreatedActions,children:[i.jsxs("button",{type:"button",className:yl.tokenCreatedCopyBtn,onClick:()=>a(e),"aria-label":"Copy full feed URL",children:[n?i.jsx(Rj,{size:16,"aria-hidden":!0}):i.jsx(fh,{size:16,"aria-hidden":!0}),n?"Copied":"Copy feed URL"]}),i.jsxs("button",{type:"button",className:yl.tokenCreatedDismissBtn,onClick:r,children:[i.jsx(Nt,{size:16,"aria-hidden":!0}),"Dismiss"]})]})]})})}function Bd(e){const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0"),a=String(e.getHours()).padStart(2,"0"),o=String(e.getMinutes()).padStart(2,"0");return`${t}-${r}-${n}T${a}:${o}`}const bl={...ne,...Ua};function pae({podcastId:e,atLimit:t,limitValue:r,onSuccess:n}){const a=Bt(),[o,u]=v.useState(""),[c,p]=v.useState(""),[h,f]=v.useState(!0),[m,b]=v.useState(()=>{const w=new Date(Date.now()+31536e6);return Bd(w)}),_=Ve({mutationFn:w=>gQ(e,w),onSuccess:w=>{a.invalidateQueries({queryKey:["subscriber-tokens",e]}),a.invalidateQueries({queryKey:["subscriber-tokens-count",e]}),n(w.token),u(""),p(""),f(!0);const y=new Date(Date.now()+365*24*60*60*1e3);b(Bd(y))}}),j=w=>{if(w.preventDefault(),!o.trim())return;const y=c.trim()?new Date(c).toISOString():void 0,x=h&&m.trim()?new Date(m).toISOString():void 0;_.mutate({name:o.trim(),...y?{valid_from:y}:{},...x?{valid_until:x}:{}})};return i.jsxs("form",{className:bl.tokenForm,onSubmit:j,children:[i.jsx("div",{className:bl.tokenFormInputWrap,children:i.jsx("input",{type:"text",placeholder:"Token name (e.g. Subscriber name)",value:o,onChange:w=>u(w.target.value),className:bl.tokenFormInput,disabled:t,required:!0})}),i.jsxs("div",{className:bl.tokenFormActions,"data-expires":h,children:[i.jsxs("label",{className:"toggle",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx("input",{type:"checkbox",checked:h,disabled:t,onChange:w=>f(w.target.checked)}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{style:{fontSize:"0.875rem",fontWeight:500},children:"Expires"})]}),h&&i.jsx("input",{type:"datetime-local",placeholder:"Valid until",disabled:t,value:m,onChange:w=>b(w.target.value),className:bl.tokenFormInput}),i.jsxs("button",{type:"submit",className:bl.createTokenBtn,disabled:_.isPending||t,title:t?`You're at max subscriber tokens for this show (${r})`:void 0,children:[i.jsx(Qr,{size:16,strokeWidth:2,"aria-hidden":!0}),_.isPending?"Creating...":"Create Token"]})]}),_.isError&&i.jsx("p",{className:bl.error,children:_.error.message}),t&&i.jsxs("p",{className:bl.error,children:["You're at max subscriber tokens for this show (",r,"). Delete a token to create a new one."]})]})}const so={...ne,...Ua};function g6({searchQuery:e,onSearchChange:t,sortNewestFirst:r,onSortChange:n,totalCount:a}){return a===0?null:i.jsxs("div",{className:so.tokenControls,children:[i.jsxs("div",{className:so.tokenSearchWrapper,children:[i.jsx(Dj,{className:so.tokenSearchIcon,size:18,strokeWidth:2,"aria-hidden":!0}),i.jsx("input",{type:"search",className:so.tokenSearchInput,placeholder:"Search by name...",value:e,onChange:o=>t(o.target.value),"aria-label":"Search tokens"})]}),i.jsxs("div",{className:so.tokenSortToggle,role:"group","aria-label":"Sort order",children:[i.jsxs("button",{type:"button",className:r?so.tokenSortBtnActive:so.tokenSortBtn,"aria-label":"Sort newest first",onClick:()=>n(!0),children:[i.jsx(Yd,{size:16,strokeWidth:2,"aria-hidden":!0}),"Newest"]}),i.jsxs("button",{type:"button",className:r?so.tokenSortBtn:so.tokenSortBtnActive,"aria-label":"Sort oldest first",onClick:()=>n(!1),children:[i.jsx(Qd,{size:16,strokeWidth:2,"aria-hidden":!0}),"Oldest"]})]})]})}const In={...ne,...Ua};function v6({name:e,status:t,metaText:r,readOnly:n,extendEditing:a,extendValue:o,onExtendValueChange:u,onExtendSave:c,onExtendCancel:p,onExtendClick:h,onEnableDisable:f,enableDisableDisabled:m,onRevoke:b,revokeDisabled:_,updatePending:j,revokeLabel:w="Revoke"}){const y=t==="expired"?"Expired":t==="disabled"?"Disabled":"Active",x=t==="active"?In.statusBadgeActive:In.statusBadgeDisabledDanger;return i.jsx("li",{className:In.exportCard,children:i.jsxs("div",{className:In.exportCardRow,children:[i.jsxs("div",{className:In.tokenCardMeta,children:[i.jsx("strong",{children:e}),i.jsxs("div",{className:In.tokenCardMetaRow,children:[i.jsx("span",{className:x,children:y}),i.jsx("span",{className:In.tokenMetaText,children:r})]})]}),!n&&i.jsx("div",{className:In.tokenCardActions,children:a?i.jsxs("div",{className:In.tokenExtendForm,children:[i.jsx("input",{type:"datetime-local",value:o,onChange:S=>u(S.target.value),className:In.tokenExtendInput}),i.jsxs("div",{className:In.tokenExtendActions,children:[i.jsx("button",{type:"button",className:In.tokenExtendSave,onClick:c,disabled:j,children:"Save"}),i.jsx("button",{type:"button",className:In.tokenExtendCancel,onClick:p,children:"Cancel"})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("button",{type:"button",className:In.tokenActionBtn,onClick:h,"aria-label":"Extend",children:[i.jsx(fF,{size:16,"aria-hidden":!0}),"Extend"]}),i.jsxs("button",{type:"button",className:In.tokenActionBtn,onClick:f,disabled:m,"aria-label":m?"Expired token cannot be modified":t==="disabled"||t==="expired"?"Enable":"Disable",title:m?"Expired tokens cannot be enabled or disabled. Extend the expiration date first.":void 0,children:[t==="disabled"||t==="expired"?i.jsx(Eq,{size:16,"aria-hidden":!0}):i.jsx(uF,{size:16,"aria-hidden":!0}),t==="disabled"||t==="expired"?"Enable":"Disable"]}),i.jsx("button",{type:"button",className:In.tokenDeleteBtn,onClick:b,disabled:_,"aria-label":`${w} ${e}`,children:i.jsx(Wl,{size:16,"aria-hidden":!0})})]})})]})})}const hae={...ne,...Ua};function oA(e){return e.valid_until!=null&&new Date(e.valid_until)<new Date?"expired":e.disabled?"disabled":"active"}function mae(e){const t=[`Created ${new Date(e.created_at).toLocaleDateString()}`];return e.valid_until&&t.push(`Expires ${new Date(e.valid_until).toLocaleDateString()}`),e.last_used_at&&t.push(`Last used ${new Date(e.last_used_at).toLocaleDateString()}`),t.join("  ")}function gae({tokens:e,podcastId:t,readOnly:r,onDelete:n}){const a=Bt(),[o,u]=v.useState(null),[c,p]=v.useState(""),h=Ve({mutationFn:({tokenId:f,body:m})=>vQ(t,f,m),onSuccess:()=>{a.invalidateQueries({queryKey:["subscriber-tokens",t]}),u(null),p("")}});return i.jsx("ul",{className:hae.exportList,children:e.map(f=>i.jsx(v6,{name:f.name,status:oA(f),metaText:mae(f),readOnly:r,extendEditing:o===f.id,extendValue:c,onExtendValueChange:p,onExtendSave:()=>{if(c.trim()){const m=new Date(c).toISOString();h.mutate({tokenId:f.id,body:{valid_until:m}})}},onExtendCancel:()=>{u(null),p("")},onExtendClick:()=>{u(f.id);const m=new Date(Date.now()+365*24*60*60*1e3);p(Bd(m))},onEnableDisable:()=>h.mutate({tokenId:f.id,body:{disabled:!f.disabled}}),enableDisableDisabled:h.isPending||oA(f)==="expired",onRevoke:()=>n(f),revokeDisabled:!1,updatePending:h.isPending,revokeLabel:"Delete"},f.id))})}const id={...ne,...Ua};function y6({page:e,totalPages:t,rangeStart:r,rangeEnd:n,totalTokens:a,onPageChange:o,itemLabel:u="token"}){if(t<=1)return null;const c=a===1?u:`${u}s`;return i.jsxs("div",{className:id.tokenPaginationWrap,children:[i.jsxs("p",{className:id.tokenPaginationMeta,children:["Showing ",r,"",n," of ",a," ",c]}),i.jsxs("div",{className:id.tokenPagination,children:[i.jsx("button",{type:"button",className:id.tokenPageBtn,onClick:()=>{const p=Math.max(1,e-1);p!==e&&o(p)},disabled:e<=1,"aria-label":"Previous page",children:"Previous"}),i.jsxs("span",{className:id.tokenPageInfo,children:["Page ",e," of ",t]}),i.jsx("button",{type:"button",className:id.tokenPageBtn,onClick:()=>{const p=Math.min(t,e+1);p!==e&&o(p)},disabled:e>=t,"aria-label":"Next page",children:"Next"})]})]})}const oo={...ne,...Ua};function vae({token:e,isOpen:t,onClose:r,onConfirm:n,isPending:a}){return i.jsx(cr,{open:t,onOpenChange:o=>!o&&r(),children:i.jsxs(mr,{children:[i.jsx(ur,{className:oo.dialogOverlay}),i.jsxs(dr,{className:oo.dialogContent,children:[i.jsxs("div",{className:oo.dialogHeaderRow,children:[i.jsx(fr,{className:oo.dialogTitle,children:"Delete token?"}),i.jsx(dt,{asChild:!0,children:i.jsx("button",{type:"button",className:oo.dialogClose,"aria-label":"Close",children:i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":"true"})})})]}),i.jsx(kr,{className:oo.dialogDescription,children:e?`This will permanently delete the token "${e.name}". Subscribers using this feed URL will no longer be able to access the feed. This cannot be undone.`:"This will permanently delete this token. This cannot be undone."}),i.jsxs("div",{className:oo.dialogActions,children:[i.jsx(dt,{asChild:!0,children:i.jsx("button",{type:"button",className:oo.subscriberDialogCancelBtn,"aria-label":"Cancel",children:"Cancel"})}),i.jsx("button",{type:"button",className:oo.dialogConfirmRemove,onClick:()=>{e&&(n(e.id),r())},disabled:a,"aria-label":"Confirm delete token",children:a?"Deleting...":"Delete"})]})]})]})})}const ma={...ne,...Ua};function yae({podcastId:e,podcastSlug:t,readOnly:r,subscriberOnlyFeedEnabled:n,effectiveMaxSubscriberTokens:a}){const o=Bt(),[u,c]=v.useState(!1),[p,h]=v.useState(""),[f,m]=v.useState(""),[b,_]=v.useState(!0),[j,w]=v.useState(1),[y,x]=v.useState(null),[S,T]=v.useState(null),[N,P]=v.useState(!1),A=10,k=v.useRef(null),R=v.useRef(!0),D=v.useRef(void 0);v.useEffect(()=>{if(p.trim()===""){m(""),w(1);return}const xe=window.setTimeout(()=>{m(p.trim()),w(1)},300);return()=>window.clearTimeout(xe)},[p]),v.useEffect(()=>{w(1)},[b]),v.useEffect(()=>{D.current!==void 0&&D.current!==j&&(R.current=!1),D.current=j},[j]);const{data:I,isLoading:q}=De({queryKey:["subscriber-tokens",e,j,f,b],queryFn:()=>nA(e,{limit:A,offset:(j-1)*A,q:f||void 0,sort:b?"newest":"oldest"}),enabled:!!e&&n});v.useEffect(()=>{if(R.current||q)return;R.current=!0;const xe=k.current,He=requestAnimationFrame(()=>{xe==null||xe.scrollIntoView({behavior:"smooth",block:"start"})});return()=>cancelAnimationFrame(He)},[j,q]);const z=(I==null?void 0:I.tokens)??[],M=(I==null?void 0:I.total)??0,F=Math.max(1,Math.ceil(M/A)),B=Math.max(1,Math.min(j,F)),O=M===0?0:(B-1)*A+1,$=(B-1)*A+z.length;v.useEffect(()=>{I!=null&&M>0&&w(xe=>xe>F?Math.max(1,F):xe)},[F,I,M]);const{data:K}=De({queryKey:["subscriber-tokens-count",e],queryFn:()=>nA(e,{limit:1,offset:0}),enabled:!!e&&n}),Y=(K==null?void 0:K.total)??0,Z=a!=null&&a>0&&Y>=a,H=Ve({mutationFn:()=>rC(e,{subscriber_only_feed_enabled:1}),onSuccess:()=>{o.invalidateQueries({queryKey:["podcast",e]})}}),X=Ve({mutationFn:xe=>yQ(e,xe),onSuccess:()=>{o.invalidateQueries({queryKey:["subscriber-tokens",e]}),o.invalidateQueries({queryKey:["subscriber-tokens-count",e]})}}),te=typeof window<"u"?`${window.location.origin}/api/public/podcasts/${encodeURIComponent(t)}`:"";function le(xe){const He=`${te}/private/${encodeURIComponent(xe)}/rss`;navigator.clipboard.writeText(He).then(()=>{P(!0),setTimeout(()=>P(!1),2e3)})}function me(xe){h(xe)}function ke(xe){_(xe)}return i.jsxs("div",{className:ma.card,children:[i.jsx("div",{className:ma.exportHeader,children:i.jsxs("div",{className:ma.exportTitle,children:[i.jsx(YM,{size:18,strokeWidth:2,"aria-hidden":"true"}),i.jsx("h2",{ref:k,className:ma.sectionTitle,children:"Subscriber Tokens"})]})}),n?i.jsxs(i.Fragment,{children:[i.jsx("p",{className:ma.pdCardSectionSub,children:"Create tokens for private RSS feeds. Each token gets a unique feed URL that includes subscriber-only episodes. Share the URL only with the intended subscriber. Disabled and read-only users cannot create or delete tokens."}),!r&&i.jsx(pae,{podcastId:e,atLimit:Z,limitValue:a,onSuccess:x}),y&&i.jsx(fae,{token:y,baseUrl:te,onDismiss:()=>x(null),copied:N,onCopy:le}),i.jsx(g6,{searchQuery:p,onSearchChange:me,sortNewestFirst:b,onSortChange:ke,totalCount:Y}),q?i.jsx("p",{className:ma.pdCardEmptyState,children:"Loading..."}):Y===0?i.jsx("p",{className:ma.pdCardEmptyState,children:"No subscriber tokens yet. Create one above to share a private feed URL."}):M===0?i.jsx("div",{className:ma.tokenNoMatch,children:i.jsx("p",{className:ma.tokenNoMatchText,children:"No tokens match your search."})}):i.jsxs(i.Fragment,{children:[i.jsx(gae,{tokens:z,podcastId:e,readOnly:r,onDelete:T}),i.jsx(y6,{page:B,totalPages:F,rangeStart:O,rangeEnd:$,totalTokens:M,onPageChange:w})]}),i.jsx(vae,{token:S,isOpen:!!S,onClose:()=>T(null),onConfirm:xe=>X.mutate(xe),isPending:X.isPending})]}):i.jsxs("div",{className:ma.subscriberDisabledBody,children:[i.jsx("p",{className:ma.subscriberDisabledMessage,children:"Subscriptions is currently disabled."}),i.jsxs("div",{className:ma.subscriberDisabledActions,children:[i.jsx("button",{type:"button",className:ma.subscriberInfoBtn,onClick:()=>c(!0),"aria-label":"More info about subscriber feature",children:"More Info"}),i.jsx("button",{type:"button",className:ma.subscriberEnableBtn,onClick:()=>H.mutate(),disabled:H.isPending,"aria-label":"Enable subscriptions for this show",children:H.isPending?"Enabling...":"Enable"})]}),i.jsx(dae,{isOpen:u,onClose:()=>c(!1)})]})]})}const bae="_page_1jltr_3",_ae="_error_1jltr_8",xae={page:bae,error:_ae},Y1={...ne,...xae};function wae(){const{id:e}=wi(),{data:t,isLoading:r,isFetching:n,isError:a}=De({queryKey:["podcast",e],queryFn:()=>pu(e),enabled:!!e}),{data:o}=De({queryKey:["me"],queryFn:Si}),{data:u}=De({queryKey:["publicConfig",typeof window<"u"?window.location.host:""],queryFn:uu,staleTime:1e4}),c=(u==null?void 0:u.public_feeds_enabled)!==!1,p=lu(o==null?void 0:o.user),h=t==null?void 0:t.my_role,f=h==="owner"||h==="manager",[m,b]=v.useState(!1),[_,j]=v.useState(!1);if(!e)return null;if(r||!t&&n)return i.jsx(_a,{});if(a||!t)return i.jsx("p",{className:Y1.error,children:"Podcast not found."});const w=[{label:"Home",href:"/"},{label:t.title,mobileLabel:"Podcast"}];return i.jsxs("div",{className:Y1.page,children:[i.jsx(rf,{items:w}),i.jsxs("div",{className:Y1.card,children:[i.jsx(Cte,{podcast:t,readOnly:p,canManageShow:f,onEditClick:()=>b(!0),onLinksClick:()=>j(!0),centerTitle:!0}),i.jsx(kte,{podcast:t,publicFeedsEnabled:c})]}),m&&i.jsx(p6,{open:!0,podcastId:e,onClose:()=>b(!1)}),_&&i.jsx(Kee,{open:!0,podcastId:e,onClose:()=>j(!1)}),i.jsx(Nte,{podcast:t}),i.jsx(_re,{podcastId:e,myRole:h}),f&&i.jsx(hne,{podcastId:e,effectiveMaxCollaborators:(t==null?void 0:t.effective_max_collaborators)??void 0}),f&&i.jsx(Wre,{podcastId:e,readOnly:p}),f&&i.jsx(yae,{podcastId:e,podcastSlug:t.slug,readOnly:p,subscriberOnlyFeedEnabled:(t==null?void 0:t.subscriber_only_feed_enabled)===1,effectiveMaxSubscriberTokens:(t==null?void 0:t.effective_max_subscriber_tokens)??void 0})]})}function b6(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=b6(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function $t(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=b6(e))&&(n&&(n+=" "),n+=t);return n}var Sae=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function sC(e){if(typeof e!="string")return!1;var t=Sae;return t.includes(e)}var jae=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Cae=new Set(jae);function _6(e){return typeof e!="string"?!1:Cae.has(e)}function x6(e){return typeof e=="string"&&e.startsWith("data-")}function ra(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(_6(r)||x6(r))&&(t[r]=e[r]);return t}function Jc(e){if(e==null)return null;if(v.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return ra(t)}return typeof e=="object"&&!Array.isArray(e)?ra(e):null}function Un(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(_6(r)||x6(r)||sC(r))&&(t[r]=e[r]);return t}function kae(e){return e==null?null:v.isValidElement(e)?Un(e.props):typeof e=="object"&&!Array.isArray(e)?Un(e):null}var Nae=["children","width","height","viewBox","className","style","title","desc"];function wS(){return wS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wS.apply(null,arguments)}function Eae(e,t){if(e==null)return{};var r,n,a=Tae(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Tae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var oC=v.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:o,className:u,style:c,title:p,desc:h}=e,f=Eae(e,Nae),m=o||{width:n,height:a,x:0,y:0},b=$t("recharts-surface",u);return v.createElement("svg",wS({},Un(f),{className:b,width:n,height:a,style:c,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),v.createElement("title",null,p),v.createElement("desc",null,h),r)}),Pae=["children","className"];function SS(){return SS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},SS.apply(null,arguments)}function Aae(e,t){if(e==null)return{};var r,n,a=Rae(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Rae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ir=v.forwardRef((e,t)=>{var{children:r,className:n}=e,a=Aae(e,Pae),o=$t("recharts-layer",n);return v.createElement("g",SS({className:o},Un(a),{ref:t}),r)}),w6=v.createContext(null),Oae=()=>v.useContext(w6);function hr(e){return function(){return e}}const S6=Math.cos,ay=Math.sin,Vi=Math.sqrt,iy=Math.PI,xb=2*iy,jS=Math.PI,CS=2*jS,kc=1e-6,Dae=CS-kc;function j6(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Mae(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return j6;const r=10**t;return function(n){this._+=n[0];for(let a=1,o=n.length;a<o;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class Lae{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?j6:Mae(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,o,u){this._append`C${+t},${+r},${+n},${+a},${this._x1=+o},${this._y1=+u}`}arcTo(t,r,n,a,o){if(t=+t,r=+r,n=+n,a=+a,o=+o,o<0)throw new Error(`negative radius: ${o}`);let u=this._x1,c=this._y1,p=n-t,h=a-r,f=u-t,m=c-r,b=f*f+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(b>kc)if(!(Math.abs(m*p-h*f)>kc)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let _=n-u,j=a-c,w=p*p+h*h,y=_*_+j*j,x=Math.sqrt(w),S=Math.sqrt(b),T=o*Math.tan((jS-Math.acos((w+b-y)/(2*x*S)))/2),N=T/S,P=T/x;Math.abs(N-1)>kc&&this._append`L${t+N*f},${r+N*m}`,this._append`A${o},${o},0,0,${+(m*_>f*j)},${this._x1=t+P*p},${this._y1=r+P*h}`}}arc(t,r,n,a,o,u){if(t=+t,r=+r,n=+n,u=!!u,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(a),p=n*Math.sin(a),h=t+c,f=r+p,m=1^u,b=u?a-o:o-a;this._x1===null?this._append`M${h},${f}`:(Math.abs(this._x1-h)>kc||Math.abs(this._y1-f)>kc)&&this._append`L${h},${f}`,n&&(b<0&&(b=b%CS+CS),b>Dae?this._append`A${n},${n},0,1,${m},${t-c},${r-p}A${n},${n},0,1,${m},${this._x1=h},${this._y1=f}`:b>kc&&this._append`A${n},${n},0,${+(b>=jS)},${m},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function lC(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Lae(t)}function cC(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function C6(e){this._context=e}C6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function wb(e){return new C6(e)}function k6(e){return e[0]}function N6(e){return e[1]}function E6(e,t){var r=hr(!0),n=null,a=wb,o=null,u=lC(c);e=typeof e=="function"?e:e===void 0?k6:hr(e),t=typeof t=="function"?t:t===void 0?N6:hr(t);function c(p){var h,f=(p=cC(p)).length,m,b=!1,_;for(n==null&&(o=a(_=u())),h=0;h<=f;++h)!(h<f&&r(m=p[h],h,p))===b&&((b=!b)?o.lineStart():o.lineEnd()),b&&o.point(+e(m,h,p),+t(m,h,p));if(_)return o=null,_+""||null}return c.x=function(p){return arguments.length?(e=typeof p=="function"?p:hr(+p),c):e},c.y=function(p){return arguments.length?(t=typeof p=="function"?p:hr(+p),c):t},c.defined=function(p){return arguments.length?(r=typeof p=="function"?p:hr(!!p),c):r},c.curve=function(p){return arguments.length?(a=p,n!=null&&(o=a(n)),c):a},c.context=function(p){return arguments.length?(p==null?n=o=null:o=a(n=p),c):n},c}function Qg(e,t,r){var n=null,a=hr(!0),o=null,u=wb,c=null,p=lC(h);e=typeof e=="function"?e:e===void 0?k6:hr(+e),t=typeof t=="function"?t:hr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?N6:hr(+r);function h(m){var b,_,j,w=(m=cC(m)).length,y,x=!1,S,T=new Array(w),N=new Array(w);for(o==null&&(c=u(S=p())),b=0;b<=w;++b){if(!(b<w&&a(y=m[b],b,m))===x)if(x=!x)_=b,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),j=b-1;j>=_;--j)c.point(T[j],N[j]);c.lineEnd(),c.areaEnd()}x&&(T[b]=+e(y,b,m),N[b]=+t(y,b,m),c.point(n?+n(y,b,m):T[b],r?+r(y,b,m):N[b]))}if(S)return c=null,S+""||null}function f(){return E6().defined(a).curve(u).context(o)}return h.x=function(m){return arguments.length?(e=typeof m=="function"?m:hr(+m),n=null,h):e},h.x0=function(m){return arguments.length?(e=typeof m=="function"?m:hr(+m),h):e},h.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:hr(+m),h):n},h.y=function(m){return arguments.length?(t=typeof m=="function"?m:hr(+m),r=null,h):t},h.y0=function(m){return arguments.length?(t=typeof m=="function"?m:hr(+m),h):t},h.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:hr(+m),h):r},h.lineX0=h.lineY0=function(){return f().x(e).y(t)},h.lineY1=function(){return f().x(e).y(r)},h.lineX1=function(){return f().x(n).y(t)},h.defined=function(m){return arguments.length?(a=typeof m=="function"?m:hr(!!m),h):a},h.curve=function(m){return arguments.length?(u=m,o!=null&&(c=u(o)),h):u},h.context=function(m){return arguments.length?(m==null?o=c=null:c=u(o=m),h):o},h}class T6{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Iae(e){return new T6(e,!0)}function $ae(e){return new T6(e,!1)}const uC={draw(e,t){const r=Vi(t/iy);e.moveTo(r,0),e.arc(0,0,r,0,xb)}},Bae={draw(e,t){const r=Vi(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},P6=Vi(1/3),zae=P6*2,Fae={draw(e,t){const r=Vi(t/zae),n=r*P6;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},qae={draw(e,t){const r=Vi(t),n=-r/2;e.rect(n,n,r,r)}},Uae=.8908130915292852,A6=ay(iy/10)/ay(7*iy/10),Hae=ay(xb/10)*A6,Wae=-S6(xb/10)*A6,Kae={draw(e,t){const r=Vi(t*Uae),n=Hae*r,a=Wae*r;e.moveTo(0,-r),e.lineTo(n,a);for(let o=1;o<5;++o){const u=xb*o/5,c=S6(u),p=ay(u);e.lineTo(p*r,-c*r),e.lineTo(c*n-p*a,p*n+c*a)}e.closePath()}},Q1=Vi(3),Gae={draw(e,t){const r=-Vi(t/(Q1*3));e.moveTo(0,r*2),e.lineTo(-Q1*r,-r),e.lineTo(Q1*r,-r),e.closePath()}},si=-.5,oi=Vi(3)/2,kS=1/Vi(12),Vae=(kS/2+1)*3,Yae={draw(e,t){const r=Vi(t/Vae),n=r/2,a=r*kS,o=n,u=r*kS+r,c=-o,p=u;e.moveTo(n,a),e.lineTo(o,u),e.lineTo(c,p),e.lineTo(si*n-oi*a,oi*n+si*a),e.lineTo(si*o-oi*u,oi*o+si*u),e.lineTo(si*c-oi*p,oi*c+si*p),e.lineTo(si*n+oi*a,si*a-oi*n),e.lineTo(si*o+oi*u,si*u-oi*o),e.lineTo(si*c+oi*p,si*p-oi*c),e.closePath()}};function Qae(e,t){let r=null,n=lC(a);e=typeof e=="function"?e:hr(e||uC),t=typeof t=="function"?t:hr(t===void 0?64:+t);function a(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return a.type=function(o){return arguments.length?(e=typeof o=="function"?o:hr(o),a):e},a.size=function(o){return arguments.length?(t=typeof o=="function"?o:hr(+o),a):t},a.context=function(o){return arguments.length?(r=o??null,a):r},a}function sy(){}function oy(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function R6(e){this._context=e}R6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:oy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:oy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Xae(e){return new R6(e)}function O6(e){this._context=e}O6.prototype={areaStart:sy,areaEnd:sy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:oy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Zae(e){return new O6(e)}function D6(e){this._context=e}D6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:oy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Jae(e){return new D6(e)}function M6(e){this._context=e}M6.prototype={areaStart:sy,areaEnd:sy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function eie(e){return new M6(e)}function lA(e){return e<0?-1:1}function cA(e,t,r){var n=e._x1-e._x0,a=t-e._x1,o=(e._y1-e._y0)/(n||a<0&&-0),u=(r-e._y1)/(a||n<0&&-0),c=(o*a+u*n)/(n+a);return(lA(o)+lA(u))*Math.min(Math.abs(o),Math.abs(u),.5*Math.abs(c))||0}function uA(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function X1(e,t,r){var n=e._x0,a=e._y0,o=e._x1,u=e._y1,c=(o-n)/3;e._context.bezierCurveTo(n+c,a+c*t,o-c,u-c*r,o,u)}function ly(e){this._context=e}ly.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:X1(this,this._t0,uA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,X1(this,uA(this,r=cA(this,e,t)),r);break;default:X1(this,this._t0,r=cA(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function L6(e){this._context=new I6(e)}(L6.prototype=Object.create(ly.prototype)).point=function(e,t){ly.prototype.point.call(this,t,e)};function I6(e){this._context=e}I6.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,o){this._context.bezierCurveTo(t,e,n,r,o,a)}};function tie(e){return new ly(e)}function rie(e){return new L6(e)}function $6(e){this._context=e}$6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=dA(e),a=dA(t),o=0,u=1;u<r;++o,++u)this._context.bezierCurveTo(n[0][o],a[0][o],n[1][o],a[1][o],e[u],t[u]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function dA(e){var t,r=e.length-1,n,a=new Array(r),o=new Array(r),u=new Array(r);for(a[0]=0,o[0]=2,u[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,o[t]=4,u[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,o[r-1]=7,u[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/o[t-1],o[t]-=n,u[t]-=n*u[t-1];for(a[r-1]=u[r-1]/o[r-1],t=r-2;t>=0;--t)a[t]=(u[t]-a[t+1])/o[t];for(o[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-a[t+1];return[a,o]}function nie(e){return new $6(e)}function Sb(e,t){this._context=e,this._t=t}Sb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function aie(e){return new Sb(e,.5)}function iie(e){return new Sb(e,0)}function sie(e){return new Sb(e,1)}function eu(e,t){if((u=e.length)>1)for(var r=1,n,a,o=e[t[0]],u,c=o.length;r<u;++r)for(a=o,o=e[t[r]],n=0;n<c;++n)o[n][1]+=o[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function NS(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function oie(e,t){return e[t]}function lie(e){const t=[];return t.key=e,t}function cie(){var e=hr([]),t=NS,r=eu,n=oie;function a(o){var u=Array.from(e.apply(this,arguments),lie),c,p=u.length,h=-1,f;for(const m of o)for(c=0,++h;c<p;++c)(u[c][h]=[0,+n(m,u[c].key,h,o)]).data=m;for(c=0,f=cC(t(u));c<p;++c)u[f[c]].index=c;return r(u,f),u}return a.keys=function(o){return arguments.length?(e=typeof o=="function"?o:hr(Array.from(o)),a):e},a.value=function(o){return arguments.length?(n=typeof o=="function"?o:hr(+o),a):n},a.order=function(o){return arguments.length?(t=o==null?NS:typeof o=="function"?o:hr(Array.from(o)),a):t},a.offset=function(o){return arguments.length?(r=o??eu,a):r},a}function uie(e,t){if((n=e.length)>0){for(var r,n,a=0,o=e[0].length,u;a<o;++a){for(u=r=0;r<n;++r)u+=e[r][a][1]||0;if(u)for(r=0;r<n;++r)e[r][a][1]/=u}eu(e,t)}}function die(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,o=n.length;r<o;++r){for(var u=0,c=0;u<a;++u)c+=e[u][r][1]||0;n[r][1]+=n[r][0]=-c/2}eu(e,t)}}function fie(e,t){if(!(!((u=e.length)>0)||!((o=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,o,u;n<o;++n){for(var c=0,p=0,h=0;c<u;++c){for(var f=e[t[c]],m=f[n][1]||0,b=f[n-1][1]||0,_=(m-b)/2,j=0;j<c;++j){var w=e[t[j]],y=w[n][1]||0,x=w[n-1][1]||0;_+=y-x}p+=m,h+=_*m}a[n-1][1]+=a[n-1][0]=r,p&&(r-=h/p)}a[n-1][1]+=a[n-1][0]=r,eu(e,t)}}var Z1={},J1={},fA;function pie(){return fA||(fA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(J1)),J1}var ex={},pA;function B6(){return pA||(pA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(ex)),ex}var tx={},hA;function dC(){return hA||(hA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(tx)),tx}var rx={},nx={},mA;function hie(){return mA||(mA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(nx)),nx}var gA;function fC(){return gA||(gA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hie(),r=dC();function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const o=[],u=a.length;if(u===0)return o;let c=0,p="",h="",f=!1;for(a.charCodeAt(0)===46&&(o.push(""),c++);c<u;){const m=a[c];h?m==="\\"&&c+1<u?(c++,p+=a[c]):m===h?h="":p+=m:f?m==='"'||m==="'"?h=m:m==="]"?(f=!1,o.push(p),p=""):p+=m:m==="["?(f=!0,p&&(o.push(p),p="")):m==="."?p&&(o.push(p),p=""):p+=m,c++}return p&&o.push(p),o}e.toPath=n})(rx)),rx}var vA;function pC(){return vA||(vA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pie(),r=B6(),n=dC(),a=fC();function o(c,p,h){if(c==null)return h;switch(typeof p){case"string":{if(t.isUnsafeProperty(p))return h;const f=c[p];return f===void 0?r.isDeepKey(p)?o(c,a.toPath(p),h):h:f}case"number":case"symbol":{typeof p=="number"&&(p=n.toKey(p));const f=c[p];return f===void 0?h:f}default:{if(Array.isArray(p))return u(c,p,h);if(Object.is(p==null?void 0:p.valueOf(),-0)?p="-0":p=String(p),t.isUnsafeProperty(p))return h;const f=c[p];return f===void 0?h:f}}}function u(c,p,h){if(p.length===0)return h;let f=c;for(let m=0;m<p.length;m++){if(f==null||t.isUnsafeProperty(p[m]))return h;f=f[p[m]]}return f===void 0?h:f}e.get=o})(Z1)),Z1}var ax,yA;function mie(){return yA||(yA=1,ax=pC().get),ax}var gie=mie();const tu=Ts(gie);var vie=4;function Il(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vie,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function Mr(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((a,o,u)=>{var c=r[u-1];return typeof c=="string"?a+c+o:c!==void 0?a+Il(c)+o:a+o},"")}var _n=e=>e===0?0:e>0?1:-1,Wi=e=>typeof e=="number"&&e!=+e,ru=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,$e=e=>(typeof e=="number"||e instanceof Number)&&!Wi(e),js=e=>$e(e)||typeof e=="string",yie=0,_h=e=>{var t=++yie;return"".concat(e||"").concat(t)},qn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!$e(t)&&typeof t!="string")return n;var o;if(ru(t)){if(r==null)return n;var u=t.indexOf("%");o=r*parseFloat(t.slice(0,u))/100}else o=+t;return Wi(o)&&(o=n),a&&r!=null&&o>r&&(o=r),o},z6=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function Yt(e,t,r){return $e(e)&&$e(t)?Il(e+r*(t-e)):t}function F6(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):tu(n,t))===r)}var Nr=e=>e===null||typeof e>"u",Xh=e=>Nr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function ya(e){return e!=null}function Gl(){}var bie=["type","size","sizeType"];function ES(){return ES=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ES.apply(null,arguments)}function bA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _A(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bA(Object(r),!0).forEach(function(n){_ie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _ie(e,t,r){return(t=xie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xie(e){var t=wie(e,"string");return typeof t=="symbol"?t:t+""}function wie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sie(e,t){if(e==null)return{};var r,n,a=jie(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function jie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var q6={symbolCircle:uC,symbolCross:Bae,symbolDiamond:Fae,symbolSquare:qae,symbolStar:Kae,symbolTriangle:Gae,symbolWye:Yae},Cie=Math.PI/180,kie=e=>{var t="symbol".concat(Xh(e));return q6[t]||uC},Nie=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*Cie;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Eie=(e,t)=>{q6["symbol".concat(Xh(e))]=t},hC=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=Sie(e,bie),o=_A(_A({},a),{},{type:t,size:r,sizeType:n}),u="circle";typeof t=="string"&&(u=t);var c=()=>{var b=kie(u),_=Qae().type(b).size(Nie(r,n,u)),j=_();if(j!==null)return j},{className:p,cx:h,cy:f}=o,m=Un(o);return $e(h)&&$e(f)&&$e(r)?v.createElement("path",ES({},m,{className:$t("recharts-symbols",p),transform:"translate(".concat(h,", ").concat(f,")"),d:c()})):null};hC.registerSymbol=Eie;var U6=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,mC=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(v.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{sC(a)&&(n[a]=(o=>r[a](r,o)))}),n},Tie=(e,t,r)=>n=>(e(t,r,n),null),Zh=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var o=e[a];sC(a)&&typeof o=="function"&&(n||(n={}),n[a]=Tie(o,t,r))}),n};function xA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pie(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xA(Object(r),!0).forEach(function(n){Aie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Aie(e,t,r){return(t=Rie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rie(e){var t=Oie(e,"string");return typeof t=="symbol"?t:t+""}function Oie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $r(e,t){var r=Pie({},e),n=t,a=Object.keys(t),o=a.reduce((u,c)=>(u[c]===void 0&&n[c]!==void 0&&(u[c]=n[c]),u),r);return o}function cy(){return cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cy.apply(null,arguments)}function wA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Die(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wA(Object(r),!0).forEach(function(n){Mie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mie(e,t,r){return(t=Lie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lie(e){var t=Iie(e,"string");return typeof t=="symbol"?t:t+""}function Iie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var di=32,$ie={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function Bie(e){var{data:t,iconType:r,inactiveColor:n}=e,a=di/2,o=di/6,u=di/3,c=t.inactive?n:t.color,p=r??t.type;if(p==="none")return null;if(p==="plainline"){var h;return v.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:(h=t.payload)===null||h===void 0?void 0:h.strokeDasharray,x1:0,y1:a,x2:di,y2:a,className:"recharts-legend-icon"})}if(p==="line")return v.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(u,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*u,",").concat(a,`
            H`).concat(di,"M").concat(2*u,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(u,",").concat(a),className:"recharts-legend-icon"});if(p==="rect")return v.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(di/8,"h").concat(di,"v").concat(di*3/4,"h").concat(-di,"z"),className:"recharts-legend-icon"});if(v.isValidElement(t.legendIcon)){var f=Die({},t);return delete f.legendIcon,v.cloneElement(t.legendIcon,f)}return v.createElement(hC,{fill:c,cx:a,cy:a,size:di,sizeType:"diameter",type:p})}function zie(e){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:o,iconType:u}=e,c={x:0,y:0,width:di,height:di},p={display:n==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((f,m)=>{var b=f.formatter||a,_=$t({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:f.inactive});if(f.type==="none")return null;var j=f.inactive?o:f.color,w=b?b(f.value,f,m):f.value;return v.createElement("li",cy({className:_,style:p,key:"legend-item-".concat(m)},Zh(e,f,m)),v.createElement(oC,{width:r,height:r,viewBox:c,style:h,"aria-label":"".concat(w," legend icon")},v.createElement(Bie,{data:f,iconType:u,inactiveColor:o})),v.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},w))})}var Fie=e=>{var t=$r(e,$ie),{payload:r,layout:n,align:a}=t;if(!r||!r.length)return null;var o={padding:0,margin:0,textAlign:n==="horizontal"?a:"left"};return v.createElement("ul",{className:"recharts-default-legend",style:o},v.createElement(zie,cy({},t,{payload:r})))},ix={},sx={},SA;function qie(){return SA||(SA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let o=0;o<r.length;o++){const u=r[o],c=n(u,o,r);a.has(c)||a.set(c,u)}return Array.from(a.values())}e.uniqBy=t})(sx)),sx}var ox={},jA;function Uie(){return jA||(jA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return function(...a){return r.apply(this,a.slice(0,n))}}e.ary=t})(ox)),ox}var lx={},CA;function H6(){return CA||(CA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(lx)),lx}var cx={},ux={},dx={},kA;function Hie(){return kA||(kA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(dx)),dx}var NA;function gC(){return NA||(NA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hie();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(ux)),ux}var fx={},EA;function Wie(){return EA||(EA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(fx)),fx}var TA;function Kie(){return TA||(TA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gC(),r=Wie();function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(cx)),cx}var px={},hx={},PA;function Gie(){return PA||(PA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pC();function r(n){return function(a){return t.get(a,n)}}e.property=r})(hx)),hx}var mx={},gx={},vx={},yx={},AA;function W6(){return AA||(AA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(yx)),yx}var bx={},RA;function K6(){return RA||(RA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(bx)),bx}var _x={},OA;function G6(){return OA||(OA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.isEqualsSameValueZero=t})(_x)),_x}var DA;function Vie(){return DA||(DA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W6(),r=K6(),n=G6();function a(f,m,b){return typeof b!="function"?a(f,m,()=>{}):o(f,m,function _(j,w,y,x,S,T){const N=b(j,w,y,x,S,T);return N!==void 0?!!N:o(j,w,_,T)},new Map)}function o(f,m,b,_){if(m===f)return!0;switch(typeof m){case"object":return u(f,m,b,_);case"function":return Object.keys(m).length>0?o(f,{...m},b,_):n.isEqualsSameValueZero(f,m);default:return t.isObject(f)?typeof m=="string"?m==="":!0:n.isEqualsSameValueZero(f,m)}}function u(f,m,b,_){if(m==null)return!0;if(Array.isArray(m))return p(f,m,b,_);if(m instanceof Map)return c(f,m,b,_);if(m instanceof Set)return h(f,m,b,_);const j=Object.keys(m);if(f==null||r.isPrimitive(f))return j.length===0;if(j.length===0)return!0;if(_!=null&&_.has(m))return _.get(m)===f;_==null||_.set(m,f);try{for(let w=0;w<j.length;w++){const y=j[w];if(!r.isPrimitive(f)&&!(y in f)||m[y]===void 0&&f[y]!==void 0||m[y]===null&&f[y]!==null||!b(f[y],m[y],y,f,m,_))return!1}return!0}finally{_==null||_.delete(m)}}function c(f,m,b,_){if(m.size===0)return!0;if(!(f instanceof Map))return!1;for(const[j,w]of m.entries()){const y=f.get(j);if(b(y,w,j,f,m,_)===!1)return!1}return!0}function p(f,m,b,_){if(m.length===0)return!0;if(!Array.isArray(f))return!1;const j=new Set;for(let w=0;w<m.length;w++){const y=m[w];let x=!1;for(let S=0;S<f.length;S++){if(j.has(S))continue;const T=f[S];let N=!1;if(b(T,y,w,f,m,_)&&(N=!0),N){j.add(S),x=!0;break}}if(!x)return!1}return!0}function h(f,m,b,_){return m.size===0?!0:f instanceof Set?p([...f],[...m],b,_):!1}e.isMatchWith=a,e.isSetMatch=h})(vx)),vx}var MA;function V6(){return MA||(MA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vie();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(gx)),gx}var xx={},wx={},Sx={},LA;function Yie(){return LA||(LA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(Sx)),Sx}var jx={},IA;function vC(){return IA||(IA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(jx)),jx}var Cx={},$A;function Y6(){return $A||($A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",o="[object Arguments]",u="[object Symbol]",c="[object Date]",p="[object Map]",h="[object Set]",f="[object Array]",m="[object Function]",b="[object ArrayBuffer]",_="[object Object]",j="[object Error]",w="[object DataView]",y="[object Uint8Array]",x="[object Uint8ClampedArray]",S="[object Uint16Array]",T="[object Uint32Array]",N="[object BigUint64Array]",P="[object Int8Array]",A="[object Int16Array]",k="[object Int32Array]",R="[object BigInt64Array]",D="[object Float32Array]",I="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=b,e.arrayTag=f,e.bigInt64ArrayTag=R,e.bigUint64ArrayTag=N,e.booleanTag=a,e.dataViewTag=w,e.dateTag=c,e.errorTag=j,e.float32ArrayTag=D,e.float64ArrayTag=I,e.functionTag=m,e.int16ArrayTag=A,e.int32ArrayTag=k,e.int8ArrayTag=P,e.mapTag=p,e.numberTag=n,e.objectTag=_,e.regexpTag=t,e.setTag=h,e.stringTag=r,e.symbolTag=u,e.uint16ArrayTag=S,e.uint32ArrayTag=T,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=x})(Cx)),Cx}var kx={},BA;function Qie(){return BA||(BA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(kx)),kx}var zA;function Q6(){return zA||(zA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yie(),r=vC(),n=Y6(),a=K6(),o=Qie();function u(f,m){return c(f,void 0,f,new Map,m)}function c(f,m,b,_=new Map,j=void 0){const w=j==null?void 0:j(f,m,b,_);if(w!==void 0)return w;if(a.isPrimitive(f))return f;if(_.has(f))return _.get(f);if(Array.isArray(f)){const y=new Array(f.length);_.set(f,y);for(let x=0;x<f.length;x++)y[x]=c(f[x],x,b,_,j);return Object.hasOwn(f,"index")&&(y.index=f.index),Object.hasOwn(f,"input")&&(y.input=f.input),y}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const y=new RegExp(f.source,f.flags);return y.lastIndex=f.lastIndex,y}if(f instanceof Map){const y=new Map;_.set(f,y);for(const[x,S]of f)y.set(x,c(S,x,b,_,j));return y}if(f instanceof Set){const y=new Set;_.set(f,y);for(const x of f)y.add(c(x,void 0,b,_,j));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(o.isTypedArray(f)){const y=new(Object.getPrototypeOf(f)).constructor(f.length);_.set(f,y);for(let x=0;x<f.length;x++)y[x]=c(f[x],x,b,_,j);return y}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const y=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return _.set(f,y),p(y,f,b,_,j),y}if(typeof File<"u"&&f instanceof File){const y=new File([f],f.name,{type:f.type});return _.set(f,y),p(y,f,b,_,j),y}if(typeof Blob<"u"&&f instanceof Blob){const y=new Blob([f],{type:f.type});return _.set(f,y),p(y,f,b,_,j),y}if(f instanceof Error){const y=new f.constructor;return _.set(f,y),y.message=f.message,y.name=f.name,y.stack=f.stack,y.cause=f.cause,p(y,f,b,_,j),y}if(f instanceof Boolean){const y=new Boolean(f.valueOf());return _.set(f,y),p(y,f,b,_,j),y}if(f instanceof Number){const y=new Number(f.valueOf());return _.set(f,y),p(y,f,b,_,j),y}if(f instanceof String){const y=new String(f.valueOf());return _.set(f,y),p(y,f,b,_,j),y}if(typeof f=="object"&&h(f)){const y=Object.create(Object.getPrototypeOf(f));return _.set(f,y),p(y,f,b,_,j),y}return f}function p(f,m,b=f,_,j){const w=[...Object.keys(m),...t.getSymbols(m)];for(let y=0;y<w.length;y++){const x=w[y],S=Object.getOwnPropertyDescriptor(f,x);(S==null||S.writable)&&(f[x]=c(m[x],x,b,_,j))}}function h(f){switch(r.getTag(f)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=u,e.cloneDeepWithImpl=c,e.copyProperties=p})(wx)),wx}var FA;function Xie(){return FA||(FA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Q6();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(xx)),xx}var qA;function Zie(){return qA||(qA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=V6(),r=Xie();function n(a){return a=r.cloneDeep(a),o=>t.isMatch(o,a)}e.matches=n})(mx)),mx}var Nx={},Ex={},Tx={},UA;function Jie(){return UA||(UA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Q6(),r=vC(),n=Y6();function a(o,u){return t.cloneDeepWith(o,(c,p,h,f)=>{const m=u==null?void 0:u(c,p,h,f);if(m!==void 0)return m;if(typeof o=="object"){if(r.getTag(o)===n.objectTag&&typeof o.constructor!="function"){const b={};return f.set(o,b),t.copyProperties(b,o,h,f),b}switch(Object.prototype.toString.call(o)){case n.numberTag:case n.stringTag:case n.booleanTag:{const b=new o.constructor(o==null?void 0:o.valueOf());return t.copyProperties(b,o),b}case n.argumentsTag:{const b={};return t.copyProperties(b,o),b.length=o.length,b[Symbol.iterator]=o[Symbol.iterator],b}default:return}}})}e.cloneDeepWith=a})(Tx)),Tx}var HA;function ese(){return HA||(HA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jie();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(Ex)),Ex}var Px={},Ax={},WA;function X6(){return WA||(WA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Ax)),Ax}var Rx={},KA;function tse(){return KA||(KA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vC();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Rx)),Rx}var GA;function rse(){return GA||(GA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B6(),r=X6(),n=tse(),a=fC();function o(u,c){let p;if(Array.isArray(c)?p=c:typeof c=="string"&&t.isDeepKey(c)&&(u==null?void 0:u[c])==null?p=a.toPath(c):p=[c],p.length===0)return!1;let h=u;for(let f=0;f<p.length;f++){const m=p[f];if((h==null||!Object.hasOwn(h,m))&&!((Array.isArray(h)||n.isArguments(h))&&r.isIndex(m)&&m<h.length))return!1;h=h[m]}return!0}e.has=o})(Px)),Px}var VA;function nse(){return VA||(VA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=V6(),r=dC(),n=ese(),a=pC(),o=rse();function u(c,p){switch(typeof c){case"object":{Object.is(c==null?void 0:c.valueOf(),-0)&&(c="-0");break}case"number":{c=r.toKey(c);break}}return p=n.cloneDeep(p),function(h){const f=a.get(h,c);return f===void 0?o.has(h,c):p===void 0?f===void 0:t.isMatch(f,p)}}e.matchesProperty=u})(Nx)),Nx}var YA;function ase(){return YA||(YA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H6(),r=Gie(),n=Zie(),a=nse();function o(u){if(u==null)return t.identity;switch(typeof u){case"function":return u;case"object":return Array.isArray(u)&&u.length===2?a.matchesProperty(u[0],u[1]):n.matches(u);case"string":case"symbol":case"number":return r.property(u)}}e.iteratee=o})(px)),px}var QA;function ise(){return QA||(QA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qie(),r=Uie(),n=H6(),a=Kie(),o=ase();function u(c,p=n.identity){return a.isArrayLikeObject(c)?t.uniqBy(Array.from(c),r.ary(o.iteratee(p),1)):[]}e.uniqBy=u})(ix)),ix}var Ox,XA;function sse(){return XA||(XA=1,Ox=ise().uniqBy),Ox}var ose=sse();const ZA=Ts(ose);function Z6(e,t,r){return t===!0?ZA(e,r):typeof t=="function"?ZA(e,t):e}var Dx={exports:{}},Mx={},Lx={exports:{}},Ix={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JA;function lse(){if(JA)return Ix;JA=1;var e=Gd();function t(m,b){return m===b&&(m!==0||1/m===1/b)||m!==m&&b!==b}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,o=e.useLayoutEffect,u=e.useDebugValue;function c(m,b){var _=b(),j=n({inst:{value:_,getSnapshot:b}}),w=j[0].inst,y=j[1];return o(function(){w.value=_,w.getSnapshot=b,p(w)&&y({inst:w})},[m,_,b]),a(function(){return p(w)&&y({inst:w}),m(function(){p(w)&&y({inst:w})})},[m]),u(_),_}function p(m){var b=m.getSnapshot;m=m.value;try{var _=b();return!r(m,_)}catch{return!0}}function h(m,b){return b()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return Ix.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,Ix}var eR;function cse(){return eR||(eR=1,Lx.exports=lse()),Lx.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tR;function use(){if(tR)return Mx;tR=1;var e=Gd(),t=cse();function r(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,o=e.useRef,u=e.useEffect,c=e.useMemo,p=e.useDebugValue;return Mx.useSyncExternalStoreWithSelector=function(h,f,m,b,_){var j=o(null);if(j.current===null){var w={hasValue:!1,value:null};j.current=w}else w=j.current;j=c(function(){function x(A){if(!S){if(S=!0,T=A,A=b(A),_!==void 0&&w.hasValue){var k=w.value;if(_(k,A))return N=k}return N=A}if(k=N,n(T,A))return k;var R=b(A);return _!==void 0&&_(k,R)?(T=A,k):(T=A,N=R)}var S=!1,T,N,P=m===void 0?null:m;return[function(){return x(f())},P===null?void 0:function(){return x(P())}]},[f,m,b,_]);var y=a(h,j[0],j[1]);return u(function(){w.hasValue=!0,w.value=y},[y]),p(y),y},Mx}var rR;function dse(){return rR||(rR=1,Dx.exports=use()),Dx.exports}var fse=dse(),yC=v.createContext(null),pse=e=>e,gr=()=>{var e=v.useContext(yC);return e?e.store.dispatch:pse},Rv=()=>{},hse=()=>Rv,mse=(e,t)=>e===t;function Ue(e){var t=v.useContext(yC),r=v.useMemo(()=>t?n=>{if(n!=null)return e(n)}:Rv,[t,e]);return fse.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:hse,t?t.store.getState:Rv,t?t.store.getState:Rv,r,mse)}function gse(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function vse(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function yse(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var nR=e=>Array.isArray(e)?e:[e];function bse(e){const t=Array.isArray(e[0])?e[0]:e;return yse(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function _se(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var xse=class{constructor(e){this.value=e}deref(){return this.value}},wse=typeof WeakRef<"u"?WeakRef:xse,Sse=0,aR=1;function Xg(){return{s:Sse,v:void 0,o:null,p:null}}function J6(e,t={}){let r=Xg();const{resultEqualityCheck:n}=t;let a,o=0;function u(){var m;let c=r;const{length:p}=arguments;for(let b=0,_=p;b<_;b++){const j=arguments[b];if(typeof j=="function"||typeof j=="object"&&j!==null){let w=c.o;w===null&&(c.o=w=new WeakMap);const y=w.get(j);y===void 0?(c=Xg(),w.set(j,c)):c=y}else{let w=c.p;w===null&&(c.p=w=new Map);const y=w.get(j);y===void 0?(c=Xg(),w.set(j,c)):c=y}}const h=c;let f;if(c.s===aR)f=c.v;else if(f=e.apply(null,arguments),o++,n){const b=((m=a==null?void 0:a.deref)==null?void 0:m.call(a))??a;b!=null&&n(b,f)&&(f=b,o!==0&&o--),a=typeof f=="object"&&f!==null||typeof f=="function"?new wse(f):f}return h.s=aR,h.v=f,f}return u.clearCache=()=>{r=Xg(),u.resetResultsCount()},u.resultsCount=()=>o,u.resetResultsCount=()=>{o=0},u}function jse(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let o=0,u=0,c,p={},h=a.pop();typeof h=="object"&&(p=h,h=a.pop()),gse(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const f={...r,...p},{memoize:m,memoizeOptions:b=[],argsMemoize:_=J6,argsMemoizeOptions:j=[]}=f,w=nR(b),y=nR(j),x=bse(a),S=m(function(){return o++,h.apply(null,arguments)},...w),T=_(function(){u++;const P=_se(x,arguments);return c=S.apply(null,P),c},...y);return Object.assign(T,{resultFunc:h,memoizedResultFunc:S,dependencies:x,dependencyRecomputations:()=>u,resetDependencyRecomputations:()=>{u=0},lastResult:()=>c,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:m,argsMemoize:_})};return Object.assign(n,{withTypes:()=>n}),n}var oe=jse(J6),Cse=Object.assign((e,t=oe)=>{vse(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(o=>e[o]);return t(n,(...o)=>o.reduce((u,c,p)=>(u[r[p]]=c,u),{}))},{withTypes:()=>Cse}),$x={},Bx={},zx={},iR;function kse(){return iR||(iR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,o)=>{if(n!==a){const u=t(n),c=t(a);if(u===c&&u===0){if(n<a)return o==="desc"?1:-1;if(n>a)return o==="desc"?-1:1}return o==="desc"?c-u:u-c}return 0};e.compareValues=r})(zx)),zx}var Fx={},qx={},sR;function e5(){return sR||(sR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(qx)),qx}var oR;function Nse(){return oR||(oR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=e5(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(o,u){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(n.test(o)||!r.test(o))||u!=null&&Object.hasOwn(u,o)}e.isKey=a})(Fx)),Fx}var lR;function Ese(){return lR||(lR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kse(),r=Nse(),n=fC();function a(o,u,c,p){if(o==null)return[];c=p?void 0:c,Array.isArray(o)||(o=Object.values(o)),Array.isArray(u)||(u=u==null?[null]:[u]),u.length===0&&(u=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(_=>String(_));const h=(_,j)=>{let w=_;for(let y=0;y<j.length&&w!=null;++y)w=w[j[y]];return w},f=(_,j)=>j==null||_==null?j:typeof _=="object"&&"key"in _?Object.hasOwn(j,_.key)?j[_.key]:h(j,_.path):typeof _=="function"?_(j):Array.isArray(_)?h(j,_):typeof j=="object"?j[_]:j,m=u.map(_=>(Array.isArray(_)&&_.length===1&&(_=_[0]),_==null||typeof _=="function"||Array.isArray(_)||r.isKey(_)?_:{key:_,path:n.toPath(_)}));return o.map(_=>({original:_,criteria:m.map(j=>f(j,_))})).slice().sort((_,j)=>{for(let w=0;w<m.length;w++){const y=t.compareValues(_.criteria[w],j.criteria[w],c[w]);if(y!==0)return y}return 0}).map(_=>_.original)}e.orderBy=a})(Bx)),Bx}var Ux={},cR;function Tse(){return cR||(cR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],o=Math.floor(n),u=(c,p)=>{for(let h=0;h<c.length;h++){const f=c[h];Array.isArray(f)&&p<o?u(f,p+1):a.push(f)}};return u(r,0),a}e.flatten=t})(Ux)),Ux}var Hx={},uR;function t5(){return uR||(uR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=X6(),r=gC(),n=W6(),a=G6();function o(u,c,p){return n.isObject(p)&&(typeof c=="number"&&r.isArrayLike(p)&&t.isIndex(c)&&c<p.length||typeof c=="string"&&c in p)?a.isEqualsSameValueZero(p[c],u):!1}e.isIterateeCall=o})(Hx)),Hx}var dR;function Pse(){return dR||(dR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ese(),r=Tse(),n=t5();function a(o,...u){const c=u.length;return c>1&&n.isIterateeCall(o,u[0],u[1])?u=[]:c>2&&n.isIterateeCall(u[0],u[1],u[2])&&(u=[u[0]]),t.orderBy(o,r.flatten(u),["asc"])}e.sortBy=a})($x)),$x}var Wx,fR;function Ase(){return fR||(fR=1,Wx=Pse().sortBy),Wx}var Rse=Ase();const jb=Ts(Rse);var r5=e=>e.legend.settings,Ose=e=>e.legend.size,Dse=e=>e.legend.payload,Mse=oe([Dse,r5],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?jb(n,r):n});function Lse(){return Ue(Mse)}var Zg=1;function n5(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=v.useState({height:0,left:0,top:0,width:0}),n=v.useCallback(a=>{if(a!=null){var o=a.getBoundingClientRect(),u={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(u.height-t.height)>Zg||Math.abs(u.left-t.left)>Zg||Math.abs(u.top-t.top)>Zg||Math.abs(u.width-t.width)>Zg)&&r({height:u.height,left:u.left,top:u.top,width:u.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Pn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Ise=typeof Symbol=="function"&&Symbol.observable||"@@observable",pR=Ise,Kx=()=>Math.random().toString(36).substring(7).split("").join("."),$se={INIT:`@@redux/INIT${Kx()}`,REPLACE:`@@redux/REPLACE${Kx()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Kx()}`},uy=$se;function bC(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function a5(e,t,r){if(typeof e!="function")throw new Error(Pn(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Pn(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Pn(1));return r(a5)(e,t)}let n=e,a=t,o=new Map,u=o,c=0,p=!1;function h(){u===o&&(u=new Map,o.forEach((y,x)=>{u.set(x,y)}))}function f(){if(p)throw new Error(Pn(3));return a}function m(y){if(typeof y!="function")throw new Error(Pn(4));if(p)throw new Error(Pn(5));let x=!0;h();const S=c++;return u.set(S,y),function(){if(x){if(p)throw new Error(Pn(6));x=!1,h(),u.delete(S),o=null}}}function b(y){if(!bC(y))throw new Error(Pn(7));if(typeof y.type>"u")throw new Error(Pn(8));if(typeof y.type!="string")throw new Error(Pn(17));if(p)throw new Error(Pn(9));try{p=!0,a=n(a,y)}finally{p=!1}return(o=u).forEach(S=>{S()}),y}function _(y){if(typeof y!="function")throw new Error(Pn(10));n=y,b({type:uy.REPLACE})}function j(){const y=m;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(Pn(11));function S(){const N=x;N.next&&N.next(f())}return S(),{unsubscribe:y(S)}},[pR](){return this}}}return b({type:uy.INIT}),{dispatch:b,subscribe:m,getState:f,replaceReducer:_,[pR]:j}}function Bse(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:uy.INIT})>"u")throw new Error(Pn(12));if(typeof r(void 0,{type:uy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Pn(13))})}function i5(e){const t=Object.keys(e),r={};for(let o=0;o<t.length;o++){const u=t[o];typeof e[u]=="function"&&(r[u]=e[u])}const n=Object.keys(r);let a;try{Bse(r)}catch(o){a=o}return function(u={},c){if(a)throw a;let p=!1;const h={};for(let f=0;f<n.length;f++){const m=n[f],b=r[m],_=u[m],j=b(_,c);if(typeof j>"u")throw c&&c.type,new Error(Pn(14));h[m]=j,p=p||j!==_}return p=p||n.length!==Object.keys(u).length,p?h:u}}function dy(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function zse(...e){return t=>(r,n)=>{const a=t(r,n);let o=()=>{throw new Error(Pn(15))};const u={getState:a.getState,dispatch:(p,...h)=>o(p,...h)},c=e.map(p=>p(u));return o=dy(...c)(a.dispatch),{...a,dispatch:o}}}function s5(e){return bC(e)&&"type"in e&&typeof e.type=="string"}var o5=Symbol.for("immer-nothing"),hR=Symbol.for("immer-draftable"),na=Symbol.for("immer-state");function Bi(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ia=Object,zd=Ia.getPrototypeOf,fy="constructor",Cb="prototype",TS="configurable",py="enumerable",Ov="writable",xh="value",Po=e=>!!e&&!!e[na];function Ki(e){var t;return e?l5(e)||Nb(e)||!!e[hR]||!!((t=e[fy])!=null&&t[hR])||Eb(e)||Tb(e):!1}var Fse=Ia[Cb][fy].toString(),mR=new WeakMap;function l5(e){if(!e||!_C(e))return!1;const t=zd(e);if(t===null||t===Ia[Cb])return!0;const r=Ia.hasOwnProperty.call(t,fy)&&t[fy];if(r===Object)return!0;if(!gd(r))return!1;let n=mR.get(r);return n===void 0&&(n=Function.toString.call(r),mR.set(r,n)),n===Fse}function kb(e,t,r=!0){Jh(e)===0?(r?Reflect.ownKeys(e):Ia.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Jh(e){const t=e[na];return t?t.type_:Nb(e)?1:Eb(e)?2:Tb(e)?3:0}var gR=(e,t,r=Jh(e))=>r===2?e.has(t):Ia[Cb].hasOwnProperty.call(e,t),PS=(e,t,r=Jh(e))=>r===2?e.get(t):e[t],hy=(e,t,r,n=Jh(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function qse(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Nb=Array.isArray,Eb=e=>e instanceof Map,Tb=e=>e instanceof Set,_C=e=>typeof e=="object",gd=e=>typeof e=="function",Gx=e=>typeof e=="boolean";function Use(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var vo=e=>e.copy_||e.base_,xC=e=>e.modified_?e.copy_:e.base_;function AS(e,t){if(Eb(e))return new Map(e);if(Tb(e))return new Set(e);if(Nb(e))return Array[Cb].slice.call(e);const r=l5(e);if(t===!0||t==="class_only"&&!r){const n=Ia.getOwnPropertyDescriptors(e);delete n[na];let a=Reflect.ownKeys(n);for(let o=0;o<a.length;o++){const u=a[o],c=n[u];c[Ov]===!1&&(c[Ov]=!0,c[TS]=!0),(c.get||c.set)&&(n[u]={[TS]:!0,[Ov]:!0,[py]:c[py],[xh]:e[u]})}return Ia.create(zd(e),n)}else{const n=zd(e);if(n!==null&&r)return{...e};const a=Ia.create(n);return Ia.assign(a,e)}}function wC(e,t=!1){return Pb(e)||Po(e)||!Ki(e)||(Jh(e)>1&&Ia.defineProperties(e,{set:Jg,add:Jg,clear:Jg,delete:Jg}),Ia.freeze(e),t&&kb(e,(r,n)=>{wC(n,!0)},!1)),e}function Hse(){Bi(2)}var Jg={[xh]:Hse};function Pb(e){return e===null||!_C(e)?!0:Ia.isFrozen(e)}var my="MapSet",RS="Patches",vR="ArrayMethods",c5={};function nu(e){const t=c5[e];return t||Bi(0,e),t}var yR=e=>!!c5[e],wh,u5=()=>wh,Wse=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:yR(my)?nu(my):void 0,arrayMethodsPlugin_:yR(vR)?nu(vR):void 0});function bR(e,t){t&&(e.patchPlugin_=nu(RS),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function OS(e){DS(e),e.drafts_.forEach(Kse),e.drafts_=null}function DS(e){e===wh&&(wh=e.parent_)}var _R=e=>wh=Wse(wh,e);function Kse(e){const t=e[na];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function xR(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[na].modified_&&(OS(t),Bi(4)),Ki(e)&&(e=wR(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[na].base_,e,t)}else e=wR(t,r);return Gse(t,e,!0),OS(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==o5?e:void 0}function wR(e,t){if(Pb(t))return t;const r=t[na];if(!r)return gy(t,e.handledSet_,e);if(!Ab(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);p5(r,e)}return r.copy_}function Gse(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&wC(t,r)}function d5(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Ab=(e,t)=>e.scope_===t,Vse=[];function f5(e,t,r,n){const a=vo(e),o=e.type_;if(n!==void 0&&PS(a,n,o)===t){hy(a,n,r,o);return}if(!e.draftLocations_){const c=e.draftLocations_=new Map;kb(a,(p,h)=>{if(Po(h)){const f=c.get(h)||[];f.push(p),c.set(h,f)}})}const u=e.draftLocations_.get(t)??Vse;for(const c of u)hy(a,c,r,o)}function Yse(e,t,r){e.callbacks_.push(function(a){var c;const o=t;if(!o||!Ab(o,a))return;(c=a.mapSetPlugin_)==null||c.fixSetContents(o);const u=xC(o);f5(e,o.draft_??o,u,r),p5(o,a)})}function p5(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:a}=t;if(a){const o=a.getPath(e);o&&a.generatePatches_(e,o,t)}d5(e)}}function Qse(e,t,r){const{scope_:n}=e;if(Po(r)){const a=r[na];Ab(a,n)&&a.callbacks_.push(function(){Dv(e);const u=xC(a);f5(e,r,u,t)})}else Ki(r)&&e.callbacks_.push(function(){const o=vo(e);e.type_===3?o.has(r)&&gy(r,n.handledSet_,n):PS(o,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&gy(PS(e.copy_,t,e.type_),n.handledSet_,n)})}function gy(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Po(e)||t.has(e)||!Ki(e)||Pb(e)||(t.add(e),kb(e,(n,a)=>{if(Po(a)){const o=a[na];if(Ab(o,r)){const u=xC(o);hy(e,n,u,e.type_),d5(o)}}else Ki(a)&&gy(a,t,r)})),e}function Xse(e,t){const r=Nb(e),n={type_:r?1:0,scope_:t?t.scope_:u5(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,o=vy;r&&(a=[n],o=Sh);const{revoke:u,proxy:c}=Proxy.revocable(a,o);return n.draft_=c,n.revoke_=u,[c,n]}var vy={get(e,t){if(t===na)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r!=null&&r.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const a=vo(e);if(!gR(a,t,e.type_))return Zse(e,a,t);const o=a[t];if(e.finalized_||!Ki(o)||n&&e.operationMethod&&(r!=null&&r.isMutatingArrayMethod(e.operationMethod))&&Use(t))return o;if(o===Vx(e.base_,t)){Dv(e);const u=e.type_===1?+t:t,c=LS(e.scope_,o,e,u);return e.copy_[u]=c}return o},has(e,t){return t in vo(e)},ownKeys(e){return Reflect.ownKeys(vo(e))},set(e,t,r){const n=h5(vo(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Vx(vo(e),t),o=a==null?void 0:a[na];if(o&&o.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(qse(r,a)&&(r!==void 0||gR(e.base_,t,e.type_)))return!0;Dv(e),MS(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),Qse(e,t,r)),!0},deleteProperty(e,t){return Dv(e),Vx(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),MS(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=vo(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Ov]:!0,[TS]:e.type_!==1||t!=="length",[py]:n[py],[xh]:r[t]}},defineProperty(){Bi(11)},getPrototypeOf(e){return zd(e.base_)},setPrototypeOf(){Bi(12)}},Sh={};for(let e in vy){let t=vy[e];Sh[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}Sh.deleteProperty=function(e,t){return Sh.set.call(this,e,t,void 0)};Sh.set=function(e,t,r){return vy.set.call(this,e[0],t,r,e[0])};function Vx(e,t){const r=e[na];return(r?vo(r):e)[t]}function Zse(e,t,r){var a;const n=h5(t,r);return n?xh in n?n[xh]:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function h5(e,t){if(!(t in e))return;let r=zd(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=zd(r)}}function MS(e){e.modified_||(e.modified_=!0,e.parent_&&MS(e.parent_))}function Dv(e){e.copy_||(e.assigned_=new Map,e.copy_=AS(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Jse=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(gd(r)&&!gd(n)){const u=n;n=r;const c=this;return function(h=u,...f){return c.produce(h,m=>n.call(this,m,...f))}}gd(n)||Bi(6),a!==void 0&&!gd(a)&&Bi(7);let o;if(Ki(r)){const u=_R(this),c=LS(u,r,void 0);let p=!0;try{o=n(c),p=!1}finally{p?OS(u):DS(u)}return bR(u,a),xR(o,u)}else if(!r||!_C(r)){if(o=n(r),o===void 0&&(o=r),o===o5&&(o=void 0),this.autoFreeze_&&wC(o,!0),a){const u=[],c=[];nu(RS).generateReplacementPatches_(r,o,{patches_:u,inversePatches_:c}),a(u,c)}return o}else Bi(1,r)},this.produceWithPatches=(r,n)=>{if(gd(r))return(c,...p)=>this.produceWithPatches(c,h=>r(h,...p));let a,o;return[this.produce(r,n,(c,p)=>{a=c,o=p}),a,o]},Gx(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Gx(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Gx(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Ki(t)||Bi(8),Po(t)&&(t=Ui(t));const r=_R(this),n=LS(r,t,void 0);return n[na].isManual_=!0,DS(r),n}finishDraft(t,r){const n=t&&t[na];(!n||!n.isManual_)&&Bi(9);const{scope_:a}=n;return bR(a,r),xR(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const o=r[n];if(o.path.length===0&&o.op==="replace"){t=o.value;break}}n>-1&&(r=r.slice(n+1));const a=nu(RS).applyPatches_;return Po(t)?a(t,r):this.produce(t,o=>a(o,r))}};function LS(e,t,r,n){const[a,o]=Eb(t)?nu(my).proxyMap_(t,r):Tb(t)?nu(my).proxySet_(t,r):Xse(t,r);return((r==null?void 0:r.scope_)??u5()).drafts_.push(a),o.callbacks_=(r==null?void 0:r.callbacks_)??[],o.key_=n,r&&n!==void 0?Yse(r,o,n):o.callbacks_.push(function(p){var f;(f=p.mapSetPlugin_)==null||f.fixSetContents(o);const{patchPlugin_:h}=p;o.modified_&&h&&h.generatePatches_(o,[],p)}),a}function Ui(e){return Po(e)||Bi(10,e),m5(e)}function m5(e){if(!Ki(e)||Pb(e))return e;const t=e[na];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=AS(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=AS(e,!0);return kb(r,(a,o)=>{hy(r,a,m5(o))},n),t&&(t.finalized_=!1),r}var eoe=new Jse,g5=eoe.produce;function v5(e){return({dispatch:r,getState:n})=>a=>o=>typeof o=="function"?o(r,n,e):a(o)}var toe=v5(),roe=v5,noe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?dy:dy.apply(null,arguments)};function yi(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error($a(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>s5(n)&&n.type===e,r}var y5=class nh extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,nh.prototype)}static get[Symbol.species](){return nh}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new nh(...t[0].concat(this)):new nh(...t.concat(this))}};function SR(e){return Ki(e)?g5(e,()=>{}):e}function ev(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function aoe(e){return typeof e=="boolean"}var ioe=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:o=!0}=t??{};let u=new y5;return r&&(aoe(r)?u.push(toe):u.push(roe(r.extraArgument))),u},b5="RTK_autoBatch",Sr=()=>e=>({payload:e,meta:{[b5]:!0}}),jR=e=>t=>{setTimeout(t,e)},_5=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,o=!1,u=!1;const c=new Set,p=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:jR(10):e.type==="callback"?e.queueNotification:jR(e.timeout),h=()=>{u=!1,o&&(o=!1,c.forEach(f=>f()))};return Object.assign({},n,{subscribe(f){const m=()=>a&&f(),b=n.subscribe(m);return c.add(f),()=>{b(),c.delete(f)}},dispatch(f){var m;try{return a=!((m=f==null?void 0:f.meta)!=null&&m[b5]),o=!a,o&&(u||(u=!0,p(h))),n.dispatch(f)}finally{a=!0}}})},soe=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new y5(e);return n&&a.push(_5(typeof n=="object"?n:void 0)),a};function ooe(e){const t=ioe(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:o=void 0,enhancers:u=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(bC(r))c=i5(r);else throw new Error($a(1));let p;typeof n=="function"?p=n(t):p=t();let h=dy;a&&(h=noe({trace:!1,...typeof a=="object"&&a}));const f=zse(...p),m=soe(f);let b=typeof u=="function"?u(m):m();const _=h(...b);return a5(c,o,_)}function x5(e){const t={},r=[];let n;const a={addCase(o,u){const c=typeof o=="string"?o:o.type;if(!c)throw new Error($a(28));if(c in t)throw new Error($a(29));return t[c]=u,a},addAsyncThunk(o,u){return u.pending&&(t[o.pending.type]=u.pending),u.rejected&&(t[o.rejected.type]=u.rejected),u.fulfilled&&(t[o.fulfilled.type]=u.fulfilled),u.settled&&r.push({matcher:o.settled,reducer:u.settled}),a},addMatcher(o,u){return r.push({matcher:o,reducer:u}),a},addDefaultCase(o){return n=o,a}};return e(a),[t,r,n]}function loe(e){return typeof e=="function"}function coe(e,t){let[r,n,a]=x5(t),o;if(loe(e))o=()=>SR(e());else{const c=SR(e);o=()=>c}function u(c=o(),p){let h=[r[p.type],...n.filter(({matcher:f})=>f(p)).map(({reducer:f})=>f)];return h.filter(f=>!!f).length===0&&(h=[a]),h.reduce((f,m)=>{if(m)if(Po(f)){const _=m(f,p);return _===void 0?f:_}else{if(Ki(f))return g5(f,b=>m(b,p));{const b=m(f,p);if(b===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return f},c)}return u.getInitialState=o,u}var uoe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",doe=(e=21)=>{let t="",r=e;for(;r--;)t+=uoe[Math.random()*64|0];return t},foe=Symbol.for("rtk-slice-createasyncthunk");function poe(e,t){return`${e}/${t}`}function hoe({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[foe];return function(a){const{name:o,reducerPath:u=o}=a;if(!o)throw new Error($a(11));const c=(typeof a.reducers=="function"?a.reducers(goe()):a.reducers)||{},p=Object.keys(c),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(N,P){const A=typeof N=="string"?N:N.type;if(!A)throw new Error($a(12));if(A in h.sliceCaseReducersByType)throw new Error($a(13));return h.sliceCaseReducersByType[A]=P,f},addMatcher(N,P){return h.sliceMatchers.push({matcher:N,reducer:P}),f},exposeAction(N,P){return h.actionCreators[N]=P,f},exposeCaseReducer(N,P){return h.sliceCaseReducersByName[N]=P,f}};p.forEach(N=>{const P=c[N],A={reducerName:N,type:poe(o,N),createNotation:typeof a.reducers=="function"};yoe(P)?_oe(A,P,f,t):voe(A,P,f)});function m(){const[N={},P=[],A=void 0]=typeof a.extraReducers=="function"?x5(a.extraReducers):[a.extraReducers],k={...N,...h.sliceCaseReducersByType};return coe(a.initialState,R=>{for(let D in k)R.addCase(D,k[D]);for(let D of h.sliceMatchers)R.addMatcher(D.matcher,D.reducer);for(let D of P)R.addMatcher(D.matcher,D.reducer);A&&R.addDefaultCase(A)})}const b=N=>N,_=new Map,j=new WeakMap;let w;function y(N,P){return w||(w=m()),w(N,P)}function x(){return w||(w=m()),w.getInitialState()}function S(N,P=!1){function A(R){let D=R[N];return typeof D>"u"&&P&&(D=ev(j,A,x)),D}function k(R=b){const D=ev(_,P,()=>new WeakMap);return ev(D,R,()=>{const I={};for(const[q,z]of Object.entries(a.selectors??{}))I[q]=moe(z,R,()=>ev(j,R,x),P);return I})}return{reducerPath:N,getSelectors:k,get selectors(){return k(A)},selectSlice:A}}const T={name:o,reducer:y,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:x,...S(u),injectInto(N,{reducerPath:P,...A}={}){const k=P??u;return N.inject({reducerPath:k,reducer:y},A),{...T,...S(k,!0)}}};return T}}function moe(e,t,r,n){function a(o,...u){let c=t(o);return typeof c>"u"&&n&&(c=r()),e(c,...u)}return a.unwrapped=e,a}var xa=hoe();function goe(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function voe({type:e,reducerName:t,createNotation:r},n,a){let o,u;if("reducer"in n){if(r&&!boe(n))throw new Error($a(17));o=n.reducer,u=n.prepare}else o=n;a.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,u?yi(e,u):yi(e))}function yoe(e){return e._reducerDefinitionType==="asyncThunk"}function boe(e){return e._reducerDefinitionType==="reducerWithPrepare"}function _oe({type:e,reducerName:t},r,n,a){if(!a)throw new Error($a(18));const{payloadCreator:o,fulfilled:u,pending:c,rejected:p,settled:h,options:f}=r,m=a(e,o,f);n.exposeAction(t,m),u&&n.addCase(m.fulfilled,u),c&&n.addCase(m.pending,c),p&&n.addCase(m.rejected,p),h&&n.addMatcher(m.settled,h),n.exposeCaseReducer(t,{fulfilled:u||tv,pending:c||tv,rejected:p||tv,settled:h||tv})}function tv(){}var xoe="task",w5="listener",S5="completed",SC="cancelled",woe=`task-${SC}`,Soe=`task-${S5}`,IS=`${w5}-${SC}`,joe=`${w5}-${S5}`,Rb=class{constructor(e){V(this,"name","TaskAbortError");V(this,"message");this.code=e,this.message=`${xoe} ${SC} (reason: ${e})`}},jC=(e,t)=>{if(typeof e!="function")throw new TypeError($a(32))},yy=()=>{},j5=(e,t=yy)=>(e.catch(t),e),C5=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Wc=e=>{if(e.aborted)throw new Rb(e.reason)};function k5(e,t){let r=yy;return new Promise((n,a)=>{const o=()=>a(new Rb(e.reason));if(e.aborted){o();return}r=C5(e,o),t.finally(()=>r()).then(n,a)}).finally(()=>{r=yy})}var Coe=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Rb?"cancelled":"rejected",error:r}}finally{t==null||t()}},by=e=>t=>j5(k5(e,t).then(r=>(Wc(e),r))),N5=e=>{const t=by(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:wd}=Object,CR={},Ob="listenerMiddleware",koe=(e,t)=>{const r=n=>C5(e,()=>n.abort(e.reason));return(n,a)=>{jC(n);const o=new AbortController;r(o);const u=Coe(async()=>{Wc(e),Wc(o.signal);const c=await n({pause:by(o.signal),delay:N5(o.signal),signal:o.signal});return Wc(o.signal),c},()=>o.abort(Soe));return a!=null&&a.autoJoin&&t.push(u.catch(yy)),{result:by(e)(u),cancel(){o.abort(woe)}}}},Noe=(e,t)=>{const r=async(n,a)=>{Wc(t);let o=()=>{};const c=[new Promise((p,h)=>{let f=e({predicate:n,effect:(m,b)=>{b.unsubscribe(),p([m,b.getState(),b.getOriginalState()])}});o=()=>{f(),h()}})];a!=null&&c.push(new Promise(p=>setTimeout(p,a,null)));try{const p=await k5(t,Promise.race(c));return Wc(t),p}finally{o()}};return(n,a)=>j5(r(n,a))},E5=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:o}=e;if(t)a=yi(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error($a(21));return jC(o),{predicate:a,type:t,effect:o}},T5=wd(e=>{const{type:t,predicate:r,effect:n}=E5(e);return{id:doe(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error($a(22))}}},{withTypes:()=>T5}),kR=(e,t)=>{const{type:r,effect:n,predicate:a}=E5(t);return Array.from(e.values()).find(o=>(typeof r=="string"?o.type===r:o.predicate===a)&&o.effect===n)},$S=e=>{e.pending.forEach(t=>{t.abort(IS)})},Eoe=(e,t)=>()=>{for(const r of t.keys())$S(r);e.clear()},NR=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},P5=wd(yi(`${Ob}/add`),{withTypes:()=>P5}),Toe=yi(`${Ob}/removeAll`),A5=wd(yi(`${Ob}/remove`),{withTypes:()=>A5}),Poe=(...e)=>{console.error(`${Ob}/error`,...e)},em=(e={})=>{const t=new Map,r=new Map,n=_=>{const j=r.get(_)??0;r.set(_,j+1)},a=_=>{const j=r.get(_)??1;j===1?r.delete(_):r.set(_,j-1)},{extra:o,onError:u=Poe}=e;jC(u);const c=_=>(_.unsubscribe=()=>t.delete(_.id),t.set(_.id,_),j=>{_.unsubscribe(),j!=null&&j.cancelActive&&$S(_)}),p=_=>{const j=kR(t,_)??T5(_);return c(j)};wd(p,{withTypes:()=>p});const h=_=>{const j=kR(t,_);return j&&(j.unsubscribe(),_.cancelActive&&$S(j)),!!j};wd(h,{withTypes:()=>h});const f=async(_,j,w,y)=>{const x=new AbortController,S=Noe(p,x.signal),T=[];try{_.pending.add(x),n(_),await Promise.resolve(_.effect(j,wd({},w,{getOriginalState:y,condition:(N,P)=>S(N,P).then(Boolean),take:S,delay:N5(x.signal),pause:by(x.signal),extra:o,signal:x.signal,fork:koe(x.signal,T),unsubscribe:_.unsubscribe,subscribe:()=>{t.set(_.id,_)},cancelActiveListeners:()=>{_.pending.forEach((N,P,A)=>{N!==x&&(N.abort(IS),A.delete(N))})},cancel:()=>{x.abort(IS),_.pending.delete(x)},throwIfCancelled:()=>{Wc(x.signal)}})))}catch(N){N instanceof Rb||NR(u,N,{raisedBy:"effect"})}finally{await Promise.all(T),x.abort(joe),a(_),_.pending.delete(x)}},m=Eoe(t,r);return{middleware:_=>j=>w=>{if(!s5(w))return j(w);if(P5.match(w))return p(w.payload);if(Toe.match(w)){m();return}if(A5.match(w))return h(w.payload);let y=_.getState();const x=()=>{if(y===CR)throw new Error($a(23));return y};let S;try{if(S=j(w),t.size>0){const T=_.getState(),N=Array.from(t.values());for(const P of N){let A=!1;try{A=P.predicate(w,T,y)}catch(k){A=!1,NR(u,k,{raisedBy:"predicate"})}A&&f(P,w,_,x)}}}finally{y=CR}return S},startListening:p,stopListening:h,clearListeners:m}};function $a(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Aoe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},R5=xa({name:"chartLayout",initialState:Aoe,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,o;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(o=t.payload.left)!==null&&o!==void 0?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Roe,setLayout:Ooe,setChartSize:Doe,setScale:Moe}=R5.actions,Loe=R5.reducer;function O5(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function _t(e){return Number.isFinite(e)}function Cs(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function ER(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ER(Object(r),!0).forEach(function(n){Ioe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ER(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ioe(e,t,r){return(t=$oe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $oe(e){var t=Boe(e,"string");return typeof t=="symbol"?t:t+""}function Boe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qt(e,t,r){return Nr(e)||Nr(t)?r:js(t)?tu(e,t,r):typeof t=="function"?t(e):r}var zoe=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:o,verticalAlign:u,layout:c}=t;if((c==="vertical"||c==="horizontal"&&u==="middle")&&o!=="center"&&$e(e[o]))return yd(yd({},e),{},{[o]:e[o]+(n||0)});if((c==="horizontal"||c==="vertical"&&o==="center")&&u!=="middle"&&$e(e[u]))return yd(yd({},e),{},{[u]:e[u]+(a||0)})}return e},Yi=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",D5=(e,t,r,n)=>{if(n)return e.map(c=>c.coordinate);var a,o,u=e.map(c=>(c.coordinate===t&&(a=!0),c.coordinate===r&&(o=!0),c.coordinate));return a||u.push(t),o||u.push(r),u},M5=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:o,scale:u,realScaleType:c,isCategorical:p,categoricalDomain:h,tickCount:f,ticks:m,niceTicks:b,axisType:_}=e;if(!u)return null;var j=c==="scaleBand"&&u.bandwidth?u.bandwidth()/2:2,w=a==="category"&&u.bandwidth?u.bandwidth()/j:0;if(w=_==="angleAxis"&&o&&o.length>=2?_n(o[0]-o[1])*2*w:w,m||b){var y=(m||b||[]).map((x,S)=>{var T=n?n.indexOf(x):x,N=u.map(T);return _t(N)?{coordinate:N+w,value:x,offset:w,index:S}:null}).filter(ya);return y}return p&&h?h.map((x,S)=>{var T=u.map(x);return _t(T)?{coordinate:T+w,value:x,index:S,offset:w}:null}).filter(ya):u.ticks&&f!=null?u.ticks(f).map((x,S)=>{var T=u.map(x);return _t(T)?{coordinate:T+w,value:x,index:S,offset:w}:null}).filter(ya):u.domain().map((x,S)=>{var T=u.map(x);return _t(T)?{coordinate:T+w,value:n?n[x]:x,index:S,offset:w}:null}).filter(ya)},Foe=(e,t)=>{if(!t||t.length!==2||!$e(t[0])||!$e(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!$e(e[0])||e[0]<r)&&(a[0]=r),(!$e(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},qoe=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var o=0,u=0,c=0;c<r;++c){var p=e[c],h=p==null?void 0:p[a];if(h!=null){var f=h[1],m=h[0],b=Wi(f)?m:f;b>=0?(h[0]=o,o+=b,h[1]=o):(h[0]=u,u+=b,h[1]=u)}}}},Uoe=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var o=0,u=0;u<r;++u){var c=e[u],p=c==null?void 0:c[a];if(p!=null){var h=Wi(p[1])?p[0]:p[1];h>=0?(p[0]=o,o+=h,p[1]=o):(p[0]=0,p[1]=0)}}}},Hoe={sign:qoe,expand:uie,none:eu,silhouette:die,wiggle:fie,positive:Uoe},Woe=(e,t,r)=>{var n,a=(n=Hoe[r])!==null&&n!==void 0?n:eu,o=cie().keys(t).value((c,p)=>Number(Qt(c,p,0))).order(NS).offset(a),u=o(e);return u.forEach((c,p)=>{c.forEach((h,f)=>{var m=Qt(e[f],t[p],0);Array.isArray(m)&&m.length===2&&$e(m[0])&&$e(m[1])&&(h[0]=m[0],h[1]=m[1])})}),u};function L5(e){return e==null?void 0:String(e)}function _y(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:o,dataKey:u}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Nr(a[t.dataKey])){var c=F6(r,"value",a[t.dataKey]);if(c)return c.coordinate+n/2}return r!=null&&r[o]?r[o].coordinate+n/2:null}var p=Qt(a,Nr(u)?t.dataKey:u),h=t.scale.map(p);return $e(h)?h:null}var TR=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:o,index:u}=e;if(t.type==="category")return r[u]?r[u].coordinate+n:null;var c=Qt(o,t.dataKey,t.scale.domain()[u]);if(Nr(c))return null;var p=t.scale.map(c);return $e(p)?p-a/2+n:null},Koe=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},Goe=e=>{var t=e.flat(2).filter($e);return[Math.min(...t),Math.max(...t)]},Voe=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Yoe=(e,t,r)=>{if(e!=null)return Voe(Object.keys(e).reduce((n,a)=>{var o=e[a];if(!o)return n;var{stackedData:u}=o,c=u.reduce((p,h)=>{var f=O5(h,t,r),m=Goe(f);return!_t(m[0])||!_t(m[1])?p:[Math.min(p[0],m[0]),Math.max(p[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],n[0]),Math.max(c[1],n[1])]},[1/0,-1/0]))},PR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,AR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ql=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=jb(t,f=>f.coordinate),o=1/0,u=1,c=a.length;u<c;u++){var p=a[u],h=a[u-1];o=Math.min(((p==null?void 0:p.coordinate)||0)-((h==null?void 0:h.coordinate)||0),o)}return o===1/0?0:o}return r?void 0:0};function RR(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:o}=e;return yd(yd({},t),{},{dataKey:r,payload:n,value:a,name:o})}function Vl(e,t){if(e)return String(e);if(typeof t=="string")return t}var Qoe=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},Xoe=(e,t)=>t==="centric"?e.angle:e.radius,$o=e=>e.layout.width,Bo=e=>e.layout.height,Zoe=e=>e.layout.scale,I5=e=>e.layout.margin,Db=oe(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Mb=oe(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),$5="data-recharts-item-index",B5="data-recharts-item-id",tm=60;function OR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OR(Object(r),!0).forEach(function(n){Joe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Joe(e,t,r){return(t=ele(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ele(e){var t=tle(e,"string");return typeof t=="symbol"?t:t+""}function tle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rle=e=>e.brush.height;function nle(e){var t=Mb(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:tm;return r+a}return r},0)}function ale(e){var t=Mb(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:tm;return r+a}return r},0)}function ile(e){var t=Db(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function sle(e){var t=Db(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var sn=oe([$o,Bo,I5,rle,nle,ale,ile,sle,r5,Ose],(e,t,r,n,a,o,u,c,p,h)=>{var f={left:(r.left||0)+a,right:(r.right||0)+o},m={top:(r.top||0)+u,bottom:(r.bottom||0)+c},b=rv(rv({},m),f),_=b.bottom;b.bottom+=n,b=zoe(b,p,h);var j=e-b.left-b.right,w=t-b.top-b.bottom;return rv(rv({brushBottom:_},b),{},{width:Math.max(j,0),height:Math.max(w,0)})}),ole=oe(sn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),CC=oe($o,Bo,(e,t)=>({x:0,y:0,width:e,height:t})),lle=v.createContext(null),xn=()=>v.useContext(lle)!=null,Lb=e=>e.brush,Ib=oe([Lb,sn,I5],(e,t,r)=>({height:e.height,x:$e(e.x)?e.x:t.left,y:$e(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:$e(e.width)?e.width:t.width})),Yx={},Qx={},Xx={},DR;function cle(){return DR||(DR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:o}={}){let u,c=null;const p=o!=null&&o.includes("leading"),h=o==null||o.includes("trailing"),f=()=>{c!==null&&(r.apply(u,c),u=void 0,c=null)},m=()=>{h&&f(),w()};let b=null;const _=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,m()},n)},j=()=>{b!==null&&(clearTimeout(b),b=null)},w=()=>{j(),u=void 0,c=null},y=()=>{f()},x=function(...S){if(a!=null&&a.aborted)return;u=this,c=S;const T=b==null;_(),p&&T&&f()};return x.schedule=_,x.cancel=w,x.flush=y,a==null||a.addEventListener("abort",w,{once:!0}),x}e.debounce=t})(Xx)),Xx}var MR;function ule(){return MR||(MR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cle();function r(n,a=0,o={}){typeof o!="object"&&(o={});const{leading:u=!1,trailing:c=!0,maxWait:p}=o,h=Array(2);u&&(h[0]="leading"),c&&(h[1]="trailing");let f,m=null;const b=t.debounce(function(...w){f=n.apply(this,w),m=null},a,{edges:h}),_=function(...w){return p!=null&&(m===null&&(m=Date.now()),Date.now()-m>=p)?(f=n.apply(this,w),m=Date.now(),b.cancel(),b.schedule(),f):(b.apply(this,w),f)},j=()=>(b.flush(),f);return _.cancel=b.cancel,_.flush=j,_}e.debounce=r})(Qx)),Qx}var LR;function dle(){return LR||(LR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ule();function r(n,a=0,o={}){const{leading:u=!0,trailing:c=!0}=o;return t.debounce(n,a,{leading:u,maxWait:a,trailing:c})}e.throttle=r})(Yx)),Yx}var Zx,IR;function fle(){return IR||(IR=1,Zx=dle().throttle),Zx}var ple=fle();const hle=Ts(ple);var xy=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=0;console.warn(r.replace(/%s/g,()=>a[u++]))}},bs={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},z5=(e,t,r)=>{var{width:n=bs.width,height:a=bs.height,aspect:o,maxHeight:u}=r,c=ru(n)?e:Number(n),p=ru(a)?t:Number(a);return o&&o>0&&(c?p=c/o:p&&(c=p*o),u&&p!=null&&p>u&&(p=u)),{calculatedWidth:c,calculatedHeight:p}},mle={width:0,height:0,overflow:"visible"},gle={width:0,overflowX:"visible"},vle={height:0,overflowY:"visible"},yle={},ble=e=>{var{width:t,height:r}=e,n=ru(t),a=ru(r);return n&&a?mle:n?gle:a?vle:yle};function _le(e){var{width:t,height:r,aspect:n}=e,a=t,o=r;return a===void 0&&o===void 0?(a=bs.width,o=bs.height):a===void 0?a=n&&n>0?void 0:bs.width:o===void 0&&(o=n&&n>0?void 0:bs.height),{width:a,height:o}}function BS(){return BS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},BS.apply(null,arguments)}function $R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function BR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$R(Object(r),!0).forEach(function(n){xle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$R(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xle(e,t,r){return(t=wle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wle(e){var t=Sle(e,"string");return typeof t=="symbol"?t:t+""}function Sle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var F5=v.createContext(bs.initialDimension);function jle(e){return Cs(e.width)&&Cs(e.height)}function q5(e){var{children:t,width:r,height:n}=e,a=v.useMemo(()=>({width:r,height:n}),[r,n]);return jle(a)?v.createElement(F5.Provider,{value:a},t):null}var kC=()=>v.useContext(F5),Cle=v.forwardRef((e,t)=>{var{aspect:r,initialDimension:n=bs.initialDimension,width:a,height:o,minWidth:u=bs.minWidth,minHeight:c,maxHeight:p,children:h,debounce:f=bs.debounce,id:m,className:b,onResize:_,style:j={}}=e,w=v.useRef(null),y=v.useRef();y.current=_,v.useImperativeHandle(t,()=>w.current);var[x,S]=v.useState({containerWidth:n.width,containerHeight:n.height}),T=v.useCallback((R,D)=>{S(I=>{var q=Math.round(R),z=Math.round(D);return I.containerWidth===q&&I.containerHeight===z?I:{containerWidth:q,containerHeight:z}})},[]);v.useEffect(()=>{if(w.current==null||typeof ResizeObserver>"u")return Gl;var R=z=>{var M,F=z[0];if(F!=null){var{width:B,height:O}=F.contentRect;T(B,O),(M=y.current)===null||M===void 0||M.call(y,B,O)}};f>0&&(R=hle(R,f,{trailing:!0,leading:!1}));var D=new ResizeObserver(R),{width:I,height:q}=w.current.getBoundingClientRect();return T(I,q),D.observe(w.current),()=>{D.disconnect()}},[T,f]);var{containerWidth:N,containerHeight:P}=x;xy(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:A,calculatedHeight:k}=z5(N,P,{width:a,height:o,aspect:r,maxHeight:p});return xy(A!=null&&A>0||k!=null&&k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,A,k,a,o,u,c,r),v.createElement("div",{id:m?"".concat(m):void 0,className:$t("recharts-responsive-container",b),style:BR(BR({},j),{},{width:a,height:o,minWidth:u,minHeight:c,maxHeight:p}),ref:w},v.createElement("div",{style:ble({width:a,height:o})},v.createElement(q5,{width:A,height:k},h)))}),mp=v.forwardRef((e,t)=>{var r=kC();if(Cs(r.width)&&Cs(r.height))return e.children;var{width:n,height:a}=_le({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:o,calculatedHeight:u}=z5(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return $e(o)&&$e(u)?v.createElement(q5,{width:o,height:u},e.children):v.createElement(Cle,BS({},e,{width:n,height:a,ref:t}))});function NC(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var $b=()=>{var e,t=xn(),r=Ue(ole),n=Ue(Ib),a=(e=Ue(Lb))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},kle={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},U5=()=>{var e;return(e=Ue(sn))!==null&&e!==void 0?e:kle},EC=()=>Ue($o),TC=()=>Ue(Bo),Nle=()=>Ue(e=>e.layout.margin),Mt=e=>e.layout.layoutType,Yl=()=>Ue(Mt),PC=()=>{var e=Yl();if(e==="horizontal"||e==="vertical")return e},H5=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},Ele=()=>{var e=Yl();return e!==void 0},rm=e=>{var t=gr(),r=xn(),{width:n,height:a}=e,o=kC(),u=n,c=a;return o&&(u=o.width>0?o.width:n,c=o.height>0?o.height:a),v.useEffect(()=>{!r&&Cs(u)&&Cs(c)&&t(Doe({width:u,height:c}))},[t,r,u,c]),null},W5=Symbol.for("immer-nothing"),zR=Symbol.for("immer-draftable"),Ba=Symbol.for("immer-state");function zi(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var jh=Object.getPrototypeOf;function Fd(e){return!!e&&!!e[Ba]}function au(e){var t;return e?K5(e)||Array.isArray(e)||!!e[zR]||!!((t=e.constructor)!=null&&t[zR])||nm(e)||zb(e):!1}var Tle=Object.prototype.constructor.toString(),FR=new WeakMap;function K5(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=FR.get(r);return n===void 0&&(n=Function.toString.call(r),FR.set(r,n)),n===Tle}function wy(e,t,r=!0){Bb(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Bb(e){const t=e[Ba];return t?t.type_:Array.isArray(e)?1:nm(e)?2:zb(e)?3:0}function zS(e,t){return Bb(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function G5(e,t,r){const n=Bb(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function Ple(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function nm(e){return e instanceof Map}function zb(e){return e instanceof Set}function Nc(e){return e.copy_||e.base_}function FS(e,t){if(nm(e))return new Map(e);if(zb(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=K5(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Ba];let a=Reflect.ownKeys(n);for(let o=0;o<a.length;o++){const u=a[o],c=n[u];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(n[u]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[u]})}return Object.create(jh(e),n)}else{const n=jh(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function AC(e,t=!1){return Fb(e)||Fd(e)||!au(e)||(Bb(e)>1&&Object.defineProperties(e,{set:nv,add:nv,clear:nv,delete:nv}),Object.freeze(e),t&&Object.values(e).forEach(r=>AC(r,!0))),e}function Ale(){zi(2)}var nv={value:Ale};function Fb(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Rle={};function iu(e){const t=Rle[e];return t||zi(0,e),t}var Ch;function V5(){return Ch}function Ole(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function qR(e,t){t&&(iu("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function qS(e){US(e),e.drafts_.forEach(Dle),e.drafts_=null}function US(e){e===Ch&&(Ch=e.parent_)}function UR(e){return Ch=Ole(Ch,e)}function Dle(e){const t=e[Ba];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function HR(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Ba].modified_&&(qS(t),zi(4)),au(e)&&(e=Sy(t,e),t.parent_||jy(t,e)),t.patches_&&iu("Patches").generateReplacementPatches_(r[Ba].base_,e,t.patches_,t.inversePatches_)):e=Sy(t,r,[]),qS(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==W5?e:void 0}function Sy(e,t,r){if(Fb(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[Ba];if(!a)return wy(t,(o,u)=>WR(e,a,t,o,u,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return jy(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const o=a.copy_;let u=o,c=!1;a.type_===3&&(u=new Set(o),o.clear(),c=!0),wy(u,(p,h)=>WR(e,a,o,p,h,r,c),n),jy(e,o,!1),r&&e.patches_&&iu("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function WR(e,t,r,n,a,o,u){if(a==null||typeof a!="object"&&!u)return;const c=Fb(a);if(!(c&&!u)){if(Fd(a)){const p=o&&t&&t.type_!==3&&!zS(t.assigned_,n)?o.concat(n):void 0,h=Sy(e,a,p);if(G5(r,n,h),Fd(h))e.canAutoFreeze_=!1;else return}else u&&r.add(a);if(au(a)&&!c){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&c)return;Sy(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(nm(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&jy(e,a)}}}function jy(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&AC(t,r)}function Mle(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:V5(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,o=RC;r&&(a=[n],o=kh);const{revoke:u,proxy:c}=Proxy.revocable(a,o);return n.draft_=c,n.revoke_=u,c}var RC={get(e,t){if(t===Ba)return e;const r=Nc(e);if(!zS(r,t))return Lle(e,r,t);const n=r[t];return e.finalized_||!au(n)?n:n===Jx(e.base_,t)?(ew(e),e.copy_[t]=WS(n,e)):n},has(e,t){return t in Nc(e)},ownKeys(e){return Reflect.ownKeys(Nc(e))},set(e,t,r){const n=Y5(Nc(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Jx(Nc(e),t),o=a==null?void 0:a[Ba];if(o&&o.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(Ple(r,a)&&(r!==void 0||zS(e.base_,t)))return!0;ew(e),HS(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Jx(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,ew(e),HS(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Nc(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){zi(11)},getPrototypeOf(e){return jh(e.base_)},setPrototypeOf(){zi(12)}},kh={};wy(RC,(e,t)=>{kh[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});kh.deleteProperty=function(e,t){return kh.set.call(this,e,t,void 0)};kh.set=function(e,t,r){return RC.set.call(this,e[0],t,r,e[0])};function Jx(e,t){const r=e[Ba];return(r?Nc(r):e)[t]}function Lle(e,t,r){var a;const n=Y5(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function Y5(e,t){if(!(t in e))return;let r=jh(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=jh(r)}}function HS(e){e.modified_||(e.modified_=!0,e.parent_&&HS(e.parent_))}function ew(e){e.copy_||(e.copy_=FS(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Ile=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const o=r;r=t;const u=this;return function(p=o,...h){return u.produce(p,f=>r.call(this,f,...h))}}typeof r!="function"&&zi(6),n!==void 0&&typeof n!="function"&&zi(7);let a;if(au(t)){const o=UR(this),u=WS(t,void 0);let c=!0;try{a=r(u),c=!1}finally{c?qS(o):US(o)}return qR(o,n),HR(a,o)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===W5&&(a=void 0),this.autoFreeze_&&AC(a,!0),n){const o=[],u=[];iu("Patches").generateReplacementPatches_(t,a,o,u),n(o,u)}return a}else zi(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(u,...c)=>this.produceWithPatches(u,p=>t(p,...c));let n,a;return[this.produce(t,r,(u,c)=>{n=u,a=c}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){au(e)||zi(8),Fd(e)&&(e=$le(e));const t=UR(this),r=WS(e,void 0);return r[Ba].isManual_=!0,US(t),r}finishDraft(e,t){const r=e&&e[Ba];(!r||!r.isManual_)&&zi(9);const{scope_:n}=r;return qR(n,t),HR(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=iu("Patches").applyPatches_;return Fd(e)?n(e,t):this.produce(e,a=>n(a,t))}};function WS(e,t){const r=nm(e)?iu("MapSet").proxyMap_(e,t):zb(e)?iu("MapSet").proxySet_(e,t):Mle(e,t);return(t?t.scope_:V5()).drafts_.push(r),r}function $le(e){return Fd(e)||zi(10,e),Q5(e)}function Q5(e){if(!au(e)||Fb(e))return e;const t=e[Ba];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=FS(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=FS(e,!0);return wy(r,(a,o)=>{G5(r,a,Q5(o))},n),t&&(t.finalized_=!1),r}var Ble=new Ile;Ble.produce;var zle={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},X5=xa({name:"legend",initialState:zle,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Sr()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Ui(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:Sr()},removeLegendPayload:{reducer(e,t){var r=Ui(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Sr()}}}),{setLegendSize:KR,setLegendSettings:Fle,addLegendPayload:Z5,replaceLegendPayload:J5,removeLegendPayload:e8}=X5.actions,qle=X5.reducer,Ule=["contextPayload"];function KS(){return KS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KS.apply(null,arguments)}function GR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GR(Object(r),!0).forEach(function(n){Hle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hle(e,t,r){return(t=Wle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wle(e){var t=Kle(e,"string");return typeof t=="symbol"?t:t+""}function Kle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gle(e,t){if(e==null)return{};var r,n,a=Vle(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Vle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Yle(e){return e.value}function Qle(e){var{contextPayload:t}=e,r=Gle(e,Ule),n=Z6(t,e.payloadUniqBy,Yle),a=qd(qd({},r),{},{payload:n});return v.isValidElement(e.content)?v.cloneElement(e.content,a):typeof e.content=="function"?v.createElement(e.content,a):v.createElement(Fie,a)}function Xle(e,t,r,n,a,o){var{layout:u,align:c,verticalAlign:p}=t,h,f;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(c==="center"&&u==="vertical"?h={left:((n||0)-o.width)/2}:h=c==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(p==="middle"?f={top:((a||0)-o.height)/2}:f=p==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),qd(qd({},h),f)}function Zle(e){var t=gr();return v.useEffect(()=>{t(Fle(e))},[t,e]),null}function Jle(e){var t=gr();return v.useEffect(()=>(t(KR(e)),()=>{t(KR({width:0,height:0}))}),[t,e]),null}function ece(e,t,r,n){return e==="vertical"&&t!=null?{height:t}:e==="horizontal"?{width:r||n}:null}var tce={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function mo(e){var t=$r(e,tce),r=Lse(),n=Oae(),a=Nle(),{width:o,height:u,wrapperStyle:c,portal:p}=t,[h,f]=n5([r]),m=EC(),b=TC();if(m==null||b==null)return null;var _=m-((a==null?void 0:a.left)||0)-((a==null?void 0:a.right)||0),j=ece(t.layout,u,o,_),w=p?c:qd(qd({position:"absolute",width:(j==null?void 0:j.width)||o||"auto",height:(j==null?void 0:j.height)||u||"auto"},Xle(c,t,a,m,b,h)),c),y=p??n;if(y==null||r==null)return null;var x=v.createElement("div",{className:"recharts-legend-wrapper",style:w,ref:f},v.createElement(Zle,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!p&&v.createElement(Jle,{width:h.width,height:h.height}),v.createElement(Qle,KS({},t,j,{margin:a,chartWidth:m,chartHeight:b,contextPayload:r})));return Wh.createPortal(x,y)}mo.displayName="Legend";function GS(){return GS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GS.apply(null,arguments)}function VR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VR(Object(r),!0).forEach(function(n){rce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rce(e,t,r){return(t=nce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nce(e){var t=ace(e,"string");return typeof t=="symbol"?t:t+""}function ace(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ice(e){return Array.isArray(e)&&js(e[0])&&js(e[1])?e.join(" ~ "):e}var sd={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},sce=e=>{var{separator:t=sd.separator,contentStyle:r,itemStyle:n,labelStyle:a=sd.labelStyle,payload:o,formatter:u,itemSorter:c,wrapperClassName:p,labelClassName:h,label:f,labelFormatter:m,accessibilityLayer:b=sd.accessibilityLayer}=e,_=()=>{if(o&&o.length){var P={padding:0,margin:0},A=(c?jb(o,c):o).map((k,R)=>{if(k.type==="none")return null;var D=k.formatter||u||ice,{value:I,name:q}=k,z=I,M=q;if(D){var F=D(I,q,k,R,o);if(Array.isArray(F))[z,M]=F;else if(F!=null)z=F;else return null}var B=gp(gp({},sd.itemStyle),{},{color:k.color||sd.itemStyle.color},n);return v.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(R),style:B},js(M)?v.createElement("span",{className:"recharts-tooltip-item-name"},M):null,js(M)?v.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,v.createElement("span",{className:"recharts-tooltip-item-value"},z),v.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return v.createElement("ul",{className:"recharts-tooltip-item-list",style:P},A)}return null},j=gp(gp({},sd.contentStyle),r),w=gp({margin:0},a),y=!Nr(f),x=y?f:"",S=$t("recharts-default-tooltip",p),T=$t("recharts-tooltip-label",h);y&&m&&o!==void 0&&o!==null&&(x=m(f,o));var N=b?{role:"status","aria-live":"assertive"}:{};return v.createElement("div",GS({className:S,style:j},N),v.createElement("p",{className:T,style:w},v.isValidElement(x)?x:"".concat(x)),_())},vp="recharts-tooltip-wrapper",oce={visibility:"hidden"};function lce(e){var{coordinate:t,translateX:r,translateY:n}=e;return $t(vp,{["".concat(vp,"-right")]:$e(r)&&t&&$e(t.x)&&r>=t.x,["".concat(vp,"-left")]:$e(r)&&t&&$e(t.x)&&r<t.x,["".concat(vp,"-bottom")]:$e(n)&&t&&$e(t.y)&&n>=t.y,["".concat(vp,"-top")]:$e(n)&&t&&$e(t.y)&&n<t.y})}function YR(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offset:a,position:o,reverseDirection:u,tooltipDimension:c,viewBox:p,viewBoxDimension:h}=e;if(o&&$e(o[n]))return o[n];var f=r[n]-c-(a>0?a:0),m=r[n]+a;if(t[n])return u[n]?f:m;var b=p[n];if(b==null)return 0;if(u[n]){var _=f,j=b;return _<j?Math.max(m,b):Math.max(f,b)}if(h==null)return 0;var w=m+c,y=b+h;return w>y?Math.max(f,b):Math.max(m,b)}function cce(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function uce(e){var{allowEscapeViewBox:t,coordinate:r,offsetTop:n,offsetLeft:a,position:o,reverseDirection:u,tooltipBox:c,useTranslate3d:p,viewBox:h}=e,f,m,b;return c.height>0&&c.width>0&&r?(m=YR({allowEscapeViewBox:t,coordinate:r,key:"x",offset:a,position:o,reverseDirection:u,tooltipDimension:c.width,viewBox:h,viewBoxDimension:h.width}),b=YR({allowEscapeViewBox:t,coordinate:r,key:"y",offset:n,position:o,reverseDirection:u,tooltipDimension:c.height,viewBox:h,viewBoxDimension:h.height}),f=cce({translateX:m,translateY:b,useTranslate3d:p})):f=oce,{cssProperties:f,cssClasses:lce({translateX:m,translateY:b,coordinate:r})}}function QR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function av(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QR(Object(r),!0).forEach(function(n){VS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VS(e,t,r){return(t=dce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dce(e){var t=fce(e,"string");return typeof t=="symbol"?t:t+""}function fce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class pce extends v.PureComponent{constructor(){super(...arguments),VS(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),VS(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:o,coordinate:u,hasPayload:c,isAnimationActive:p,offset:h,position:f,reverseDirection:m,useTranslate3d:b,viewBox:_,wrapperStyle:j,lastBoundingBox:w,innerRef:y,hasPortalFromProps:x}=this.props,S=typeof h=="number"?h:h.x,T=typeof h=="number"?h:h.y,{cssClasses:N,cssProperties:P}=uce({allowEscapeViewBox:r,coordinate:u,offsetLeft:S,offsetTop:T,position:f,reverseDirection:m,tooltipBox:{height:w.height,width:w.width},useTranslate3d:b,viewBox:_}),A=x?{}:av(av({transition:p&&t?"transform ".concat(n,"ms ").concat(a):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&c?"visible":"hidden",position:"absolute",top:0,left:0}),k=av(av({},A),{},{visibility:!this.state.dismissed&&t&&c?"visible":"hidden"},j);return v.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:N,style:k,ref:y},o)}}var t8=()=>{var e;return(e=Ue(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function YS(){return YS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},YS.apply(null,arguments)}function XR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ZR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XR(Object(r),!0).forEach(function(n){hce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hce(e,t,r){return(t=mce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mce(e){var t=gce(e,"string");return typeof t=="symbol"?t:t+""}function gce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JR={curveBasisClosed:Zae,curveBasisOpen:Jae,curveBasis:Xae,curveBumpX:Iae,curveBumpY:$ae,curveLinearClosed:eie,curveLinear:wb,curveMonotoneX:tie,curveMonotoneY:rie,curveNatural:nie,curveStep:aie,curveStepAfter:sie,curveStepBefore:iie},Cy=e=>_t(e.x)&&_t(e.y),eO=e=>e.base!=null&&Cy(e.base)&&Cy(e),yp=e=>e.x,bp=e=>e.y,vce=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Xh(e));if((r==="curveMonotone"||r==="curveBump")&&t){var n=JR["".concat(r).concat(t==="vertical"?"Y":"X")];if(n)return n}return JR[r]||wb},tO={connectNulls:!1,type:"linear"},yce=e=>{var{type:t=tO.type,points:r=[],baseLine:n,layout:a,connectNulls:o=tO.connectNulls}=e,u=vce(t,a),c=o?r.filter(Cy):r;if(Array.isArray(n)){var p,h=r.map((j,w)=>ZR(ZR({},j),{},{base:n[w]}));a==="vertical"?p=Qg().y(bp).x1(yp).x0(j=>j.base.x):p=Qg().x(yp).y1(bp).y0(j=>j.base.y);var f=p.defined(eO).curve(u),m=o?h.filter(eO):h;return f(m)}var b;a==="vertical"&&$e(n)?b=Qg().y(bp).x1(yp).x0(n):$e(n)?b=Qg().x(yp).y1(bp).y0(n):b=E6().x(yp).y(bp);var _=b.defined(Cy).curve(u);return _(c)},Sd=e=>{var{className:t,points:r,path:n,pathRef:a}=e,o=Yl();if((!r||!r.length)&&!n)return null;var u={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||o,connectNulls:e.connectNulls},c=r&&r.length?yce(u):n;return v.createElement("path",YS({},ra(e),mC(e),{className:$t("recharts-curve",t),d:c===null?void 0:c,ref:a}))},bce=["x","y","top","left","width","height","className"];function QS(){return QS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},QS.apply(null,arguments)}function rO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _ce(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rO(Object(r),!0).forEach(function(n){xce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xce(e,t,r){return(t=wce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wce(e){var t=Sce(e,"string");return typeof t=="symbol"?t:t+""}function Sce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jce(e,t){if(e==null)return{};var r,n,a=Cce(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Cce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var kce=(e,t,r,n,a,o)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(o,",").concat(t,"h").concat(r),Nce=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:o=0,height:u=0,className:c}=e,p=jce(e,bce),h=_ce({x:t,y:r,top:n,left:a,width:o,height:u},p);return!$e(t)||!$e(r)||!$e(o)||!$e(u)||!$e(n)||!$e(a)?null:v.createElement("path",QS({},Un(h),{className:$t("recharts-cross",c),d:kce(t,r,o,u,n,a)}))};function Ece(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function nO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nO(Object(r),!0).forEach(function(n){Tce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tce(e,t,r){return(t=Pce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pce(e){var t=Ace(e,"string");return typeof t=="symbol"?t:t+""}function Ace(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rce=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),r8=(e,t,r)=>e.map(n=>"".concat(Rce(n)," ").concat(t,"ms ").concat(r)).join(","),Oce=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),Nh=(e,t)=>Object.keys(t).reduce((r,n)=>aO(aO({},r),{},{[n]:e(n,t[n])}),{});function iO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iO(Object(r),!0).forEach(function(n){Dce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dce(e,t,r){return(t=Mce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mce(e){var t=Lce(e,"string");return typeof t=="symbol"?t:t+""}function Lce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ky=(e,t,r)=>e+(t-e)*r,XS=e=>{var{from:t,to:r}=e;return t!==r},n8=(e,t,r)=>{var n=Nh((a,o)=>{if(XS(o)){var[u,c]=e(o.from,o.to,o.velocity);return rn(rn({},o),{},{from:u,velocity:c})}return o},t);return r<1?Nh((a,o)=>XS(o)&&n[a]!=null?rn(rn({},o),{},{velocity:ky(o.velocity,n[a].velocity,r),from:ky(o.from,n[a].from,r)}):o,t):n8(e,n,r-1)};function Ice(e,t,r,n,a,o){var u,c=n.reduce((b,_)=>rn(rn({},b),{},{[_]:{from:e[_],velocity:0,to:t[_]}}),{}),p=()=>Nh((b,_)=>_.from,c),h=()=>!Object.values(c).filter(XS).length,f=null,m=b=>{u||(u=b);var _=b-u,j=_/r.dt;c=n8(r,c,j),a(rn(rn(rn({},e),t),p())),u=b,h()||(f=o.setTimeout(m))};return()=>(f=o.setTimeout(m),()=>{var b;(b=f)===null||b===void 0||b()})}function $ce(e,t,r,n,a,o,u){var c=null,p=a.reduce((m,b)=>{var _=e[b],j=t[b];return _==null||j==null?m:rn(rn({},m),{},{[b]:[_,j]})},{}),h,f=m=>{h||(h=m);var b=(m-h)/n,_=Nh((w,y)=>ky(...y,r(b)),p);if(o(rn(rn(rn({},e),t),_)),b<1)c=u.setTimeout(f);else{var j=Nh((w,y)=>ky(...y,r(1)),p);o(rn(rn(rn({},e),t),j))}};return()=>(c=u.setTimeout(f),()=>{var m;(m=c)===null||m===void 0||m()})}const Bce=(e,t,r,n,a,o)=>{var u=Oce(e,t);return r==null?()=>(a(rn(rn({},e),t)),()=>{}):r.isStepper===!0?Ice(e,t,r,u,a,o):$ce(e,t,r,n,u,a,o)};var Ny=1e-4,a8=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],i8=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),sO=(e,t)=>r=>{var n=a8(e,t);return i8(n,r)},zce=(e,t)=>r=>{var n=a8(e,t),a=[...n.map((o,u)=>o*u).slice(1),0];return i8(a,r)},Fce=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var a=n.map(o=>parseFloat(o));return[a[0],a[1],a[2],a[3]]},qce=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=Fce(r[0]);if(a)return a}}return r.length===4?r:[0,0,1,1]},Uce=(e,t,r,n)=>{var a=sO(e,r),o=sO(t,n),u=zce(e,r),c=h=>h>1?1:h<0?0:h,p=h=>{for(var f=h>1?1:h,m=f,b=0;b<8;++b){var _=a(m)-f,j=u(m);if(Math.abs(_-f)<Ny||j<Ny)return o(m);m=c(m-_/j)}return o(m)};return p.isStepper=!1,p},oO=function(){return Uce(...qce(...arguments))},Hce=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,o=(u,c,p)=>{var h=-(u-c)*r,f=p*n,m=p+(h-f)*a/1e3,b=p*a/1e3+u;return Math.abs(b-c)<Ny&&Math.abs(m)<Ny?[c,0]:[b,m]};return o.isStepper=!0,o.dt=a,o},Wce=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return oO(e);case"spring":return Hce();default:if(e.split("(")[0]==="cubic-bezier")return oO(e)}return typeof e=="function"?e:null};function Kce(e){var t,r=()=>null,n=!1,a=null,o=u=>{if(!n){if(Array.isArray(u)){if(!u.length)return;var c=u,[p,...h]=c;if(typeof p=="number"){a=e.setTimeout(o.bind(null,h),p);return}o(p),a=e.setTimeout(o.bind(null,h));return}typeof u=="string"&&(t=u,r(t)),typeof u=="object"&&(t=u,r(t)),typeof u=="function"&&u()}};return{stop:()=>{n=!0},start:u=>{n=!1,a&&(a(),a=null),o(u)},subscribe:u=>(r=u,()=>{r=()=>null}),getTimeoutController:()=>e}}class Gce{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,o=u=>{u-n>=r?t(u):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(o))};return a=requestAnimationFrame(o),()=>{a!=null&&cancelAnimationFrame(a)}}}function Vce(){return Kce(new Gce)}var Yce=v.createContext(Vce);function Qce(e,t){var r=v.useContext(Yce);return v.useMemo(()=>t??r(e),[e,t,r])}var Xce=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),am={isSsr:Xce()},Zce={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},lO={t:0},tw={t:1};function nf(e){var t=$r(e,Zce),{isActive:r,canBegin:n,duration:a,easing:o,begin:u,onAnimationEnd:c,onAnimationStart:p,children:h}=t,f=r==="auto"?!am.isSsr:r,m=Qce(t.animationId,t.animationManager),[b,_]=v.useState(f?lO:tw),j=v.useRef(null);return v.useEffect(()=>{f||_(tw)},[f]),v.useEffect(()=>{if(!f||!n)return Gl;var w=Bce(lO,tw,Wce(o),a,_,m.getTimeoutController()),y=()=>{j.current=w()};return m.start([p,u,y,a,c]),()=>{m.stop(),j.current&&j.current(),c()}},[f,n,a,o,u,p,c,m]),h(b.t)}function af(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=v.useRef(_h(t)),n=v.useRef(e);return n.current!==e&&(r.current=_h(t),n.current=e),r.current}var Jce=["radius"],eue=["radius"],cO,uO,dO,fO,pO,hO,mO,gO,vO,yO;function bO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _O(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bO(Object(r),!0).forEach(function(n){tue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tue(e,t,r){return(t=rue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rue(e){var t=nue(e,"string");return typeof t=="symbol"?t:t+""}function nue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ey(){return Ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ey.apply(null,arguments)}function xO(e,t){if(e==null)return{};var r,n,a=aue(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function aue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function as(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var wO=(e,t,r,n,a)=>{var o=Il(r),u=Il(n),c=Math.min(Math.abs(o)/2,Math.abs(u)/2),p=u>=0?1:-1,h=o>=0?1:-1,f=u>=0&&o>=0||u<0&&o<0?1:0,m;if(c>0&&Array.isArray(a)){for(var b=[0,0,0,0],_=0,j=4;_<j;_++){var w,y=(w=a[_])!==null&&w!==void 0?w:0;b[_]=y>c?c:y}m=Mr(cO||(cO=as(["M",",",""])),e,t+p*b[0]),b[0]>0&&(m+=Mr(uO||(uO=as(["A ",",",",0,0,",",",",",""])),b[0],b[0],f,e+h*b[0],t)),m+=Mr(dO||(dO=as(["L ",",",""])),e+r-h*b[1],t),b[1]>0&&(m+=Mr(fO||(fO=as(["A ",",",",0,0,",`,
        `,",",""])),b[1],b[1],f,e+r,t+p*b[1])),m+=Mr(pO||(pO=as(["L ",",",""])),e+r,t+n-p*b[2]),b[2]>0&&(m+=Mr(hO||(hO=as(["A ",",",",0,0,",`,
        `,",",""])),b[2],b[2],f,e+r-h*b[2],t+n)),m+=Mr(mO||(mO=as(["L ",",",""])),e+h*b[3],t+n),b[3]>0&&(m+=Mr(gO||(gO=as(["A ",",",",0,0,",`,
        `,",",""])),b[3],b[3],f,e,t+n-p*b[3])),m+="Z"}else if(c>0&&a===+a&&a>0){var x=Math.min(c,a);m=Mr(vO||(vO=as(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+p*x,x,x,f,e+h*x,t,e+r-h*x,t,x,x,f,e+r,t+p*x,e+r,t+n-p*x,x,x,f,e+r-h*x,t+n,e+h*x,t+n,x,x,f,e,t+n-p*x)}else m=Mr(yO||(yO=as(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return m},SO={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},s8=e=>{var t=$r(e,SO),r=v.useRef(null),[n,a]=v.useState(-1);v.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var $=r.current.getTotalLength();$&&a($)}catch{}},[]);var{x:o,y:u,width:c,height:p,radius:h,className:f}=t,{animationEasing:m,animationDuration:b,animationBegin:_,isAnimationActive:j,isUpdateAnimationActive:w}=t,y=v.useRef(c),x=v.useRef(p),S=v.useRef(o),T=v.useRef(u),N=v.useMemo(()=>({x:o,y:u,width:c,height:p,radius:h}),[o,u,c,p,h]),P=af(N,"rectangle-");if(o!==+o||u!==+u||c!==+c||p!==+p||c===0||p===0)return null;var A=$t("recharts-rectangle",f);if(!w){var k=Un(t),{radius:R}=k,D=xO(k,Jce);return v.createElement("path",Ey({},D,{x:Il(o),y:Il(u),width:Il(c),height:Il(p),radius:typeof h=="number"?h:void 0,className:A,d:wO(o,u,c,p,h)}))}var I=y.current,q=x.current,z=S.current,M=T.current,F="0px ".concat(n===-1?1:n,"px"),B="".concat(n,"px 0px"),O=r8(["strokeDasharray"],b,typeof m=="string"?m:SO.animationEasing);return v.createElement(nf,{animationId:P,key:P,canBegin:n>0,duration:b,easing:m,isActive:w,begin:_},$=>{var K=Yt(I,c,$),Y=Yt(q,p,$),Z=Yt(z,o,$),H=Yt(M,u,$);r.current&&(y.current=K,x.current=Y,S.current=Z,T.current=H);var X;j?$>0?X={transition:O,strokeDasharray:B}:X={strokeDasharray:F}:X={strokeDasharray:B};var te=Un(t),{radius:le}=te,me=xO(te,eue);return v.createElement("path",Ey({},me,{radius:typeof h=="number"?h:void 0,className:A,d:wO(Z,H,K,Y,h),ref:r,style:_O(_O({},X),t.style)}))})};function jO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function CO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jO(Object(r),!0).forEach(function(n){iue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iue(e,t,r){return(t=sue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sue(e){var t=oue(e,"string");return typeof t=="symbol"?t:t+""}function oue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ty=Math.PI/180,lue=e=>e*180/Math.PI,Xr=(e,t,r,n)=>({x:e+Math.cos(-Ty*n)*r,y:t+Math.sin(-Ty*n)*r}),o8=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},cue=(e,t)=>{var{x:r,y:n}=e,{x:a,y:o}=t;return Math.sqrt((r-a)**2+(n-o)**2)},uue=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:o}=t,u=cue({x:r,y:n},{x:a,y:o});if(u<=0)return{radius:u,angle:0};var c=(r-a)/u,p=Math.acos(c);return n>o&&(p=2*Math.PI-p),{radius:u,angle:lue(p),angleInRadian:p}},due=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),o=Math.min(n,a);return{startAngle:t-o*360,endAngle:r-o*360}},fue=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),o=Math.floor(n/360),u=Math.min(a,o);return e+u*360},pue=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:o}=uue({x:r,y:n},t),{innerRadius:u,outerRadius:c}=t;if(a<u||a>c||a===0)return null;var{startAngle:p,endAngle:h}=due(t),f=o,m;if(p<=h){for(;f>h;)f-=360;for(;f<p;)f+=360;m=f>=p&&f<=h}else{for(;f>p;)f-=360;for(;f<h;)f+=360;m=f>=h&&f<=p}return m?CO(CO({},t),{},{radius:a,angle:fue(f,t)}):null};function l8(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:o}=e,u=Xr(t,r,n,a),c=Xr(t,r,n,o);return{points:[u,c],cx:t,cy:r,radius:n,startAngle:a,endAngle:o}}var kO,NO,EO,TO,PO,AO,RO;function ZS(){return ZS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZS.apply(null,arguments)}function Rc(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var hue=(e,t)=>{var r=_n(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},iv=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:o,isExternal:u,cornerRadius:c,cornerIsExternal:p}=e,h=c*(u?1:-1)+n,f=Math.asin(c/h)/Ty,m=p?a:a+o*f,b=Xr(t,r,h,m),_=Xr(t,r,n,m),j=p?a-o*f:a,w=Xr(t,r,h*Math.cos(f*Ty),j);return{center:b,circleTangency:_,lineTangency:w,theta:f}},c8=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:o,endAngle:u}=e,c=hue(o,u),p=o+c,h=Xr(t,r,a,o),f=Xr(t,r,a,p),m=Mr(kO||(kO=Rc(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),h.x,h.y,a,a,+(Math.abs(c)>180),+(o>p),f.x,f.y);if(n>0){var b=Xr(t,r,n,o),_=Xr(t,r,n,p);m+=Mr(NO||(NO=Rc(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),_.x,_.y,n,n,+(Math.abs(c)>180),+(o<=p),b.x,b.y)}else m+=Mr(EO||(EO=Rc(["L ",","," Z"])),t,r);return m},mue=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:o,forceCornerRadius:u,cornerIsExternal:c,startAngle:p,endAngle:h}=e,f=_n(h-p),{circleTangency:m,lineTangency:b,theta:_}=iv({cx:t,cy:r,radius:a,angle:p,sign:f,cornerRadius:o,cornerIsExternal:c}),{circleTangency:j,lineTangency:w,theta:y}=iv({cx:t,cy:r,radius:a,angle:h,sign:-f,cornerRadius:o,cornerIsExternal:c}),x=c?Math.abs(p-h):Math.abs(p-h)-_-y;if(x<0)return u?Mr(TO||(TO=Rc(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),b.x,b.y,o,o,o*2,o,o,-o*2):c8({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:p,endAngle:h});var S=Mr(PO||(PO=Rc(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),b.x,b.y,o,o,+(f<0),m.x,m.y,a,a,+(x>180),+(f<0),j.x,j.y,o,o,+(f<0),w.x,w.y);if(n>0){var{circleTangency:T,lineTangency:N,theta:P}=iv({cx:t,cy:r,radius:n,angle:p,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),{circleTangency:A,lineTangency:k,theta:R}=iv({cx:t,cy:r,radius:n,angle:h,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),D=c?Math.abs(p-h):Math.abs(p-h)-P-R;if(D<0&&o===0)return"".concat(S,"L").concat(t,",").concat(r,"Z");S+=Mr(AO||(AO=Rc(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),k.x,k.y,o,o,+(f<0),A.x,A.y,n,n,+(D>180),+(f>0),T.x,T.y,o,o,+(f<0),N.x,N.y)}else S+=Mr(RO||(RO=Rc(["L",",","Z"])),t,r);return S},gue={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},u8=e=>{var t=$r(e,gue),{cx:r,cy:n,innerRadius:a,outerRadius:o,cornerRadius:u,forceCornerRadius:c,cornerIsExternal:p,startAngle:h,endAngle:f,className:m}=t;if(o<a||h===f)return null;var b=$t("recharts-sector",m),_=o-a,j=qn(u,_,0,!0),w;return j>0&&Math.abs(h-f)<360?w=mue({cx:r,cy:n,innerRadius:a,outerRadius:o,cornerRadius:Math.min(j,_/2),forceCornerRadius:c,cornerIsExternal:p,startAngle:h,endAngle:f}):w=c8({cx:r,cy:n,innerRadius:a,outerRadius:o,startAngle:h,endAngle:f}),v.createElement("path",ZS({},Un(t),{className:b,d:w}))};function vue(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(U6(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:o,outerRadius:u,angle:c}=t,p=Xr(n,a,o,c),h=Xr(n,a,u,c);return[{x:p.x,y:p.y},{x:h.x,y:h.y}]}return l8(t)}}var rw={},nw={},aw={},OO;function yue(){return OO||(OO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=e5();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(aw)),aw}var DO;function bue(){return DO||(DO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yue();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(nw)),nw}var MO;function _ue(){return MO||(MO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=t5(),r=bue();function n(a,o,u){u&&typeof u!="number"&&t.isIterateeCall(a,o,u)&&(o=u=void 0),a=r.toFinite(a),o===void 0?(o=a,a=0):o=r.toFinite(o),u=u===void 0?a<o?1:-1:r.toFinite(u);const c=Math.max(Math.ceil((o-a)/(u||1)),0),p=new Array(c);for(let h=0;h<c;h++)p[h]=a,a+=u;return p}e.range=n})(rw)),rw}var iw,LO;function xue(){return LO||(LO=1,iw=_ue().range),iw}var wue=xue();const d8=Ts(wue);function zl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Sue(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function OC(e){let t,r,n;e.length!==2?(t=zl,r=(c,p)=>zl(e(c),p),n=(c,p)=>e(c)-p):(t=e===zl||e===Sue?e:jue,r=e,n=e);function a(c,p,h=0,f=c.length){if(h<f){if(t(p,p)!==0)return f;do{const m=h+f>>>1;r(c[m],p)<0?h=m+1:f=m}while(h<f)}return h}function o(c,p,h=0,f=c.length){if(h<f){if(t(p,p)!==0)return f;do{const m=h+f>>>1;r(c[m],p)<=0?h=m+1:f=m}while(h<f)}return h}function u(c,p,h=0,f=c.length){const m=a(c,p,h,f-1);return m>h&&n(c[m-1],p)>-n(c[m],p)?m-1:m}return{left:a,center:u,right:o}}function jue(){return 0}function f8(e){return e===null?NaN:+e}function*Cue(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const kue=OC(zl),im=kue.right;OC(f8).center;class IO extends Map{constructor(t,r=Tue){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get($O(this,t))}has(t){return super.has($O(this,t))}set(t,r){return super.set(Nue(this,t),r)}delete(t){return super.delete(Eue(this,t))}}function $O({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Nue({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Eue({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Tue(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Pue(e=zl){if(e===zl)return p8;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function p8(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Aue=Math.sqrt(50),Rue=Math.sqrt(10),Oue=Math.sqrt(2);function Py(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),o=n/Math.pow(10,a),u=o>=Aue?10:o>=Rue?5:o>=Oue?2:1;let c,p,h;return a<0?(h=Math.pow(10,-a)/u,c=Math.round(e*h),p=Math.round(t*h),c/h<e&&++c,p/h>t&&--p,h=-h):(h=Math.pow(10,a)*u,c=Math.round(e/h),p=Math.round(t/h),c*h<e&&++c,p*h>t&&--p),p<c&&.5<=r&&r<2?Py(e,t,r*2):[c,p,h]}function JS(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,o,u]=n?Py(t,e,r):Py(e,t,r);if(!(o>=a))return[];const c=o-a+1,p=new Array(c);if(n)if(u<0)for(let h=0;h<c;++h)p[h]=(o-h)/-u;else for(let h=0;h<c;++h)p[h]=(o-h)*u;else if(u<0)for(let h=0;h<c;++h)p[h]=(a+h)/-u;else for(let h=0;h<c;++h)p[h]=(a+h)*u;return p}function ej(e,t,r){return t=+t,e=+e,r=+r,Py(e,t,r)[2]}function tj(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?ej(t,e,r):ej(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function BO(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function zO(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function h8(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?p8:Pue(a);n>r;){if(n-r>600){const p=n-r+1,h=t-r+1,f=Math.log(p),m=.5*Math.exp(2*f/3),b=.5*Math.sqrt(f*m*(p-m)/p)*(h-p/2<0?-1:1),_=Math.max(r,Math.floor(t-h*m/p+b)),j=Math.min(n,Math.floor(t+(p-h)*m/p+b));h8(e,t,_,j,a)}const o=e[t];let u=r,c=n;for(_p(e,r,t),a(e[n],o)>0&&_p(e,r,n);u<c;){for(_p(e,u,c),++u,--c;a(e[u],o)<0;)++u;for(;a(e[c],o)>0;)--c}a(e[r],o)===0?_p(e,r,c):(++c,_p(e,c,n)),c<=t&&(r=c+1),t<=c&&(n=c-1)}return e}function _p(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Due(e,t,r){if(e=Float64Array.from(Cue(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return zO(e);if(t>=1)return BO(e);var n,a=(n-1)*t,o=Math.floor(a),u=BO(h8(e,o).subarray(0,o+1)),c=zO(e.subarray(o+1));return u+(c-u)*(a-o)}}function Mue(e,t,r=f8){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,o=Math.floor(a),u=+r(e[o],o,e),c=+r(e[o+1],o+1,e);return u+(c-u)*(a-o)}}function Lue(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(a);++n<a;)o[n]=e+n*r;return o}function ji(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function zo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const rj=Symbol("implicit");function DC(){var e=new IO,t=[],r=[],n=rj;function a(o){let u=e.get(o);if(u===void 0){if(n!==rj)return n;e.set(o,u=t.push(o)-1)}return r[u%r.length]}return a.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new IO;for(const u of o)e.has(u)||e.set(u,t.push(u)-1);return a},a.range=function(o){return arguments.length?(r=Array.from(o),a):r.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return DC(t,r).unknown(n)},ji.apply(a,arguments),a}function MC(){var e=DC().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,o,u,c=!1,p=0,h=0,f=.5;delete e.unknown;function m(){var b=t().length,_=a<n,j=_?a:n,w=_?n:a;o=(w-j)/Math.max(1,b-p+h*2),c&&(o=Math.floor(o)),j+=(w-j-o*(b-p))*f,u=o*(1-p),c&&(j=Math.round(j),u=Math.round(u));var y=Lue(b).map(function(x){return j+o*x});return r(_?y.reverse():y)}return e.domain=function(b){return arguments.length?(t(b),m()):t()},e.range=function(b){return arguments.length?([n,a]=b,n=+n,a=+a,m()):[n,a]},e.rangeRound=function(b){return[n,a]=b,n=+n,a=+a,c=!0,m()},e.bandwidth=function(){return u},e.step=function(){return o},e.round=function(b){return arguments.length?(c=!!b,m()):c},e.padding=function(b){return arguments.length?(p=Math.min(1,h=+b),m()):p},e.paddingInner=function(b){return arguments.length?(p=Math.min(1,b),m()):p},e.paddingOuter=function(b){return arguments.length?(h=+b,m()):h},e.align=function(b){return arguments.length?(f=Math.max(0,Math.min(1,b)),m()):f},e.copy=function(){return MC(t(),[n,a]).round(c).paddingInner(p).paddingOuter(h).align(f)},ji.apply(m(),arguments)}function m8(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return m8(t())},e}function Iue(){return m8(MC.apply(null,arguments).paddingInner(1))}function LC(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function g8(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function sm(){}var Eh=.7,Ay=1/Eh,jd="\\s*([+-]?\\d+)\\s*",Th="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ws="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$ue=/^#([0-9a-f]{3,8})$/,Bue=new RegExp(`^rgb\\(${jd},${jd},${jd}\\)$`),zue=new RegExp(`^rgb\\(${ws},${ws},${ws}\\)$`),Fue=new RegExp(`^rgba\\(${jd},${jd},${jd},${Th}\\)$`),que=new RegExp(`^rgba\\(${ws},${ws},${ws},${Th}\\)$`),Uue=new RegExp(`^hsl\\(${Th},${ws},${ws}\\)$`),Hue=new RegExp(`^hsla\\(${Th},${ws},${ws},${Th}\\)$`),FO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};LC(sm,Ph,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:qO,formatHex:qO,formatHex8:Wue,formatHsl:Kue,formatRgb:UO,toString:UO});function qO(){return this.rgb().formatHex()}function Wue(){return this.rgb().formatHex8()}function Kue(){return v8(this).formatHsl()}function UO(){return this.rgb().formatRgb()}function Ph(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=$ue.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?HO(t):r===3?new ba(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?sv(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?sv(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Bue.exec(e))?new ba(t[1],t[2],t[3],1):(t=zue.exec(e))?new ba(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Fue.exec(e))?sv(t[1],t[2],t[3],t[4]):(t=que.exec(e))?sv(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Uue.exec(e))?GO(t[1],t[2]/100,t[3]/100,1):(t=Hue.exec(e))?GO(t[1],t[2]/100,t[3]/100,t[4]):FO.hasOwnProperty(e)?HO(FO[e]):e==="transparent"?new ba(NaN,NaN,NaN,0):null}function HO(e){return new ba(e>>16&255,e>>8&255,e&255,1)}function sv(e,t,r,n){return n<=0&&(e=t=r=NaN),new ba(e,t,r,n)}function Gue(e){return e instanceof sm||(e=Ph(e)),e?(e=e.rgb(),new ba(e.r,e.g,e.b,e.opacity)):new ba}function nj(e,t,r,n){return arguments.length===1?Gue(e):new ba(e,t,r,n??1)}function ba(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}LC(ba,nj,g8(sm,{brighter(e){return e=e==null?Ay:Math.pow(Ay,e),new ba(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Eh:Math.pow(Eh,e),new ba(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ba(Kc(this.r),Kc(this.g),Kc(this.b),Ry(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:WO,formatHex:WO,formatHex8:Vue,formatRgb:KO,toString:KO}));function WO(){return`#${Oc(this.r)}${Oc(this.g)}${Oc(this.b)}`}function Vue(){return`#${Oc(this.r)}${Oc(this.g)}${Oc(this.b)}${Oc((isNaN(this.opacity)?1:this.opacity)*255)}`}function KO(){const e=Ry(this.opacity);return`${e===1?"rgb(":"rgba("}${Kc(this.r)}, ${Kc(this.g)}, ${Kc(this.b)}${e===1?")":`, ${e})`}`}function Ry(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Kc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Oc(e){return e=Kc(e),(e<16?"0":"")+e.toString(16)}function GO(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Fi(e,t,r,n)}function v8(e){if(e instanceof Fi)return new Fi(e.h,e.s,e.l,e.opacity);if(e instanceof sm||(e=Ph(e)),!e)return new Fi;if(e instanceof Fi)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),o=Math.max(t,r,n),u=NaN,c=o-a,p=(o+a)/2;return c?(t===o?u=(r-n)/c+(r<n)*6:r===o?u=(n-t)/c+2:u=(t-r)/c+4,c/=p<.5?o+a:2-o-a,u*=60):c=p>0&&p<1?0:u,new Fi(u,c,p,e.opacity)}function Yue(e,t,r,n){return arguments.length===1?v8(e):new Fi(e,t,r,n??1)}function Fi(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}LC(Fi,Yue,g8(sm,{brighter(e){return e=e==null?Ay:Math.pow(Ay,e),new Fi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Eh:Math.pow(Eh,e),new Fi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new ba(sw(e>=240?e-240:e+120,a,n),sw(e,a,n),sw(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Fi(VO(this.h),ov(this.s),ov(this.l),Ry(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ry(this.opacity);return`${e===1?"hsl(":"hsla("}${VO(this.h)}, ${ov(this.s)*100}%, ${ov(this.l)*100}%${e===1?")":`, ${e})`}`}}));function VO(e){return e=(e||0)%360,e<0?e+360:e}function ov(e){return Math.max(0,Math.min(1,e||0))}function sw(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const IC=e=>()=>e;function Que(e,t){return function(r){return e+r*t}}function Xue(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Zue(e){return(e=+e)==1?y8:function(t,r){return r-t?Xue(t,r,e):IC(isNaN(t)?r:t)}}function y8(e,t){var r=t-e;return r?Que(e,r):IC(isNaN(e)?t:e)}const YO=(function e(t){var r=Zue(t);function n(a,o){var u=r((a=nj(a)).r,(o=nj(o)).r),c=r(a.g,o.g),p=r(a.b,o.b),h=y8(a.opacity,o.opacity);return function(f){return a.r=u(f),a.g=c(f),a.b=p(f),a.opacity=h(f),a+""}}return n.gamma=e,n})(1);function Jue(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(o){for(a=0;a<r;++a)n[a]=e[a]*(1-o)+t[a]*o;return n}}function ede(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function tde(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),o=new Array(r),u;for(u=0;u<n;++u)a[u]=sf(e[u],t[u]);for(;u<r;++u)o[u]=t[u];return function(c){for(u=0;u<n;++u)o[u]=a[u](c);return o}}function rde(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Oy(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function nde(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=sf(e[a],t[a]):n[a]=t[a];return function(o){for(a in r)n[a]=r[a](o);return n}}var aj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ow=new RegExp(aj.source,"g");function ade(e){return function(){return e}}function ide(e){return function(t){return e(t)+""}}function sde(e,t){var r=aj.lastIndex=ow.lastIndex=0,n,a,o,u=-1,c=[],p=[];for(e=e+"",t=t+"";(n=aj.exec(e))&&(a=ow.exec(t));)(o=a.index)>r&&(o=t.slice(r,o),c[u]?c[u]+=o:c[++u]=o),(n=n[0])===(a=a[0])?c[u]?c[u]+=a:c[++u]=a:(c[++u]=null,p.push({i:u,x:Oy(n,a)})),r=ow.lastIndex;return r<t.length&&(o=t.slice(r),c[u]?c[u]+=o:c[++u]=o),c.length<2?p[0]?ide(p[0].x):ade(t):(t=p.length,function(h){for(var f=0,m;f<t;++f)c[(m=p[f]).i]=m.x(h);return c.join("")})}function sf(e,t){var r=typeof t,n;return t==null||r==="boolean"?IC(t):(r==="number"?Oy:r==="string"?(n=Ph(t))?(t=n,YO):sde:t instanceof Ph?YO:t instanceof Date?rde:ede(t)?Jue:Array.isArray(t)?tde:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?nde:Oy)(e,t)}function $C(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function ode(e,t){t===void 0&&(t=e,e=sf);for(var r=0,n=t.length-1,a=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(a,a=t[++r]);return function(u){var c=Math.max(0,Math.min(n-1,Math.floor(u*=n)));return o[c](u-c)}}function lde(e){return function(){return e}}function Dy(e){return+e}var QO=[0,1];function ta(e){return e}function ij(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:lde(isNaN(t)?NaN:.5)}function cde(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function ude(e,t,r){var n=e[0],a=e[1],o=t[0],u=t[1];return a<n?(n=ij(a,n),o=r(u,o)):(n=ij(n,a),o=r(o,u)),function(c){return o(n(c))}}function dde(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),o=new Array(n),u=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++u<n;)a[u]=ij(e[u],e[u+1]),o[u]=r(t[u],t[u+1]);return function(c){var p=im(e,c,1,n)-1;return o[p](a[p](c))}}function om(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function qb(){var e=QO,t=QO,r=sf,n,a,o,u=ta,c,p,h;function f(){var b=Math.min(e.length,t.length);return u!==ta&&(u=cde(e[0],e[b-1])),c=b>2?dde:ude,p=h=null,m}function m(b){return b==null||isNaN(b=+b)?o:(p||(p=c(e.map(n),t,r)))(n(u(b)))}return m.invert=function(b){return u(a((h||(h=c(t,e.map(n),Oy)))(b)))},m.domain=function(b){return arguments.length?(e=Array.from(b,Dy),f()):e.slice()},m.range=function(b){return arguments.length?(t=Array.from(b),f()):t.slice()},m.rangeRound=function(b){return t=Array.from(b),r=$C,f()},m.clamp=function(b){return arguments.length?(u=b?!0:ta,f()):u!==ta},m.interpolate=function(b){return arguments.length?(r=b,f()):r},m.unknown=function(b){return arguments.length?(o=b,m):o},function(b,_){return n=b,a=_,f()}}function BC(){return qb()(ta,ta)}function fde(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function My(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ud(e){return e=My(Math.abs(e)),e?e[1]:NaN}function pde(e,t){return function(r,n){for(var a=r.length,o=[],u=0,c=e[0],p=0;a>0&&c>0&&(p+c+1>n&&(c=Math.max(1,n-p)),o.push(r.substring(a-=c,a+c)),!((p+=c+1)>n));)c=e[u=(u+1)%e.length];return o.reverse().join(t)}}function hde(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var mde=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ah(e){if(!(t=mde.exec(e)))throw new Error("invalid format: "+e);var t;return new zC({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ah.prototype=zC.prototype;function zC(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}zC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function gde(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Ly;function vde(e,t){var r=My(e,t);if(!r)return Ly=void 0,e.toPrecision(t);var n=r[0],a=r[1],o=a-(Ly=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,u=n.length;return o===u?n:o>u?n+new Array(o-u+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+My(e,Math.max(0,t+o-1))[0]}function XO(e,t){var r=My(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const ZO={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:fde,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>XO(e*100,t),r:XO,s:vde,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function JO(e){return e}var e3=Array.prototype.map,t3=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function yde(e){var t=e.grouping===void 0||e.thousands===void 0?JO:pde(e3.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?JO:hde(e3.call(e.numerals,String)),u=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"":e.minus+"",p=e.nan===void 0?"NaN":e.nan+"";function h(m,b){m=Ah(m);var _=m.fill,j=m.align,w=m.sign,y=m.symbol,x=m.zero,S=m.width,T=m.comma,N=m.precision,P=m.trim,A=m.type;A==="n"?(T=!0,A="g"):ZO[A]||(N===void 0&&(N=12),P=!0,A="g"),(x||_==="0"&&j==="=")&&(x=!0,_="0",j="=");var k=(b&&b.prefix!==void 0?b.prefix:"")+(y==="$"?r:y==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():""),R=(y==="$"?n:/[%p]/.test(A)?u:"")+(b&&b.suffix!==void 0?b.suffix:""),D=ZO[A],I=/[defgprs%]/.test(A);N=N===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function q(z){var M=k,F=R,B,O,$;if(A==="c")F=D(z)+F,z="";else{z=+z;var K=z<0||1/z<0;if(z=isNaN(z)?p:D(Math.abs(z),N),P&&(z=gde(z)),K&&+z==0&&w!=="+"&&(K=!1),M=(K?w==="("?w:c:w==="-"||w==="("?"":w)+M,F=(A==="s"&&!isNaN(z)&&Ly!==void 0?t3[8+Ly/3]:"")+F+(K&&w==="("?")":""),I){for(B=-1,O=z.length;++B<O;)if($=z.charCodeAt(B),48>$||$>57){F=($===46?a+z.slice(B+1):z.slice(B))+F,z=z.slice(0,B);break}}}T&&!x&&(z=t(z,1/0));var Y=M.length+z.length+F.length,Z=Y<S?new Array(S-Y+1).join(_):"";switch(T&&x&&(z=t(Z+z,Z.length?S-F.length:1/0),Z=""),j){case"<":z=M+z+F+Z;break;case"=":z=M+Z+z+F;break;case"^":z=Z.slice(0,Y=Z.length>>1)+M+z+F+Z.slice(Y);break;default:z=Z+M+z+F;break}return o(z)}return q.toString=function(){return m+""},q}function f(m,b){var _=Math.max(-8,Math.min(8,Math.floor(Ud(b)/3)))*3,j=Math.pow(10,-_),w=h((m=Ah(m),m.type="f",m),{suffix:t3[8+_/3]});return function(y){return w(j*y)}}return{format:h,formatPrefix:f}}var lv,FC,b8;bde({thousands:",",grouping:[3],currency:["$",""]});function bde(e){return lv=yde(e),FC=lv.format,b8=lv.formatPrefix,lv}function _de(e){return Math.max(0,-Ud(Math.abs(e)))}function xde(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ud(t)/3)))*3-Ud(Math.abs(e)))}function wde(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ud(t)-Ud(e))+1}function _8(e,t,r,n){var a=tj(e,t,r),o;switch(n=Ah(n??",f"),n.type){case"s":{var u=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=xde(a,u))&&(n.precision=o),b8(n,u)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=wde(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=_de(a))&&(n.precision=o-(n.type==="%")*2);break}}return FC(n)}function Ql(e){var t=e.domain;return e.ticks=function(r){var n=t();return JS(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return _8(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,o=n.length-1,u=n[a],c=n[o],p,h,f=10;for(c<u&&(h=u,u=c,c=h,h=a,a=o,o=h);f-- >0;){if(h=ej(u,c,r),h===p)return n[a]=u,n[o]=c,t(n);if(h>0)u=Math.floor(u/h)*h,c=Math.ceil(c/h)*h;else if(h<0)u=Math.ceil(u*h)/h,c=Math.floor(c*h)/h;else break;p=h}return e},e}function x8(){var e=BC();return e.copy=function(){return om(e,x8())},ji.apply(e,arguments),Ql(e)}function w8(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Dy),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return w8(e).unknown(t)},e=arguments.length?Array.from(e,Dy):[0,1],Ql(r)}function S8(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],o=e[n],u;return o<a&&(u=r,r=n,n=u,u=a,a=o,o=u),e[r]=t.floor(a),e[n]=t.ceil(o),e}function r3(e){return Math.log(e)}function n3(e){return Math.exp(e)}function Sde(e){return-Math.log(-e)}function jde(e){return-Math.exp(-e)}function Cde(e){return isFinite(e)?+("1e"+e):e<0?0:e}function kde(e){return e===10?Cde:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Nde(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function a3(e){return(t,r)=>-e(-t,r)}function qC(e){const t=e(r3,n3),r=t.domain;let n=10,a,o;function u(){return a=Nde(n),o=kde(n),r()[0]<0?(a=a3(a),o=a3(o),e(Sde,jde)):e(r3,n3),t}return t.base=function(c){return arguments.length?(n=+c,u()):n},t.domain=function(c){return arguments.length?(r(c),u()):r()},t.ticks=c=>{const p=r();let h=p[0],f=p[p.length-1];const m=f<h;m&&([h,f]=[f,h]);let b=a(h),_=a(f),j,w;const y=c==null?10:+c;let x=[];if(!(n%1)&&_-b<y){if(b=Math.floor(b),_=Math.ceil(_),h>0){for(;b<=_;++b)for(j=1;j<n;++j)if(w=b<0?j/o(-b):j*o(b),!(w<h)){if(w>f)break;x.push(w)}}else for(;b<=_;++b)for(j=n-1;j>=1;--j)if(w=b>0?j/o(-b):j*o(b),!(w<h)){if(w>f)break;x.push(w)}x.length*2<y&&(x=JS(h,f,y))}else x=JS(b,_,Math.min(_-b,y)).map(o);return m?x.reverse():x},t.tickFormat=(c,p)=>{if(c==null&&(c=10),p==null&&(p=n===10?"s":","),typeof p!="function"&&(!(n%1)&&(p=Ah(p)).precision==null&&(p.trim=!0),p=FC(p)),c===1/0)return p;const h=Math.max(1,n*c/t.ticks().length);return f=>{let m=f/o(Math.round(a(f)));return m*n<n-.5&&(m*=n),m<=h?p(f):""}},t.nice=()=>r(S8(r(),{floor:c=>o(Math.floor(a(c))),ceil:c=>o(Math.ceil(a(c)))})),t}function j8(){const e=qC(qb()).domain([1,10]);return e.copy=()=>om(e,j8()).base(e.base()),ji.apply(e,arguments),e}function i3(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function s3(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function UC(e){var t=1,r=e(i3(t),s3(t));return r.constant=function(n){return arguments.length?e(i3(t=+n),s3(t)):t},Ql(r)}function C8(){var e=UC(qb());return e.copy=function(){return om(e,C8()).constant(e.constant())},ji.apply(e,arguments)}function o3(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Ede(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Tde(e){return e<0?-e*e:e*e}function HC(e){var t=e(ta,ta),r=1;function n(){return r===1?e(ta,ta):r===.5?e(Ede,Tde):e(o3(r),o3(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Ql(t)}function WC(){var e=HC(qb());return e.copy=function(){return om(e,WC()).exponent(e.exponent())},ji.apply(e,arguments),e}function Pde(){return WC.apply(null,arguments).exponent(.5)}function l3(e){return Math.sign(e)*e*e}function Ade(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function k8(){var e=BC(),t=[0,1],r=!1,n;function a(o){var u=Ade(e(o));return isNaN(u)?n:r?Math.round(u):u}return a.invert=function(o){return e.invert(l3(o))},a.domain=function(o){return arguments.length?(e.domain(o),a):e.domain()},a.range=function(o){return arguments.length?(e.range((t=Array.from(o,Dy)).map(l3)),a):t.slice()},a.rangeRound=function(o){return a.range(o).round(!0)},a.round=function(o){return arguments.length?(r=!!o,a):r},a.clamp=function(o){return arguments.length?(e.clamp(o),a):e.clamp()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return k8(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ji.apply(a,arguments),Ql(a)}function N8(){var e=[],t=[],r=[],n;function a(){var u=0,c=Math.max(1,t.length);for(r=new Array(c-1);++u<c;)r[u-1]=Mue(e,u/c);return o}function o(u){return u==null||isNaN(u=+u)?n:t[im(r,u)]}return o.invertExtent=function(u){var c=t.indexOf(u);return c<0?[NaN,NaN]:[c>0?r[c-1]:e[0],c<r.length?r[c]:e[e.length-1]]},o.domain=function(u){if(!arguments.length)return e.slice();e=[];for(let c of u)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(zl),a()},o.range=function(u){return arguments.length?(t=Array.from(u),a()):t.slice()},o.unknown=function(u){return arguments.length?(n=u,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return N8().domain(e).range(t).unknown(n)},ji.apply(o,arguments)}function E8(){var e=0,t=1,r=1,n=[.5],a=[0,1],o;function u(p){return p!=null&&p<=p?a[im(n,p,0,r)]:o}function c(){var p=-1;for(n=new Array(r);++p<r;)n[p]=((p+1)*t-(p-r)*e)/(r+1);return u}return u.domain=function(p){return arguments.length?([e,t]=p,e=+e,t=+t,c()):[e,t]},u.range=function(p){return arguments.length?(r=(a=Array.from(p)).length-1,c()):a.slice()},u.invertExtent=function(p){var h=a.indexOf(p);return h<0?[NaN,NaN]:h<1?[e,n[0]]:h>=r?[n[r-1],t]:[n[h-1],n[h]]},u.unknown=function(p){return arguments.length&&(o=p),u},u.thresholds=function(){return n.slice()},u.copy=function(){return E8().domain([e,t]).range(a).unknown(o)},ji.apply(Ql(u),arguments)}function T8(){var e=[.5],t=[0,1],r,n=1;function a(o){return o!=null&&o<=o?t[im(e,o,0,n)]:r}return a.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(o){var u=t.indexOf(o);return[e[u-1],e[u]]},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return T8().domain(e).range(t).unknown(r)},ji.apply(a,arguments)}const lw=new Date,cw=new Date;function on(e,t,r,n){function a(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=o=>(e(o=new Date(+o)),o),a.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),a.round=o=>{const u=a(o),c=a.ceil(o);return o-u<c-o?u:c},a.offset=(o,u)=>(t(o=new Date(+o),u==null?1:Math.floor(u)),o),a.range=(o,u,c)=>{const p=[];if(o=a.ceil(o),c=c==null?1:Math.floor(c),!(o<u)||!(c>0))return p;let h;do p.push(h=new Date(+o)),t(o,c),e(o);while(h<o&&o<u);return p},a.filter=o=>on(u=>{if(u>=u)for(;e(u),!o(u);)u.setTime(u-1)},(u,c)=>{if(u>=u)if(c<0)for(;++c<=0;)for(;t(u,-1),!o(u););else for(;--c>=0;)for(;t(u,1),!o(u););}),r&&(a.count=(o,u)=>(lw.setTime(+o),cw.setTime(+u),e(lw),e(cw),Math.floor(r(lw,cw))),a.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(n?u=>n(u)%o===0:u=>a.count(0,u)%o===0):a)),a}const Iy=on(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Iy.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?on(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Iy);Iy.range;const So=1e3,mi=So*60,jo=mi*60,Ao=jo*24,KC=Ao*7,c3=Ao*30,uw=Ao*365,Dc=on(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*So)},(e,t)=>(t-e)/So,e=>e.getUTCSeconds());Dc.range;const GC=on(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*So)},(e,t)=>{e.setTime(+e+t*mi)},(e,t)=>(t-e)/mi,e=>e.getMinutes());GC.range;const VC=on(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*mi)},(e,t)=>(t-e)/mi,e=>e.getUTCMinutes());VC.range;const YC=on(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*So-e.getMinutes()*mi)},(e,t)=>{e.setTime(+e+t*jo)},(e,t)=>(t-e)/jo,e=>e.getHours());YC.range;const QC=on(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*jo)},(e,t)=>(t-e)/jo,e=>e.getUTCHours());QC.range;const lm=on(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*mi)/Ao,e=>e.getDate()-1);lm.range;const Ub=on(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ao,e=>e.getUTCDate()-1);Ub.range;const P8=on(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ao,e=>Math.floor(e/Ao));P8.range;function hu(e){return on(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*mi)/KC)}const Hb=hu(0),$y=hu(1),Rde=hu(2),Ode=hu(3),Hd=hu(4),Dde=hu(5),Mde=hu(6);Hb.range;$y.range;Rde.range;Ode.range;Hd.range;Dde.range;Mde.range;function mu(e){return on(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/KC)}const Wb=mu(0),By=mu(1),Lde=mu(2),Ide=mu(3),Wd=mu(4),$de=mu(5),Bde=mu(6);Wb.range;By.range;Lde.range;Ide.range;Wd.range;$de.range;Bde.range;const XC=on(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());XC.range;const ZC=on(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());ZC.range;const Ro=on(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ro.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:on(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ro.range;const Oo=on(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Oo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:on(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Oo.range;function A8(e,t,r,n,a,o){const u=[[Dc,1,So],[Dc,5,5*So],[Dc,15,15*So],[Dc,30,30*So],[o,1,mi],[o,5,5*mi],[o,15,15*mi],[o,30,30*mi],[a,1,jo],[a,3,3*jo],[a,6,6*jo],[a,12,12*jo],[n,1,Ao],[n,2,2*Ao],[r,1,KC],[t,1,c3],[t,3,3*c3],[e,1,uw]];function c(h,f,m){const b=f<h;b&&([h,f]=[f,h]);const _=m&&typeof m.range=="function"?m:p(h,f,m),j=_?_.range(h,+f+1):[];return b?j.reverse():j}function p(h,f,m){const b=Math.abs(f-h)/m,_=OC(([,,y])=>y).right(u,b);if(_===u.length)return e.every(tj(h/uw,f/uw,m));if(_===0)return Iy.every(Math.max(tj(h,f,m),1));const[j,w]=u[b/u[_-1][2]<u[_][2]/b?_-1:_];return j.every(w)}return[c,p]}const[zde,Fde]=A8(Oo,ZC,Wb,P8,QC,VC),[qde,Ude]=A8(Ro,XC,Hb,lm,YC,GC);function dw(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function fw(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function xp(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Hde(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,o=e.days,u=e.shortDays,c=e.months,p=e.shortMonths,h=wp(a),f=Sp(a),m=wp(o),b=Sp(o),_=wp(u),j=Sp(u),w=wp(c),y=Sp(c),x=wp(p),S=Sp(p),T={a:$,A:K,b:Y,B:Z,c:null,d:m3,e:m3,f:pfe,g:Sfe,G:Cfe,H:ufe,I:dfe,j:ffe,L:R8,m:hfe,M:mfe,p:H,q:X,Q:y3,s:b3,S:gfe,u:vfe,U:yfe,V:bfe,w:_fe,W:xfe,x:null,X:null,y:wfe,Y:jfe,Z:kfe,"%":v3},N={a:te,A:le,b:me,B:ke,c:null,d:g3,e:g3,f:Pfe,g:zfe,G:qfe,H:Nfe,I:Efe,j:Tfe,L:D8,m:Afe,M:Rfe,p:xe,q:He,Q:y3,s:b3,S:Ofe,u:Dfe,U:Mfe,V:Lfe,w:Ife,W:$fe,x:null,X:null,y:Bfe,Y:Ffe,Z:Ufe,"%":v3},P={a:I,A:q,b:z,B:M,c:F,d:p3,e:p3,f:sfe,g:f3,G:d3,H:h3,I:h3,j:rfe,L:ife,m:tfe,M:nfe,p:D,q:efe,Q:lfe,s:cfe,S:afe,u:Yde,U:Qde,V:Xde,w:Vde,W:Zde,x:B,X:O,y:f3,Y:d3,Z:Jde,"%":ofe};T.x=A(r,T),T.X=A(n,T),T.c=A(t,T),N.x=A(r,N),N.X=A(n,N),N.c=A(t,N);function A(J,we){return function(Ne){var ge=[],Pe=-1,Ae=0,Ze=J.length,Me,We,be;for(Ne instanceof Date||(Ne=new Date(+Ne));++Pe<Ze;)J.charCodeAt(Pe)===37&&(ge.push(J.slice(Ae,Pe)),(We=u3[Me=J.charAt(++Pe)])!=null?Me=J.charAt(++Pe):We=Me==="e"?" ":"0",(be=we[Me])&&(Me=be(Ne,We)),ge.push(Me),Ae=Pe+1);return ge.push(J.slice(Ae,Pe)),ge.join("")}}function k(J,we){return function(Ne){var ge=xp(1900,void 0,1),Pe=R(ge,J,Ne+="",0),Ae,Ze;if(Pe!=Ne.length)return null;if("Q"in ge)return new Date(ge.Q);if("s"in ge)return new Date(ge.s*1e3+("L"in ge?ge.L:0));if(we&&!("Z"in ge)&&(ge.Z=0),"p"in ge&&(ge.H=ge.H%12+ge.p*12),ge.m===void 0&&(ge.m="q"in ge?ge.q:0),"V"in ge){if(ge.V<1||ge.V>53)return null;"w"in ge||(ge.w=1),"Z"in ge?(Ae=fw(xp(ge.y,0,1)),Ze=Ae.getUTCDay(),Ae=Ze>4||Ze===0?By.ceil(Ae):By(Ae),Ae=Ub.offset(Ae,(ge.V-1)*7),ge.y=Ae.getUTCFullYear(),ge.m=Ae.getUTCMonth(),ge.d=Ae.getUTCDate()+(ge.w+6)%7):(Ae=dw(xp(ge.y,0,1)),Ze=Ae.getDay(),Ae=Ze>4||Ze===0?$y.ceil(Ae):$y(Ae),Ae=lm.offset(Ae,(ge.V-1)*7),ge.y=Ae.getFullYear(),ge.m=Ae.getMonth(),ge.d=Ae.getDate()+(ge.w+6)%7)}else("W"in ge||"U"in ge)&&("w"in ge||(ge.w="u"in ge?ge.u%7:"W"in ge?1:0),Ze="Z"in ge?fw(xp(ge.y,0,1)).getUTCDay():dw(xp(ge.y,0,1)).getDay(),ge.m=0,ge.d="W"in ge?(ge.w+6)%7+ge.W*7-(Ze+5)%7:ge.w+ge.U*7-(Ze+6)%7);return"Z"in ge?(ge.H+=ge.Z/100|0,ge.M+=ge.Z%100,fw(ge)):dw(ge)}}function R(J,we,Ne,ge){for(var Pe=0,Ae=we.length,Ze=Ne.length,Me,We;Pe<Ae;){if(ge>=Ze)return-1;if(Me=we.charCodeAt(Pe++),Me===37){if(Me=we.charAt(Pe++),We=P[Me in u3?we.charAt(Pe++):Me],!We||(ge=We(J,Ne,ge))<0)return-1}else if(Me!=Ne.charCodeAt(ge++))return-1}return ge}function D(J,we,Ne){var ge=h.exec(we.slice(Ne));return ge?(J.p=f.get(ge[0].toLowerCase()),Ne+ge[0].length):-1}function I(J,we,Ne){var ge=_.exec(we.slice(Ne));return ge?(J.w=j.get(ge[0].toLowerCase()),Ne+ge[0].length):-1}function q(J,we,Ne){var ge=m.exec(we.slice(Ne));return ge?(J.w=b.get(ge[0].toLowerCase()),Ne+ge[0].length):-1}function z(J,we,Ne){var ge=x.exec(we.slice(Ne));return ge?(J.m=S.get(ge[0].toLowerCase()),Ne+ge[0].length):-1}function M(J,we,Ne){var ge=w.exec(we.slice(Ne));return ge?(J.m=y.get(ge[0].toLowerCase()),Ne+ge[0].length):-1}function F(J,we,Ne){return R(J,t,we,Ne)}function B(J,we,Ne){return R(J,r,we,Ne)}function O(J,we,Ne){return R(J,n,we,Ne)}function $(J){return u[J.getDay()]}function K(J){return o[J.getDay()]}function Y(J){return p[J.getMonth()]}function Z(J){return c[J.getMonth()]}function H(J){return a[+(J.getHours()>=12)]}function X(J){return 1+~~(J.getMonth()/3)}function te(J){return u[J.getUTCDay()]}function le(J){return o[J.getUTCDay()]}function me(J){return p[J.getUTCMonth()]}function ke(J){return c[J.getUTCMonth()]}function xe(J){return a[+(J.getUTCHours()>=12)]}function He(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var we=A(J+="",T);return we.toString=function(){return J},we},parse:function(J){var we=k(J+="",!1);return we.toString=function(){return J},we},utcFormat:function(J){var we=A(J+="",N);return we.toString=function(){return J},we},utcParse:function(J){var we=k(J+="",!0);return we.toString=function(){return J},we}}}var u3={"-":"",_:" ",0:"0"},wn=/^\s*\d+/,Wde=/^%/,Kde=/[\\^$*+?|[\]().{}]/g;function Kt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",o=a.length;return n+(o<r?new Array(r-o+1).join(t)+a:a)}function Gde(e){return e.replace(Kde,"\\$&")}function wp(e){return new RegExp("^(?:"+e.map(Gde).join("|")+")","i")}function Sp(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Vde(e,t,r){var n=wn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Yde(e,t,r){var n=wn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Qde(e,t,r){var n=wn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Xde(e,t,r){var n=wn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Zde(e,t,r){var n=wn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function d3(e,t,r){var n=wn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function f3(e,t,r){var n=wn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Jde(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function efe(e,t,r){var n=wn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function tfe(e,t,r){var n=wn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function p3(e,t,r){var n=wn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function rfe(e,t,r){var n=wn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function h3(e,t,r){var n=wn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function nfe(e,t,r){var n=wn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function afe(e,t,r){var n=wn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function ife(e,t,r){var n=wn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function sfe(e,t,r){var n=wn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function ofe(e,t,r){var n=Wde.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function lfe(e,t,r){var n=wn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function cfe(e,t,r){var n=wn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function m3(e,t){return Kt(e.getDate(),t,2)}function ufe(e,t){return Kt(e.getHours(),t,2)}function dfe(e,t){return Kt(e.getHours()%12||12,t,2)}function ffe(e,t){return Kt(1+lm.count(Ro(e),e),t,3)}function R8(e,t){return Kt(e.getMilliseconds(),t,3)}function pfe(e,t){return R8(e,t)+"000"}function hfe(e,t){return Kt(e.getMonth()+1,t,2)}function mfe(e,t){return Kt(e.getMinutes(),t,2)}function gfe(e,t){return Kt(e.getSeconds(),t,2)}function vfe(e){var t=e.getDay();return t===0?7:t}function yfe(e,t){return Kt(Hb.count(Ro(e)-1,e),t,2)}function O8(e){var t=e.getDay();return t>=4||t===0?Hd(e):Hd.ceil(e)}function bfe(e,t){return e=O8(e),Kt(Hd.count(Ro(e),e)+(Ro(e).getDay()===4),t,2)}function _fe(e){return e.getDay()}function xfe(e,t){return Kt($y.count(Ro(e)-1,e),t,2)}function wfe(e,t){return Kt(e.getFullYear()%100,t,2)}function Sfe(e,t){return e=O8(e),Kt(e.getFullYear()%100,t,2)}function jfe(e,t){return Kt(e.getFullYear()%1e4,t,4)}function Cfe(e,t){var r=e.getDay();return e=r>=4||r===0?Hd(e):Hd.ceil(e),Kt(e.getFullYear()%1e4,t,4)}function kfe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Kt(t/60|0,"0",2)+Kt(t%60,"0",2)}function g3(e,t){return Kt(e.getUTCDate(),t,2)}function Nfe(e,t){return Kt(e.getUTCHours(),t,2)}function Efe(e,t){return Kt(e.getUTCHours()%12||12,t,2)}function Tfe(e,t){return Kt(1+Ub.count(Oo(e),e),t,3)}function D8(e,t){return Kt(e.getUTCMilliseconds(),t,3)}function Pfe(e,t){return D8(e,t)+"000"}function Afe(e,t){return Kt(e.getUTCMonth()+1,t,2)}function Rfe(e,t){return Kt(e.getUTCMinutes(),t,2)}function Ofe(e,t){return Kt(e.getUTCSeconds(),t,2)}function Dfe(e){var t=e.getUTCDay();return t===0?7:t}function Mfe(e,t){return Kt(Wb.count(Oo(e)-1,e),t,2)}function M8(e){var t=e.getUTCDay();return t>=4||t===0?Wd(e):Wd.ceil(e)}function Lfe(e,t){return e=M8(e),Kt(Wd.count(Oo(e),e)+(Oo(e).getUTCDay()===4),t,2)}function Ife(e){return e.getUTCDay()}function $fe(e,t){return Kt(By.count(Oo(e)-1,e),t,2)}function Bfe(e,t){return Kt(e.getUTCFullYear()%100,t,2)}function zfe(e,t){return e=M8(e),Kt(e.getUTCFullYear()%100,t,2)}function Ffe(e,t){return Kt(e.getUTCFullYear()%1e4,t,4)}function qfe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Wd(e):Wd.ceil(e),Kt(e.getUTCFullYear()%1e4,t,4)}function Ufe(){return"+0000"}function v3(){return"%"}function y3(e){return+e}function b3(e){return Math.floor(+e/1e3)}var od,L8,I8;Hfe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Hfe(e){return od=Hde(e),L8=od.format,od.parse,I8=od.utcFormat,od.utcParse,od}function Wfe(e){return new Date(e)}function Kfe(e){return e instanceof Date?+e:+new Date(+e)}function JC(e,t,r,n,a,o,u,c,p,h){var f=BC(),m=f.invert,b=f.domain,_=h(".%L"),j=h(":%S"),w=h("%I:%M"),y=h("%I %p"),x=h("%a %d"),S=h("%b %d"),T=h("%B"),N=h("%Y");function P(A){return(p(A)<A?_:c(A)<A?j:u(A)<A?w:o(A)<A?y:n(A)<A?a(A)<A?x:S:r(A)<A?T:N)(A)}return f.invert=function(A){return new Date(m(A))},f.domain=function(A){return arguments.length?b(Array.from(A,Kfe)):b().map(Wfe)},f.ticks=function(A){var k=b();return e(k[0],k[k.length-1],A??10)},f.tickFormat=function(A,k){return k==null?P:h(k)},f.nice=function(A){var k=b();return(!A||typeof A.range!="function")&&(A=t(k[0],k[k.length-1],A??10)),A?b(S8(k,A)):f},f.copy=function(){return om(f,JC(e,t,r,n,a,o,u,c,p,h))},f}function Gfe(){return ji.apply(JC(qde,Ude,Ro,XC,Hb,lm,YC,GC,Dc,L8).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Vfe(){return ji.apply(JC(zde,Fde,Oo,ZC,Wb,Ub,QC,VC,Dc,I8).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Kb(){var e=0,t=1,r,n,a,o,u=ta,c=!1,p;function h(m){return m==null||isNaN(m=+m)?p:u(a===0?.5:(m=(o(m)-r)*a,c?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([e,t]=m,r=o(e=+e),n=o(t=+t),a=r===n?0:1/(n-r),h):[e,t]},h.clamp=function(m){return arguments.length?(c=!!m,h):c},h.interpolator=function(m){return arguments.length?(u=m,h):u};function f(m){return function(b){var _,j;return arguments.length?([_,j]=b,u=m(_,j),h):[u(0),u(1)]}}return h.range=f(sf),h.rangeRound=f($C),h.unknown=function(m){return arguments.length?(p=m,h):p},function(m){return o=m,r=m(e),n=m(t),a=r===n?0:1/(n-r),h}}function Xl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function $8(){var e=Ql(Kb()(ta));return e.copy=function(){return Xl(e,$8())},zo.apply(e,arguments)}function B8(){var e=qC(Kb()).domain([1,10]);return e.copy=function(){return Xl(e,B8()).base(e.base())},zo.apply(e,arguments)}function z8(){var e=UC(Kb());return e.copy=function(){return Xl(e,z8()).constant(e.constant())},zo.apply(e,arguments)}function ek(){var e=HC(Kb());return e.copy=function(){return Xl(e,ek()).exponent(e.exponent())},zo.apply(e,arguments)}function Yfe(){return ek.apply(null,arguments).exponent(.5)}function F8(){var e=[],t=ta;function r(n){if(n!=null&&!isNaN(n=+n))return t((im(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(zl),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,o)=>Due(e,o/n))},r.copy=function(){return F8(t).domain(e)},zo.apply(r,arguments)}function Gb(){var e=0,t=.5,r=1,n=1,a,o,u,c,p,h=ta,f,m=!1,b;function _(w){return isNaN(w=+w)?b:(w=.5+((w=+f(w))-o)*(n*w<n*o?c:p),h(m?Math.max(0,Math.min(1,w)):w))}_.domain=function(w){return arguments.length?([e,t,r]=w,a=f(e=+e),o=f(t=+t),u=f(r=+r),c=a===o?0:.5/(o-a),p=o===u?0:.5/(u-o),n=o<a?-1:1,_):[e,t,r]},_.clamp=function(w){return arguments.length?(m=!!w,_):m},_.interpolator=function(w){return arguments.length?(h=w,_):h};function j(w){return function(y){var x,S,T;return arguments.length?([x,S,T]=y,h=ode(w,[x,S,T]),_):[h(0),h(.5),h(1)]}}return _.range=j(sf),_.rangeRound=j($C),_.unknown=function(w){return arguments.length?(b=w,_):b},function(w){return f=w,a=w(e),o=w(t),u=w(r),c=a===o?0:.5/(o-a),p=o===u?0:.5/(u-o),n=o<a?-1:1,_}}function q8(){var e=Ql(Gb()(ta));return e.copy=function(){return Xl(e,q8())},zo.apply(e,arguments)}function U8(){var e=qC(Gb()).domain([.1,1,10]);return e.copy=function(){return Xl(e,U8()).base(e.base())},zo.apply(e,arguments)}function H8(){var e=UC(Gb());return e.copy=function(){return Xl(e,H8()).constant(e.constant())},zo.apply(e,arguments)}function tk(){var e=HC(Gb());return e.copy=function(){return Xl(e,tk()).exponent(e.exponent())},zo.apply(e,arguments)}function Qfe(){return tk.apply(null,arguments).exponent(.5)}const ah=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:MC,scaleDiverging:q8,scaleDivergingLog:U8,scaleDivergingPow:tk,scaleDivergingSqrt:Qfe,scaleDivergingSymlog:H8,scaleIdentity:w8,scaleImplicit:rj,scaleLinear:x8,scaleLog:j8,scaleOrdinal:DC,scalePoint:Iue,scalePow:WC,scaleQuantile:N8,scaleQuantize:E8,scaleRadial:k8,scaleSequential:$8,scaleSequentialLog:B8,scaleSequentialPow:ek,scaleSequentialQuantile:F8,scaleSequentialSqrt:Yfe,scaleSequentialSymlog:z8,scaleSqrt:Pde,scaleSymlog:C8,scaleThreshold:T8,scaleTime:Gfe,scaleUtc:Vfe,tickFormat:_8},Symbol.toStringTag,{value:"Module"}));var Fo=e=>e.chartData,Vb=oe([Fo],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),rk=(e,t,r,n)=>n?Vb(e):Fo(e),W8=(e,t,r)=>r?Vb(e):Fo(e);function Do(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(_t(t)&&_t(r))return!0}return!1}function _3(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function K8(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,o;if(_t(r))a=r;else if(typeof r=="function")return;if(_t(n))o=n;else if(typeof n=="function")return;var u=[a,o];if(Do(u))return u}}function Xfe(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Do(n))return _3(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,o]=e,u,c;if(a==="auto")t!=null&&(u=Math.min(...t));else if($e(a))u=a;else if(typeof a=="function")try{t!=null&&(u=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&PR.test(a)){var p=PR.exec(a);if(p==null||p[1]==null||t==null)u=void 0;else{var h=+p[1];u=t[0]-h}}else u=t==null?void 0:t[0];if(o==="auto")t!=null&&(c=Math.max(...t));else if($e(o))c=o;else if(typeof o=="function")try{t!=null&&(c=o(t==null?void 0:t[1]))}catch{}else if(typeof o=="string"&&AR.test(o)){var f=AR.exec(o);if(f==null||f[1]==null||t==null)c=void 0;else{var m=+f[1];c=t[1]+m}}else c=t==null?void 0:t[1];var b=[u,c];if(Do(b))return t==null?b:_3(b,t,r)}}}var of=1e9,Zfe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ak,jr=!0,bi="[DecimalError] ",Gc=bi+"Invalid argument: ",nk=bi+"Exponent out of range: ",lf=Math.floor,Ec=Math.pow,Jfe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,La,bn=1e7,_r=7,G8=9007199254740991,zy=lf(G8/_r),Fe={};Fe.absoluteValue=Fe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Fe.comparedTo=Fe.cmp=function(e){var t,r,n,a,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===a?0:n>a^o.s<0?1:-1};Fe.decimalPlaces=Fe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*_r;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Fe.dividedBy=Fe.div=function(e){return ko(this,new this.constructor(e))};Fe.dividedToIntegerBy=Fe.idiv=function(e){var t=this,r=t.constructor;return pr(ko(t,new r(e),0,1),r.precision)};Fe.equals=Fe.eq=function(e){return!this.cmp(e)};Fe.exponent=function(){return Zr(this)};Fe.greaterThan=Fe.gt=function(e){return this.cmp(e)>0};Fe.greaterThanOrEqualTo=Fe.gte=function(e){return this.cmp(e)>=0};Fe.isInteger=Fe.isint=function(){return this.e>this.d.length-2};Fe.isNegative=Fe.isneg=function(){return this.s<0};Fe.isPositive=Fe.ispos=function(){return this.s>0};Fe.isZero=function(){return this.s===0};Fe.lessThan=Fe.lt=function(e){return this.cmp(e)<0};Fe.lessThanOrEqualTo=Fe.lte=function(e){return this.cmp(e)<1};Fe.logarithm=Fe.log=function(e){var t,r=this,n=r.constructor,a=n.precision,o=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(La))throw Error(bi+"NaN");if(r.s<1)throw Error(bi+(r.s?"NaN":"-Infinity"));return r.eq(La)?new n(0):(jr=!1,t=ko(Rh(r,o),Rh(e,o),o),jr=!0,pr(t,a))};Fe.minus=Fe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Q8(t,e):V8(t,(e.s=-e.s,e))};Fe.modulo=Fe.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(bi+"NaN");return r.s?(jr=!1,t=ko(r,e,0,1).times(e),jr=!0,r.minus(t)):pr(new n(r),a)};Fe.naturalExponential=Fe.exp=function(){return Y8(this)};Fe.naturalLogarithm=Fe.ln=function(){return Rh(this)};Fe.negated=Fe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Fe.plus=Fe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?V8(t,e):Q8(t,(e.s=-e.s,e))};Fe.precision=Fe.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Gc+e);if(t=Zr(a)+1,n=a.d.length-1,r=n*_r+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Fe.squareRoot=Fe.sqrt=function(){var e,t,r,n,a,o,u,c=this,p=c.constructor;if(c.s<1){if(!c.s)return new p(0);throw Error(bi+"NaN")}for(e=Zr(c),jr=!1,a=Math.sqrt(+c),a==0||a==1/0?(t=_s(c.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=lf((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new p(t)):n=new p(a.toString()),r=p.precision,a=u=r+3;;)if(o=n,n=o.plus(ko(c,o,u+2)).times(.5),_s(o.d).slice(0,u)===(t=_s(n.d)).slice(0,u)){if(t=t.slice(u-3,u+1),a==u&&t=="4999"){if(pr(o,r+1,0),o.times(o).eq(c)){n=o;break}}else if(t!="9999")break;u+=4}return jr=!0,pr(n,r)};Fe.times=Fe.mul=function(e){var t,r,n,a,o,u,c,p,h,f=this,m=f.constructor,b=f.d,_=(e=new m(e)).d;if(!f.s||!e.s)return new m(0);for(e.s*=f.s,r=f.e+e.e,p=b.length,h=_.length,p<h&&(o=b,b=_,_=o,u=p,p=h,h=u),o=[],u=p+h,n=u;n--;)o.push(0);for(n=h;--n>=0;){for(t=0,a=p+n;a>n;)c=o[a]+_[n]*b[a-n-1]+t,o[a--]=c%bn|0,t=c/bn|0;o[a]=(o[a]+t)%bn|0}for(;!o[--u];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,jr?pr(e,m.precision):e};Fe.toDecimalPlaces=Fe.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ks(e,0,of),t===void 0?t=n.rounding:ks(t,0,8),pr(r,e+Zr(r)+1,t))};Fe.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=su(n,!0):(ks(e,0,of),t===void 0?t=a.rounding:ks(t,0,8),n=pr(new a(n),e+1,t),r=su(n,!0,e+1)),r};Fe.toFixed=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?su(a):(ks(e,0,of),t===void 0?t=o.rounding:ks(t,0,8),n=pr(new o(a),e+Zr(a)+1,t),r=su(n.abs(),!1,e+Zr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Fe.toInteger=Fe.toint=function(){var e=this,t=e.constructor;return pr(new t(e),Zr(e)+1,t.rounding)};Fe.toNumber=function(){return+this};Fe.toPower=Fe.pow=function(e){var t,r,n,a,o,u,c=this,p=c.constructor,h=12,f=+(e=new p(e));if(!e.s)return new p(La);if(c=new p(c),!c.s){if(e.s<1)throw Error(bi+"Infinity");return c}if(c.eq(La))return c;if(n=p.precision,e.eq(La))return pr(c,n);if(t=e.e,r=e.d.length-1,u=t>=r,o=c.s,u){if((r=f<0?-f:f)<=G8){for(a=new p(La),t=Math.ceil(n/_r+4),jr=!1;r%2&&(a=a.times(c),w3(a.d,t)),r=lf(r/2),r!==0;)c=c.times(c),w3(c.d,t);return jr=!0,e.s<0?new p(La).div(a):pr(a,n)}}else if(o<0)throw Error(bi+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,c.s=1,jr=!1,a=e.times(Rh(c,n+h)),jr=!0,a=Y8(a),a.s=o,a};Fe.toPrecision=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?(r=Zr(a),n=su(a,r<=o.toExpNeg||r>=o.toExpPos)):(ks(e,1,of),t===void 0?t=o.rounding:ks(t,0,8),a=pr(new o(a),e,t),r=Zr(a),n=su(a,e<=r||r<=o.toExpNeg,e)),n};Fe.toSignificantDigits=Fe.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ks(e,1,of),t===void 0?t=n.rounding:ks(t,0,8)),pr(new n(r),e,t)};Fe.toString=Fe.valueOf=Fe.val=Fe.toJSON=Fe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Zr(e),r=e.constructor;return su(e,t<=r.toExpNeg||t>=r.toExpPos)};function V8(e,t){var r,n,a,o,u,c,p,h,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),jr?pr(t,m):t;if(p=e.d,h=t.d,u=e.e,a=t.e,p=p.slice(),o=u-a,o){for(o<0?(n=p,o=-o,c=h.length):(n=h,a=u,c=p.length),u=Math.ceil(m/_r),c=u>c?u+1:c+1,o>c&&(o=c,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(c=p.length,o=h.length,c-o<0&&(o=c,n=h,h=p,p=n),r=0;o;)r=(p[--o]=p[o]+h[o]+r)/bn|0,p[o]%=bn;for(r&&(p.unshift(r),++a),c=p.length;p[--c]==0;)p.pop();return t.d=p,t.e=a,jr?pr(t,m):t}function ks(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Gc+e)}function _s(e){var t,r,n,a=e.length-1,o="",u=e[0];if(a>0){for(o+=u,t=1;t<a;t++)n=e[t]+"",r=_r-n.length,r&&(o+=Cl(r)),o+=n;u=e[t],n=u+"",r=_r-n.length,r&&(o+=Cl(r))}else if(u===0)return"0";for(;u%10===0;)u/=10;return o+u}var ko=(function(){function e(n,a){var o,u=0,c=n.length;for(n=n.slice();c--;)o=n[c]*a+u,n[c]=o%bn|0,u=o/bn|0;return u&&n.unshift(u),n}function t(n,a,o,u){var c,p;if(o!=u)p=o>u?1:-1;else for(c=p=0;c<o;c++)if(n[c]!=a[c]){p=n[c]>a[c]?1:-1;break}return p}function r(n,a,o){for(var u=0;o--;)n[o]-=u,u=n[o]<a[o]?1:0,n[o]=u*bn+n[o]-a[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,o,u){var c,p,h,f,m,b,_,j,w,y,x,S,T,N,P,A,k,R,D=n.constructor,I=n.s==a.s?1:-1,q=n.d,z=a.d;if(!n.s)return new D(n);if(!a.s)throw Error(bi+"Division by zero");for(p=n.e-a.e,k=z.length,P=q.length,_=new D(I),j=_.d=[],h=0;z[h]==(q[h]||0);)++h;if(z[h]>(q[h]||0)&&--p,o==null?S=o=D.precision:u?S=o+(Zr(n)-Zr(a))+1:S=o,S<0)return new D(0);if(S=S/_r+2|0,h=0,k==1)for(f=0,z=z[0],S++;(h<P||f)&&S--;h++)T=f*bn+(q[h]||0),j[h]=T/z|0,f=T%z|0;else{for(f=bn/(z[0]+1)|0,f>1&&(z=e(z,f),q=e(q,f),k=z.length,P=q.length),N=k,w=q.slice(0,k),y=w.length;y<k;)w[y++]=0;R=z.slice(),R.unshift(0),A=z[0],z[1]>=bn/2&&++A;do f=0,c=t(z,w,k,y),c<0?(x=w[0],k!=y&&(x=x*bn+(w[1]||0)),f=x/A|0,f>1?(f>=bn&&(f=bn-1),m=e(z,f),b=m.length,y=w.length,c=t(m,w,b,y),c==1&&(f--,r(m,k<b?R:z,b))):(f==0&&(c=f=1),m=z.slice()),b=m.length,b<y&&m.unshift(0),r(w,m,y),c==-1&&(y=w.length,c=t(z,w,k,y),c<1&&(f++,r(w,k<y?R:z,y))),y=w.length):c===0&&(f++,w=[0]),j[h++]=f,c&&w[0]?w[y++]=q[N]||0:(w=[q[N]],y=1);while((N++<P||w[0]!==void 0)&&S--)}return j[0]||j.shift(),_.e=p,pr(_,u?o+Zr(_)+1:o)}})();function Y8(e,t){var r,n,a,o,u,c,p=0,h=0,f=e.constructor,m=f.precision;if(Zr(e)>16)throw Error(nk+Zr(e));if(!e.s)return new f(La);for(jr=!1,c=m,u=new f(.03125);e.abs().gte(.1);)e=e.times(u),h+=5;for(n=Math.log(Ec(2,h))/Math.LN10*2+5|0,c+=n,r=a=o=new f(La),f.precision=c;;){if(a=pr(a.times(e),c),r=r.times(++p),u=o.plus(ko(a,r,c)),_s(u.d).slice(0,c)===_s(o.d).slice(0,c)){for(;h--;)o=pr(o.times(o),c);return f.precision=m,t==null?(jr=!0,pr(o,m)):o}o=u}}function Zr(e){for(var t=e.e*_r,r=e.d[0];r>=10;r/=10)t++;return t}function pw(e,t,r){if(t>e.LN10.sd())throw jr=!0,r&&(e.precision=r),Error(bi+"LN10 precision limit exceeded");return pr(new e(e.LN10),t)}function Cl(e){for(var t="";e--;)t+="0";return t}function Rh(e,t){var r,n,a,o,u,c,p,h,f,m=1,b=10,_=e,j=_.d,w=_.constructor,y=w.precision;if(_.s<1)throw Error(bi+(_.s?"NaN":"-Infinity"));if(_.eq(La))return new w(0);if(t==null?(jr=!1,h=y):h=t,_.eq(10))return t==null&&(jr=!0),pw(w,h);if(h+=b,w.precision=h,r=_s(j),n=r.charAt(0),o=Zr(_),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)_=_.times(e),r=_s(_.d),n=r.charAt(0),m++;o=Zr(_),n>1?(_=new w("0."+r),o++):_=new w(n+"."+r.slice(1))}else return p=pw(w,h+2,y).times(o+""),_=Rh(new w(n+"."+r.slice(1)),h-b).plus(p),w.precision=y,t==null?(jr=!0,pr(_,y)):_;for(c=u=_=ko(_.minus(La),_.plus(La),h),f=pr(_.times(_),h),a=3;;){if(u=pr(u.times(f),h),p=c.plus(ko(u,new w(a),h)),_s(p.d).slice(0,h)===_s(c.d).slice(0,h))return c=c.times(2),o!==0&&(c=c.plus(pw(w,h+2,y).times(o+""))),c=ko(c,new w(m),h),w.precision=y,t==null?(jr=!0,pr(c,y)):c;c=p,a+=2}}function x3(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=lf(r/_r),e.d=[],n=(r+1)%_r,r<0&&(n+=_r),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=_r;n<a;)e.d.push(+t.slice(n,n+=_r));t=t.slice(n),n=_r-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),jr&&(e.e>zy||e.e<-zy))throw Error(nk+r)}else e.s=0,e.e=0,e.d=[0];return e}function pr(e,t,r){var n,a,o,u,c,p,h,f,m=e.d;for(u=1,o=m[0];o>=10;o/=10)u++;if(n=t-u,n<0)n+=_r,a=t,h=m[f=0];else{if(f=Math.ceil((n+1)/_r),o=m.length,f>=o)return e;for(h=o=m[f],u=1;o>=10;o/=10)u++;n%=_r,a=n-_r+u}if(r!==void 0&&(o=Ec(10,u-a-1),c=h/o%10|0,p=t<0||m[f+1]!==void 0||h%o,p=r<4?(c||p)&&(r==0||r==(e.s<0?3:2)):c>5||c==5&&(r==4||p||r==6&&(n>0?a>0?h/Ec(10,u-a):0:m[f-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return p?(o=Zr(e),m.length=1,t=t-o-1,m[0]=Ec(10,(_r-t%_r)%_r),e.e=lf(-t/_r)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(n==0?(m.length=f,o=1,f--):(m.length=f+1,o=Ec(10,_r-n),m[f]=a>0?(h/Ec(10,u-a)%Ec(10,a)|0)*o:0),p)for(;;)if(f==0){(m[0]+=o)==bn&&(m[0]=1,++e.e);break}else{if(m[f]+=o,m[f]!=bn)break;m[f--]=0,o=1}for(n=m.length;m[--n]===0;)m.pop();if(jr&&(e.e>zy||e.e<-zy))throw Error(nk+Zr(e));return e}function Q8(e,t){var r,n,a,o,u,c,p,h,f,m,b=e.constructor,_=b.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new b(e),jr?pr(t,_):t;if(p=e.d,m=t.d,n=t.e,h=e.e,p=p.slice(),u=h-n,u){for(f=u<0,f?(r=p,u=-u,c=m.length):(r=m,n=h,c=p.length),a=Math.max(Math.ceil(_/_r),c)+2,u>a&&(u=a,r.length=1),r.reverse(),a=u;a--;)r.push(0);r.reverse()}else{for(a=p.length,c=m.length,f=a<c,f&&(c=a),a=0;a<c;a++)if(p[a]!=m[a]){f=p[a]<m[a];break}u=0}for(f&&(r=p,p=m,m=r,t.s=-t.s),c=p.length,a=m.length-c;a>0;--a)p[c++]=0;for(a=m.length;a>u;){if(p[--a]<m[a]){for(o=a;o&&p[--o]===0;)p[o]=bn-1;--p[o],p[a]+=bn}p[a]-=m[a]}for(;p[--c]===0;)p.pop();for(;p[0]===0;p.shift())--n;return p[0]?(t.d=p,t.e=n,jr?pr(t,_):t):new b(0)}function su(e,t,r){var n,a=Zr(e),o=_s(e.d),u=o.length;return t?(r&&(n=r-u)>0?o=o.charAt(0)+"."+o.slice(1)+Cl(n):u>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(a<0?"e":"e+")+a):a<0?(o="0."+Cl(-a-1)+o,r&&(n=r-u)>0&&(o+=Cl(n))):a>=u?(o+=Cl(a+1-u),r&&(n=r-a-1)>0&&(o=o+"."+Cl(n))):((n=a+1)<u&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-u)>0&&(a+1===u&&(o+="."),o+=Cl(n))),e.s<0?"-"+o:o}function w3(e,t){if(e.length>t)return e.length=t,!0}function X8(e){var t,r,n;function a(o){var u=this;if(!(u instanceof a))return new a(o);if(u.constructor=a,o instanceof a){u.s=o.s,u.e=o.e,u.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Gc+o);if(o>0)u.s=1;else if(o<0)o=-o,u.s=-1;else{u.s=0,u.e=0,u.d=[0];return}if(o===~~o&&o<1e7){u.e=0,u.d=[o];return}return x3(u,o.toString())}else if(typeof o!="string")throw Error(Gc+o);if(o.charCodeAt(0)===45?(o=o.slice(1),u.s=-1):u.s=1,Jfe.test(o))x3(u,o);else throw Error(Gc+o)}if(a.prototype=Fe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=X8,a.config=a.set=epe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function epe(e){if(!e||typeof e!="object")throw Error(bi+"Object expected");var t,r,n,a=["precision",1,of,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(lf(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Gc+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Gc+r+": "+n);return this}var ak=X8(Zfe);La=new ak(1);const er=ak;function Z8(e){var t;return e===0?t=1:t=Math.floor(new er(e).abs().log(10).toNumber())+1,t}function J8(e,t,r){for(var n=new er(e),a=0,o=[];n.lt(t)&&a<1e5;)o.push(n.toNumber()),n=n.add(r),a++;return o}var eI=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},tI=(e,t,r)=>{if(e.lte(0))return new er(0);var n=Z8(e.toNumber()),a=new er(10).pow(n),o=e.div(a),u=n!==1?.05:.1,c=new er(Math.ceil(o.div(u).toNumber())).add(r).mul(u),p=c.mul(a);return t?new er(p.toNumber()):new er(Math.ceil(p.toNumber()))},tpe=(e,t,r)=>{var n=new er(1),a=new er(e);if(!a.isint()&&r){var o=Math.abs(e);o<1?(n=new er(10).pow(Z8(e)-1),a=new er(Math.floor(a.div(n).toNumber())).mul(n)):o>1&&(a=new er(Math.floor(e)))}else e===0?a=new er(Math.floor((t-1)/2)):r||(a=new er(Math.floor(e)));for(var u=Math.floor((t-1)/2),c=[],p=0;p<t;p++)c.push(a.add(new er(p-u).mul(n)).toNumber());return c},rI=function(t,r,n,a){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new er(0),tickMin:new er(0),tickMax:new er(0)};var u=tI(new er(r).sub(t).div(n-1),a,o),c;t<=0&&r>=0?c=new er(0):(c=new er(t).add(r).div(2),c=c.sub(new er(c).mod(u)));var p=Math.ceil(c.sub(t).div(u).toNumber()),h=Math.ceil(new er(r).sub(c).div(u).toNumber()),f=p+h+1;return f>n?rI(t,r,n,a,o+1):(f<n&&(h=r>0?h+(n-f):h,p=r>0?p:p+(n-f)),{step:u,tickMin:c.sub(new er(p).mul(u)),tickMax:c.add(new er(h).mul(u))})},rpe=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,u=Math.max(a,2),[c,p]=eI([r,n]);if(c===-1/0||p===1/0){var h=p===1/0?[c,...Array(a-1).fill(1/0)]:[...Array(a-1).fill(-1/0),p];return r>n?h.reverse():h}if(c===p)return tpe(c,a,o);var{step:f,tickMin:m,tickMax:b}=rI(c,p,u,o,0),_=J8(m,b.add(new er(.1).mul(f)),f);return r>n?_.reverse():_},npe=function(t,r){var[n,a]=t,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[u,c]=eI([n,a]);if(u===-1/0||c===1/0)return[n,a];if(u===c)return[u];var p=Math.max(r,2),h=tI(new er(c).sub(u).div(p-1),o,0),f=[...J8(new er(u),new er(c),h),c];return o===!1&&(f=f.map(m=>Math.round(m))),n>a?f.reverse():f},nI=e=>e.rootProps.maxBarSize,ape=e=>e.rootProps.barGap,aI=e=>e.rootProps.barCategoryGap,ipe=e=>e.rootProps.barSize,cm=e=>e.rootProps.stackOffset,iI=e=>e.rootProps.reverseStackOrder,ik=e=>e.options.chartName,sk=e=>e.rootProps.syncId,sI=e=>e.rootProps.syncMethod,ok=e=>e.options.eventEmitter,spe=e=>e.rootProps.baseValue,Ur={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},yc={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},is={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},Yb=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function Qb(e,t,r){if(r!=="auto")return r;if(e!=null)return Yi(e,t)?"category":"number"}function S3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S3(Object(r),!0).forEach(function(n){ope(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ope(e,t,r){return(t=lpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lpe(e){var t=cpe(e,"string");return typeof t=="symbol"?t:t+""}function cpe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var j3={allowDataOverflow:yc.allowDataOverflow,allowDecimals:yc.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:yc.angleAxisId,includeHidden:!1,name:void 0,reversed:yc.reversed,scale:yc.scale,tick:yc.tick,tickCount:void 0,ticks:void 0,type:yc.type,unit:void 0},C3={allowDataOverflow:is.allowDataOverflow,allowDecimals:is.allowDecimals,allowDuplicatedCategory:is.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:is.radiusAxisId,includeHidden:is.includeHidden,name:void 0,reversed:is.reversed,scale:is.scale,tick:is.tick,tickCount:is.tickCount,ticks:void 0,type:is.type,unit:void 0},upe=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},lk=oe([upe,H5],(e,t)=>{var r;if(e!=null)return e;var n=(r=Qb(t,"angleAxis",j3.type))!==null&&r!==void 0?r:"category";return Fy(Fy({},j3),{},{type:n})}),dpe=(e,t)=>e.polarAxis.radiusAxis[t],ck=oe([dpe,H5],(e,t)=>{var r;if(e!=null)return e;var n=(r=Qb(t,"radiusAxis",C3.type))!==null&&r!==void 0?r:"category";return Fy(Fy({},C3),{},{type:n})}),Xb=e=>e.polarOptions,uk=oe([$o,Bo,sn],o8),oI=oe([Xb,uk],(e,t)=>{if(e!=null)return qn(e.innerRadius,t,0)}),lI=oe([Xb,uk],(e,t)=>{if(e!=null)return qn(e.outerRadius,t,t*.8)}),fpe=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},cI=oe([Xb],fpe);oe([lk,cI],Yb);var uI=oe([uk,oI,lI],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});oe([ck,uI],Yb);var dI=oe([Mt,Xb,oI,lI,$o,Bo],(e,t,r,n,a,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:u,cy:c,startAngle:p,endAngle:h}=t;return{cx:qn(u,a,a/2),cy:qn(c,o,o/2),innerRadius:r,outerRadius:n,startAngle:p,endAngle:h,clockWise:!1}}}),Er=(e,t)=>t,um=(e,t,r)=>r;function Zb(e){return e==null?void 0:e.id}function fI(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:o}=r,u=new Map;return e.forEach(c=>{var p,h=(p=c.data)!==null&&p!==void 0?p:n;if(!(h==null||h.length===0)){var f=Zb(c);h.forEach((m,b)=>{var _=o==null||a?b:String(Qt(m,o,null)),j=Qt(m,c.dataKey,0),w;u.has(_)?w=u.get(_):w={},Object.assign(w,{[f]:j}),u.set(_,w)})}}),Array.from(u.values())}function Jb(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var e_=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function t_(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function ppe(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var Sn=e=>{var t=Mt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},cf=e=>e.tooltip.settings.axisId;function hpe(e){if(e in ah)return ah[e]();var t="scale".concat(Xh(e));if(t in ah)return ah[t]()}function k3(e){var t=e.ticks,r=e.bandwidth,n=e.range(),a=[Math.min(...n),Math.max(...n)];return{domain:()=>e.domain(),range:(function(o){function u(){return o.apply(this,arguments)}return u.toString=function(){return o.toString()},u})(()=>a),rangeMin:()=>a[0],rangeMax:()=>a[1],isInRange(o){var u=a[0],c=a[1];return u<=c?o>=u&&o<=c:o>=c&&o<=u},bandwidth:r?()=>r.call(e):void 0,ticks:t?o=>t.call(e,o):void 0,map:(o,u)=>{var c=e(o);if(c!=null){if(e.bandwidth&&u!==null&&u!==void 0&&u.position){var p=e.bandwidth();switch(u.position){case"middle":c+=p/2;break;case"end":c+=p;break}}return c}}}}function N3(e,t,r){if(typeof e=="function")return k3(e.copy().domain(t).range(r));if(e!=null){var n=hpe(e);if(n!=null)return n.domain(t).range(r),k3(n)}}var pI=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!Do(t)){for(var r,n,a=0;a<t.length;a++){var o=t[a];_t(o)&&((r===void 0||o<r)&&(r=o),(n===void 0||o>n)&&(n=o))}return r!==void 0&&n!==void 0?[r,n]:void 0}return t}default:return t}};function E3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E3(Object(r),!0).forEach(function(n){mpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mpe(e,t,r){return(t=gpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gpe(e){var t=vpe(e,"string");return typeof t=="symbol"?t:t+""}function vpe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sj=[0,"auto"],gn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},hI=(e,t)=>e.cartesianAxis.xAxis[t],qo=(e,t)=>{var r=hI(e,t);return r??gn},vn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:sj,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:tm},mI=(e,t)=>e.cartesianAxis.yAxis[t],Uo=(e,t)=>{var r=mI(e,t);return r??vn},ype={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},dk=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??ype},Br=(e,t,r)=>{switch(t){case"xAxis":return qo(e,r);case"yAxis":return Uo(e,r);case"zAxis":return dk(e,r);case"angleAxis":return lk(e,r);case"radiusAxis":return ck(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},bpe=(e,t,r)=>{switch(t){case"xAxis":return qo(e,r);case"yAxis":return Uo(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},uf=(e,t,r)=>{switch(t){case"xAxis":return qo(e,r);case"yAxis":return Uo(e,r);case"angleAxis":return lk(e,r);case"radiusAxis":return ck(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},gI=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function fk(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var dm=e=>e.graphicalItems.cartesianItems,_pe=oe([Er,um],fk),pk=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),fm=oe([dm,Br,_pe],pk,{memoizeOptions:{resultEqualityCheck:t_}}),vI=oe([fm],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Jb)),yI=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),xpe=oe([fm],yI),hk=e=>e.map(t=>t.data).filter(Boolean).flat(1),wpe=oe([fm],hk,{memoizeOptions:{resultEqualityCheck:t_}}),mk=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},gk=oe([wpe,rk],mk),vk=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Qt(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:Qt(a,n)}))):e.map(n=>({value:n})),r_=oe([gk,Br,fm],vk);function bI(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Mv(e){if(js(e)||e instanceof Date){var t=Number(e);if(_t(t))return t}}function T3(e){if(Array.isArray(e)){var t=[Mv(e[0]),Mv(e[1])];return Do(t)?t:void 0}var r=Mv(e);if(r!=null)return[r,r]}function Mo(e){return e.map(Mv).filter(ya)}function Spe(e,t,r){return!r||typeof t!="number"||Wi(t)?[]:r.length?Mo(r.flatMap(n=>{var a=Qt(e,n.dataKey),o,u;if(Array.isArray(a)?[o,u]=a:o=u=a,!(!_t(o)||!_t(u)))return[t-o,t+u]})):[]}var ln=e=>{var t=Sn(e),r=cf(e);return uf(e,t,r)},pm=oe([ln],e=>e==null?void 0:e.dataKey),jpe=oe([vI,rk,ln],fI),_I=(e,t,r,n)=>{var a={},o=t.reduce((u,c)=>{if(c.stackId==null)return u;var p=u[c.stackId];return p==null&&(p=[]),p.push(c),u[c.stackId]=p,u},a);return Object.fromEntries(Object.entries(o).map(u=>{var[c,p]=u,h=n?[...p].reverse():p,f=h.map(Zb);return[c,{stackedData:Woe(e,f,r),graphicalItems:h}]}))},Uy=oe([jpe,vI,cm,iI],_I),xI=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:o}=t;if(n==null&&r!=="zAxis"){var u=Yoe(e,a,o);if(!(u!=null&&u[0]===0&&u[1]===0))return u}},Cpe=oe([Br],e=>e.allowDataOverflow),yk=e=>{var t;if(e==null||!("domain"in e))return sj;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Mo(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:sj},bk=oe([Br],yk),_k=oe([bk,Cpe],K8),kpe=oe([Uy,Fo,Er,_k],xI,{memoizeOptions:{resultEqualityCheck:e_}}),n_=e=>e.errorBars,Npe=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>bI(r,n)),Hy=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var o=a.flat(),u=Math.min(...o),c=Math.max(...o);return[u,c]}},xk=(e,t,r,n,a)=>{var o,u;if(r.length>0&&e.forEach(c=>{r.forEach(p=>{var h,f,m=(h=n[p.id])===null||h===void 0?void 0:h.filter(x=>bI(a,x)),b=Qt(c,(f=t.dataKey)!==null&&f!==void 0?f:p.dataKey),_=Spe(c,b,m);if(_.length>=2){var j=Math.min(..._),w=Math.max(..._);(o==null||j<o)&&(o=j),(u==null||w>u)&&(u=w)}var y=T3(b);y!=null&&(o=o==null?y[0]:Math.min(o,y[0]),u=u==null?y[1]:Math.max(u,y[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(c=>{var p=T3(Qt(c,t.dataKey));p!=null&&(o=o==null?p[0]:Math.min(o,p[0]),u=u==null?p[1]:Math.max(u,p[1]))}),_t(o)&&_t(u))return[o,u]},Epe=oe([gk,Br,xpe,n_,Er],xk,{memoizeOptions:{resultEqualityCheck:e_}});function Tpe(e){var{value:t}=e;if(js(t)||t instanceof Date)return t}var Ppe=(e,t,r)=>{var n=e.map(Tpe).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&z6(n))?d8(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},wI=e=>e.referenceElements.dots,df=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),Ape=oe([wI,Er,um],df),SI=e=>e.referenceElements.areas,Rpe=oe([SI,Er,um],df),jI=e=>e.referenceElements.lines,Ope=oe([jI,Er,um],df),CI=(e,t)=>{if(e!=null){var r=Mo(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},Dpe=oe(Ape,Er,CI),kI=(e,t)=>{if(e!=null){var r=Mo(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},Mpe=oe([Rpe,Er],kI);function Lpe(e){var t;if(e.x!=null)return Mo([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Mo(r)}function Ipe(e){var t;if(e.y!=null)return Mo([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Mo(r)}var NI=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?Lpe(n):Ipe(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},$pe=oe([Ope,Er],NI),Bpe=oe(Dpe,$pe,Mpe,(e,t,r)=>Hy(e,r,t)),wk=(e,t,r,n,a,o,u,c)=>{if(r!=null)return r;var p=u==="vertical"&&c==="xAxis"||u==="horizontal"&&c==="yAxis",h=p?Hy(n,o,a):Hy(o,a);return Xfe(t,h,e.allowDataOverflow)},zpe=oe([Br,bk,_k,kpe,Epe,Bpe,Mt,Er],wk,{memoizeOptions:{resultEqualityCheck:e_}}),Fpe=[0,1],Sk=(e,t,r,n,a,o,u)=>{if(!((e==null||r==null||r.length===0)&&u===void 0)){var{dataKey:c,type:p}=e,h=Yi(t,o);if(h&&c==null){var f;return d8(0,(f=r==null?void 0:r.length)!==null&&f!==void 0?f:0)}return p==="category"?Ppe(n,e,h):a==="expand"?Fpe:u}},jk=oe([Br,Mt,gk,r_,cm,Er,zpe],Sk);function qpe(e){return e in ah}var EI=(e,t,r)=>{if(e!=null){var{scale:n,type:a}=e;if(n==="auto")return a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!t)?"point":a==="category"?"band":"linear";if(typeof n=="string"){var o="scale".concat(Xh(n));return qpe(o)?o:"point"}}},Zl=oe([Br,gI,ik],EI);function Ck(e,t,r,n){if(!(r==null||n==null))return typeof e.scale=="function"?N3(e.scale,r,n):N3(t,r,n)}var kk=(e,t,r)=>{var n=yk(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Do(e))return rpe(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Do(e))return npe(e,t.tickCount,t.allowDecimals)}},Nk=oe([jk,uf,Zl],kk),Ek=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Do(t)&&Array.isArray(r)&&r.length>0){var a,o,u=t[0],c=(a=r[0])!==null&&a!==void 0?a:0,p=t[1],h=(o=r[r.length-1])!==null&&o!==void 0?o:0;return[Math.min(u,c),Math.max(p,h)]}return t},Upe=oe([Br,jk,Nk,Er],Ek),Hpe=oe(r_,Br,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Mo(e.map(m=>m.value))).sort((m,b)=>m-b),a=n[0],o=n[n.length-1];if(a==null||o==null)return 1/0;var u=o-a;if(u===0)return 1/0;for(var c=0;c<n.length-1;c++){var p=n[c],h=n[c+1];if(!(p==null||h==null)){var f=h-p;r=Math.min(r,f)}}return r/u}}),TI=oe(Hpe,Mt,aI,sn,(e,t,r,n,a)=>a,(e,t,r,n,a)=>{if(!_t(e))return 0;var o=t==="vertical"?n.height:n.width;if(a==="gap")return e*o/2;if(a==="no-gap"){var u=qn(r,e*o),c=e*o/2;return c-u-(c-u)/o*u}return 0}),Wpe=(e,t,r)=>{var n=qo(e,t);return n==null||typeof n.padding!="string"?0:TI(e,"xAxis",t,r,n.padding)},Kpe=(e,t,r)=>{var n=Uo(e,t);return n==null||typeof n.padding!="string"?0:TI(e,"yAxis",t,r,n.padding)},Gpe=oe(qo,Wpe,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),Vpe=oe(Uo,Kpe,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),Ype=oe([sn,Gpe,Ib,Lb,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:o}=n;return a?[o.left,r.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),Qpe=oe([sn,Mt,Vpe,Ib,Lb,(e,t,r)=>r],(e,t,r,n,a,o)=>{var{padding:u}=a;return o?[n.height-u.bottom,u.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),hm=(e,t,r,n)=>{var a;switch(t){case"xAxis":return Ype(e,r,n);case"yAxis":return Qpe(e,r,n);case"zAxis":return(a=dk(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return cI(e);case"radiusAxis":return uI(e,r);default:return}},PI=oe([Br,hm],Yb),Xpe=oe([Zl,Upe],pI),a_=oe([Br,Zl,Xpe,PI],Ck);oe([fm,n_,Er],Npe);function AI(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var i_=(e,t)=>t,s_=(e,t,r)=>r,Zpe=oe(Db,i_,s_,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(AI)),Jpe=oe(Mb,i_,s_,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(AI)),RI=(e,t)=>({width:e.width,height:t.height}),ehe=(e,t)=>{var r=typeof t.width=="number"?t.width:tm;return{width:r,height:e.height}},OI=oe(sn,qo,RI),the=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},rhe=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},nhe=oe(Bo,sn,Zpe,i_,s_,(e,t,r,n,a)=>{var o={},u;return r.forEach(c=>{var p=RI(t,c);u==null&&(u=the(t,n,e));var h=n==="top"&&!a||n==="bottom"&&a;o[c.id]=u-Number(h)*p.height,u+=(h?-1:1)*p.height}),o}),ahe=oe($o,sn,Jpe,i_,s_,(e,t,r,n,a)=>{var o={},u;return r.forEach(c=>{var p=ehe(t,c);u==null&&(u=rhe(t,n,e));var h=n==="left"&&!a||n==="right"&&a;o[c.id]=u-Number(h)*p.width,u+=(h?-1:1)*p.width}),o}),ihe=(e,t)=>{var r=qo(e,t);if(r!=null)return nhe(e,r.orientation,r.mirror)},she=oe([sn,qo,ihe,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),ohe=(e,t)=>{var r=Uo(e,t);if(r!=null)return ahe(e,r.orientation,r.mirror)},lhe=oe([sn,Uo,ohe,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),DI=oe(sn,Uo,(e,t)=>{var r=typeof t.width=="number"?t.width:tm;return{width:r,height:e.height}}),P3=(e,t,r)=>{switch(t){case"xAxis":return OI(e,r).width;case"yAxis":return DI(e,r).height;default:return}},MI=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:o,dataKey:u}=r,c=Yi(e,n),p=t.map(h=>h.value);if(u&&c&&o==="category"&&a&&z6(p))return p}},Tk=oe([Mt,r_,Br,Er],MI),LI=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:o}=r,u=Yi(e,n);if(u&&(a==="number"||o!=="auto"))return t.map(c=>c.value)}},Pk=oe([Mt,r_,uf,Er],LI),A3=oe([Mt,bpe,Zl,a_,Tk,Pk,hm,Nk,Er],(e,t,r,n,a,o,u,c,p)=>{if(t!=null){var h=Yi(e,p);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:p,categoricalDomain:o,duplicateDomain:a,isCategorical:h,niceTicks:c,range:u,realScaleType:r,scale:n}}}),che=(e,t,r,n,a,o,u,c,p)=>{if(!(t==null||n==null)){var h=Yi(e,p),{type:f,ticks:m,tickCount:b}=t,_=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,j=f==="category"&&n.bandwidth?n.bandwidth()/_:0;j=p==="angleAxis"&&o!=null&&o.length>=2?_n(o[0]-o[1])*2*j:j;var w=m||a;return w?w.map((y,x)=>{var S=u?u.indexOf(y):y,T=n.map(S);return _t(T)?{index:x,coordinate:T+j,value:y,offset:j}:null}).filter(ya):h&&c?c.map((y,x)=>{var S=n.map(y);return _t(S)?{coordinate:S+j,value:y,index:x,offset:j}:null}).filter(ya):n.ticks?n.ticks(b).map((y,x)=>{var S=n.map(y);return _t(S)?{coordinate:S+j,value:y,index:x,offset:j}:null}).filter(ya):n.domain().map((y,x)=>{var S=n.map(y);return _t(S)?{coordinate:S+j,value:u?u[y]:y,index:x,offset:j}:null}).filter(ya)}},II=oe([Mt,uf,Zl,a_,Nk,hm,Tk,Pk,Er],che),uhe=(e,t,r,n,a,o,u)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var c=Yi(e,u),{tickCount:p}=t,h=0;return h=u==="angleAxis"&&(n==null?void 0:n.length)>=2?_n(n[0]-n[1])*2*h:h,c&&o?o.map((f,m)=>{var b=r.map(f);return _t(b)?{coordinate:b+h,value:f,index:m,offset:h}:null}).filter(ya):r.ticks?r.ticks(p).map((f,m)=>{var b=r.map(f);return _t(b)?{coordinate:b+h,value:f,index:m,offset:h}:null}).filter(ya):r.domain().map((f,m)=>{var b=r.map(f);return _t(b)?{coordinate:b+h,value:a?a[f]:f,index:m,offset:h}:null}).filter(ya)}},Ns=oe([Mt,uf,a_,hm,Tk,Pk,Er],uhe),Es=oe(Br,a_,(e,t)=>{if(!(e==null||t==null))return qy(qy({},e),{},{scale:t})}),dhe=oe([Br,Zl,jk,PI],Ck);oe((e,t,r)=>dk(e,r),dhe,(e,t)=>{if(!(e==null||t==null))return qy(qy({},e),{},{scale:t})});var fhe=oe([Mt,Db,Mb],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),$I=e=>e.options.defaultTooltipEventType,BI=e=>e.options.validateTooltipEventTypes;function zI(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Ak(e,t){var r=$I(e),n=BI(e);return zI(t,r,n)}function phe(e){return Ue(t=>Ak(t,e))}var FI=(e,t)=>{var r,n=Number(t);if(!(Wi(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},hhe=e=>e.tooltip.settings,Nl={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},mhe={itemInteraction:{click:Nl,hover:Nl},axisInteraction:{click:Nl,hover:Nl},keyboardInteraction:Nl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},qI=xa({name:"tooltip",initialState:mhe,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Sr()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Ui(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:Sr()},removeTooltipEntrySettings:{reducer(e,t){var r=Ui(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Sr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:ghe,replaceTooltipEntrySettings:vhe,removeTooltipEntrySettings:yhe,setTooltipSettingsState:bhe,setActiveMouseOverItemIndex:UI,mouseLeaveItem:_he,mouseLeaveChart:HI,setActiveClickItemIndex:xhe,setMouseOverAxisIndex:WI,setMouseClickAxisIndex:whe,setSyncInteraction:oj,setKeyboardInteraction:lj}=qI.actions,She=qI.reducer;function R3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R3(Object(r),!0).forEach(function(n){jhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jhe(e,t,r){return(t=Che(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Che(e){var t=khe(e,"string");return typeof t=="symbol"?t:t+""}function khe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nhe(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Ehe(e){return e.index!=null}var KI=(e,t,r,n)=>{if(t==null)return Nl;var a=Nhe(e,t,r);if(a==null)return Nl;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(Ehe(a)){if(o)return cv(cv({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return cv(cv({},Nl),{},{coordinate:a.coordinate})};function The(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function Phe(e,t){var r=The(e),n=t[0],a=t[1];if(r===void 0)return!1;var o=Math.min(n,a),u=Math.max(n,a);return r>=o&&r<=u}function Ahe(e,t,r){if(r==null||t==null)return!0;var n=Qt(e,t);return n==null||!Do(r)?!0:Phe(n,r)}var Rk=(e,t,r,n)=>{var a=e==null?void 0:e.index;if(a==null)return null;var o=Number(a);if(!_t(o))return a;var u=0,c=1/0;t.length>0&&(c=t.length-1);var p=Math.max(u,Math.min(o,c)),h=t[p];return h==null||Ahe(h,r,n)?String(p):null},GI=(e,t,r,n,a,o,u)=>{if(o!=null){var c=u[0],p=c==null?void 0:c.getPosition(o);if(p!=null)return p;var h=a==null?void 0:a[Number(o)];if(h)switch(r){case"horizontal":return{x:h.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:h.coordinate}}}},VI=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(r==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&n!=null){var o=e.tooltipItemPayloads[0];return o!=null?[o]:[]}return e.tooltipItemPayloads.filter(u=>{var c;return((c=u.settings)===null||c===void 0?void 0:c.graphicalItemId)===a})},YI=e=>e.options.tooltipPayloadSearcher,ff=e=>e.tooltip;function O3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function D3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O3(Object(r),!0).forEach(function(n){Rhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rhe(e,t,r){return(t=Ohe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ohe(e){var t=Dhe(e,"string");return typeof t=="symbol"?t:t+""}function Dhe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mhe(e,t){return e??t}var QI=(e,t,r,n,a,o,u)=>{if(!(t==null||o==null)){var{chartData:c,computedData:p,dataStartIndex:h,dataEndIndex:f}=r,m=[];return e.reduce((b,_)=>{var j,{dataDefinedOnItem:w,settings:y}=_,x=Mhe(w,c),S=Array.isArray(x)?O5(x,h,f):x,T=(j=y==null?void 0:y.dataKey)!==null&&j!==void 0?j:n,N=y==null?void 0:y.nameKey,P;if(n&&Array.isArray(S)&&!Array.isArray(S[0])&&u==="axis"?P=F6(S,n,a):P=o(S,t,p,N),Array.isArray(P))P.forEach(k=>{var R=D3(D3({},y),{},{name:k.name,unit:k.unit,color:void 0,fill:void 0});b.push(RR({tooltipEntrySettings:R,dataKey:k.dataKey,payload:k.payload,value:Qt(k.payload,k.dataKey),name:k.name}))});else{var A;b.push(RR({tooltipEntrySettings:y,dataKey:T,payload:P,value:Qt(P,T),name:(A=Qt(P,N))!==null&&A!==void 0?A:y==null?void 0:y.name}))}return b},m)}},Ok=oe([ln,gI,ik],EI),Lhe=oe([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Ihe=oe([Sn,cf],fk),pf=oe([Lhe,ln,Ihe],pk,{memoizeOptions:{resultEqualityCheck:t_}}),$he=oe([pf],e=>e.filter(Jb)),Bhe=oe([pf],hk,{memoizeOptions:{resultEqualityCheck:t_}}),hf=oe([Bhe,Fo],mk),zhe=oe([$he,Fo,ln],fI),Dk=oe([hf,ln,pf],vk),XI=oe([ln],yk),Fhe=oe([ln],e=>e.allowDataOverflow),ZI=oe([XI,Fhe],K8),qhe=oe([pf],e=>e.filter(Jb)),Uhe=oe([zhe,qhe,cm,iI],_I),Hhe=oe([Uhe,Fo,Sn,ZI],xI),Whe=oe([pf],yI),Khe=oe([hf,ln,Whe,n_,Sn],xk,{memoizeOptions:{resultEqualityCheck:e_}}),Ghe=oe([wI,Sn,cf],df),Vhe=oe([Ghe,Sn],CI),Yhe=oe([SI,Sn,cf],df),Qhe=oe([Yhe,Sn],kI),Xhe=oe([jI,Sn,cf],df),Zhe=oe([Xhe,Sn],NI),Jhe=oe([Vhe,Zhe,Qhe],Hy),eme=oe([ln,XI,ZI,Hhe,Khe,Jhe,Mt,Sn],wk),mm=oe([ln,Mt,hf,Dk,cm,Sn,eme],Sk),tme=oe([mm,ln,Ok],kk),rme=oe([ln,mm,tme,Sn],Ek),JI=e=>{var t=Sn(e),r=cf(e),n=!1;return hm(e,t,r,n)},e$=oe([ln,JI],Yb),t$=oe([ln,Ok,rme,e$],Ck),nme=oe([Mt,Dk,ln,Sn],MI),ame=oe([Mt,Dk,ln,Sn],LI),ime=(e,t,r,n,a,o,u,c)=>{if(t){var{type:p}=t,h=Yi(e,c);if(n){var f=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,m=p==="category"&&n.bandwidth?n.bandwidth()/f:0;return m=c==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?_n(a[0]-a[1])*2*m:m,h&&u?u.map((b,_)=>{var j=n.map(b);return _t(j)?{coordinate:j+m,value:b,index:_,offset:m}:null}).filter(ya):n.domain().map((b,_)=>{var j=n.map(b);return _t(j)?{coordinate:j+m,value:o?o[b]:b,index:_,offset:m}:null}).filter(ya)}}},Ho=oe([Mt,ln,Ok,t$,JI,nme,ame,Sn],ime),Mk=oe([$I,BI,hhe],(e,t,r)=>zI(r.shared,e,t)),r$=e=>e.tooltip.settings.trigger,Lk=e=>e.tooltip.settings.defaultIndex,gm=oe([ff,Mk,r$,Lk],KI),Ul=oe([gm,hf,pm,mm],Rk),n$=oe([Ho,Ul],FI),Ik=oe([gm],e=>{if(e)return e.dataKey}),sme=oe([gm],e=>{if(e)return e.graphicalItemId}),a$=oe([ff,Mk,r$,Lk],VI),ome=oe([$o,Bo,Mt,sn,Ho,Lk,a$],GI),lme=oe([gm,ome],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),cme=oe([gm],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),ume=oe([a$,Ul,Fo,pm,n$,YI,Mk],QI),dme=oe([ume],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function M3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function L3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M3(Object(r),!0).forEach(function(n){fme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fme(e,t,r){return(t=pme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pme(e){var t=hme(e,"string");return typeof t=="symbol"?t:t+""}function hme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mme=()=>Ue(ln),gme=()=>{var e=mme(),t=Ue(Ho),r=Ue(t$);return ql(!e||!r?void 0:L3(L3({},e),{},{scale:r}),t)};function I3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ld(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I3(Object(r),!0).forEach(function(n){vme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vme(e,t,r){return(t=yme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yme(e){var t=bme(e,"string");return typeof t=="symbol"?t:t+""}function bme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _me=(e,t,r,n)=>{var a=t.find(o=>o&&o.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},xme=(e,t,r,n)=>{var a=t.find(h=>h&&h.index===r);if(a){if(e==="centric"){var o=a.coordinate,{radius:u}=n;return ld(ld(ld({},n),Xr(n.cx,n.cy,u,o)),{},{angle:o,radius:u})}var c=a.coordinate,{angle:p}=n;return ld(ld(ld({},n),Xr(n.cx,n.cy,c,p)),{},{angle:p,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function wme(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var i$=(e,t,r,n,a)=>{var o,u=(o=t==null?void 0:t.length)!==null&&o!==void 0?o:0;if(u<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var c=0;c<u;c++){var p,h,f,m,b,_=c>0?(p=r[c-1])===null||p===void 0?void 0:p.coordinate:(h=r[u-1])===null||h===void 0?void 0:h.coordinate,j=(f=r[c])===null||f===void 0?void 0:f.coordinate,w=c>=u-1?(m=r[0])===null||m===void 0?void 0:m.coordinate:(b=r[c+1])===null||b===void 0?void 0:b.coordinate,y=void 0;if(!(_==null||j==null||w==null))if(_n(j-_)!==_n(w-j)){var x=[];if(_n(w-j)===_n(a[1]-a[0])){y=w;var S=j+a[1]-a[0];x[0]=Math.min(S,(S+_)/2),x[1]=Math.max(S,(S+_)/2)}else{y=_;var T=w+a[1]-a[0];x[0]=Math.min(j,(T+j)/2),x[1]=Math.max(j,(T+j)/2)}var N=[Math.min(j,(y+j)/2),Math.max(j,(y+j)/2)];if(e>N[0]&&e<=N[1]||e>=x[0]&&e<=x[1]){var P;return(P=r[c])===null||P===void 0?void 0:P.index}}else{var A=Math.min(_,w),k=Math.max(_,w);if(e>(A+j)/2&&e<=(k+j)/2){var R;return(R=r[c])===null||R===void 0?void 0:R.index}}}else if(t)for(var D=0;D<u;D++){var I=t[D];if(I!=null){var q=t[D+1],z=t[D-1];if(D===0&&q!=null&&e<=(I.coordinate+q.coordinate)/2||D===u-1&&z!=null&&e>(I.coordinate+z.coordinate)/2||D>0&&D<u-1&&z!=null&&q!=null&&e>(I.coordinate+z.coordinate)/2&&e<=(I.coordinate+q.coordinate)/2)return I.index}}return-1},s$=()=>Ue(ik),$k=(e,t)=>t,o$=(e,t,r)=>r,Bk=(e,t,r,n)=>n,Sme=oe(Ho,e=>jb(e,t=>t.coordinate)),zk=oe([ff,$k,o$,Bk],KI),Fk=oe([zk,hf,pm,mm],Rk),jme=(e,t,r)=>{if(t!=null){var n=ff(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},l$=oe([ff,$k,o$,Bk],VI),Wy=oe([$o,Bo,Mt,sn,Ho,Bk,l$],GI),Cme=oe([zk,Wy],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),c$=oe([Ho,Fk],FI),kme=oe([l$,Fk,Fo,pm,c$,YI,$k],QI),Nme=oe([zk,Fk],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Eme=(e,t,r,n,a,o,u)=>{if(!(!e||!r||!n||!a)&&wme(e,u)){var c=Qoe(e,t),p=i$(c,o,a,r,n),h=_me(t,a,p,e);return{activeIndex:String(p),activeCoordinate:h}}},Tme=(e,t,r,n,a,o,u)=>{if(!(!e||!n||!a||!o||!r)){var c=pue(e,r);if(c){var p=Xoe(c,t),h=i$(p,u,o,n,a),f=xme(t,o,h,c);return{activeIndex:String(h),activeCoordinate:f}}}},Pme=(e,t,r,n,a,o,u,c)=>{if(!(!e||!t||!n||!a||!o))return t==="horizontal"||t==="vertical"?Eme(e,t,n,a,o,u,c):Tme(e,t,r,n,a,o,u)},Ame=oe(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),Rme=oe(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Ur)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:ppe}});function $3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function B3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$3(Object(r),!0).forEach(function(n){Ome(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ome(e,t,r){return(t=Dme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dme(e){var t=Mme(e,"string");return typeof t=="symbol"?t:t+""}function Mme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lme={},Ime={zIndexMap:Object.values(Ur).reduce((e,t)=>B3(B3({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),Lme)},$me=new Set(Object.values(Ur));function Bme(e){return $me.has(e)}var u$=xa({name:"zIndex",initialState:Ime,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Sr()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!Bme(r)&&delete e.zIndexMap[r])},prepare:Sr()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:a?void 0:n,panoramaElement:a?n:void 0}},prepare:Sr()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:Sr()}}}),{registerZIndexPortal:zme,unregisterZIndexPortal:Fme,registerZIndexPortalElement:qme,unregisterZIndexPortalElement:Ume}=u$.actions,Hme=u$.reducer;function aa(e){var{zIndex:t,children:r}=e,n=Ele(),a=n&&t!==void 0&&t!==0,o=xn(),u=gr();v.useLayoutEffect(()=>a?(u(zme({zIndex:t})),()=>{u(Fme({zIndex:t}))}):Gl,[u,t,a]);var c=Ue(p=>Ame(p,t,o));return a?c?Wh.createPortal(r,c):null:r}function cj(){return cj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cj.apply(null,arguments)}function z3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z3(Object(r),!0).forEach(function(n){Wme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wme(e,t,r){return(t=Kme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kme(e){var t=Gme(e,"string");return typeof t=="symbol"?t:t+""}function Gme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vme(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return v.isValidElement(t)?v.cloneElement(t,n):v.createElement(r,n)}function Yme(e){var t,{coordinate:r,payload:n,index:a,offset:o,tooltipAxisBandSize:u,layout:c,cursor:p,tooltipEventType:h,chartName:f}=e,m=r,b=n,_=a;if(!p||!m||f!=="ScatterChart"&&h!=="axis")return null;var j,w,y;if(f==="ScatterChart")j=m,w=Nce,y=Ur.cursorLine;else if(f==="BarChart")j=Ece(c,m,o,u),w=s8,y=Ur.cursorRectangle;else if(c==="radial"&&U6(m)){var{cx:x,cy:S,radius:T,startAngle:N,endAngle:P}=l8(m);j={cx:x,cy:S,startAngle:N,endAngle:P,innerRadius:T,outerRadius:T},w=u8,y=Ur.cursorLine}else j={points:vue(c,m,o)},w=Sd,y=Ur.cursorLine;var A=typeof p=="object"&&"className"in p?p.className:void 0,k=uv(uv(uv(uv({stroke:"#ccc",pointerEvents:"none"},o),j),Jc(p)),{},{payload:b,payloadIndex:_,className:$t("recharts-tooltip-cursor",A)});return v.createElement(aa,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:y},v.createElement(Vme,{cursor:p,cursorComp:w,cursorProps:k}))}function Qme(e){var t=gme(),r=U5(),n=Yl(),a=s$();return t==null||r==null||n==null||a==null?null:v.createElement(Yme,cj({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var d$=v.createContext(null),Xme=()=>v.useContext(d$),hw={exports:{}},F3;function Zme(){return F3||(F3=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(p,h,f){this.fn=p,this.context=h,this.once=f||!1}function o(p,h,f,m,b){if(typeof f!="function")throw new TypeError("The listener must be a function");var _=new a(f,m||p,b),j=r?r+h:h;return p._events[j]?p._events[j].fn?p._events[j]=[p._events[j],_]:p._events[j].push(_):(p._events[j]=_,p._eventsCount++),p}function u(p,h){--p._eventsCount===0?p._events=new n:delete p._events[h]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var h=[],f,m;if(this._eventsCount===0)return h;for(m in f=this._events)t.call(f,m)&&h.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(f)):h},c.prototype.listeners=function(h){var f=r?r+h:h,m=this._events[f];if(!m)return[];if(m.fn)return[m.fn];for(var b=0,_=m.length,j=new Array(_);b<_;b++)j[b]=m[b].fn;return j},c.prototype.listenerCount=function(h){var f=r?r+h:h,m=this._events[f];return m?m.fn?1:m.length:0},c.prototype.emit=function(h,f,m,b,_,j){var w=r?r+h:h;if(!this._events[w])return!1;var y=this._events[w],x=arguments.length,S,T;if(y.fn){switch(y.once&&this.removeListener(h,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,f),!0;case 3:return y.fn.call(y.context,f,m),!0;case 4:return y.fn.call(y.context,f,m,b),!0;case 5:return y.fn.call(y.context,f,m,b,_),!0;case 6:return y.fn.call(y.context,f,m,b,_,j),!0}for(T=1,S=new Array(x-1);T<x;T++)S[T-1]=arguments[T];y.fn.apply(y.context,S)}else{var N=y.length,P;for(T=0;T<N;T++)switch(y[T].once&&this.removeListener(h,y[T].fn,void 0,!0),x){case 1:y[T].fn.call(y[T].context);break;case 2:y[T].fn.call(y[T].context,f);break;case 3:y[T].fn.call(y[T].context,f,m);break;case 4:y[T].fn.call(y[T].context,f,m,b);break;default:if(!S)for(P=1,S=new Array(x-1);P<x;P++)S[P-1]=arguments[P];y[T].fn.apply(y[T].context,S)}}return!0},c.prototype.on=function(h,f,m){return o(this,h,f,m,!1)},c.prototype.once=function(h,f,m){return o(this,h,f,m,!0)},c.prototype.removeListener=function(h,f,m,b){var _=r?r+h:h;if(!this._events[_])return this;if(!f)return u(this,_),this;var j=this._events[_];if(j.fn)j.fn===f&&(!b||j.once)&&(!m||j.context===m)&&u(this,_);else{for(var w=0,y=[],x=j.length;w<x;w++)(j[w].fn!==f||b&&!j[w].once||m&&j[w].context!==m)&&y.push(j[w]);y.length?this._events[_]=y.length===1?y[0]:y:u(this,_)}return this},c.prototype.removeAllListeners=function(h){var f;return h?(f=r?r+h:h,this._events[f]&&u(this,f)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,e.exports=c})(hw)),hw.exports}var Jme=Zme();const ege=Ts(Jme);var Oh=new ege,uj="recharts.syncEvent.tooltip",q3="recharts.syncEvent.brush",o_=(e,t)=>{if(t&&Array.isArray(e)){var r=Number.parseInt(t,10);if(!Wi(r))return e[r]}},tge={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},f$=xa({name:"options",initialState:tge,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),rge=f$.reducer,{createEventEmitter:nge}=f$.actions;function age(e){return e.tooltip.syncInteraction}var ige={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},p$=xa({name:"chartData",initialState:ige,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:U3,setDataStartEndIndexes:sge,setComputedData:R6e}=p$.actions,oge=p$.reducer,lge=["x","y"];function H3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H3(Object(r),!0).forEach(function(n){cge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cge(e,t,r){return(t=uge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uge(e){var t=dge(e,"string");return typeof t=="symbol"?t:t+""}function dge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fge(e,t){if(e==null)return{};var r,n,a=pge(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function pge(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function hge(){var e=Ue(sk),t=Ue(ok),r=gr(),n=Ue(sI),a=Ue(Ho),o=Yl(),u=$b(),c=Ue(p=>p.rootProps.className);v.useEffect(()=>{if(e==null)return Gl;var p=(h,f,m)=>{if(t!==m&&e===h){if(n==="index"){var b;if(u&&f!==null&&f!==void 0&&(b=f.payload)!==null&&b!==void 0&&b.coordinate&&f.payload.sourceViewBox){var _=f.payload.coordinate,{x:j,y:w}=_,y=fge(_,lge),{x,y:S,width:T,height:N}=f.payload.sourceViewBox,P=cd(cd({},y),{},{x:u.x+(T?(j-x)/T:0)*u.width,y:u.y+(N?(w-S)/N:0)*u.height});r(cd(cd({},f),{},{payload:cd(cd({},f.payload),{},{coordinate:P})}))}else r(f);return}if(a!=null){var A;if(typeof n=="function"){var k={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},R=n(a,k);A=a[R]}else n==="value"&&(A=a.find(O=>String(O.value)===f.payload.label));var{coordinate:D}=f.payload;if(A==null||f.payload.active===!1||D==null||u==null){r(oj({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:I,y:q}=D,z=Math.min(I,u.x+u.width),M=Math.min(q,u.y+u.height),F={x:o==="horizontal"?A.coordinate:z,y:o==="horizontal"?M:A.coordinate},B=oj({active:f.payload.active,coordinate:F,dataKey:f.payload.dataKey,index:String(A.index),label:f.payload.label,sourceViewBox:f.payload.sourceViewBox,graphicalItemId:f.payload.graphicalItemId});r(B)}}};return Oh.on(uj,p),()=>{Oh.off(uj,p)}},[c,r,t,e,n,a,o,u])}function mge(){var e=Ue(sk),t=Ue(ok),r=gr();v.useEffect(()=>{if(e==null)return Gl;var n=(a,o,u)=>{t!==u&&e===a&&r(sge(o))};return Oh.on(q3,n),()=>{Oh.off(q3,n)}},[r,t,e])}function gge(){var e=gr();v.useEffect(()=>{e(nge())},[e]),hge(),mge()}function vge(e,t,r,n,a,o){var u=Ue(_=>jme(_,e,t)),c=Ue(ok),p=Ue(sk),h=Ue(sI),f=Ue(age),m=f==null?void 0:f.active,b=$b();v.useEffect(()=>{if(!m&&p!=null&&c!=null){var _=oj({active:o,coordinate:r,dataKey:u,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:b,graphicalItemId:void 0});Oh.emit(uj,p,_,c)}},[m,r,u,a,n,c,p,h,o,b])}function W3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function K3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W3(Object(r),!0).forEach(function(n){yge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yge(e,t,r){return(t=bge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bge(e){var t=_ge(e,"string");return typeof t=="symbol"?t:t+""}function _ge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xge(e){return e.dataKey}function wge(e,t){return v.isValidElement(e)?v.cloneElement(e,t):typeof e=="function"?v.createElement(e,t):v.createElement(sce,t)}var G3=[],Sge={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function ss(e){var t,r,n=$r(e,Sge),{active:a,allowEscapeViewBox:o,animationDuration:u,animationEasing:c,content:p,filterNull:h,isAnimationActive:f,offset:m,payloadUniqBy:b,position:_,reverseDirection:j,useTranslate3d:w,wrapperStyle:y,cursor:x,shared:S,trigger:T,defaultIndex:N,portal:P,axisId:A}=n,k=gr(),R=typeof N=="number"?String(N):N;v.useEffect(()=>{k(bhe({shared:S,trigger:T,axisId:A,active:a,defaultIndex:R}))},[k,S,T,A,a,R]);var D=$b(),I=t8(),q=phe(S),{activeIndex:z,isActive:M}=(t=Ue(xe=>Nme(xe,q,T,R)))!==null&&t!==void 0?t:{},F=Ue(xe=>kme(xe,q,T,R)),B=Ue(xe=>c$(xe,q,T,R)),O=Ue(xe=>Cme(xe,q,T,R)),$=F,K=Xme(),Y=(r=a??M)!==null&&r!==void 0?r:!1,[Z,H]=n5([$,Y]),X=q==="axis"?B:void 0;vge(q,T,O,X,z,Y);var te=P??K;if(te==null||D==null||q==null)return null;var le=$??G3;Y||(le=G3),h&&le.length&&(le=Z6(le.filter(xe=>xe.value!=null&&(xe.hide!==!0||n.includeHidden)),b,xge));var me=le.length>0,ke=v.createElement(pce,{allowEscapeViewBox:o,animationDuration:u,animationEasing:c,isAnimationActive:f,active:Y,coordinate:O,hasPayload:me,offset:m,position:_,reverseDirection:j,useTranslate3d:w,viewBox:D,wrapperStyle:y,lastBoundingBox:Z,innerRef:H,hasPortalFromProps:!!P},wge(p,K3(K3({},n),{},{payload:le,label:X,active:Y,activeIndex:z,coordinate:O,accessibilityLayer:I})));return v.createElement(v.Fragment,null,Wh.createPortal(ke,te),Y&&v.createElement(Qme,{cursor:x,tooltipEventType:q,coordinate:O,payload:le,index:z}))}var vm=e=>null;vm.displayName="Cell";function jge(e,t,r){return(t=Cge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cge(e){var t=kge(e,"string");return typeof t=="symbol"?t:t+""}function kge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Nge{constructor(t){jge(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function V3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ege(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V3(Object(r),!0).forEach(function(n){Tge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tge(e,t,r){return(t=Pge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pge(e){var t=Age(e,"string");return typeof t=="symbol"?t:t+""}function Age(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rge={cacheSize:2e3,enableCache:!0},h$=Ege({},Rge),Y3=new Nge(h$.cacheSize),Oge={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Q3="recharts_measurement_span";function Dge(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",o=t.fontStyle||"",u=t.letterSpacing||"",c=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(o,"|").concat(u,"|").concat(c)}var X3=(e,t)=>{try{var r=document.getElementById(Q3);r||(r=document.createElement("span"),r.setAttribute("id",Q3),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Oge,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},uh=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||am.isSsr)return{width:0,height:0};if(!h$.enableCache)return X3(t,r);var n=Dge(t,r),a=Y3.get(n);if(a)return a;var o=X3(t,r);return Y3.set(n,o),o},m$;function Mge(e,t,r){return(t=Lge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lge(e){var t=Ige(e,"string");return typeof t=="symbol"?t:t+""}function Ige(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Z3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,J3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,$ge=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Bge=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,zge={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Fge=["cm","mm","pt","pc","in","Q","px"];function qge(e){return Fge.includes(e)}var bd="NaN";function Uge(e,t){return e*zge[t]}class An{static parse(t){var r,[,n,a]=(r=Bge.exec(t))!==null&&r!==void 0?r:[];return n==null?An.NaN:new An(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Wi(t)&&(this.unit=""),r!==""&&!$ge.test(r)&&(this.num=NaN,this.unit=""),qge(r)&&(this.num=Uge(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new An(NaN,""):new An(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new An(NaN,""):new An(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new An(NaN,""):new An(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new An(NaN,""):new An(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Wi(this.num)}}m$=An;Mge(An,"NaN",new m$(NaN,""));function g$(e){if(e==null||e.includes(bd))return bd;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,o]=(r=Z3.exec(t))!==null&&r!==void 0?r:[],u=An.parse(n??""),c=An.parse(o??""),p=a==="*"?u.multiply(c):u.divide(c);if(p.isNaN())return bd;t=t.replace(Z3,p.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,[,f,m,b]=(h=J3.exec(t))!==null&&h!==void 0?h:[],_=An.parse(f??""),j=An.parse(b??""),w=m==="+"?_.add(j):_.subtract(j);if(w.isNaN())return bd;t=t.replace(J3,w.toString())}return t}var eD=/\(([^()]*)\)/;function Hge(e){for(var t=e,r;(r=eD.exec(t))!=null;){var[,n]=r;t=t.replace(eD,g$(n))}return t}function Wge(e){var t=e.replace(/\s+/g,"");return t=Hge(t),t=g$(t),t}function Kge(e){try{return Wge(e)}catch{return bd}}function mw(e){var t=Kge(e.slice(5,-1));return t===bd?"":t}var Gge=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Vge=["dx","dy","angle","className","breakAll"];function dj(){return dj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dj.apply(null,arguments)}function tD(e,t){if(e==null)return{};var r,n,a=Yge(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Yge(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var v$=/[ \f\n\r\t\v\u2028\u2029]+/,y$=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];Nr(t)||(r?a=t.toString().split(""):a=t.toString().split(v$));var o=a.map(c=>({word:c,width:uh(c,n).width})),u=r?0:uh("",n).width;return{wordsWithComputedWidth:o,spaceWidth:u}}catch{return null}};function Qge(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var b$=(e,t,r,n)=>e.reduce((a,o)=>{var{word:u,width:c}=o,p=a[a.length-1];if(p&&c!=null&&(t==null||n||p.width+c+r<Number(t)))p.words.push(u),p.width+=c+r;else{var h={words:[u],width:c};a.push(h)}return a},[]),_$=e=>e.reduce((t,r)=>t.width>r.width?t:r),Xge="",rD=(e,t,r,n,a,o,u,c)=>{var p=e.slice(0,t),h=y$({breakAll:r,style:n,children:p+Xge});if(!h)return[!1,[]];var f=b$(h.wordsWithComputedWidth,o,u,c),m=f.length>a||_$(f).width>Number(o);return[m,f]},Zge=(e,t,r,n,a)=>{var{maxLines:o,children:u,style:c,breakAll:p}=e,h=$e(o),f=String(u),m=b$(t,n,r,a);if(!h||a)return m;var b=m.length>o||_$(m).width>Number(n);if(!b)return m;for(var _=0,j=f.length-1,w=0,y;_<=j&&w<=f.length-1;){var x=Math.floor((_+j)/2),S=x-1,[T,N]=rD(f,S,p,c,o,n,r,a),[P]=rD(f,x,p,c,o,n,r,a);if(!T&&!P&&(_=x+1),T&&P&&(j=x-1),!T&&P){y=N;break}w++}return y||m},nD=e=>{var t=Nr(e)?[]:e.toString().split(v$);return[{words:t,width:void 0}]},Jge=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:o,maxLines:u}=e;if((t||r)&&!am.isSsr){var c,p,h=y$({breakAll:o,children:n,style:a});if(h){var{wordsWithComputedWidth:f,spaceWidth:m}=h;c=f,p=m}else return nD(n);return Zge({breakAll:o,children:n,maxLines:u,style:a},c,p,t,!!r)}return nD(n)},x$="#808080",eve={angle:0,breakAll:!1,capHeight:"0.71em",fill:x$,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},l_=v.forwardRef((e,t)=>{var r=$r(e,eve),{x:n,y:a,lineHeight:o,capHeight:u,fill:c,scaleToFit:p,textAnchor:h,verticalAnchor:f}=r,m=tD(r,Gge),b=v.useMemo(()=>Jge({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:p,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,p,m.style,m.width]),{dx:_,dy:j,angle:w,className:y,breakAll:x}=m,S=tD(m,Vge);if(!js(n)||!js(a)||b.length===0)return null;var T=Number(n)+($e(_)?_:0),N=Number(a)+($e(j)?j:0);if(!_t(T)||!_t(N))return null;var P;switch(f){case"start":P=mw("calc(".concat(u,")"));break;case"middle":P=mw("calc(".concat((b.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:P=mw("calc(".concat(b.length-1," * -").concat(o,")"));break}var A=[],k=b[0];if(p&&k!=null){var R=k.width,{width:D}=m;A.push("scale(".concat($e(D)&&$e(R)?D/R:1,")"))}return w&&A.push("rotate(".concat(w,", ").concat(T,", ").concat(N,")")),A.length&&(S.transform=A.join(" ")),v.createElement("text",dj({},Un(S),{ref:t,x:T,y:N,className:$t("recharts-text",y),textAnchor:h,fill:c.includes("url")?x$:c}),b.map((I,q)=>{var z=I.words.join(x?"":" ");return v.createElement("tspan",{x:T,dy:q===0?P:o,key:"".concat(z,"-").concat(q)},z)}))});l_.displayName="Text";function aD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function os(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aD(Object(r),!0).forEach(function(n){tve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tve(e,t,r){return(t=rve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rve(e){var t=nve(e,"string");return typeof t=="symbol"?t:t+""}function nve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ave=e=>{var{viewBox:t,position:r,offset:n=0,parentViewBox:a}=e,{x:o,y:u,height:c,upperWidth:p,lowerWidth:h}=NC(t),f=o,m=o+(p-h)/2,b=(f+m)/2,_=(p+h)/2,j=f+p/2,w=c>=0?1:-1,y=w*n,x=w>0?"end":"start",S=w>0?"start":"end",T=p>=0?1:-1,N=T*n,P=T>0?"end":"start",A=T>0?"start":"end",k=a;if(r==="top"){var R={x:f+p/2,y:u-y,horizontalAnchor:"middle",verticalAnchor:x};return k&&(R.height=Math.max(u-k.y,0),R.width=p),R}if(r==="bottom"){var D={x:m+h/2,y:u+c+y,horizontalAnchor:"middle",verticalAnchor:S};return k&&(D.height=Math.max(k.y+k.height-(u+c),0),D.width=h),D}if(r==="left"){var I={x:b-N,y:u+c/2,horizontalAnchor:P,verticalAnchor:"middle"};return k&&(I.width=Math.max(I.x-k.x,0),I.height=c),I}if(r==="right"){var q={x:b+_+N,y:u+c/2,horizontalAnchor:A,verticalAnchor:"middle"};return k&&(q.width=Math.max(k.x+k.width-q.x,0),q.height=c),q}var z=k?{width:_,height:c}:{};return r==="insideLeft"?os({x:b+N,y:u+c/2,horizontalAnchor:A,verticalAnchor:"middle"},z):r==="insideRight"?os({x:b+_-N,y:u+c/2,horizontalAnchor:P,verticalAnchor:"middle"},z):r==="insideTop"?os({x:f+p/2,y:u+y,horizontalAnchor:"middle",verticalAnchor:S},z):r==="insideBottom"?os({x:m+h/2,y:u+c-y,horizontalAnchor:"middle",verticalAnchor:x},z):r==="insideTopLeft"?os({x:f+N,y:u+y,horizontalAnchor:A,verticalAnchor:S},z):r==="insideTopRight"?os({x:f+p-N,y:u+y,horizontalAnchor:P,verticalAnchor:S},z):r==="insideBottomLeft"?os({x:m+N,y:u+c-y,horizontalAnchor:A,verticalAnchor:x},z):r==="insideBottomRight"?os({x:m+h-N,y:u+c-y,horizontalAnchor:P,verticalAnchor:x},z):r&&typeof r=="object"&&($e(r.x)||ru(r.x))&&($e(r.y)||ru(r.y))?os({x:o+qn(r.x,_),y:u+qn(r.y,c),horizontalAnchor:"end",verticalAnchor:"end"},z):os({x:j,y:u+c/2,horizontalAnchor:"middle",verticalAnchor:"middle"},z)},ive=["labelRef"],sve=["content"];function iD(e,t){if(e==null)return{};var r,n,a=ove(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ove(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function sD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ih(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sD(Object(r),!0).forEach(function(n){lve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lve(e,t,r){return(t=cve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cve(e){var t=uve(e,"string");return typeof t=="symbol"?t:t+""}function uve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wo(){return wo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wo.apply(null,arguments)}var w$=v.createContext(null),dve=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:o,height:u,children:c}=e,p=v.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:o,height:u}),[t,r,n,a,o,u]);return v.createElement(w$.Provider,{value:p},c)},S$=()=>{var e=v.useContext(w$),t=$b();return e||(t?NC(t):void 0)},fve=v.createContext(null),pve=()=>{var e=v.useContext(fve),t=Ue(dI);return e||t},hve=e=>{var{value:t,formatter:r}=e,n=Nr(e.children)?t:e.children;return typeof r=="function"?r(n):n},qk=e=>e!=null&&typeof e=="function",mve=(e,t)=>{var r=_n(t-e),n=Math.min(Math.abs(t-e),360);return r*n},gve=(e,t,r,n,a)=>{var{offset:o,className:u}=e,{cx:c,cy:p,innerRadius:h,outerRadius:f,startAngle:m,endAngle:b,clockWise:_}=a,j=(h+f)/2,w=mve(m,b),y=w>=0?1:-1,x,S;switch(t){case"insideStart":x=m+y*o,S=_;break;case"insideEnd":x=b-y*o,S=!_;break;case"end":x=b+y*o,S=_;break;default:throw new Error("Unsupported position ".concat(t))}S=w<=0?S:!S;var T=Xr(c,p,j,x),N=Xr(c,p,j,x+(S?1:-1)*359),P="M".concat(T.x,",").concat(T.y,`
    A`).concat(j,",").concat(j,",0,1,").concat(S?0:1,`,
    `).concat(N.x,",").concat(N.y),A=Nr(e.id)?_h("recharts-radial-line-"):e.id;return v.createElement("text",wo({},n,{dominantBaseline:"central",className:$t("recharts-radial-bar-label",u)}),v.createElement("defs",null,v.createElement("path",{id:A,d:P})),v.createElement("textPath",{xlinkHref:"#".concat(A)},r))},vve=(e,t,r)=>{var{cx:n,cy:a,innerRadius:o,outerRadius:u,startAngle:c,endAngle:p}=e,h=(c+p)/2;if(r==="outside"){var{x:f,y:m}=Xr(n,a,u+t,h);return{x:f,y:m,textAnchor:f>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var b=(o+u)/2,{x:_,y:j}=Xr(n,a,b,h);return{x:_,y:j,textAnchor:"middle",verticalAnchor:"middle"}},Lv=e=>e!=null&&"cx"in e&&$e(e.cx),yve={angle:0,offset:5,zIndex:Ur.label,position:"middle",textBreakAll:!1};function bve(e){if(!Lv(e))return e;var{cx:t,cy:r,outerRadius:n}=e,a=n*2;return{x:t-n,y:r-n,width:a,upperWidth:a,lowerWidth:a,height:a}}function kl(e){var t=$r(e,yve),{viewBox:r,parentViewBox:n,position:a,value:o,children:u,content:c,className:p="",textBreakAll:h,labelRef:f}=t,m=pve(),b=S$(),_=a==="center"?b:m??b,j,w,y;r==null?j=_:Lv(r)?j=r:j=NC(r);var x=bve(j);if(!j||Nr(o)&&Nr(u)&&!v.isValidElement(c)&&typeof c!="function")return null;var S=ih(ih({},t),{},{viewBox:j});if(v.isValidElement(c)){var{labelRef:T}=S,N=iD(S,ive);return v.cloneElement(c,N)}if(typeof c=="function"){var{content:P}=S,A=iD(S,sve);if(w=v.createElement(c,A),v.isValidElement(w))return w}else w=hve(t);var k=Un(t);if(Lv(j)){if(a==="insideStart"||a==="insideEnd"||a==="end")return gve(t,a,w,k,j);y=vve(j,t.offset,t.position)}else{if(!x)return null;var R=ave({viewBox:x,position:a,offset:t.offset,parentViewBox:Lv(n)?void 0:n});y=ih(ih({x:R.x,y:R.y,textAnchor:R.horizontalAnchor,verticalAnchor:R.verticalAnchor},R.width!==void 0?{width:R.width}:{}),R.height!==void 0?{height:R.height}:{})}return v.createElement(aa,{zIndex:t.zIndex},v.createElement(l_,wo({ref:f,className:$t("recharts-label",p)},k,y,{textAnchor:Qge(k.textAnchor)?k.textAnchor:y.textAnchor,breakAll:h}),w))}kl.displayName="Label";var _ve=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?v.createElement(kl,wo({key:"label-implicit"},n)):js(e)?v.createElement(kl,wo({key:"label-implicit",value:e},n)):v.isValidElement(e)?e.type===kl?v.cloneElement(e,ih({key:"label-implicit"},n)):v.createElement(kl,wo({key:"label-implicit",content:e},n)):qk(e)?v.createElement(kl,wo({key:"label-implicit",content:e},n)):e&&typeof e=="object"?v.createElement(kl,wo({},e,{key:"label-implicit"},n)):null};function xve(e){var{label:t,labelRef:r}=e,n=S$();return _ve(t,n,r)||null}var gw={},vw={},oD;function wve(){return oD||(oD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(vw)),vw}var yw={},lD;function Sve(){return lD||(lD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(yw)),yw}var cD;function jve(){return cD||(cD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wve(),r=Sve(),n=gC();function a(o){if(n.isArrayLike(o))return t.last(r.toArray(o))}e.last=a})(gw)),gw}var bw,uD;function Cve(){return uD||(uD=1,bw=jve().last),bw}var kve=Cve();const Nve=Ts(kve);var Eve=["valueAccessor"],Tve=["dataKey","clockWise","id","textBreakAll","zIndex"];function Ky(){return Ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ky.apply(null,arguments)}function dD(e,t){if(e==null)return{};var r,n,a=Pve(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Pve(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ave=e=>Array.isArray(e.value)?Nve(e.value):e.value,j$=v.createContext(void 0),Uk=j$.Provider,C$=v.createContext(void 0),Rve=C$.Provider;function Ove(){return v.useContext(j$)}function Dve(){return v.useContext(C$)}function Iv(e){var{valueAccessor:t=Ave}=e,r=dD(e,Eve),{dataKey:n,clockWise:a,id:o,textBreakAll:u,zIndex:c}=r,p=dD(r,Tve),h=Ove(),f=Dve(),m=h||f;return!m||!m.length?null:v.createElement(aa,{zIndex:c??Ur.label},v.createElement(Ir,{className:"recharts-label-list"},m.map((b,_)=>{var j,w=Nr(n)?t(b,_):Qt(b.payload,n),y=Nr(o)?{}:{id:"".concat(o,"-").concat(_)};return v.createElement(kl,Ky({key:"label-".concat(_)},Un(b),p,y,{fill:(j=r.fill)!==null&&j!==void 0?j:b.fill,parentViewBox:b.parentViewBox,value:w,textBreakAll:u,viewBox:b.viewBox,index:_,zIndex:0}))})))}Iv.displayName="LabelList";function c_(e){var{label:t}=e;return t?t===!0?v.createElement(Iv,{key:"labelList-implicit"}):v.isValidElement(t)||qk(t)?v.createElement(Iv,{key:"labelList-implicit",content:t}):typeof t=="object"?v.createElement(Iv,Ky({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function fj(){return fj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fj.apply(null,arguments)}var k$=e=>{var{cx:t,cy:r,r:n,className:a}=e,o=$t("recharts-dot",a);return $e(t)&&$e(r)&&$e(n)?v.createElement("circle",fj({},ra(e),mC(e),{className:o,cx:t,cy:r,r:n})):null},N$=e=>e.graphicalItems.polarItems,Mve=oe([Er,um],fk),u_=oe([N$,Br,Mve],pk),Lve=oe([u_],hk),d_=oe([Lve,Vb],mk),Ive=oe([d_,Br,u_],vk);oe([d_,Br,u_],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var o,u=Qt(n,(o=t.dataKey)!==null&&o!==void 0?o:a.dataKey);return{value:u,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Qt(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var fD=()=>{},$ve=oe([d_,Br,u_,n_,Er],xk),Bve=oe([Br,bk,_k,fD,$ve,fD,Mt,Er],wk),E$=oe([Br,Mt,d_,Ive,cm,Er,Bve],Sk),zve=oe([E$,uf,Zl],kk),Fve=oe([Br,E$,zve,Er],Ek);oe([Zl,Fve],pI);var qve={radiusAxis:{},angleAxis:{}},T$=xa({name:"polarAxis",initialState:qve,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:O6e,removeRadiusAxis:D6e,addAngleAxis:M6e,removeAngleAxis:L6e}=T$.actions,Uve=T$.reducer;function P$(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}function pD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pD(Object(r),!0).forEach(function(n){Hve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hve(e,t,r){return(t=Wve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wve(e){var t=Kve(e,"string");return typeof t=="symbol"?t:t+""}function Kve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gve=(e,t)=>t,Hk=oe([N$,Gve],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),Vve=[],Wk=(e,t,r)=>(r==null?void 0:r.length)===0?Vve:r,A$=oe([Vb,Hk,Wk],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(o=>hD(hD({},t.presentationProps),o.props))),a!=null)return a}}),Yve=oe([A$,Hk,Wk],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var o,u=Qt(n,t.nameKey,t.name),c;return r!=null&&(o=r[a])!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.fill?c=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?c=n.fill:c=t.fill,{value:Vl(u,t.dataKey),color:c,payload:n,type:t.legendType}})}),Qve=oe([A$,Hk,Wk,sn],(e,t,r,n)=>{if(!(t==null||e==null))return Xye({offset:n,pieSettings:t,displayedData:e,cells:r})}),_w={exports:{}},sr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mD;function Xve(){if(mD)return sr;mD=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),_=Symbol.for("react.client.reference");function j(w){if(typeof w=="object"&&w!==null){var y=w.$$typeof;switch(y){case e:switch(w=w.type,w){case r:case a:case n:case p:case h:case b:return w;default:switch(w=w&&w.$$typeof,w){case u:case c:case m:case f:return w;case o:return w;default:return y}}case t:return y}}}return sr.ContextConsumer=o,sr.ContextProvider=u,sr.Element=e,sr.ForwardRef=c,sr.Fragment=r,sr.Lazy=m,sr.Memo=f,sr.Portal=t,sr.Profiler=a,sr.StrictMode=n,sr.Suspense=p,sr.SuspenseList=h,sr.isContextConsumer=function(w){return j(w)===o},sr.isContextProvider=function(w){return j(w)===u},sr.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===e},sr.isForwardRef=function(w){return j(w)===c},sr.isFragment=function(w){return j(w)===r},sr.isLazy=function(w){return j(w)===m},sr.isMemo=function(w){return j(w)===f},sr.isPortal=function(w){return j(w)===t},sr.isProfiler=function(w){return j(w)===a},sr.isStrictMode=function(w){return j(w)===n},sr.isSuspense=function(w){return j(w)===p},sr.isSuspenseList=function(w){return j(w)===h},sr.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===r||w===a||w===n||w===p||w===h||typeof w=="object"&&w!==null&&(w.$$typeof===m||w.$$typeof===f||w.$$typeof===u||w.$$typeof===o||w.$$typeof===c||w.$$typeof===_||w.getModuleId!==void 0)},sr.typeOf=j,sr}var gD;function Zve(){return gD||(gD=1,_w.exports=Xve()),_w.exports}var Jve=Zve(),vD=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",yD=null,xw=null,R$=e=>{if(e===yD&&Array.isArray(xw))return xw;var t=[];return v.Children.forEach(e,r=>{Nr(r)||(Jve.isFragment(r)?t=t.concat(R$(r.props.children)):t.push(r))}),xw=t,yD=e,t};function Kk(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>vD(a)):n=[vD(t)],R$(e).forEach(a=>{var o=tu(a,"type.displayName")||tu(a,"type.name");o&&n.indexOf(o)!==-1&&r.push(a)}),r}var Gk=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,ww={},bD;function eye(){return bD||(bD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const o=r[Symbol.toStringTag];return o==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${o}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(ww)),ww}var Sw,_D;function tye(){return _D||(_D=1,Sw=eye().isPlainObject),Sw}var rye=tye();const nye=Ts(rye);var xD,wD,SD,jD,CD;function kD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ND(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kD(Object(r),!0).forEach(function(n){aye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aye(e,t,r){return(t=iye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iye(e){var t=sye(e,"string");return typeof t=="symbol"?t:t+""}function sye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gy(){return Gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gy.apply(null,arguments)}function jp(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var ED=(e,t,r,n,a)=>{var o=r-n,u;return u=Mr(xD||(xD=jp(["M ",",",""])),e,t),u+=Mr(wD||(wD=jp(["L ",",",""])),e+r,t),u+=Mr(SD||(SD=jp(["L ",",",""])),e+r-o/2,t+a),u+=Mr(jD||(jD=jp(["L ",",",""])),e+r-o/2-n,t+a),u+=Mr(CD||(CD=jp(["L ",","," Z"])),e,t),u},oye={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},lye=e=>{var t=$r(e,oye),{x:r,y:n,upperWidth:a,lowerWidth:o,height:u,className:c}=t,{animationEasing:p,animationDuration:h,animationBegin:f,isUpdateAnimationActive:m}=t,b=v.useRef(null),[_,j]=v.useState(-1),w=v.useRef(a),y=v.useRef(o),x=v.useRef(u),S=v.useRef(r),T=v.useRef(n),N=af(e,"trapezoid-");if(v.useEffect(()=>{if(b.current&&b.current.getTotalLength)try{var F=b.current.getTotalLength();F&&j(F)}catch{}},[]),r!==+r||n!==+n||a!==+a||o!==+o||u!==+u||a===0&&o===0||u===0)return null;var P=$t("recharts-trapezoid",c);if(!m)return v.createElement("g",null,v.createElement("path",Gy({},Un(t),{className:P,d:ED(r,n,a,o,u)})));var A=w.current,k=y.current,R=x.current,D=S.current,I=T.current,q="0px ".concat(_===-1?1:_,"px"),z="".concat(_,"px 0px"),M=r8(["strokeDasharray"],h,p);return v.createElement(nf,{animationId:N,key:N,canBegin:_>0,duration:h,easing:p,isActive:m,begin:f},F=>{var B=Yt(A,a,F),O=Yt(k,o,F),$=Yt(R,u,F),K=Yt(D,r,F),Y=Yt(I,n,F);b.current&&(w.current=B,y.current=O,x.current=$,S.current=K,T.current=Y);var Z=F>0?{transition:M,strokeDasharray:z}:{strokeDasharray:q};return v.createElement("path",Gy({},Un(t),{className:P,d:ED(K,Y,B,O,$),ref:b,style:ND(ND({},Z),t.style)}))})},cye=["option","shapeType","activeClassName"];function uye(e,t){if(e==null)return{};var r,n,a=dye(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function dye(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function TD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TD(Object(r),!0).forEach(function(n){fye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fye(e,t,r){return(t=pye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pye(e){var t=hye(e,"string");return typeof t=="symbol"?t:t+""}function hye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mye(e,t){return Vy(Vy({},t),e)}function gye(e,t){return e==="symbols"}function PD(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return v.createElement(s8,r);case"trapezoid":return v.createElement(lye,r);case"sector":return v.createElement(u8,r);case"symbols":if(gye(t))return v.createElement(hC,r);break;case"curve":return v.createElement(Sd,r);default:return null}}function vye(e){return v.isValidElement(e)?e.props:e}function Vk(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,a=uye(e,cye),o;if(v.isValidElement(t))o=v.cloneElement(t,Vy(Vy({},a),vye(t)));else if(typeof t=="function")o=t(a,a.index);else if(nye(t)&&typeof t!="boolean"){var u=mye(t,a);o=v.createElement(PD,{shapeType:r,elementProps:u})}else{var c=a;o=v.createElement(PD,{shapeType:r,elementProps:c})}return a.isActive?v.createElement(Ir,{className:n},o):o}var Yk=(e,t,r)=>{var n=gr();return(a,o)=>u=>{e==null||e(a,o,u),n(UI({activeIndex:String(o),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},Qk=e=>{var t=gr();return(r,n)=>a=>{e==null||e(r,n,a),t(_he())}},Xk=(e,t,r)=>{var n=gr();return(a,o)=>u=>{e==null||e(a,o,u),n(xhe({activeIndex:String(o),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function f_(e){var{tooltipEntrySettings:t}=e,r=gr(),n=xn(),a=v.useRef(null);return v.useLayoutEffect(()=>{n||(a.current===null?r(ghe(t)):a.current!==t&&r(vhe({prev:a.current,next:t})),a.current=t)},[t,r,n]),v.useLayoutEffect(()=>()=>{a.current&&(r(yhe(a.current)),a.current=null)},[r]),null}function Zk(e){var{legendPayload:t}=e,r=gr(),n=xn(),a=v.useRef(null);return v.useLayoutEffect(()=>{n||(a.current===null?r(Z5(t)):a.current!==t&&r(J5({prev:a.current,next:t})),a.current=t)},[r,n,t]),v.useLayoutEffect(()=>()=>{a.current&&(r(e8(a.current)),a.current=null)},[r]),null}function yye(e){var{legendPayload:t}=e,r=gr(),n=Ue(Mt),a=v.useRef(null);return v.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(a.current===null?r(Z5(t)):a.current!==t&&r(J5({prev:a.current,next:t})),a.current=t)},[r,n,t]),v.useLayoutEffect(()=>()=>{a.current&&(r(e8(a.current)),a.current=null)},[r]),null}var jw,bye=()=>{var[e]=v.useState(()=>_h("uid-"));return e},_ye=(jw=kj.useId)!==null&&jw!==void 0?jw:bye;function xye(e,t){var r=_ye();return t||(e?"".concat(e,"-").concat(r):r)}var wye=v.createContext(void 0),p_=e=>{var{id:t,type:r,children:n}=e,a=xye("recharts-".concat(r),t);return v.createElement(wye.Provider,{value:a},n(a))},Sye={cartesianItems:[],polarItems:[]},O$=xa({name:"graphicalItems",initialState:Sye,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Sr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Ui(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:Sr()},removeCartesianGraphicalItem:{reducer(e,t){var r=Ui(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Sr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Sr()},removePolarGraphicalItem:{reducer(e,t){var r=Ui(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Sr()}}}),{addCartesianGraphicalItem:jye,replaceCartesianGraphicalItem:Cye,removeCartesianGraphicalItem:kye,addPolarGraphicalItem:Nye,removePolarGraphicalItem:Eye}=O$.actions,Tye=O$.reducer,Pye=e=>{var t=gr(),r=v.useRef(null);return v.useLayoutEffect(()=>{r.current===null?t(jye(e)):r.current!==e&&t(Cye({prev:r.current,next:e})),r.current=e},[t,e]),v.useLayoutEffect(()=>()=>{r.current&&(t(kye(r.current)),r.current=null)},[t]),null},Jk=v.memo(Pye);function Aye(e){var t=gr();return v.useLayoutEffect(()=>(t(Nye(e)),()=>{t(Eye(e))}),[t,e]),null}var Rye=["key"],Oye=["onMouseEnter","onClick","onMouseLeave"],Dye=["id"],Mye=["id"];function AD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AD(Object(r),!0).forEach(function(n){Lye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lye(e,t,r){return(t=Iye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iye(e){var t=$ye(e,"string");return typeof t=="symbol"?t:t+""}function $ye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hl(){return Hl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hl.apply(null,arguments)}function h_(e,t){if(e==null)return{};var r,n,a=Bye(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Bye(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function zye(e){var t=v.useMemo(()=>Kk(e.children,vm),[e.children]),r=Ue(n=>Yve(n,e.id,t));return r==null?null:v.createElement(yye,{legendPayload:r})}var Fye=v.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:o,fill:u,name:c,hide:p,tooltipType:h,id:f}=e,m={dataDefinedOnItem:n.map(b=>b.tooltipPayload),getPosition:b=>{var _;return(_=n[Number(b)])===null||_===void 0?void 0:_.tooltipPosition},settings:{stroke:a,strokeWidth:o,fill:u,dataKey:t,nameKey:r,name:Vl(c,t),hide:p,type:h,color:u,unit:"",graphicalItemId:f}};return v.createElement(f_,{tooltipEntrySettings:m})}),qye=(e,t)=>e>t?"start":e<t?"end":"middle",Uye=(e,t,r)=>qn(typeof t=="function"?t(e):t,r,r*.8),Hye=(e,t,r)=>{var{top:n,left:a,width:o,height:u}=t,c=o8(o,u),p=a+qn(e.cx,o,o/2),h=n+qn(e.cy,u,u/2),f=qn(e.innerRadius,c,0),m=Uye(r,e.outerRadius,c),b=e.maxRadius||Math.sqrt(o*o+u*u)/2;return{cx:p,cy:h,innerRadius:f,outerRadius:m,maxRadius:b}},Wye=(e,t)=>{var r=_n(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Kye=(e,t)=>{if(v.isValidElement(e))return v.cloneElement(e,t);if(typeof e=="function")return e(t);var r=$t("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,a=h_(t,Rye);return v.createElement(Sd,Hl({},a,{type:"linear",className:r}))},Gye=(e,t,r)=>{if(v.isValidElement(e))return v.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),v.isValidElement(n)))return n;var a=$t("recharts-pie-label-text",P$(e));return v.createElement(l_,Hl({},t,{alignmentBaseline:"middle",className:a}),n)};function Vye(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:o,dataKey:u}=r;if(!n||!a||!t)return null;var c=ra(r),p=Jc(a),h=Jc(o),f=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,m=t.map((b,_)=>{var j=(b.startAngle+b.endAngle)/2,w=Xr(b.cx,b.cy,b.outerRadius+f,j),y=Lr(Lr(Lr(Lr({},c),b),{},{stroke:"none"},p),{},{index:_,textAnchor:qye(w.x,b.cx)},w),x=Lr(Lr(Lr(Lr({},c),b),{},{fill:"none",stroke:b.fill},h),{},{index:_,points:[Xr(b.cx,b.cy,b.outerRadius,j),w],key:"line"});return v.createElement(aa,{zIndex:Ur.label,key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(_)},v.createElement(Ir,null,o&&Kye(o,x),Gye(a,y,Qt(b,u))))});return v.createElement(Ir,{className:"recharts-pie-labels"},m)}function Yye(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?v.createElement(c_,{label:a}):v.createElement(Vye,{sectors:t,props:r,showLabels:n})}function Qye(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a,shape:o,id:u}=e,c=Ue(Ul),p=Ue(Ik),h=Ue(sme),{onMouseEnter:f,onClick:m,onMouseLeave:b}=a,_=h_(a,Oye),j=Yk(f,a.dataKey,u),w=Qk(b),y=Xk(m,a.dataKey,u);return t==null||t.length===0?null:v.createElement(v.Fragment,null,t.map((x,S)=>{if((x==null?void 0:x.startAngle)===0&&(x==null?void 0:x.endAngle)===0&&t.length!==1)return null;var T=h==null||h===u,N=String(S)===c&&(p==null||a.dataKey===p)&&T,P=c?n:null,A=r&&N?r:P,k=Lr(Lr({},x),{},{stroke:x.stroke,tabIndex:-1,[$5]:S,[B5]:u});return v.createElement(Ir,Hl({key:"sector-".concat(x==null?void 0:x.startAngle,"-").concat(x==null?void 0:x.endAngle,"-").concat(x.midAngle,"-").concat(S),tabIndex:-1,className:"recharts-pie-sector"},Zh(_,x,S),{onMouseEnter:j(x,S),onMouseLeave:w(x,S),onClick:y(x,S)}),v.createElement(Vk,Hl({option:o??A,index:S,shapeType:"sector",isActive:N},k)))}))}function Xye(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:o}=e,{cornerRadius:u,startAngle:c,endAngle:p,dataKey:h,nameKey:f,tooltipType:m}=r,b=Math.abs(r.minAngle),_=Wye(c,p),j=Math.abs(_),w=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,y=n.filter(A=>Qt(A,h,0)!==0).length,x=(j>=360?y:y-1)*w,S=j-y*b-x,T=n.reduce((A,k)=>{var R=Qt(k,h,0);return A+($e(R)?R:0)},0),N;if(T>0){var P;N=n.map((A,k)=>{var R=Qt(A,h,0),D=Qt(A,f,k),I=Hye(r,o,A),q=($e(R)?R:0)/T,z,M=Lr(Lr({},A),a&&a[k]&&a[k].props);k?z=P.endAngle+_n(_)*w*(R!==0?1:0):z=c;var F=z+_n(_)*((R!==0?b:0)+q*S),B=(z+F)/2,O=(I.innerRadius+I.outerRadius)/2,$=[{name:D,value:R,payload:M,dataKey:h,type:m,graphicalItemId:r.id}],K=Xr(I.cx,I.cy,O,B);return P=Lr(Lr(Lr(Lr({},r.presentationProps),{},{percent:q,cornerRadius:typeof u=="string"?parseFloat(u):u,name:D,tooltipPayload:$,midAngle:B,middleRadius:O,tooltipPosition:K},M),I),{},{value:R,dataKey:h,startAngle:z,endAngle:F,payload:M,paddingAngle:_n(_)*w}),P})}return N}function Zye(e){var{showLabels:t,sectors:r,children:n}=e,a=v.useMemo(()=>!t||!r?[]:r.map(o=>({value:o.value,payload:o.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:o.cx,cy:o.cy,innerRadius:o.innerRadius,outerRadius:o.outerRadius,startAngle:o.startAngle,endAngle:o.endAngle,clockWise:!1},fill:o.fill})),[r,t]);return v.createElement(Rve,{value:t?a:void 0},n)}function Jye(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:a,isAnimationActive:o,animationBegin:u,animationDuration:c,animationEasing:p,activeShape:h,inactiveShape:f,onAnimationStart:m,onAnimationEnd:b}=t,_=af(t,"recharts-pie-"),j=r.current,[w,y]=v.useState(!1),x=v.useCallback(()=>{typeof b=="function"&&b(),y(!1)},[b]),S=v.useCallback(()=>{typeof m=="function"&&m(),y(!0)},[m]);return v.createElement(Zye,{showLabels:!w,sectors:a},v.createElement(nf,{animationId:_,begin:u,duration:c,isActive:o,easing:p,onAnimationStart:S,onAnimationEnd:x,key:_},T=>{var N,P=[],A=a&&a[0],k=(N=A==null?void 0:A.startAngle)!==null&&N!==void 0?N:0;return a==null||a.forEach((R,D)=>{var I=j&&j[D],q=D>0?tu(R,"paddingAngle",0):0;if(I){var z=Yt(I.endAngle-I.startAngle,R.endAngle-R.startAngle,T),M=Lr(Lr({},R),{},{startAngle:k+q,endAngle:k+z+q});P.push(M),k=M.endAngle}else{var{endAngle:F,startAngle:B}=R,O=Yt(0,F-B,T),$=Lr(Lr({},R),{},{startAngle:k+q,endAngle:k+O+q});P.push($),k=$.endAngle}}),r.current=P,v.createElement(Ir,null,v.createElement(Qye,{sectors:P,activeShape:h,inactiveShape:f,allOtherPieProps:t,shape:t.shape,id:n}))}),v.createElement(Yye,{showLabels:!w,sectors:a,props:t}),t.children)}var ebe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Ur.area};function tbe(e){var{id:t}=e,r=h_(e,Dye),{hide:n,className:a,rootTabIndex:o}=e,u=v.useMemo(()=>Kk(e.children,vm),[e.children]),c=Ue(f=>Qve(f,t,u)),p=v.useRef(null),h=$t("recharts-pie",a);return n||c==null?(p.current=null,v.createElement(Ir,{tabIndex:o,className:h})):v.createElement(aa,{zIndex:e.zIndex},v.createElement(Fye,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:c,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),v.createElement(Ir,{tabIndex:o,className:h},v.createElement(Jye,{props:Lr(Lr({},r),{},{sectors:c}),previousSectorsRef:p,id:t})))}function D$(e){var t=$r(e,ebe),{id:r}=t,n=h_(t,Mye),a=ra(n);return v.createElement(p_,{id:r,type:"pie"},o=>v.createElement(v.Fragment,null,v.createElement(Aye,{type:"pie",id:o,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),v.createElement(zye,Hl({},n,{id:o})),v.createElement(tbe,Hl({},n,{id:o}))))}D$.displayName="Pie";var rbe=["points"];function RD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RD(Object(r),!0).forEach(function(n){nbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nbe(e,t,r){return(t=abe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function abe(e){var t=ibe(e,"string");return typeof t=="symbol"?t:t+""}function ibe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yy(){return Yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yy.apply(null,arguments)}function sbe(e,t){if(e==null)return{};var r,n,a=obe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function obe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function lbe(e){var{option:t,dotProps:r,className:n}=e;if(v.isValidElement(t))return v.cloneElement(t,r);if(typeof t=="function")return t(r);var a=$t(n,typeof t!="boolean"?t.className:""),o=r??{},{points:u}=o,c=sbe(o,rbe);return v.createElement(k$,Yy({},c,{className:a}))}function cbe(e,t){return e==null?!1:t?!0:e.length===1}function M$(e){var{points:t,dot:r,className:n,dotClassName:a,dataKey:o,baseProps:u,needClip:c,clipPathId:p,zIndex:h=Ur.scatter}=e;if(!cbe(t,r))return null;var f=Gk(r),m=kae(r),b=t.map((j,w)=>{var y,x,S=Cw(Cw(Cw({r:3},u),m),{},{index:w,cx:(y=j.x)!==null&&y!==void 0?y:void 0,cy:(x=j.y)!==null&&x!==void 0?x:void 0,dataKey:o,value:j.value,payload:j.payload,points:t});return v.createElement(lbe,{key:"dot-".concat(w),option:r,dotProps:S,className:a})}),_={};return c&&p!=null&&(_.clipPath="url(#clipPath-".concat(f?"":"dots-").concat(p,")")),v.createElement(aa,{zIndex:h},v.createElement(Ir,Yy({className:n},_),b))}function OD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function DD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OD(Object(r),!0).forEach(function(n){ube(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ube(e,t,r){return(t=dbe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dbe(e){var t=fbe(e,"string");return typeof t=="symbol"?t:t+""}function fbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var L$=0,pbe={xAxis:{},yAxis:{},zAxis:{}},I$=xa({name:"cartesianAxis",initialState:pbe,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Sr()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Sr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Sr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Sr()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Sr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Sr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Sr()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Sr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Sr()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var o,u=a.widthHistory||[];if(u.length===3&&u[0]===u[2]&&n===u[1]&&n!==a.width&&Math.abs(n-((o=u[0])!==null&&o!==void 0?o:0))<=1)return;var c=[...u,n].slice(-3);e.yAxis[r]=DD(DD({},a),{},{width:n,widthHistory:c})}}}}),{addXAxis:hbe,replaceXAxis:mbe,removeXAxis:gbe,addYAxis:vbe,replaceYAxis:ybe,removeYAxis:bbe,addZAxis:I6e,replaceZAxis:$6e,removeZAxis:B6e,updateYAxisWidth:_be}=I$.actions,xbe=I$.reducer,wbe=oe([sn],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Sbe=oe([wbe,$o,Bo],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),m_=()=>Ue(Sbe),jbe=()=>Ue(dme);function MD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MD(Object(r),!0).forEach(function(n){Cbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cbe(e,t,r){return(t=kbe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kbe(e){var t=Nbe(e,"string");return typeof t=="symbol"?t:t+""}function Nbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ebe=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:o,clipPath:u}=e;if(a===!1||t.x==null||t.y==null)return null;var c={index:r,dataKey:o,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},p=kw(kw(kw({},c),Jc(a)),mC(a)),h;return v.isValidElement(a)?h=v.cloneElement(a,p):typeof a=="function"?h=a(p):h=v.createElement(k$,p),v.createElement(Ir,{className:"recharts-active-dot",clipPath:u},h)};function pj(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a,clipPath:o,zIndex:u=Ur.activeDot}=e,c=Ue(Ul),p=jbe();if(t==null||p==null)return null;var h=t.find(f=>p.includes(f.payload));return Nr(h)?null:v.createElement(aa,{zIndex:u},v.createElement(Ebe,{point:h,childIndex:Number(c),mainColor:r,dataKey:a,activeDot:n,clipPath:o}))}var LD=(e,t,r)=>{var n=r??e;if(!Nr(n))return qn(n,t,0)},Tbe=(e,t,r)=>{var n={},a=e.filter(Jb),o=e.filter(h=>h.stackId==null),u=a.reduce((h,f)=>{var m=h[f.stackId];return m==null&&(m=[]),m.push(f),h[f.stackId]=m,h},n),c=Object.entries(u).map(h=>{var f,[m,b]=h,_=b.map(w=>w.dataKey),j=LD(t,r,(f=b[0])===null||f===void 0?void 0:f.barSize);return{stackId:m,dataKeys:_,barSize:j}}),p=o.map(h=>{var f=[h.dataKey].filter(b=>b!=null),m=LD(t,r,h.barSize);return{stackId:void 0,dataKeys:f,barSize:m}});return[...c,...p]};function ID(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ID(Object(r),!0).forEach(function(n){Pbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ID(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pbe(e,t,r){return(t=Abe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Abe(e){var t=Rbe(e,"string");return typeof t=="symbol"?t:t+""}function Rbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Obe(e,t,r,n,a){var o,u=n.length;if(!(u<1)){var c=qn(e,r,0,!0),p,h=[];if(_t((o=n[0])===null||o===void 0?void 0:o.barSize)){var f=!1,m=r/u,b=n.reduce((S,T)=>S+(T.barSize||0),0);b+=(u-1)*c,b>=r&&(b-=(u-1)*c,c=0),b>=r&&m>0&&(f=!0,m*=.9,b=u*m);var _=(r-b)/2>>0,j={offset:_-c,size:0};p=n.reduce((S,T)=>{var N,P={stackId:T.stackId,dataKeys:T.dataKeys,position:{offset:j.offset+j.size+c,size:f?m:(N=T.barSize)!==null&&N!==void 0?N:0}},A=[...S,P];return j=P.position,A},h)}else{var w=qn(t,r,0,!0);r-2*w-(u-1)*c<=0&&(c=0);var y=(r-2*w-(u-1)*c)/u;y>1&&(y>>=0);var x=_t(a)?Math.min(y,a):y;p=n.reduce((S,T,N)=>[...S,{stackId:T.stackId,dataKeys:T.dataKeys,position:{offset:w+(y+c)*N+(y-x)/2,size:x}}],h)}return p}}var Dbe=(e,t,r,n,a,o,u)=>{var c=Nr(u)?t:u,p=Obe(r,n,a!==o?a:o,e,c);return a!==o&&p!=null&&(p=p.map(h=>dv(dv({},h),{},{position:dv(dv({},h.position),{},{offset:h.position.offset-a/2})}))),p},Mbe=(e,t)=>{var r=Zb(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:o}=a;if(o)return o.find(u=>u.key===r)}}}},Lbe=(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}};function Ibe(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&_t(e.zIndex)?e.zIndex:t}var $$=e=>{var{chartData:t}=e,r=gr(),n=xn();return v.useEffect(()=>n?()=>{}:(r(U3(t)),()=>{r(U3(void 0))}),[t,r,n]),null},$D={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},B$=xa({name:"brush",initialState:$D,reducers:{setBrushSettings(e,t){return t.payload==null?$D:t.payload}}}),{setBrushSettings:z6e}=B$.actions,$be=B$.reducer;function Bbe(e){return(e%180+180)%180}var zbe=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Bbe(a),u=o*Math.PI/180,c=Math.atan(n/r),p=u>c&&u<Math.PI-c?n/Math.sin(u):r/Math.cos(u);return Math.abs(p)},Fbe={dots:[],areas:[],lines:[]},z$=xa({name:"referenceElements",initialState:Fbe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Ui(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Ui(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Ui(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:F6e,removeDot:q6e,addArea:U6e,removeArea:H6e,addLine:W6e,removeLine:K6e}=z$.actions,qbe=z$.reducer,Ube=v.createContext(void 0),Hbe=e=>{var{children:t}=e,[r]=v.useState("".concat(_h("recharts"),"-clip")),n=m_();if(n==null)return null;var{x:a,y:o,width:u,height:c}=n;return v.createElement(Ube.Provider,{value:r},v.createElement("defs",null,v.createElement("clipPath",{id:r},v.createElement("rect",{x:a,y:o,height:c,width:u}))),t)};function F$(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var a=e[n];a!==void 0&&r.push(a)}return r}function Wbe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return zbe(n,r)}function Kbe(e,t,r){var n=r==="width",{x:a,y:o,width:u,height:c}=e;return t===1?{start:n?a:o,end:n?a+u:o+c}:{start:n?a+u:o+c,end:n?a:o}}function Dh(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var o=r();return e*(t-e*o/2-n)>=0&&e*(t+e*o/2-a)<=0}function Gbe(e,t){return F$(e,t+1)}function Vbe(e,t,r,n,a){for(var o=(n||[]).slice(),{start:u,end:c}=t,p=0,h=1,f=u,m=function(){var j=n==null?void 0:n[p];if(j===void 0)return{v:F$(n,h)};var w=p,y,x=()=>(y===void 0&&(y=r(j,w)),y),S=j.coordinate,T=p===0||Dh(e,S,x,f,c);T||(p=0,f=u,h+=1),T&&(f=S+e*(x()/2+a),p+=h)},b;h<=o.length;)if(b=m(),b)return b.v;return[]}function Ybe(e,t,r,n,a){var o=(n||[]).slice(),u=o.length;if(u===0)return[];for(var{start:c,end:p}=t,h=1;h<=u;h++){for(var f=(u-1)%h,m=c,b=!0,_=function(){var N=n[w];if(N==null)return 0;var P=w,A,k=()=>(A===void 0&&(A=r(N,P)),A),R=N.coordinate,D=w===f||Dh(e,R,k,m,p);if(!D)return b=!1,1;D&&(m=R+e*(k()/2+a))},j,w=f;w<u&&(j=_(),!(j!==0&&j===1));w+=h);if(b){for(var y=[],x=f;x<u;x+=h){var S=n[x];S!=null&&y.push(S)}return y}}return[]}function BD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BD(Object(r),!0).forEach(function(n){Qbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qbe(e,t,r){return(t=Xbe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xbe(e){var t=Zbe(e,"string");return typeof t=="symbol"?t:t+""}function Zbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jbe(e,t,r,n,a){for(var o=(n||[]).slice(),u=o.length,{start:c}=t,{end:p}=t,h=function(b){var _=o[b];if(_==null)return 1;var j=_,w,y=()=>(w===void 0&&(w=r(_,b)),w);if(b===u-1){var x=e*(j.coordinate+e*y()/2-p);o[b]=j=zn(zn({},j),{},{tickCoord:x>0?j.coordinate-x*e:j.coordinate})}else o[b]=j=zn(zn({},j),{},{tickCoord:j.coordinate});if(j.tickCoord!=null){var S=Dh(e,j.tickCoord,y,c,p);S&&(p=j.tickCoord-e*(y()/2+a),o[b]=zn(zn({},j),{},{isShow:!0}))}},f=u-1;f>=0;f--)h(f);return o}function e_e(e,t,r,n,a,o){var u=(n||[]).slice(),c=u.length,{start:p,end:h}=t;if(o){var f=n[c-1];if(f!=null){var m=r(f,c-1),b=e*(f.coordinate+e*m/2-h);if(u[c-1]=f=zn(zn({},f),{},{tickCoord:b>0?f.coordinate-b*e:f.coordinate}),f.tickCoord!=null){var _=Dh(e,f.tickCoord,()=>m,p,h);_&&(h=f.tickCoord-e*(m/2+a),u[c-1]=zn(zn({},f),{},{isShow:!0}))}}}for(var j=o?c-1:c,w=function(S){var T=u[S];if(T==null)return 1;var N=T,P,A=()=>(P===void 0&&(P=r(T,S)),P);if(S===0){var k=e*(N.coordinate-e*A()/2-p);u[S]=N=zn(zn({},N),{},{tickCoord:k<0?N.coordinate-k*e:N.coordinate})}else u[S]=N=zn(zn({},N),{},{tickCoord:N.coordinate});if(N.tickCoord!=null){var R=Dh(e,N.tickCoord,A,p,h);R&&(p=N.tickCoord+e*(A()/2+a),u[S]=zn(zn({},N),{},{isShow:!0}))}},y=0;y<j;y++)w(y);return u}function e2(e,t,r){var{tick:n,ticks:a,viewBox:o,minTickGap:u,orientation:c,interval:p,tickFormatter:h,unit:f,angle:m}=e;if(!a||!a.length||!n)return[];if($e(p)||am.isSsr){var b;return(b=Gbe(a,$e(p)?p:0))!==null&&b!==void 0?b:[]}var _=[],j=c==="top"||c==="bottom"?"width":"height",w=f&&j==="width"?uh(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=(P,A)=>{var k=typeof h=="function"?h(P.value,A):P.value;return j==="width"?Wbe(uh(k,{fontSize:t,letterSpacing:r}),w,m):uh(k,{fontSize:t,letterSpacing:r})[j]},x=a[0],S=a[1],T=a.length>=2&&x!=null&&S!=null?_n(S.coordinate-x.coordinate):1,N=Kbe(o,T,j);return p==="equidistantPreserveStart"?Vbe(T,N,y,a,u):p==="equidistantPreserveEnd"?Ybe(T,N,y,a,u):(p==="preserveStart"||p==="preserveStartEnd"?_=e_e(T,N,y,a,u,p==="preserveStartEnd"):_=Jbe(T,N,y,a,u),_.filter(P=>P.isShow))}var t_e=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:o=0}=e,u=0;if(t){Array.from(t).forEach(f=>{if(f){var m=f.getBoundingClientRect();m.width>u&&(u=m.width)}});var c=r?r.getBoundingClientRect().width:0,p=a+o,h=u+p+c+(r?n:0);return Math.round(h)}return 0},r_e=["axisLine","width","height","className","hide","ticks","axisType"];function n_e(e,t){if(e==null)return{};var r,n,a=a_e(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function a_e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ou(){return ou=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ou.apply(null,arguments)}function zD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zD(Object(r),!0).forEach(function(n){i_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i_e(e,t,r){return(t=s_e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s_e(e){var t=o_e(e,"string");return typeof t=="symbol"?t:t+""}function o_e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var No={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Ur.axis};function l_e(e){var{x:t,y:r,width:n,height:a,orientation:o,mirror:u,axisLine:c,otherSvgProps:p}=e;if(!c)return null;var h=Dr(Dr(Dr({},p),ra(c)),{},{fill:"none"});if(o==="top"||o==="bottom"){var f=+(o==="top"&&!u||o==="bottom"&&u);h=Dr(Dr({},h),{},{x1:t,y1:r+f*a,x2:t+n,y2:r+f*a})}else{var m=+(o==="left"&&!u||o==="right"&&u);h=Dr(Dr({},h),{},{x1:t+m*n,y1:r,x2:t+m*n,y2:r+a})}return v.createElement("line",ou({},h,{className:$t("recharts-cartesian-axis-line",tu(c,"className"))}))}function c_e(e,t,r,n,a,o,u,c,p){var h,f,m,b,_,j,w=c?-1:1,y=e.tickSize||u,x=$e(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":h=f=e.coordinate,b=r+ +!c*a,m=b-w*y,j=m-w*p,_=x;break;case"left":m=b=e.coordinate,f=t+ +!c*n,h=f-w*y,_=h-w*p,j=x;break;case"right":m=b=e.coordinate,f=t+ +c*n,h=f+w*y,_=h+w*p,j=x;break;default:h=f=e.coordinate,b=r+ +c*a,m=b+w*y,j=m+w*p,_=x;break}return{line:{x1:h,y1:m,x2:f,y2:b},tick:{x:_,y:j}}}function u_e(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function d_e(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function f_e(e){var{option:t,tickProps:r,value:n}=e,a,o=$t(r.className,"recharts-cartesian-axis-tick-value");if(v.isValidElement(t))a=v.cloneElement(t,Dr(Dr({},r),{},{className:o}));else if(typeof t=="function")a=t(Dr(Dr({},r),{},{className:o}));else{var u="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(u=$t(u,P$(t))),a=v.createElement(l_,ou({},r,{className:u}),n)}return a}var p_e=v.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:o,tickFormatter:u,unit:c,padding:p,tickTextProps:h,orientation:f,mirror:m,x:b,y:_,width:j,height:w,tickSize:y,tickMargin:x,fontSize:S,letterSpacing:T,getTicksConfig:N,events:P,axisType:A}=e,k=e2(Dr(Dr({},N),{},{ticks:r}),S,T),R=u_e(f,m),D=d_e(f,m),I=ra(N),q=Jc(n),z={};typeof a=="object"&&(z=a);var M=Dr(Dr({},I),{},{fill:"none"},z),F=k.map($=>Dr({entry:$},c_e($,b,_,j,w,f,y,m,x))),B=F.map($=>{var{entry:K,line:Y}=$;return v.createElement(Ir,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(K.value,"-").concat(K.coordinate,"-").concat(K.tickCoord)},a&&v.createElement("line",ou({},M,Y,{className:$t("recharts-cartesian-axis-tick-line",tu(a,"className"))})))}),O=F.map(($,K)=>{var Y,Z,{entry:H,tick:X}=$,te=Dr(Dr(Dr(Dr({verticalAnchor:D},I),{},{textAnchor:R,stroke:"none",fill:o},X),{},{index:K,payload:H,visibleTicksCount:k.length,tickFormatter:u,padding:p},h),{},{angle:(Y=(Z=h==null?void 0:h.angle)!==null&&Z!==void 0?Z:I.angle)!==null&&Y!==void 0?Y:0}),le=Dr(Dr({},te),q);return v.createElement(Ir,ou({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(H.value,"-").concat(H.coordinate,"-").concat(H.tickCoord)},Zh(P,H,K)),n&&v.createElement(f_e,{option:n,tickProps:le,value:"".concat(typeof u=="function"?u(H.value,K):H.value).concat(c||"")}))});return v.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(A,"-ticks")},O.length>0&&v.createElement(aa,{zIndex:Ur.label},v.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(A,"-tick-labels"),ref:t},O)),B.length>0&&v.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(A,"-tick-lines")},B))}),h_e=v.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:o,hide:u,ticks:c,axisType:p}=e,h=n_e(e,r_e),[f,m]=v.useState(""),[b,_]=v.useState(""),j=v.useRef(null);v.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var y;return t_e({ticks:j.current,label:(y=e.labelRef)===null||y===void 0?void 0:y.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var w=v.useCallback(y=>{if(y){var x=y.getElementsByClassName("recharts-cartesian-axis-tick-value");j.current=x;var S=x[0];if(S){var T=window.getComputedStyle(S),N=T.fontSize,P=T.letterSpacing;(N!==f||P!==b)&&(m(N),_(P))}}},[f,b]);return u||n!=null&&n<=0||a!=null&&a<=0?null:v.createElement(aa,{zIndex:e.zIndex},v.createElement(Ir,{className:$t("recharts-cartesian-axis",o)},v.createElement(l_e,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:ra(e)}),v.createElement(p_e,{ref:w,axisType:p,events:h,fontSize:f,getTicksConfig:e,height:e.height,letterSpacing:b,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:c,unit:e.unit,width:e.width,x:e.x,y:e.y}),v.createElement(dve,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},v.createElement(xve,{label:e.label,labelRef:e.labelRef}),e.children)))}),t2=v.forwardRef((e,t)=>{var r=$r(e,No);return v.createElement(h_e,ou({},r,{ref:t}))});t2.displayName="CartesianAxis";var m_e=["x1","y1","x2","y2","key"],g_e=["offset"],v_e=["xAxisId","yAxisId"],y_e=["xAxisId","yAxisId"];function FD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FD(Object(r),!0).forEach(function(n){b_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b_e(e,t,r){return(t=__e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function __e(e){var t=x_e(e,"string");return typeof t=="symbol"?t:t+""}function x_e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mc(){return Mc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mc.apply(null,arguments)}function Qy(e,t){if(e==null)return{};var r,n,a=w_e(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function w_e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var S_e=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:o,height:u,ry:c}=e;return v.createElement("rect",{x:n,y:a,ry:c,width:o,height:u,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function q$(e){var{option:t,lineItemProps:r}=e,n;if(v.isValidElement(t))n=v.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:o,y1:u,x2:c,y2:p,key:h}=r,f=Qy(r,m_e),m=(a=ra(f))!==null&&a!==void 0?a:{},{offset:b}=m,_=Qy(m,g_e);n=v.createElement("line",Mc({},_,{x1:o,y1:u,x2:c,y2:p,fill:"none",key:h}))}return n}function j_e(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:o,yAxisId:u}=e,c=Qy(e,v_e),p=a.map((h,f)=>{var m=Fn(Fn({},c),{},{x1:t,y1:h,x2:t+r,y2:h,key:"line-".concat(f),index:f});return v.createElement(q$,{key:"line-".concat(f),option:n,lineItemProps:m})});return v.createElement("g",{className:"recharts-cartesian-grid-horizontal"},p)}function C_e(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:o,yAxisId:u}=e,c=Qy(e,y_e),p=a.map((h,f)=>{var m=Fn(Fn({},c),{},{x1:h,y1:t,x2:h,y2:t+r,key:"line-".concat(f),index:f});return v.createElement(q$,{option:n,lineItemProps:m,key:"line-".concat(f)})});return v.createElement("g",{className:"recharts-cartesian-grid-vertical"},p)}function k_e(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:o,height:u,horizontalPoints:c,horizontal:p=!0}=e;if(!p||!t||!t.length||c==null)return null;var h=c.map(m=>Math.round(m+a-a)).sort((m,b)=>m-b);a!==h[0]&&h.unshift(0);var f=h.map((m,b)=>{var _=h[b+1],j=_==null,w=j?a+u-m:_-m;if(w<=0)return null;var y=b%t.length;return v.createElement("rect",{key:"react-".concat(b),y:m,x:n,height:w,width:o,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function N_e(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:o,width:u,height:c,verticalPoints:p}=e;if(!t||!r||!r.length)return null;var h=p.map(m=>Math.round(m+a-a)).sort((m,b)=>m-b);a!==h[0]&&h.unshift(0);var f=h.map((m,b)=>{var _=h[b+1],j=_==null,w=j?a+u-m:_-m;if(w<=0)return null;var y=b%r.length;return v.createElement("rect",{key:"react-".concat(b),x:m,y:o,width:w,height:c,stroke:"none",fill:r[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var E_e=(e,t)=>{var{xAxis:r,width:n,height:a,offset:o}=e;return D5(e2(Fn(Fn(Fn({},No),r),{},{ticks:M5(r),viewBox:{x:0,y:0,width:n,height:a}})),o.left,o.left+o.width,t)},T_e=(e,t)=>{var{yAxis:r,width:n,height:a,offset:o}=e;return D5(e2(Fn(Fn(Fn({},No),r),{},{ticks:M5(r),viewBox:{x:0,y:0,width:n,height:a}})),o.top,o.top+o.height,t)},P_e={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Ur.grid};function us(e){var t=EC(),r=TC(),n=U5(),a=Fn(Fn({},$r(e,P_e)),{},{x:$e(e.x)?e.x:n.left,y:$e(e.y)?e.y:n.top,width:$e(e.width)?e.width:n.width,height:$e(e.height)?e.height:n.height}),{xAxisId:o,yAxisId:u,x:c,y:p,width:h,height:f,syncWithTicks:m,horizontalValues:b,verticalValues:_}=a,j=xn(),w=Ue(D=>A3(D,"xAxis",o,j)),y=Ue(D=>A3(D,"yAxis",u,j));if(!Cs(h)||!Cs(f)||!$e(c)||!$e(p))return null;var x=a.verticalCoordinatesGenerator||E_e,S=a.horizontalCoordinatesGenerator||T_e,{horizontalPoints:T,verticalPoints:N}=a;if((!T||!T.length)&&typeof S=="function"){var P=b&&b.length,A=S({yAxis:y?Fn(Fn({},y),{},{ticks:P?b:y.ticks}):void 0,width:t??h,height:r??f,offset:n},P?!0:m);xy(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof A,"]")),Array.isArray(A)&&(T=A)}if((!N||!N.length)&&typeof x=="function"){var k=_&&_.length,R=x({xAxis:w?Fn(Fn({},w),{},{ticks:k?_:w.ticks}):void 0,width:t??h,height:r??f,offset:n},k?!0:m);xy(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof R,"]")),Array.isArray(R)&&(N=R)}return v.createElement(aa,{zIndex:a.zIndex},v.createElement("g",{className:"recharts-cartesian-grid"},v.createElement(S_e,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),v.createElement(k_e,Mc({},a,{horizontalPoints:T})),v.createElement(N_e,Mc({},a,{verticalPoints:N})),v.createElement(j_e,Mc({},a,{offset:n,horizontalPoints:T,xAxis:w,yAxis:y})),v.createElement(C_e,Mc({},a,{offset:n,verticalPoints:N,xAxis:w,yAxis:y}))))}us.displayName="CartesianGrid";var A_e={},U$=xa({name:"errorBars",initialState:A_e,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(o=>o.dataKey===n.dataKey&&o.direction===n.direction?a:o))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:G6e,replaceErrorBar:V6e,removeErrorBar:Y6e}=U$.actions,R_e=U$.reducer,O_e=["children"];function D_e(e,t){if(e==null)return{};var r,n,a=M_e(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function M_e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var L_e={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},I_e=v.createContext(L_e);function H$(e){var{children:t}=e,r=D_e(e,O_e);return v.createElement(I_e.Provider,{value:r},t)}function g_(e,t){var r,n,a=Ue(h=>qo(h,e)),o=Ue(h=>Uo(h,t)),u=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:gn.allowDataOverflow,c=(n=o==null?void 0:o.allowDataOverflow)!==null&&n!==void 0?n:vn.allowDataOverflow,p=u||c;return{needClip:p,needClipX:u,needClipY:c}}function r2(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=m_(),{needClipX:o,needClipY:u,needClip:c}=g_(t,r);if(!c||!a)return null;var{x:p,y:h,width:f,height:m}=a;return v.createElement("clipPath",{id:"clipPath-".concat(n)},v.createElement("rect",{x:o?p:p-f/2,y:u?h:h-m/2,width:o?f:f*2,height:u?m:m*2}))}var W$=(e,t,r,n)=>Es(e,"xAxis",t,n),K$=(e,t,r,n)=>Ns(e,"xAxis",t,n),G$=(e,t,r,n)=>Es(e,"yAxis",r,n),V$=(e,t,r,n)=>Ns(e,"yAxis",r,n),$_e=oe([Mt,W$,G$,K$,V$],(e,t,r,n,a)=>Yi(e,"xAxis")?ql(t,n,!1):ql(r,a,!1)),B_e=(e,t,r,n,a)=>a;function z_e(e){return e.type==="line"}var F_e=oe([dm,B_e],(e,t)=>e.filter(z_e).find(r=>r.id===t)),q_e=oe([Mt,W$,G$,K$,V$,F_e,$_e,rk],(e,t,r,n,a,o,u,c)=>{var{chartData:p,dataStartIndex:h,dataEndIndex:f}=c;if(!(o==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||u==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:m,data:b}=o,_;if(b!=null&&b.length>0?_=b:_=p==null?void 0:p.slice(h,f+1),_!=null)return k0e({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:m,bandSize:u,displayedData:_})}});function Y$(e){var t=Jc(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:o}=t,u=Number(a),c=Number(o);return(Number.isNaN(u)||u<0)&&(u=r),(Number.isNaN(c)||c<0)&&(c=n),{r:u,strokeWidth:c}}return{r,strokeWidth:n}}var Nw={exports:{}},Ew={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qD;function U_e(){if(qD)return Ew;qD=1;var e=Gd();function t(p,h){return p===h&&(p!==0||1/p===1/h)||p!==p&&h!==h}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=e.useRef,o=e.useEffect,u=e.useMemo,c=e.useDebugValue;return Ew.useSyncExternalStoreWithSelector=function(p,h,f,m,b){var _=a(null);if(_.current===null){var j={hasValue:!1,value:null};_.current=j}else j=_.current;_=u(function(){function y(P){if(!x){if(x=!0,S=P,P=m(P),b!==void 0&&j.hasValue){var A=j.value;if(b(A,P))return T=A}return T=P}if(A=T,r(S,P))return A;var k=m(P);return b!==void 0&&b(A,k)?(S=P,A):(S=P,T=k)}var x=!1,S,T,N=f===void 0?null:f;return[function(){return y(h())},N===null?void 0:function(){return y(N())}]},[h,f,m,b]);var w=n(p,_[0],_[1]);return o(function(){j.hasValue=!0,j.value=w},[w]),c(w),w},Ew}var UD;function H_e(){return UD||(UD=1,Nw.exports=U_e()),Nw.exports}H_e();function W_e(e){e()}function K_e(){let e=null,t=null;return{clear(){e=null,t=null},notify(){W_e(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var HD={notify(){},get:()=>[]};function G_e(e,t){let r,n=HD,a=0,o=!1;function u(w){f();const y=n.subscribe(w);let x=!1;return()=>{x||(x=!0,y(),m())}}function c(){n.notify()}function p(){j.onStateChange&&j.onStateChange()}function h(){return o}function f(){a++,r||(r=e.subscribe(p),n=K_e())}function m(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=HD)}function b(){o||(o=!0,f())}function _(){o&&(o=!1,m())}const j={addNestedSub:u,notifyNestedSubs:c,handleChangeWrapper:p,isSubscribed:h,trySubscribe:b,tryUnsubscribe:_,getListeners:()=>n};return j}var V_e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Y_e=V_e(),Q_e=()=>typeof navigator<"u"&&navigator.product==="ReactNative",X_e=Q_e(),Z_e=()=>Y_e||X_e?v.useLayoutEffect:v.useEffect,J_e=Z_e();function WD(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function e0e(e,t){if(WD(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!WD(e[r[a]],t[r[a]]))return!1;return!0}var Tw=Symbol.for("react-redux-context"),Pw=typeof globalThis<"u"?globalThis:{};function t0e(){if(!v.createContext)return{};const e=Pw[Tw]??(Pw[Tw]=new Map);let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}var r0e=t0e();function n0e(e){const{children:t,context:r,serverState:n,store:a}=e,o=v.useMemo(()=>{const p=G_e(a);return{store:a,subscription:p,getServerState:n?()=>n:void 0}},[a,n]),u=v.useMemo(()=>a.getState(),[a]);J_e(()=>{const{subscription:p}=o;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),u!==a.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[o,u]);const c=r||r0e;return v.createElement(c.Provider,{value:o},t)}var a0e=n0e,i0e=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function s0e(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function ym(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(i0e.has(n)){if(e[n]==null&&t[n]==null)continue;if(!e0e(e[n],t[n]))return!1}else if(!s0e(e[n],t[n]))return!1;return!0}var o0e=["id"],l0e=["type","layout","connectNulls","needClip","shape"],c0e=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Mh(){return Mh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mh.apply(null,arguments)}function KD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KD(Object(r),!0).forEach(function(n){u0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u0e(e,t,r){return(t=d0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d0e(e){var t=f0e(e,"string");return typeof t=="symbol"?t:t+""}function f0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n2(e,t){if(e==null)return{};var r,n,a=p0e(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function p0e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var h0e=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:o}=e;return[{inactive:o,dataKey:t,type:a,color:n,value:Vl(r,t),payload:e}]},m0e=v.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:o,name:u,hide:c,unit:p,tooltipType:h,id:f}=e,m={dataDefinedOnItem:r,getPosition:Gl,settings:{stroke:n,strokeWidth:a,fill:o,dataKey:t,nameKey:void 0,name:Vl(u,t),hide:c,type:h,color:n,unit:p,graphicalItemId:f}};return v.createElement(f_,{tooltipEntrySettings:m})}),Q$=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function g0e(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var v0e=(e,t,r)=>{var n=r.reduce((_,j)=>_+j);if(!n)return Q$(t,e);for(var a=Math.floor(e/n),o=e%n,u=t-e,c=[],p=0,h=0;p<r.length;h+=(f=r[p])!==null&&f!==void 0?f:0,++p){var f,m=r[p];if(m!=null&&h+m>o){c=[...r.slice(0,p),o-h];break}}var b=c.length%2===0?[0,u]:[u];return[...g0e(r,a),...c,...b].map(_=>"".concat(_,"px")).join(", ")};function y0e(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:o,needClip:u}=n,{id:c}=n,p=n2(n,o0e),h=ra(p);return v.createElement(M$,{points:r,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:o,baseProps:h,needClip:u,clipPathId:t})}function b0e(e){var{showLabels:t,children:r,points:n}=e,a=v.useMemo(()=>n==null?void 0:n.map(o=>{var u,c,p={x:(u=o.x)!==null&&u!==void 0?u:0,y:(c=o.y)!==null&&c!==void 0?c:0,width:0,lowerWidth:0,upperWidth:0,height:0};return vs(vs({},p),{},{value:o.value,payload:o.payload,viewBox:p,parentViewBox:void 0,fill:void 0})}),[n]);return v.createElement(Uk,{value:t?a:void 0},r)}function GD(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:o}=e,{type:u,layout:c,connectNulls:p,needClip:h,shape:f}=o,m=n2(o,l0e),b=vs(vs({},Un(m)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(t,")"):void 0,points:n,type:u,layout:c,connectNulls:p,strokeDasharray:a??o.strokeDasharray});return v.createElement(v.Fragment,null,(n==null?void 0:n.length)>1&&v.createElement(Vk,Mh({shapeType:"curve",option:f},b,{pathRef:r})),v.createElement(y0e,{points:n,clipPathId:t,props:o}))}function _0e(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function x0e(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:o}=e,{points:u,strokeDasharray:c,isAnimationActive:p,animationBegin:h,animationDuration:f,animationEasing:m,animateNewValues:b,width:_,height:j,onAnimationEnd:w,onAnimationStart:y}=r,x=a.current,S=af(u,"recharts-line-"),T=v.useRef(S),[N,P]=v.useState(!1),A=!N,k=v.useCallback(()=>{typeof w=="function"&&w(),P(!1)},[w]),R=v.useCallback(()=>{typeof y=="function"&&y(),P(!0)},[y]),D=_0e(n.current),I=v.useRef(0);T.current!==S&&(I.current=o.current,T.current=S);var q=I.current;return v.createElement(b0e,{points:u,showLabels:A},r.children,v.createElement(nf,{animationId:S,begin:h,duration:f,isActive:p,easing:m,onAnimationEnd:k,onAnimationStart:R,key:S},z=>{var M=Yt(q,D+q,z),F=Math.min(M,D),B;if(p)if(c){var O="".concat(c).split(/[,\s]+/gim).map(Y=>parseFloat(Y));B=v0e(F,D,O)}else B=Q$(D,F);else B=c==null?void 0:String(c);if(z>0&&D>0&&(a.current=u,o.current=Math.max(o.current,F)),x){var $=x.length/u.length,K=z===1?u:u.map((Y,Z)=>{var H=Math.floor(Z*$);if(x[H]){var X=x[H];return vs(vs({},Y),{},{x:Yt(X.x,Y.x,z),y:Yt(X.y,Y.y,z)})}return b?vs(vs({},Y),{},{x:Yt(_*2,Y.x,z),y:Yt(j/2,Y.y,z)}):vs(vs({},Y),{},{x:Y.x,y:Y.y})});return a.current=K,v.createElement(GD,{props:r,points:K,clipPathId:t,pathRef:n,strokeDasharray:B})}return v.createElement(GD,{props:r,points:u,clipPathId:t,pathRef:n,strokeDasharray:B})}),v.createElement(c_,{label:r.label}))}function w0e(e){var{clipPathId:t,props:r}=e,n=v.useRef(null),a=v.useRef(0),o=v.useRef(null);return v.createElement(x0e,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:o})}var S0e=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:Qt(e.payload,t)}};class j0e extends v.Component{render(){var{hide:t,dot:r,points:n,className:a,xAxisId:o,yAxisId:u,top:c,left:p,width:h,height:f,id:m,needClip:b,zIndex:_}=this.props;if(t)return null;var j=$t("recharts-line",a),w=m,{r:y,strokeWidth:x}=Y$(r),S=Gk(r),T=y*2+x,N=b?"url(#clipPath-".concat(S?"":"dots-").concat(w,")"):void 0;return v.createElement(aa,{zIndex:_},v.createElement(Ir,{className:j},b&&v.createElement("defs",null,v.createElement(r2,{clipPathId:w,xAxisId:o,yAxisId:u}),!S&&v.createElement("clipPath",{id:"clipPath-dots-".concat(w)},v.createElement("rect",{x:p-T/2,y:c-T/2,width:h+T,height:f+T}))),v.createElement(H$,{xAxisId:o,yAxisId:u,data:n,dataPointFormatter:S0e,errorBarOffset:0},v.createElement(w0e,{props:this.props,clipPathId:w}))),v.createElement(pj,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:N}))}}var X$={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Ur.line,type:"linear"};function C0e(e){var t=$r(e,X$),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:o,animationEasing:u,connectNulls:c,dot:p,hide:h,isAnimationActive:f,label:m,legendType:b,xAxisId:_,yAxisId:j,id:w}=t,y=n2(t,c0e),{needClip:x}=g_(_,j),S=m_(),T=Yl(),N=xn(),P=Ue(I=>q_e(I,_,j,N,w));if(T!=="horizontal"&&T!=="vertical"||P==null||S==null)return null;var{height:A,width:k,x:R,y:D}=S;return v.createElement(j0e,Mh({},y,{id:w,connectNulls:c,dot:p,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:o,animationEasing:u,isAnimationActive:f,hide:h,label:m,legendType:b,xAxisId:_,yAxisId:j,points:P,layout:T,height:A,width:k,left:R,top:D,needClip:x}))}function k0e(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:o,dataKey:u,bandSize:c,displayedData:p}=e;return p.map((h,f)=>{var m=Qt(h,u);if(t==="horizontal"){var b=_y({axis:r,ticks:a,bandSize:c,entry:h,index:f}),_=Nr(m)?null:n.scale.map(m);return{x:b,y:_??null,value:m,payload:h}}var j=Nr(m)?null:r.scale.map(m),w=_y({axis:n,ticks:o,bandSize:c,entry:h,index:f});return j==null||w==null?null:{x:j,y:w,value:m,payload:h}}).filter(Boolean)}function N0e(e){var t=$r(e,X$),r=xn();return v.createElement(p_,{id:t.id,type:"line"},n=>v.createElement(v.Fragment,null,v.createElement(Zk,{legendPayload:h0e(t)}),v.createElement(m0e,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),v.createElement(Jk,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),v.createElement(C0e,Mh({},t,{id:n}))))}var sh=v.memo(N0e,ym);sh.displayName="Line";function Rs(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:L$}function Os(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:L$}var Z$=(e,t,r)=>Es(e,"xAxis",Rs(e,t),r),J$=(e,t,r)=>Ns(e,"xAxis",Rs(e,t),r),e7=(e,t,r)=>Es(e,"yAxis",Os(e,t),r),t7=(e,t,r)=>Ns(e,"yAxis",Os(e,t),r),E0e=oe([Mt,Z$,e7,J$,t7],(e,t,r,n,a)=>Yi(e,"xAxis")?ql(t,n,!1):ql(r,a,!1)),T0e=(e,t)=>t,r7=oe([dm,T0e],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),n7=e=>{var t=Mt(e),r=Yi(t,"xAxis");return r?"yAxis":"xAxis"},P0e=(e,t)=>{var r=n7(e);return r==="yAxis"?Os(e,t):Rs(e,t)},A0e=(e,t,r)=>Uy(e,n7(e),P0e(e,t),r),R0e=oe([r7,A0e],(e,t)=>{var r;if(!(e==null||t==null)){var{stackId:n}=e,a=Zb(e);if(!(n==null||a==null)){var o=(r=t[n])===null||r===void 0?void 0:r.stackedData,u=o==null?void 0:o.find(c=>c.key===a);if(u!=null)return u.map(c=>[c[0],c[1]])}}}),O0e=oe([Mt,Z$,e7,J$,t7,R0e,W8,E0e,r7,spe],(e,t,r,n,a,o,u,c,p,h)=>{var{chartData:f,dataStartIndex:m,dataEndIndex:b}=u;if(!(p==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||a==null||n.length===0||a.length===0||c==null)){var{data:_}=p,j;if(_&&_.length>0?j=_:j=f==null?void 0:f.slice(m,b+1),j!=null)return Z0e({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataStartIndex:m,areaSettings:p,stackedData:o,displayedData:j,chartBaseValue:h,bandSize:c})}}),D0e=["id"],M0e=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Vc(){return Vc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vc.apply(null,arguments)}function a7(e,t){if(e==null)return{};var r,n,a=L0e(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function L0e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function VD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _d(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VD(Object(r),!0).forEach(function(n){I0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I0e(e,t,r){return(t=$0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $0e(e){var t=B0e(e,"string");return typeof t=="symbol"?t:t+""}function B0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xy(e,t){return e&&e!=="none"?e:t}var z0e=e=>{var{dataKey:t,name:r,stroke:n,fill:a,legendType:o,hide:u}=e;return[{inactive:u,dataKey:t,type:o,color:Xy(n,a),value:Vl(r,t),payload:e}]},F0e=v.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:o,name:u,hide:c,unit:p,tooltipType:h,id:f}=e,m={dataDefinedOnItem:r,getPosition:Gl,settings:{stroke:n,strokeWidth:a,fill:o,dataKey:t,nameKey:void 0,name:Vl(u,t),hide:c,type:h,color:Xy(n,o),unit:p,graphicalItemId:f}};return v.createElement(f_,{tooltipEntrySettings:m})});function q0e(e){var{clipPathId:t,points:r,props:n}=e,{needClip:a,dot:o,dataKey:u}=n,c=ra(n);return v.createElement(M$,{points:r,dot:o,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:u,baseProps:c,needClip:a,clipPathId:t})}function U0e(e){var{showLabels:t,children:r,points:n}=e,a=n.map(o=>{var u,c,p={x:(u=o.x)!==null&&u!==void 0?u:0,y:(c=o.y)!==null&&c!==void 0?c:0,width:0,lowerWidth:0,upperWidth:0,height:0};return _d(_d({},p),{},{value:o.value,payload:o.payload,parentViewBox:void 0,viewBox:p,fill:void 0})});return v.createElement(Uk,{value:t?a:void 0},r)}function YD(e){var{points:t,baseLine:r,needClip:n,clipPathId:a,props:o}=e,{layout:u,type:c,stroke:p,connectNulls:h,isRange:f}=o,{id:m}=o,b=a7(o,D0e),_=ra(b),j=Un(b);return v.createElement(v.Fragment,null,(t==null?void 0:t.length)>1&&v.createElement(Ir,{clipPath:n?"url(#clipPath-".concat(a,")"):void 0},v.createElement(Sd,Vc({},j,{id:m,points:t,connectNulls:h,type:c,baseLine:r,layout:u,stroke:"none",className:"recharts-area-area"})),p!=="none"&&v.createElement(Sd,Vc({},_,{className:"recharts-area-curve",layout:u,type:c,connectNulls:h,fill:"none",points:t})),p!=="none"&&f&&v.createElement(Sd,Vc({},_,{className:"recharts-area-curve",layout:u,type:c,connectNulls:h,fill:"none",points:r}))),v.createElement(q0e,{points:t,props:b,clipPathId:a}))}function H0e(e){var t,r,{alpha:n,baseLine:a,points:o,strokeWidth:u}=e,c=(t=o[0])===null||t===void 0?void 0:t.y,p=(r=o[o.length-1])===null||r===void 0?void 0:r.y;if(!_t(c)||!_t(p))return null;var h=n*Math.abs(c-p),f=Math.max(...o.map(m=>m.x||0));return $e(a)?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(...a.map(m=>m.x||0),f)),$e(f)?v.createElement("rect",{x:0,y:c<p?c:c-h,width:f+(u?parseInt("".concat(u),10):1),height:Math.floor(h)}):null}function W0e(e){var t,r,{alpha:n,baseLine:a,points:o,strokeWidth:u}=e,c=(t=o[0])===null||t===void 0?void 0:t.x,p=(r=o[o.length-1])===null||r===void 0?void 0:r.x;if(!_t(c)||!_t(p))return null;var h=n*Math.abs(c-p),f=Math.max(...o.map(m=>m.y||0));return $e(a)?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(...a.map(m=>m.y||0),f)),$e(f)?v.createElement("rect",{x:c<p?c:c-h,y:0,width:h,height:Math.floor(f+(u?parseInt("".concat(u),10):1))}):null}function K0e(e){var{alpha:t,layout:r,points:n,baseLine:a,strokeWidth:o}=e;return r==="vertical"?v.createElement(H0e,{alpha:t,points:n,baseLine:a,strokeWidth:o}):v.createElement(W0e,{alpha:t,points:n,baseLine:a,strokeWidth:o})}function G0e(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:o}=e,{points:u,baseLine:c,isAnimationActive:p,animationBegin:h,animationDuration:f,animationEasing:m,onAnimationStart:b,onAnimationEnd:_}=n,j=v.useMemo(()=>({points:u,baseLine:c}),[u,c]),w=af(j,"recharts-area-"),y=PC(),[x,S]=v.useState(!1),T=!x,N=v.useCallback(()=>{typeof _=="function"&&_(),S(!1)},[_]),P=v.useCallback(()=>{typeof b=="function"&&b(),S(!0)},[b]);if(y==null)return null;var A=a.current,k=o.current;return v.createElement(U0e,{showLabels:T,points:u},n.children,v.createElement(nf,{animationId:w,begin:h,duration:f,isActive:p,easing:m,onAnimationEnd:N,onAnimationStart:P,key:w},R=>{if(A){var D=A.length/u.length,I=R===1?u:u.map((z,M)=>{var F=Math.floor(M*D);if(A[F]){var B=A[F];return _d(_d({},z),{},{x:Yt(B.x,z.x,R),y:Yt(B.y,z.y,R)})}return z}),q;return $e(c)?q=Yt(k,c,R):Nr(c)||Wi(c)?q=Yt(k,0,R):q=c.map((z,M)=>{var F=Math.floor(M*D);if(Array.isArray(k)&&k[F]){var B=k[F];return _d(_d({},z),{},{x:Yt(B.x,z.x,R),y:Yt(B.y,z.y,R)})}return z}),R>0&&(a.current=I,o.current=q),v.createElement(YD,{points:I,baseLine:q,needClip:t,clipPathId:r,props:n})}return R>0&&(a.current=u,o.current=c),v.createElement(Ir,null,p&&v.createElement("defs",null,v.createElement("clipPath",{id:"animationClipPath-".concat(r)},v.createElement(K0e,{alpha:R,points:u,baseLine:c,layout:y,strokeWidth:n.strokeWidth}))),v.createElement(Ir,{clipPath:"url(#animationClipPath-".concat(r,")")},v.createElement(YD,{points:u,baseLine:c,needClip:t,clipPathId:r,props:n})))}),v.createElement(c_,{label:n.label}))}function V0e(e){var{needClip:t,clipPathId:r,props:n}=e,a=v.useRef(null),o=v.useRef();return v.createElement(G0e,{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:o})}class Y0e extends v.PureComponent{render(){var{hide:t,dot:r,points:n,className:a,top:o,left:u,needClip:c,xAxisId:p,yAxisId:h,width:f,height:m,id:b,baseLine:_,zIndex:j}=this.props;if(t)return null;var w=$t("recharts-area",a),y=b,{r:x,strokeWidth:S}=Y$(r),T=Gk(r),N=x*2+S,P=c?"url(#clipPath-".concat(T?"":"dots-").concat(y,")"):void 0;return v.createElement(aa,{zIndex:j},v.createElement(Ir,{className:w},c&&v.createElement("defs",null,v.createElement(r2,{clipPathId:y,xAxisId:p,yAxisId:h}),!T&&v.createElement("clipPath",{id:"clipPath-dots-".concat(y)},v.createElement("rect",{x:u-N/2,y:o-N/2,width:f+N,height:m+N}))),v.createElement(V0e,{needClip:c,clipPathId:y,props:this.props})),v.createElement(pj,{points:n,mainColor:Xy(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:P}),this.props.isRange&&Array.isArray(_)&&v.createElement(pj,{points:_,mainColor:Xy(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:P}))}}var i7={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Ur.area};function Q0e(e){var t,r=$r(e,i7),{activeDot:n,animationBegin:a,animationDuration:o,animationEasing:u,connectNulls:c,dot:p,fill:h,fillOpacity:f,hide:m,isAnimationActive:b,legendType:_,stroke:j,xAxisId:w,yAxisId:y}=r,x=a7(r,M0e),S=Yl(),T=s$(),{needClip:N}=g_(w,y),P=xn(),{points:A,isRange:k,baseLine:R}=(t=Ue(F=>O0e(F,e.id,P)))!==null&&t!==void 0?t:{},D=m_();if(S!=="horizontal"&&S!=="vertical"||D==null||T!=="AreaChart"&&T!=="ComposedChart")return null;var{height:I,width:q,x:z,y:M}=D;return!A||!A.length?null:v.createElement(Y0e,Vc({},x,{activeDot:n,animationBegin:a,animationDuration:o,animationEasing:u,baseLine:R,connectNulls:c,dot:p,fill:h,fillOpacity:f,height:I,hide:m,layout:S,isAnimationActive:b==="auto"?!am.isSsr:b,isRange:k,legendType:_,needClip:N,points:A,stroke:j,width:q,left:z,top:M,xAxisId:w,yAxisId:y}))}var X0e=(e,t,r,n,a)=>{var o=r??t;if($e(o))return o;var u=e==="horizontal"?a:n,c=u.scale.domain();if(u.type==="number"){var p=Math.max(c[0],c[1]),h=Math.min(c[0],c[1]);return o==="dataMin"?h:o==="dataMax"||p<0?p:Math.max(Math.min(c[0],c[1]),0)}return o==="dataMin"?c[0]:o==="dataMax"?c[1]:c[0]};function Z0e(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:a,layout:o,chartBaseValue:u,xAxis:c,yAxis:p,displayedData:h,dataStartIndex:f,xAxisTicks:m,yAxisTicks:b,bandSize:_}=e,j=a&&a.length,w=X0e(o,u,r,c,p),y=o==="horizontal",x=!1,S=h.map((N,P)=>{var A,k,R,D;if(j)D=a[f+P];else{var I=Qt(N,n);Array.isArray(I)?(D=I,x=!0):D=[w,I]}var q=(A=(k=D)===null||k===void 0?void 0:k[1])!==null&&A!==void 0?A:null,z=q==null||j&&!t&&Qt(N,n)==null;if(y){var M;return{x:_y({axis:c,ticks:m,bandSize:_,entry:N,index:P}),y:z?null:(M=p.scale.map(q))!==null&&M!==void 0?M:null,value:D,payload:N}}return{x:z?null:(R=c.scale.map(q))!==null&&R!==void 0?R:null,y:_y({axis:p,ticks:b,bandSize:_,entry:N,index:P}),value:D,payload:N}}),T;return j||x?T=S.map(N=>{var P,A=Array.isArray(N.value)?N.value[0]:null;if(y){var k;return{x:N.x,y:A!=null&&N.y!=null&&(k=p.scale.map(A))!==null&&k!==void 0?k:null,payload:N.payload}}return{x:A!=null&&(P=c.scale.map(A))!==null&&P!==void 0?P:null,y:N.y,payload:N.payload}}):T=y?p.scale.map(w):c.scale.map(w),{points:S,baseLine:T??0,isRange:x}}function J0e(e){var t=$r(e,i7),r=xn();return v.createElement(p_,{id:t.id,type:"area"},n=>v.createElement(v.Fragment,null,v.createElement(Zk,{legendPayload:z0e(t)}),v.createElement(F0e,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),v.createElement(Jk,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:L5(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),v.createElement(Q0e,Vc({},t,{id:n}))))}var oh=v.memo(J0e,ym);oh.displayName="Area";var e1e="Invariant failed";function t1e(e,t){throw new Error(e1e)}function hj(){return hj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hj.apply(null,arguments)}function Zy(e){return v.createElement(Vk,hj({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var r1e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if($e(t))return t;var o=$e(n)||Nr(n);return o?t(n,a):(o||t1e(),r)}},n1e=(e,t,r)=>r,a1e=(e,t)=>t,bm=oe([dm,a1e],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),i1e=oe([bm],e=>e==null?void 0:e.maxBarSize),s1e=(e,t,r,n)=>n,o1e=oe([Mt,dm,Rs,Os,n1e],(e,t,r,n,a)=>t.filter(o=>e==="horizontal"?o.xAxisId===r:o.yAxisId===n).filter(o=>o.isPanorama===a).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),l1e=(e,t,r)=>{var n=Mt(e),a=Rs(e,t),o=Os(e,t);if(!(a==null||o==null))return n==="horizontal"?Uy(e,"yAxis",o,r):Uy(e,"xAxis",a,r)},c1e=(e,t)=>{var r=Mt(e),n=Rs(e,t),a=Os(e,t);if(!(n==null||a==null))return r==="horizontal"?P3(e,"xAxis",n):P3(e,"yAxis",a)},u1e=oe([o1e,ipe,c1e],Tbe),d1e=(e,t,r)=>{var n,a,o=bm(e,t);if(o==null)return 0;var u=Rs(e,t),c=Os(e,t);if(u==null||c==null)return 0;var p=Mt(e),h=nI(e),{maxBarSize:f}=o,m=Nr(f)?h:f,b,_;return p==="horizontal"?(b=Es(e,"xAxis",u,r),_=Ns(e,"xAxis",u,r)):(b=Es(e,"yAxis",c,r),_=Ns(e,"yAxis",c,r)),(n=(a=ql(b,_,!0))!==null&&a!==void 0?a:m)!==null&&n!==void 0?n:0},s7=(e,t,r)=>{var n=Mt(e),a=Rs(e,t),o=Os(e,t);if(!(a==null||o==null)){var u,c;return n==="horizontal"?(u=Es(e,"xAxis",a,r),c=Ns(e,"xAxis",a,r)):(u=Es(e,"yAxis",o,r),c=Ns(e,"yAxis",o,r)),ql(u,c)}},f1e=oe([u1e,nI,ape,aI,d1e,s7,i1e],Dbe),p1e=(e,t,r)=>{var n=Rs(e,t);if(n!=null)return Es(e,"xAxis",n,r)},h1e=(e,t,r)=>{var n=Os(e,t);if(n!=null)return Es(e,"yAxis",n,r)},m1e=(e,t,r)=>{var n=Rs(e,t);if(n!=null)return Ns(e,"xAxis",n,r)},g1e=(e,t,r)=>{var n=Os(e,t);if(n!=null)return Ns(e,"yAxis",n,r)},v1e=oe([f1e,bm],Lbe),y1e=oe([l1e,bm],Mbe),b1e=oe([sn,CC,p1e,h1e,m1e,g1e,v1e,Mt,W8,s7,y1e,bm,s1e],(e,t,r,n,a,o,u,c,p,h,f,m,b)=>{var{chartData:_,dataStartIndex:j,dataEndIndex:w}=p;if(!(m==null||u==null||t==null||c!=="horizontal"&&c!=="vertical"||r==null||n==null||a==null||o==null||h==null)){var{data:y}=m,x;if(y!=null&&y.length>0?x=y:x=_==null?void 0:_.slice(j,w+1),x!=null)return G1e({layout:c,barSettings:m,pos:u,parentViewBox:t,bandSize:h,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:o,stackedData:f,displayedData:x,offset:e,cells:b,dataStartIndex:j})}}),_1e=["index"];function mj(){return mj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mj.apply(null,arguments)}function x1e(e,t){if(e==null)return{};var r,n,a=w1e(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function w1e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var o7=v.createContext(void 0),S1e=e=>{var t=v.useContext(o7);if(t!=null)return t.stackId;if(e!=null)return L5(e)},j1e=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),C1e=e=>{var t=v.useContext(o7);if(t!=null){var{stackId:r}=t;return"url(#".concat(j1e(r,e),")")}},l7=e=>{var{index:t}=e,r=x1e(e,_1e),n=C1e(t);return v.createElement(Ir,mj({className:"recharts-bar-stack-layer",clipPath:n},r))},k1e=["onMouseEnter","onMouseLeave","onClick"],N1e=["value","background","tooltipPosition"],E1e=["id"],T1e=["onMouseEnter","onClick","onMouseLeave"];function Lo(){return Lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lo.apply(null,arguments)}function QD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QD(Object(r),!0).forEach(function(n){P1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P1e(e,t,r){return(t=A1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A1e(e){var t=R1e(e,"string");return typeof t=="symbol"?t:t+""}function R1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jy(e,t){if(e==null)return{};var r,n,a=O1e(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function O1e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var D1e=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:o}=e;return[{inactive:o,dataKey:t,type:a,color:n,value:Vl(r,t),payload:e}]},M1e=v.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:o,hide:u,unit:c,tooltipType:p,id:h}=e,f={dataDefinedOnItem:void 0,getPosition:Gl,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:Vl(o,t),hide:u,type:p,color:a,unit:c,graphicalItemId:h}};return v.createElement(f_,{tooltipEntrySettings:f})});function L1e(e){var t=Ue(Ul),{data:r,dataKey:n,background:a,allOtherBarProps:o}=e,{onMouseEnter:u,onMouseLeave:c,onClick:p}=o,h=Jy(o,k1e),f=Yk(u,n,o.id),m=Qk(c),b=Xk(p,n,o.id);if(!a||r==null)return null;var _=Jc(a);return v.createElement(aa,{zIndex:Ibe(a,Ur.barBackground)},r.map((j,w)=>{var{value:y,background:x,tooltipPosition:S}=j,T=Jy(j,N1e);if(!x)return null;var N=f(j,w),P=m(j,w),A=b(j,w),k=Jn(Jn(Jn(Jn(Jn({option:a,isActive:String(w)===t},T),{},{fill:"#eee"},x),_),Zh(h,j,w)),{},{onMouseEnter:N,onMouseLeave:P,onClick:A,dataKey:n,index:w,className:"recharts-bar-background-rectangle"});return v.createElement(Zy,Lo({key:"background-bar-".concat(w)},k))}))}function I1e(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(o=>{var u={x:o.x,y:o.y,width:o.width,lowerWidth:o.width,upperWidth:o.width,height:o.height};return Jn(Jn({},u),{},{value:o.value,payload:o.payload,parentViewBox:o.parentViewBox,viewBox:u,fill:o.fill})});return v.createElement(Uk,{value:t?a:void 0},r)}function $1e(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:o,dataKey:u}=e,c=Ue(Ul),p=Ue(Ik),h=r&&String(o)===c&&(p==null||u===p),f=h?r:t;return h?v.createElement(aa,{zIndex:Ur.activeBar},v.createElement(l7,{index:o},v.createElement(Zy,Lo({},n,{name:String(n.name)},a,{isActive:h,option:f,index:o,dataKey:u})))):v.createElement(Zy,Lo({},n,{name:String(n.name)},a,{isActive:h,option:f,index:o,dataKey:u}))}function B1e(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:o}=e;return v.createElement(Zy,Lo({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:o}))}function z1e(e){var t,{data:r,props:n}=e,a=(t=ra(n))!==null&&t!==void 0?t:{},{id:o}=a,u=Jy(a,E1e),{shape:c,dataKey:p,activeBar:h}=n,{onMouseEnter:f,onClick:m,onMouseLeave:b}=n,_=Jy(n,T1e),j=Yk(f,p,o),w=Qk(b),y=Xk(m,p,o);return r?v.createElement(v.Fragment,null,r.map((x,S)=>v.createElement(l7,Lo({index:S,key:"rectangle-".concat(x==null?void 0:x.x,"-").concat(x==null?void 0:x.y,"-").concat(x==null?void 0:x.value,"-").concat(S),className:"recharts-bar-rectangle"},Zh(_,x,S),{onMouseEnter:j(x,S),onMouseLeave:w(x,S),onClick:y(x,S)}),h?v.createElement($1e,{shape:c,activeBar:h,baseProps:u,entry:x,index:S,dataKey:p}):v.createElement(B1e,{shape:c,baseProps:u,entry:x,index:S,dataKey:p})))):null}function F1e(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:o,animationBegin:u,animationDuration:c,animationEasing:p,onAnimationEnd:h,onAnimationStart:f}=t,m=r.current,b=af(t,"recharts-bar-"),[_,j]=v.useState(!1),w=!_,y=v.useCallback(()=>{typeof h=="function"&&h(),j(!1)},[h]),x=v.useCallback(()=>{typeof f=="function"&&f(),j(!0)},[f]);return v.createElement(I1e,{showLabels:w,rects:n},v.createElement(nf,{animationId:b,begin:u,duration:c,isActive:o,easing:p,onAnimationEnd:y,onAnimationStart:x,key:b},S=>{var T=S===1?n:n==null?void 0:n.map((N,P)=>{var A=m&&m[P];if(A)return Jn(Jn({},N),{},{x:Yt(A.x,N.x,S),y:Yt(A.y,N.y,S),width:Yt(A.width,N.width,S),height:Yt(A.height,N.height,S)});if(a==="horizontal"){var k=Yt(0,N.height,S),R=Yt(N.stackedBarStart,N.y,S);return Jn(Jn({},N),{},{y:R,height:k})}var D=Yt(0,N.width,S),I=Yt(N.stackedBarStart,N.x,S);return Jn(Jn({},N),{},{width:D,x:I})});return S>0&&(r.current=T??null),T==null?null:v.createElement(Ir,null,v.createElement(z1e,{props:t,data:T}))}),v.createElement(c_,{label:t.label}),t.children)}function q1e(e){var t=v.useRef(null);return v.createElement(F1e,{previousRectanglesRef:t,props:e})}var c7=0,U1e=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Qt(e,t)}};class H1e extends v.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:o,yAxisId:u,needClip:c,background:p,id:h}=this.props;if(t||r==null)return null;var f=$t("recharts-bar",a),m=h;return v.createElement(Ir,{className:f,id:h},c&&v.createElement("defs",null,v.createElement(r2,{clipPathId:m,xAxisId:o,yAxisId:u})),v.createElement(Ir,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(m,")"):void 0},v.createElement(L1e,{data:r,dataKey:n,background:p,allOtherBarProps:this.props}),v.createElement(q1e,this.props)))}}var W1e={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:c7,xAxisId:0,yAxisId:0,zIndex:Ur.bar};function K1e(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:o,activeBar:u,animationBegin:c,animationDuration:p,animationEasing:h,isAnimationActive:f}=e,{needClip:m}=g_(t,r),b=Yl(),_=xn(),j=Kk(e.children,vm),w=Ue(S=>b1e(S,e.id,_,j));if(b!=="vertical"&&b!=="horizontal")return null;var y,x=w==null?void 0:w[0];return x==null||x.height==null||x.width==null?y=0:y=b==="vertical"?x.height/2:x.width/2,v.createElement(H$,{xAxisId:t,yAxisId:r,data:w,dataPointFormatter:U1e,errorBarOffset:y},v.createElement(H1e,Lo({},e,{layout:b,needClip:m,data:w,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:o,activeBar:u,animationBegin:c,animationDuration:p,animationEasing:h,isAnimationActive:f})))}function G1e(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:o,xAxis:u,yAxis:c,xAxisTicks:p,yAxisTicks:h,stackedData:f,displayedData:m,offset:b,cells:_,parentViewBox:j,dataStartIndex:w}=e,y=t==="horizontal"?c:u,x=f?y.scale.domain():null,S=Koe({numericAxis:y}),T=y.scale.map(S);return m.map((N,P)=>{var A,k,R,D,I,q;if(f){var z=f[P+w];if(z==null)return null;A=Foe(z,x)}else A=Qt(N,r),Array.isArray(A)||(A=[S,A]);var M=r1e(n,c7)(A[1],P);if(t==="horizontal"){var F,B=c.scale.map(A[0]),O=c.scale.map(A[1]);if(B==null||O==null)return null;k=TR({axis:u,ticks:p,bandSize:o,offset:a.offset,entry:N,index:P}),R=(F=O??B)!==null&&F!==void 0?F:void 0,D=a.size;var $=B-O;if(I=Wi($)?0:$,q={x:k,y:b.top,width:D,height:b.height},Math.abs(M)>0&&Math.abs(I)<Math.abs(M)){var K=_n(I||M)*(Math.abs(M)-Math.abs(I));R-=K,I+=K}}else{var Y=u.scale.map(A[0]),Z=u.scale.map(A[1]);if(Y==null||Z==null)return null;if(k=Y,R=TR({axis:c,ticks:h,bandSize:o,offset:a.offset,entry:N,index:P}),D=Z-Y,I=a.size,q={x:b.left,y:R,width:b.width,height:I},Math.abs(M)>0&&Math.abs(D)<Math.abs(M)){var H=_n(D||M)*(Math.abs(M)-Math.abs(D));D+=H}}if(k==null||R==null||D==null||I==null)return null;var X=Jn(Jn({},N),{},{stackedBarStart:T,x:k,y:R,width:D,height:I,value:f?A:A[1],payload:N,background:q,tooltipPosition:{x:k+D/2,y:R+I/2},parentViewBox:j},_&&_[P]&&_[P].props);return X}).filter(Boolean)}function V1e(e){var t=$r(e,W1e),r=S1e(t.stackId),n=xn();return v.createElement(p_,{id:t.id,type:"bar"},a=>v.createElement(v.Fragment,null,v.createElement(Zk,{legendPayload:D1e(t)}),v.createElement(M1e,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),v.createElement(Jk,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),v.createElement(aa,{zIndex:t.zIndex},v.createElement(K1e,Lo({},t,{id:a})))))}var ds=v.memo(V1e,ym);ds.displayName="Bar";var Y1e=["domain","range"],Q1e=["domain","range"];function XD(e,t){if(e==null)return{};var r,n,a=X1e(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function X1e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ZD(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function u7(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=XD(e,Y1e),{domain:o,range:u}=t,c=XD(t,Q1e);return!ZD(r,o)||!ZD(n,u)?!1:ym(a,c)}var Z1e=["type"],J1e=["dangerouslySetInnerHTML","ticks","scale"],exe=["id","scale"];function gj(){return gj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gj.apply(null,arguments)}function JD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function e4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JD(Object(r),!0).forEach(function(n){txe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function txe(e,t,r){return(t=rxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rxe(e){var t=nxe(e,"string");return typeof t=="symbol"?t:t+""}function nxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vj(e,t){if(e==null)return{};var r,n,a=axe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function axe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ixe(e){var t=gr(),r=v.useRef(null),n=PC(),{type:a}=e,o=vj(e,Z1e),u=Qb(n,"xAxis",a),c=v.useMemo(()=>{if(u!=null)return e4(e4({},o),{},{type:u})},[o,u]);return v.useLayoutEffect(()=>{c!=null&&(r.current===null?t(hbe(c)):r.current!==c&&t(mbe({prev:r.current,next:c})),r.current=c)},[c,t]),v.useLayoutEffect(()=>()=>{r.current&&(t(gbe(r.current)),r.current=null)},[t]),null}var sxe=e=>{var{xAxisId:t,className:r}=e,n=Ue(CC),a=xn(),o="xAxis",u=Ue(x=>II(x,o,t,a)),c=Ue(x=>OI(x,t)),p=Ue(x=>she(x,t)),h=Ue(x=>hI(x,t));if(c==null||p==null||h==null)return null;var{dangerouslySetInnerHTML:f,ticks:m,scale:b}=e,_=vj(e,J1e),{id:j,scale:w}=h,y=vj(h,exe);return v.createElement(t2,gj({},_,y,{x:p.x,y:p.y,width:c.width,height:c.height,className:$t("recharts-".concat(o," ").concat(o),r),viewBox:n,ticks:u,axisType:o}))},oxe={allowDataOverflow:gn.allowDataOverflow,allowDecimals:gn.allowDecimals,allowDuplicatedCategory:gn.allowDuplicatedCategory,angle:gn.angle,axisLine:No.axisLine,height:gn.height,hide:!1,includeHidden:gn.includeHidden,interval:gn.interval,label:!1,minTickGap:gn.minTickGap,mirror:gn.mirror,orientation:gn.orientation,padding:gn.padding,reversed:gn.reversed,scale:gn.scale,tick:gn.tick,tickCount:gn.tickCount,tickLine:No.tickLine,tickSize:No.tickSize,type:gn.type,xAxisId:0},lxe=e=>{var t=$r(e,oxe);return v.createElement(v.Fragment,null,v.createElement(ixe,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),v.createElement(sxe,t))},fs=v.memo(lxe,u7);fs.displayName="XAxis";var cxe=["type"],uxe=["dangerouslySetInnerHTML","ticks","scale"],dxe=["id","scale"];function yj(){return yj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yj.apply(null,arguments)}function t4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function r4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t4(Object(r),!0).forEach(function(n){fxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fxe(e,t,r){return(t=pxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pxe(e){var t=hxe(e,"string");return typeof t=="symbol"?t:t+""}function hxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bj(e,t){if(e==null)return{};var r,n,a=mxe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function mxe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function gxe(e){var t=gr(),r=v.useRef(null),n=PC(),{type:a}=e,o=bj(e,cxe),u=Qb(n,"yAxis",a),c=v.useMemo(()=>{if(u!=null)return r4(r4({},o),{},{type:u})},[u,o]);return v.useLayoutEffect(()=>{c!=null&&(r.current===null?t(vbe(c)):r.current!==c&&t(ybe({prev:r.current,next:c})),r.current=c)},[c,t]),v.useLayoutEffect(()=>()=>{r.current&&(t(bbe(r.current)),r.current=null)},[t]),null}function vxe(e){var{yAxisId:t,className:r,width:n,label:a}=e,o=v.useRef(null),u=v.useRef(null),c=Ue(CC),p=xn(),h=gr(),f="yAxis",m=Ue(A=>DI(A,t)),b=Ue(A=>lhe(A,t)),_=Ue(A=>II(A,f,t,p)),j=Ue(A=>mI(A,t));if(v.useLayoutEffect(()=>{if(!(n!=="auto"||!m||qk(a)||v.isValidElement(a)||j==null)){var A=o.current;if(A){var k=A.getCalculatedWidth();Math.round(m.width)!==Math.round(k)&&h(_be({id:t,width:k}))}}},[_,m,h,a,t,n,j]),m==null||b==null||j==null)return null;var{dangerouslySetInnerHTML:w,ticks:y,scale:x}=e,S=bj(e,uxe),{id:T,scale:N}=j,P=bj(j,dxe);return v.createElement(t2,yj({},S,P,{ref:o,labelRef:u,x:b.x,y:b.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:m.width,height:m.height,className:$t("recharts-".concat(f," ").concat(f),r),viewBox:c,ticks:_,axisType:f}))}var yxe={allowDataOverflow:vn.allowDataOverflow,allowDecimals:vn.allowDecimals,allowDuplicatedCategory:vn.allowDuplicatedCategory,angle:vn.angle,axisLine:No.axisLine,hide:!1,includeHidden:vn.includeHidden,interval:vn.interval,label:!1,minTickGap:vn.minTickGap,mirror:vn.mirror,orientation:vn.orientation,padding:vn.padding,reversed:vn.reversed,scale:vn.scale,tick:vn.tick,tickCount:vn.tickCount,tickLine:No.tickLine,tickSize:No.tickSize,type:vn.type,width:vn.width,yAxisId:0},bxe=e=>{var t=$r(e,yxe);return v.createElement(v.Fragment,null,v.createElement(gxe,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),v.createElement(vxe,t))},ps=v.memo(bxe,u7);ps.displayName="YAxis";var _xe=(e,t)=>t,a2=oe([_xe,Mt,dI,Sn,e$,Ho,Sme,sn],Pme),i2=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},d7=yi("mouseClick"),f7=em();f7.startListening({actionCreator:d7,effect:(e,t)=>{var r=e.payload,n=a2(t.getState(),i2(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(whe({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var _j=yi("mouseMove"),p7=em(),fv=null;p7.startListening({actionCreator:_j,effect:(e,t)=>{var r=e.payload;fv!==null&&cancelAnimationFrame(fv);var n=i2(r);fv=requestAnimationFrame(()=>{var a=t.getState(),o=Ak(a,a.tooltip.settings.shared);if(o==="axis"){var u=a2(a,n);(u==null?void 0:u.activeIndex)!=null?t.dispatch(WI({activeIndex:u.activeIndex,activeDataKey:void 0,activeCoordinate:u.activeCoordinate})):t.dispatch(HI())}fv=null})}});function xxe(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var n4={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},h7=xa({name:"rootProps",initialState:n4,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:n4.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),wxe=h7.reducer,{updateOptions:Sxe}=h7.actions,jxe=null,Cxe={updatePolarOptions:(e,t)=>t.payload},m7=xa({name:"polarOptions",initialState:jxe,reducers:Cxe}),{updatePolarOptions:kxe}=m7.actions,Nxe=m7.reducer,g7=yi("keyDown"),v7=yi("focus"),s2=em();s2.startListening({actionCreator:g7,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var u=Rk(a,hf(r),pm(r),mm(r)),c=u==null?-1:Number(u);if(!(!Number.isFinite(c)||c<0)){var p=Ho(r);if(o==="Enter"){var h=Wy(r,"axis","hover",String(a.index));t.dispatch(lj({active:!a.active,activeIndex:a.index,activeCoordinate:h}));return}var f=fhe(r),m=f==="left-to-right"?1:-1,b=o==="ArrowRight"?1:-1,_=c+b*m;if(!(p==null||_>=p.length||_<0)){var j=Wy(r,"axis","hover",String(_));t.dispatch(lj({active:!0,activeIndex:_.toString(),activeCoordinate:j}))}}}}}});s2.startListening({actionCreator:v7,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var o="0",u=Wy(r,"axis","hover",String(o));t.dispatch(lj({active:!0,activeIndex:o,activeCoordinate:u}))}}}});var ui=yi("externalEvent"),y7=em(),Aw=new Map;y7.startListening({actionCreator:ui,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,o=Aw.get(a);o!==void 0&&cancelAnimationFrame(o);var u=requestAnimationFrame(()=>{try{var c=t.getState(),p={activeCoordinate:lme(c),activeDataKey:Ik(c),activeIndex:Ul(c),activeLabel:n$(c),activeTooltipIndex:Ul(c),isTooltipActive:cme(c)};r(p,n)}finally{Aw.delete(a)}});Aw.set(a,u)}}});var Exe=oe([ff],e=>e.tooltipItemPayloads),Txe=oe([Exe,(e,t)=>t,(e,t,r)=>r],(e,t,r)=>{if(t!=null){var n=e.find(o=>o.settings.graphicalItemId===r);if(n!=null){var{getPosition:a}=n;if(a!=null)return a(t)}}}),b7=yi("touchMove"),_7=em();_7.startListening({actionCreator:b7,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=Ak(n,n.tooltip.settings.shared);if(a==="axis"){var o=r.touches[0];if(o==null)return;var u=a2(n,i2({clientX:o.clientX,clientY:o.clientY,currentTarget:r.currentTarget}));(u==null?void 0:u.activeIndex)!=null&&t.dispatch(WI({activeIndex:u.activeIndex,activeDataKey:void 0,activeCoordinate:u.activeCoordinate}))}else if(a==="item"){var c,p=r.touches[0];if(document.elementFromPoint==null||p==null)return;var h=document.elementFromPoint(p.clientX,p.clientY);if(!h||!h.getAttribute)return;var f=h.getAttribute($5),m=(c=h.getAttribute(B5))!==null&&c!==void 0?c:void 0,b=pf(n).find(w=>w.id===m);if(f==null||b==null||m==null)return;var{dataKey:_}=b,j=Txe(n,f,m);t.dispatch(UI({activeDataKey:_,activeIndex:f,activeCoordinate:j,activeGraphicalItemId:m}))}}}});var Pxe=i5({brush:$be,cartesianAxis:xbe,chartData:oge,errorBars:R_e,graphicalItems:Tye,layout:Loe,legend:qle,options:rge,polarAxis:Uve,polarOptions:Nxe,referenceElements:qbe,rootProps:wxe,tooltip:She,zIndex:Hme}),Axe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return ooe({reducer:Pxe,preloadedState:t,middleware:n=>{var a;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([f7.middleware,p7.middleware,s2.middleware,y7.middleware,_7.middleware])},enhancers:n=>{var a=n;return typeof n=="function"&&(a=n()),a.concat(_5({type:"raf"}))},devTools:{serialize:{replacer:xxe},name:"recharts-".concat(r)}})};function x7(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=xn(),o=v.useRef(null);if(a)return r;o.current==null&&(o.current=Axe(t,n));var u=yC;return v.createElement(a0e,{context:u,store:o.current},r)}function Rxe(e){var{layout:t,margin:r}=e,n=gr(),a=xn();return v.useEffect(()=>{a||(n(Ooe(t)),n(Roe(r)))},[n,a,t,r]),null}var w7=v.memo(Rxe,ym);function S7(e){var t=gr();return v.useEffect(()=>{t(Sxe(e))},[t,e]),null}function a4(e){var{zIndex:t,isPanorama:r}=e,n=v.useRef(null),a=gr();return v.useLayoutEffect(()=>(n.current&&a(qme({zIndex:t,element:n.current,isPanorama:r})),()=>{a(Ume({zIndex:t,isPanorama:r}))}),[a,t,r]),v.createElement("g",{tabIndex:-1,ref:n})}function i4(e){var{children:t,isPanorama:r}=e,n=Ue(Rme);if(!n||n.length===0)return t;var a=n.filter(u=>u<0),o=n.filter(u=>u>0);return v.createElement(v.Fragment,null,a.map(u=>v.createElement(a4,{key:u,zIndex:u,isPanorama:r})),t,o.map(u=>v.createElement(a4,{key:u,zIndex:u,isPanorama:r})))}var Oxe=["children"];function Dxe(e,t){if(e==null)return{};var r,n,a=Mxe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Mxe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function eb(){return eb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eb.apply(null,arguments)}var Lxe={width:"100%",height:"100%",display:"block"},Ixe=v.forwardRef((e,t)=>{var r=EC(),n=TC(),a=t8();if(!Cs(r)||!Cs(n))return null;var{children:o,otherAttributes:u,title:c,desc:p}=e,h,f;return u!=null&&(typeof u.tabIndex=="number"?h=u.tabIndex:h=a?0:void 0,typeof u.role=="string"?f=u.role:f=a?"application":void 0),v.createElement(oC,eb({},u,{title:c,desc:p,role:f,tabIndex:h,width:r,height:n,style:Lxe,ref:t}),o)}),$xe=e=>{var{children:t}=e,r=Ue(Ib);if(!r)return null;var{width:n,height:a,y:o,x:u}=r;return v.createElement(oC,{width:n,height:a,x:u,y:o},t)},s4=v.forwardRef((e,t)=>{var{children:r}=e,n=Dxe(e,Oxe),a=xn();return a?v.createElement($xe,null,v.createElement(i4,{isPanorama:!0},r)):v.createElement(Ixe,eb({ref:t},n),v.createElement(i4,{isPanorama:!1},r))});function Bxe(){var e=gr(),[t,r]=v.useState(null),n=Ue(Zoe);return v.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),o=a.width/t.offsetWidth;_t(o)&&o!==n&&e(Moe(o))}},[t,e,n]),r}function o4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zxe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o4(Object(r),!0).forEach(function(n){Fxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fxe(e,t,r){return(t=qxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qxe(e){var t=Uxe(e,"string");return typeof t=="symbol"?t:t+""}function Uxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fl(){return Fl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fl.apply(null,arguments)}var Hxe=()=>(gge(),null);function tb(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Wxe=v.forwardRef((e,t)=>{var r,n,a=v.useRef(null),[o,u]=v.useState({containerWidth:tb((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:tb((n=e.style)===null||n===void 0?void 0:n.height)}),c=v.useCallback((h,f)=>{u(m=>{var b=Math.round(h),_=Math.round(f);return m.containerWidth===b&&m.containerHeight===_?m:{containerWidth:b,containerHeight:_}})},[]),p=v.useCallback(h=>{if(typeof t=="function"&&t(h),h!=null&&typeof ResizeObserver<"u"){var{width:f,height:m}=h.getBoundingClientRect();c(f,m);var b=j=>{var w=j[0];if(w!=null){var{width:y,height:x}=w.contentRect;c(y,x)}},_=new ResizeObserver(b);_.observe(h),a.current=_}},[t,c]);return v.useEffect(()=>()=>{var h=a.current;h!=null&&h.disconnect()},[c]),v.createElement(v.Fragment,null,v.createElement(rm,{width:o.containerWidth,height:o.containerHeight}),v.createElement("div",Fl({ref:p},e)))}),Kxe=v.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,o]=v.useState({containerWidth:tb(r),containerHeight:tb(n)}),u=v.useCallback((p,h)=>{o(f=>{var m=Math.round(p),b=Math.round(h);return f.containerWidth===m&&f.containerHeight===b?f:{containerWidth:m,containerHeight:b}})},[]),c=v.useCallback(p=>{if(typeof t=="function"&&t(p),p!=null){var{width:h,height:f}=p.getBoundingClientRect();u(h,f)}},[t,u]);return v.createElement(v.Fragment,null,v.createElement(rm,{width:a.containerWidth,height:a.containerHeight}),v.createElement("div",Fl({ref:c},e)))}),Gxe=v.forwardRef((e,t)=>{var{width:r,height:n}=e;return v.createElement(v.Fragment,null,v.createElement(rm,{width:r,height:n}),v.createElement("div",Fl({ref:t},e)))}),Vxe=v.forwardRef((e,t)=>{var{width:r,height:n}=e;return typeof r=="string"||typeof n=="string"?v.createElement(Kxe,Fl({},e,{ref:t})):typeof r=="number"&&typeof n=="number"?v.createElement(Gxe,Fl({},e,{width:r,height:n,ref:t})):v.createElement(v.Fragment,null,v.createElement(rm,{width:r,height:n}),v.createElement("div",Fl({ref:t},e)))});function Yxe(e){return e?Wxe:Vxe}var Qxe=v.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:o,onContextMenu:u,onDoubleClick:c,onMouseDown:p,onMouseEnter:h,onMouseLeave:f,onMouseMove:m,onMouseUp:b,onTouchEnd:_,onTouchMove:j,onTouchStart:w,style:y,width:x,responsive:S,dispatchTouchEvents:T=!0}=e,N=v.useRef(null),P=gr(),[A,k]=v.useState(null),[R,D]=v.useState(null),I=Bxe(),q=kC(),z=(q==null?void 0:q.width)>0?q.width:x,M=(q==null?void 0:q.height)>0?q.height:a,F=v.useCallback(J=>{I(J),typeof t=="function"&&t(J),k(J),D(J),J!=null&&(N.current=J)},[I,t,k,D]),B=v.useCallback(J=>{P(d7(J)),P(ui({handler:o,reactEvent:J}))},[P,o]),O=v.useCallback(J=>{P(_j(J)),P(ui({handler:h,reactEvent:J}))},[P,h]),$=v.useCallback(J=>{P(HI()),P(ui({handler:f,reactEvent:J}))},[P,f]),K=v.useCallback(J=>{P(_j(J)),P(ui({handler:m,reactEvent:J}))},[P,m]),Y=v.useCallback(()=>{P(v7())},[P]),Z=v.useCallback(J=>{P(g7(J.key))},[P]),H=v.useCallback(J=>{P(ui({handler:u,reactEvent:J}))},[P,u]),X=v.useCallback(J=>{P(ui({handler:c,reactEvent:J}))},[P,c]),te=v.useCallback(J=>{P(ui({handler:p,reactEvent:J}))},[P,p]),le=v.useCallback(J=>{P(ui({handler:b,reactEvent:J}))},[P,b]),me=v.useCallback(J=>{P(ui({handler:w,reactEvent:J}))},[P,w]),ke=v.useCallback(J=>{T&&P(b7(J)),P(ui({handler:j,reactEvent:J}))},[P,T,j]),xe=v.useCallback(J=>{P(ui({handler:_,reactEvent:J}))},[P,_]),He=Yxe(S);return v.createElement(d$.Provider,{value:A},v.createElement(w6.Provider,{value:R},v.createElement(He,{width:z??(y==null?void 0:y.width),height:M??(y==null?void 0:y.height),className:$t("recharts-wrapper",n),style:zxe({position:"relative",cursor:"default",width:z,height:M},y),onClick:B,onContextMenu:H,onDoubleClick:X,onFocus:Y,onKeyDown:Z,onMouseDown:te,onMouseEnter:O,onMouseLeave:$,onMouseMove:K,onMouseUp:le,onTouchEnd:xe,onTouchMove:ke,onTouchStart:me,ref:F},v.createElement(Hxe,null),r)))}),Xxe=["width","height","responsive","children","className","style","compact","title","desc"];function Zxe(e,t){if(e==null)return{};var r,n,a=Jxe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Jxe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var j7=v.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:o,className:u,style:c,compact:p,title:h,desc:f}=e,m=Zxe(e,Xxe),b=ra(m);return p?v.createElement(v.Fragment,null,v.createElement(rm,{width:r,height:n}),v.createElement(s4,{otherAttributes:b,title:h,desc:f},o)):v.createElement(Qxe,{className:u,style:c,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},v.createElement(s4,{otherAttributes:b,title:h,desc:f,ref:t},v.createElement(Hbe,null,o)))});function xj(){return xj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xj.apply(null,arguments)}var ewe={top:5,right:5,bottom:5,left:5},twe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:ewe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},o2=v.forwardRef(function(t,r){var n,a=$r(t.categoricalChartProps,twe),{chartName:o,defaultTooltipEventType:u,validateTooltipEventTypes:c,tooltipPayloadSearcher:p,categoricalChartProps:h}=t,f={chartName:o,defaultTooltipEventType:u,validateTooltipEventTypes:c,tooltipPayloadSearcher:p,eventEmitter:void 0};return v.createElement(x7,{preloadedState:{options:f},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:o},v.createElement($$,{chartData:h.data}),v.createElement(w7,{layout:a.layout,margin:a.margin}),v.createElement(S7,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),v.createElement(j7,xj({},a,{ref:r})))}),rwe=["axis"],l4=v.forwardRef((e,t)=>v.createElement(o2,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:rwe,tooltipPayloadSearcher:o_,categoricalChartProps:e,ref:t})),nwe=["axis","item"],Cp=v.forwardRef((e,t)=>v.createElement(o2,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:nwe,tooltipPayloadSearcher:o_,categoricalChartProps:e,ref:t}));function awe(e){var t=gr();return v.useEffect(()=>{t(kxe(e))},[t,e]),null}var iwe=["layout"];function wj(){return wj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wj.apply(null,arguments)}function swe(e,t){if(e==null)return{};var r,n,a=owe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function owe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var lwe={top:5,right:5,bottom:5,left:5},C7={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:lwe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},cwe=v.forwardRef(function(t,r){var n,a=$r(t.categoricalChartProps,C7),{layout:o}=a,u=swe(a,iwe),{chartName:c,defaultTooltipEventType:p,validateTooltipEventTypes:h,tooltipPayloadSearcher:f}=t,m={chartName:c,defaultTooltipEventType:p,validateTooltipEventTypes:h,tooltipPayloadSearcher:f,eventEmitter:void 0};return v.createElement(x7,{preloadedState:{options:m},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:c},v.createElement($$,{chartData:a.data}),v.createElement(w7,{layout:o,margin:a.margin}),v.createElement(S7,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),v.createElement(awe,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),v.createElement(j7,wj({},u,{ref:r})))});function c4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function u4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c4(Object(r),!0).forEach(function(n){uwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uwe(e,t,r){return(t=dwe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dwe(e){var t=fwe(e,"string");return typeof t=="symbol"?t:t+""}function fwe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pwe=["item"],hwe=u4(u4({},C7),{},{layout:"centric",startAngle:0,endAngle:360}),mwe=v.forwardRef((e,t)=>{var r=$r(e,hwe);return v.createElement(cwe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:pwe,tooltipPayloadSearcher:o_,categoricalChartProps:r,ref:t})}),gwe=["axis"],d4=v.forwardRef((e,t)=>v.createElement(o2,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:gwe,tooltipPayloadSearcher:o_,categoricalChartProps:e,ref:t}));const vwe="_wrap_9qoli_1",ywe="_card_9qoli_6",bwe="_cardHeader_9qoli_25",_we="_cardTitle_9qoli_34",xwe="_sectionTitle_9qoli_43",wwe="_sectionSub_9qoli_50",Swe="_cardFooter_9qoli_57",jwe="_summary_9qoli_66",Cwe="_summaryItem_9qoli_77",kwe="_summaryCount_9qoli_85",Nwe="_tableWrap_9qoli_91",Ewe="_table_9qoli_91",Twe="_tableEqualColumns_9qoli_102",Pwe="_num_9qoli_144",Awe="_episodeLink_9qoli_154",Rwe="_empty_9qoli_164",Owe="_analyticsTabs_9qoli_200",Dwe="_analyticsTab_9qoli_200",Mwe="_analyticsTabActive_9qoli_228",Lwe="_chartContainer_9qoli_276",Te={wrap:vwe,card:ywe,cardHeader:bwe,cardTitle:_we,sectionTitle:xwe,sectionSub:wwe,cardFooter:Swe,summary:jwe,summaryItem:Cwe,summaryCount:kwe,tableWrap:Nwe,table:Ewe,tableEqualColumns:Twe,num:Pwe,episodeLink:Awe,empty:Rwe,analyticsTabs:Owe,analyticsTab:Dwe,analyticsTabActive:Mwe,chartContainer:Lwe},en={human:"var(--accent)",bot:"#e6a030",feed:"#0dcaf0",requests:"#0d6efd",listens:"#198754"},f4=["#0dcaf0","#0d6efd","#198754","#e6a030","#6f42c1","#fd7e14","#6c757d"];function Iwe(){const e=new Date;e.setUTCDate(e.getUTCDate()-1);const t=new Date(e);return t.setUTCDate(t.getUTCDate()-13),{start_date:t.toISOString().slice(0,10),end_date:e.toISOString().slice(0,10)}}function $we(e){let t=0,r=0;for(const n of e.rss_daily)t+=n.bot_count,r+=n.human_count;return{bot:t,human:r,total:t+r}}function Bwe(e){const t={};for(const r of e.episodes)t[r.id]={requestsBot:0,requestsHuman:0,listensBot:0,listensHuman:0};for(const r of e.episode_daily){const n=t[r.episode_id];n&&(n.requestsBot+=r.bot_count,n.requestsHuman+=r.human_count)}for(const r of e.episode_listens_daily){const n=t[r.episode_id];n&&(n.listensBot+=r.bot_count,n.listensHuman+=r.human_count)}return t}function zwe(e){const t={};for(const r of e.episode_location_daily){const n=t[r.location]??{bot:0,human:0};n.bot+=r.bot_count,n.human+=r.human_count,t[r.location]=n}return Object.entries(t).map(([r,n])=>({location:r,...n,total:n.bot+n.human})).sort((r,n)=>n.total-r.total)}function go(e){return new Date(e+"T00:00:00Z").toLocaleDateString(void 0,{month:"short",day:"numeric"})}function ud(e){return typeof e=="string"?go(e):String(e??"")}const pn={tick:{fill:"var(--text-muted)",fontSize:11},axisLine:{stroke:"var(--border)"},tickLine:{stroke:"var(--border)"}},ls={background:"var(--bg-elevated)",border:"1px solid var(--border)",borderRadius:8};function kp({options:e,value:t,onChange:r,labels:n}){return i.jsx("div",{className:Te.analyticsTabs,role:"tablist",children:e.map(a=>i.jsx("button",{type:"button",role:"tab","aria-selected":t===a,className:t===a?Te.analyticsTabActive:Te.analyticsTab,onClick:()=>r(a),children:n[a]},a))})}function Fwe(){const{id:e}=wi(),[t,r]=v.useState("line"),[n,a]=v.useState("line"),[o,u]=v.useState("bar"),[c,p]=v.useState("bar"),[h,f]=v.useState("pie"),[m,b]=v.useState(!1);v.useEffect(()=>{const B=window.matchMedia("(max-width: 480px)"),O=()=>b(B.matches);return O(),B.addEventListener("change",O),()=>B.removeEventListener("change",O)},[]);const _=m?{top:8,right:4,left:0,bottom:8}:{top:8,right:8,left:8,bottom:8},j=m?72:120,w=v.useMemo(()=>Iwe(),[]),{data:y,isLoading:x}=De({queryKey:["podcast",e],queryFn:()=>pu(e),enabled:!!e}),{data:S,isLoading:T}=De({queryKey:["podcast-analytics",e,w.start_date,w.end_date],queryFn:()=>iQ(e,w),enabled:!!e}),N=v.useMemo(()=>S?Bwe(S):{},[S]),P=v.useMemo(()=>S?zwe(S):[],[S]),A=v.useMemo(()=>{if(!S)return[];const B={};for(const O of S.rss_daily)B[O.stat_date]={stat_date:O.stat_date,feed:O.human_count+O.bot_count,requests:0,listens:0};for(const O of S.episode_daily)B[O.stat_date]||(B[O.stat_date]={stat_date:O.stat_date,feed:0,requests:0,listens:0}),B[O.stat_date].requests+=O.human_count+O.bot_count;for(const O of S.episode_listens_daily)B[O.stat_date]||(B[O.stat_date]={stat_date:O.stat_date,feed:0,requests:0,listens:0}),B[O.stat_date].listens+=O.human_count+O.bot_count;return Object.values(B).sort((O,$)=>O.stat_date.localeCompare($.stat_date))},[S]),k=v.useMemo(()=>S?[...S.rss_daily].sort((B,O)=>B.stat_date.localeCompare(O.stat_date)).map(B=>({stat_date:B.stat_date,People:B.human_count,Apps:B.bot_count,total:B.human_count+B.bot_count})):[],[S]),R=v.useMemo(()=>S?S.episodes.map(B=>{const O=N[B.id]??{requestsHuman:0,requestsBot:0};return{id:B.id,name:B.title.length>30?B.title.slice(0,27)+"...":B.title,fullName:B.title,requests:O.requestsHuman+O.requestsBot,People:O.requestsHuman,Apps:O.requestsBot}}).sort((B,O)=>O.requests-B.requests):[],[S,N]),D=v.useMemo(()=>S?S.episodes.map(B=>{const O=N[B.id]??{listensHuman:0,listensBot:0};return{id:B.id,name:B.title.length>30?B.title.slice(0,27)+"...":B.title,fullName:B.title,listens:O.listensHuman+O.listensBot,People:O.listensHuman,Apps:O.listensBot}}).sort((B,O)=>O.listens-B.listens):[],[S,N]),I=v.useMemo(()=>P.map(B=>({name:B.location,value:B.total})),[P]),q=A.length>0||k.length>0||R.some(B=>B.requests>0)||D.some(B=>B.listens>0)||I.length>0;if(!e)return null;if(x||!y)return i.jsx(_a,{});if(T&&!S)return i.jsx(_a,{});const z=[{label:"Home",href:"/"},{label:y.title,href:`/podcasts/${e}`,mobileLabel:"Podcast"},{label:"Analytics"}],M=S?$we(S):{bot:0,human:0,total:0},F=(B,O,$)=>{if(B.length===0)return i.jsx("p",{className:Te.empty,children:"No data in the last 2 weeks."});const K={data:B,margin:_};return $==="line"?i.jsxs(l4,{...K,children:[i.jsx(us,{strokeDasharray:"3 3",stroke:"var(--border)"}),i.jsx(fs,{dataKey:"stat_date",tickFormatter:go,...pn}),i.jsx(ps,{tickFormatter:Y=>Y>=1e3?`${Y/1e3}k`:String(Y),...pn}),i.jsx(ss,{contentStyle:ls,labelFormatter:ud}),i.jsx(mo,{}),O.map(Y=>i.jsx(sh,{type:"monotone",dataKey:Y.key,name:Y.name,stroke:Y.color,strokeWidth:2,dot:{r:3}},Y.key))]}):$==="area"?i.jsxs(d4,{...K,children:[i.jsx(us,{strokeDasharray:"3 3",stroke:"var(--border)"}),i.jsx(fs,{dataKey:"stat_date",tickFormatter:go,...pn}),i.jsx(ps,{tickFormatter:Y=>Y>=1e3?`${Y/1e3}k`:String(Y),...pn}),i.jsx(ss,{contentStyle:ls,labelFormatter:ud}),i.jsx(mo,{}),O.map(Y=>i.jsx(oh,{type:"monotone",dataKey:Y.key,name:Y.name,stackId:"1",stroke:Y.color,fill:Y.color,fillOpacity:.5,strokeWidth:2},Y.key))]}):$==="bar"?i.jsxs(Cp,{...K,barCategoryGap:"10%",children:[i.jsx(us,{strokeDasharray:"3 3",stroke:"var(--border)"}),i.jsx(fs,{dataKey:"stat_date",tickFormatter:go,...pn}),i.jsx(ps,{tickFormatter:Y=>Y>=1e3?`${Y/1e3}k`:String(Y),...pn}),i.jsx(ss,{contentStyle:ls,labelFormatter:ud}),i.jsx(mo,{}),O.map(Y=>i.jsx(ds,{dataKey:Y.key,name:Y.name,fill:Y.color,radius:[4,4,0,0],stackId:"1"},Y.key))]}):null};return i.jsxs("div",{className:Te.wrap,children:[i.jsx(rf,{items:z}),i.jsxs("div",{className:Te.card,children:[i.jsx("div",{className:Te.cardHeader,children:i.jsxs("h1",{className:Te.cardTitle,children:[i.jsx(GM,{size:24,strokeWidth:2,"aria-hidden":!0,style:{marginRight:"0.5rem",verticalAlign:"middle"}}),"Analytics"]})}),i.jsx("p",{className:Te.sectionSub,children:"See how your show is doing over the last 2 weeks: feed check-ins, episode plays, and where listeners are from."}),i.jsx("p",{className:Te.sectionSub,children:"Numbers include both people and automated apps (e.g. podcast players)."})]}),!q&&i.jsx("div",{className:Te.card,children:i.jsx("p",{className:Te.empty,children:"No data in the last 2 weeks."})}),q&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:Te.card,children:[i.jsxs("h2",{className:Te.sectionTitle,children:[i.jsx(QF,{size:18,strokeWidth:2,"aria-hidden":!0,style:{marginRight:"0.5rem",verticalAlign:"middle"}}),"Overview"]}),i.jsx(kp,{options:["line","area","bar","table"],value:t,onChange:r,labels:{line:"Line",area:"Area",bar:"Bar",table:"Table"}}),t==="table"?i.jsx("div",{className:Te.tableWrap,children:i.jsxs("table",{className:`${Te.table} ${Te.tableEqualColumns}`,children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Date"}),i.jsx("th",{className:Te.num,children:"Feed Check-Ins"}),i.jsx("th",{className:Te.num,children:"Episode Requests"}),i.jsx("th",{className:Te.num,children:"Listens"})]})}),i.jsx("tbody",{children:[...A].reverse().map(B=>i.jsxs("tr",{children:[i.jsx("td",{children:go(B.stat_date)}),i.jsx("td",{className:Te.num,children:B.feed}),i.jsx("td",{className:Te.num,children:B.requests}),i.jsx("td",{className:Te.num,children:B.listens})]},B.stat_date))})]})}):i.jsx("div",{className:Te.chartContainer,children:i.jsx(mp,{width:"100%",height:300,children:A.length===0?i.jsx("p",{className:Te.empty,children:"No data in the last 2 weeks."}):t==="line"?i.jsxs(l4,{data:A,margin:_,children:[i.jsx(us,{strokeDasharray:"3 3",stroke:"var(--border)"}),i.jsx(fs,{dataKey:"stat_date",tickFormatter:go,...pn}),i.jsx(ps,{tickFormatter:B=>B>=1e3?`${B/1e3}k`:String(B),...pn}),i.jsx(ss,{contentStyle:ls,labelFormatter:ud}),i.jsx(mo,{}),i.jsx(sh,{type:"monotone",dataKey:"feed",name:"Feed Check-Ins",stroke:en.feed,strokeWidth:2,dot:{r:3}}),i.jsx(sh,{type:"monotone",dataKey:"requests",name:"Episode Requests",stroke:en.requests,strokeWidth:2,dot:{r:3}}),i.jsx(sh,{type:"monotone",dataKey:"listens",name:"Listens",stroke:en.listens,strokeWidth:2,dot:{r:3}})]}):t==="area"?i.jsxs(d4,{data:A,margin:_,children:[i.jsx(us,{strokeDasharray:"3 3",stroke:"var(--border)"}),i.jsx(fs,{dataKey:"stat_date",tickFormatter:go,...pn}),i.jsx(ps,{tickFormatter:B=>B>=1e3?`${B/1e3}k`:String(B),...pn}),i.jsx(ss,{contentStyle:ls,labelFormatter:ud}),i.jsx(mo,{}),i.jsx(oh,{type:"monotone",dataKey:"feed",name:"Feed Check-Ins",stackId:"1",stroke:en.feed,fill:en.feed,fillOpacity:.5,strokeWidth:2}),i.jsx(oh,{type:"monotone",dataKey:"requests",name:"Episode Requests",stackId:"1",stroke:en.requests,fill:en.requests,fillOpacity:.5,strokeWidth:2}),i.jsx(oh,{type:"monotone",dataKey:"listens",name:"Listens",stackId:"1",stroke:en.listens,fill:en.listens,fillOpacity:.5,strokeWidth:2})]}):i.jsxs(Cp,{data:A,margin:_,barCategoryGap:"10%",children:[i.jsx(us,{strokeDasharray:"3 3",stroke:"var(--border)"}),i.jsx(fs,{dataKey:"stat_date",tickFormatter:go,...pn}),i.jsx(ps,{tickFormatter:B=>B>=1e3?`${B/1e3}k`:String(B),...pn}),i.jsx(ss,{contentStyle:ls,labelFormatter:ud}),i.jsx(mo,{}),i.jsx(ds,{dataKey:"feed",name:"Feed Check-Ins",fill:en.feed,radius:[4,4,0,0],stackId:"1"}),i.jsx(ds,{dataKey:"requests",name:"Episode Requests",fill:en.requests,radius:[4,4,0,0],stackId:"1"}),i.jsx(ds,{dataKey:"listens",name:"Listens",fill:en.listens,radius:[4,4,0,0],stackId:"1"})]})})}),i.jsxs("p",{className:Te.cardFooter,children:[i.jsx("strong",{children:"Feed Check-Ins:"})," Times your RSS feed was requested (e.g. by podcast apps checking for new episodes)."," ",i.jsx("strong",{children:"Episode Requests:"})," Times an episode audio file was requested."," ",i.jsx("strong",{children:"Listens:"})," Plays of 250 KB or more (estimated listeners)."]})]}),i.jsxs("div",{className:Te.card,children:[i.jsxs("h2",{className:Te.sectionTitle,children:[i.jsx(Ss,{size:18,strokeWidth:2,"aria-hidden":!0,style:{marginRight:"0.5rem",verticalAlign:"middle"}}),"Feed Check-Ins"]}),i.jsxs("div",{className:Te.summary,children:[i.jsxs("span",{className:Te.summaryItem,children:[i.jsx("span",{className:Te.summaryCount,children:M.total})," ",i.jsx("span",{className:Te.summaryLabel,children:"Total"})]}),i.jsxs("span",{className:Te.summaryItem,children:[i.jsx("span",{className:Te.summaryCount,children:M.human})," ",i.jsx("span",{className:Te.summaryLabel,children:"People"})]}),i.jsxs("span",{className:Te.summaryItem,children:[i.jsx("span",{className:Te.summaryCount,children:M.bot})," ",i.jsx("span",{className:Te.summaryLabel,children:"Apps"})]})]}),i.jsx(kp,{options:["line","area","bar","table"],value:n,onChange:a,labels:{line:"Line",area:"Area",bar:"Bar",table:"Table"}}),n==="table"?i.jsx("div",{className:Te.tableWrap,children:i.jsxs("table",{className:`${Te.table} ${Te.tableEqualColumns}`,children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Date"}),i.jsx("th",{className:Te.num,children:"People"}),i.jsx("th",{className:Te.num,children:"Apps"}),i.jsx("th",{className:Te.num,children:"Total"})]})}),i.jsx("tbody",{children:[...k].reverse().map(B=>i.jsxs("tr",{children:[i.jsx("td",{children:go(B.stat_date)}),i.jsx("td",{className:Te.num,children:B.People}),i.jsx("td",{className:Te.num,children:B.Apps}),i.jsx("td",{className:Te.num,children:B.total})]},B.stat_date))})]})}):i.jsx("div",{className:Te.chartContainer,children:i.jsx(mp,{width:"100%",height:300,children:F(k,[{key:"People",name:"People",color:en.human},{key:"Apps",name:"Apps",color:en.bot}],n)})})]}),i.jsxs("div",{className:Te.card,children:[i.jsxs("h2",{className:Te.sectionTitle,children:[i.jsx(tq,{size:18,strokeWidth:2,"aria-hidden":!0,style:{marginRight:"0.5rem",verticalAlign:"middle"}}),"Episode Requests"]}),i.jsx(kp,{options:["bar","table"],value:o,onChange:u,labels:{bar:"Bar",table:"Table"}}),o==="table"?i.jsx("div",{className:Te.tableWrap,children:i.jsxs("table",{className:Te.table,children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Episode"}),i.jsx("th",{className:Te.num,children:"People"}),i.jsx("th",{className:Te.num,children:"Apps"}),i.jsx("th",{className:Te.num,children:"Total"})]})}),i.jsx("tbody",{children:R.map(B=>i.jsxs("tr",{children:[i.jsx("td",{children:i.jsx(Xe,{to:`/episodes/${B.id}`,className:Te.episodeLink,children:B.fullName})}),i.jsx("td",{className:Te.num,children:B.People}),i.jsx("td",{className:Te.num,children:B.Apps}),i.jsx("td",{className:Te.num,children:B.requests})]},B.id))})]})}):i.jsx("div",{className:Te.chartContainer,children:i.jsx(mp,{width:"100%",height:300,children:R.length===0?i.jsx("p",{className:Te.empty,children:"No episode data in the last 2 weeks."}):i.jsxs(Cp,{data:R,layout:"vertical",margin:_,barCategoryGap:"8%",children:[i.jsx(us,{strokeDasharray:"3 3",stroke:"var(--border)",horizontal:!1}),i.jsx(fs,{type:"number",...pn}),i.jsx(ps,{type:"category",dataKey:"name",width:j,...pn,tickLine:!1}),i.jsx(ss,{contentStyle:ls,formatter:B=>[B??0,""],labelFormatter:(B,O)=>{var $,K;return((K=($=O==null?void 0:O[0])==null?void 0:$.payload)==null?void 0:K.fullName)??""}}),i.jsx(mo,{}),i.jsx(ds,{dataKey:"People",name:"People",fill:en.human,radius:[0,4,4,0],stackId:"1"}),i.jsx(ds,{dataKey:"Apps",name:"Apps",fill:en.bot,radius:[0,4,4,0],stackId:"1"})]})})})]}),i.jsxs("div",{className:Te.card,children:[i.jsxs("h2",{className:Te.sectionTitle,children:[i.jsx(AF,{size:18,strokeWidth:2,"aria-hidden":!0,style:{marginRight:"0.5rem",verticalAlign:"middle"}}),"Listens"]}),i.jsx(kp,{options:["bar","table"],value:c,onChange:p,labels:{bar:"Bar",table:"Table"}}),c==="table"?i.jsx("div",{className:Te.tableWrap,children:i.jsxs("table",{className:Te.table,children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Episode"}),i.jsx("th",{className:Te.num,children:"People"}),i.jsx("th",{className:Te.num,children:"Apps"}),i.jsx("th",{className:Te.num,children:"Total"})]})}),i.jsx("tbody",{children:D.map(B=>i.jsxs("tr",{children:[i.jsx("td",{children:i.jsx(Xe,{to:`/episodes/${B.id}`,className:Te.episodeLink,children:B.fullName})}),i.jsx("td",{className:Te.num,children:B.People}),i.jsx("td",{className:Te.num,children:B.Apps}),i.jsx("td",{className:Te.num,children:B.listens})]},B.id))})]})}):i.jsx("div",{className:Te.chartContainer,children:i.jsx(mp,{width:"100%",height:300,children:D.length===0?i.jsx("p",{className:Te.empty,children:"No listen data in the last 2 weeks."}):i.jsxs(Cp,{data:D,layout:"vertical",margin:_,barCategoryGap:"8%",children:[i.jsx(us,{strokeDasharray:"3 3",stroke:"var(--border)",horizontal:!1}),i.jsx(fs,{type:"number",...pn}),i.jsx(ps,{type:"category",dataKey:"name",width:j,...pn,tickLine:!1}),i.jsx(ss,{contentStyle:ls,formatter:B=>[B??0,""],labelFormatter:(B,O)=>{var $,K;return((K=($=O==null?void 0:O[0])==null?void 0:$.payload)==null?void 0:K.fullName)??""}}),i.jsx(mo,{}),i.jsx(ds,{dataKey:"People",name:"People",fill:en.human,radius:[0,4,4,0],stackId:"1"}),i.jsx(ds,{dataKey:"Apps",name:"Apps",fill:en.bot,radius:[0,4,4,0],stackId:"1"})]})})})]}),i.jsxs("div",{className:Te.card,children:[i.jsxs("h2",{className:Te.sectionTitle,children:[i.jsx(lq,{size:18,strokeWidth:2,"aria-hidden":!0,style:{marginRight:"0.5rem",verticalAlign:"middle"}}),"Requests by Location"]}),i.jsx(kp,{options:["pie","bar","table"],value:h,onChange:f,labels:{pie:"Pie",bar:"Bar",table:"Table"}}),h==="table"?i.jsx("div",{className:Te.tableWrap,children:i.jsxs("table",{className:Te.table,children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Location"}),i.jsx("th",{className:Te.num,children:"People"}),i.jsx("th",{className:Te.num,children:"Apps"}),i.jsx("th",{className:Te.num,children:"Total"})]})}),i.jsx("tbody",{children:P.map(B=>i.jsxs("tr",{children:[i.jsx("td",{children:B.location}),i.jsx("td",{className:Te.num,children:B.human}),i.jsx("td",{className:Te.num,children:B.bot}),i.jsx("td",{className:Te.num,children:B.total})]},B.location))})]})}):i.jsx("div",{className:Te.chartContainer,children:i.jsx(mp,{width:"100%",height:300,children:I.length===0?i.jsx("p",{className:Te.empty,children:"No location data in the last 2 weeks."}):h==="pie"?i.jsxs(mwe,{children:[i.jsx(D$,{data:I,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:100,label:({name:B,percent:O})=>`${B} ${((O??0)*100).toFixed(0)}%`,children:I.map((B,O)=>i.jsx(vm,{fill:f4[O%f4.length]},O))}),i.jsx(ss,{contentStyle:ls,formatter:B=>[B??0,"Requests"]})]}):i.jsxs(Cp,{data:P,layout:"vertical",margin:_,barCategoryGap:"8%",children:[i.jsx(us,{strokeDasharray:"3 3",stroke:"var(--border)",horizontal:!1}),i.jsx(fs,{type:"number",...pn}),i.jsx(ps,{type:"category",dataKey:"location",width:j,...pn,tickLine:!1}),i.jsx(ss,{contentStyle:ls}),i.jsx(ds,{dataKey:"total",name:"Requests",fill:en.requests,radius:[0,4,4,0]})]})})})]})]})]})}const qwe="/api";function Uwe(e){return At(`/podcasts/${e}/episodes`).then(t=>t.episodes)}function Hwe(e){return At(`/episodes/${e}`)}function Wwe(e,t){return an(`/podcasts/${e}/episodes`,t)}function Kwe(e,t){return Kl(`/episodes/${e}`,t)}async function Gwe(e,t,r){const n=new FormData;n.append("file",r);const a=await fetch(`${qwe}/podcasts/${e}/episodes/${t}/artwork`,{method:"POST",credentials:"include",headers:tr(),body:n});if(!a.ok){const o=await a.json().catch(()=>({error:a.statusText}));throw new Error(o.error??a.statusText)}return a.json()}function Vwe(e,t){return At(`/podcasts/${e}/episodes/${t}/cast`)}function Ywe(e,t,r){return VH(`/podcasts/${e}/episodes/${t}/cast`,{cast_ids:r})}const Qwe="_wrap_27pxs_1",Xwe="_card_27pxs_6",Zwe="_cardHeader_27pxs_14",Jwe="_cardTitle_27pxs_23",eSe="_newBtn_27pxs_32",tSe="_newBtnDisabled_27pxs_51",rSe="_summary_27pxs_60",nSe="_summaryItem_27pxs_71",aSe="_summaryCount_27pxs_79",iSe="_muted_27pxs_86",sSe="_empty_27pxs_92",oSe="_emptyLink_27pxs_103",lSe="_emptyLinkDisabled_27pxs_119",cSe="_list_27pxs_128",uSe="_item_27pxs_137",dSe="_itemSubscriberOnly_27pxs_141",fSe="_itemLink_27pxs_141",pSe="_itemChevron_27pxs_168",hSe="_itemContent_27pxs_171",mSe="_itemTitleRow_27pxs_185",gSe="_itemTitleLockGold_27pxs_196",vSe="_itemTitle_27pxs_185",ySe="_itemMeta_27pxs_208",bSe="_itemStatus_27pxs_215",_Se="_itemMetaItem_27pxs_227",ct={wrap:Qwe,card:Xwe,cardHeader:Zwe,cardTitle:Jwe,newBtn:eSe,newBtnDisabled:tSe,summary:rSe,summaryItem:nSe,summaryCount:aSe,muted:iSe,empty:sSe,emptyLink:oSe,emptyLinkDisabled:lSe,list:cSe,item:uSe,itemSubscriberOnly:dSe,itemLink:fSe,itemChevron:pSe,itemContent:hSe,itemTitleRow:mSe,itemTitleLockGold:gSe,itemTitle:vSe,itemMeta:ySe,itemStatus:bSe,itemMetaItem:_Se};function xSe(){const{id:e}=wi(),{data:t,isLoading:r}=De({queryKey:["podcast",e],queryFn:()=>pu(e),enabled:!!e}),{data:n=[],isLoading:a}=De({queryKey:["episodes",e],queryFn:()=>Uwe(e),enabled:!!e}),o=(t==null?void 0:t.max_episodes)??null,u=Number((t==null?void 0:t.episode_count)??n.length),c=o!=null&&o>0&&u>=Number(o),{data:p}=De({queryKey:["me"],queryFn:Si}),h=lu(p==null?void 0:p.user),f=t==null?void 0:t.my_role,m=f==="owner"||f==="manager",b=n.filter(y=>y.status==="published").length,_=n.filter(y=>y.status==="scheduled").length,j=n.filter(y=>y.status==="draft").length;if(!e)return null;if(r)return i.jsx(_a,{});const w=[{label:"Home",href:"/"},{label:(t==null?void 0:t.title)??"Show",href:`/podcasts/${e}`,mobileLabel:"Podcast"},{label:"Episodes"}];return i.jsxs("div",{className:ct.wrap,children:[i.jsx(rf,{items:w}),i.jsxs("div",{className:ct.card,children:[i.jsxs("div",{className:ct.cardHeader,children:[i.jsx("h1",{className:ct.cardTitle,children:"Episodes"}),h?i.jsxs("span",{className:`${ct.newBtn} ${ct.newBtnDisabled}`,title:"Read-only account",children:[i.jsx(Qr,{size:18,strokeWidth:2.5,"aria-hidden":!0}),"New Episode"]}):m?c?i.jsxs("span",{className:`${ct.newBtn} ${ct.newBtnDisabled}`,title:"You're at max episodes for this show",children:[i.jsx(Qr,{size:18,strokeWidth:2.5,"aria-hidden":!0}),"New Episode"]}):i.jsxs(Xe,{to:`/podcasts/${e}/episodes/new`,className:ct.newBtn,children:[i.jsx(Qr,{size:18,strokeWidth:2.5,"aria-hidden":!0}),"New Episode"]}):i.jsxs("span",{className:`${ct.newBtn} ${ct.newBtnDisabled}`,title:"Only managers and the owner can create episodes",children:[i.jsx(Qr,{size:18,strokeWidth:2.5,"aria-hidden":!0}),"New Episode"]})]}),i.jsxs("div",{className:ct.summary,children:[i.jsxs("span",{className:ct.summaryItem,children:[i.jsx("span",{className:ct.summaryCount,children:b}),i.jsx("span",{className:ct.summaryLabel,children:"Published"})]}),i.jsxs("span",{className:ct.summaryItem,children:[i.jsx("span",{className:ct.summaryCount,children:_}),i.jsx("span",{className:ct.summaryLabel,children:"Scheduled"})]}),i.jsxs("span",{className:ct.summaryItem,children:[i.jsx("span",{className:ct.summaryCount,children:j}),i.jsx("span",{className:ct.summaryLabel,children:"Draft"})]})]}),a&&i.jsx("p",{className:ct.muted,children:i.jsx(JK,{label:"Loading episodes"})}),!a&&n.length===0&&i.jsxs("div",{className:ct.empty,children:[i.jsx("p",{children:"No episodes yet."}),h?i.jsx("span",{className:`${ct.emptyLink} ${ct.emptyLinkDisabled}`,title:"Read-only account",children:"Create first episode"}):m?c?i.jsx("span",{className:`${ct.emptyLink} ${ct.emptyLinkDisabled}`,title:"You're at max episodes for this show",children:"Create first episode"}):i.jsx(Xe,{to:`/podcasts/${e}/episodes/new`,className:ct.emptyLink,children:"Create first episode"}):i.jsx("span",{className:`${ct.emptyLink} ${ct.emptyLinkDisabled}`,title:"Only managers and the owner can create episodes",children:"Create first episode"})]}),!a&&n.length>0&&i.jsx("ul",{className:ct.list,children:n.map(y=>{const x=y.subscriber_only===1;return i.jsx("li",{className:x?`${ct.item} ${ct.itemSubscriberOnly}`:ct.item,children:i.jsxs(Xe,{to:`/episodes/${y.id}`,className:ct.itemLink,"aria-label":`Open ${y.title}`,children:[i.jsxs("div",{className:ct.itemContent,children:[i.jsxs("div",{className:ct.itemTitleRow,children:[x&&i.jsx(Ps,{size:14,strokeWidth:2.5,className:ct.itemTitleLockGold,"aria-label":"Subscriber only"}),i.jsx("span",{className:ct.itemTitle,children:y.title})]}),i.jsxs("div",{className:ct.itemMeta,children:[i.jsx("span",{className:ct.itemStatus,children:y.status}),(y.season_number!=null||y.episode_number!=null)&&i.jsxs("span",{className:ct.itemMetaItem,children:["S",y.season_number??"?"," E",y.episode_number??"?"]}),y.audio_final_path&&i.jsx("span",{className:ct.itemMetaItem,children:" Audio"})]})]}),i.jsx(Xd,{className:ct.itemChevron,size:20,strokeWidth:2,"aria-hidden":!0})]})},y.id)})})]})]})}function wSe(){var x;const{id:e}=wi(),t=xi(),r=Bt(),{data:n}=De({queryKey:["podcast",e],queryFn:()=>pu(e),enabled:!!e}),a=(n==null?void 0:n.max_episodes)??null,o=Number((n==null?void 0:n.episode_count)??0),u=a!=null&&a>0&&o>=Number(a),{data:c}=De({queryKey:["me"],queryFn:Si}),p=lu(c==null?void 0:c.user);v.useEffect(()=>{p&&e&&t(`/podcasts/${e}/episodes`,{replace:!0})},[p,e,t]);const[h,f]=v.useState(""),[m,b]=v.useState(""),_=v.useRef(null);gi(_,m,{minHeight:80});const j=Ve({mutationFn:()=>{const S=e;if(!S)throw new Error("Missing podcast id");return Wwe(S,{title:h||"",description:m||"",status:"draft",guid_is_permalink:0})},onSuccess:S=>{r.invalidateQueries({queryKey:["episodes",e]}),r.invalidateQueries({queryKey:["podcast",e]}),t(`/episodes/${S.id}`)}});function w(S){S.preventDefault(),!p&&j.mutate()}if(!e)return null;const y=[{label:"Home",href:"/"},{label:(n==null?void 0:n.title)??"Show",href:`/podcasts/${e}`,mobileLabel:"Podcast"},{label:"Episodes",href:`/podcasts/${e}/episodes`},{label:"New episode",hideOnMobile:!0}];return i.jsxs("div",{className:Pt.page,children:[i.jsx(rf,{items:y}),i.jsxs("header",{className:Pt.hero,children:[i.jsxs("h1",{className:Pt.heroTitle,children:["New Episode",i.jsx("span",{className:Pt.heroTitleAccent,children:"Add an episode to your show"})]}),i.jsx("p",{className:Pt.heroSub,children:"Give your episode a title. You can add a description, audio, and schedule in the editor after creating it."})]}),i.jsx("div",{className:Pt.card,children:i.jsxs("form",{onSubmit:w,className:Pt.form,children:[i.jsxs("label",{className:Pt.label,children:["Title",i.jsx("input",{type:"text",value:h,onChange:S=>f(S.target.value),className:Pt.input,placeholder:"e.g. Episode 1: Getting started",required:!0})]}),i.jsxs("label",{className:Pt.label,children:["Description",i.jsx("textarea",{ref:_,value:m,onChange:S=>b(S.target.value),className:Pt.textarea,rows:2,style:{overflow:"hidden",resize:"none"},placeholder:"What's this episode about? (optional)"})]}),u&&i.jsxs("p",{className:Pt.error,role:"alert",children:["This show has reached its limit of ",a," episode",a===1?"":"s",". You cannot create more."]}),j.isError&&i.jsx("p",{className:Pt.error,role:"alert",children:(x=j.error)==null?void 0:x.message}),i.jsxs("div",{className:Pt.actions,children:[i.jsxs("button",{type:"button",className:Pt.cancel,onClick:()=>t(-1),"aria-label":"Cancel creating episode",children:[i.jsx(WM,{size:18,strokeWidth:2,"aria-hidden":!0}),"Cancel"]}),i.jsxs("button",{type:"submit",className:Pt.submit,disabled:j.isPending||u||p,"aria-label":"Create episode",children:[i.jsx(Qr,{size:18,strokeWidth:2.5,"aria-hidden":!0}),j.isPending?"Creating...":"Create Episode"]})]})]})})]})}const Hr="/api";function SSe(e){return fetch(`${Hr}/episodes/${e}/segments`,{method:"GET",credentials:"include"}).then(t=>t.ok?t.json():t.json().then(r=>{throw new Error(r.error??t.statusText)}))}function jSe(e,t,r){const n=new FormData;return r!=null&&r.trim()&&n.append("name",r.trim()),n.append("file",t),fetch(`${Hr}/episodes/${e}/segments`,{method:"POST",credentials:"include",headers:tr(),body:n}).then(a=>a.ok?a.json():a.json().then(o=>{throw new Error(o.error??a.statusText)}))}function CSe(e,t,r){return fetch(`${Hr}/episodes/${e}/segments`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",...tr()},body:JSON.stringify({type:"reusable",reusable_asset_id:t,name:void 0})}).then(n=>n.ok?n.json():n.json().then(a=>{throw new Error(a.error??n.statusText)}))}function kSe(e,t){return fetch(`${Hr}/episodes/${e}/segments/reorder`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json",...tr()},body:JSON.stringify({segment_ids:t})}).then(r=>r.ok?r.json():r.json().then(n=>{throw new Error(n.error??r.statusText)}))}function NSe(e,t,r){return fetch(`${Hr}/episodes/${e}/segments/${t}`,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json",...tr()},body:JSON.stringify(r)}).then(n=>n.ok?n.json():n.json().then(a=>{throw new Error(a.error??n.statusText)}))}function $v(e,t,r){const n=`${Hr}/episodes/${e}/segments/${t}/stream`;return r?`${n}?v=${encodeURIComponent(r)}`:n}function ESe(e,t){return`${Hr}/episodes/${e}/segments/${t}/waveform`}function pv(e,t){return fetch(`${Hr}/episodes/${e}/segments/${t}/transcript`,{credentials:"include"}).then(r=>r.ok?r.json():r.json().then(n=>{throw new Error(n.error??r.statusText)}))}function TSe(e,t,r){const n=new URL(`${Hr}/episodes/${e}/segments/${t}/transcript`,window.location.origin);return n.searchParams.set("regenerate","true"),fetch(n.toString(),{method:"POST",credentials:"include",headers:tr()}).then(a=>a.ok?a.json():a.json().then(o=>{throw new Error(o.error??a.statusText)}))}function PSe(e,t){return fetch(`${Hr}/episodes/${e}/segments/${t}`,{method:"DELETE",credentials:"include",headers:tr()}).then(r=>{if(!r.ok)return r.json().then(n=>{throw new Error(n.error??r.statusText)})})}function ASe(e,t,r){return fetch(`${Hr}/episodes/${e}/segments/${t}/transcript`,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json",...tr()},body:JSON.stringify({text:r})}).then(n=>n.ok?n.json():n.json().then(a=>{throw new Error(a.error??n.statusText)}))}function RSe(e){return fetch(`${Hr}/episodes/${e}/transcript`,{credentials:"include"}).then(t=>t.ok?t.json():t.json().then(r=>{throw new Error(r.error??t.statusText)}))}function OSe(e){return fetch(`${Hr}/episodes/${e}/generate-transcript`,{method:"POST",credentials:"include",headers:tr()}).then(t=>{if(!(t.status===202||t.status===409)&&!t.ok)return t.json().then(r=>{throw new Error(r.error??t.statusText)})})}function DSe(e){return fetch(`${Hr}/episodes/${e}/transcript-status`,{credentials:"include"}).then(t=>t.ok?t.json():t.json().then(r=>{throw new Error(r.error??t.statusText)}))}function MSe(e,t){return fetch(`${Hr}/episodes/${e}/transcript`,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json",...tr()},body:JSON.stringify({text:t})}).then(r=>r.ok?r.json():r.json().then(n=>{throw new Error(n.error??r.statusText)}))}function k7(e,t,r){const n=new URL(`${Hr}/episodes/${e}/segments/${t}/transcript`,window.location.origin);return typeof r=="number"&&n.searchParams.set("entryIndex",String(r)),fetch(n.toString(),{method:"DELETE",credentials:"include",headers:tr()}).then(a=>a.ok?a.status===204?{}:a.json():a.json().then(o=>{throw new Error(o.error??a.statusText)}))}function LSe(e,t,r,n){const a={};return r!==void 0&&(a.start_sec=r),n!==void 0&&(a.end_sec=n),fetch(`${Hr}/episodes/${e}/segments/${t}/trim`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",...tr()},body:JSON.stringify(a)}).then(o=>{if(!o.ok)return o.json().then(u=>{throw new Error(u.error??o.statusText)})})}function ISe(e,t,r,n){const a={};return a.threshold_seconds=r,a.silence_threshold=n,fetch(`${Hr}/episodes/${e}/segments/${t}/remove-silence`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",...tr()},body:JSON.stringify(a)}).then(o=>{if(!o.ok)return o.json().then(u=>{throw new Error(u.error??o.statusText)})})}function $Se(e,t,r=-25){return fetch(`${Hr}/episodes/${e}/segments/${t}/noise-suppression`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",...tr()},body:JSON.stringify({nf:r})}).then(n=>{if(!n.ok)return n.json().then(a=>{throw new Error(a.error??n.statusText)})})}function BSe(e){return fetch(`${Hr}/episodes/${e}/render`,{method:"POST",credentials:"include",headers:tr()}).then(async t=>{const r=await t.json().catch(()=>({}));if(t.status===202)return{status:"building"};if(t.status===409)return{status:"already_building",message:r.message??"A build is already in progress."};if(!t.ok)throw new Error(r.error??t.statusText);return r})}function p4(e){return fetch(`${Hr}/episodes/${e}/render-status`,{method:"GET",credentials:"include"}).then(t=>t.ok?t.json():t.json().then(r=>{throw new Error(r.error??t.statusText)}))}function zSe(){return At("/asr/available")}function N7(e){if(!e)return"";const t=Math.floor(e/3600),r=Math.floor(e%3600/60),n=e%60;return t>0?`${t}:${String(r).padStart(2,"0")}:${String(n).padStart(2,"0")}`:`${r}:${String(n).padStart(2,"0")}`}function h4(e){if(e==null||!Number.isFinite(e))return"00:00";const t=Math.ceil(e),r=Math.floor(t/3600),n=Math.floor(t%3600/60),a=t%60;return r>0?`${String(r).padStart(2,"0")}:${String(n).padStart(2,"0")}:${String(a).padStart(2,"0")}`:`${String(n).padStart(2,"0")}:${String(a).padStart(2,"0")}`}function _m(e){if(!e||typeof e!="string")return null;const t=e.trim();if(!t)return null;const n=/Z$|[+-]\d{2}:?\d{2}$/.test(t)?t:t.replace(/Z?$/,"").replace(" ","T")+"Z",a=new Date(n);return Number.isFinite(a.getTime())?a:null}function v_(e){const t=_m(e);if(!t)return"";try{return t.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})}catch{return""}}function l2(e){const t=_m(e);if(!t)return"";try{return t.toLocaleString(void 0,{dateStyle:"medium",timeStyle:"short"})}catch{return""}}function FSe(e){const t=_m(e);if(!t)return"";try{return t.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})}catch{return""}}function c2(e,t){return e!=null&&t!=null?`S${e} E${t}`:e!=null?`S${e}`:t!=null?`E${t}`:""}function qSe(e,t){return e!=null&&t!=null?`Season ${e} Episode ${t}`:e!=null?`Season ${e}`:t!=null?`Episode ${t}`:""}function Rw(e){return{title:e.title,slug:e.slug||rb(e.title),description:e.description??"",subtitle:e.subtitle??"",summary:e.summary??"",contentEncoded:e.content_encoded??"",guid:e.guid??"",artworkUrl:e.artwork_url??"",seasonNumber:e.season_number!=null?String(e.season_number):"",episodeNumber:e.episode_number!=null?String(e.episode_number):"",status:e.status,publishAt:e.publish_at?WSe(e.publish_at):"",explicit:!!e.explicit,episodeType:e.episode_type||"full",episodeLink:e.episode_link??"",guidIsPermalink:e.guid_is_permalink===1,subscriberOnly:!!e.subscriber_only}}function USe(e){var t,r,n,a;return{title:e.title,slug:e.slug||rb(e.title),description:e.description,subtitle:((t=e.subtitle)==null?void 0:t.trim())||null,summary:((r=e.summary)==null?void 0:r.trim())||null,content_encoded:((n=e.contentEncoded)==null?void 0:n.trim())||null,guid:((a=e.guid)==null?void 0:a.trim())||void 0,season_number:e.seasonNumber===""?null:parseInt(e.seasonNumber,10),episode_number:e.episodeNumber===""?null:parseInt(e.episodeNumber,10),episode_type:e.episodeType||"full",status:e.status,artwork_url:e.artworkUrl===""?null:e.artworkUrl,explicit:e.explicit?1:0,publish_at:e.publishAt?new Date(e.publishAt).toISOString():null,episode_link:e.episodeLink||null,guid_is_permalink:e.guidIsPermalink?1:0,subscriber_only:e.subscriberOnly?1:0}}function rb(e){return e.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"").replace(/-+/g,"-").replace(/^-|-$/g,"")}function Cd(e){if(!Number.isFinite(e)||e<0)return"0:00";const t=Math.floor(e/60),r=Math.floor(e%60);return`${t}:${String(r).padStart(2,"0")}`}function HSe(e){const t=_m(e);if(!t)return e;try{return t.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})}catch{return e}}function WSe(e){const t=_m(e);if(!t)return"";const r=n=>n.toString().padStart(2,"0");return`${t.getFullYear()}-${r(t.getMonth()+1)}-${r(t.getDate())}T${r(t.getHours())}:${r(t.getMinutes())}:${r(t.getSeconds())}`}var E7={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},m4=hi.createContext&&hi.createContext(E7),KSe=["attr","size","title"];function GSe(e,t){if(e==null)return{};var r=VSe(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function nb(){return nb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nb.apply(this,arguments)}function g4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ab(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g4(Object(r),!0).forEach(function(n){YSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YSe(e,t,r){return t=QSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QSe(e){var t=XSe(e,"string");return typeof t=="symbol"?t:t+""}function XSe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T7(e){return e&&e.map((t,r)=>hi.createElement(t.tag,ab({key:r},t.attr),T7(t.child)))}function Qi(e){return t=>hi.createElement(ZSe,nb({attr:ab({},e.attr)},t),T7(e.child))}function ZSe(e){var t=r=>{var{attr:n,size:a,title:o}=e,u=GSe(e,KSe),c=a||r.size||"1em",p;return r.className&&(p=r.className),e.className&&(p=(p?p+" ":"")+e.className),hi.createElement("svg",nb({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,u,{className:p,style:ab(ab({color:e.color||r.color},r.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),o&&hi.createElement("title",null,o),e.children)};return m4!==void 0?hi.createElement(m4.Consumer,null,r=>t(r)):t(E7)}function JSe(e){return Qi({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M14.8454 9.4083c-1.3907 1.0194-3.405 1.563-5.1424 1.563a9.333 9.333 0 0 1-6.2768-2.3835c-.1313-.117-.0143-.277.1415-.1846a12.693 12.693 0 0 0 6.285 1.6574c1.5384 0 3.2348-.318 4.7917-.9764.2359-.0985.4328.1538.203.324h-.002zm.5784-.6564c-.1784-.2257-1.1753-.1087-1.6225-.0554-.1374.0164-.158-.1026-.0349-.1867.796-.5558 2.0984-.3958 2.2502-.2092.1539.1867-.041 1.4872-.7856 2.1087-.1149.0964-.2236.0451-.1723-.082.1682-.4165.5436-1.3498.3651-1.5754zm-1.5917-4.1702v-.5394c0-.082.0615-.1375.1374-.1375h2.4348c.078 0 .1395.0554.1395.1354v.4636c0 .078-.0656.1805-.1846.3405L15.0997 6.635c.4677-.0102.9641.0595 1.3887.2974.0964.0534.123.1334.1292.2113v.5744c0 .082-.0882.1723-.1784.123a2.8163 2.8163 0 0 0-2.5723.0062c-.0861.0451-.1743-.0451-.1743-.1251v-.5477c0-.0882.002-.238.0902-.3713l1.4626-2.0881h-1.2718c-.078 0-.1415-.0534-.1436-.1354l.002.002zm4.808-.7466c1.0995 0 1.6944.9395 1.6944 2.1333 0 1.1528-.6564 2.0676-1.6943 2.0676-1.079 0-1.6656-.9395-1.6656-2.1087 0-1.1774.5948-2.0922 1.6656-2.0922zm.0062.7713c-.5456 0-.5805.7384-.5805 1.202 0 .4615-.0061 1.4481.5744 1.4481.5743 0 .601-.7958.601-1.282 0-.318-.0144-.6994-.1108-1.001-.082-.2625-.2482-.3671-.4841-.3671zm-6.008 3.3414c-.0493.041-.1395.0451-.1744.0164-.2543-.1949-.4246-.4923-.4246-.4923-.4061.4123-.6954.5374-1.2225.5374-.6215 0-1.1077-.3835-1.1077-1.1486a1.2512 1.2512 0 0 1 .7897-1.2041c.402-.1764.9641-.2072 1.3928-.2564 0 0 .0349-.4615-.0902-.6297a.521.521 0 0 0-.4164-.1908c-.2728 0-.5395.1477-.5928.4328-.0144.082-.0739.1518-.1395.1436L9.945 5.08a.1292.1292 0 0 1-.1108-.1537c.1641-.8657.9498-1.1282 1.6554-1.1282.361 0 .8307.0964 1.1158.3671.359.3344.3262.7795.3262 1.2677v1.1487c0 .3446.1436.4964.279.681.0471.0677.0574.1477-.002.197-.1519.125-.5703.4881-.5703.4881zm-.7467-1.7969v-.16c-.5353 0-1.1015.115-1.1015.7426 0 .318.1662.5333.4513.5333.2051 0 .3938-.1272.5128-.3344.1436-.2564.1374-.4943.1374-.7815zM2.9278 7.948c-.0472.041-.1375.045-.1723.0163-.2544-.1949-.4246-.4923-.4246-.4923-.4082.4123-.6954.5374-1.2226.5374-.6235 0-1.1076-.3835-1.1076-1.1486a1.2512 1.2512 0 0 1 .7897-1.2041c.402-.1764.964-.2072 1.3928-.2564 0 0 .0348-.4615-.0903-.6297a.521.521 0 0 0-.4164-.1908c-.2748 0-.5395.1477-.5928.4328-.0143.082-.0759.1518-.1395.1436L.2345 5.08a.1292.1292 0 0 1-.1087-.1537c.162-.8657.9497-1.1282 1.6553-1.1282.361 0 .8308.0964 1.1159.3671.359.3344.324.7795.324 1.2677v1.1487c0 .3446.1437.4964.279.681.0472.0677.0575.1477-.002.197-.1518.125-.5702.4881-.5702.4881zm-.7446-1.797v-.16c-.5354 0-1.1015.115-1.1015.7426 0 .318.164.5333.4512.5333.2052 0 .3939-.1272.5128-.3344.1436-.2564.1375-.4943.1375-.7815zm2.9127-.3343v2.002a.1379.1379 0 0 1-.1395.1374H4.218a.1374.1374 0 0 1-.1395-.1374v-3.766a.1379.1379 0 0 1 .1395-.1375h.6913a.1374.1374 0 0 1 .1374.1374v.482h.0143c.1805-.4758.519-.6994.9744-.6994.4636 0 .7528.2236.962.6995a1.0523 1.0523 0 0 1 1.0215-.6995c.3118 0 .6502.1272.8574.4143.236.318.1867.7795.1867 1.1857v2.3855c0 .076-.0636.1354-.1436.1354H8.181a.1374.1374 0 0 1-.1334-.1354v-2.004c0-.16.0144-.558-.0205-.7077-.0554-.2564-.2215-.3282-.4369-.3282a.4923.4923 0 0 0-.441.3118c-.076.1908-.0698.5087-.0698.724v2.0041c0 .076-.0635.1354-.1435.1354h-.7385a.1374.1374 0 0 1-.1333-.1354v-2.004c0-.4226.0677-1.042-.4574-1.042-.5334 0-.5128.603-.5128 1.042h.002zm16.8077 2.002a.1374.1374 0 0 1-.1374.1374h-.7405a.1374.1374 0 0 1-.1374-.1374v-3.766a.1374.1374 0 0 1 .1374-.1375h.683c.0821 0 .1396.0636.1396.1067v.5764h.0143c.2051-.517.4964-.7631 1.0092-.7631.3323 0 .6564.119.8636.4451.1928.3036.1928.8123.1928 1.1774V7.837a.1395.1395 0 0 1-.1415.119h-.7426a.1395.1395 0 0 1-.1313-.119V5.552c0-.763-.2933-.7856-.4635-.7856-.197 0-.357.1538-.4246.2953a1.7025 1.7025 0 0 0-.1231.722l.002 2.0349zM.1914 20.0582c-.1271 0-.1907-.0615-.1907-.1907v-4.4491c0-.1272.0636-.1908.1907-.1908H.616c.0616 0 .1129.0144.1477.039.0349.0246.0595.0738.0718.1436l.0575.3035c.6133-.4184 1.2102-.6276 1.7907-.6276.5948 0 .9969.2256 1.2081.6769.6318-.4513 1.2636-.677 1.8954-.677.441 0 .7794.1231 1.0153.3693.236.2502.3549.603.3549 1.0584v3.3538c0 .1271-.0656.1907-.1928.1907h-.5641c-.1272 0-.1928-.0615-.1928-.1907v-3.085c0-.318-.0616-.5539-.1805-.7057-.1231-.1538-.3139-.2297-.5744-.2297-.4677 0-.9353.1436-1.4092.4307a.997.997 0 0 1 .0103.1416v3.448c0 .1272-.0636.1908-.1908.1908H3.297c-.1272 0-.1908-.0615-.1908-.1907v-3.085c0-.318-.0615-.5539-.1825-.7057-.1231-.1538-.3139-.2297-.5744-.2297-.4861 0-.9517.1395-1.399.4205v3.5999c0 .1271-.0615.1907-.1907.1907H.1914zm9.731.1436c-.4533 0-.8-.1272-1.044-.3815-.242-.2544-.3631-.6133-.3631-1.0769v-3.321c0-.1292.0615-.1927.1908-.1927h.564c.1293 0 .1929.0635.1929.1907v3.0215c0 .3425.0656.5948.201.7569.1333.162.3487.242.642.242.4595 0 .923-.1518 1.3887-.4574v-3.565c0-.1272.0615-.1908.1908-.1908h.564c.1293 0 .1929.0636.1929.1908v4.4511c0 .1252-.0636.1887-.1928.1887h-.4103c-.0636 0-.1149-.0123-.1497-.0369-.0349-.0266-.0575-.0738-.0718-.1436l-.0657-.3323c-.5948.437-1.204.6564-1.8297.6564zm5.4399 0c-.5374 0-1.0195-.0882-1.4461-.2666a.3754.3754 0 0 1-.158-.1047c-.0287-.039-.043-.0984-.043-.1805v-.2687c0-.1148.0369-.1723.1148-.1723.0452 0 .1231.0205.238.0575.4225.1333.8615.199 1.3128.199.3138 0 .5517-.0616.7138-.1806.164-.121.244-.2954.244-.523a.4923.4923 0 0 0-.1476-.3734 1.606 1.606 0 0 0-.5415-.285l-.8144-.3037c-.7097-.2605-1.0625-.7056-1.0625-1.3333 0-.4143.16-.7487.484-1.001.3221-.2543.7447-.3815 1.2677-.3815a3.487 3.487 0 0 1 1.2164.2195c.076.0246.1313.0574.1641.0985.0308.041.0472.1025.0472.1846v.2584c0 .1149-.041.1723-.123.1723a.8615.8615 0 0 1-.2216-.0472 3.5495 3.5495 0 0 0-1.0359-.1538c-.6112 0-.919.2072-.919.6195 0 .164.0514.2953.154.3897.1025.0964.3035.201.603.3159l.7466.2872c.3774.1436.6482.318.8144.519.1661.1989.2482.4574.2482.7753 0 .4513-.1682.8102-.5067 1.0769-.3385.2666-.7877.4-1.3497.4v.002zm3.0645-.1436c-.1272 0-.1928-.0615-.1928-.1907v-4.4491c0-.1272.0656-.1908.1928-.1908h.5641c.1272 0 .1928.0636.1928.1908v4.4511c0 .1251-.0656.1887-.1928.1887h-.564zm.2872-5.688c-.1846 0-.3303-.0513-.437-.1559a.558.558 0 0 1-.1579-.4143c0-.1724.0534-.3098.158-.4144a.5907.5907 0 0 1 .4369-.158c.1846 0 .3282.0534.4349.158.1066.1026.1579.242.1579.4144 0 .1702-.0513.3076-.158.4143-.1046.1026-.2502.1559-.4348.1559zm4.002 5.7926c-.7529 0-1.3293-.2133-1.7272-.642-.4-.4307-.599-1.0502-.599-1.8625 0-.8061.2052-1.4318.6175-1.8728.4102-.441.9948-.6625 1.7476-.6625.3446 0 .683.0615 1.0154.1825.0697.0247.119.0554.1477.0944s.043.1026.043.1908v.2564c0 .1271-.041.1907-.123.1907-.0329 0-.082-.0082-.1539-.0287a2.8307 2.8307 0 0 0-.7959-.1128c-.5353 0-.923.1333-1.1589.404s-.3528.6996-.3528 1.2924v.123c0 .5764.119 1.001.359 1.2718.24.2687.6174.404 1.1343.404.2666 0 .5538-.043.8615-.1332.0718-.0206.119-.0288.1436-.0288.082 0 .1251.0636.1251.1908v.2585c0 .082-.0123.1435-.039.1805-.0246.0369-.0759.0718-.1518.1025-.3138.1354-.6769.201-1.0933.201z"},child:[]}]})(e)}function eje(e){return Qi({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5.34 0A5.328 5.328 0 000 5.34v13.32A5.328 5.328 0 005.34 24h13.32A5.328 5.328 0 0024 18.66V5.34A5.328 5.328 0 0018.66 0zm6.525 2.568c2.336 0 4.448.902 6.056 2.587 1.224 1.272 1.912 2.619 2.264 4.392.12.59.12 2.2.007 2.864a8.506 8.506 0 01-3.24 5.296c-.608.46-2.096 1.261-2.336 1.261-.088 0-.096-.091-.056-.46.072-.592.144-.715.48-.856.536-.224 1.448-.874 2.008-1.435a7.644 7.644 0 002.008-3.536c.208-.824.184-2.656-.048-3.504-.728-2.696-2.928-4.792-5.624-5.352-.784-.16-2.208-.16-3 0-2.728.56-4.984 2.76-5.672 5.528-.184.752-.184 2.584 0 3.336.456 1.832 1.64 3.512 3.192 4.512.304.2.672.408.824.472.336.144.408.264.472.856.04.36.03.464-.056.464-.056 0-.464-.176-.896-.384l-.04-.03c-2.472-1.216-4.056-3.274-4.632-6.012-.144-.706-.168-2.392-.03-3.04.36-1.74 1.048-3.1 2.192-4.304 1.648-1.737 3.768-2.656 6.128-2.656zm.134 2.81c.409.004.803.04 1.106.106 2.784.62 4.76 3.408 4.376 6.174-.152 1.114-.536 2.03-1.216 2.88-.336.43-1.152 1.15-1.296 1.15-.023 0-.048-.272-.048-.603v-.605l.416-.496c1.568-1.878 1.456-4.502-.256-6.224-.664-.67-1.432-1.064-2.424-1.246-.64-.118-.776-.118-1.448-.008-1.02.167-1.81.562-2.512 1.256-1.72 1.704-1.832 4.342-.264 6.222l.413.496v.608c0 .336-.027.608-.06.608-.03 0-.264-.16-.512-.36l-.034-.011c-.832-.664-1.568-1.842-1.872-2.997-.184-.698-.184-2.024.008-2.72.504-1.878 1.888-3.335 3.808-4.019.41-.145 1.133-.22 1.814-.211zm-.13 2.99c.31 0 .62.06.844.178.488.253.888.745 1.04 1.259.464 1.578-1.208 2.96-2.72 2.254h-.015c-.712-.331-1.096-.956-1.104-1.77 0-.733.408-1.371 1.112-1.745.224-.117.534-.176.844-.176zm-.011 4.728c.988-.004 1.706.349 1.97.97.198.464.124 1.932-.218 4.302-.232 1.656-.36 2.074-.68 2.356-.44.39-1.064.498-1.656.288h-.003c-.716-.257-.87-.605-1.164-2.644-.341-2.37-.416-3.838-.218-4.302.262-.616.974-.966 1.97-.97z"},child:[]}]})(e)}function tje(e){return Qi({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 0c-.29 0-.58.068-.812.206L2.417 5.392c-.46.272-.804.875-.804 1.408v10.4c0 .533.344 1.135.804 1.407l8.77 5.187c.465.275 1.162.275 1.626 0l8.77-5.187c.46-.272.804-.874.804-1.407V6.8c0-.533-.344-1.136-.804-1.408L12.813.206A1.618 1.618 0 0012 0zm-.85 8.304c.394 0 .714.303.714.676v2.224c0 .207.191.375.427.375s.428-.168.428-.375V9.57c0-.373.32-.675.713-.675.394 0 .712.302.712.675v4.713c0 .374-.318.676-.712.676-.394 0-.713-.302-.713-.676v-1.31c0-.206-.192-.374-.428-.374s-.427.168-.427.374v1.226c0 .374-.32.676-.713.676-.394 0-.713-.302-.713-.676v-1.667c0-.207-.192-.375-.428-.375-.235 0-.427.168-.427.375v3.31c0 .373-.319.676-.712.676-.394 0-.713-.303-.713-.676v-2.427c0-.206-.191-.374-.428-.374-.235 0-.427.168-.427.374v.178a.71.71 0 01-.712.708.71.71 0 01-.713-.708v-2.123a.71.71 0 01.713-.708.71.71 0 01.712.708v.178c0 .206.192.373.427.373.237 0 .428-.167.428-.373v-1.53c0-.374.32-.676.713-.676.393 0 .712.303.712.676v.646c0 .206.192.374.427.374.236 0 .428-.168.428-.374V8.98c0-.373.319-.676.713-.676zm4.562 2.416c.393 0 .713.302.713.676v2.691c0 .374-.32.676-.713.676-.394 0-.712-.303-.712-.676v-2.691c0-.374.319-.676.712-.676zm2.28 1.368c.395 0 .713.303.713.676v.67c0 .374-.318.676-.712.676-.394 0-.713-.302-.713-.675v-.67c0-.374.32-.677.713-.677Z"},child:[]}]})(e)}function P7(e){return Qi({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9.101 23.691v-7.98H6.627v-3.667h2.474v-1.58c0-4.085 1.848-5.978 5.858-5.978.401 0 .955.042 1.468.103a8.68 8.68 0 0 1 1.141.195v3.325a8.623 8.623 0 0 0-.653-.036 26.805 26.805 0 0 0-.733-.009c-.707 0-1.259.096-1.675.309a1.686 1.686 0 0 0-.679.622c-.258.42-.374.995-.374 1.752v1.297h3.919l-.386 2.103-.287 1.564h-3.246v8.245C19.396 23.238 24 18.179 24 12.044c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.628 3.874 10.35 9.101 11.647Z"},child:[]}]})(e)}function rje(e){return Qi({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M7.0301.084c-1.2768.0602-2.1487.264-2.911.5634-.7888.3075-1.4575.72-2.1228 1.3877-.6652.6677-1.075 1.3368-1.3802 2.127-.2954.7638-.4956 1.6365-.552 2.914-.0564 1.2775-.0689 1.6882-.0626 4.947.0062 3.2586.0206 3.6671.0825 4.9473.061 1.2765.264 2.1482.5635 2.9107.308.7889.72 1.4573 1.388 2.1228.6679.6655 1.3365 1.0743 2.1285 1.38.7632.295 1.6361.4961 2.9134.552 1.2773.056 1.6884.069 4.9462.0627 3.2578-.0062 3.668-.0207 4.9478-.0814 1.28-.0607 2.147-.2652 2.9098-.5633.7889-.3086 1.4578-.72 2.1228-1.3881.665-.6682 1.0745-1.3378 1.3795-2.1284.2957-.7632.4966-1.636.552-2.9124.056-1.2809.0692-1.6898.063-4.948-.0063-3.2583-.021-3.6668-.0817-4.9465-.0607-1.2797-.264-2.1487-.5633-2.9117-.3084-.7889-.72-1.4568-1.3876-2.1228C21.2982 1.33 20.628.9208 19.8378.6165 19.074.321 18.2017.1197 16.9244.0645 15.6471.0093 15.236-.005 11.977.0014 8.718.0076 8.31.0215 7.0301.0839m.1402 21.6932c-1.17-.0509-1.8053-.2453-2.2287-.408-.5606-.216-.96-.4771-1.3819-.895-.422-.4178-.6811-.8186-.9-1.378-.1644-.4234-.3624-1.058-.4171-2.228-.0595-1.2645-.072-1.6442-.079-4.848-.007-3.2037.0053-3.583.0607-4.848.05-1.169.2456-1.805.408-2.2282.216-.5613.4762-.96.895-1.3816.4188-.4217.8184-.6814 1.3783-.9003.423-.1651 1.0575-.3614 2.227-.4171 1.2655-.06 1.6447-.072 4.848-.079 3.2033-.007 3.5835.005 4.8495.0608 1.169.0508 1.8053.2445 2.228.408.5608.216.96.4754 1.3816.895.4217.4194.6816.8176.9005 1.3787.1653.4217.3617 1.056.4169 2.2263.0602 1.2655.0739 1.645.0796 4.848.0058 3.203-.0055 3.5834-.061 4.848-.051 1.17-.245 1.8055-.408 2.2294-.216.5604-.4763.96-.8954 1.3814-.419.4215-.8181.6811-1.3783.9-.4224.1649-1.0577.3617-2.2262.4174-1.2656.0595-1.6448.072-4.8493.079-3.2045.007-3.5825-.006-4.848-.0608M16.953 5.5864A1.44 1.44 0 1 0 18.39 4.144a1.44 1.44 0 0 0-1.437 1.4424M5.8385 12.012c.0067 3.4032 2.7706 6.1557 6.173 6.1493 3.4026-.0065 6.157-2.7701 6.1506-6.1733-.0065-3.4032-2.771-6.1565-6.174-6.1498-3.403.0067-6.156 2.771-6.1496 6.1738M8 12.0077a4 4 0 1 1 4.008 3.9921A3.9996 3.9996 0 0 1 8 12.0077"},child:[]}]})(e)}function nje(e){return Qi({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5.0056.0056c-.2362.0208-.4667.1034-.6462.2366C1.7274 2.2537.1728 4.9759.2924 8.289c.1197 3.1949 1.6743 6.2709 4.067 8.0458.2393.1183.4795.2366.7188.2366.3589 0 .7172-.1182.9564-.4732.4786-.5917.3594-1.3013-.2388-1.6563-1.9142-1.3016-3.1105-3.7863-3.1105-6.1529 0-2.4848 1.0767-4.6157 3.1105-6.154.5982-.355.5977-1.183.2388-1.6562-.2243-.3698-.6353-.508-1.029-.4732Zm13.7533 0c-.314.0295-.613.1774-.7924.4732-.3589.4733-.3593 1.3012.2389 1.6562 2.0338 1.5383 3.1105 3.6692 3.1105 6.154 0 2.3666-1.1964 4.8513-3.1105 6.153-.5982.355-.7174 1.0645-.2389 1.6562.2393.355.5987.4732.9576.4732.2393 0 .4784-.1183.7176-.2366 2.5124-1.775 4.067-4.851 4.067-8.0458.1077-3.3131-1.435-6.0353-4.067-8.0468-.2392-.1775-.5687-.2662-.8828-.2366ZM16.4944 3.558c-.3065.0118-.609.1395-.8303.3761-.4546.4733-.4183 1.2307.0602 1.6686 1.5314 1.408 1.6627 3.7978-.0122 5.3716-.4666.4615-.4904 1.2075-.0357 1.6808.4546.4733 1.2078.4965 1.6863.0469 2.7158-2.5559 2.4881-6.5196-.0122-8.827-.2393-.2248-.5495-.3288-.856-.317zm-8.9933.0067c-.305-.0118-.6167.0914-.856.3103-2.5004 2.3074-2.7269 6.2711-.0111 8.827.4785.4496 1.2317.4264 1.6863-.0469.4547-.4733.4306-1.2189-.048-1.6685-1.6749-1.5738-1.5316-3.9647-.0122-5.3728.4785-.4496.5148-1.194.0602-1.6674-.2153-.2426-.514-.3699-.8192-.3817Zm4.499 2.1496a2.5714 2.5714 0 0 0-2.5715 2.5714 2.5714 2.5714 0 0 0 1.193 2.1696L7.7144 24h2.5246l2.8772-13.4018a2.5714 2.5714 0 0 0 1.4553-2.3125A2.5714 2.5714 0 0 0 12 5.7143Z"},child:[]}]})(e)}function aje(e){return Qi({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 0C5.373 0 0 5.373 0 12c0 3.314 1.343 6.314 3.515 8.485l-2.286 2.286C.775 23.225 1.097 24 1.738 24H12c6.627 0 12-5.373 12-12S18.627 0 12 0Zm4.388 3.199c1.104 0 1.999.895 1.999 1.999 0 1.105-.895 2-1.999 2-.946 0-1.739-.657-1.947-1.539v.002c-1.147.162-2.032 1.15-2.032 2.341v.007c1.776.067 3.4.567 4.686 1.363.473-.363 1.064-.58 1.707-.58 1.547 0 2.802 1.254 2.802 2.802 0 1.117-.655 2.081-1.601 2.531-.088 3.256-3.637 5.876-7.997 5.876-4.361 0-7.905-2.617-7.998-5.87-.954-.447-1.614-1.415-1.614-2.538 0-1.548 1.255-2.802 2.803-2.802.645 0 1.239.218 1.712.585 1.275-.79 2.881-1.291 4.64-1.365v-.01c0-1.663 1.263-3.034 2.88-3.207.188-.911.993-1.595 1.959-1.595Zm-8.085 8.376c-.784 0-1.459.78-1.506 1.797-.047 1.016.64 1.429 1.426 1.429.786 0 1.371-.369 1.418-1.385.047-1.017-.553-1.841-1.338-1.841Zm7.406 0c-.786 0-1.385.824-1.338 1.841.047 1.017.634 1.385 1.418 1.385.785 0 1.473-.413 1.426-1.429-.046-1.017-.721-1.797-1.506-1.797Zm-3.703 4.013c-.974 0-1.907.048-2.77.135-.147.015-.241.168-.183.305.483 1.154 1.622 1.964 2.953 1.964 1.33 0 2.47-.81 2.953-1.964.057-.137-.037-.29-.184-.305-.863-.087-1.795-.135-2.769-.135Z"},child:[]}]})(e)}function ije(e){return Qi({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.419 1.56-.299.421-1.02.599-1.559.3z"},child:[]}]})(e)}function sje(e){return Qi({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z"},child:[]}]})(e)}function A7(e){return Qi({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"},child:[]}]})(e)}function oje(e){return Qi({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"},child:[]}]})(e)}const lje="_overlay_1wtnz_1",cje="_dialog_1wtnz_22",uje="_header_1wtnz_33",dje="_title_1wtnz_40",fje="_closeButton_1wtnz_47",pje="_actions_1wtnz_70",hje="_actionBtn_1wtnz_76",mje="_actionBtnCopied_1wtnz_103",gje="_embedSection_1wtnz_112",vje="_embedHint_1wtnz_118",yje="_embedCode_1wtnz_124",bje="_copyBtn_1wtnz_141",_je="_backLink_1wtnz_166",hn={overlay:lje,dialog:cje,header:uje,title:dje,closeButton:fje,actions:pje,actionBtn:hje,actionBtnCopied:mje,embedSection:gje,embedHint:vje,embedCode:yje,copyBtn:bje,backLink:_je};function xje(e,t){const r=new URLSearchParams;r.set("url",e),t&&r.set("text",t),window.open(`https://twitter.com/intent/tweet?${r.toString()}`,"_blank","noopener,noreferrer,width=550,height=420")}function wje(e){window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(e)}`,"_blank","noopener,noreferrer,width=550,height=420")}function Sje(e,t){const r=new URLSearchParams;r.set("url",e),t&&r.set("title",t),window.open(`https://www.reddit.com/submit?${r.toString()}`,"_blank","noopener,noreferrer,width=550,height=420")}function u2({open:e,onOpenChange:t,url:r,title:n,embedCode:a}){const[o,u]=v.useState(null),[c,p]=v.useState(!1);if(v.useEffect(()=>{e||(p(!1),u(null))},[e]),!e)return null;const h=async()=>{try{await navigator.clipboard.writeText(r),u("link"),setTimeout(()=>u(null),2e3)}catch{u(null)}},f=async()=>{if(a)try{await navigator.clipboard.writeText(a),u("embed"),setTimeout(()=>u(null),2e3)}catch{u(null)}},m=()=>{p(!1),u(null)};return i.jsx("div",{className:hn.overlay,onClick:()=>t(!1),children:i.jsxs("div",{className:hn.dialog,onClick:b=>b.stopPropagation(),role:"dialog","aria-modal":"true","aria-labelledby":"share-dialog-title",children:[i.jsxs("div",{className:hn.header,children:[i.jsx("h3",{id:"share-dialog-title",className:hn.title,children:c?"Embed":"Share"}),i.jsx("button",{type:"button",className:hn.closeButton,onClick:()=>t(!1),"aria-label":"Close",children:i.jsx(Nt,{size:20,strokeWidth:2})})]}),c?i.jsxs("div",{className:hn.embedSection,children:[i.jsx("p",{className:hn.embedHint,children:"Copy this code to embed the player on your site."}),i.jsx("textarea",{className:hn.embedCode,value:a??"",readOnly:!0,rows:4,"aria-label":"Embed code"}),i.jsxs("button",{type:"button",className:hn.copyBtn,onClick:f,children:[i.jsx(fh,{size:18,strokeWidth:2,"aria-hidden":!0}),o==="embed"?"Copied!":"Copy code"]}),i.jsx("button",{type:"button",className:hn.backLink,onClick:m,children:"Back to share options"})]}):i.jsx(i.Fragment,{children:i.jsxs("div",{className:hn.actions,children:[i.jsx("button",{type:"button",className:hn.actionBtn,onClick:()=>{xje(r,n),t(!1)},"aria-label":"Share on X",title:"Share on X",children:i.jsx(A7,{size:22,"aria-hidden":!0})}),i.jsx("button",{type:"button",className:hn.actionBtn,onClick:()=>{wje(r),t(!1)},"aria-label":"Share on Facebook",title:"Share on Facebook",children:i.jsx(P7,{size:22,"aria-hidden":!0})}),i.jsx("button",{type:"button",className:hn.actionBtn,onClick:()=>{Sje(r,n),t(!1)},"aria-label":"Share on Reddit",title:"Share on Reddit",children:i.jsx(aje,{size:22,"aria-hidden":!0})}),i.jsx("button",{type:"button",className:o==="link"?`${hn.actionBtn} ${hn.actionBtnCopied}`:hn.actionBtn,onClick:h,"aria-label":o==="link"?"Copied":"Copy link",title:o==="link"?"Copied":"Copy link",children:o==="link"?i.jsx(Rj,{size:22,strokeWidth:2,"aria-hidden":!0}):i.jsx(fh,{size:22,strokeWidth:2,"aria-hidden":!0})}),a!=null&&i.jsx("button",{type:"button",className:hn.actionBtn,onClick:()=>p(!0),"aria-label":"Embed",title:"Embed",children:i.jsx(CF,{size:22,strokeWidth:2,"aria-hidden":!0})})]})})]})})}const jje="_page_1trfy_1",Cje="_hero_1trfy_6",kje="_heroTitle_1trfy_10",Nje="_heroActions_1trfy_17",Eje="_cardHeader_1trfy_26",Tje="_cardTitle_1trfy_35",Pje="_cardDescription_1trfy_44",Aje="_editTabs_1trfy_58",Rje="_editTab_1trfy_58",Oje="_editTabActive_1trfy_84",Dje="_secondaryBtn_1trfy_102",Mje="_card_1trfy_26",Lje="_showMeta_1trfy_128",Ije="_showMetaItem_1trfy_135",$je="_showMetaLabel_1trfy_141",Bje="_showMetaValue_1trfy_149",zje="_episodeSummaryDesc_1trfy_155",Fje="_form_1trfy_163",qje="_labelHint_1trfy_169",Uje="_label_1trfy_169",Hje="_input_1trfy_186",Wje="_textarea_1trfy_187",Kje="_select_1trfy_188",Gje="_sectionCard_1trfy_218",Vje="_sectionsPanel_1trfy_226",Yje="_sectionsPanelHeader_1trfy_230",Qje="_sectionTitle_1trfy_234",Xje="_sectionSub_1trfy_241",Zje="_addSectionRow_1trfy_247",Jje="_addSectionChoiceRow_1trfy_254",eCe="_addSectionChoiceBtn_1trfy_261",tCe="_addSectionChoiceBtnPrimary_1trfy_283",rCe="_addSectionChoiceBtnDisabled_1trfy_296",nCe="_buildBtn_1trfy_297",aCe="_transcriptGenerateBtn_1trfy_307",iCe="_libraryChooseFileBtn_1trfy_311",sCe="_addBtn_1trfy_317",oCe="_segmentList_1trfy_336",lCe="_segmentBlock_1trfy_345",cCe="_segmentBlockTop_1trfy_355",uCe="_segmentWaveformRow_1trfy_361",dCe="_segmentWaveformTrack_1trfy_369",fCe="_segmentIcon_1trfy_374",pCe="_segmentBody_1trfy_387",hCe="_segmentName_1trfy_392",mCe="_segmentNameInput_1trfy_398",gCe="_segmentMeta_1trfy_428",vCe="_segmentProgressTrack_1trfy_435",yCe="_segmentProgressFill_1trfy_455",bCe="_waveformTrack_1trfy_462",_Ce="_waveformCanvas_1trfy_482",xCe="_segmentActions_1trfy_490",wCe="_segmentBtn_1trfy_508",SCe="_segmentBtnDanger_1trfy_531",jCe="_generateBar_1trfy_543",CCe="_generateBarHeader_1trfy_568",kCe="_generateBarTitle_1trfy_572",NCe="_generateBarSub_1trfy_579",ECe="_generateBarPlayback_1trfy_586",TCe="_generateBarWaveform_1trfy_594",PCe="_generateBarProgressPlaceholder_1trfy_600",ACe="_generateBarInner_1trfy_608",RCe="_generateBarActionsWrap_1trfy_614",OCe="_generateBarBuildNotice_1trfy_621",DCe="_generateBarBuildNoticeIcon_1trfy_633",MCe="_generateBarActions_1trfy_614",LCe="_renderRow_1trfy_647",ICe="_renderCard_1trfy_653",$Ce="_renderHeader_1trfy_664",BCe="_renderTitle_1trfy_671",zCe="_renderSub_1trfy_678",FCe="_renderActions_1trfy_684",qCe="_renderBtnSecondary_1trfy_692",UCe="_renderBtnPrimary_1trfy_718",HCe="_generateBarTranscriptBtn_1trfy_746",WCe="_generateBarGenerateTranscriptBtn_1trfy_776",KCe="_renderDownload_1trfy_804",GCe="_renderBtn_1trfy_692",VCe="_actions_1trfy_823",YCe="_cancel_1trfy_832",QCe="_submit_1trfy_846",XCe="_callErrorBanner_1trfy_865",ZCe="_callErrorBannerDismiss_1trfy_878",JCe="_error_1trfy_894",eke="_rateLimitError_1trfy_904",tke="_success_1trfy_908",rke="_recordOverlay_1trfy_919",nke="_recordCard_1trfy_932",ake="_recordTitle_1trfy_947",ike="_recordSub_1trfy_954",ske="_recordMobileNote_1trfy_960",oke="_recordLabel_1trfy_967",lke="_optional_1trfy_977",cke="_recordNameInput_1trfy_983",uke="_recordBtn_1trfy_1000",dke="_record_1trfy_919",fke="_stop_1trfy_1021",pke="_recordTime_1trfy_1030",hke="_recordLevelWrap_1trfy_1038",mke="_recordLevelBar_1trfy_1042",gke="_recordLevelFill_1trfy_1051",vke="_recordLevelHint_1trfy_1058",yke="_recordPlaybackWrap_1trfy_1069",bke="_recordPlaybackRow_1trfy_1074",_ke="_recordPlaybackInfo_1trfy_1080",xke="_recordPlayback_1trfy_1069",wke="_recordChoiceRow_1trfy_1092",Ske="_recordChoiceBtn_1trfy_1099",jke="_recordChoiceBtnSecondary_1trfy_1117",Cke="_recordChoiceBtnPrimary_1trfy_1126",kke="_recordActions_1trfy_1143",Nke="_recordFooterRow_1trfy_1149",Eke="_libraryClose_1trfy_1158",Tke="_recordFooterRight_1trfy_1162",Pke="_recordFooterPrimaryBtn_1trfy_1170",Ake="_libraryOverlay_1trfy_1196",Rke="_libraryCard_1trfy_1207",Oke="_libraryCardBodyScroll_1trfy_1227",Dke="_libraryList_1trfy_1251",Mke="_libraryTitle_1trfy_1257",Lke="_librarySub_1trfy_1264",Ike="_libraryFilters_1trfy_1270",$ke="_librarySortToggle_1trfy_1296",Bke="_librarySortBtn_1trfy_1303",zke="_librarySortBtnActive_1trfy_1304",Fke="_libraryItem_1trfy_1356",qke="_libraryUploadForm_1trfy_1372",Uke="_libraryPendingFile_1trfy_1380",Hke="_libraryUploadActions_1trfy_1387",Wke="_libraryItemName_1trfy_1394",Kke="_libraryItemTag_1trfy_1406",Gke="_libraryItemContent_1trfy_1418",Vke="_libraryItemMeta_1trfy_1423",Yke="_libraryItemDate_1trfy_1429",Qke="_libraryPagination_1trfy_1433",Xke="_libraryPaginationLabel_1trfy_1444",Zke="_libraryPaginationBtns_1trfy_1449",Jke="_libraryPageBtn_1trfy_1454",e2e="_libraryEmpty_1trfy_1472",t2e="_audioSection_1trfy_1495",r2e="_dialogOverlay_1trfy_1510",n2e="_fadeIn_1trfy_1",a2e="_dialogContent_1trfy_1517",i2e="_dialogContentWide_1trfy_1532",s2e="_dialogHeaderRow_1trfy_1536",o2e="_dialogTitle_1trfy_1539",l2e="_dialogActions_1trfy_1542",c2e="_dialogContentScrollable_1trfy_1547",u2e="_dialogDetailsGrid_1trfy_1554",d2e="_dialogDescription_1trfy_1555",f2e="_dialogBodyScroll_1trfy_1558",p2e="_dialogFooter_1trfy_1562",h2e="_episodeDetailsDialog_1trfy_1574",m2e="_segmentTranscriptDialog_1trfy_1586",g2e="_formSectionTitle_1trfy_1590",v2e="_advancedSection_1trfy_1604",y2e="_advancedToggle_1trfy_1607",b2e="_advancedFields_1trfy_1622",_2e="_dialogClose_1trfy_1646",x2e="_statusToggle_1trfy_1712",w2e="_statusToggleBtn_1trfy_1720",S2e="_statusToggleActive_1trfy_1721",j2e="_transcriptToggleWrap_1trfy_1745",C2e="_transcriptToggle_1trfy_1745",k2e="_transcriptToggleBtn_1trfy_1756",N2e="_transcriptToggleActive_1trfy_1757",E2e="_transcriptAsk_1trfy_1778",T2e="_transcriptAskForm_1trfy_1783",P2e="_transcriptAskInput_1trfy_1787",A2e="_transcriptAskSubmit_1trfy_1801",R2e="_transcriptAskResponse_1trfy_1818",O2e="_transcriptEdit_1trfy_1830",D2e="_transcriptEditForm_1trfy_1835",M2e="_transcriptEditGroup_1trfy_1840",L2e="_transcriptEditLabel_1trfy_1845",I2e="_transcriptEditInput_1trfy_1853",$2e="_transcriptEditActions_1trfy_1865",B2e="_transcriptEditPreviewBtn_1trfy_1870",z2e="_transcriptEditBtn_1trfy_1893",F2e="_transcriptCards_1trfy_1926",q2e="_transcriptCard_1trfy_1926",U2e="_transcriptCardText_1trfy_1936",H2e="_transcriptCardFooter_1trfy_1944",W2e="_transcriptCardTimeControls_1trfy_1955",K2e="_transcriptCardTimeGroup_1trfy_1960",G2e="_transcriptCardTimeButtons_1trfy_1965",V2e="_transcriptCardTimeBtn_1trfy_1969",Y2e="_transcriptCardTimeLabel_1trfy_1992",Q2e="_transcriptCardFooterActions_1trfy_1996",X2e="_transcriptCardBtn_1trfy_2002",Z2e="_transcriptText_1trfy_2024",J2e="_transcriptViewActions_1trfy_2039",eNe="_episodeTranscriptDialog_1trfy_2047",tNe="_episodeTranscriptBody_1trfy_2052",rNe="_episodeTranscriptStatus_1trfy_2065",nNe="_episodeTranscriptErrorWrap_1trfy_2069",aNe="_episodeTranscriptError_1trfy_2069",iNe="_episodeTranscriptDialogActions_1trfy_2094",sNe="_dialogConfirmRemove_1trfy_2097",oNe="_detailsSummaryCard_1trfy_2120",lNe="_detailsSummaryCardSubscriberOnly_1trfy_2134",cNe="_detailsSummaryRow_1trfy_2138",uNe="_detailsSummaryArtwork_1trfy_2146",dNe="_detailsSummaryMain_1trfy_2155",fNe="_detailsSummaryTitleRow_1trfy_2160",pNe="_detailsSummaryTitleLock_1trfy_2166",hNe="_detailsSummaryTitle_1trfy_2160",mNe="_detailsSummaryMeta_1trfy_2179",gNe="_detailsSummaryEditBtn_1trfy_2185",vNe="_detailsSummaryEndCallBtn_1trfy_2213",yNe="_detailsSummaryActions_1trfy_2239",bNe="_detailsSummaryShareBtn_1trfy_2246",W={page:jje,hero:Cje,heroTitle:kje,heroActions:Nje,cardHeader:Eje,cardTitle:Tje,cardDescription:Pje,editTabs:Aje,editTab:Rje,editTabActive:Oje,secondaryBtn:Dje,card:Mje,showMeta:Lje,showMetaItem:Ije,showMetaLabel:$je,showMetaValue:Bje,episodeSummaryDesc:zje,form:Fje,labelHint:qje,label:Uje,input:Hje,textarea:Wje,select:Kje,sectionCard:Gje,sectionsPanel:Vje,sectionsPanelHeader:Yje,sectionTitle:Qje,sectionSub:Xje,addSectionRow:Zje,addSectionChoiceRow:Jje,addSectionChoiceBtn:eCe,addSectionChoiceBtnPrimary:tCe,addSectionChoiceBtnDisabled:rCe,buildBtn:nCe,transcriptGenerateBtn:aCe,libraryChooseFileBtn:iCe,addBtn:sCe,segmentList:oCe,segmentBlock:lCe,segmentBlockTop:cCe,segmentWaveformRow:uCe,segmentWaveformTrack:dCe,segmentIcon:fCe,segmentBody:pCe,segmentName:hCe,segmentNameInput:mCe,segmentMeta:gCe,segmentProgressTrack:vCe,segmentProgressFill:yCe,waveformTrack:bCe,waveformCanvas:_Ce,segmentActions:xCe,segmentBtn:wCe,segmentBtnDanger:SCe,generateBar:jCe,generateBarHeader:CCe,generateBarTitle:kCe,generateBarSub:NCe,generateBarPlayback:ECe,generateBarWaveform:TCe,generateBarProgressPlaceholder:PCe,generateBarInner:ACe,generateBarActionsWrap:RCe,generateBarBuildNotice:OCe,generateBarBuildNoticeIcon:DCe,generateBarActions:MCe,renderRow:LCe,renderCard:ICe,renderHeader:$Ce,renderTitle:BCe,renderSub:zCe,renderActions:FCe,renderBtnSecondary:qCe,renderBtnPrimary:UCe,generateBarTranscriptBtn:HCe,generateBarGenerateTranscriptBtn:WCe,renderDownload:KCe,renderBtn:GCe,actions:VCe,cancel:YCe,submit:QCe,callErrorBanner:XCe,callErrorBannerDismiss:ZCe,error:JCe,rateLimitError:eke,success:tke,recordOverlay:rke,recordCard:nke,recordTitle:ake,recordSub:ike,recordMobileNote:ske,recordLabel:oke,optional:lke,recordNameInput:cke,recordBtn:uke,record:dke,stop:fke,recordTime:pke,recordLevelWrap:hke,recordLevelBar:mke,recordLevelFill:gke,recordLevelHint:vke,recordPlaybackWrap:yke,recordPlaybackRow:bke,recordPlaybackInfo:_ke,recordPlayback:xke,recordChoiceRow:wke,recordChoiceBtn:Ske,recordChoiceBtnSecondary:jke,recordChoiceBtnPrimary:Cke,recordActions:kke,recordFooterRow:Nke,libraryClose:Eke,recordFooterRight:Tke,recordFooterPrimaryBtn:Pke,libraryOverlay:Ake,libraryCard:Rke,libraryCardBodyScroll:Oke,libraryList:Dke,libraryTitle:Mke,librarySub:Lke,libraryFilters:Ike,librarySortToggle:$ke,librarySortBtn:Bke,librarySortBtnActive:zke,libraryItem:Fke,libraryUploadForm:qke,libraryPendingFile:Uke,libraryUploadActions:Hke,libraryItemName:Wke,libraryItemTag:Kke,libraryItemContent:Gke,libraryItemMeta:Vke,libraryItemDate:Yke,libraryPagination:Qke,libraryPaginationLabel:Xke,libraryPaginationBtns:Zke,libraryPageBtn:Jke,libraryEmpty:e2e,audioSection:t2e,dialogOverlay:r2e,fadeIn:n2e,dialogContent:a2e,dialogContentWide:i2e,dialogHeaderRow:s2e,dialogTitle:o2e,dialogActions:l2e,dialogContentScrollable:c2e,dialogDetailsGrid:u2e,dialogDescription:d2e,dialogBodyScroll:f2e,dialogFooter:p2e,episodeDetailsDialog:h2e,segmentTranscriptDialog:m2e,formSectionTitle:g2e,advancedSection:v2e,advancedToggle:y2e,advancedFields:b2e,dialogClose:_2e,statusToggle:x2e,statusToggleBtn:w2e,statusToggleActive:S2e,transcriptToggleWrap:j2e,transcriptToggle:C2e,transcriptToggleBtn:k2e,transcriptToggleActive:N2e,transcriptAsk:E2e,transcriptAskForm:T2e,transcriptAskInput:P2e,transcriptAskSubmit:A2e,transcriptAskResponse:R2e,transcriptEdit:O2e,transcriptEditForm:D2e,transcriptEditGroup:M2e,transcriptEditLabel:L2e,transcriptEditInput:I2e,transcriptEditActions:$2e,transcriptEditPreviewBtn:B2e,transcriptEditBtn:z2e,transcriptCards:F2e,transcriptCard:q2e,transcriptCardText:U2e,transcriptCardFooter:H2e,transcriptCardTimeControls:W2e,transcriptCardTimeGroup:K2e,transcriptCardTimeButtons:G2e,transcriptCardTimeBtn:V2e,transcriptCardTimeLabel:Y2e,transcriptCardFooterActions:Q2e,transcriptCardBtn:X2e,transcriptText:Z2e,transcriptViewActions:J2e,episodeTranscriptDialog:eNe,episodeTranscriptBody:tNe,episodeTranscriptStatus:rNe,episodeTranscriptErrorWrap:nNe,episodeTranscriptError:aNe,episodeTranscriptDialogActions:iNe,dialogConfirmRemove:sNe,detailsSummaryCard:oNe,detailsSummaryCardSubscriberOnly:lNe,detailsSummaryRow:cNe,detailsSummaryArtwork:uNe,detailsSummaryMain:dNe,detailsSummaryTitleRow:fNe,detailsSummaryTitleLock:pNe,detailsSummaryTitle:hNe,detailsSummaryMeta:mNe,detailsSummaryEditBtn:gNe,detailsSummaryEndCallBtn:vNe,detailsSummaryActions:yNe,detailsSummaryShareBtn:bNe};function _Ne({title:e,status:t,seasonNumber:r,episodeNumber:n,artworkUrl:a,onEditClick:o,subscriberOnly:u,shareUrl:c,shareTitle:p,embedCode:h,onStartGroupCall:f,isCallActive:m,onEndGroupCall:b}){const[_,j]=v.useState(!1),w=[t];(r!=null||n!=null)&&w.push(`S${r??"?"} E${n??"?"}`);const y=u===1,x=o!=null||c!=null||f!=null||b!=null;return i.jsxs("div",{className:y?`${W.detailsSummaryCard} ${W.detailsSummaryCardSubscriberOnly}`:W.detailsSummaryCard,children:[i.jsxs("div",{className:W.detailsSummaryRow,children:[a?i.jsx("img",{src:a,alt:"",className:W.detailsSummaryArtwork}):null,i.jsxs("div",{className:W.detailsSummaryMain,children:[i.jsxs("div",{className:W.detailsSummaryTitleRow,children:[y&&i.jsx(Ps,{size:16,strokeWidth:2.5,className:W.detailsSummaryTitleLock,"aria-label":"Subscriber only"}),i.jsx("h2",{className:W.detailsSummaryTitle,children:e||"Untitled episode"})]}),i.jsx("p",{className:W.detailsSummaryMeta,children:w.join("  ")})]})]}),x&&i.jsxs("div",{className:W.detailsSummaryActions,children:[(f!=null||b!=null)&&(m?i.jsxs("button",{type:"button",className:W.detailsSummaryEndCallBtn,onClick:b,"aria-label":"End group call",children:[i.jsx(mh,{size:18,strokeWidth:2,"aria-hidden":!0}),"End Group Call"]}):f!=null?i.jsxs("button",{type:"button",className:W.detailsSummaryEditBtn,onClick:f,"aria-label":"Start group call",children:[i.jsx(mh,{size:18,strokeWidth:2,"aria-hidden":!0}),"Start Group Call"]}):null),o!=null&&i.jsxs("button",{type:"button",className:W.detailsSummaryEditBtn,onClick:o,"aria-label":"Edit episode details",children:[i.jsx(Xv,{size:18,strokeWidth:2,"aria-hidden":!0}),"Edit Details"]}),c!=null&&i.jsx("button",{type:"button",className:W.detailsSummaryShareBtn,onClick:()=>j(!0),"aria-label":"Share",title:"Share",children:i.jsx(cb,{size:18,strokeWidth:2,"aria-hidden":!0})})]}),c!=null&&i.jsx(u2,{open:_,onOpenChange:j,url:c,title:p,embedCode:h})]})}const at={...W,...ne};function xNe(e){if(!e)return"";const t=e.trim();if(!t)return"";if(t.startsWith("/")&&!t.startsWith("//"))return t;try{const r=typeof window<"u"?window.location.origin:"https://x",n=new URL(t,r),a=n.protocol.toLowerCase();if(a==="https:"||a==="http:"||a==="blob:")return n.href}catch{}return""}function wNe({form:e,setForm:t,descriptionTextareaRef:r,slugDisabled:n,onSave:a,isSaving:o,saveError:u,saveSuccess:c,coverImageConfig:p}){const h=p,f=o||((h==null?void 0:h.uploadArtworkPending)??!1),[m,b]=v.useState(!1),_=v.useRef(null),j=v.useRef(null);gi(r,e.description,{minHeight:80}),gi(_,e.summary??"",{minHeight:60}),gi(j,e.contentEncoded??"",{minHeight:80});function w(y){y.preventDefault(),a()}return i.jsxs("form",{id:"episode-details-form",onSubmit:w,className:at.form,children:[u&&i.jsx("p",{className:at.error,children:u}),c&&i.jsx("p",{className:at.success,children:"Saved."}),i.jsx("h3",{className:at.formSectionTitle,children:"Basics"}),i.jsxs("label",{className:at.label,children:["Title",i.jsx("input",{type:"text",value:e.title,onChange:y=>{const x=y.target.value;t(S=>({...S,title:x,...!S.slug||S.slug===rb(S.title)?{slug:rb(x)}:{}}))},className:at.input,placeholder:"e.g. Episode 1: Getting Started",required:!0})]}),i.jsxs("label",{className:at.label,children:["Slug",i.jsx("span",{className:at.labelHint,children:"Used in URLs - lowercase, numbers, hyphens only"}),i.jsx("input",{type:"text",value:e.slug,onChange:y=>t(x=>({...x,slug:y.target.value})),className:at.input,placeholder:"e.g. episode-1-getting-started",pattern:"[a-z0-9\\-]+",required:!0,disabled:n})]}),i.jsxs("label",{className:at.label,children:["Description",i.jsx("textarea",{ref:r,value:e.description,onChange:y=>t(x=>({...x,description:y.target.value})),className:at.textarea,rows:2,style:{overflow:"hidden",resize:"none"},placeholder:"What this episode is about. Shown in podcast apps."})]}),i.jsxs("label",{className:at.label,children:["Subtitle",i.jsx("input",{type:"text",value:e.subtitle,onChange:y=>t(x=>({...x,subtitle:y.target.value})),className:at.input,placeholder:"e.g. One line summary for app listings"})]}),i.jsxs("label",{className:at.label,children:["Summary",i.jsx("textarea",{ref:_,value:e.summary,onChange:y=>t(x=>({...x,summary:y.target.value})),className:at.textarea,rows:2,style:{overflow:"hidden",resize:"none"},placeholder:"Extended description for podcast apps (optional)"})]}),i.jsx("h3",{className:at.formSectionTitle,children:"Cover image"}),i.jsxs("label",{className:at.label,children:["Cover image",h?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:at.statusToggle,role:"group","aria-label":"Cover image source",children:[i.jsx("button",{type:"button",className:h.coverMode==="url"?at.statusToggleActive:at.statusToggleBtn,onClick:()=>h.setCoverMode("url"),"aria-pressed":h.coverMode==="url","aria-label":"Cover image from URL",children:"URL"}),i.jsx("button",{type:"button",className:h.coverMode==="upload"?at.statusToggleActive:at.statusToggleBtn,onClick:()=>h.setCoverMode("upload"),"aria-pressed":h.coverMode==="upload","aria-label":"Upload cover image",children:"Upload"})]}),h.coverMode==="url"&&i.jsxs(i.Fragment,{children:[i.jsx("input",{type:"url",value:e.artworkUrl,onChange:y=>t(x=>({...x,artworkUrl:y.target.value})),className:at.input,placeholder:"e.g. https://myshow.com/episode-cover.jpg",style:{marginTop:"0.5rem"}}),i.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginTop:"0.25rem",marginLeft:"0"},children:"Public URL for the episode cover (optional)"})]}),h.coverMode==="upload"&&i.jsxs(i.Fragment,{children:[i.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/webp",className:at.input,style:{marginTop:"0.5rem"},onChange:y=>{var S;const x=(S=y.target.files)==null?void 0:S[0];x&&h.setPendingArtworkFile(x)},disabled:f,"aria-label":"Choose cover image"},h.coverUploadKey),h.pendingArtworkFile&&i.jsxs("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginTop:"0.25rem",margin:"0.25rem 0 0 0"},children:[h.pendingArtworkFile.name," will be uploaded when you save."]}),i.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginTop:"0.25rem",marginLeft:"0"},children:"JPG, PNG or WebP, max 5MB. Uploads when you click Save."})]}),(h.coverMode==="url"?h.debouncedArtworkUrl&&(h.debouncedArtworkUrl.startsWith("http://")||h.debouncedArtworkUrl.startsWith("https://")):h.pendingArtworkFile||h.artworkFilename)&&i.jsx("p",{style:{marginTop:"0.75rem",marginBottom:0,display:"flex",justifyContent:"center"},children:i.jsx("img",{src:xNe(h.coverMode==="url"?h.debouncedArtworkUrl:h.pendingArtworkPreviewUrl??(h.artworkFilename?`/api/podcasts/${h.podcastId}/episodes/${h.episodeId}/artwork/${encodeURIComponent(h.artworkFilename)}`:"")),alt:"Cover preview",style:{maxWidth:"160px",maxHeight:"160px",borderRadius:"8px",border:"1px solid var(--border)",objectFit:"cover"}},h.coverMode==="url"?`url-${h.debouncedArtworkUrl}`:`upload-${h.artworkFilename??""}-${!!h.pendingArtworkPreviewUrl}`)})]}):i.jsxs(i.Fragment,{children:[i.jsx("input",{type:"url",value:e.artworkUrl,onChange:y=>t(x=>({...x,artworkUrl:y.target.value})),className:at.input,placeholder:"e.g. https://myshow.com/episode-cover.jpg"}),i.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginTop:"0.25rem",marginLeft:"0"},children:"URL for the episode cover image (optional)"})]})]}),i.jsx("h3",{className:at.formSectionTitle,children:"Publish & visibility"}),i.jsxs("label",{className:at.label,children:["Status",i.jsx("div",{className:at.statusToggle,role:"group","aria-label":"Episode status",children:["draft","scheduled","published"].map(y=>i.jsx("button",{type:"button",className:e.status===y?at.statusToggleActive:at.statusToggleBtn,onClick:()=>t(x=>({...x,status:y})),"aria-pressed":e.status===y,"aria-label":`Status: ${y.charAt(0).toUpperCase()+y.slice(1)}`,children:y.charAt(0).toUpperCase()+y.slice(1)},y))})]}),i.jsxs("label",{className:at.label,children:["Publish at (optional)",i.jsx("input",{type:"datetime-local",value:e.publishAt,onChange:y=>t(x=>({...x,publishAt:y.target.value})),className:at.input})]}),i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:e.explicit,onChange:y=>t(x=>({...x,explicit:y.target.checked}))}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Explicit"})]}),i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:e.subscriberOnly,onChange:y=>t(x=>({...x,subscriberOnly:y.target.checked}))}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Subscriber Only"})]}),i.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",margin:"-0.25rem 0 0.5rem 0"},children:"Subscriber-only episodes are omitted from the public RSS and episode list; they appear only in tokenized subscriber feeds."}),i.jsx("h3",{className:at.formSectionTitle,children:"Optional details"}),i.jsxs("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap"},children:[i.jsxs("label",{className:at.label,style:{flex:"1 1 80px"},children:["Season",i.jsx("input",{type:"number",min:0,value:e.seasonNumber,onChange:y=>t(x=>({...x,seasonNumber:y.target.value})),className:at.input,placeholder:"e.g. 1"})]}),i.jsxs("label",{className:at.label,style:{flex:"1 1 80px"},children:["Episode",i.jsx("input",{type:"number",min:0,value:e.episodeNumber,onChange:y=>t(x=>({...x,episodeNumber:y.target.value})),className:at.input,placeholder:"e.g. 1"})]})]}),i.jsxs("label",{className:at.label,children:["Episode type",i.jsxs("select",{value:e.episodeType||"full",onChange:y=>t(x=>({...x,episodeType:y.target.value})),className:at.input,children:[i.jsx("option",{value:"full",children:"Full"}),i.jsx("option",{value:"trailer",children:"Trailer"}),i.jsx("option",{value:"bonus",children:"Bonus"})]})]}),i.jsxs("label",{className:at.label,children:["Episode link",i.jsx("input",{type:"url",value:e.episodeLink,onChange:y=>t(x=>({...x,episodeLink:y.target.value})),className:at.input,placeholder:"e.g. https://myshow.com/episodes/1"}),i.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginTop:"0.25rem",marginLeft:"0"},children:"URL to this episode's web page (optional)"})]}),i.jsxs("div",{className:at.advancedSection,children:[i.jsxs("button",{type:"button",className:at.advancedToggle,onClick:()=>b(y=>!y),"aria-expanded":m,"aria-controls":"episode-details-advanced-fields",children:[m?i.jsx(fS,{size:18,"aria-hidden":!0}):i.jsx(Xd,{size:18,"aria-hidden":!0}),i.jsx("span",{children:"More options"})]}),m&&i.jsxs("div",{id:"episode-details-advanced-fields",className:at.advancedFields,children:[i.jsxs("label",{className:at.label,children:["Full show notes (HTML)",i.jsx("textarea",{ref:j,value:e.contentEncoded,onChange:y=>t(x=>({...x,contentEncoded:y.target.value})),className:at.textarea,rows:2,style:{overflow:"hidden",resize:"none"},placeholder:"e.g. <p>Full transcript or show notes</p>"}),i.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",margin:"0.25rem 0 0 0"},children:"Optional. Shown in apps that support full show notes."})]}),i.jsxs("label",{className:at.label,children:["GUID",i.jsx("input",{type:"text",value:e.guid,onChange:y=>t(x=>({...x,guid:y.target.value})),className:at.input,placeholder:"Leave blank to auto-generate"}),i.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginTop:"0.25rem",marginLeft:"0"},children:"Unique ID for this episode. Only change if you need to keep an existing ID."})]}),i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:e.guidIsPermalink,onChange:y=>t(x=>({...x,guidIsPermalink:y.target.checked}))}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"GUID is permalink"})]})]})]})]})}const R7="/api";function SNe(e,t="final"){return`${R7}/episodes/${e}/download?type=${t}`}function jNe(e){return`${R7}/episodes/${e}/final-waveform`}const CNe=32,kNe=3;function NNe(e){return 2**(e-1)}function Ow(e,t){return typeof document>"u"?t:getComputedStyle(document.documentElement).getPropertyValue(e).trim()||t}function mf({data:e,durationSec:t,currentTime:r,onSeek:n,onPlayPause:a,className:o}){const u=v.useRef(null),c=v.useRef(null),p=v.useCallback(()=>{const m=c.current,b=u.current;if(!m||!b||!e.data.length)return;const _=e.bits??8,j=Math.max(1,e.channels??1),w=typeof e.length=="number"&&e.length>=0?e.length:Math.floor(e.data.length/(2*j));if(w<=0)return;const y=NNe(_),x=window.devicePixelRatio??1,S=b.clientWidth,T=CNe;m.width=Math.round(S*x),m.height=Math.round(T*x),m.style.width=`${S}px`,m.style.height=`${T}px`;const N=m.getContext("2d");if(!N)return;N.scale(x,x);const P=T/2,A=S/w,k=Math.max(kNe,A+.5),R=t>0?Math.min(1,Math.max(0,r/t)):0,D=Ow("--bg-elevated","#1e293b"),I=Ow("--accent","#0ea5e9"),q=Ow("--text-muted","#94a3b8");N.fillStyle=D,N.fillRect(0,0,S,T);for(let M=0;M<w;M++){const F=M*2*j,B=e.data[F]??0,O=e.data[F+1]??0,$=B/y,K=O/y,Y=M/w*S,Z=P-K*P,H=P-$*P,X=Math.min(Z,H),te=Math.max(1,Math.abs(H-Z)),le=M/w<=R;N.fillStyle=le?I:q,N.fillRect(Y,X,k,te)}const z=R*S;N.strokeStyle=I,N.lineWidth=2,N.beginPath(),N.moveTo(z,0),N.lineTo(z,T),N.stroke()},[e,t,r]);v.useEffect(()=>{p();const m=u.current;if(!m)return;const b=new ResizeObserver(p);return b.observe(m),()=>b.disconnect()},[p]);function h(m){const b=u.current;if(!b||t<=0)return;const _=b.getBoundingClientRect(),j=Math.max(0,Math.min(1,(m.clientX-_.left)/_.width));n(j*t)}function f(m){m.key!==" "||!a||(m.preventDefault(),a())}return i.jsx("div",{ref:u,className:o??W.waveformTrack,onClick:h,onKeyDown:f,tabIndex:a!=null?0:void 0,role:"progressbar","aria-valuenow":Math.round(r),"aria-valuemin":0,"aria-valuemax":t,"aria-label":"Playback position",children:i.jsx("canvas",{ref:c,className:W.waveformCanvas})})}function ENe({episodeId:e,segmentCount:t,onBuild:r,isBuilding:n,buildMessage:a,hasFinalAudio:o,finalDurationSec:u,finalUpdatedAt:c,readOnly:p=!1,onFinalPlayStart:h,pauseAndResetRef:f,hasTranscript:m=!1,onOpenTranscript:b,onGenerateTranscript:_,error:j,canGenerateTranscript:w=!0}){const y=v.useRef(null),[x,S]=v.useState(null),[T,N]=v.useState(!1),[P,A]=v.useState(0),[k,R]=v.useState(!1),D=o&&e?`${jNe(e)}${c?`?v=${encodeURIComponent(c)}`:""}`:"",I=o&&e?`${SNe(e,"final")}${c?`&v=${encodeURIComponent(c)}`:""}`:"";v.useEffect(()=>{if(!o||!e||u<=0){S(null);return}let M=!1;return fetch(D,{credentials:"include"}).then(F=>F.ok?F.json():null).then(F=>{var B;!M&&((B=F==null?void 0:F.data)!=null&&B.length)?S(F):M||S(null)}).catch(()=>{M||S(null)}),()=>{M=!0}},[e,o,u,D]),v.useEffect(()=>{const M=y.current;if(!M)return;const F=()=>N(!0),B=()=>N(!1),O=()=>{N(!1),M.currentTime=0,A(0)},$=()=>A(M.currentTime),K=()=>A(M.currentTime);return M.addEventListener("play",F),M.addEventListener("pause",B),M.addEventListener("ended",O),M.addEventListener("timeupdate",$),M.addEventListener("loadedmetadata",K),()=>{M.removeEventListener("play",F),M.removeEventListener("pause",B),M.removeEventListener("ended",O),M.removeEventListener("timeupdate",$),M.removeEventListener("loadedmetadata",K)}},[u]),v.useEffect(()=>{if(f)return f.current=()=>{const M=y.current;M&&(M.pause(),M.currentTime=0,A(0))},()=>{f.current=null}},[f]);function q(){const M=y.current;M&&(T?(M.pause(),N(!1)):(h==null||h(),M.src=I,N(!0),M.play().catch(()=>N(!1))))}const z=u>0?u:0;return i.jsxs("div",{className:W.generateBar,children:[i.jsxs("div",{className:W.generateBarHeader,children:[i.jsx("h2",{className:W.generateBarTitle,children:"Generate Final Episode"}),i.jsx("p",{className:W.generateBarSub,children:"Build the final MP3 from your sections. When done, you can play it here or download it for your feed."})]}),j&&i.jsx("p",{className:W.error,style:{marginTop:0,marginBottom:"1.25rem"},role:"alert",children:j}),o&&z>0&&i.jsxs("div",{className:W.generateBarPlayback,children:[i.jsx("button",{type:"button",className:W.segmentBtn,onClick:q,title:T?"Pause":"Play","aria-label":T?"Pause final episode":"Play final episode",children:T?i.jsx(xs,{size:18,"aria-hidden":!0}):i.jsx(qi,{size:18,"aria-hidden":!0})}),x?i.jsx(mf,{data:x,durationSec:z,currentTime:P,onSeek:M=>{const F=y.current;F&&(F.currentTime=M,A(M))},className:W.generateBarWaveform}):i.jsx("div",{className:W.generateBarProgressPlaceholder})]}),i.jsx("audio",{ref:y,style:{display:"none"}}),i.jsx("div",{className:W.generateBarInner,children:i.jsxs("div",{className:W.generateBarActionsWrap,children:[a&&i.jsxs("div",{className:W.generateBarBuildNotice,role:"status",children:[i.jsx(Fq,{size:18,strokeWidth:2,"aria-hidden":!0,className:W.generateBarBuildNoticeIcon}),i.jsx("span",{children:a})]}),i.jsxs("div",{className:W.generateBarActions,children:[i.jsxs("button",{type:"button",className:W.renderBtnPrimary,onClick:r,disabled:t===0||n||p,title:p?"Read-only account":void 0,"aria-label":p?"Make Final Episode (read-only)":n?"Building...":"Make Final Episode",children:[i.jsx(LF,{size:20,strokeWidth:2,"aria-hidden":!0}),i.jsx("span",{children:n?"Building...":"Make Final Episode"})]}),(m||o&&!n)&&(b||_)&&i.jsx("button",{type:"button",className:m?W.generateBarTranscriptBtn:W.generateBarGenerateTranscriptBtn,onClick:m?b:async()=>{if(!(!_||!w)){R(!0);try{await _()}finally{R(!1)}}},disabled:n||!m&&(k||!w),title:n?"Transcript available after build finishes":m?"View Episode Transcript":k?"Generating transcript":"Generate transcript from final audio","aria-label":n?"Transcript (disabled while building)":m?"View Episode Transcript":k?"Generating transcript":"Generate Transcript",children:m?i.jsxs(i.Fragment,{children:[i.jsx(Oj,{size:18,strokeWidth:2,"aria-hidden":!0}),i.jsx("span",{children:"Transcript"})]}):i.jsxs(i.Fragment,{children:[i.jsx($F,{size:18,strokeWidth:2,"aria-hidden":!0}),i.jsx("span",{children:k?"Generating":"Generate Transcript"})]})}),o&&I&&!n&&i.jsx("a",{href:I,download:!0,className:W.renderDownload,children:"Download Final Audio"})]})]})})]})}const br={...ne,...Qh},_l=5;function TNe({podcastId:e,episodeId:t,canAssign:r}){var A;const n=Bt(),[a,o]=v.useState(""),u=aC(a),[c,p]=v.useState("newest"),[h,f]=v.useState(0),{data:m}=De({queryKey:["cast",e,{limit:1}],queryFn:()=>Av(e,{limit:1}),enabled:!!e}),{data:b}=De({queryKey:["episode-cast",e,t],queryFn:()=>Vwe(e,t),enabled:!!e&&!!t}),_=(b==null?void 0:b.cast)??[],{data:j,isLoading:w}=De({queryKey:["cast",e,{limit:_l,offset:h,q:u,sort:c,episode_id:t}],queryFn:()=>Av(e,{limit:_l,offset:h,q:u.trim()||void 0,sort:c,episode_id:t}),enabled:!!e&&!!t}),y=(j==null?void 0:j.cast)??[],x=(j==null?void 0:j.total)??0,S=Ve({mutationFn:({castIds:k})=>Ywe(e,t,k),onSuccess:(k,{addedId:R,shouldGoBackPage:D})=>{D&&f(I=>Math.max(0,I-_l)),n.invalidateQueries({queryKey:["episode-cast",e,t]}),n.invalidateQueries({queryKey:["cast",e]}),R&&n.setQueriesData({queryKey:["cast",e],predicate:I=>{var z;return((z=I.queryKey[2])==null?void 0:z.episode_id)===t}},I=>I&&{cast:I.cast.filter(z=>z.id!==R),total:Math.max(0,I.total-1)})}}),T=k=>{if(!r)return;const R=[..._.map(I=>I.id),k.id],D=h>0&&y.length===1;S.mutate({castIds:R,addedId:k.id,shouldGoBackPage:D})},N=k=>{if(!r)return;const R=_.filter(D=>D.id!==k.id).map(D=>D.id);S.mutate({castIds:R})},P=()=>{!r||x===0||Av(e,{limit:100,offset:0,sort:c,episode_id:t}).then(({cast:k})=>{const R=k.filter(D=>D.role==="host").map(D=>D.id);R.length>0&&S.mutate({castIds:[..._.map(D=>D.id),...R],addedId:void 0})})};return((m==null?void 0:m.total)??0)===0&&m!==void 0?null:i.jsxs("div",{className:br.card,children:[i.jsxs("div",{className:`${br.exportHeader} ${br.castSectionHeader}`,children:[i.jsx("h2",{className:br.sectionTitle,children:"Cast"}),r&&i.jsxs("button",{type:"button",className:br.gearBtn,onClick:P,disabled:S.isPending,children:[i.jsx(ph,{size:14}),"Quick Add All Hosts"]})]}),_.length>0&&i.jsxs("div",{className:br.castChipsWrap,children:[i.jsx("h3",{className:br.dialogSectionTitle,style:{marginTop:0},children:"Assigned"}),i.jsx("div",{className:br.castChips,children:_.map(k=>i.jsx(xS,{member:k,podcastId:e,variant:"chip",children:r&&i.jsx("button",{type:"button",className:br.castChipRemove,onClick:()=>N(k),"aria-label":`Remove ${k.name}`,children:i.jsx(Nt,{size:14})})},k.id))})]}),r&&i.jsxs("div",{children:[i.jsxs("div",{className:br.castSearchWrap,children:[i.jsx("input",{type:"search",value:a,onChange:k=>{o(k.target.value),f(0)},placeholder:"Search by name...",className:br.castSearchInput,"aria-label":"Search cast"}),i.jsxs("div",{className:br.statusToggle,role:"group","aria-label":"Sort order",children:[i.jsx("button",{type:"button",className:c==="newest"?br.statusToggleActive:br.statusToggleBtn,onClick:()=>{p("newest"),f(0)},"aria-pressed":c==="newest",children:"Newest"}),i.jsx("button",{type:"button",className:c==="oldest"?br.statusToggleActive:br.statusToggleBtn,onClick:()=>{p("oldest"),f(0)},"aria-pressed":c==="oldest",children:"Oldest"})]})]}),w?i.jsx("p",{className:br.castEmpty,children:"Loading..."}):y.length>0?i.jsx("ul",{className:br.castList,children:y.map(k=>i.jsx(xS,{member:k,podcastId:e,children:i.jsxs("button",{type:"button",className:br.gearBtn,onClick:()=>T(k),disabled:S.isPending,"aria-label":`Add ${k.name}`,children:[i.jsx(ph,{size:14}),"Add"]})},k.id))}):i.jsx("p",{className:br.pdCardEmptyState,children:a.trim()?"No results match your search.":"All show cast members are assigned."}),x>_l&&i.jsxs("div",{className:br.castPagination,children:[i.jsx("button",{type:"button",className:br.castPaginationBtn,onClick:()=>f(k=>Math.max(0,k-_l)),disabled:h===0,"aria-label":"Previous page",children:i.jsx(VM,{size:16})}),i.jsxs("span",{className:br.castPaginationLabel,children:[h+1,"",Math.min(h+_l,x)," of ",x]}),i.jsx("button",{type:"button",className:br.castPaginationBtn,onClick:()=>f(k=>k+_l),disabled:h+_l>=x,"aria-label":"Next page",children:i.jsx(Xd,{size:16})})]})]}),S.isError&&i.jsx("p",{className:br.error,style:{marginTop:"0.5rem"},children:((A=S.error)==null?void 0:A.message)??"Failed to update cast"})]})}function PNe({episodeId:e,segment:t,index:r,total:n,onMoveUp:a,onMoveDown:o,onDeleteRequest:u,onUpdateName:c,isDeleting:p,onPlayRequest:h,onMoreInfo:f,registerPause:m,unregisterPause:b,readOnly:_=!1}){const j=v.useRef(null),w=v.useRef(null),y=v.useRef(null),[x,S]=v.useState(!1),[T,N]=v.useState(0),P=t.duration_sec??0,A=t.type==="recorded",k=A?"Recorded section":t.asset_name??"Library clip",[R,D]=v.useState(t.name??""),[I,q]=v.useState(null);v.useEffect(()=>{D(t.name??"")},[t.name]),v.useEffect(()=>{if(!e||!t.id||P<=0){q(null);return}let O=!1;return fetch(ESe(e,t.id),{credentials:"include"}).then($=>$.ok?$.json():null).then($=>{var K;!O&&((K=$==null?void 0:$.data)!=null&&K.length)?q($):O||q(null)}).catch(()=>{O||q(null)}),()=>{O=!0}},[e,t.id,t.audio_path,P]),v.useEffect(()=>{y.current=null},[e,t.id,t.audio_path]);function z(){const O=R.trim(),$=(t.name??"").trim();O!==$&&c(t.id,O||null)}function M(){const O=j.current;O&&(x?(O.pause(),S(!1)):(h(t.id),y.current!==t.id&&(y.current=t.id,O.src=$v(e,t.id,t.audio_path)),S(!0),O.play().catch(()=>S(!1))))}v.useEffect(()=>(m(t.id,()=>{const O=j.current;O&&(O.pause(),O.currentTime=0,N(0))}),()=>b(t.id)),[t.id,m,b]);function F(O){const $=j.current,K=w.current;if(!$||!K||P<=0)return;const Y=K.getBoundingClientRect();let H=Math.max(0,Math.min(1,(O.clientX-Y.left)/Y.width))*P;Number.isFinite($.duration)&&$.duration>0&&(H=Math.min(H,$.duration)),$.currentTime=H,N(H)}v.useEffect(()=>{const O=j.current;if(!O)return;const $=()=>S(!0),K=()=>S(!1),Y=()=>{S(!1),O.currentTime=0,N(0)},Z=()=>N(O.currentTime),H=()=>N(O.currentTime);return O.addEventListener("play",$),O.addEventListener("pause",K),O.addEventListener("ended",Y),O.addEventListener("timeupdate",Z),O.addEventListener("loadedmetadata",H),()=>{O.removeEventListener("play",$),O.removeEventListener("pause",K),O.removeEventListener("ended",Y),O.removeEventListener("timeupdate",Z),O.removeEventListener("loadedmetadata",H)}},[P]);const B=P>0?Math.min(1,T/P):0;return i.jsxs("li",{className:W.segmentBlock,children:[i.jsxs("div",{className:W.segmentBlockTop,children:[i.jsx("span",{className:W.segmentIcon,title:A?"Recorded":"From library",children:A?i.jsx($d,{size:18,strokeWidth:2,"aria-hidden":!0}):i.jsx(Qv,{size:18,strokeWidth:2,"aria-hidden":!0})}),i.jsxs("div",{className:W.segmentBody,children:[i.jsx("input",{type:"text",className:W.segmentNameInput,value:R,onChange:O=>D(O.target.value),onBlur:z,placeholder:k,"aria-label":"Section name",readOnly:_}),i.jsxs("div",{className:W.segmentMeta,children:[Cd(Math.floor(T))," / ",Cd(t.duration_sec)]})]}),i.jsx("audio",{ref:j,style:{display:"none"}}),!_&&i.jsxs("div",{className:W.segmentActions,children:[i.jsx("button",{type:"button",className:W.segmentBtn,onClick:f,title:"More info","aria-label":"Show more information",children:i.jsx(GF,{size:18,"aria-hidden":!0})}),i.jsx("button",{type:"button",className:W.segmentBtn,onClick:a,disabled:r===0,title:"Move up","aria-label":"Move segment up",children:""}),i.jsx("button",{type:"button",className:W.segmentBtn,onClick:o,disabled:r===n-1,title:"Move down","aria-label":"Move segment down",children:""}),i.jsx("button",{type:"button",className:`${W.segmentBtn} ${W.segmentBtnDanger}`,onClick:u,disabled:p,title:"Remove","aria-label":"Remove segment",children:i.jsx(Wl,{size:18,"aria-hidden":!0})})]})]}),P>0&&i.jsxs("div",{className:W.segmentWaveformRow,children:[i.jsx("button",{type:"button",className:W.segmentBtn,onClick:M,title:x?"Pause":"Play","aria-label":x?"Pause segment":"Play segment",children:x?i.jsx(xs,{size:18,"aria-hidden":!0}):i.jsx(qi,{size:18,"aria-hidden":!0})}),I?i.jsx(mf,{data:I,durationSec:P,currentTime:T,onSeek:O=>{const $=j.current;$&&($.currentTime=O,N(O))},onPlayPause:M,className:`${W.waveformTrack} ${W.segmentWaveformTrack}`}):i.jsx("div",{ref:w,className:W.segmentProgressTrack,onClick:F,role:"progressbar","aria-valuenow":Math.round(T),"aria-valuemin":0,"aria-valuemax":P,"aria-label":"Playback position",children:i.jsx("div",{className:W.segmentProgressFill,style:{width:`${B*100}%`}})})]})]})}function ANe({episodeId:e,segments:t,segmentsLoading:r,onAddRecord:n,onAddLibrary:a,recordDisabled:o=!1,recordDisabledMessage:u,readOnly:c=!1,onMoveUp:p,onMoveDown:h,onDeleteRequest:f,onUpdateSegmentName:m,isDeletingSegment:b,deletingSegmentId:_,onSegmentPlayRequest:j,onSegmentMoreInfo:w,registerSegmentPause:y,unregisterSegmentPause:x}){return i.jsxs("div",{className:W.sectionsPanel,children:[i.jsxs("header",{className:W.sectionsPanelHeader,children:[i.jsx("h2",{className:W.sectionTitle,children:"Build Your Episode"}),i.jsx("p",{className:W.sectionSub,children:"Add sections in order: record new audio or insert from your library. Then build the final MP3."})]}),i.jsxs("div",{className:W.addSectionChoiceRow,children:[o||c?i.jsxs("span",{className:`${W.addSectionChoiceBtn} ${W.addSectionChoiceBtnPrimary} ${W.addSectionChoiceBtnDisabled}`,title:c?"Read-only account":u,"aria-label":c?"Record new section (read-only)":u??"Record new section (disabled)",children:[i.jsx($d,{size:24,strokeWidth:2,"aria-hidden":!0}),i.jsx("span",{children:"Record New Section"})]}):i.jsxs("button",{type:"button",className:`${W.addSectionChoiceBtn} ${W.addSectionChoiceBtnPrimary}`,onClick:n,"aria-label":"Record new section",children:[i.jsx($d,{size:24,strokeWidth:2,"aria-hidden":!0}),i.jsx("span",{children:"Record New Section"})]}),c?i.jsxs("span",{className:`${W.addSectionChoiceBtn} ${W.addSectionChoiceBtnDisabled}`,title:"Read-only account","aria-label":"Insert from library (read-only)",children:[i.jsx(Qv,{size:24,strokeWidth:2,"aria-hidden":!0}),i.jsx("span",{children:"Insert from library"})]}):i.jsxs("button",{type:"button",className:W.addSectionChoiceBtn,onClick:a,"aria-label":"Insert from library",children:[i.jsx(Qv,{size:24,strokeWidth:2,"aria-hidden":!0}),i.jsx("span",{children:"Insert from library"})]})]}),o&&u&&i.jsx("p",{className:W.sectionSub,style:{marginTop:"0.25rem"},children:u}),r?i.jsx("p",{className:W.sectionSub,children:"Loading sections..."}):t.length===0?i.jsx("p",{className:W.sectionSub,children:"No sections yet. Record or add from library above."}):i.jsx("ul",{className:W.segmentList,children:t.map((S,T)=>i.jsx(PNe,{episodeId:e,segment:S,index:T,total:t.length,onMoveUp:()=>p(T),onMoveDown:()=>h(T),onDeleteRequest:()=>f(S.id),onUpdateName:m,isDeleting:b&&_===S.id,onPlayRequest:j,onMoreInfo:()=>w(S.id),registerPause:y,unregisterPause:x,readOnly:c},S.id))})]})}function RNe({onClose:e,onAdd:t,isAdding:r,error:n}){const[a,o]=v.useState(!1),[u,c]=v.useState(0),[p,h]=v.useState(null),[f,m]=v.useState(null),[b,_]=v.useState(""),[j,w]=v.useState(!1),[y,x]=v.useState(null),[S,T]=v.useState(0),[N,P]=v.useState(0),[A,k]=v.useState(!1),[R,D]=v.useState(!1),[I,q]=v.useState(null),[z,M]=v.useState(0),[F,B]=v.useState(!1),O=v.useRef(!1),$=v.useRef(null),K=v.useRef(null),Y=v.useRef([]),Z=v.useRef(null),H=v.useRef(null),X=v.useRef(null),te=v.useRef(null),le=v.useRef(null),me=v.useRef(null),ke=v.useRef(null),xe=v.useRef(null),He=v.useRef(null),J=v.useRef(null),we=v.useRef(null),Ne=v.useRef(null),ge=!!(p||f);function Pe(){He.current&&(He.current.release().catch(()=>{}),He.current=null)}v.useEffect(()=>{const Re=window.matchMedia("(max-width: 768px)");w(Re.matches);const ut=()=>w(Re.matches);return Re.addEventListener("change",ut),()=>Re.removeEventListener("change",ut)},[]),v.useEffect(()=>()=>{var Re,ut;Z.current&&clearInterval(Z.current),Ne.current!=null&&cancelAnimationFrame(Ne.current),((Re=J.current)==null?void 0:Re.state)!=="closed"&&((ut=J.current)==null||ut.close()),$.current&&$.current.getTracks().forEach(jt=>jt.stop()),Pe()},[]),v.useEffect(()=>{const Re=setTimeout(()=>{!a&&!ge&&le.current?le.current.focus():a&&me.current?me.current.focus():ge&&ke.current&&ke.current.focus()},0);return()=>clearTimeout(Re)},[a,ge]),v.useEffect(()=>{if(!te.current)return;function ut(jt){const Lt=te.current;if(!Lt)return;if(jt.key==="Escape"){jt.preventDefault(),!a&&!ge?e():(q("close"),D(!0));return}if(jt.key!=="Tab")return;const xt=Array.from(Lt.querySelectorAll('button:not([disabled]), [href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"])')).filter(xr=>{const un=window.getComputedStyle(xr);return un.display!=="none"&&un.visibility!=="hidden"&&un.opacity!=="0"});if(xt.length===0)return;const ot=xt[0],wt=xt[xt.length-1],rr=document.activeElement;jt.shiftKey?(rr===ot||!Lt.contains(rr))&&(jt.preventDefault(),wt==null||wt.focus()):(rr===wt||!Lt.contains(rr))&&(jt.preventDefault(),ot==null||ot.focus())}return document.addEventListener("keydown",ut),()=>document.removeEventListener("keydown",ut)},[a,ge,e]),v.useEffect(()=>{if(p){const Re=URL.createObjectURL(p);return x(Re),P(u),T(0),()=>URL.revokeObjectURL(Re)}if(f){const Re=URL.createObjectURL(f);return x(Re),P(0),T(0),()=>URL.revokeObjectURL(Re)}x(null),T(0),P(0),k(!1)},[p,u,f]),v.useEffect(()=>{const Re=H.current;if(!Re||!y)return;const ut=()=>T(Number.isFinite(Re.currentTime)?Re.currentTime:0),jt=()=>{const wt=Re.duration;Number.isFinite(wt)&&wt>0&&P(wt)},Lt=()=>k(!0),xt=()=>k(!1),ot=()=>{k(!1),T(Number.isFinite(Re.currentTime)?Re.currentTime:0)};return Re.addEventListener("timeupdate",ut),Re.addEventListener("loadedmetadata",jt),Re.addEventListener("play",Lt),Re.addEventListener("pause",xt),Re.addEventListener("ended",ot),()=>{Re.removeEventListener("timeupdate",ut),Re.removeEventListener("loadedmetadata",jt),Re.removeEventListener("play",Lt),Re.removeEventListener("pause",xt),Re.removeEventListener("ended",ot)}},[y]);function Ae(Re){const ut=window.AudioContext||window.webkitAudioContext,jt=new ut;J.current=jt;const Lt=jt.createMediaStreamSource(Re),xt=jt.createAnalyser();xt.fftSize=256,xt.smoothingTimeConstant=.7,xt.minDecibels=-60,xt.maxDecibels=-10,Lt.connect(xt),we.current=xt;const ot=new Uint8Array(xt.frequencyBinCount);jt.resume().catch(()=>{});const wt=5;function rr(){const xr=J.current,un=we.current;if(xr&&un&&xr.state==="running"){un.getByteFrequencyData(ot);let sa=0;for(let On=0;On<ot.length;On++)ot[On]>sa&&(sa=ot[On]);M(Math.min(100,Math.round(sa/255*100))),sa>=wt&&!O.current&&(O.current=!0,B(!0))}Ne.current=requestAnimationFrame(rr)}Ne.current=requestAnimationFrame(rr)}function Ze(){var Re,ut;Ne.current!=null&&(cancelAnimationFrame(Ne.current),Ne.current=null),((Re=J.current)==null?void 0:Re.state)!=="closed"&&((ut=J.current)==null||ut.close(),J.current=null),we.current=null,M(0),O.current=!1,B(!1)}async function Me(){var Re;try{const ut=await navigator.mediaDevices.getUserMedia({audio:!0});$.current=ut,Y.current=[],Ae(ut);const jt=new MediaRecorder(ut);K.current=jt,jt.ondataavailable=Lt=>{Lt.data.size&&Y.current.push(Lt.data)},jt.onstop=()=>{var xt;Ze();const Lt=new Blob(Y.current,{type:jt.mimeType||"audio/webm"});h(Lt),(xt=$.current)==null||xt.getTracks().forEach(ot=>ot.stop()),$.current=null},jt.start(1e3),o(!0),c(0),h(null),m(null),O.current=!1,B(!1),Z.current=setInterval(()=>c(Lt=>Lt+1),1e3);try{"wakeLock"in navigator&&typeof((Re=navigator.wakeLock)==null?void 0:Re.request)=="function"&&(He.current=await navigator.wakeLock.request("screen"))}catch{}}catch(ut){console.error(ut),alert("Could not access microphone.")}}function We(){K.current&&a&&(K.current.stop(),Z.current&&(clearInterval(Z.current),Z.current=null),Pe(),o(!1))}function be(){if(f){t(f,b.trim()||null);return}if(!p)return;const Re=p.type.includes("webm")?"webm":p.type.includes("ogg")?"ogg":"webm",ut=new File([p],`recording.${Re}`,{type:p.type});t(ut,b.trim()||null)}function Qe(Re){var jt;const ut=(jt=Re.target.files)==null?void 0:jt[0];ut&&(m(ut),_(ut.name.replace(/\.[^.]+$/,"")),h(null),xe.current&&(xe.current.value=""))}function Tr(){m(null),xe.current&&(xe.current.value="")}function mt(){const Re=H.current;Re&&(A?Re.pause():Re.play().catch(()=>{}))}function zr(Re){const ut=H.current,jt=X.current;if(!ut||!jt||N<=0)return;const Lt=jt.getBoundingClientRect(),xt=Math.max(0,Math.min(1,(Re.clientX-Lt.left)/Lt.width));ut.currentTime=xt*N,T(xt*N)}const Rn=N>0?Math.min(1,S/N):0;function Gt(){!a&&!ge?e():(q("close"),D(!0))}function cn(){q("discard_preview"),D(!0)}function Hn(){I==="close"?(D(!1),q(null),e()):I==="discard_preview"&&(D(!1),q(null),h(null),c(0),Tr())}function ia(){D(!1),q(null)}return i.jsxs("div",{className:W.recordOverlay,onClick:Re=>Re.target===Re.currentTarget&&Gt(),children:[i.jsxs("div",{ref:te,className:W.recordCard,onClick:Re=>Re.stopPropagation(),role:"dialog","aria-modal":"true","aria-labelledby":"record-title",children:[i.jsxs("div",{className:W.dialogHeaderRow,children:[i.jsx("h3",{id:"record-title",className:W.dialogTitle,children:"Record A Section"}),i.jsx("button",{type:"button",className:W.dialogClose,onClick:Gt,"aria-label":"Close",children:i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":"true"})})]}),i.jsx("p",{className:W.recordSub,children:"Use your microphone or upload audio. To begin, click the red record button below."}),!a&&!ge&&i.jsxs(i.Fragment,{children:[i.jsx("button",{ref:le,type:"button",className:`${W.recordBtn} ${W.record}`,onClick:Me,"aria-label":"Start recording",children:""}),j&&i.jsx("p",{className:W.recordMobileNote,children:"Please do not navigate away from this page or the recording may be stopped or lost. Please record for less than 30 minutes to avoid issues."}),!j&&i.jsx("p",{className:W.recordMobileNote,children:"Please do not navigate away from this page or the recording may be stopped or lost."}),i.jsxs("button",{type:"button",className:`${W.addSectionChoiceBtn} ${W.addSectionChoiceBtnPrimary} ${W.libraryChooseFileBtn}`,style:{width:"100%",marginTop:"0.75rem"},onClick:()=>{var Re;return(Re=xe.current)==null?void 0:Re.click()},"aria-label":"Choose file to upload",children:[i.jsx(Zv,{size:24,strokeWidth:2,"aria-hidden":!0}),i.jsx("span",{children:"Choose File to Upload"})]}),i.jsx("input",{ref:xe,type:"file",accept:"audio/mpeg,audio/mp3,audio/wav,audio/wave,audio/x-wav,audio/mp4,audio/webm,audio/ogg,.mp3,.wav,.m4a,.webm,.ogg",style:{display:"none"},onChange:Qe})]}),a&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:W.recordTime,children:Cd(u)}),i.jsxs("div",{className:W.recordLevelWrap,"aria-live":"polite","aria-label":"Microphone level",children:[i.jsx("div",{className:W.recordLevelBar,role:"presentation",children:i.jsx("div",{className:W.recordLevelFill,style:{width:`${z}%`}})}),!F&&i.jsx("p",{className:W.recordLevelHint,children:z<2?"No input - check if microphone is muted":"Microphone active"})]}),i.jsx("button",{ref:me,type:"button",className:`${W.recordBtn} ${W.stop}`,onClick:We,"aria-label":"Stop recording",children:""})]}),ge&&!a&&i.jsxs(i.Fragment,{children:[i.jsxs("label",{className:W.recordLabel,children:["Section name (optional)",i.jsx("input",{type:"text",className:W.recordNameInput,value:b,onChange:Re=>_(Re.target.value),placeholder:"e.g. Intro, Ad read"})]}),y&&i.jsxs("div",{className:W.recordPlaybackWrap,children:[i.jsx("audio",{ref:H,src:y,preload:"metadata",style:{display:"none"}},y),i.jsxs("div",{className:W.recordPlaybackRow,children:[i.jsx("button",{type:"button",className:W.segmentBtn,onClick:mt,title:A?"Pause":"Play","aria-label":A?"Pause playback":"Play playback",children:A?i.jsx(xs,{size:18,"aria-hidden":!0}):i.jsx(qi,{size:18,"aria-hidden":!0})}),i.jsxs("div",{className:W.recordPlaybackInfo,children:[i.jsxs("div",{className:W.segmentMeta,children:[Cd(Math.floor(S))," / ",Cd(Math.floor(N))]}),i.jsx("div",{ref:X,className:W.segmentProgressTrack,onClick:zr,role:"progressbar","aria-valuenow":Math.round(S),"aria-valuemin":0,"aria-valuemax":Math.round(N),"aria-label":"Playback position",children:i.jsx("div",{className:W.segmentProgressFill,style:{width:`${Rn*100}%`}})})]})]})]}),p&&i.jsxs("button",{type:"button",className:`${W.recordChoiceBtn} ${W.recordChoiceBtnSecondary}`,style:{width:"100%",marginTop:"0.5rem"},onClick:cn,"aria-label":"Record again",children:[i.jsx(lb,{size:24,strokeWidth:2,"aria-hidden":!0}),i.jsx("span",{children:"Record again"})]}),f&&i.jsxs("button",{type:"button",className:W.recordChoiceBtn,style:{width:"100%",marginTop:"0.5rem"},onClick:cn,"aria-label":"Choose different file",children:[i.jsx(Zv,{size:24,strokeWidth:2,"aria-hidden":!0}),i.jsx("span",{children:"Choose different file"})]}),i.jsxs("div",{className:W.recordFooterRow,children:[i.jsx("button",{ref:ke,type:"button",className:W.libraryClose,onClick:Gt,"aria-label":"Cancel",children:"Cancel"}),i.jsxs("button",{type:"button",className:W.recordFooterPrimaryBtn,onClick:be,disabled:r,"aria-label":r?"Adding to episode":"Add to episode",children:[i.jsx(bF,{size:18,strokeWidth:2,"aria-hidden":!0}),i.jsx("span",{children:r?"Adding...":"Add to episode"})]})]})]}),!ge&&!a&&i.jsx("div",{className:W.recordFooterRow,children:i.jsx("button",{ref:ke,type:"button",className:W.libraryClose,onClick:Gt,"aria-label":"Cancel",children:"Cancel"})}),n&&i.jsx("p",{className:W.error,style:{marginTop:"0.5rem"},children:n})]}),i.jsx(cr,{open:R,onOpenChange:Re=>!Re&&ia(),children:i.jsxs(mr,{children:[i.jsx(ur,{className:W.dialogOverlay}),i.jsxs(dr,{className:W.dialogContent,children:[i.jsxs("div",{className:W.dialogHeaderRow,children:[i.jsx(fr,{className:W.dialogTitle,children:I==="discard_preview"?"Discard recording or upload?":"Discard recording?"}),i.jsx(dt,{asChild:!0,children:i.jsx("button",{type:"button",className:W.dialogClose,onClick:ia,"aria-label":"Close",children:i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":"true"})})})]}),i.jsx(kr,{className:W.dialogDescription,children:I==="discard_preview"?"Your recording or upload will not be saved.":"Your recording will not be saved."}),i.jsxs("div",{className:W.dialogActions,children:[i.jsx(dt,{asChild:!0,children:i.jsx("button",{type:"button",className:W.cancel,onClick:ia,"aria-label":"Stay and continue",children:"Stay"})}),i.jsx("button",{type:"button",className:W.dialogConfirmRemove,onClick:Hn,"aria-label":"Discard",children:"Discard"})]})]})]})})]})}const Ci="/api";function d2(){return fetch(`${Ci}/library`,{method:"GET",credentials:"include"}).then(e=>e.ok?e.json():e.json().then(t=>{throw new Error(t.error??e.statusText)}))}function ONe(e){return fetch(`${Ci}/library/user/${e}`,{method:"GET",credentials:"include"}).then(t=>t.ok?t.json():t.json().then(r=>{throw new Error(r.error??t.statusText)}))}function DNe(e){return fetch(`${Ci}/library/import-pixabay`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",...tr()},body:JSON.stringify({url:e})}).then(t=>t.ok?t.json():t.json().then(r=>{throw new Error(r.error??t.statusText)}))}function O7(e,t,r,n,a){const o=new FormData;return o.append("name",t),r&&o.append("tag",r),n&&o.append("copyright",n),a&&o.append("license",a),o.append("file",e),fetch(`${Ci}/library`,{method:"POST",credentials:"include",headers:tr(),body:o}).then(c=>c.ok?c.json():c.json().then(p=>{throw new Error(p.error??c.statusText)}))}function MNe(e,t){return fetch(`${Ci}/library/${e}`,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json",...tr()},body:JSON.stringify(t)}).then(r=>r.ok?r.json():r.json().then(n=>{throw new Error(n.error??r.statusText)}))}function LNe(e,t,r){return fetch(`${Ci}/library/user/${e}/${t}`,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json",...tr()},body:JSON.stringify(r)}).then(n=>n.ok?n.json():n.json().then(a=>{throw new Error(a.error??n.statusText)}))}function INe(e){return fetch(`${Ci}/library/${e}`,{method:"DELETE",credentials:"include",headers:tr()}).then(t=>{if(!t.ok)return t.json().then(r=>{throw new Error(r.error??t.statusText)})})}function $Ne(e,t){return fetch(`${Ci}/library/user/${e}/${t}`,{method:"DELETE",credentials:"include",headers:tr()}).then(r=>{if(!r.ok)return r.json().then(n=>{throw new Error(n.error??r.statusText)})})}function Sj(e){return`${Ci}/library/${e}/stream`}function v4(e,t){return`${Ci}/library/user/${e}/${t}/stream`}function BNe(e){return`${Ci}/library/${e}/waveform`}function zNe(e,t){return`${Ci}/library/user/${e}/${t}/waveform`}const Dw=["Ad","Intro","Outro","Bumper","Other"],Mw=10,FNe=[];function qNe({onClose:e,onSelect:t,isAdding:r,error:n}){var X;const a=Bt(),[o,u]=v.useState(null),[c,p]=v.useState(""),[h,f]=v.useState(""),[m,b]=v.useState(""),[_,j]=v.useState(""),[w,y]=v.useState(""),[x,S]=v.useState(""),[T,N]=v.useState(""),[P,A]=v.useState(!0),[k,R]=v.useState(1),D=v.useRef(null),{data:I,isLoading:q}=De({queryKey:["library"],queryFn:()=>d2()}),z=Ve({mutationFn:({file:te,name:le,tag:me,copyright:ke,license:xe})=>O7(te,le,me||void 0,ke||void 0,xe||void 0),onSuccess:()=>{a.invalidateQueries({queryKey:["library"]}),u(null),p(""),f(""),b(""),j(""),y(""),D.current&&(D.current.value="")}}),M=v.useMemo(()=>(I==null?void 0:I.assets)??FNe,[I==null?void 0:I.assets]),F=v.useMemo(()=>{const te=new Set(Dw),le=new Set;return M.forEach(me=>{me.tag&&le.add(me.tag)}),[...Dw.filter(me=>me!=="Other"),...Array.from(le).filter(me=>!te.has(me)).sort()]},[M]),B=v.useMemo(()=>{const te=T.trim().toLowerCase();let le=M.filter(me=>!(x&&me.tag!==x||te&&!me.name.toLowerCase().includes(te)));return le=[...le].sort((me,ke)=>{const xe=new Date(me.created_at).getTime(),He=new Date(ke.created_at).getTime();return P?He-xe:xe-He}),le},[M,x,T,P]),O=Math.max(1,Math.ceil(B.length/Mw)),$=Math.max(1,Math.min(k,O)),K=v.useMemo(()=>B.slice(($-1)*Mw,$*Mw),[B,$]);v.useEffect(()=>{R(te=>te>O?Math.max(1,O):te)},[O]);function Y(te){var me;const le=(me=te.target.files)==null?void 0:me[0];le&&(u(le),p(le.name.replace(/\.[^.]+$/,"")),f(""))}function Z(){if(!o)return;const te=c.trim()||o.name.replace(/\.[^.]+$/,""),le=h==="Other"?w.trim()||null:h||null,me=m.trim()||null,ke=_.trim()||null;z.mutate({file:o,name:te,tag:le,copyright:me,license:ke})}function H(){u(null),p(""),f(""),b(""),j(""),y(""),D.current&&(D.current.value="")}return i.jsx("div",{className:W.libraryOverlay,onClick:te=>te.target===te.currentTarget&&e(),children:i.jsxs("div",{className:W.libraryCard,onClick:te=>te.stopPropagation(),children:[i.jsx("h3",{className:W.libraryTitle,children:"Insert from library"}),i.jsx("p",{className:W.librarySub,children:"Reusable clips (ads, intros, outros) you can use in any episode."}),i.jsxs("div",{className:W.libraryCardBodyScroll,children:[o?i.jsxs("div",{className:W.libraryUploadForm,children:[i.jsx("p",{className:W.libraryPendingFile,children:o.name}),i.jsxs("label",{className:W.recordLabel,children:["Name",i.jsx("input",{type:"text",className:W.recordNameInput,placeholder:"e.g. Mid-roll ad, Show intro",value:c,onChange:te=>p(te.target.value)})]}),i.jsxs("label",{className:W.recordLabel,children:["Tag",i.jsxs("select",{className:W.select,value:h,onChange:te=>f(te.target.value),children:[i.jsx("option",{value:"",children:"None"}),Dw.map(te=>i.jsx("option",{value:te,children:te},te))]})]}),h==="Other"&&i.jsxs("label",{className:W.recordLabel,children:["Custom tag",i.jsx("input",{type:"text",className:W.recordNameInput,placeholder:"e.g. Promo, Transition",value:w,onChange:te=>y(te.target.value)})]}),i.jsxs("label",{className:W.recordLabel,children:[i.jsxs("span",{children:["Copyright ",i.jsx("span",{className:W.optional,children:"(optional)"})]}),i.jsx("input",{type:"text",className:W.recordNameInput,placeholder:"e.g. 2026 Acme Media",value:m,onChange:te=>b(te.target.value)})]}),i.jsxs("label",{className:W.recordLabel,children:[i.jsxs("span",{children:["License ",i.jsx("span",{className:W.optional,children:"(optional)"})]}),i.jsx("input",{type:"text",className:W.recordNameInput,placeholder:"e.g. CC BY 4.0, All rights reserved",value:_,onChange:te=>j(te.target.value)})]}),i.jsxs("div",{className:W.libraryUploadActions,children:[i.jsx("button",{type:"button",className:W.cancel,onClick:H,"aria-label":"Cancel adding to library",children:"Cancel"}),i.jsx("button",{type:"button",className:W.submit,onClick:Z,disabled:z.isPending,"aria-label":"Add file to library",children:z.isPending?"Adding...":"Add to Library"})]})]}):i.jsxs("button",{type:"button",className:`${W.addSectionChoiceBtn} ${W.addSectionChoiceBtnPrimary} ${W.libraryChooseFileBtn}`,style:{width:"100%",marginBottom:"1rem"},onClick:()=>{var te;return(te=D.current)==null?void 0:te.click()},"aria-label":"Choose file to add to library",children:[i.jsx(Zv,{size:24,strokeWidth:2,"aria-hidden":!0}),i.jsx("span",{children:"Choose file to add to Library"})]}),i.jsx("input",{ref:D,type:"file",accept:"audio/mpeg,audio/mp3,audio/wav,audio/wave,audio/x-wav,audio/mp4,audio/webm,audio/ogg,.mp3,.wav,.m4a,.webm,.ogg",style:{display:"none"},onChange:Y}),z.isError&&i.jsx("p",{className:W.error,style:{marginBottom:"0.5rem"},children:(X=z.error)==null?void 0:X.message}),!o&&!q&&M.length>0&&i.jsxs("div",{className:W.libraryFilters,children:[i.jsx("input",{type:"search",className:W.input,placeholder:"Search by name...",value:T,onChange:te=>{N(te.target.value),R(1)},"aria-label":"Filter by name"}),i.jsxs("select",{className:W.select,value:x,onChange:te=>{S(te.target.value),R(1)},"aria-label":"Filter by tag",children:[i.jsx("option",{value:"",children:"All tags"}),F.map(te=>i.jsx("option",{value:te,children:te},te))]}),i.jsxs("div",{className:W.librarySortToggle,role:"group","aria-label":"Sort order",children:[i.jsx("button",{type:"button",className:P?W.librarySortBtnActive:W.librarySortBtn,onClick:()=>{A(!0),R(1)},title:"Newest first","aria-label":"Newest first",children:i.jsx(Yd,{size:16,"aria-hidden":!0})}),i.jsx("button",{type:"button",className:P?W.librarySortBtn:W.librarySortBtnActive,onClick:()=>{A(!1),R(1)},title:"Oldest first","aria-label":"Oldest first",children:i.jsx(Qd,{size:16,"aria-hidden":!0})})]})]}),!o&&(q?i.jsx("p",{className:W.libraryEmpty,children:"Loading..."}):M.length===0?i.jsx("p",{className:W.libraryEmpty,children:"No library clips yet. Choose a file above to add one."}):B.length===0?i.jsx("p",{className:W.libraryEmpty,children:"No clips match your filters."}):i.jsxs(i.Fragment,{children:[i.jsx("ul",{className:W.libraryList,children:K.map(te=>i.jsx("li",{className:W.libraryItem,onClick:()=>!r&&t(te.id),children:i.jsxs("div",{className:W.libraryItemContent,children:[i.jsxs("div",{className:W.libraryItemName,children:[te.name,te.tag&&i.jsx("span",{className:W.libraryItemTag,children:te.tag})]}),i.jsxs("div",{className:W.libraryItemMeta,children:[Cd(te.duration_sec),i.jsxs("span",{className:W.libraryItemDate,children:["  ",HSe(te.created_at)]})]})]})},te.id))}),O>1&&i.jsxs("div",{className:W.libraryPagination,children:[i.jsxs("span",{className:W.libraryPaginationLabel,children:["Page ",$," of ",O]}),i.jsxs("div",{className:W.libraryPaginationBtns,children:[i.jsx("button",{type:"button",className:W.libraryPageBtn,onClick:()=>R(te=>Math.max(1,te-1)),disabled:$<=1,"aria-label":"Previous page",children:""}),i.jsx("button",{type:"button",className:W.libraryPageBtn,onClick:()=>R(te=>Math.min(O,te+1)),disabled:$>=O,"aria-label":"Next page",children:""})]})]})]})),n&&i.jsx("p",{className:W.error,style:{marginTop:"0.5rem"},children:n})]}),i.jsx("button",{type:"button",className:W.libraryClose,onClick:e,"aria-label":"Close library",children:"Close"})]})})}function UNe({open:e,onOpenChange:t,description:r,onConfirm:n,isDeleting:a}){return i.jsx(cr,{open:e,onOpenChange:o=>!o&&t(!1),children:i.jsxs(mr,{children:[i.jsx(ur,{className:W.dialogOverlay}),i.jsxs(dr,{className:W.dialogContent,children:[i.jsxs("div",{className:W.dialogHeaderRow,children:[i.jsx(fr,{className:W.dialogTitle,children:"Remove section?"}),i.jsx(dt,{asChild:!0,children:i.jsx("button",{type:"button",className:W.dialogClose,"aria-label":"Close",children:i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":"true"})})})]}),i.jsx(kr,{className:W.dialogDescription,children:r}),i.jsxs("div",{className:W.dialogActions,children:[i.jsx(dt,{asChild:!0,children:i.jsx("button",{type:"button",className:W.cancel,"aria-label":"Cancel removing section",children:"Cancel"})}),i.jsx("button",{type:"button",className:W.dialogConfirmRemove,onClick:()=>{n(),t(!1)},disabled:a,"aria-label":"Confirm remove section",children:a?"Removing...":"Remove"})]})]})]})})}function HNe({open:e,onOpenChange:t,onConfirm:r,isDeleting:n}){const a=u=>{u.stopPropagation(),t(!1)},o=u=>{u||t(!1)};return i.jsx(cr,{open:e,onOpenChange:o,modal:!0,children:i.jsxs(mr,{children:[i.jsx(ur,{className:W.dialogOverlay}),i.jsxs(dr,{className:W.dialogContent,onEscapeKeyDown:u=>{u.preventDefault(),t(!1)},onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[i.jsxs("div",{className:W.dialogHeaderRow,children:[i.jsx(fr,{className:W.dialogTitle,children:"Delete transcript segment?"}),i.jsx(dt,{asChild:!0,children:i.jsx("button",{type:"button",className:W.dialogClose,"aria-label":"Close",children:i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":"true"})})})]}),i.jsx(kr,{className:W.dialogDescription,children:"This will remove the segment from both the audio file and transcript. This cannot be undone."}),i.jsxs("div",{className:W.dialogActions,children:[i.jsx("button",{type:"button",className:W.cancel,onClick:a,"aria-label":"Cancel deleting transcript segment",children:"Cancel"}),i.jsx("button",{type:"button",className:W.dialogConfirmRemove,onClick:r,disabled:n,"aria-label":"Confirm delete transcript segment",children:n?"Deleting...":"Delete"})]})]})]})})}function WNe(){return At("/llm/available")}function KNe(e,t){return qa("/llm/ask",{method:"POST",json:{transcript:e,question:t}})}function GNe({episodeId:e,segmentId:t,segmentName:r,segmentDuration:n,segmentAudioPath:a,asrAvailable:o,ownerCanTranscribe:u=!0,onClose:c,onDeleteEntry:p}){function h(fe){return(fe||"").toLowerCase().includes("too many requests")}const[f,m]=v.useState(null),[b,_]=v.useState(!0),[j,w]=v.useState(!1),[y,x]=v.useState(null),[S,T]=v.useState(!1),[N,P]=v.useState("view"),[A,k]=v.useState(""),[R,D]=v.useState(""),[I,q]=v.useState(!1),[z,M]=v.useState(null),[F,B]=v.useState(!1),[O,$]=v.useState(!1),[K,Y]=v.useState(!1),[Z,H]=v.useState(null),[X,te]=v.useState(!1),[le,me]=v.useState(!1),[ke,xe]=v.useState(!1),[He,J]=v.useState(!1),we=v.useRef(null),Ne=v.useRef(null),[ge,Pe]=v.useState(""),[Ae,Ze]=v.useState(null),[Me,We]=v.useState(null),[be,Qe]=v.useState(null),Tr=v.useRef(null),mt=v.useRef(null),zr=Bt(),{data:Rn}=De({queryKey:["settings","llm-available"],queryFn:()=>WNe()}),Gt=(Rn==null?void 0:Rn.available)??!1,cn=Ve({mutationFn:({transcript:fe,question:je})=>KNe(fe,je),onSuccess:fe=>{Ze(fe.response),We(null)},onError:fe=>{Ze(null),We(fe instanceof Error?fe.message:"Failed to get response")}}),Hn=Ve({mutationFn:fe=>k7(e,t,fe),onSuccess:fe=>{fe.text!==void 0?m(fe.text):(m(null),w(!0)),zr.invalidateQueries({queryKey:["segments",e]})}});function ia(fe){p?p(fe):Hn.mutate(fe)}v.useEffect(()=>{_(!0),w(!1),x(null),m(null),P("view"),Pe(""),Ze(null),We(null),Qe(null),k(""),D(""),M(null),B(!1),$(!1);const fe=Tr.current;fe&&(fe.pause(),fe.src="",mt.current&&(fe.removeEventListener("timeupdate",mt.current),mt.current=null));const je=we.current,gt=Ne.current;return je&&(je.pause(),je.src="",gt&&(je.removeEventListener("timeupdate",gt),Ne.current=null)),pv(e,t).then(Oe=>{m(Oe.text),w(!1)}).catch(Oe=>{(Oe==null?void 0:Oe.message)==="Transcript not found"?w(!0):x((Oe==null?void 0:Oe.message)??"Failed to load transcript")}).finally(()=>_(!1)),()=>{je&&(je.pause(),je.src="",gt&&(je.removeEventListener("timeupdate",gt),Ne.current=null))}},[e,t]),v.useEffect(()=>{if(N==="edit"){const fe=Tr.current;fe&&(fe.pause(),fe.src="",mt.current&&(fe.removeEventListener("timeupdate",mt.current),mt.current=null));const je=we.current;je&&(je.pause(),je.src="",Ne.current&&(je.removeEventListener("timeupdate",Ne.current),Ne.current=null)),k(""),D(""),M(null),B(!1),$(!1),Qe(null)}},[N]);function Re(){T(!0),x(null),TSe(e,t).then(fe=>{m(fe.text),w(!1)}).catch(fe=>x((fe==null?void 0:fe.message)??"Failed to generate transcript")).finally(()=>T(!1))}function ut(fe){return!fe||!fe.includes("-->")?fe:Lt(fe).map(gt=>gt.text).join(" ")}function jt(fe){fe.preventDefault();const je=ge.trim();if(!je)return;const gt=f?ut(f):"";cn.mutate({transcript:gt,question:je})}function Lt(fe){var Oe;const je=[],gt=fe.split(/\n\s*\n/).filter(re=>re.trim());for(const re of gt){const Ke=re.trim().split(`
`);if(Ke.length<3)continue;const it=(Oe=Ke[1])==null?void 0:Oe.trim();if(!it||!it.includes("-->"))continue;const[st,St]=it.split("-->").map(Le=>Le.trim()),pe=Ke.slice(2).join(`
`).trim();st&&St&&pe&&je.push({start:st,end:St,text:pe})}return je}function xt(fe){const gt=fe.replace(",",".").split(":");if(gt.length===3){const Oe=parseInt(gt[0]||"0",10),re=gt[1]||"00",Ke=gt[2]||"00.000";return Oe===0?`${re}:${Ke}`:`${String(Oe).padStart(2,"0")}:${re}:${Ke}`}return fe}function ot(fe){const gt=fe.replace(",",".").split(":");if(gt.length!==3)return 0;const Oe=parseFloat(gt[0]||"0"),re=parseFloat(gt[1]||"0"),Ke=parseFloat(gt[2]||"0");return Oe*3600+re*60+Ke}function wt(fe){const je=Math.floor(fe/3600),gt=Math.floor(fe%3600/60),Oe=Math.floor(fe%60),re=Math.floor(fe%1*1e3);return`${String(je).padStart(2,"0")}:${String(gt).padStart(2,"0")}:${String(Oe).padStart(2,"0")},${String(re).padStart(3,"0")}`}function rr(fe,je,gt){if(!ka)return;const Oe=ka[fe];if(!Oe)return;const re=je?Oe.start:Oe.end,Ke=ot(re),it=Math.max(0,Ke+gt/1e3),st=wt(it),St=[...ka];je?St[fe]={...Oe,start:st}:St[fe]={...Oe,end:st};const pe=St.map((Le,bt)=>`${bt+1}
${Le.start} --> ${Le.end}
${Le.text}
`).join(`
`);ASe(e,t,pe).then(()=>{m(pe)}).catch(Le=>{console.error("Failed to update transcript:",Le),m(f)})}function xr(fe){fe.preventDefault()}function un(fe){const je=we.current;if(!je)return;const Oe=parseFloat(fe?A:R);if(Number.isNaN(Oe)||Oe<0){M("Invalid time value");return}const re=n;if(fe)if(F)je.pause(),B(!1),Ne.current&&(je.removeEventListener("timeupdate",Ne.current),Ne.current=null);else{O&&(je.pause(),$(!1)),Ne.current&&je.removeEventListener("timeupdate",Ne.current),B(!0),$(!1),M(null);const Ke=()=>{(je.currentTime-Oe>=10||je.currentTime>=re)&&(je.pause(),B(!1),je.removeEventListener("timeupdate",Ke),Ne.current=null)};Ne.current=Ke,je.pause(),je.currentTime=0;const it=$v(e,t,a);je.src=it,je.load();const st=()=>{const Le=je.currentTime;if(Math.abs(Le-Oe)>.5){console.warn(`Seek to ${Oe} failed, actual time is ${Le}, retrying...`),setTimeout(()=>{je.currentTime=Oe},100);return}je.addEventListener("timeupdate",Ke),je.play().catch(()=>{B(!1),je.removeEventListener("timeupdate",Ke),Ne.current=null})},St=()=>{try{if(je.seekable.length>0){const Le=je.seekable.end(0),bt=Math.min(Oe,Le);if(bt<je.seekable.start(0)){setTimeout(St,100);return}je.currentTime=bt,je.addEventListener("seeked",st,{once:!0})}else setTimeout(St,100)}catch(Le){console.error("Failed to seek audio:",Le),B(!1),Ne.current=null}},pe=()=>{St()};je.addEventListener("canplay",pe,{once:!0})}else if(O)je.pause(),$(!1),Ne.current&&(je.removeEventListener("timeupdate",Ne.current),Ne.current=null);else{F&&(je.pause(),B(!1)),Ne.current&&je.removeEventListener("timeupdate",Ne.current),$(!0),B(!1),M(null);const Ke=re-Oe,it=Math.max(0,Ke-10),st=()=>{(je.currentTime>=Ke||je.currentTime>=re)&&(je.pause(),$(!1),je.removeEventListener("timeupdate",st),Ne.current=null)};Ne.current=st;const St=()=>{je.currentTime=it,je.addEventListener("timeupdate",st),je.play().catch(()=>{$(!1),je.removeEventListener("timeupdate",st),Ne.current=null})};je.addEventListener("loadedmetadata",St,{once:!0}),je.src=$v(e,t,a),je.readyState>=2&&St()}}function sa(fe){const gt=parseFloat(fe?A:R);if(Number.isNaN(gt)||gt<0){M("Invalid time value");return}H({isStart:fe,timeSec:gt}),Y(!0)}function On(){if(!Z)return;const{isStart:fe,timeSec:je}=Z;Y(!1),q(!0),M(null);const Oe=fe?void 0:n-je;LSe(e,t,fe?je:void 0,Oe).then(()=>(k(""),D(""),zr.invalidateQueries({queryKey:["segments",e]}),pv(e,t).then(re=>{m(re.text??null),w(re.text==null)}).catch(()=>{m(null),w(!0)}))).catch(re=>{M((re==null?void 0:re.message)??"Failed to trim audio")}).finally(()=>{q(!1),H(null)})}function Sa(){me(!0)}function ki(){J(!0)}function Wa(){J(!1),xe(!0),M(null),$Se(e,t,-45).then(()=>(zr.invalidateQueries({queryKey:["segments",e]}),pv(e,t).then(fe=>{m(fe.text??null),w(fe.text==null)}).catch(()=>{m(null),w(!0)}))).catch(fe=>{M((fe==null?void 0:fe.message)??"Failed to apply noise suppression")}).finally(()=>{xe(!1)})}function ja(){me(!1),te(!0),M(null),ISe(e,t,1.5,-55).then(()=>(k(""),D(""),zr.invalidateQueries({queryKey:["segments",e]}),pv(e,t).then(fe=>{m(fe.text??null),w(fe.text==null)}).catch(()=>{m(null),w(!0)}))).catch(fe=>{M((fe==null?void 0:fe.message)??"Failed to remove silence")}).finally(()=>{te(!1)})}function Ji(fe,je,gt){var it;const Oe=Tr.current;if(!Oe)return;const re=ot(je),Ke=ot(gt);if(be===fe)Oe.pause(),Qe(null),mt.current&&(Oe.removeEventListener("timeupdate",mt.current),mt.current=null);else{be!==null&&(Oe.pause(),mt.current&&(Oe.removeEventListener("timeupdate",mt.current),mt.current=null)),Qe(fe);const st=()=>{Oe.currentTime>=Ke&&(Oe.pause(),Qe(null),mt.current&&(Oe.removeEventListener("timeupdate",mt.current),mt.current=null))};mt.current=st,Oe.addEventListener("timeupdate",st),Oe.src=$v(e,t,a);const St=()=>{mt.current&&(Oe.removeEventListener("timeupdate",mt.current),mt.current=null),Qe(null)},pe=()=>{Oe.play().catch(St)},Le=/^((?!chrome|android).)*safari|iPhone|iPad|Macintosh/i.test(navigator.userAgent)||((it=navigator.vendor)==null?void 0:it.includes("Apple")),bt=()=>{let oa=re;if(Oe.seekable.length>0){const Ni=Oe.seekable.end(0);oa=Math.min(re,Ni)}if(Le){const Ni=Oe.volume;Oe.volume=0,Oe.play().catch(()=>{Oe.volume=Ni,St()});const gu=()=>{Oe.removeEventListener("playing",gu),Oe.currentTime=oa,Oe.volume=Ni};Oe.addEventListener("playing",gu,{once:!0})}else{let Ni=!1;const gu=setTimeout(()=>{!Ni&&Oe.paused&&pe()},800),km=()=>{Ni=!0,clearTimeout(gu),Oe.removeEventListener("seeked",km),pe()};Oe.addEventListener("seeked",km,{once:!0}),Oe.currentTime=oa}},or=()=>{Oe.removeEventListener("loadeddata",or),Oe.removeEventListener("canplay",or),bt()};Oe.addEventListener("loadeddata",or),Oe.addEventListener("canplay",or),Oe.readyState>=2&&or()}}v.useEffect(()=>{const fe=Tr.current;if(!fe)return;const je=()=>{fe.paused&&be!==null&&(Qe(null),mt.current&&(fe.removeEventListener("timeupdate",mt.current),mt.current=null))};return fe.addEventListener("pause",je),()=>{fe.removeEventListener("pause",je)}},[be]);const Ca=!b&&f!=null&&f.trim()!=="",Ko=o||Gt,ka=f&&f.includes("-->")?Lt(f):null;return v.useEffect(()=>{!o&&N==="view"&&P("edit")},[o,N]),v.useEffect(()=>{!o&&!Gt&&N!=="edit"&&P("edit")},[o,Gt,N]),v.useEffect(()=>{N==="ask"&&(!Gt||!Ca)&&P(o?"view":"edit")},[N,Gt,o,Ca]),i.jsx(cr,{open:!0,onOpenChange:fe=>!fe&&c(),children:i.jsxs(mr,{children:[i.jsx(ur,{className:W.dialogOverlay}),i.jsxs(dr,{className:`${W.dialogContent} ${W.dialogContentWide} ${W.segmentTranscriptDialog}`,"aria-describedby":void 0,children:[i.jsxs("div",{className:W.dialogHeaderRow,children:[i.jsx(fr,{className:W.dialogTitle,children:r}),i.jsx(dt,{asChild:!0,children:i.jsx("button",{type:"button",className:W.dialogClose,"aria-label":"Close",children:i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":"true"})})})]}),i.jsx("div",{className:W.dialogBodyScroll,children:i.jsxs("div",{className:W.dialogDescription,children:[Ko&&i.jsx("div",{className:W.transcriptToggleWrap,children:i.jsxs("div",{className:W.transcriptToggle,role:"tablist","aria-label":"Transcript mode",children:[o&&i.jsx("button",{type:"button",role:"tab","aria-selected":N==="view","aria-label":"View transcript",className:N==="view"?W.transcriptToggleActive:W.transcriptToggleBtn,onClick:()=>P("view"),children:"View"}),Gt&&Ca&&i.jsx("button",{type:"button",role:"tab","aria-selected":N==="ask","aria-label":"Ask questions about transcript",className:N==="ask"?W.transcriptToggleActive:W.transcriptToggleBtn,onClick:()=>P("ask"),children:"Ask"}),o&&i.jsx("button",{type:"button",role:"tab","aria-selected":N==="edit","aria-label":"Edit transcript",className:N==="edit"?W.transcriptToggleActive:W.transcriptToggleBtn,onClick:()=>P("edit"),children:"Edit"})]})}),b&&i.jsx("p",{children:"Loading..."}),!b&&f!=null&&N==="view"&&i.jsxs(i.Fragment,{children:[ka?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:W.transcriptCards,children:ka.map((fe,je)=>i.jsxs("div",{className:W.transcriptCard,children:[i.jsx("div",{className:W.transcriptCardText,children:fe.text}),i.jsxs("div",{className:W.transcriptCardFooter,children:[i.jsxs("div",{className:W.transcriptCardTimeControls,children:[i.jsxs("div",{className:W.transcriptCardTimeGroup,children:[i.jsxs("div",{className:W.transcriptCardTimeButtons,children:[i.jsx("button",{type:"button",className:W.transcriptCardTimeBtn,onClick:()=>rr(je,!0,-200),title:"Subtract 200ms from start","aria-label":`Subtract 200ms from start time of segment ${je+1}`,children:i.jsx(EP,{size:12,"aria-hidden":!0})}),i.jsx("button",{type:"button",className:W.transcriptCardTimeBtn,onClick:()=>rr(je,!0,200),title:"Add 200ms to start","aria-label":`Add 200ms to start time of segment ${je+1}`,children:i.jsx(Qr,{size:12,"aria-hidden":!0})})]}),i.jsxs("span",{className:W.transcriptCardTimeLabel,children:["Start: ",xt(fe.start)]})]}),i.jsxs("div",{className:W.transcriptCardTimeGroup,children:[i.jsxs("div",{className:W.transcriptCardTimeButtons,children:[i.jsx("button",{type:"button",className:W.transcriptCardTimeBtn,onClick:()=>rr(je,!1,-200),title:"Subtract 200ms from end","aria-label":`Subtract 200ms from end time of segment ${je+1}`,children:i.jsx(EP,{size:12,"aria-hidden":!0})}),i.jsx("button",{type:"button",className:W.transcriptCardTimeBtn,onClick:()=>rr(je,!1,200),title:"Add 200ms to end","aria-label":`Add 200ms to end time of segment ${je+1}`,children:i.jsx(Qr,{size:12,"aria-hidden":!0})})]}),i.jsxs("span",{className:W.transcriptCardTimeLabel,children:["End: ",xt(fe.end)]})]})]}),i.jsxs("div",{className:W.transcriptCardFooterActions,children:[i.jsx("button",{type:"button",className:W.transcriptCardBtn,onClick:()=>Ji(je,fe.start,fe.end),title:be===je?"Pause":"Play","aria-label":be===je?`Pause transcript segment ${je+1}`:`Play transcript segment ${je+1}`,children:be===je?i.jsx(xs,{size:14,"aria-hidden":!0}):i.jsx(qi,{size:14,"aria-hidden":!0})}),i.jsx("button",{type:"button",className:W.transcriptCardBtn,onClick:()=>ia(je),disabled:Hn.isPending,title:"Delete this segment","aria-label":`Delete transcript segment ${je+1}`,children:i.jsx(Wl,{size:14,"aria-hidden":!0})})]})]})]},je))}),i.jsx("audio",{ref:Tr,style:{display:"none"}})]}):i.jsx("pre",{className:W.transcriptText,children:f||"(empty)"}),y&&i.jsx("p",{className:`${W.error} ${h(y)?W.rateLimitError:""}`,children:y})]}),!b&&f!=null&&N==="ask"&&i.jsxs("div",{className:W.transcriptAsk,children:[i.jsxs("form",{onSubmit:jt,className:W.transcriptAskForm,children:[i.jsx("input",{type:"text",className:W.transcriptAskInput,placeholder:"Ask something about this transcript...",value:ge,onChange:fe=>Pe(fe.target.value),disabled:cn.isPending,"aria-label":"Question"}),i.jsx("button",{type:"submit",className:W.transcriptAskSubmit,disabled:cn.isPending||!ge.trim(),"aria-label":"Submit question",children:cn.isPending?"...":"Submit"})]}),Me&&i.jsx("p",{className:`${W.error} ${h(Me)?W.rateLimitError:""}`,children:Me}),Ae!=null&&i.jsx("div",{className:W.transcriptAskResponse,children:Ae})]}),!b&&N==="edit"&&i.jsxs("div",{className:W.transcriptEdit,children:[i.jsxs("form",{onSubmit:xr,className:W.transcriptEditForm,children:[i.jsxs("div",{className:W.transcriptEditGroup,children:[i.jsxs("label",{className:W.transcriptEditLabel,children:["Trim start (seconds)",i.jsx("input",{type:"number",step:"0.001",min:"0",className:W.transcriptEditInput,placeholder:"0.000",value:A,onChange:fe=>k(fe.target.value),disabled:I||F||O,"aria-label":"Trim start time"})]}),i.jsxs("div",{className:W.transcriptEditActions,children:[i.jsx("button",{type:"button",className:W.transcriptEditPreviewBtn,onClick:()=>un(!0),disabled:I||!A.trim()||O,title:"Preview 10 seconds from trim start","aria-label":F?"Pause preview":"Preview 10 seconds from trim start",children:F?i.jsx(xs,{size:14,"aria-hidden":!0}):i.jsx(qi,{size:14,"aria-hidden":!0})}),i.jsx("button",{type:"button",className:W.transcriptEditBtn,onClick:()=>sa(!0),disabled:I||!A.trim()||F||O,"aria-label":"Trim start of segment",children:I?"Trimming...":"Trim Start"})]})]}),i.jsxs("div",{className:W.transcriptEditGroup,children:[i.jsxs("label",{className:W.transcriptEditLabel,children:["Trim end (seconds to remove)",i.jsx("input",{type:"number",step:"0.001",min:"0",className:W.transcriptEditInput,placeholder:"0.000",value:R,onChange:fe=>D(fe.target.value),disabled:I||F||O,"aria-label":"Seconds to trim from end"})]}),i.jsxs("div",{className:W.transcriptEditActions,children:[i.jsx("button",{type:"button",className:W.transcriptEditPreviewBtn,onClick:()=>un(!1),disabled:I||!R.trim()||F,title:"Preview last 10 seconds before trim end","aria-label":O?"Pause preview":"Preview last 10 seconds before trim end",children:O?i.jsx(xs,{size:14,"aria-hidden":!0}):i.jsx(qi,{size:14,"aria-hidden":!0})}),i.jsx("button",{type:"button",className:W.transcriptEditBtn,onClick:()=>sa(!1),disabled:I||!R.trim()||F||O,"aria-label":"Trim end of segment",children:I?"Trimming...":"Trim End"})]})]}),z&&i.jsx("p",{className:`${W.error} ${h(z)?W.rateLimitError:""}`,children:z}),i.jsxs("div",{className:W.transcriptEditGroup,children:[i.jsx("button",{type:"button",className:W.transcriptEditBtn,onClick:Sa,disabled:I||X||ke||F||O,style:{width:"100%",marginTop:"0.5rem"},"aria-label":"Remove silence from segment",children:X?"Removing Silence...":"Remove Silence"}),i.jsx("button",{type:"button",className:W.transcriptEditBtn,onClick:ki,disabled:I||X||ke||F||O,style:{width:"100%",marginTop:"0.5rem"},"aria-label":"Apply noise suppression to segment",children:ke?"Applying...":"Noise Suppression"})]})]}),i.jsx("audio",{ref:we,style:{display:"none"}})]}),i.jsx(cr,{open:K,onOpenChange:fe=>{fe||(Y(!1),H(null))},children:i.jsxs(mr,{children:[i.jsx(ur,{className:W.dialogOverlay}),i.jsxs(dr,{className:W.dialogContent,onEscapeKeyDown:fe=>{fe.stopPropagation()},onPointerDownOutside:fe=>{fe.preventDefault()},onInteractOutside:fe=>{fe.preventDefault()},children:[i.jsxs("div",{className:W.dialogHeaderRow,children:[i.jsx(fr,{className:W.dialogTitle,children:"Confirm Trim"}),i.jsx(dt,{asChild:!0,children:i.jsx("button",{type:"button",className:W.dialogClose,"aria-label":"Close",children:i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":"true"})})})]}),i.jsx(kr,{className:W.dialogDescription,children:Z!=null&&Z.isStart?`Are you sure you want to trim ${Z.timeSec.toFixed(3)} seconds from the start? This will update the audio file.`:`Are you sure you want to trim ${(Z==null?void 0:Z.timeSec.toFixed(3))??0} seconds from the end? This will update the audio file.`}),i.jsxs("div",{className:W.dialogActions,children:[i.jsx("button",{type:"button",className:W.cancel,onClick:fe=>{fe.stopPropagation(),Y(!1),H(null)},"aria-label":"Cancel trim operation",children:"Cancel"}),i.jsx("button",{type:"button",className:W.dialogConfirmRemove,onClick:fe=>{fe.stopPropagation(),On()},disabled:I,"aria-label":"Confirm trim operation",children:I?"Trimming...":"Confirm"})]})]})]})}),i.jsx(cr,{open:le,onOpenChange:fe=>{fe||me(!1)},children:i.jsxs(mr,{children:[i.jsx(ur,{className:W.dialogOverlay}),i.jsxs(dr,{className:W.dialogContent,onEscapeKeyDown:fe=>{fe.stopPropagation()},onPointerDownOutside:fe=>{fe.preventDefault()},onInteractOutside:fe=>{fe.preventDefault()},children:[i.jsxs("div",{className:W.dialogHeaderRow,children:[i.jsx(fr,{className:W.dialogTitle,children:"Remove Silence"}),i.jsx(dt,{asChild:!0,children:i.jsx("button",{type:"button",className:W.dialogClose,"aria-label":"Close",children:i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":"true"})})})]}),i.jsx(kr,{className:W.dialogDescription,children:"Are you sure you want to remove all silence periods longer than 2 seconds? This will update the audio file."}),i.jsxs("div",{className:W.dialogActions,children:[i.jsx("button",{type:"button",className:W.cancel,onClick:fe=>{fe.stopPropagation(),me(!1)},"aria-label":"Cancel removing silence",children:"Cancel"}),i.jsx("button",{type:"button",className:W.dialogConfirmRemove,onClick:fe=>{fe.stopPropagation(),ja()},disabled:X,"aria-label":"Confirm remove silence",children:X?"Removing...":"Confirm"})]})]})]})}),i.jsx(cr,{open:He,onOpenChange:fe=>{fe||J(!1)},children:i.jsxs(mr,{children:[i.jsx(ur,{className:W.dialogOverlay}),i.jsxs(dr,{className:W.dialogContent,onEscapeKeyDown:fe=>{fe.stopPropagation()},onPointerDownOutside:fe=>{fe.preventDefault()},onInteractOutside:fe=>{fe.preventDefault()},children:[i.jsxs("div",{className:W.dialogHeaderRow,children:[i.jsx(fr,{className:W.dialogTitle,children:"Noise Suppression"}),i.jsx(dt,{asChild:!0,children:i.jsx("button",{type:"button",className:W.dialogClose,"aria-label":"Close",children:i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":"true"})})})]}),i.jsx(kr,{className:W.dialogDescription,children:"Apply FFT-based noise suppression to reduce background noise? This will update the audio file. Transcript timings are unchanged."}),i.jsxs("div",{className:W.dialogActions,children:[i.jsx("button",{type:"button",className:W.cancel,onClick:fe=>{fe.stopPropagation(),J(!1)},"aria-label":"Cancel noise suppression",children:"Cancel"}),i.jsx("button",{type:"button",className:W.dialogConfirmRemove,onClick:fe=>{fe.stopPropagation(),Wa()},disabled:ke,"aria-label":"Confirm noise suppression",children:ke?"Applying...":"Confirm"})]})]})]})}),!b&&j&&f==null&&N==="view"&&i.jsxs(i.Fragment,{children:[o&&i.jsxs("button",{type:"button",className:`${W.addSectionChoiceBtn} ${W.addSectionChoiceBtnPrimary} ${W.transcriptGenerateBtn}`,onClick:Re,disabled:S||!u,"aria-label":S?"Generating transcript":"Generate transcript",children:[i.jsx(Oj,{size:24,strokeWidth:2,"aria-hidden":!0}),i.jsx("span",{children:S?"Generating...":"Generate transcript"})]}),y&&i.jsx("p",{className:`${W.error} ${h(y)?W.rateLimitError:""}`,children:y})]}),!b&&!j&&f==null&&y&&i.jsx("p",{className:`${W.error} ${h(y)?W.rateLimitError:""}`,children:y})]})}),i.jsxs("div",{className:W.dialogActions,children:[!b&&f!=null&&N==="view"&&i.jsx("button",{type:"button",className:W.cancel,onClick:Re,disabled:S||!o||!u,style:{marginRight:"auto"},"aria-label":"Generate new transcript",children:S?"Generating...":"New Transcript"}),i.jsx(dt,{asChild:!0,children:i.jsx("button",{type:"button",className:W.cancel,"aria-label":"Close transcript",children:"Close"})})]})]})]})})}function VNe({episodeId:e,onClose:t,canEdit:r}){const[n,a]=v.useState(null),[o,u]=v.useState(""),[c,p]=v.useState(!0),h=v.useRef(null);gi(h,o,{minHeight:200});const[f,m]=v.useState(null),b=Bt();v.useEffect(()=>{let x=!1;return p(!0),m(null),RSe(e).then(S=>{x||(a(S.text),u(S.text))}).catch(S=>{x||(m(S instanceof Error?S.message:"Failed to load transcript"),a(null),u(""))}).finally(()=>{x||p(!1)}),()=>{x=!0}},[e]);const _=Ve({mutationFn:x=>MSe(e,x),onSuccess:x=>{a(x.text),u(x.text),b.invalidateQueries({queryKey:["episode",e]}),t()}}),j=()=>{r&&_.mutate(o)},w=n!=null&&o!==n,y=_.isPending;return i.jsx(cr,{open:!0,onOpenChange:x=>!x&&t(),children:i.jsxs(mr,{children:[i.jsx(ur,{className:W.dialogOverlay}),i.jsxs(dr,{className:`${W.dialogContent} ${W.dialogContentWide} ${W.episodeTranscriptDialog}`,"aria-describedby":"episode-transcript-description",children:[i.jsxs("div",{className:W.dialogHeaderRow,children:[i.jsx(fr,{className:W.dialogTitle,children:"Episode Transcript"}),i.jsx(dt,{asChild:!0,children:i.jsx("button",{type:"button",className:W.dialogClose,"aria-label":"Close",disabled:y,children:i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":!0})})})]}),i.jsx(kr,{id:"episode-transcript-description",className:W.dialogDescription,children:r?"View and edit the transcript (SRT) for the final episode. Changes are saved to the file used for the public transcript.":"View the transcript for the final episode. Only owners and editors can edit."}),i.jsxs("div",{className:W.episodeTranscriptBody,children:[c&&i.jsx("p",{className:W.episodeTranscriptStatus,children:"Loading"}),f&&i.jsx("div",{className:W.episodeTranscriptErrorWrap,children:i.jsx("p",{className:W.episodeTranscriptError,role:"alert",children:f})}),!c&&!f&&i.jsxs(i.Fragment,{children:[r?i.jsx("textarea",{ref:h,className:W.transcriptText,value:o,onChange:x=>u(x.target.value),placeholder:"Transcript (SRT format)",spellCheck:!1,"aria-label":"Transcript text",rows:4,style:{overflow:"hidden",resize:"none"}}):i.jsx("pre",{className:W.transcriptText,children:n??"(empty)"}),r&&i.jsxs("div",{className:`${W.dialogActions} ${W.episodeTranscriptDialogActions}`,children:[i.jsx("button",{type:"button",className:W.cancel,onClick:t,disabled:y,"aria-label":"Cancel",children:"Cancel"}),i.jsx("button",{type:"button",className:W.submit,onClick:j,disabled:y||!w,"aria-label":"Save transcript",children:y?"Saving":"Save"})]})]})]})]})]})})}function YNe(e,t){return an("/call/start",{episodeId:e,password:void 0})}function QNe(e){return At(`/call/join-info/${encodeURIComponent(e)}`)}function XNe(e){return At(`/call/session?episodeId=${encodeURIComponent(e)}`)}function D7(){return typeof window>"u"?"":`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/api/call/ws`}var Lw={},hv={exports:{}},Iw,y4;function ZNe(){if(y4)return Iw;y4=1;var e=1e3,t=e*60,r=t*60,n=r*24,a=n*7,o=n*365.25;Iw=function(f,m){m=m||{};var b=typeof f;if(b==="string"&&f.length>0)return u(f);if(b==="number"&&isFinite(f))return m.long?p(f):c(f);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(f))};function u(f){if(f=String(f),!(f.length>100)){var m=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(f);if(m){var b=parseFloat(m[1]),_=(m[2]||"ms").toLowerCase();switch(_){case"years":case"year":case"yrs":case"yr":case"y":return b*o;case"weeks":case"week":case"w":return b*a;case"days":case"day":case"d":return b*n;case"hours":case"hour":case"hrs":case"hr":case"h":return b*r;case"minutes":case"minute":case"mins":case"min":case"m":return b*t;case"seconds":case"second":case"secs":case"sec":case"s":return b*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return b;default:return}}}}function c(f){var m=Math.abs(f);return m>=n?Math.round(f/n)+"d":m>=r?Math.round(f/r)+"h":m>=t?Math.round(f/t)+"m":m>=e?Math.round(f/e)+"s":f+"ms"}function p(f){var m=Math.abs(f);return m>=n?h(f,m,n,"day"):m>=r?h(f,m,r,"hour"):m>=t?h(f,m,t,"minute"):m>=e?h(f,m,e,"second"):f+" ms"}function h(f,m,b,_){var j=m>=b*1.5;return Math.round(f/b)+" "+_+(j?"s":"")}return Iw}var $w,b4;function JNe(){if(b4)return $w;b4=1;function e(t){n.debug=n,n.default=n,n.coerce=h,n.disable=c,n.enable=o,n.enabled=p,n.humanize=ZNe(),n.destroy=f,Object.keys(t).forEach(m=>{n[m]=t[m]}),n.names=[],n.skips=[],n.formatters={};function r(m){let b=0;for(let _=0;_<m.length;_++)b=(b<<5)-b+m.charCodeAt(_),b|=0;return n.colors[Math.abs(b)%n.colors.length]}n.selectColor=r;function n(m){let b,_=null,j,w;function y(...x){if(!y.enabled)return;const S=y,T=Number(new Date),N=T-(b||T);S.diff=N,S.prev=b,S.curr=T,b=T,x[0]=n.coerce(x[0]),typeof x[0]!="string"&&x.unshift("%O");let P=0;x[0]=x[0].replace(/%([a-zA-Z%])/g,(k,R)=>{if(k==="%%")return"%";P++;const D=n.formatters[R];if(typeof D=="function"){const I=x[P];k=D.call(S,I),x.splice(P,1),P--}return k}),n.formatArgs.call(S,x),(S.log||n.log).apply(S,x)}return y.namespace=m,y.useColors=n.useColors(),y.color=n.selectColor(m),y.extend=a,y.destroy=n.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:()=>_!==null?_:(j!==n.namespaces&&(j=n.namespaces,w=n.enabled(m)),w),set:x=>{_=x}}),typeof n.init=="function"&&n.init(y),y}function a(m,b){const _=n(this.namespace+(typeof b>"u"?":":b)+m);return _.log=this.log,_}function o(m){n.save(m),n.namespaces=m,n.names=[],n.skips=[];const b=(typeof m=="string"?m:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const _ of b)_[0]==="-"?n.skips.push(_.slice(1)):n.names.push(_)}function u(m,b){let _=0,j=0,w=-1,y=0;for(;_<m.length;)if(j<b.length&&(b[j]===m[_]||b[j]==="*"))b[j]==="*"?(w=j,y=_,j++):(_++,j++);else if(w!==-1)j=w+1,y++,_=y;else return!1;for(;j<b.length&&b[j]==="*";)j++;return j===b.length}function c(){const m=[...n.names,...n.skips.map(b=>"-"+b)].join(",");return n.enable(""),m}function p(m){for(const b of n.skips)if(u(m,b))return!1;for(const b of n.names)if(u(m,b))return!0;return!1}function h(m){return m instanceof Error?m.stack||m.message:m}function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}return $w=e,$w}var _4;function y_(){return _4||(_4=1,(function(e,t){var r={};t.formatArgs=a,t.save=o,t.load=u,t.useColors=n,t.storage=c(),t.destroy=(()=>{let h=!1;return()=>{h||(h=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let h;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(h=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(h[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function a(h){if(h[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+h[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const f="color: "+this.color;h.splice(1,0,f,"color: inherit");let m=0,b=0;h[0].replace(/%[a-zA-Z%]/g,_=>{_!=="%%"&&(m++,_==="%c"&&(b=m))}),h.splice(b,0,f)}t.log=console.debug||console.log||(()=>{});function o(h){try{h?t.storage.setItem("debug",h):t.storage.removeItem("debug")}catch{}}function u(){let h;try{h=t.storage.getItem("debug")||t.storage.getItem("DEBUG")}catch{}return!h&&typeof process<"u"&&"env"in process&&(h=r.DEBUG),h}function c(){try{return localStorage}catch{}}e.exports=JNe()(t);const{formatters:p}=e.exports;p.j=function(h){try{return JSON.stringify(h)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}})(hv,hv.exports)),hv.exports}var Bw={},x4;function eEe(){return x4||(x4=1,Object.defineProperty(Bw,"__esModule",{value:!0})),Bw}var bc={},Np={},w4;function wa(){if(w4)return Np;w4=1,Object.defineProperty(Np,"__esModule",{value:!0}),Np.Logger=void 0;const e=y_(),t="mediasoup-client";class r{constructor(a){V(this,"_debug");V(this,"_warn");V(this,"_error");a?(this._debug=(0,e.default)(`${t}:${a}`),this._warn=(0,e.default)(`${t}:WARN:${a}`),this._error=(0,e.default)(`${t}:ERROR:${a}`)):(this._debug=(0,e.default)(t),this._warn=(0,e.default)(`${t}:WARN`),this._error=(0,e.default)(`${t}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}}return Np.Logger=r,Np}var Ep={},mv={exports:{}},S4;function tEe(){if(S4)return mv.exports;S4=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(P,A,k){return Function.prototype.apply.call(P,A,k)},r;e&&typeof e.ownKeys=="function"?r=e.ownKeys:Object.getOwnPropertySymbols?r=function(P){return Object.getOwnPropertyNames(P).concat(Object.getOwnPropertySymbols(P))}:r=function(P){return Object.getOwnPropertyNames(P)};function n(N){console&&console.warn&&console.warn(N)}var a=Number.isNaN||function(P){return P!==P};function o(){o.init.call(this)}mv.exports=o,mv.exports.once=x,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var u=10;function c(N){if(typeof N!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof N)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(N){if(typeof N!="number"||N<0||a(N))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+N+".");u=N}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(P){if(typeof P!="number"||P<0||a(P))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+P+".");return this._maxListeners=P,this};function p(N){return N._maxListeners===void 0?o.defaultMaxListeners:N._maxListeners}o.prototype.getMaxListeners=function(){return p(this)},o.prototype.emit=function(P){for(var A=[],k=1;k<arguments.length;k++)A.push(arguments[k]);var R=P==="error",D=this._events;if(D!==void 0)R=R&&D.error===void 0;else if(!R)return!1;if(R){var I;if(A.length>0&&(I=A[0]),I instanceof Error)throw I;var q=new Error("Unhandled error."+(I?" ("+I.message+")":""));throw q.context=I,q}var z=D[P];if(z===void 0)return!1;if(typeof z=="function")t(z,this,A);else for(var M=z.length,F=j(z,M),k=0;k<M;++k)t(F[k],this,A);return!0};function h(N,P,A,k){var R,D,I;if(c(A),D=N._events,D===void 0?(D=N._events=Object.create(null),N._eventsCount=0):(D.newListener!==void 0&&(N.emit("newListener",P,A.listener?A.listener:A),D=N._events),I=D[P]),I===void 0)I=D[P]=A,++N._eventsCount;else if(typeof I=="function"?I=D[P]=k?[A,I]:[I,A]:k?I.unshift(A):I.push(A),R=p(N),R>0&&I.length>R&&!I.warned){I.warned=!0;var q=new Error("Possible EventEmitter memory leak detected. "+I.length+" "+String(P)+" listeners added. Use emitter.setMaxListeners() to increase limit");q.name="MaxListenersExceededWarning",q.emitter=N,q.type=P,q.count=I.length,n(q)}return N}o.prototype.addListener=function(P,A){return h(this,P,A,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(P,A){return h(this,P,A,!0)};function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function m(N,P,A){var k={fired:!1,wrapFn:void 0,target:N,type:P,listener:A},R=f.bind(k);return R.listener=A,k.wrapFn=R,R}o.prototype.once=function(P,A){return c(A),this.on(P,m(this,P,A)),this},o.prototype.prependOnceListener=function(P,A){return c(A),this.prependListener(P,m(this,P,A)),this},o.prototype.removeListener=function(P,A){var k,R,D,I,q;if(c(A),R=this._events,R===void 0)return this;if(k=R[P],k===void 0)return this;if(k===A||k.listener===A)--this._eventsCount===0?this._events=Object.create(null):(delete R[P],R.removeListener&&this.emit("removeListener",P,k.listener||A));else if(typeof k!="function"){for(D=-1,I=k.length-1;I>=0;I--)if(k[I]===A||k[I].listener===A){q=k[I].listener,D=I;break}if(D<0)return this;D===0?k.shift():w(k,D),k.length===1&&(R[P]=k[0]),R.removeListener!==void 0&&this.emit("removeListener",P,q||A)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(P){var A,k,R;if(k=this._events,k===void 0)return this;if(k.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):k[P]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete k[P]),this;if(arguments.length===0){var D=Object.keys(k),I;for(R=0;R<D.length;++R)I=D[R],I!=="removeListener"&&this.removeAllListeners(I);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(A=k[P],typeof A=="function")this.removeListener(P,A);else if(A!==void 0)for(R=A.length-1;R>=0;R--)this.removeListener(P,A[R]);return this};function b(N,P,A){var k=N._events;if(k===void 0)return[];var R=k[P];return R===void 0?[]:typeof R=="function"?A?[R.listener||R]:[R]:A?y(R):j(R,R.length)}o.prototype.listeners=function(P){return b(this,P,!0)},o.prototype.rawListeners=function(P){return b(this,P,!1)},o.listenerCount=function(N,P){return typeof N.listenerCount=="function"?N.listenerCount(P):_.call(N,P)},o.prototype.listenerCount=_;function _(N){var P=this._events;if(P!==void 0){var A=P[N];if(typeof A=="function")return 1;if(A!==void 0)return A.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function j(N,P){for(var A=new Array(P),k=0;k<P;++k)A[k]=N[k];return A}function w(N,P){for(;P+1<N.length;P++)N[P]=N[P+1];N.pop()}function y(N){for(var P=new Array(N.length),A=0;A<P.length;++A)P[A]=N[A].listener||N[A];return P}function x(N,P){return new Promise(function(A,k){function R(I){N.removeListener(P,D),k(I)}function D(){typeof N.removeListener=="function"&&N.removeListener("error",R),A([].slice.call(arguments))}T(N,P,D,{once:!0}),P!=="error"&&S(N,R,{once:!0})})}function S(N,P,A){typeof N.on=="function"&&T(N,"error",P,A)}function T(N,P,A,k){if(typeof N.on=="function")k.once?N.once(P,A):N.on(P,A);else if(typeof N.addEventListener=="function")N.addEventListener(P,function R(D){k.once&&N.removeEventListener(P,R),A(D)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof N)}return mv.exports}var j4;function Ha(){if(j4)return Ep;j4=1,Object.defineProperty(Ep,"__esModule",{value:!0}),Ep.EnhancedEventEmitter=void 0;const e=tEe(),t=wa(),r=new t.Logger("EnhancedEventEmitter");class n extends e.EventEmitter{constructor(){super(),this.setMaxListeners(1/0)}close(){super.removeAllListeners()}emit(o,...u){return super.emit(o,...u)}safeEmit(o,...u){try{return super.emit(o,...u)}catch(c){r.error("safeEmit() | event listener threw an error [eventName:%s]:%o",o,c);try{super.emit("listenererror",o,c)}catch{}return!!super.listenerCount(o)}}on(o,u){return super.on(o,u),this}off(o,u){return super.off(o,u),this}addListener(o,u){return super.on(o,u),this}prependListener(o,u){return super.prependListener(o,u),this}once(o,u){return super.once(o,u),this}prependOnceListener(o,u){return super.prependOnceListener(o,u),this}removeListener(o,u){return super.off(o,u),this}removeAllListeners(o){return super.removeAllListeners(o),this}listenerCount(o){return super.listenerCount(o)}listeners(o){return super.listeners(o)}rawListeners(o){return super.rawListeners(o)}}return Ep.EnhancedEventEmitter=n,Ep}var _c={},C4;function Xi(){if(C4)return _c;C4=1,Object.defineProperty(_c,"__esModule",{value:!0}),_c.InvalidStateError=_c.UnsupportedError=void 0;class e extends Error{constructor(n){super(n),this.name="UnsupportedError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,e):this.stack=new Error(n).stack}}_c.UnsupportedError=e;class t extends Error{constructor(n){super(n),this.name="InvalidStateError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,t):this.stack=new Error(n).stack}}return _c.InvalidStateError=t,_c}var dd={},k4;function gf(){if(k4)return dd;k4=1,Object.defineProperty(dd,"__esModule",{value:!0}),dd.clone=e,dd.generateRandomNumber=t,dd.deepFreeze=r;function e(n){if(n!==void 0)return Number.isNaN(n)?NaN:typeof structuredClone=="function"?structuredClone(n):JSON.parse(JSON.stringify(n))}function t(){return Math.round(Math.random()*1e7)}function r(n){const a=Reflect.ownKeys(n);for(const o of a){const u=n[o];(u&&typeof u=="object"||typeof u=="function")&&r(u)}return Object.freeze(n)}return dd}var Gn={},mn={},Tp={},N4;function rEe(){if(N4)return Tp;N4=1,Object.defineProperty(Tp,"__esModule",{value:!0}),Tp.Logger=void 0;const e=y_(),t="h264-profile-level-id";class r{constructor(a){V(this,"_debug");V(this,"_warn");V(this,"_error");a?(this._debug=(0,e.default)(`${t}:${a}`),this._warn=(0,e.default)(`${t}:WARN:${a}`),this._error=(0,e.default)(`${t}:ERROR:${a}`)):(this._debug=(0,e.default)(t),this._warn=(0,e.default)(`${t}:WARN`),this._error=(0,e.default)(`${t}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}}return Tp.Logger=r,Tp}var E4;function nEe(){if(E4)return mn;E4=1,Object.defineProperty(mn,"__esModule",{value:!0}),mn.ProfileLevelId=mn.Level=mn.Profile=void 0,mn.parseProfileLevelId=f,mn.profileLevelIdToString=m,mn.profileToString=b,mn.levelToString=_,mn.parseSdpProfileLevelId=j,mn.isSameProfile=w,mn.isSameProfileAndLevel=y,mn.generateProfileLevelIdStringForAnswer=x,mn.supportedLevel=S;const e=rEe(),t=new e.Logger;var r;(function(k){k[k.ConstrainedBaseline=1]="ConstrainedBaseline",k[k.Baseline=2]="Baseline",k[k.Main=3]="Main",k[k.ConstrainedHigh=4]="ConstrainedHigh",k[k.High=5]="High",k[k.PredictiveHigh444=6]="PredictiveHigh444"})(r||(mn.Profile=r={}));var n;(function(k){k[k.L1_b=0]="L1_b",k[k.L1=10]="L1",k[k.L1_1=11]="L1_1",k[k.L1_2=12]="L1_2",k[k.L1_3=13]="L1_3",k[k.L2=20]="L2",k[k.L2_1=21]="L2_1",k[k.L2_2=22]="L2_2",k[k.L3=30]="L3",k[k.L3_1=31]="L3_1",k[k.L3_2=32]="L3_2",k[k.L4=40]="L4",k[k.L4_1=41]="L4_1",k[k.L4_2=42]="L4_2",k[k.L5=50]="L5",k[k.L5_1=51]="L5_1",k[k.L5_2=52]="L5_2"})(n||(mn.Level=n={}));class a{constructor(R,D){V(this,"profile");V(this,"level");this.profile=R,this.level=D}}mn.ProfileLevelId=a;const o=new a(r.ConstrainedBaseline,n.L3_1);class u{constructor(R){V(this,"mask");V(this,"masked_value");this.mask=~T("x",R),this.masked_value=T("1",R)}isMatch(R){return this.masked_value===(R&this.mask)}}class c{constructor(R,D,I){V(this,"profile_idc");V(this,"profile_iop");V(this,"profile");this.profile_idc=R,this.profile_iop=D,this.profile=I}}const p=[new c(66,new u("x1xx0000"),r.ConstrainedBaseline),new c(77,new u("1xxx0000"),r.ConstrainedBaseline),new c(88,new u("11xx0000"),r.ConstrainedBaseline),new c(66,new u("x0xx0000"),r.Baseline),new c(88,new u("10xx0000"),r.Baseline),new c(77,new u("0x0x0000"),r.Main),new c(100,new u("00000000"),r.High),new c(100,new u("00001100"),r.ConstrainedHigh),new c(244,new u("00000000"),r.PredictiveHigh444)],h=[{max_macroblocks_per_second:1485,max_macroblock_frame_size:99,level:n.L1},{max_macroblocks_per_second:1485,max_macroblock_frame_size:99,level:n.L1_b},{max_macroblocks_per_second:3e3,max_macroblock_frame_size:396,level:n.L1_1},{max_macroblocks_per_second:6e3,max_macroblock_frame_size:396,level:n.L1_2},{max_macroblocks_per_second:11880,max_macroblock_frame_size:396,level:n.L1_3},{max_macroblocks_per_second:11880,max_macroblock_frame_size:396,level:n.L2},{max_macroblocks_per_second:19800,max_macroblock_frame_size:792,level:n.L2_1},{max_macroblocks_per_second:20250,max_macroblock_frame_size:1620,level:n.L2_2},{max_macroblocks_per_second:40500,max_macroblock_frame_size:1620,level:n.L3},{max_macroblocks_per_second:108e3,max_macroblock_frame_size:3600,level:n.L3_1},{max_macroblocks_per_second:216e3,max_macroblock_frame_size:5120,level:n.L3_2},{max_macroblocks_per_second:245760,max_macroblock_frame_size:8192,level:n.L4},{max_macroblocks_per_second:245760,max_macroblock_frame_size:8192,level:n.L4_1},{max_macroblocks_per_second:522240,max_macroblock_frame_size:8704,level:n.L4_2},{max_macroblocks_per_second:589824,max_macroblock_frame_size:22080,level:n.L5},{max_macroblocks_per_second:983040,max_macroblock_frame_size:36864,level:n.L5_1},{max_macroblocks_per_second:2073600,max_macroblock_frame_size:36864,level:n.L5_2}];function f(k){if(typeof k!="string"||k.length!==6)return;const D=parseInt(k,16);if(D===0)return;const I=D&255,q=D>>8&255,z=D>>16&255;let M;switch(I){case n.L1_1:{M=(q&16)!==0?n.L1_b:n.L1_1;break}case n.L1:case n.L1_2:case n.L1_3:case n.L2:case n.L2_1:case n.L2_2:case n.L3:case n.L3_1:case n.L3_2:case n.L4:case n.L4_1:case n.L4_2:case n.L5:case n.L5_1:case n.L5_2:{M=I;break}default:{t.warn(`parseProfileLevelId() | unrecognized level_idc [str:${k}, level_idc:${I}]`);return}}for(const F of p)if(z===F.profile_idc&&F.profile_iop.isMatch(q))return t.debug(`parseProfileLevelId() | result [str:${k}, profile:${F.profile}, level:${M}]`),new a(F.profile,M);t.warn(`parseProfileLevelId() | unrecognized profile_idc/profile_iop combination [str:${k}, profile_idc:${z}, profile_iop:${q}]`)}function m(k){if(k.level==n.L1_b)switch(k.profile){case r.ConstrainedBaseline:return"42f00b";case r.Baseline:return"42100b";case r.Main:return"4d100b";default:{t.warn(`profileLevelIdToString() | Level 1_b not is allowed for profile ${k.profile}`);return}}let R;switch(k.profile){case r.ConstrainedBaseline:{R="42e0";break}case r.Baseline:{R="4200";break}case r.Main:{R="4d00";break}case r.ConstrainedHigh:{R="640c";break}case r.High:{R="6400";break}case r.PredictiveHigh444:{R="f400";break}default:{t.warn(`profileLevelIdToString() | unrecognized profile ${k.profile}`);return}}let D=k.level.toString(16);return D.length===1&&(D=`0${D}`),`${R}${D}`}function b(k){switch(k){case r.ConstrainedBaseline:return"ConstrainedBaseline";case r.Baseline:return"Baseline";case r.Main:return"Main";case r.ConstrainedHigh:return"ConstrainedHigh";case r.High:return"High";case r.PredictiveHigh444:return"PredictiveHigh444";default:{t.warn(`profileToString() | unrecognized profile ${k}`);return}}}function _(k){switch(k){case n.L1_b:return"1b";case n.L1:return"1";case n.L1_1:return"1.1";case n.L1_2:return"1.2";case n.L1_3:return"1.3";case n.L2:return"2";case n.L2_1:return"2.1";case n.L2_2:return"2.2";case n.L3:return"3";case n.L3_1:return"3.1";case n.L3_2:return"3.2";case n.L4:return"4";case n.L4_1:return"4.1";case n.L4_2:return"4.2";case n.L5:return"5";case n.L5_1:return"5.1";case n.L5_2:return"5.2";default:{t.warn(`levelToString() | unrecognized level ${k}`);return}}}function j(k={}){const R=k["profile-level-id"];return R?f(R):o}function w(k={},R={}){const D=j(k),I=j(R);return!!(D&&I&&D.profile===I.profile)}function y(k={},R={}){const D=j(k),I=j(R);return!!(D&&I&&D.profile===I.profile&&D.level==I.level)}function x(k={},R={}){if(!k["profile-level-id"]&&!R["profile-level-id"]){t.warn("generateProfileLevelIdStringForAnswer() | profile-level-id missing in local and remote params");return}const D=j(k),I=j(R);if(!D)throw new TypeError("invalid local_profile_level_id");if(!I)throw new TypeError("invalid remote_profile_level_id");if(D.profile!==I.profile)throw new TypeError("H264 Profile mismatch");const q=A(k)&&A(R),z=D.level,M=I.level,F=P(z,M),B=q?z:F;return t.debug(`generateProfileLevelIdStringForAnswer() | result [profile:${D.profile}, level:${B}]`),m(new a(D.profile,B))}function S(k,R){for(let I=h.length-1;I>=0;--I){const q=h[I];if(q.max_macroblock_frame_size*256<=k&&q.max_macroblocks_per_second<=R*q.max_macroblock_frame_size)return t.debug(`supportedLevel() | result [max_frame_pixel_count:${k}, max_fps:${R}, level:${q.level}]`),q.level}t.warn(`supportedLevel() | no level supported [max_frame_pixel_count:${k}, max_fps:${R}]`)}function T(k,R){return+(R[0]===k)<<7|+(R[1]===k)<<6|+(R[2]===k)<<5|+(R[3]===k)<<4|+(R[4]===k)<<3|+(R[5]===k)<<2|+(R[6]===k)<<1|+(R[7]===k)<<0}function N(k,R){return k===n.L1_b?R!==n.L1&&R!==n.L1_b:R===n.L1_b?k!==n.L1:k<R}function P(k,R){return N(k,R)?k:R}function A(k={}){const R=k["level-asymmetry-allowed"];return R===!0||R===1||R==="1"}return mn}var T4;function Wo(){if(T4)return Gn;T4=1,Object.defineProperty(Gn,"__esModule",{value:!0}),Gn.validateAndNormalizeRtpCapabilities=o,Gn.validateAndNormalizeRtpParameters=u,Gn.validateAndNormalizeSctpStreamParameters=c,Gn.validateSctpCapabilities=p,Gn.getExtendedRtpCapabilities=h,Gn.getRecvRtpCapabilities=f,Gn.getSendingRtpParameters=m,Gn.getSendingRemoteRtpParameters=b,Gn.reduceCodecs=_,Gn.generateProbatorRtpParameters=j,Gn.canSend=w,Gn.canReceive=y;const e=nEe(),t=gf(),r="probator",n=1234,a=127;function o(M){if(typeof M!="object")throw new TypeError("caps is not an object");if(M.codecs&&!Array.isArray(M.codecs))throw new TypeError("caps.codecs is not an array");M.codecs||(M.codecs=[]);for(const F of M.codecs)x(F);if(M.headerExtensions&&!Array.isArray(M.headerExtensions))throw new TypeError("caps.headerExtensions is not an array");M.headerExtensions||(M.headerExtensions=[]);for(const F of M.headerExtensions)T(F)}function u(M){if(typeof M!="object")throw new TypeError("params is not an object");if(M.mid&&typeof M.mid!="string")throw new TypeError("params.mid is not a string");if(!Array.isArray(M.codecs))throw new TypeError("missing params.codecs");for(const F of M.codecs)N(F);if(M.headerExtensions&&!Array.isArray(M.headerExtensions))throw new TypeError("params.headerExtensions is not an array");M.headerExtensions||(M.headerExtensions=[]);for(const F of M.headerExtensions)P(F);if(M.encodings&&!Array.isArray(M.encodings))throw new TypeError("params.encodings is not an array");M.encodings||(M.encodings=[]);for(const F of M.encodings)A(F);if(M.rtcp&&typeof M.rtcp!="object")throw new TypeError("params.rtcp is not an object");M.rtcp||(M.rtcp={}),k(M.rtcp)}function c(M){if(typeof M!="object")throw new TypeError("params is not an object");if(typeof M.streamId!="number")throw new TypeError("missing params.streamId");let F=!1;if(typeof M.ordered=="boolean"?F=!0:M.ordered=!0,M.maxPacketLifeTime&&typeof M.maxPacketLifeTime!="number")throw new TypeError("invalid params.maxPacketLifeTime");if(M.maxRetransmits&&typeof M.maxRetransmits!="number")throw new TypeError("invalid params.maxRetransmits");if(M.maxPacketLifeTime&&M.maxRetransmits)throw new TypeError("cannot provide both maxPacketLifeTime and maxRetransmits");if(F&&M.ordered&&(M.maxPacketLifeTime||M.maxRetransmits))throw new TypeError("cannot be ordered with maxPacketLifeTime or maxRetransmits");if(!F&&(M.maxPacketLifeTime||M.maxRetransmits)&&(M.ordered=!1),M.label&&typeof M.label!="string")throw new TypeError("invalid params.label");if(M.protocol&&typeof M.protocol!="string")throw new TypeError("invalid params.protocol")}function p(M){if(typeof M!="object")throw new TypeError("caps is not an object");if(!M.numStreams||typeof M.numStreams!="object")throw new TypeError("missing caps.numStreams");R(M.numStreams)}function h(M,F,B){const O={codecs:[],headerExtensions:[]};if(B)for(const $ of M.codecs??[]){if(D($))continue;const K=(F.codecs??[]).find(Z=>I(Z,$,{strict:!0,modify:!0}));if(!K)continue;const Y={kind:$.kind,mimeType:$.mimeType,clockRate:$.clockRate,channels:$.channels,localPayloadType:$.preferredPayloadType,localRtxPayloadType:void 0,remotePayloadType:K.preferredPayloadType,remoteRtxPayloadType:void 0,localParameters:$.parameters??{},remoteParameters:K.parameters??{},rtcpFeedback:z($,K)};O.codecs.push(Y)}else for(const $ of F.codecs??[]){if(D($))continue;const K=(M.codecs??[]).find(Z=>I(Z,$,{strict:!0,modify:!0}));if(!K)continue;const Y={kind:K.kind,mimeType:K.mimeType,clockRate:K.clockRate,channels:K.channels,localPayloadType:K.preferredPayloadType,localRtxPayloadType:void 0,remotePayloadType:$.preferredPayloadType,remoteRtxPayloadType:void 0,localParameters:K.parameters??{},remoteParameters:$.parameters??{},rtcpFeedback:z(K,$)};O.codecs.push(Y)}for(const $ of O.codecs){const K=M.codecs.find(Z=>{var H;return D(Z)&&((H=Z.parameters)==null?void 0:H.apt)===$.localPayloadType}),Y=F.codecs.find(Z=>{var H;return D(Z)&&((H=Z.parameters)==null?void 0:H.apt)===$.remotePayloadType});K&&Y&&($.localRtxPayloadType=K.preferredPayloadType,$.remoteRtxPayloadType=Y.preferredPayloadType)}for(const $ of F.headerExtensions){const K=M.headerExtensions.find(Z=>q(Z,$));if(!K)continue;const Y={kind:$.kind,uri:$.uri,sendId:K.preferredId,recvId:$.preferredId,encrypt:K.preferredEncrypt??!1,direction:"sendrecv"};switch($.direction){case"sendrecv":{Y.direction="sendrecv";break}case"recvonly":{Y.direction="sendonly";break}case"sendonly":{Y.direction="recvonly";break}case"inactive":{Y.direction="inactive";break}}O.headerExtensions.push(Y)}return O}function f(M){const F={codecs:[],headerExtensions:[]};for(const B of M.codecs){const O={kind:B.kind,mimeType:B.mimeType,preferredPayloadType:B.remotePayloadType,clockRate:B.clockRate,channels:B.channels,parameters:B.localParameters,rtcpFeedback:B.rtcpFeedback};if(F.codecs.push(O),!B.remoteRtxPayloadType)continue;const $={kind:B.kind,mimeType:`${B.kind}/rtx`,preferredPayloadType:B.remoteRtxPayloadType,clockRate:B.clockRate,parameters:{apt:B.remotePayloadType},rtcpFeedback:[]};F.codecs.push($)}for(const B of M.headerExtensions){if(B.direction!=="sendrecv"&&B.direction!=="recvonly")continue;const O={kind:B.kind,uri:B.uri,preferredId:B.recvId,preferredEncrypt:B.encrypt??!1,direction:B.direction};F.headerExtensions.push(O)}return F}function m(M,F){const B={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const O of F.codecs){if(O.kind!==M)continue;const $={mimeType:O.mimeType,payloadType:O.localPayloadType,clockRate:O.clockRate,channels:O.channels,parameters:O.localParameters,rtcpFeedback:O.rtcpFeedback};if(B.codecs.push($),O.localRtxPayloadType){const K={mimeType:`${O.kind}/rtx`,payloadType:O.localRtxPayloadType,clockRate:O.clockRate,parameters:{apt:O.localPayloadType},rtcpFeedback:[]};B.codecs.push(K)}}for(const O of F.headerExtensions){if(O.kind&&O.kind!==M||O.direction!=="sendrecv"&&O.direction!=="sendonly")continue;const $={uri:O.uri,id:O.sendId,encrypt:O.encrypt,parameters:{}};B.headerExtensions.push($)}return B}function b(M,F){const B={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const O of F.codecs){if(O.kind!==M)continue;const $={mimeType:O.mimeType,payloadType:O.localPayloadType,clockRate:O.clockRate,channels:O.channels,parameters:O.remoteParameters,rtcpFeedback:O.rtcpFeedback};if(B.codecs.push($),O.localRtxPayloadType){const K={mimeType:`${O.kind}/rtx`,payloadType:O.localRtxPayloadType,clockRate:O.clockRate,parameters:{apt:O.localPayloadType},rtcpFeedback:[]};B.codecs.push(K)}}for(const O of F.headerExtensions){if(O.kind&&O.kind!==M||O.direction!=="sendrecv"&&O.direction!=="sendonly")continue;const $={uri:O.uri,id:O.sendId,encrypt:O.encrypt,parameters:{}};B.headerExtensions.push($)}if(B.headerExtensions.some(O=>O.uri==="http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"))for(const O of B.codecs)O.rtcpFeedback=(O.rtcpFeedback??[]).filter($=>$.type!=="goog-remb");else if(B.headerExtensions.some(O=>O.uri==="http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"))for(const O of B.codecs)O.rtcpFeedback=(O.rtcpFeedback??[]).filter($=>$.type!=="transport-cc");else for(const O of B.codecs)O.rtcpFeedback=(O.rtcpFeedback??[]).filter($=>$.type!=="transport-cc"&&$.type!=="goog-remb");return B}function _(M,F){const B=[];if(!F)B.push(M[0]),D(M[1])&&B.push(M[1]);else{for(let O=0;O<M.length;++O)if(I(M[O],F,{strict:!0})){B.push(M[O]),D(M[O+1])&&B.push(M[O+1]);break}if(B.length===0)throw new TypeError("no matching codec found")}return B}function j(M){M=t.clone(M),u(M);const F={mid:r,codecs:[],headerExtensions:[],encodings:[{ssrc:n}],rtcp:{cname:"probator"}};return F.codecs.push(M.codecs[0]),F.codecs[0].payloadType=a,F.headerExtensions=M.headerExtensions,F}function w(M,F){return(F.codecs??[]).some(B=>B.kind===M)}function y(M,F){if(u(M),M.codecs.length===0)return!1;const B=M.codecs[0];return(F.codecs??[]).some(O=>O.preferredPayloadType===B.payloadType)}function x(M){const F=new RegExp("^(audio|video)/(.+)","i");if(typeof M!="object")throw new TypeError("codec is not an object");if(!M.mimeType||typeof M.mimeType!="string")throw new TypeError("missing codec.mimeType");const B=F.exec(M.mimeType);if(!B)throw new TypeError("invalid codec.mimeType");if(M.kind=B[1].toLowerCase(),typeof M.preferredPayloadType!="number")throw new TypeError("missing codec.preferredPayloadType");if(typeof M.clockRate!="number")throw new TypeError("missing codec.clockRate");M.kind==="audio"?typeof M.channels!="number"&&(M.channels=1):delete M.channels,(!M.parameters||typeof M.parameters!="object")&&(M.parameters={});for(const O of Object.keys(M.parameters)){let $=M.parameters[O];if($===void 0&&(M.parameters[O]="",$=""),typeof $!="string"&&typeof $!="number")throw new TypeError(`invalid codec parameter [key:${O}s, value:${$}]`);if(O==="apt"&&typeof $!="number")throw new TypeError("invalid codec apt parameter")}(!M.rtcpFeedback||!Array.isArray(M.rtcpFeedback))&&(M.rtcpFeedback=[]);for(const O of M.rtcpFeedback)S(O)}function S(M){if(typeof M!="object")throw new TypeError("fb is not an object");if(!M.type||typeof M.type!="string")throw new TypeError("missing fb.type");(!M.parameter||typeof M.parameter!="string")&&(M.parameter="")}function T(M){if(typeof M!="object")throw new TypeError("ext is not an object");if(M.kind!=="audio"&&M.kind!=="video")throw new TypeError("invalid ext.kind");if(!M.uri||typeof M.uri!="string")throw new TypeError("missing ext.uri");if(typeof M.preferredId!="number")throw new TypeError("missing ext.preferredId");if(M.preferredEncrypt&&typeof M.preferredEncrypt!="boolean")throw new TypeError("invalid ext.preferredEncrypt");if(M.preferredEncrypt||(M.preferredEncrypt=!1),M.direction&&typeof M.direction!="string")throw new TypeError("invalid ext.direction");M.direction||(M.direction="sendrecv")}function N(M){const F=new RegExp("^(audio|video)/(.+)","i");if(typeof M!="object")throw new TypeError("codec is not an object");if(!M.mimeType||typeof M.mimeType!="string")throw new TypeError("missing codec.mimeType");const B=F.exec(M.mimeType);if(!B)throw new TypeError("invalid codec.mimeType");if(typeof M.payloadType!="number")throw new TypeError("missing codec.payloadType");if(typeof M.clockRate!="number")throw new TypeError("missing codec.clockRate");B[1].toLowerCase()==="audio"?typeof M.channels!="number"&&(M.channels=1):delete M.channels,(!M.parameters||typeof M.parameters!="object")&&(M.parameters={});for(const $ of Object.keys(M.parameters)){let K=M.parameters[$];if(K===void 0&&(M.parameters[$]="",K=""),typeof K!="string"&&typeof K!="number")throw new TypeError(`invalid codec parameter [key:${$}s, value:${K}]`);if($==="apt"&&typeof K!="number")throw new TypeError("invalid codec apt parameter")}(!M.rtcpFeedback||!Array.isArray(M.rtcpFeedback))&&(M.rtcpFeedback=[]);for(const $ of M.rtcpFeedback)S($)}function P(M){if(typeof M!="object")throw new TypeError("ext is not an object");if(!M.uri||typeof M.uri!="string")throw new TypeError("missing ext.uri");if(typeof M.id!="number")throw new TypeError("missing ext.id");if(M.encrypt&&typeof M.encrypt!="boolean")throw new TypeError("invalid ext.encrypt");M.encrypt||(M.encrypt=!1),(!M.parameters||typeof M.parameters!="object")&&(M.parameters={});for(const F of Object.keys(M.parameters)){let B=M.parameters[F];if(B===void 0&&(M.parameters[F]="",B=""),typeof B!="string"&&typeof B!="number")throw new TypeError("invalid header extension parameter")}}function A(M){if(typeof M!="object")throw new TypeError("encoding is not an object");if(M.ssrc&&typeof M.ssrc!="number")throw new TypeError("invalid encoding.ssrc");if(M.rid&&typeof M.rid!="string")throw new TypeError("invalid encoding.rid");if(M.rtx&&typeof M.rtx!="object")throw new TypeError("invalid encoding.rtx");if(M.rtx&&typeof M.rtx.ssrc!="number")throw new TypeError("missing encoding.rtx.ssrc");if((!M.dtx||typeof M.dtx!="boolean")&&(M.dtx=!1),M.scalabilityMode&&typeof M.scalabilityMode!="string")throw new TypeError("invalid encoding.scalabilityMode")}function k(M){if(typeof M!="object")throw new TypeError("rtcp is not an object");if(M.cname&&typeof M.cname!="string")throw new TypeError("invalid rtcp.cname");(!M.reducedSize||typeof M.reducedSize!="boolean")&&(M.reducedSize=!0)}function R(M){if(typeof M!="object")throw new TypeError("numStreams is not an object");if(typeof M.OS!="number")throw new TypeError("missing numStreams.OS");if(typeof M.MIS!="number")throw new TypeError("missing numStreams.MIS")}function D(M){return M?/.+\/rtx$/i.test(M.mimeType):!1}function I(M,F,{strict:B=!1,modify:O=!1}={}){const $=M.mimeType.toLowerCase(),K=F.mimeType.toLowerCase();if($!==K||M.clockRate!==F.clockRate||M.channels!==F.channels)return!1;switch($){case"video/h264":{if(B){const Y=M.parameters["packetization-mode"]??0,Z=F.parameters["packetization-mode"]??0;if(Y!==Z||!e.isSameProfile(M.parameters,F.parameters))return!1;let H;try{H=e.generateProfileLevelIdStringForAnswer(M.parameters,F.parameters)}catch{return!1}O&&(H?(M.parameters["profile-level-id"]=H,F.parameters["profile-level-id"]=H):(delete M.parameters["profile-level-id"],delete F.parameters["profile-level-id"]))}break}case"video/vp9":{if(B){const Y=M.parameters["profile-id"]??0,Z=F.parameters["profile-id"]??0;if(Y!==Z)return!1}break}}return!0}function q(M,F){return!(M.kind&&F.kind&&M.kind!==F.kind||M.uri!==F.uri)}function z(M,F){const B=[];for(const O of M.rtcpFeedback??[]){const $=(F.rtcpFeedback??[]).find(K=>K.type===O.type&&(K.parameter===O.parameter||!K.parameter&&!O.parameter));$&&B.push($)}return B}return Gn}var Pp={},zw={},Ap={},Rp={},P4;function aEe(){if(P4)return Rp;P4=1,Object.defineProperty(Rp,"__esModule",{value:!0}),Rp.Logger=void 0;const e=y_(),t="awaitqueue";let r=class{constructor(a){V(this,"_debug");V(this,"_warn");V(this,"_error");a?(this._debug=e(`${t}:${a}`),this._warn=e(`${t}:WARN:${a}`),this._error=e(`${t}:ERROR:${a}`)):(this._debug=e(t),this._warn=e(`${t}:WARN`),this._error=e(`${t}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}};return Rp.Logger=r,Rp}var xc={},A4;function M7(){if(A4)return xc;A4=1,Object.defineProperty(xc,"__esModule",{value:!0}),xc.AwaitQueueRemovedTaskError=xc.AwaitQueueStoppedError=void 0;class e extends Error{constructor(n){super(n??"queue stopped"),this.name="AwaitQueueStoppedError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,e)}}xc.AwaitQueueStoppedError=e;class t extends Error{constructor(n){super(n??"queue task removed"),this.name="AwaitQueueRemovedTaskError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}}return xc.AwaitQueueRemovedTaskError=t,xc}var R4;function iEe(){if(R4)return Ap;R4=1,Object.defineProperty(Ap,"__esModule",{value:!0}),Ap.AwaitQueue=void 0;const e=aEe(),t=M7(),r=new e.Logger("AwaitQueue");let n=class{constructor(){V(this,"pendingTasks",new Map);V(this,"nextTaskId",0);r.debug("constructor()")}get size(){return this.pendingTasks.size}async push(o,u,c){if(u=u??o.name,r.debug(`push() [name:${u}, options:%o]`,c),typeof o!="function")throw new TypeError("given task is not a function");if(u)try{Object.defineProperty(o,"name",{value:u})}catch{}return new Promise((p,h)=>{if(u&&(c!=null&&c.removeOngoingTasksWithSameName))for(const m of this.pendingTasks.values())m.name===u&&m.reject(new t.AwaitQueueRemovedTaskError,{canExecuteNextTask:!1});const f={id:this.nextTaskId++,task:o,name:u,enqueuedAt:Date.now(),executedAt:void 0,completed:!1,resolve:m=>{if(f.completed)return;f.completed=!0,this.pendingTasks.delete(f.id),r.debug(`resolving task [name:${f.name}]`),p(m);const[b]=this.pendingTasks.values();b&&!b.executedAt&&this.execute(b)},reject:(m,{canExecuteNextTask:b})=>{if(!f.completed&&(f.completed=!0,this.pendingTasks.delete(f.id),r.debug(`rejecting task [name:${f.name}]: %s`,String(m)),h(m),b)){const[_]=this.pendingTasks.values();_&&!_.executedAt&&this.execute(_)}}};this.pendingTasks.set(f.id,f),this.pendingTasks.size===1&&this.execute(f)})}stop(){r.debug("stop()");for(const o of this.pendingTasks.values())r.debug(`stop() | stopping task [name:${o.name}]`),o.reject(new t.AwaitQueueStoppedError,{canExecuteNextTask:!1})}remove(o){r.debug(`remove() [taskIdx:${o}]`);const u=Array.from(this.pendingTasks.values())[o];if(!u){r.debug(`stop() | no task with given idx [taskIdx:${o}]`);return}u.reject(new t.AwaitQueueRemovedTaskError,{canExecuteNextTask:!0})}dump(){const o=Date.now();let u=0;return Array.from(this.pendingTasks.values()).map(c=>({idx:u++,task:c.task,name:c.name,enqueuedTime:c.executedAt?c.executedAt-c.enqueuedAt:o-c.enqueuedAt,executionTime:c.executedAt?o-c.executedAt:0}))}async execute(o){if(r.debug(`execute() [name:${o.name}]`),o.executedAt)throw new Error("task already being executed");o.executedAt=Date.now();try{const u=await o.task();o.resolve(u)}catch(u){o.reject(u,{canExecuteNextTask:!0})}}};return Ap.AwaitQueue=n,Ap}var O4;function sEe(){return O4||(O4=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AwaitQueueRemovedTaskError=e.AwaitQueueStoppedError=e.AwaitQueue=void 0;var t=iEe();Object.defineProperty(e,"AwaitQueue",{enumerable:!0,get:function(){return t.AwaitQueue}});var r=M7();Object.defineProperty(e,"AwaitQueueStoppedError",{enumerable:!0,get:function(){return r.AwaitQueueStoppedError}}),Object.defineProperty(e,"AwaitQueueRemovedTaskError",{enumerable:!0,get:function(){return r.AwaitQueueRemovedTaskError}})})(zw)),zw}var Op={},D4;function oEe(){if(D4)return Op;D4=1,Object.defineProperty(Op,"__esModule",{value:!0}),Op.Producer=void 0;const e=wa(),t=Ha(),r=Xi(),n=new e.Logger("Producer");let a=class extends t.EnhancedEventEmitter{constructor({id:c,localId:p,rtpSender:h,track:f,rtpParameters:m,stopTracks:b,disableTrackOnPause:_,zeroRtpOnPause:j,appData:w}){super();V(this,"_id");V(this,"_localId");V(this,"_closed",!1);V(this,"_rtpSender");V(this,"_track");V(this,"_kind");V(this,"_rtpParameters");V(this,"_paused");V(this,"_maxSpatialLayer");V(this,"_stopTracks");V(this,"_disableTrackOnPause");V(this,"_zeroRtpOnPause");V(this,"_appData");V(this,"_observer",new t.EnhancedEventEmitter);n.debug("constructor()"),this._id=c,this._localId=p,this._rtpSender=h,this._track=f,this._kind=f.kind,this._rtpParameters=m,this._paused=_?!f.enabled:!1,this._maxSpatialLayer=void 0,this._stopTracks=b,this._disableTrackOnPause=_,this._zeroRtpOnPause=j,this._appData=w??{},this.onTrackEnded=this.onTrackEnded.bind(this),this.handleTrack()}get id(){return this._id}get localId(){return this._localId}get closed(){return this._closed}get kind(){return this._kind}get rtpSender(){return this._rtpSender}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get maxSpatialLayer(){return this._maxSpatialLayer}get appData(){return this._appData}set appData(c){this._appData=c}get observer(){return this._observer}close(){this._closed||(n.debug("close()"),this._closed=!0,this.destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"),super.close(),this._observer.close())}transportClosed(){this._closed||(n.debug("transportClosed()"),this._closed=!0,this.destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}async getStats(){if(this._closed)throw new r.InvalidStateError("closed");return new Promise((c,p)=>{this.safeEmit("@getstats",c,p)})}pause(){if(n.debug("pause()"),this._closed){n.error("pause() | Producer closed");return}this._paused=!0,this._track&&this._disableTrackOnPause&&(this._track.enabled=!1),this._zeroRtpOnPause&&new Promise((c,p)=>{this.safeEmit("@pause",c,p)}).catch(()=>{}),this._observer.safeEmit("pause")}resume(){if(n.debug("resume()"),this._closed){n.error("resume() | Producer closed");return}this._paused=!1,this._track&&this._disableTrackOnPause&&(this._track.enabled=!0),this._zeroRtpOnPause&&new Promise((c,p)=>{this.safeEmit("@resume",c,p)}).catch(()=>{}),this._observer.safeEmit("resume")}async replaceTrack({track:c}){if(n.debug("replaceTrack() [track:%o]",c),this._closed){if(c&&this._stopTracks)try{c.stop()}catch{}throw new r.InvalidStateError("closed")}else if((c==null?void 0:c.readyState)==="ended")throw new r.InvalidStateError("track ended");if(c===this._track){n.debug("replaceTrack() | same track, ignored");return}await new Promise((p,h)=>{this.safeEmit("@replacetrack",c,p,h)}),this.destroyTrack(),this._track=c,this._track&&this._disableTrackOnPause&&(this._paused?this._paused&&(this._track.enabled=!1):this._track.enabled=!0),this.handleTrack()}async setMaxSpatialLayer(c){if(this._closed)throw new r.InvalidStateError("closed");if(this._kind!=="video")throw new r.UnsupportedError("not a video Producer");if(typeof c!="number")throw new TypeError("invalid spatialLayer");c!==this._maxSpatialLayer&&(await new Promise((p,h)=>{this.safeEmit("@setmaxspatiallayer",c,p,h)}).catch(()=>{}),this._maxSpatialLayer=c)}async setRtpEncodingParameters(c){if(this._closed)throw new r.InvalidStateError("closed");if(typeof c!="object")throw new TypeError("invalid params");await new Promise((p,h)=>{this.safeEmit("@setrtpencodingparameters",c,p,h)})}onTrackEnded(){n.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}handleTrack(){this._track&&this._track.addEventListener("ended",this.onTrackEnded)}destroyTrack(){if(this._track)try{this._track.removeEventListener("ended",this.onTrackEnded),this._stopTracks&&this._track.stop()}catch{}}};return Op.Producer=a,Op}var Dp={},M4;function lEe(){if(M4)return Dp;M4=1,Object.defineProperty(Dp,"__esModule",{value:!0}),Dp.Consumer=void 0;const e=wa(),t=Ha(),r=Xi(),n=new e.Logger("Consumer");let a=class extends t.EnhancedEventEmitter{constructor({id:c,localId:p,producerId:h,rtpReceiver:f,track:m,rtpParameters:b,appData:_}){super();V(this,"_id");V(this,"_localId");V(this,"_producerId");V(this,"_closed",!1);V(this,"_rtpReceiver");V(this,"_track");V(this,"_rtpParameters");V(this,"_paused");V(this,"_appData");V(this,"_observer",new t.EnhancedEventEmitter);n.debug("constructor()"),this._id=c,this._localId=p,this._producerId=h,this._rtpReceiver=f,this._track=m,this._rtpParameters=b,this._paused=!m.enabled,this._appData=_??{},this.onTrackEnded=this.onTrackEnded.bind(this),this.handleTrack()}get id(){return this._id}get localId(){return this._localId}get producerId(){return this._producerId}get closed(){return this._closed}get kind(){return this._track.kind}get rtpReceiver(){return this._rtpReceiver}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get appData(){return this._appData}set appData(c){this._appData=c}get observer(){return this._observer}close(){this._closed||(n.debug("close()"),this._closed=!0,this.destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"),super.close(),this._observer.close())}transportClosed(){this._closed||(n.debug("transportClosed()"),this._closed=!0,this.destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}async getStats(){if(this._closed)throw new r.InvalidStateError("closed");return new Promise((c,p)=>{this.safeEmit("@getstats",c,p)})}pause(){if(n.debug("pause()"),this._closed){n.error("pause() | Consumer closed");return}if(this._paused){n.debug("pause() | Consumer is already paused");return}this._paused=!0,this._track.enabled=!1,this.emit("@pause"),this._observer.safeEmit("pause")}resume(){if(n.debug("resume()"),this._closed){n.error("resume() | Consumer closed");return}if(!this._paused){n.debug("resume() | Consumer is already resumed");return}this._paused=!1,this._track.enabled=!0,this.emit("@resume"),this._observer.safeEmit("resume")}onTrackEnded(){n.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}handleTrack(){this._track.addEventListener("ended",this.onTrackEnded)}destroyTrack(){try{this._track.removeEventListener("ended",this.onTrackEnded),this._track.stop()}catch{}}};return Dp.Consumer=a,Dp}var Mp={},L4;function cEe(){if(L4)return Mp;L4=1,Object.defineProperty(Mp,"__esModule",{value:!0}),Mp.DataProducer=void 0;const e=wa(),t=Ha(),r=Xi(),n=new e.Logger("DataProducer");let a=class extends t.EnhancedEventEmitter{constructor({id:c,dataChannel:p,sctpStreamParameters:h,appData:f}){super();V(this,"_id");V(this,"_dataChannel");V(this,"_closed",!1);V(this,"_sctpStreamParameters");V(this,"_appData");V(this,"_observer",new t.EnhancedEventEmitter);n.debug("constructor()"),this._id=c,this._dataChannel=p,this._sctpStreamParameters=h,this._appData=f??{},this.handleDataChannel()}get id(){return this._id}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get bufferedAmount(){return this._dataChannel.bufferedAmount}get bufferedAmountLowThreshold(){return this._dataChannel.bufferedAmountLowThreshold}set bufferedAmountLowThreshold(c){this._dataChannel.bufferedAmountLowThreshold=c}get appData(){return this._appData}set appData(c){this._appData=c}get observer(){return this._observer}close(){this._closed||(n.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"),super.close(),this._observer.close())}transportClosed(){this._closed||(n.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}send(c){if(n.debug("send()"),this._closed)throw new r.InvalidStateError("closed");this._dataChannel.send(c)}handleDataChannel(){this._dataChannel.addEventListener("open",()=>{this._closed||(n.debug('DataChannel "open" event'),this.safeEmit("open"))}),this._dataChannel.addEventListener("error",c=>{var h,f;if(this._closed)return;const p=c.error??new Error("unknown DataChannel error");((h=c.error)==null?void 0:h.errorDetail)==="sctp-failure"?n.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",(f=c.error)==null?void 0:f.sctpCauseCode,c.error.message):n.error('DataChannel "error" event: %o',p),this.safeEmit("error",p)}),this._dataChannel.addEventListener("close",()=>{this._closed||(n.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"),this._observer.safeEmit("close"))}),this._dataChannel.addEventListener("message",()=>{this._closed||n.warn('DataChannel "message" event in a DataProducer, message discarded')}),this._dataChannel.addEventListener("bufferedamountlow",()=>{this._closed||this.safeEmit("bufferedamountlow")})}};return Mp.DataProducer=a,Mp}var Lp={},I4;function uEe(){if(I4)return Lp;I4=1,Object.defineProperty(Lp,"__esModule",{value:!0}),Lp.DataConsumer=void 0;const e=wa(),t=Ha(),r=new e.Logger("DataConsumer");let n=class extends t.EnhancedEventEmitter{constructor({id:u,dataProducerId:c,dataChannel:p,sctpStreamParameters:h,appData:f}){super();V(this,"_id");V(this,"_dataProducerId");V(this,"_dataChannel");V(this,"_closed",!1);V(this,"_sctpStreamParameters");V(this,"_appData");V(this,"_observer",new t.EnhancedEventEmitter);r.debug("constructor()"),this._id=u,this._dataProducerId=c,this._dataChannel=p,this._sctpStreamParameters=h,this._appData=f??{},this.handleDataChannel()}get id(){return this._id}get dataProducerId(){return this._dataProducerId}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get binaryType(){return this._dataChannel.binaryType}set binaryType(u){this._dataChannel.binaryType=u}get appData(){return this._appData}set appData(u){this._appData=u}get observer(){return this._observer}close(){this._closed||(r.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"),super.close(),this._observer.close())}transportClosed(){this._closed||(r.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}handleDataChannel(){this._dataChannel.addEventListener("open",()=>{this._closed||(r.debug('DataChannel "open" event'),this.safeEmit("open"))}),this._dataChannel.addEventListener("error",u=>{var p,h;if(this._closed)return;const c=u.error??new Error("unknown DataChannel error");((p=u.error)==null?void 0:p.errorDetail)==="sctp-failure"?r.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",(h=u.error)==null?void 0:h.sctpCauseCode,u.error.message):r.error('DataChannel "error" event: %o',c),this.safeEmit("error",c)}),this._dataChannel.addEventListener("close",()=>{this._closed||(r.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"),this._observer.safeEmit("close"))}),this._dataChannel.addEventListener("message",u=>{this._closed||this.safeEmit("message",u.data)})}};return Lp.DataConsumer=n,Lp}var $4;function dEe(){if($4)return Pp;$4=1,Object.defineProperty(Pp,"__esModule",{value:!0}),Pp.Transport=void 0;const e=sEe(),t=wa(),r=Ha(),n=Xi(),a=gf(),o=Wo(),u=oEe(),c=lEe(),p=cEe(),h=uEe(),f=new t.Logger("Transport");class m{constructor(j){V(this,"consumerOptions");V(this,"promise");V(this,"resolve");V(this,"reject");this.consumerOptions=j,this.promise=new Promise((w,y)=>{this.resolve=w,this.reject=y})}}let b=class extends r.EnhancedEventEmitter{constructor({direction:w,id:y,iceParameters:x,iceCandidates:S,dtlsParameters:T,sctpParameters:N,iceServers:P,iceTransportPolicy:A,additionalSettings:k,appData:R,handlerFactory:D,getSendExtendedRtpCapabilities:I,recvRtpCapabilities:q,canProduceByKind:z}){super();V(this,"_id");V(this,"_closed",!1);V(this,"_direction");V(this,"_getSendExtendedRtpCapabilities");V(this,"_recvRtpCapabilities");V(this,"_canProduceByKind");V(this,"_maxSctpMessageSize");V(this,"_handler");V(this,"_iceGatheringState","new");V(this,"_connectionState","new");V(this,"_appData");V(this,"_producers",new Map);V(this,"_consumers",new Map);V(this,"_dataProducers",new Map);V(this,"_dataConsumers",new Map);V(this,"_probatorConsumerCreated",!1);V(this,"_awaitQueue",new e.AwaitQueue);V(this,"_pendingConsumerTasks",[]);V(this,"_consumerCreationInProgress",!1);V(this,"_pendingPauseConsumers",new Map);V(this,"_consumerPauseInProgress",!1);V(this,"_pendingResumeConsumers",new Map);V(this,"_consumerResumeInProgress",!1);V(this,"_pendingCloseConsumers",new Map);V(this,"_consumerCloseInProgress",!1);V(this,"_observer",new r.EnhancedEventEmitter);f.debug("constructor() [id:%s, direction:%s]",y,w),this._id=y,this._direction=w,this._getSendExtendedRtpCapabilities=I,this._recvRtpCapabilities=q,this._canProduceByKind=z,this._maxSctpMessageSize=N?N.maxMessageSize:null;const M=a.clone(k)??{};delete M.iceServers,delete M.iceTransportPolicy,delete M.bundlePolicy,delete M.rtcpMuxPolicy,this._handler=D.factory({direction:w,iceParameters:x,iceCandidates:S,dtlsParameters:T,sctpParameters:N,iceServers:P,iceTransportPolicy:A,additionalSettings:M,getSendExtendedRtpCapabilities:this._getSendExtendedRtpCapabilities}),this._appData=R??{},this.handleHandler()}get id(){return this._id}get closed(){return this._closed}get direction(){return this._direction}get handler(){return this._handler}get iceGatheringState(){return this._iceGatheringState}get connectionState(){return this._connectionState}get appData(){return this._appData}set appData(w){this._appData=w}get observer(){return this._observer}close(){if(!this._closed){f.debug("close()"),this._closed=!0,this._awaitQueue.stop(),this._handler.close(),this._connectionState="closed";for(const w of this._producers.values())w.transportClosed();this._producers.clear();for(const w of this._consumers.values())w.transportClosed();this._consumers.clear();for(const w of this._dataProducers.values())w.transportClosed();this._dataProducers.clear();for(const w of this._dataConsumers.values())w.transportClosed();this._dataConsumers.clear(),this._observer.safeEmit("close"),super.close(),this._observer.close()}}async getStats(){if(this._closed)throw new n.InvalidStateError("closed");return this._handler.getTransportStats()}async restartIce({iceParameters:w}){if(f.debug("restartIce()"),this._closed)throw new n.InvalidStateError("closed");if(!w)throw new TypeError("missing iceParameters");return this._awaitQueue.push(async()=>await this._handler.restartIce(w),"transport.restartIce()")}async updateIceServers({iceServers:w}={}){if(f.debug("updateIceServers()"),this._closed)throw new n.InvalidStateError("closed");if(!Array.isArray(w))throw new TypeError("missing iceServers");return this._awaitQueue.push(async()=>this._handler.updateIceServers(w),"transport.updateIceServers()")}async produce({track:w,streamId:y,encodings:x,codecOptions:S,headerExtensionOptions:T,codec:N,stopTracks:P=!0,disableTrackOnPause:A=!0,zeroRtpOnPause:k=!1,onRtpSender:R,appData:D={}}={}){if(f.debug("produce() [track:%o]",w),this._closed)throw new n.InvalidStateError("closed");if(w){if(this._direction!=="send")throw new n.UnsupportedError("not a sending Transport");if(this._canProduceByKind[w.kind]){if(w.readyState==="ended")throw new n.InvalidStateError("track ended");if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(this.listenerCount("produce")===0)throw new TypeError('no "produce" listener set into this transport');if(D&&typeof D!="object")throw new TypeError("if given, appData must be an object")}else throw new n.UnsupportedError(`cannot produce ${w.kind}`)}else throw new TypeError("missing track");return this._awaitQueue.push(async()=>{let I;if(x&&!Array.isArray(x))throw TypeError("encodings must be an array");(x==null?void 0:x.length)===0?I=void 0:x&&(I=x.map(F=>{const B={active:!0};return F.active===!1&&(B.active=!1),typeof F.dtx=="boolean"&&(B.dtx=F.dtx),typeof F.scalabilityMode=="string"&&(B.scalabilityMode=F.scalabilityMode),typeof F.scaleResolutionDownBy=="number"&&(B.scaleResolutionDownBy=F.scaleResolutionDownBy),typeof F.maxBitrate=="number"&&(B.maxBitrate=F.maxBitrate),typeof F.maxFramerate=="number"&&(B.maxFramerate=F.maxFramerate),typeof F.adaptivePtime=="boolean"&&(B.adaptivePtime=F.adaptivePtime),typeof F.priority=="string"&&(B.priority=F.priority),typeof F.networkPriority=="string"&&(B.networkPriority=F.networkPriority),B}));const{localId:q,rtpParameters:z,rtpSender:M}=await this._handler.send({track:w,streamId:y,encodings:I,codecOptions:S,headerExtensionOptions:T,codec:N,onRtpSender:R});try{o.validateAndNormalizeRtpParameters(z);const{id:F}=await new Promise((O,$)=>{this.safeEmit("produce",{kind:w.kind,rtpParameters:z,appData:D},O,$)}),B=new u.Producer({id:F,localId:q,rtpSender:M,track:w,rtpParameters:z,stopTracks:P,disableTrackOnPause:A,zeroRtpOnPause:k,appData:D});return this._producers.set(B.id,B),this.handleProducer(B),this._observer.safeEmit("newproducer",B),B}catch(F){throw this._handler.stopSending(q).catch(()=>{}),F}},"transport.produce()").catch(I=>{if(P)try{w.stop()}catch{}throw I})}async consume({id:w,producerId:y,kind:x,rtpParameters:S,streamId:T,onRtpReceiver:N,appData:P={}}){if(f.debug("consume()"),this._closed)throw new n.InvalidStateError("closed");if(this._direction!=="recv")throw new n.UnsupportedError("not a receiving Transport");if(typeof w!="string")throw new TypeError("missing id");if(typeof y!="string")throw new TypeError("missing producerId");if(x!=="audio"&&x!=="video")throw new TypeError(`invalid kind '${x}'`);if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(P&&typeof P!="object")throw new TypeError("if given, appData must be an object");const A=a.clone(S);if(!o.canReceive(A,this._recvRtpCapabilities))throw new n.UnsupportedError("cannot consume this Producer");const R=new m({id:w,producerId:y,kind:x,rtpParameters:A,streamId:T,onRtpReceiver:N,appData:P});return this._pendingConsumerTasks.push(R),queueMicrotask(()=>{this._closed||this._consumerCreationInProgress===!1&&this.createPendingConsumers()}),R.promise}async produceData({ordered:w=!0,maxPacketLifeTime:y,maxRetransmits:x,label:S="",protocol:T="",appData:N={}}={}){if(f.debug("produceData()"),this._closed)throw new n.InvalidStateError("closed");if(this._direction!=="send")throw new n.UnsupportedError("not a sending Transport");if(this._maxSctpMessageSize){if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(this.listenerCount("producedata")===0)throw new TypeError('no "producedata" listener set into this transport');if(N&&typeof N!="object")throw new TypeError("if given, appData must be an object")}else throw new n.UnsupportedError("SCTP not enabled by remote Transport");return(y||x)&&(w=!1),this._awaitQueue.push(async()=>{const{dataChannel:P,sctpStreamParameters:A}=await this._handler.sendDataChannel({ordered:w,maxPacketLifeTime:y,maxRetransmits:x,label:S,protocol:T});o.validateAndNormalizeSctpStreamParameters(A);const{id:k}=await new Promise((D,I)=>{this.safeEmit("producedata",{sctpStreamParameters:A,label:S,protocol:T,appData:N},D,I)}),R=new p.DataProducer({id:k,dataChannel:P,sctpStreamParameters:A,appData:N});return this._dataProducers.set(R.id,R),this.handleDataProducer(R),this._observer.safeEmit("newdataproducer",R),R},"transport.produceData()")}async consumeData({id:w,dataProducerId:y,sctpStreamParameters:x,label:S="",protocol:T="",appData:N={}}){if(f.debug("consumeData()"),this._closed)throw new n.InvalidStateError("closed");if(this._direction!=="recv")throw new n.UnsupportedError("not a receiving Transport");if(this._maxSctpMessageSize){if(typeof w!="string")throw new TypeError("missing id");if(typeof y!="string")throw new TypeError("missing dataProducerId");if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(N&&typeof N!="object")throw new TypeError("if given, appData must be an object")}else throw new n.UnsupportedError("SCTP not enabled by remote Transport");const P=a.clone(x);return o.validateAndNormalizeSctpStreamParameters(P),this._awaitQueue.push(async()=>{const{dataChannel:A}=await this._handler.receiveDataChannel({sctpStreamParameters:P,label:S,protocol:T}),k=new h.DataConsumer({id:w,dataProducerId:y,dataChannel:A,sctpStreamParameters:P,appData:N});return this._dataConsumers.set(k.id,k),this.handleDataConsumer(k),this._observer.safeEmit("newdataconsumer",k),k},"transport.consumeData()")}createPendingConsumers(){this._consumerCreationInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingConsumerTasks.length===0){f.debug("createPendingConsumers() | there is no Consumer to be created");return}const w=[...this._pendingConsumerTasks];this._pendingConsumerTasks=[];let y;const x=[];for(const S of w){const{id:T,kind:N,rtpParameters:P,streamId:A,onRtpReceiver:k}=S.consumerOptions;x.push({trackId:T,kind:N,rtpParameters:P,streamId:A,onRtpReceiver:k})}try{const S=await this._handler.receive(x);for(let T=0;T<S.length;++T){const N=w[T],P=S[T],{id:A,producerId:k,kind:R,rtpParameters:D,appData:I}=N.consumerOptions,{localId:q,rtpReceiver:z,track:M}=P,F=new c.Consumer({id:A,localId:q,producerId:k,rtpReceiver:z,track:M,rtpParameters:D,appData:I});this._consumers.set(F.id,F),this.handleConsumer(F),!this._probatorConsumerCreated&&!y&&R==="video"&&(y=F),this._observer.safeEmit("newconsumer",F),N.resolve(F)}}catch(S){for(const T of w)T.reject(S)}if(y)try{const S=o.generateProbatorRtpParameters(y.rtpParameters);await this._handler.receive([{trackId:"probator",kind:"video",rtpParameters:S}]),f.debug("createPendingConsumers() | Consumer for RTP probation created"),this._probatorConsumerCreated=!0}catch(S){f.error("createPendingConsumers() | failed to create Consumer for RTP probation:%o",S)}},"transport.createPendingConsumers()").then(()=>{this._consumerCreationInProgress=!1,this._pendingConsumerTasks.length>0&&this.createPendingConsumers()}).catch(()=>{})}pausePendingConsumers(){this._consumerPauseInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingPauseConsumers.size===0){f.debug("pausePendingConsumers() | there is no Consumer to be paused");return}const w=Array.from(this._pendingPauseConsumers.values());this._pendingPauseConsumers.clear();try{const y=w.map(x=>x.localId);await this._handler.pauseReceiving(y)}catch(y){f.error("pausePendingConsumers() | failed to pause Consumers:",y)}},"transport.pausePendingConsumers()").then(()=>{this._consumerPauseInProgress=!1,this._pendingPauseConsumers.size>0&&this.pausePendingConsumers()}).catch(()=>{})}resumePendingConsumers(){this._consumerResumeInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingResumeConsumers.size===0){f.debug("resumePendingConsumers() | there is no Consumer to be resumed");return}const w=Array.from(this._pendingResumeConsumers.values());this._pendingResumeConsumers.clear();try{const y=w.map(x=>x.localId);await this._handler.resumeReceiving(y)}catch(y){f.error("resumePendingConsumers() | failed to resume Consumers:",y)}},"transport.resumePendingConsumers()").then(()=>{this._consumerResumeInProgress=!1,this._pendingResumeConsumers.size>0&&this.resumePendingConsumers()}).catch(()=>{})}closePendingConsumers(){this._consumerCloseInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingCloseConsumers.size===0){f.debug("closePendingConsumers() | there is no Consumer to be closed");return}const w=Array.from(this._pendingCloseConsumers.values());this._pendingCloseConsumers.clear();try{await this._handler.stopReceiving(w.map(y=>y.localId))}catch(y){f.error("closePendingConsumers() | failed to close Consumers:",y)}},"transport.closePendingConsumers()").then(()=>{this._consumerCloseInProgress=!1,this._pendingCloseConsumers.size>0&&this.closePendingConsumers()}).catch(()=>{})}handleHandler(){const w=this._handler;w.on("@connect",({dtlsParameters:y},x,S)=>{if(this._closed){S(new n.InvalidStateError("closed"));return}this.safeEmit("connect",{dtlsParameters:y},x,S)}),w.on("@icegatheringstatechange",y=>{y!==this._iceGatheringState&&(f.debug("ICE gathering state changed to %s",y),this._iceGatheringState=y,this._closed||this.safeEmit("icegatheringstatechange",y))}),w.on("@icecandidateerror",y=>{f.warn(`ICE candidate error [url:${y.url}, localAddress:${y.address}, localPort:${y.port}]: ${y.errorCode} "${y.errorText}"`),this.safeEmit("icecandidateerror",y)}),w.on("@connectionstatechange",y=>{y!==this._connectionState&&(f.debug("connection state changed to %s",y),this._connectionState=y,this._closed||this.safeEmit("connectionstatechange",y))})}handleProducer(w){w.on("@close",()=>{this._producers.delete(w.id),!this._closed&&this._awaitQueue.push(async()=>await this._handler.stopSending(w.localId),"producer @close event").catch(y=>f.warn("producer.close() failed:%o",y))}),w.on("@pause",(y,x)=>{this._awaitQueue.push(async()=>await this._handler.pauseSending(w.localId),"producer @pause event").then(y).catch(x)}),w.on("@resume",(y,x)=>{this._awaitQueue.push(async()=>await this._handler.resumeSending(w.localId),"producer @resume event").then(y).catch(x)}),w.on("@replacetrack",(y,x,S)=>{this._awaitQueue.push(async()=>await this._handler.replaceTrack(w.localId,y),"producer @replacetrack event").then(x).catch(S)}),w.on("@setmaxspatiallayer",(y,x,S)=>{this._awaitQueue.push(async()=>await this._handler.setMaxSpatialLayer(w.localId,y),"producer @setmaxspatiallayer event").then(x).catch(S)}),w.on("@setrtpencodingparameters",(y,x,S)=>{this._awaitQueue.push(async()=>await this._handler.setRtpEncodingParameters(w.localId,y),"producer @setrtpencodingparameters event").then(x).catch(S)}),w.on("@getstats",(y,x)=>{if(this._closed)return x(new n.InvalidStateError("closed"));this._handler.getSenderStats(w.localId).then(y).catch(x)})}handleConsumer(w){w.on("@close",()=>{this._consumers.delete(w.id),this._pendingPauseConsumers.delete(w.id),this._pendingResumeConsumers.delete(w.id),!this._closed&&(this._pendingCloseConsumers.set(w.id,w),this._consumerCloseInProgress===!1&&this.closePendingConsumers())}),w.on("@pause",()=>{this._pendingResumeConsumers.has(w.id)&&this._pendingResumeConsumers.delete(w.id),this._pendingPauseConsumers.set(w.id,w),queueMicrotask(()=>{this._closed||this._consumerPauseInProgress===!1&&this.pausePendingConsumers()})}),w.on("@resume",()=>{this._pendingPauseConsumers.has(w.id)&&this._pendingPauseConsumers.delete(w.id),this._pendingResumeConsumers.set(w.id,w),queueMicrotask(()=>{this._closed||this._consumerResumeInProgress===!1&&this.resumePendingConsumers()})}),w.on("@getstats",(y,x)=>{if(this._closed)return x(new n.InvalidStateError("closed"));this._handler.getReceiverStats(w.localId).then(y).catch(x)})}handleDataProducer(w){w.on("@close",()=>{this._dataProducers.delete(w.id)})}handleDataConsumer(w){w.on("@close",()=>{this._dataConsumers.delete(w.id)})}};return Pp.Transport=b,Pp}var Ip={},Di={},Fw={},qw={exports:{}},B4;function f2(){if(B4)return qw.exports;B4=1;var e=qw.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(t){return t.encoding?"rtpmap:%d %s/%s/%s":t.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(t){return t.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(t){return t.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(t){return"extmap:%d"+(t.direction?"/%s":"%v")+(t["encrypt-uri"]?" %s":"%v")+" %s"+(t.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(t){return t.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{push:"msid",reg:/^msid:([\w-]+)(?: ([\w-]+))?/,names:["id","appdata"],format:"msid:%s %s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(t){var r="candidate:%s %d %s %d %s %d typ %s";return r+=t.raddr!=null?" raddr %s rport %d":"%v%v",r+=t.tcptype!=null?" tcptype %s":"%v",t.generation!=null&&(r+=" generation %d"),r+=t["network-id"]!=null?" network-id %d":"%v",r+=t["network-cost"]!=null?" network-cost %d":"%v",r}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(t){var r="ssrc:%d";return t.attribute!=null&&(r+=" %s",t.value!=null&&(r+=":%s")),r}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(t){return t.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(t){return t.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(t){return"imageattr:%s %s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(t){return"simulcast:%s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(t){return"ts-refclk:%s"+(t.clksrcExt!=null?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(t){var r="mediaclk:";return r+=t.id!=null?"id=%s %s":"%v%s",r+=t.mediaClockValue!=null?"=%s":"",r+=t.rateNumerator!=null?" rate=%s":"",r+=t.rateDenominator!=null?"/%s":"",r}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};return Object.keys(e).forEach(function(t){var r=e[t];r.forEach(function(n){n.reg||(n.reg=/(.*)/),n.format||(n.format="%s")})}),qw.exports}var z4;function fEe(){return z4||(z4=1,(function(e){var t=function(c){return String(Number(c))===c?Number(c):c},r=function(c,p,h,f){if(f&&!h)p[f]=t(c[1]);else for(var m=0;m<h.length;m+=1)c[m+1]!=null&&(p[h[m]]=t(c[m+1]))},n=function(c,p,h){var f=c.name&&c.names;c.push&&!p[c.push]?p[c.push]=[]:f&&!p[c.name]&&(p[c.name]={});var m=c.push?{}:f?p[c.name]:p;r(h.match(c.reg),m,c.names,c.name),c.push&&p[c.push].push(m)},a=f2(),o=RegExp.prototype.test.bind(/^([a-z])=(.*)/);e.parse=function(c){var p={},h=[],f=p;return c.split(/(\r\n|\r|\n)/).filter(o).forEach(function(m){var b=m[0],_=m.slice(2);b==="m"&&(h.push({rtp:[],fmtp:[]}),f=h[h.length-1]);for(var j=0;j<(a[b]||[]).length;j+=1){var w=a[b][j];if(w.reg.test(_))return n(w,f,_)}}),p.media=h,p};var u=function(c,p){var h=p.split(/=(.+)/,2);return h.length===2?c[h[0]]=t(h[1]):h.length===1&&p.length>1&&(c[h[0]]=void 0),c};e.parseParams=function(c){return c.split(/;\s?/).reduce(u,{})},e.parseFmtpConfig=e.parseParams,e.parsePayloads=function(c){return c.toString().split(" ").map(Number)},e.parseRemoteCandidates=function(c){for(var p=[],h=c.split(" ").map(t),f=0;f<h.length;f+=3)p.push({component:h[f],ip:h[f+1],port:h[f+2]});return p},e.parseImageAttributes=function(c){return c.split(" ").map(function(p){return p.substring(1,p.length-1).split(",").reduce(u,{})})},e.parseSimulcastStreamList=function(c){return c.split(";").map(function(p){return p.split(",").map(function(h){var f,m=!1;return h[0]!=="~"?f=t(h):(f=t(h.substring(1,h.length)),m=!0),{scid:f,paused:m}})})}})(Fw)),Fw}var Uw,F4;function pEe(){if(F4)return Uw;F4=1;var e=f2(),t=/%[sdv%]/g,r=function(u){var c=1,p=arguments,h=p.length;return u.replace(t,function(f){if(c>=h)return f;var m=p[c];switch(c+=1,f){case"%%":return"%";case"%s":return String(m);case"%d":return Number(m);case"%v":return""}})},n=function(u,c,p){var h=c.format instanceof Function?c.format(c.push?p:p[c.name]):c.format,f=[u+"="+h];if(c.names)for(var m=0;m<c.names.length;m+=1){var b=c.names[m];c.name?f.push(p[c.name][b]):f.push(p[c.names[m]])}else f.push(p[c.name]);return r.apply(null,f)},a=["v","o","s","i","u","e","p","c","b","t","r","z","a"],o=["i","c","b","a"];return Uw=function(u,c){c=c||{},u.version==null&&(u.version=0),u.name==null&&(u.name=" "),u.media.forEach(function(m){m.payloads==null&&(m.payloads="")});var p=c.outerOrder||a,h=c.innerOrder||o,f=[];return p.forEach(function(m){e[m].forEach(function(b){b.name in u&&u[b.name]!=null?f.push(n(m,b,u)):b.push in u&&u[b.push]!=null&&u[b.push].forEach(function(_){f.push(n(m,b,_))})})}),u.media.forEach(function(m){f.push(n("m",e.m[0],m)),h.forEach(function(b){e[b].forEach(function(_){_.name in m&&m[_.name]!=null?f.push(n(b,_,m)):_.push in m&&m[_.push]!=null&&m[_.push].forEach(function(j){f.push(n(b,_,j))})})})}),f.join(`\r
`)+`\r
`},Uw}var q4;function Jl(){if(q4)return Di;q4=1;var e=fEe(),t=pEe(),r=f2();return Di.grammar=r,Di.write=t,Di.parse=e.parse,Di.parseParams=e.parseParams,Di.parseFmtpConfig=e.parseFmtpConfig,Di.parsePayloads=e.parsePayloads,Di.parseRemoteCandidates=e.parseRemoteCandidates,Di.parseImageAttributes=e.parseImageAttributes,Di.parseSimulcastStreamList=e.parseSimulcastStreamList,Di}var gv={},U4;function vf(){if(U4)return gv;U4=1,Object.defineProperty(gv,"__esModule",{value:!0}),gv.parse=t;const e=new RegExp("^[LS]([1-9]\\d{0,1})T([1-9]\\d{0,1})");function t(r){const n=e.exec(r??"");return n?{spatialLayers:Number(n[1]),temporalLayers:Number(n[2])}:{spatialLayers:1,temporalLayers:1}}return gv}var $p={},lo={},H4;function hEe(){if(H4)return lo;H4=1,Object.defineProperty(lo,"__esModule",{value:!0}),lo.OfferMediaSection=lo.AnswerMediaSection=lo.MediaSection=void 0;const e=Jl(),t=gf();let r=class{constructor({iceParameters:c,iceCandidates:p,dtlsParameters:h}){V(this,"_mediaObject");if(this._mediaObject={type:"",port:0,protocol:"",payloads:"",rtp:[],fmtp:[]},c&&this.setIceParameters(c),p){this._mediaObject.candidates=[];for(const f of p){const m={foundation:f.foundation,component:1,ip:f.address??f.ip,port:f.port,priority:f.priority,transport:f.protocol,type:f.type};f.tcpType&&(m.tcptype=f.tcpType),this._mediaObject.candidates.push(m)}this._mediaObject.endOfCandidates="end-of-candidates",this._mediaObject.iceOptions="renomination"}h&&this.setDtlsRole(h.role)}get mid(){return String(this._mediaObject.mid)}get closed(){return this._mediaObject.port===0}getObject(){return this._mediaObject}setIceParameters(c){this._mediaObject.iceUfrag=c.usernameFragment,this._mediaObject.icePwd=c.password}pause(){this._mediaObject.direction="inactive"}disable(){this.pause()}close(){this.disable(),this._mediaObject.port=0,delete this._mediaObject.candidates,delete this._mediaObject.endOfCandidates,delete this._mediaObject.iceUfrag,delete this._mediaObject.icePwd,delete this._mediaObject.iceOptions,this._mediaObject.rtp=[],this._mediaObject.fmtp=[],delete this._mediaObject.rtcp,delete this._mediaObject.rtcpFb,delete this._mediaObject.ssrcs,delete this._mediaObject.ssrcGroups,delete this._mediaObject.simulcast,delete this._mediaObject.simulcast_03,delete this._mediaObject.rids,delete this._mediaObject.extmapAllowMixed}};lo.MediaSection=r;class n extends r{constructor({iceParameters:c,iceCandidates:p,dtlsParameters:h,sctpParameters:f,plainRtpParameters:m,offerMediaObject:b,offerRtpParameters:_,answerRtpParameters:j,codecOptions:w}){switch(super({iceParameters:c,iceCandidates:p,dtlsParameters:h}),this._mediaObject.mid=String(b.mid),this._mediaObject.type=b.type,this._mediaObject.protocol=b.protocol,m?(this._mediaObject.connection={ip:m.ip,version:m.ipVersion},this._mediaObject.port=m.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},this._mediaObject.port=7),b.type){case"audio":case"video":{this._mediaObject.direction="recvonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[];for(const y of j.codecs){const x={payload:y.payloadType,codec:o(y),rate:y.clockRate};y.channels>1&&(x.encoding=y.channels),this._mediaObject.rtp.push(x);const S=t.clone(y.parameters)??{};let T=t.clone(y.rtcpFeedback)??[];if(w){const{opusStereo:P,opusFec:A,opusDtx:k,opusMaxPlaybackRate:R,opusMaxAverageBitrate:D,opusPtime:I,opusNack:q,videoGoogleStartBitrate:z,videoGoogleMaxBitrate:M,videoGoogleMinBitrate:F}=w,B=_.codecs.find(O=>O.payloadType===y.payloadType);switch(y.mimeType.toLowerCase()){case"audio/opus":case"audio/multiopus":{P!==void 0&&(B.parameters["sprop-stereo"]=P?1:0,S.stereo=P?1:0),A!==void 0&&(B.parameters.useinbandfec=A?1:0,S.useinbandfec=A?1:0),k!==void 0&&(B.parameters.usedtx=k?1:0,S.usedtx=k?1:0),R!==void 0&&(S.maxplaybackrate=R),D!==void 0&&(S.maxaveragebitrate=D),I!==void 0&&(B.parameters.ptime=I,S.ptime=I),q||(B.rtcpFeedback=B.rtcpFeedback.filter(O=>O.type!=="nack"||O.parameter),T=T.filter(O=>O.type!=="nack"||O.parameter));break}case"video/vp8":case"video/vp9":case"video/h264":case"video/h265":case"video/av1":{z!==void 0&&(S["x-google-start-bitrate"]=z),M!==void 0&&(S["x-google-max-bitrate"]=M),F!==void 0&&(S["x-google-min-bitrate"]=F);break}}}const N={payload:y.payloadType,config:""};for(const P of Object.keys(S))N.config&&(N.config+=";"),N.config+=`${P}=${S[P]}`;N.config&&this._mediaObject.fmtp.push(N);for(const P of T)this._mediaObject.rtcpFb.push({payload:y.payloadType,type:P.type,subtype:P.parameter})}this._mediaObject.payloads=j.codecs.map(y=>y.payloadType).join(" "),this._mediaObject.ext=[];for(const y of j.headerExtensions)(b.ext??[]).some(S=>S.uri===y.uri)&&this._mediaObject.ext.push({uri:y.uri,value:y.id});if(b.extmapAllowMixed==="extmap-allow-mixed"&&(this._mediaObject.extmapAllowMixed="extmap-allow-mixed"),b.simulcast){this._mediaObject.simulcast={dir1:"recv",list1:b.simulcast.list1},this._mediaObject.rids=[];for(const y of b.rids??[])y.direction==="send"&&this._mediaObject.rids.push({id:y.id,direction:"recv"})}else if(b.simulcast_03){this._mediaObject.simulcast_03={value:b.simulcast_03.value.replace(/send/g,"recv")},this._mediaObject.rids=[];for(const y of b.rids??[])y.direction==="send"&&this._mediaObject.rids.push({id:y.id,direction:"recv"})}this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize";break}case"application":{typeof b.sctpPort=="number"?(this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=f.port,this._mediaObject.maxMessageSize=f.maxMessageSize):b.sctpmap&&(this._mediaObject.payloads=String(f.port),this._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:f.port,maxMessageSize:f.maxMessageSize});break}}}setDtlsRole(c){switch(c){case"client":{this._mediaObject.setup="active";break}case"server":{this._mediaObject.setup="passive";break}case"auto":{this._mediaObject.setup="actpass";break}}}resume(){this._mediaObject.direction="recvonly"}muxSimulcastStreams(c){var m,b;if(!((m=this._mediaObject.simulcast)!=null&&m.list1))return;const p={};for(const _ of c)_.rid&&(p[_.rid]=_);const h=this._mediaObject.simulcast.list1,f=e.parseSimulcastStreamList(h);for(const _ of f)for(const j of _)j.paused=!((b=p[j.scid])!=null&&b.active);this._mediaObject.simulcast.list1=f.map(_=>_.map(j=>`${j.paused?"~":""}${j.scid}`).join(",")).join(";")}}lo.AnswerMediaSection=n;class a extends r{constructor({iceParameters:c,iceCandidates:p,dtlsParameters:h,sctpParameters:f,plainRtpParameters:m,mid:b,kind:_,offerRtpParameters:j,streamId:w,trackId:y}){var x;switch(super({iceParameters:c,iceCandidates:p,dtlsParameters:h}),this._mediaObject.mid=String(b),this._mediaObject.type=_,m?(this._mediaObject.connection={ip:m.ip,version:m.ipVersion},this._mediaObject.protocol="RTP/AVP",this._mediaObject.port=m.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},f?this._mediaObject.protocol="UDP/DTLS/SCTP":this._mediaObject.protocol="UDP/TLS/RTP/SAVPF",this._mediaObject.port=7),this._mediaObject.extmapAllowMixed="extmap-allow-mixed",_){case"audio":case"video":{this._mediaObject.direction="sendonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[],this._mediaObject.msid=[{id:w,appdata:y}];for(const P of j.codecs){const A={payload:P.payloadType,codec:o(P),rate:P.clockRate};P.channels>1&&(A.encoding=P.channels),this._mediaObject.rtp.push(A);const k={payload:P.payloadType,config:""};for(const R of Object.keys(P.parameters??{}))k.config&&(k.config+=";"),k.config+=`${R}=${P.parameters[R]}`;k.config&&this._mediaObject.fmtp.push(k);for(const R of P.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:P.payloadType,type:R.type,subtype:R.parameter})}this._mediaObject.payloads=j.codecs.map(P=>P.payloadType).join(" "),this._mediaObject.ext=[];for(const P of j.headerExtensions)this._mediaObject.ext.push({uri:P.uri,value:P.id});this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize";const S=j.encodings[0],T=S.ssrc,N=(x=S.rtx)==null?void 0:x.ssrc;this._mediaObject.ssrcs=[],this._mediaObject.ssrcGroups=[],T&&j.rtcp.cname&&this._mediaObject.ssrcs.push({id:T,attribute:"cname",value:j.rtcp.cname}),N&&(j.rtcp.cname&&this._mediaObject.ssrcs.push({id:N,attribute:"cname",value:j.rtcp.cname}),T&&this._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:`${T} ${N}`}));break}case"application":{this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=f.port,this._mediaObject.maxMessageSize=f.maxMessageSize;break}}}setDtlsRole(c){this._mediaObject.setup="actpass"}resume(){this._mediaObject.direction="sendonly"}}lo.OfferMediaSection=a;function o(u){const p=new RegExp("^(audio|video)/(.+)","i").exec(u.mimeType);if(!p)throw new TypeError("invalid codec.mimeType");return p[2]}return lo}var W4;function xm(){if(W4)return $p;W4=1,Object.defineProperty($p,"__esModule",{value:!0}),$p.RemoteSdp=void 0;const e=Jl(),t=wa(),r=hEe(),n=I7(),a=["av1","h264"],o=new t.Logger("RemoteSdp");let u=class{constructor({iceParameters:p,iceCandidates:h,dtlsParameters:f,sctpParameters:m,plainRtpParameters:b}){V(this,"_iceParameters");V(this,"_iceCandidates");V(this,"_dtlsParameters");V(this,"_sctpParameters");V(this,"_plainRtpParameters");V(this,"_mediaSections",[]);V(this,"_midToIndex",new Map);V(this,"_firstMid");V(this,"_sdpObject");if(this._iceParameters=p,this._iceCandidates=h,this._dtlsParameters=f,this._sctpParameters=m,this._plainRtpParameters=b,this._sdpObject={version:0,origin:{address:"0.0.0.0",ipVer:4,netType:"IN",sessionId:"10000",sessionVersion:0,username:`mediasoup-client-v${n.version}`},name:"-",timing:{start:0,stop:0},media:[]},this._sdpObject.iceOptions="ice2",p!=null&&p.iceLite&&(this._sdpObject.icelite="ice-lite"),f){this._sdpObject.msidSemantic={semantic:"WMS",token:"*"};const _=this._dtlsParameters.fingerprints.length;this._sdpObject.fingerprint={type:f.fingerprints[_-1].algorithm,hash:f.fingerprints[_-1].value},this._sdpObject.groups=[{type:"BUNDLE",mids:""}]}b&&(this._sdpObject.origin.address=b.ip,this._sdpObject.origin.ipVer=b.ipVersion)}updateIceParameters(p){o.debug("updateIceParameters() [iceParameters:%o]",p),this._iceParameters=p,this._sdpObject.icelite=p.iceLite?"ice-lite":void 0;for(const h of this._mediaSections)h.setIceParameters(p)}updateDtlsRole(p){o.debug("updateDtlsRole() [role:%s]",p),this._dtlsParameters.role=p;for(const h of this._mediaSections)h.setDtlsRole(p)}setSessionExtmapAllowMixed(){o.debug("setSessionExtmapAllowMixed()"),this._sdpObject.extmapAllowMixed="extmap-allow-mixed"}getNextMediaSectionIdx(){for(let p=0;p<this._mediaSections.length;++p){const h=this._mediaSections[p];if(h.closed)return{idx:p,reuseMid:h.mid}}return{idx:this._mediaSections.length}}send({offerMediaObject:p,reuseMid:h,offerRtpParameters:f,answerRtpParameters:m,codecOptions:b}){var y;const _=new r.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,offerMediaObject:p,offerRtpParameters:f,answerRtpParameters:m,codecOptions:b}),j=_.getObject();j.rtp.find(x=>a.includes(x.codec.toLowerCase()))||(j.ext=(y=j.ext)==null?void 0:y.filter(x=>x.uri!=="https://aomediacodec.github.io/av1-rtp-spec/#dependency-descriptor-rtp-header-extension")),h?this.replaceMediaSection(_,h):this._midToIndex.has(_.mid)?this.replaceMediaSection(_):this.addMediaSection(_)}receive({mid:p,kind:h,offerRtpParameters:f,streamId:m,trackId:b}){this.setSessionExtmapAllowMixed();const _=new r.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,mid:p,kind:h,offerRtpParameters:f,streamId:m,trackId:b}),j=this._mediaSections.find(w=>w.closed);j?this.replaceMediaSection(_,j.mid):this.addMediaSection(_)}pauseMediaSection(p){this.findMediaSection(p).pause()}resumeSendingMediaSection(p){this.findMediaSection(p).resume()}resumeReceivingMediaSection(p){this.findMediaSection(p).resume()}disableMediaSection(p){this.findMediaSection(p).disable()}closeMediaSection(p){const h=this.findMediaSection(p);return p===this._firstMid?(o.debug("closeMediaSection() | cannot close first media section, disabling it instead [mid:%s]",p),this.disableMediaSection(p),!1):(h.close(),this.regenerateBundleMids(),!0)}muxMediaSectionSimulcast(p,h){const f=this.findMediaSection(p);f.muxSimulcastStreams(h),this.replaceMediaSection(f)}sendSctpAssociation({offerMediaObject:p}){const h=new r.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,offerMediaObject:p});this.addMediaSection(h)}receiveSctpAssociation(){const p=new r.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,mid:"datachannel",kind:"application"});this.addMediaSection(p)}getSdp(){return this._sdpObject.origin.sessionVersion++,e.write(this._sdpObject)}addMediaSection(p){this._firstMid||(this._firstMid=p.mid),this._mediaSections.push(p),this._midToIndex.set(p.mid,this._mediaSections.length-1),this._sdpObject.media.push(p.getObject()),this.regenerateBundleMids()}replaceMediaSection(p,h){if(typeof h=="string"){const f=this._midToIndex.get(h);if(f===void 0)throw new Error(`no media section found for reuseMid '${h}'`);const m=this._mediaSections[f];this._mediaSections[f]=p,this._midToIndex.delete(m.mid),this._midToIndex.set(p.mid,f),this._sdpObject.media[f]=p.getObject(),this.regenerateBundleMids()}else{const f=this._midToIndex.get(p.mid);if(f===void 0)throw new Error(`no media section found with mid '${p.mid}'`);this._mediaSections[f]=p,this._sdpObject.media[f]=p.getObject()}}findMediaSection(p){const h=this._midToIndex.get(p);if(h===void 0)throw new Error(`no media section found with mid '${p}'`);return this._mediaSections[h]}regenerateBundleMids(){this._dtlsParameters&&(this._sdpObject.groups[0].mids=this._mediaSections.filter(p=>!p.closed).map(p=>p.mid).join(" "))}};return $p.RemoteSdp=u,$p}var xl={},K4;function wm(){if(K4)return xl;K4=1,Object.defineProperty(xl,"__esModule",{value:!0}),xl.extractRtpCapabilities=t,xl.extractDtlsParameters=r,xl.getCname=n,xl.applyCodecParameters=a,xl.addHeaderExtension=o;const e=Jl();function t({sdpObject:u}){const c=new Map,p=new Map;for(const f of u.media){const m=f.type;switch(m){case"audio":case"video":break;default:continue}for(const b of f.rtp){const _={kind:m,mimeType:`${m}/${b.codec}`,preferredPayloadType:b.payload,clockRate:b.rate,channels:b.encoding,parameters:{},rtcpFeedback:[]};c.set(_.preferredPayloadType,_)}for(const b of f.fmtp??[]){const _=e.parseParams(b.config),j=c.get(b.payload);j&&(_!=null&&_.hasOwnProperty("profile-level-id")&&(_["profile-level-id"]=String(_["profile-level-id"])),j.parameters=_)}for(const b of f.rtcpFb??[]){const _={type:b.type,parameter:b.subtype};if(_.parameter||delete _.parameter,b.payload!=="*"){const j=c.get(Number(b.payload));if(!j)continue;j.rtcpFeedback.push(_)}else for(const j of c.values())j.kind===m&&!/.+\/rtx$/i.test(j.mimeType)&&j.rtcpFeedback.push(_)}for(const b of f.ext??[]){if(b["encrypt-uri"])continue;const _={kind:m,uri:b.uri,preferredId:b.value};p.set(_.preferredId,_)}}return{codecs:Array.from(c.values()),headerExtensions:Array.from(p.values())}}function r({sdpObject:u}){let c=u.setup,p=u.fingerprint;if(!c||!p){const m=(u.media??[]).find(b=>b.port!==0);m&&(c=c??m.setup,p=p??m.fingerprint)}if(c){if(!p)throw new Error("no a=fingerprint found at SDP session or media level")}else throw new Error("no a=setup found at SDP session or media level");let h;switch(c){case"active":{h="client";break}case"passive":{h="server";break}case"actpass":{h="auto";break}}return{role:h,fingerprints:[{algorithm:p.type,value:p.hash}]}}function n({offerMediaObject:u}){const c=(u.ssrcs??[]).find(p=>p.attribute==="cname");return c?c.value:""}function a({offerRtpParameters:u,answerMediaObject:c}){var p;for(const h of u.codecs){const f=h.mimeType.toLowerCase();if(f!=="audio/opus"||!(c.rtp??[]).find(j=>j.payload===h.payloadType))continue;c.fmtp=c.fmtp??[];let b=c.fmtp.find(j=>j.payload===h.payloadType);b||(b={payload:h.payloadType,config:""},c.fmtp.push(b));const _=e.parseParams(b.config);switch(f){case"audio/opus":{const j=(p=h.parameters)==null?void 0:p["sprop-stereo"];j!==void 0&&(_.stereo=Number(j)?1:0);break}}b.config="";for(const j of Object.keys(_))b.config&&(b.config+=";"),b.config+=`${j}=${_[j]}`}}function o({offerMediaObject:u,headerExtensionUri:c,headerExtensionId:p}){u.ext||(u.ext=[]),u.ext.push({uri:c,value:p})}return xl}var Bp={},G4;function Sm(){if(G4)return Bp;G4=1,Object.defineProperty(Bp,"__esModule",{value:!0}),Bp.getRtpEncodings=e,Bp.addLegacySimulcast=t;function e({offerMediaObject:r,codecs:n}){const a=new Set;for(const c of r.ssrcs??[]){const p=c.id;p&&a.add(p)}if(a.size===0)throw new Error("no a=ssrc lines found");const o=new Map;for(const c of r.ssrcGroups??[]){if(c.semantics!=="FID")continue;const p=c.ssrcs.split(/\s+/),h=Number(p[0]),f=Number(p[1]);a.has(h)&&(a.delete(h),a.delete(f),o.set(h,f))}for(const c of a)o.set(c,void 0);const u=[];for(const[c,p]of o){const h={ssrc:c};p&&n.length>1&&(h.rtx={ssrc:p}),u.push(h)}return u}function t({offerMediaObject:r,numStreams:n}){if(n<=1)throw new TypeError("numStreams must be greater than 1");const a=(r.ssrcs??[]).find(_=>_.attribute==="msid");if(!a)throw new Error("a=ssrc line with msid information not found");const[o,u]=a.value.split(" "),c=Number(a.id);let p;(r.ssrcGroups??[]).some(_=>{if(_.semantics!=="FID")return!1;const j=_.ssrcs.split(/\s+/);return Number(j[0])===c?(p=Number(j[1]),!0):!1});const h=(r.ssrcs??[]).find(_=>_.attribute==="cname");if(!h)throw new Error("a=ssrc line with cname information not found");const f=h.value,m=[],b=[];for(let _=0;_<n;++_)m.push(c+_),p&&b.push(p+_);r.ssrcGroups=[],r.ssrcs=[],r.ssrcGroups.push({semantics:"SIM",ssrcs:m.join(" ")});for(const _ of m)r.ssrcs.push({id:_,attribute:"cname",value:f}),r.ssrcs.push({id:_,attribute:"msid",value:`${o} ${u}`});for(let _=0;_<b.length;++_){const j=m[_],w=b[_];r.ssrcs.push({id:w,attribute:"cname",value:f}),r.ssrcs.push({id:w,attribute:"msid",value:`${o} ${u}`}),r.ssrcGroups.push({semantics:"FID",ssrcs:`${j} ${w}`})}}return Bp}var fd={},V4;function jm(){if(V4)return fd;V4=1,Object.defineProperty(fd,"__esModule",{value:!0}),fd.addNackSupportForOpus=e,fd.addHeaderExtensionSupport=t,fd.getMsidStreamIdAndTrackId=r;function e(n){var a;for(const o of n.codecs??[])(o.mimeType.toLowerCase()==="audio/opus"||o.mimeType.toLowerCase()==="audio/multiopus")&&!((a=o.rtcpFeedback)!=null&&a.some(u=>u.type==="nack"&&!u.parameter))&&(o.rtcpFeedback||(o.rtcpFeedback=[]),o.rtcpFeedback.push({type:"nack"}))}function t(n,a){var p;let o;const u=(p=n.headerExtensions)==null?void 0:p.find(h=>h.uri===a.uri);if(u){if(u.kind===a.kind)return;o=u.preferredId}if(n.headerExtensions||(n.headerExtensions=[]),o===void 0){o=1;const h=new Set(n.headerExtensions.map(f=>f.preferredId));for(;h.has(o);)++o}const c={kind:a.kind,uri:a.uri,preferredId:o,preferredEncrypt:!1,direction:a.direction};n.headerExtensions.push(c)}function r(n){if(!n||typeof n!="string")return{msidStreamId:void 0,msidTrackId:void 0};const[a,o]=n.trim().split(/\s+/);return a?{msidStreamId:a,msidTrackId:o}:{msidStreamId:void 0,msidTrackId:void 0}}return fd}var Y4;function mEe(){if(Y4)return Ip;Y4=1,Object.defineProperty(Ip,"__esModule",{value:!0}),Ip.Chrome111=void 0;const e=Jl(),t=Ha(),r=wa(),n=Wo(),a=Xi(),o=vf(),u=xm(),c=wm(),p=Sm(),h=jm(),f=new r.Logger("Chrome111"),m="Chrome111",b={OS:1024,MIS:1024};let _=class Bv extends t.EnhancedEventEmitter{constructor({direction:y,iceParameters:x,iceCandidates:S,dtlsParameters:T,sctpParameters:N,iceServers:P,iceTransportPolicy:A,additionalSettings:k,getSendExtendedRtpCapabilities:R}){super();V(this,"_closed",!1);V(this,"_direction");V(this,"_remoteSdp");V(this,"_getSendExtendedRtpCapabilities");V(this,"_forcedLocalDtlsRole");V(this,"_pc");V(this,"_mapMidTransceiver",new Map);V(this,"_sendStream",new MediaStream);V(this,"_hasDataChannelMediaSection",!1);V(this,"_nextSendSctpStreamId",0);V(this,"_transportReady",!1);V(this,"onIceGatheringStateChange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)});V(this,"onIceCandidateError",y=>{this.emit("@icecandidateerror",y)});V(this,"onConnectionStateChange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)});V(this,"onIceConnectionStateChange",()=>{switch(this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}});f.debug("constructor()"),this._direction=y,this._remoteSdp=new u.RemoteSdp({iceParameters:x,iceCandidates:S,dtlsParameters:T,sctpParameters:N}),this._getSendExtendedRtpCapabilities=R,T.role&&T.role!=="auto"&&(this._forcedLocalDtlsRole=T.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:P??[],iceTransportPolicy:A??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...k}),this._pc.addEventListener("icegatheringstatechange",this.onIceGatheringStateChange),this._pc.addEventListener("icecandidateerror",this.onIceCandidateError),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",this.onConnectionStateChange):(f.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",this.onIceConnectionStateChange))}static createFactory(){return{name:m,factory:y=>new Bv(y),getNativeRtpCapabilities:async()=>{f.debug("getNativeRtpCapabilities()");let y=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});try{y.addTransceiver("audio"),y.addTransceiver("video",{sendEncodings:[{scalabilityMode:"L3T3"}]});const x=await y.createOffer();try{y.close()}catch{}y=void 0;const S=e.parse(x.sdp);return Bv.getLocalRtpCapabilities(S)}catch(x){try{y==null||y.close()}catch{}throw y=void 0,x}},getNativeSctpCapabilities:async()=>(f.debug("getNativeSctpCapabilities()"),{numStreams:b})}}static getLocalRtpCapabilities(y,x=[]){const S=c.extractRtpCapabilities({sdpObject:y});n.validateAndNormalizeRtpCapabilities(S),h.addNackSupportForOpus(S);for(const T of x)h.addHeaderExtensionSupport(S,T);return S}get name(){return m}close(){if(f.debug("close()"),!this._closed){this._closed=!0;try{this._pc.close()}catch{}this._pc.removeEventListener("icegatheringstatechange",this.onIceGatheringStateChange),this._pc.removeEventListener("icecandidateerror",this.onIceCandidateError),this._pc.removeEventListener("connectionstatechange",this.onConnectionStateChange),this._pc.removeEventListener("iceconnectionstatechange",this.onIceConnectionStateChange),this.emit("@close"),super.close()}}async updateIceServers(y){this.assertNotClosed(),f.debug("updateIceServers()");const x=this._pc.getConfiguration();x.iceServers=y,this._pc.setConfiguration(x)}async restartIce(y){if(this.assertNotClosed(),f.debug("restartIce()"),this._remoteSdp.updateIceParameters(y),!!this._transportReady)if(this._direction==="send"){const x=await this._pc.createOffer({iceRestart:!0});f.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x);const S={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",S),await this._pc.setRemoteDescription(S)}else{const x={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);const S=await this._pc.createAnswer();f.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:y,streamId:x,encodings:S,codecOptions:T,headerExtensionOptions:N,codec:P,onRtpSender:A}){if(this.assertNotClosed(),this.assertSendDirection(),f.debug("send() [kind:%s, track.id:%s, streamId:%s]",y.kind,y.id,x),S&&S.length>1){let Y=1;for(const Z of S){const H=Z.scalabilityMode?(0,o.parse)(Z.scalabilityMode).temporalLayers:3;H>Y&&(Y=H)}S.forEach((Z,H)=>{Z.rid=`r${H}`,Z.scalabilityMode=`L1T${Y}`})}const k=this._remoteSdp.getNextMediaSectionIdx(),R=this._pc.addTransceiver(y,{direction:"sendonly",streams:[this._sendStream],sendEncodings:S});A&&A(R.sender);let D=await this._pc.createOffer(),I=e.parse(D.sdp);I.extmapAllowMixed&&this._remoteSdp.setSessionExtmapAllowMixed();const q=[];q.push({uri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time",kind:y.kind,direction:"sendonly"});const z=Bv.getLocalRtpCapabilities(I,q),M=this._getSendExtendedRtpCapabilities(z),F=n.getSendingRtpParameters(y.kind,M);F.codecs=n.reduceCodecs(F.codecs,P);const B=n.getSendingRemoteRtpParameters(y.kind,M);if(B.codecs=n.reduceCodecs(B.codecs,P),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:I}),N!=null&&N.absCaptureTime){const Y=I.media[k.idx];c.addHeaderExtension({offerMediaObject:Y,headerExtensionUri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time",headerExtensionId:B.headerExtensions.find(Z=>Z.uri==="http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time").id}),D={type:"offer",sdp:e.write(I)}}f.debug("send() | calling pc.setLocalDescription() [offer:%o]",D),await this._pc.setLocalDescription(D);const O=R.mid;F.mid=O,I=e.parse(this._pc.localDescription.sdp);const $=I.media[k.idx];if(F.rtcp.cname=c.getCname({offerMediaObject:$}),F.msid=`${x??this._sendStream.id} ${y.id}`,!S)F.encodings=p.getRtpEncodings({offerMediaObject:$,codecs:F.codecs});else if(S.length===1){const Y=p.getRtpEncodings({offerMediaObject:$,codecs:F.codecs});Object.assign(Y[0],S[0]),F.encodings=Y}else F.encodings=S;this._remoteSdp.send({offerMediaObject:$,reuseMid:k.reuseMid,offerRtpParameters:F,answerRtpParameters:B,codecOptions:T});const K={type:"answer",sdp:this._remoteSdp.getSdp()};return f.debug("send() | calling pc.setRemoteDescription() [answer:%o]",K),await this._pc.setRemoteDescription(K),this._mapMidTransceiver.set(O,R),{localId:O,rtpParameters:F,rtpSender:R.sender}}async stopSending(y){if(this.assertSendDirection(),f.debug("stopSending() [localId:%s]",y),this._closed)return;const x=this._mapMidTransceiver.get(y);if(!x)throw new Error("associated RTCRtpTransceiver not found");if(x.sender.replaceTrack(null),this._pc.removeTrack(x.sender),this._remoteSdp.closeMediaSection(x.mid))try{x.stop()}catch{}const T=await this._pc.createOffer();f.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",T),await this._pc.setLocalDescription(T);const N={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",N),await this._pc.setRemoteDescription(N),this._mapMidTransceiver.delete(y)}async pauseSending(y){this.assertNotClosed(),this.assertSendDirection(),f.debug("pauseSending() [localId:%s]",y);const x=this._mapMidTransceiver.get(y);if(!x)throw new Error("associated RTCRtpTransceiver not found");x.direction="inactive",this._remoteSdp.pauseMediaSection(y);const S=await this._pc.createOffer();f.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",S),await this._pc.setLocalDescription(S);const T={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",T),await this._pc.setRemoteDescription(T)}async resumeSending(y){this.assertNotClosed(),this.assertSendDirection(),f.debug("resumeSending() [localId:%s]",y);const x=this._mapMidTransceiver.get(y);if(this._remoteSdp.resumeSendingMediaSection(y),!x)throw new Error("associated RTCRtpTransceiver not found");x.direction="sendonly";const S=await this._pc.createOffer();f.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",S),await this._pc.setLocalDescription(S);const T={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",T),await this._pc.setRemoteDescription(T)}async replaceTrack(y,x){this.assertNotClosed(),this.assertSendDirection(),x?f.debug("replaceTrack() [localId:%s, track.id:%s]",y,x.id):f.debug("replaceTrack() [localId:%s, no track]",y);const S=this._mapMidTransceiver.get(y);if(!S)throw new Error("associated RTCRtpTransceiver not found");await S.sender.replaceTrack(x)}async setMaxSpatialLayer(y,x){this.assertNotClosed(),this.assertSendDirection(),f.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",y,x);const S=this._mapMidTransceiver.get(y);if(!S)throw new Error("associated RTCRtpTransceiver not found");const T=S.sender.getParameters();T.encodings.forEach((A,k)=>{k<=x?A.active=!0:A.active=!1}),await S.sender.setParameters(T),this._remoteSdp.muxMediaSectionSimulcast(y,T.encodings);const N=await this._pc.createOffer();f.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",N),await this._pc.setLocalDescription(N);const P={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",P),await this._pc.setRemoteDescription(P)}async setRtpEncodingParameters(y,x){this.assertNotClosed(),this.assertSendDirection(),f.debug("setRtpEncodingParameters() [localId:%s, params:%o]",y,x);const S=this._mapMidTransceiver.get(y);if(!S)throw new Error("associated RTCRtpTransceiver not found");const T=S.sender.getParameters();T.encodings.forEach((A,k)=>{T.encodings[k]={...A,...x}}),await S.sender.setParameters(T),this._remoteSdp.muxMediaSectionSimulcast(y,T.encodings);const N=await this._pc.createOffer();f.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",N),await this._pc.setLocalDescription(N);const P={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",P),await this._pc.setRemoteDescription(P)}async getSenderStats(y){this.assertNotClosed(),this.assertSendDirection();const x=this._mapMidTransceiver.get(y);if(!x)throw new Error("associated RTCRtpTransceiver not found");return x.sender.getStats()}async sendDataChannel({ordered:y,maxPacketLifeTime:x,maxRetransmits:S,label:T,protocol:N}){this.assertNotClosed(),this.assertSendDirection();const P={negotiated:!0,id:this._nextSendSctpStreamId,ordered:y,maxPacketLifeTime:x,maxRetransmits:S,protocol:N};f.debug("sendDataChannel() [options:%o]",P);const A=this._pc.createDataChannel(T,P);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%b.MIS,!this._hasDataChannelMediaSection){const R=await this._pc.createOffer(),D=e.parse(R.sdp),I=D.media.find(z=>z.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:D}),f.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",R),await this._pc.setLocalDescription(R),this._remoteSdp.sendSctpAssociation({offerMediaObject:I});const q={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",q),await this._pc.setRemoteDescription(q),this._hasDataChannelMediaSection=!0}const k={streamId:P.id,ordered:P.ordered,maxPacketLifeTime:P.maxPacketLifeTime,maxRetransmits:P.maxRetransmits};return{dataChannel:A,sctpStreamParameters:k}}async receive(y){var A;this.assertNotClosed(),this.assertRecvDirection();const x=[],S=new Map;for(const k of y){const{trackId:R,kind:D,rtpParameters:I,streamId:q}=k;f.debug("receive() [trackId:%s, kind:%s]",R,D);const z=I.mid??String(this._mapMidTransceiver.size);S.set(R,z);const{msidStreamId:M}=h.getMsidStreamIdAndTrackId(I.msid);this._remoteSdp.receive({mid:z,kind:D,offerRtpParameters:I,streamId:q??M??((A=I.rtcp)==null?void 0:A.cname)??"-",trackId:R})}const T={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",T),await this._pc.setRemoteDescription(T);for(const k of y){const{trackId:R,onRtpReceiver:D}=k;if(D){const I=S.get(R),q=this._pc.getTransceivers().find(z=>z.mid===I);if(!q)throw new Error("transceiver not found");D(q.receiver)}}let N=await this._pc.createAnswer();const P=e.parse(N.sdp);for(const k of y){const{trackId:R,rtpParameters:D}=k,I=S.get(R),q=P.media.find(z=>String(z.mid)===I);c.applyCodecParameters({offerRtpParameters:D,answerMediaObject:q})}N={type:"answer",sdp:e.write(P)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:P}),f.debug("receive() | calling pc.setLocalDescription() [answer:%o]",N),await this._pc.setLocalDescription(N);for(const k of y){const{trackId:R}=k,D=S.get(R),I=this._pc.getTransceivers().find(q=>q.mid===D);if(I)this._mapMidTransceiver.set(D,I),x.push({localId:D,track:I.receiver.track,rtpReceiver:I.receiver});else throw new Error("new RTCRtpTransceiver not found")}return x}async stopReceiving(y){if(this.assertRecvDirection(),this._closed)return;for(const T of y){f.debug("stopReceiving() [localId:%s]",T);const N=this._mapMidTransceiver.get(T);if(!N)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(N.mid)}const x={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);const S=await this._pc.createAnswer();f.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S);for(const T of y)this._mapMidTransceiver.delete(T)}async pauseReceiving(y){this.assertNotClosed(),this.assertRecvDirection();for(const T of y){f.debug("pauseReceiving() [localId:%s]",T);const N=this._mapMidTransceiver.get(T);if(!N)throw new Error("associated RTCRtpTransceiver not found");N.direction="inactive",this._remoteSdp.pauseMediaSection(T)}const x={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);const S=await this._pc.createAnswer();f.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S)}async resumeReceiving(y){this.assertNotClosed(),this.assertRecvDirection();for(const T of y){f.debug("resumeReceiving() [localId:%s]",T);const N=this._mapMidTransceiver.get(T);if(!N)throw new Error("associated RTCRtpTransceiver not found");N.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(T)}const x={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);const S=await this._pc.createAnswer();f.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S)}async getReceiverStats(y){this.assertNotClosed(),this.assertRecvDirection();const x=this._mapMidTransceiver.get(y);if(!x)throw new Error("associated RTCRtpTransceiver not found");return x.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:y,label:x,protocol:S}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:T,ordered:N,maxPacketLifeTime:P,maxRetransmits:A}=y,k={negotiated:!0,id:T,ordered:N,maxPacketLifeTime:P,maxRetransmits:A,protocol:S};f.debug("receiveDataChannel() [options:%o]",k);const R=this._pc.createDataChannel(x,k);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const D={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",D),await this._pc.setRemoteDescription(D);const I=await this._pc.createAnswer();if(!this._transportReady){const q=e.parse(I.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:q})}f.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",I),await this._pc.setLocalDescription(I),this._hasDataChannelMediaSection=!0}return{dataChannel:R}}async setupTransport({localDtlsRole:y,localSdpObject:x}){x||(x=e.parse(this._pc.localDescription.sdp));const S=c.extractDtlsParameters({sdpObject:x});S.role=y,this._remoteSdp.updateDtlsRole(y==="client"?"server":"client"),await new Promise((T,N)=>{this.safeEmit("@connect",{dtlsParameters:S},T,N)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new a.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return Ip.Chrome111=_,Ip}var zp={},Q4;function gEe(){if(Q4)return zp;Q4=1,Object.defineProperty(zp,"__esModule",{value:!0}),zp.Chrome74=void 0;const e=Jl(),t=wa(),r=Ha(),n=Wo(),a=Xi(),o=vf(),u=xm(),c=wm(),p=Sm(),h=jm(),f=new t.Logger("Chrome74"),m="Chrome74",b={OS:1024,MIS:1024};let _=class zv extends r.EnhancedEventEmitter{constructor({direction:y,iceParameters:x,iceCandidates:S,dtlsParameters:T,sctpParameters:N,iceServers:P,iceTransportPolicy:A,additionalSettings:k,getSendExtendedRtpCapabilities:R}){super();V(this,"_closed",!1);V(this,"_direction");V(this,"_remoteSdp");V(this,"_getSendExtendedRtpCapabilities");V(this,"_forcedLocalDtlsRole");V(this,"_pc");V(this,"_mapMidTransceiver",new Map);V(this,"_sendStream",new MediaStream);V(this,"_hasDataChannelMediaSection",!1);V(this,"_nextSendSctpStreamId",0);V(this,"_transportReady",!1);V(this,"onIceGatheringStateChange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)});V(this,"onIceCandidateError",y=>{this.emit("@icecandidateerror",y)});V(this,"onConnectionStateChange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)});V(this,"onIceConnectionStateChange",()=>{switch(this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}});f.debug("constructor()"),this._direction=y,this._remoteSdp=new u.RemoteSdp({iceParameters:x,iceCandidates:S,dtlsParameters:T,sctpParameters:N}),this._getSendExtendedRtpCapabilities=R,T.role&&T.role!=="auto"&&(this._forcedLocalDtlsRole=T.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:P??[],iceTransportPolicy:A??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...k}),this._pc.addEventListener("icegatheringstatechange",this.onIceGatheringStateChange),this._pc.addEventListener("icecandidateerror",this.onIceCandidateError),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",this.onConnectionStateChange):(f.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",this.onIceConnectionStateChange))}static createFactory(){return{name:m,factory:y=>new zv(y),getNativeRtpCapabilities:async()=>{f.debug("getNativeRtpCapabilities()");let y=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});try{y.addTransceiver("audio"),y.addTransceiver("video");const x=await y.createOffer();try{y.close()}catch{}y=void 0;const S=e.parse(x.sdp);return zv.getLocalRtpCapabilities(S)}catch(x){try{y==null||y.close()}catch{}throw y=void 0,x}},getNativeSctpCapabilities:async()=>(f.debug("getNativeSctpCapabilities()"),{numStreams:b})}}static getLocalRtpCapabilities(y,x=[]){const S=c.extractRtpCapabilities({sdpObject:y});n.validateAndNormalizeRtpCapabilities(S),h.addNackSupportForOpus(S);for(const T of x)h.addHeaderExtensionSupport(S,T);return S}get name(){return m}close(){if(f.debug("close()"),!this._closed){this._closed=!0;try{this._pc.close()}catch{}this._pc.removeEventListener("icegatheringstatechange",this.onIceGatheringStateChange),this._pc.removeEventListener("icecandidateerror",this.onIceCandidateError),this._pc.removeEventListener("connectionstatechange",this.onConnectionStateChange),this._pc.removeEventListener("iceconnectionstatechange",this.onIceConnectionStateChange),this.emit("@close"),super.close()}}async updateIceServers(y){this.assertNotClosed(),f.debug("updateIceServers()");const x=this._pc.getConfiguration();x.iceServers=y,this._pc.setConfiguration(x)}async restartIce(y){if(this.assertNotClosed(),f.debug("restartIce()"),this._remoteSdp.updateIceParameters(y),!!this._transportReady)if(this._direction==="send"){const x=await this._pc.createOffer({iceRestart:!0});f.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x);const S={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",S),await this._pc.setRemoteDescription(S)}else{const x={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);const S=await this._pc.createAnswer();f.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:y,streamId:x,encodings:S,codecOptions:T,headerExtensionOptions:N,codec:P}){this.assertNotClosed(),this.assertSendDirection(),f.debug("send() [kind:%s, track.id:%s, streamId:%s]",y.kind,y.id,x),S&&S.length>1&&S.forEach((Z,H)=>{Z.rid=`r${H}`});const A=this._remoteSdp.getNextMediaSectionIdx(),k=this._pc.addTransceiver(y,{direction:"sendonly",streams:[this._sendStream],sendEncodings:S});let R=await this._pc.createOffer(),D=e.parse(R.sdp);D.extmapAllowMixed&&this._remoteSdp.setSessionExtmapAllowMixed();const I=[];I.push({uri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time",kind:y.kind,direction:"sendonly"});const q=zv.getLocalRtpCapabilities(D,I),z=this._getSendExtendedRtpCapabilities(q),M=n.getSendingRtpParameters(y.kind,z);M.codecs=n.reduceCodecs(M.codecs,P);const F=n.getSendingRemoteRtpParameters(y.kind,z);F.codecs=n.reduceCodecs(F.codecs,P),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:D});let B=!1;const O=(0,o.parse)((S??[{}])[0].scalabilityMode);let $;(S==null?void 0:S.length)===1&&O.spatialLayers>1&&M.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(f.debug("send() | enabling legacy simulcast for VP9 SVC"),B=!0,D=e.parse(R.sdp),$=D.media[A.idx],p.addLegacySimulcast({offerMediaObject:$,numStreams:O.spatialLayers}),R={type:"offer",sdp:e.write(D)}),f.debug("send() | calling pc.setLocalDescription() [offer:%o]",R),N!=null&&N.absCaptureTime&&($=D.media[A.idx],c.addHeaderExtension({offerMediaObject:$,headerExtensionUri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time",headerExtensionId:F.headerExtensions.find(Z=>Z.uri==="http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time").id}),R={type:"offer",sdp:e.write(D)}),await this._pc.setLocalDescription(R);const K=k.mid;if(M.mid=K,D=e.parse(this._pc.localDescription.sdp),$=D.media[A.idx],M.rtcp.cname=c.getCname({offerMediaObject:$}),M.msid=`${x??this._sendStream.id} ${y.id}`,!S)M.encodings=p.getRtpEncodings({offerMediaObject:$,codecs:M.codecs});else if(S.length===1){let Z=p.getRtpEncodings({offerMediaObject:$,codecs:M.codecs});Object.assign(Z[0],S[0]),B&&(Z=[Z[0]]),M.encodings=Z}else M.encodings=S;if(M.encodings.length>1&&(M.codecs[0].mimeType.toLowerCase()==="video/vp8"||M.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const Z of M.encodings)Z.scalabilityMode?Z.scalabilityMode=`L1T${O.temporalLayers}`:Z.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:$,reuseMid:A.reuseMid,offerRtpParameters:M,answerRtpParameters:F,codecOptions:T});const Y={type:"answer",sdp:this._remoteSdp.getSdp()};return f.debug("send() | calling pc.setRemoteDescription() [answer:%o]",Y),await this._pc.setRemoteDescription(Y),this._mapMidTransceiver.set(K,k),{localId:K,rtpParameters:M,rtpSender:k.sender}}async stopSending(y){if(this.assertSendDirection(),f.debug("stopSending() [localId:%s]",y),this._closed)return;const x=this._mapMidTransceiver.get(y);if(!x)throw new Error("associated RTCRtpTransceiver not found");if(x.sender.replaceTrack(null),this._pc.removeTrack(x.sender),this._remoteSdp.closeMediaSection(x.mid))try{x.stop()}catch{}const T=await this._pc.createOffer();f.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",T),await this._pc.setLocalDescription(T);const N={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",N),await this._pc.setRemoteDescription(N),this._mapMidTransceiver.delete(y)}async pauseSending(y){this.assertNotClosed(),this.assertSendDirection(),f.debug("pauseSending() [localId:%s]",y);const x=this._mapMidTransceiver.get(y);if(!x)throw new Error("associated RTCRtpTransceiver not found");x.direction="inactive",this._remoteSdp.pauseMediaSection(y);const S=await this._pc.createOffer();f.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",S),await this._pc.setLocalDescription(S);const T={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",T),await this._pc.setRemoteDescription(T)}async resumeSending(y){this.assertNotClosed(),this.assertSendDirection(),f.debug("resumeSending() [localId:%s]",y);const x=this._mapMidTransceiver.get(y);if(this._remoteSdp.resumeSendingMediaSection(y),!x)throw new Error("associated RTCRtpTransceiver not found");x.direction="sendonly";const S=await this._pc.createOffer();f.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",S),await this._pc.setLocalDescription(S);const T={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",T),await this._pc.setRemoteDescription(T)}async replaceTrack(y,x){this.assertNotClosed(),this.assertSendDirection(),x?f.debug("replaceTrack() [localId:%s, track.id:%s]",y,x.id):f.debug("replaceTrack() [localId:%s, no track]",y);const S=this._mapMidTransceiver.get(y);if(!S)throw new Error("associated RTCRtpTransceiver not found");await S.sender.replaceTrack(x)}async setMaxSpatialLayer(y,x){this.assertNotClosed(),this.assertSendDirection(),f.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",y,x);const S=this._mapMidTransceiver.get(y);if(!S)throw new Error("associated RTCRtpTransceiver not found");const T=S.sender.getParameters();T.encodings.forEach((A,k)=>{k<=x?A.active=!0:A.active=!1}),await S.sender.setParameters(T),this._remoteSdp.muxMediaSectionSimulcast(y,T.encodings);const N=await this._pc.createOffer();f.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",N),await this._pc.setLocalDescription(N);const P={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",P),await this._pc.setRemoteDescription(P)}async setRtpEncodingParameters(y,x){this.assertNotClosed(),this.assertSendDirection(),f.debug("setRtpEncodingParameters() [localId:%s, params:%o]",y,x);const S=this._mapMidTransceiver.get(y);if(!S)throw new Error("associated RTCRtpTransceiver not found");const T=S.sender.getParameters();T.encodings.forEach((A,k)=>{T.encodings[k]={...A,...x}}),await S.sender.setParameters(T),this._remoteSdp.muxMediaSectionSimulcast(y,T.encodings);const N=await this._pc.createOffer();f.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",N),await this._pc.setLocalDescription(N);const P={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",P),await this._pc.setRemoteDescription(P)}async getSenderStats(y){this.assertNotClosed(),this.assertSendDirection();const x=this._mapMidTransceiver.get(y);if(!x)throw new Error("associated RTCRtpTransceiver not found");return x.sender.getStats()}async sendDataChannel({ordered:y,maxPacketLifeTime:x,maxRetransmits:S,label:T,protocol:N}){this.assertNotClosed(),this.assertSendDirection();const P={negotiated:!0,id:this._nextSendSctpStreamId,ordered:y,maxPacketLifeTime:x,maxRetransmits:S,protocol:N};f.debug("sendDataChannel() [options:%o]",P);const A=this._pc.createDataChannel(T,P);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%b.MIS,!this._hasDataChannelMediaSection){const R=await this._pc.createOffer(),D=e.parse(R.sdp),I=D.media.find(z=>z.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:D}),f.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",R),await this._pc.setLocalDescription(R),this._remoteSdp.sendSctpAssociation({offerMediaObject:I});const q={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",q),await this._pc.setRemoteDescription(q),this._hasDataChannelMediaSection=!0}const k={streamId:P.id,ordered:P.ordered,maxPacketLifeTime:P.maxPacketLifeTime,maxRetransmits:P.maxRetransmits};return{dataChannel:A,sctpStreamParameters:k}}async receive(y){var A;this.assertNotClosed(),this.assertRecvDirection();const x=[],S=new Map;for(const k of y){const{trackId:R,kind:D,rtpParameters:I,streamId:q}=k;f.debug("receive() [trackId:%s, kind:%s]",R,D);const z=I.mid??String(this._mapMidTransceiver.size);S.set(R,z);const{msidStreamId:M}=h.getMsidStreamIdAndTrackId(I.msid);this._remoteSdp.receive({mid:z,kind:D,offerRtpParameters:I,streamId:q??M??((A=I.rtcp)==null?void 0:A.cname)??"-",trackId:R})}const T={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",T),await this._pc.setRemoteDescription(T);let N=await this._pc.createAnswer();const P=e.parse(N.sdp);for(const k of y){const{trackId:R,rtpParameters:D}=k,I=S.get(R),q=P.media.find(z=>String(z.mid)===I);c.applyCodecParameters({offerRtpParameters:D,answerMediaObject:q})}N={type:"answer",sdp:e.write(P)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:P}),f.debug("receive() | calling pc.setLocalDescription() [answer:%o]",N),await this._pc.setLocalDescription(N);for(const k of y){const{trackId:R}=k,D=S.get(R),I=this._pc.getTransceivers().find(q=>q.mid===D);if(I)this._mapMidTransceiver.set(D,I),x.push({localId:D,track:I.receiver.track,rtpReceiver:I.receiver});else throw new Error("new RTCRtpTransceiver not found")}return x}async stopReceiving(y){if(this.assertRecvDirection(),this._closed)return;for(const T of y){f.debug("stopReceiving() [localId:%s]",T);const N=this._mapMidTransceiver.get(T);if(!N)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(N.mid)}const x={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);const S=await this._pc.createAnswer();f.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S);for(const T of y)this._mapMidTransceiver.delete(T)}async pauseReceiving(y){this.assertNotClosed(),this.assertRecvDirection();for(const T of y){f.debug("pauseReceiving() [localId:%s]",T);const N=this._mapMidTransceiver.get(T);if(!N)throw new Error("associated RTCRtpTransceiver not found");N.direction="inactive",this._remoteSdp.pauseMediaSection(T)}const x={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);const S=await this._pc.createAnswer();f.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S)}async resumeReceiving(y){this.assertNotClosed(),this.assertRecvDirection();for(const T of y){f.debug("resumeReceiving() [localId:%s]",T);const N=this._mapMidTransceiver.get(T);if(!N)throw new Error("associated RTCRtpTransceiver not found");N.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(T)}const x={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);const S=await this._pc.createAnswer();f.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S)}async getReceiverStats(y){this.assertNotClosed(),this.assertRecvDirection();const x=this._mapMidTransceiver.get(y);if(!x)throw new Error("associated RTCRtpTransceiver not found");return x.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:y,label:x,protocol:S}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:T,ordered:N,maxPacketLifeTime:P,maxRetransmits:A}=y,k={negotiated:!0,id:T,ordered:N,maxPacketLifeTime:P,maxRetransmits:A,protocol:S};f.debug("receiveDataChannel() [options:%o]",k);const R=this._pc.createDataChannel(x,k);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const D={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",D),await this._pc.setRemoteDescription(D);const I=await this._pc.createAnswer();if(!this._transportReady){const q=e.parse(I.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:q})}f.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",I),await this._pc.setLocalDescription(I),this._hasDataChannelMediaSection=!0}return{dataChannel:R}}async setupTransport({localDtlsRole:y,localSdpObject:x}){x||(x=e.parse(this._pc.localDescription.sdp));const S=c.extractDtlsParameters({sdpObject:x});S.role=y,this._remoteSdp.updateDtlsRole(y==="client"?"server":"client"),await new Promise((T,N)=>{this.safeEmit("@connect",{dtlsParameters:S},T,N)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new a.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return zp.Chrome74=_,zp}var Fp={},X4;function vEe(){if(X4)return Fp;X4=1,Object.defineProperty(Fp,"__esModule",{value:!0}),Fp.Firefox120=void 0;const e=Jl(),t=Ha(),r=wa(),n=Xi(),a=Wo(),o=vf(),u=xm(),c=wm(),p=Sm(),h=jm(),f=new r.Logger("Firefox120"),m="Firefox120",b={OS:16,MIS:2048};let _=class Fv extends t.EnhancedEventEmitter{constructor({direction:y,iceParameters:x,iceCandidates:S,dtlsParameters:T,sctpParameters:N,iceServers:P,iceTransportPolicy:A,additionalSettings:k,getSendExtendedRtpCapabilities:R}){super();V(this,"_closed",!1);V(this,"_direction");V(this,"_remoteSdp");V(this,"_getSendExtendedRtpCapabilities");V(this,"_pc");V(this,"_mapMidTransceiver",new Map);V(this,"_sendStream",new MediaStream);V(this,"_hasDataChannelMediaSection",!1);V(this,"_nextSendSctpStreamId",0);V(this,"_transportReady",!1);V(this,"onIceGatheringStateChange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)});V(this,"onIceCandidateError",y=>{this.emit("@icecandidateerror",y)});V(this,"onConnectionStateChange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)});V(this,"onIceConnectionStateChange",()=>{switch(this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}});f.debug("constructor()"),this._direction=y,this._remoteSdp=new u.RemoteSdp({iceParameters:x,iceCandidates:S,dtlsParameters:T,sctpParameters:N}),this._getSendExtendedRtpCapabilities=R,this._pc=new RTCPeerConnection({iceServers:P??[],iceTransportPolicy:A??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...k}),this._pc.addEventListener("icegatheringstatechange",this.onIceGatheringStateChange),this._pc.addEventListener("icecandidateerror",this.onIceCandidateError),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",this.onConnectionStateChange):(f.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",this.onIceConnectionStateChange))}static createFactory(){return{name:m,factory:y=>new Fv(y),getNativeRtpCapabilities:async()=>{f.debug("getNativeRtpCapabilities()");let y=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});const x=document.createElement("canvas");x.getContext("2d");const T=x.captureStream().getVideoTracks()[0];try{y.addTransceiver("audio",{direction:"sendrecv"}),y.addTransceiver(T,{direction:"sendrecv",sendEncodings:[{rid:"r0",maxBitrate:1e5},{rid:"r1",maxBitrate:5e5}]});const N=await y.createOffer();try{x.remove()}catch{}try{T.stop()}catch{}try{y.close()}catch{}y=void 0;const P=e.parse(N.sdp);return Fv.getLocalRtpCapabilities(P)}catch(N){try{x.remove()}catch{}try{T.stop()}catch{}try{y==null||y.close()}catch{}throw y=void 0,N}},getNativeSctpCapabilities:async()=>(f.debug("getNativeSctpCapabilities()"),{numStreams:b})}}static getLocalRtpCapabilities(y){const x=c.extractRtpCapabilities({sdpObject:y});return a.validateAndNormalizeRtpCapabilities(x),x}get name(){return m}close(){if(f.debug("close()"),!this._closed){this._closed=!0;try{this._pc.close()}catch{}this._pc.removeEventListener("icegatheringstatechange",this.onIceGatheringStateChange),this._pc.removeEventListener("icecandidateerror",this.onIceCandidateError),this._pc.removeEventListener("connectionstatechange",this.onConnectionStateChange),this._pc.removeEventListener("iceconnectionstatechange",this.onIceConnectionStateChange),this.emit("@close"),super.close()}}async updateIceServers(y){throw this.assertNotClosed(),new n.UnsupportedError("not supported")}async restartIce(y){if(this.assertNotClosed(),f.debug("restartIce()"),this._remoteSdp.updateIceParameters(y),!!this._transportReady)if(this._direction==="send"){const x=await this._pc.createOffer({iceRestart:!0});f.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x);const S={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",S),await this._pc.setRemoteDescription(S)}else{const x={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);const S=await this._pc.createAnswer();f.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:y,streamId:x,encodings:S,codecOptions:T,codec:N,onRtpSender:P}){this.assertNotClosed(),this.assertSendDirection(),f.debug("send() [kind:%s, track.id:%s, streamId:%s]",y.kind,y.id,x),S&&S.length>1&&S.forEach(($,K)=>{$.rid=`r${K}`});const A=this._pc.addTransceiver(y,{direction:"sendonly",streams:[this._sendStream],sendEncodings:S});P&&P(A.sender);const k=await this._pc.createOffer();let R=e.parse(k.sdp);R.extmapAllowMixed&&this._remoteSdp.setSessionExtmapAllowMixed();const D=Fv.getLocalRtpCapabilities(R),I=this._getSendExtendedRtpCapabilities(D),q=a.getSendingRtpParameters(y.kind,I);q.codecs=a.reduceCodecs(q.codecs,N);const z=a.getSendingRemoteRtpParameters(y.kind,I);z.codecs=a.reduceCodecs(z.codecs,N),this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:R});const M=(0,o.parse)((S??[{}])[0].scalabilityMode);f.debug("send() | calling pc.setLocalDescription() [offer:%o]",k),await this._pc.setLocalDescription(k);const F=A.mid;q.mid=F,R=e.parse(this._pc.localDescription.sdp);const B=R.media[R.media.length-1];if(q.rtcp.cname=c.getCname({offerMediaObject:B}),q.msid=`${x??this._sendStream.id} ${y.id}`,!S)q.encodings=p.getRtpEncodings({offerMediaObject:B,codecs:q.codecs});else if(S.length===1){const $=p.getRtpEncodings({offerMediaObject:B,codecs:q.codecs});Object.assign($[0],S[0]),q.encodings=$}else q.encodings=S;if(q.encodings.length>1&&(q.codecs[0].mimeType.toLowerCase()==="video/vp8"||q.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const $ of q.encodings)$.scalabilityMode?$.scalabilityMode=`L1T${M.temporalLayers}`:$.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:B,offerRtpParameters:q,answerRtpParameters:z,codecOptions:T});const O={type:"answer",sdp:this._remoteSdp.getSdp()};return f.debug("send() | calling pc.setRemoteDescription() [answer:%o]",O),await this._pc.setRemoteDescription(O),this._mapMidTransceiver.set(F,A),{localId:F,rtpParameters:q,rtpSender:A.sender}}async stopSending(y){if(this.assertSendDirection(),f.debug("stopSending() [localId:%s]",y),this._closed)return;const x=this._mapMidTransceiver.get(y);if(!x)throw new Error("associated transceiver not found");x.sender.replaceTrack(null),this._pc.removeTrack(x.sender),this._remoteSdp.disableMediaSection(x.mid);const S=await this._pc.createOffer();f.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",S),await this._pc.setLocalDescription(S);const T={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",T),await this._pc.setRemoteDescription(T),this._mapMidTransceiver.delete(y)}async pauseSending(y){this.assertNotClosed(),this.assertSendDirection(),f.debug("pauseSending() [localId:%s]",y);const x=this._mapMidTransceiver.get(y);if(!x)throw new Error("associated RTCRtpTransceiver not found");x.direction="inactive",this._remoteSdp.pauseMediaSection(y);const S=await this._pc.createOffer();f.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",S),await this._pc.setLocalDescription(S);const T={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",T),await this._pc.setRemoteDescription(T)}async resumeSending(y){this.assertNotClosed(),this.assertSendDirection(),f.debug("resumeSending() [localId:%s]",y);const x=this._mapMidTransceiver.get(y);if(!x)throw new Error("associated RTCRtpTransceiver not found");x.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(y);const S=await this._pc.createOffer();f.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",S),await this._pc.setLocalDescription(S);const T={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",T),await this._pc.setRemoteDescription(T)}async replaceTrack(y,x){this.assertNotClosed(),this.assertSendDirection(),x?f.debug("replaceTrack() [localId:%s, track.id:%s]",y,x.id):f.debug("replaceTrack() [localId:%s, no track]",y);const S=this._mapMidTransceiver.get(y);if(!S)throw new Error("associated RTCRtpTransceiver not found");await S.sender.replaceTrack(x)}async setMaxSpatialLayer(y,x){this.assertNotClosed(),this.assertSendDirection(),f.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",y,x);const S=this._mapMidTransceiver.get(y);if(!S)throw new Error("associated transceiver not found");const T=S.sender.getParameters();T.encodings.forEach((A,k)=>{k<=x?A.active=!0:A.active=!1}),await S.sender.setParameters(T),this._remoteSdp.muxMediaSectionSimulcast(y,T.encodings);const N=await this._pc.createOffer();f.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",N),await this._pc.setLocalDescription(N);const P={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",P),await this._pc.setRemoteDescription(P)}async setRtpEncodingParameters(y,x){this.assertNotClosed(),this.assertSendDirection(),f.debug("setRtpEncodingParameters() [localId:%s, params:%o]",y,x);const S=this._mapMidTransceiver.get(y);if(!S)throw new Error("associated RTCRtpTransceiver not found");const T=S.sender.getParameters();T.encodings.forEach((A,k)=>{T.encodings[k]={...A,...x}}),await S.sender.setParameters(T),this._remoteSdp.muxMediaSectionSimulcast(y,T.encodings);const N=await this._pc.createOffer();f.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",N),await this._pc.setLocalDescription(N);const P={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",P),await this._pc.setRemoteDescription(P)}async getSenderStats(y){this.assertNotClosed(),this.assertSendDirection();const x=this._mapMidTransceiver.get(y);if(!x)throw new Error("associated RTCRtpTransceiver not found");return x.sender.getStats()}async sendDataChannel({ordered:y,maxPacketLifeTime:x,maxRetransmits:S,label:T,protocol:N}){this.assertNotClosed(),this.assertSendDirection();const P={negotiated:!0,id:this._nextSendSctpStreamId,ordered:y,maxPacketLifeTime:x,maxRetransmits:S,protocol:N};f.debug("sendDataChannel() [options:%o]",P);const A=this._pc.createDataChannel(T,P);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%b.MIS,!this._hasDataChannelMediaSection){const R=await this._pc.createOffer(),D=e.parse(R.sdp),I=D.media.find(z=>z.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:D}),f.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",R),await this._pc.setLocalDescription(R),this._remoteSdp.sendSctpAssociation({offerMediaObject:I});const q={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",q),await this._pc.setRemoteDescription(q),this._hasDataChannelMediaSection=!0}const k={streamId:P.id,ordered:P.ordered,maxPacketLifeTime:P.maxPacketLifeTime,maxRetransmits:P.maxRetransmits};return{dataChannel:A,sctpStreamParameters:k}}async receive(y){var A;this.assertNotClosed(),this.assertRecvDirection();const x=[],S=new Map;for(const k of y){const{trackId:R,kind:D,rtpParameters:I,streamId:q}=k;f.debug("receive() [trackId:%s, kind:%s]",R,D);const z=I.mid??String(this._mapMidTransceiver.size);S.set(R,z);const{msidStreamId:M}=h.getMsidStreamIdAndTrackId(I.msid);this._remoteSdp.receive({mid:z,kind:D,offerRtpParameters:I,streamId:q??M??((A=I.rtcp)==null?void 0:A.cname)??"-",trackId:R})}const T={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",T),await this._pc.setRemoteDescription(T);for(const k of y){const{trackId:R,onRtpReceiver:D}=k;if(D){const I=S.get(R),q=this._pc.getTransceivers().find(z=>z.mid===I);if(!q)throw new Error("transceiver not found");D(q.receiver)}}let N=await this._pc.createAnswer();const P=e.parse(N.sdp);for(const k of y){const{trackId:R,rtpParameters:D}=k,I=S.get(R),q=P.media.find(z=>String(z.mid)===I);c.applyCodecParameters({offerRtpParameters:D,answerMediaObject:q}),N={type:"answer",sdp:e.write(P)}}this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:P}),f.debug("receive() | calling pc.setLocalDescription() [answer:%o]",N),await this._pc.setLocalDescription(N);for(const k of y){const{trackId:R}=k,D=S.get(R),I=this._pc.getTransceivers().find(q=>q.mid===D);if(!I)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(D,I),x.push({localId:D,track:I.receiver.track,rtpReceiver:I.receiver})}return x}async stopReceiving(y){if(this.assertRecvDirection(),this._closed)return;for(const T of y){f.debug("stopReceiving() [localId:%s]",T);const N=this._mapMidTransceiver.get(T);if(!N)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(N.mid)}const x={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);const S=await this._pc.createAnswer();f.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S);for(const T of y)this._mapMidTransceiver.delete(T)}async pauseReceiving(y){this.assertNotClosed(),this.assertRecvDirection();for(const T of y){f.debug("pauseReceiving() [localId:%s]",T);const N=this._mapMidTransceiver.get(T);if(!N)throw new Error("associated RTCRtpTransceiver not found");N.direction="inactive",this._remoteSdp.pauseMediaSection(T)}const x={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);const S=await this._pc.createAnswer();f.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S)}async resumeReceiving(y){this.assertNotClosed(),this.assertRecvDirection();for(const T of y){f.debug("resumeReceiving() [localId:%s]",T);const N=this._mapMidTransceiver.get(T);if(!N)throw new Error("associated RTCRtpTransceiver not found");N.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(T)}const x={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);const S=await this._pc.createAnswer();f.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S)}async getReceiverStats(y){this.assertRecvDirection();const x=this._mapMidTransceiver.get(y);if(!x)throw new Error("associated RTCRtpTransceiver not found");return x.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:y,label:x,protocol:S}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:T,ordered:N,maxPacketLifeTime:P,maxRetransmits:A}=y,k={negotiated:!0,id:T,ordered:N,maxPacketLifeTime:P,maxRetransmits:A,protocol:S};f.debug("receiveDataChannel() [options:%o]",k);const R=this._pc.createDataChannel(x,k);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const D={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",D),await this._pc.setRemoteDescription(D);const I=await this._pc.createAnswer();if(!this._transportReady){const q=e.parse(I.sdp);await this.setupTransport({localDtlsRole:"client",localSdpObject:q})}f.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",I),await this._pc.setLocalDescription(I),this._hasDataChannelMediaSection=!0}return{dataChannel:R}}async setupTransport({localDtlsRole:y,localSdpObject:x}){x||(x=e.parse(this._pc.localDescription.sdp));const S=c.extractDtlsParameters({sdpObject:x});S.role=y,this._remoteSdp.updateDtlsRole(y==="client"?"server":"client"),await new Promise((T,N)=>{this.safeEmit("@connect",{dtlsParameters:S},T,N)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new n.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return Fp.Firefox120=_,Fp}var qp={},Z4;function yEe(){if(Z4)return qp;Z4=1,Object.defineProperty(qp,"__esModule",{value:!0}),qp.Safari12=void 0;const e=Jl(),t=Ha(),r=wa(),n=Wo(),a=Xi(),o=vf(),u=xm(),c=wm(),p=Sm(),h=jm(),f=new r.Logger("Safari12"),m="Safari12",b={OS:1024,MIS:1024};let _=class qv extends t.EnhancedEventEmitter{constructor({direction:y,iceParameters:x,iceCandidates:S,dtlsParameters:T,sctpParameters:N,iceServers:P,iceTransportPolicy:A,additionalSettings:k,getSendExtendedRtpCapabilities:R}){super();V(this,"_closed",!1);V(this,"_direction");V(this,"_remoteSdp");V(this,"_getSendExtendedRtpCapabilities");V(this,"_forcedLocalDtlsRole");V(this,"_pc");V(this,"_mapMidTransceiver",new Map);V(this,"_sendStream",new MediaStream);V(this,"_hasDataChannelMediaSection",!1);V(this,"_nextSendSctpStreamId",0);V(this,"_transportReady",!1);V(this,"onIceGatheringStateChange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)});V(this,"onIceCandidateError",y=>{this.emit("@icecandidateerror",y)});V(this,"onConnectionStateChange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)});V(this,"onIceConnectionStateChange",()=>{switch(this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}});f.debug("constructor()"),this._direction=y,this._remoteSdp=new u.RemoteSdp({iceParameters:x,iceCandidates:S,dtlsParameters:T,sctpParameters:N}),this._getSendExtendedRtpCapabilities=R,T.role&&T.role!=="auto"&&(this._forcedLocalDtlsRole=T.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:P??[],iceTransportPolicy:A??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...k}),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.addEventListener("icecandidateerror",D=>{this.emit("@icecandidateerror",D)}),this._pc.addEventListener("icegatheringstatechange",this.onIceGatheringStateChange),this._pc.addEventListener("icecandidateerror",this.onIceCandidateError),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",this.onConnectionStateChange):(f.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",this.onIceConnectionStateChange))}static createFactory(){return{name:m,factory:y=>new qv(y),getNativeRtpCapabilities:async()=>{f.debug("getNativeRtpCapabilities()");let y=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});try{y.addTransceiver("audio"),y.addTransceiver("video");const x=await y.createOffer();try{y.close()}catch{}y=void 0;const S=e.parse(x.sdp);return qv.getLocalRtpCapabilities(S)}catch(x){try{y==null||y.close()}catch{}throw y=void 0,x}},getNativeSctpCapabilities:async()=>(f.debug("getNativeSctpCapabilities()"),{numStreams:b})}}static getLocalRtpCapabilities(y,x=[]){const S=c.extractRtpCapabilities({sdpObject:y});n.validateAndNormalizeRtpCapabilities(S),h.addNackSupportForOpus(S);for(const T of x)h.addHeaderExtensionSupport(S,T);return S}get name(){return m}close(){if(f.debug("close()"),!this._closed){this._closed=!0;try{this._pc.close()}catch{}this._pc.removeEventListener("icegatheringstatechange",this.onIceGatheringStateChange),this._pc.removeEventListener("icecandidateerror",this.onIceCandidateError),this._pc.removeEventListener("connectionstatechange",this.onConnectionStateChange),this._pc.removeEventListener("iceconnectionstatechange",this.onIceConnectionStateChange),this.emit("@close"),super.close()}}async updateIceServers(y){this.assertNotClosed(),f.debug("updateIceServers()");const x=this._pc.getConfiguration();x.iceServers=y,this._pc.setConfiguration(x)}async restartIce(y){if(this.assertNotClosed(),f.debug("restartIce()"),this._remoteSdp.updateIceParameters(y),!!this._transportReady)if(this._direction==="send"){const x=await this._pc.createOffer({iceRestart:!0});f.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x);const S={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",S),await this._pc.setRemoteDescription(S)}else{const x={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);const S=await this._pc.createAnswer();f.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:y,streamId:x,encodings:S,codecOptions:T,headerExtensionOptions:N,codec:P,onRtpSender:A}){this.assertNotClosed(),this.assertSendDirection(),f.debug("send() [kind:%s, track.id:%s, streamId:%s]",y.kind,y.id,x);const k=this._remoteSdp.getNextMediaSectionIdx(),R=this._pc.addTransceiver(y,{direction:"sendonly",streams:[this._sendStream]});A&&A(R.sender);let D=await this._pc.createOffer(),I=e.parse(D.sdp);I.extmapAllowMixed&&this._remoteSdp.setSessionExtmapAllowMixed();const q=[];q.push({uri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time",kind:y.kind,direction:"sendonly"});const z=qv.getLocalRtpCapabilities(I,q),M=this._getSendExtendedRtpCapabilities(z),F=n.getSendingRtpParameters(y.kind,M);F.codecs=n.reduceCodecs(F.codecs,P);const B=n.getSendingRemoteRtpParameters(y.kind,M);B.codecs=n.reduceCodecs(B.codecs,P);let O;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:I});const $=(0,o.parse)((S??[{}])[0].scalabilityMode);S&&S.length>1&&(f.debug("send() | enabling legacy simulcast"),I=e.parse(D.sdp),O=I.media[k.idx],p.addLegacySimulcast({offerMediaObject:O,numStreams:S.length}),D={type:"offer",sdp:e.write(I)}),N!=null&&N.absCaptureTime&&(O=I.media[k.idx],c.addHeaderExtension({offerMediaObject:O,headerExtensionUri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time",headerExtensionId:B.headerExtensions.find(Z=>Z.uri==="http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time").id}),D={type:"offer",sdp:e.write(I)}),f.debug("send() | calling pc.setLocalDescription() [offer:%o]",D),await this._pc.setLocalDescription(D);const K=R.mid;if(F.mid=K,I=e.parse(this._pc.localDescription.sdp),O=I.media[k.idx],F.rtcp.cname=c.getCname({offerMediaObject:O}),F.msid=`${x??this._sendStream.id} ${y.id}`,F.encodings=p.getRtpEncodings({offerMediaObject:O,codecs:F.codecs}),S)for(let Z=0;Z<F.encodings.length;++Z)S[Z]&&Object.assign(F.encodings[Z],S[Z]);if(F.encodings.length>1&&(F.codecs[0].mimeType.toLowerCase()==="video/vp8"||F.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const Z of F.encodings)Z.scalabilityMode?Z.scalabilityMode=`L1T${$.temporalLayers}`:Z.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:O,reuseMid:k.reuseMid,offerRtpParameters:F,answerRtpParameters:B,codecOptions:T});const Y={type:"answer",sdp:this._remoteSdp.getSdp()};return f.debug("send() | calling pc.setRemoteDescription() [answer:%o]",Y),await this._pc.setRemoteDescription(Y),this._mapMidTransceiver.set(K,R),{localId:K,rtpParameters:F,rtpSender:R.sender}}async stopSending(y){if(this.assertSendDirection(),this._closed)return;f.debug("stopSending() [localId:%s]",y);const x=this._mapMidTransceiver.get(y);if(!x)throw new Error("associated RTCRtpTransceiver not found");if(x.sender.replaceTrack(null),this._pc.removeTrack(x.sender),this._remoteSdp.closeMediaSection(x.mid))try{x.stop()}catch{}const T=await this._pc.createOffer();f.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",T),await this._pc.setLocalDescription(T);const N={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",N),await this._pc.setRemoteDescription(N),this._mapMidTransceiver.delete(y)}async pauseSending(y){this.assertNotClosed(),this.assertSendDirection(),f.debug("pauseSending() [localId:%s]",y);const x=this._mapMidTransceiver.get(y);if(!x)throw new Error("associated RTCRtpTransceiver not found");x.direction="inactive",this._remoteSdp.pauseMediaSection(y);const S=await this._pc.createOffer();f.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",S),await this._pc.setLocalDescription(S);const T={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",T),await this._pc.setRemoteDescription(T)}async resumeSending(y){this.assertNotClosed(),this.assertSendDirection(),f.debug("resumeSending() [localId:%s]",y);const x=this._mapMidTransceiver.get(y);if(!x)throw new Error("associated RTCRtpTransceiver not found");x.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(y);const S=await this._pc.createOffer();f.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",S),await this._pc.setLocalDescription(S);const T={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",T),await this._pc.setRemoteDescription(T)}async replaceTrack(y,x){this.assertNotClosed(),this.assertSendDirection(),x?f.debug("replaceTrack() [localId:%s, track.id:%s]",y,x.id):f.debug("replaceTrack() [localId:%s, no track]",y);const S=this._mapMidTransceiver.get(y);if(!S)throw new Error("associated RTCRtpTransceiver not found");await S.sender.replaceTrack(x)}async setMaxSpatialLayer(y,x){this.assertNotClosed(),this.assertSendDirection(),f.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",y,x);const S=this._mapMidTransceiver.get(y);if(!S)throw new Error("associated RTCRtpTransceiver not found");const T=S.sender.getParameters();T.encodings.forEach((A,k)=>{k<=x?A.active=!0:A.active=!1}),await S.sender.setParameters(T),this._remoteSdp.muxMediaSectionSimulcast(y,T.encodings);const N=await this._pc.createOffer();f.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",N),await this._pc.setLocalDescription(N);const P={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",P),await this._pc.setRemoteDescription(P)}async setRtpEncodingParameters(y,x){this.assertNotClosed(),this.assertSendDirection(),f.debug("setRtpEncodingParameters() [localId:%s, params:%o]",y,x);const S=this._mapMidTransceiver.get(y);if(!S)throw new Error("associated RTCRtpTransceiver not found");const T=S.sender.getParameters();T.encodings.forEach((A,k)=>{T.encodings[k]={...A,...x}}),await S.sender.setParameters(T),this._remoteSdp.muxMediaSectionSimulcast(y,T.encodings);const N=await this._pc.createOffer();f.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",N),await this._pc.setLocalDescription(N);const P={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",P),await this._pc.setRemoteDescription(P)}async getSenderStats(y){this.assertNotClosed(),this.assertSendDirection();const x=this._mapMidTransceiver.get(y);if(!x)throw new Error("associated RTCRtpTransceiver not found");return x.sender.getStats()}async sendDataChannel({ordered:y,maxPacketLifeTime:x,maxRetransmits:S,label:T,protocol:N}){this.assertNotClosed(),this.assertSendDirection();const P={negotiated:!0,id:this._nextSendSctpStreamId,ordered:y,maxPacketLifeTime:x,maxRetransmits:S,protocol:N};f.debug("sendDataChannel() [options:%o]",P);const A=this._pc.createDataChannel(T,P);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%b.MIS,!this._hasDataChannelMediaSection){const R=await this._pc.createOffer(),D=e.parse(R.sdp),I=D.media.find(z=>z.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:D}),f.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",R),await this._pc.setLocalDescription(R),this._remoteSdp.sendSctpAssociation({offerMediaObject:I});const q={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",q),await this._pc.setRemoteDescription(q),this._hasDataChannelMediaSection=!0}const k={streamId:P.id,ordered:P.ordered,maxPacketLifeTime:P.maxPacketLifeTime,maxRetransmits:P.maxRetransmits};return{dataChannel:A,sctpStreamParameters:k}}async receive(y){var A;this.assertNotClosed(),this.assertRecvDirection();const x=[],S=new Map;for(const k of y){const{trackId:R,kind:D,rtpParameters:I,streamId:q}=k;f.debug("receive() [trackId:%s, kind:%s]",R,D);const z=I.mid??String(this._mapMidTransceiver.size);S.set(R,z);const{msidStreamId:M}=h.getMsidStreamIdAndTrackId(I.msid);this._remoteSdp.receive({mid:z,kind:D,offerRtpParameters:I,streamId:q??M??((A=I.rtcp)==null?void 0:A.cname)??"-",trackId:R})}const T={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",T),await this._pc.setRemoteDescription(T);for(const k of y){const{trackId:R,onRtpReceiver:D}=k;if(D){const I=S.get(R),q=this._pc.getTransceivers().find(z=>z.mid===I);if(!q)throw new Error("transceiver not found");D(q.receiver)}}let N=await this._pc.createAnswer();const P=e.parse(N.sdp);for(const k of y){const{trackId:R,rtpParameters:D}=k,I=S.get(R),q=P.media.find(z=>String(z.mid)===I);c.applyCodecParameters({offerRtpParameters:D,answerMediaObject:q})}N={type:"answer",sdp:e.write(P)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:P}),f.debug("receive() | calling pc.setLocalDescription() [answer:%o]",N),await this._pc.setLocalDescription(N);for(const k of y){const{trackId:R}=k,D=S.get(R),I=this._pc.getTransceivers().find(q=>q.mid===D);if(!I)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(D,I),x.push({localId:D,track:I.receiver.track,rtpReceiver:I.receiver})}return x}async stopReceiving(y){if(this.assertRecvDirection(),this._closed)return;for(const T of y){f.debug("stopReceiving() [localId:%s]",T);const N=this._mapMidTransceiver.get(T);if(!N)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(N.mid)}const x={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);const S=await this._pc.createAnswer();f.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S);for(const T of y)this._mapMidTransceiver.delete(T)}async pauseReceiving(y){this.assertNotClosed(),this.assertRecvDirection();for(const T of y){f.debug("pauseReceiving() [localId:%s]",T);const N=this._mapMidTransceiver.get(T);if(!N)throw new Error("associated RTCRtpTransceiver not found");N.direction="inactive",this._remoteSdp.pauseMediaSection(T)}const x={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);const S=await this._pc.createAnswer();f.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S)}async resumeReceiving(y){this.assertNotClosed(),this.assertRecvDirection();for(const T of y){f.debug("resumeReceiving() [localId:%s]",T);const N=this._mapMidTransceiver.get(T);if(!N)throw new Error("associated RTCRtpTransceiver not found");N.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(T)}const x={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);const S=await this._pc.createAnswer();f.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S)}async getReceiverStats(y){this.assertNotClosed(),this.assertRecvDirection();const x=this._mapMidTransceiver.get(y);if(!x)throw new Error("associated RTCRtpTransceiver not found");return x.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:y,label:x,protocol:S}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:T,ordered:N,maxPacketLifeTime:P,maxRetransmits:A}=y,k={negotiated:!0,id:T,ordered:N,maxPacketLifeTime:P,maxRetransmits:A,protocol:S};f.debug("receiveDataChannel() [options:%o]",k);const R=this._pc.createDataChannel(x,k);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const D={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",D),await this._pc.setRemoteDescription(D);const I=await this._pc.createAnswer();if(!this._transportReady){const q=e.parse(I.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:q})}f.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",I),await this._pc.setLocalDescription(I),this._hasDataChannelMediaSection=!0}return{dataChannel:R}}async setupTransport({localDtlsRole:y,localSdpObject:x}){x||(x=e.parse(this._pc.localDescription.sdp));const S=c.extractDtlsParameters({sdpObject:x});S.role=y,this._remoteSdp.updateDtlsRole(y==="client"?"server":"client"),await new Promise((T,N)=>{this.safeEmit("@connect",{dtlsParameters:S},T,N)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new a.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return qp.Safari12=_,qp}var Up={},J4;function bEe(){if(J4)return Up;J4=1,Object.defineProperty(Up,"__esModule",{value:!0}),Up.ReactNative106=void 0;const e=Jl(),t=Ha(),r=wa(),n=Wo(),a=Xi(),o=vf(),u=xm(),c=wm(),p=Sm(),h=jm(),f=new r.Logger("ReactNative106"),m="ReactNative106",b={OS:1024,MIS:1024};let _=class Uv extends t.EnhancedEventEmitter{constructor({direction:y,iceParameters:x,iceCandidates:S,dtlsParameters:T,sctpParameters:N,iceServers:P,iceTransportPolicy:A,additionalSettings:k,getSendExtendedRtpCapabilities:R}){super();V(this,"_closed",!1);V(this,"_direction");V(this,"_remoteSdp");V(this,"_getSendExtendedRtpCapabilities");V(this,"_forcedLocalDtlsRole");V(this,"_pc");V(this,"_mapMidTransceiver",new Map);V(this,"_sendStream",new MediaStream);V(this,"_hasDataChannelMediaSection",!1);V(this,"_nextSendSctpStreamId",0);V(this,"_transportReady",!1);V(this,"onIceGatheringStateChange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)});V(this,"onIceCandidateError",y=>{this.emit("@icecandidateerror",y)});V(this,"onConnectionStateChange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)});V(this,"onIceConnectionStateChange",()=>{switch(this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}});f.debug("constructor()"),this._direction=y,this._remoteSdp=new u.RemoteSdp({iceParameters:x,iceCandidates:S,dtlsParameters:T,sctpParameters:N}),this._getSendExtendedRtpCapabilities=R,T.role&&T.role!=="auto"&&(this._forcedLocalDtlsRole=T.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:P??[],iceTransportPolicy:A??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...k}),this._pc.addEventListener("icegatheringstatechange",this.onIceGatheringStateChange),this._pc.addEventListener("icecandidateerror",this.onIceCandidateError),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",this.onConnectionStateChange):(f.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",this.onIceConnectionStateChange))}static createFactory(){return{name:m,factory:y=>new Uv(y),getNativeRtpCapabilities:async()=>{f.debug("getNativeRtpCapabilities()");let y=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});try{y.addTransceiver("audio"),y.addTransceiver("video");const x=await y.createOffer();try{y.close()}catch{}y=void 0;const S=e.parse(x.sdp);return Uv.getLocalRtpCapabilities(S)}catch(x){try{y==null||y.close()}catch{}throw y=void 0,x}},getNativeSctpCapabilities:async()=>(f.debug("getNativeSctpCapabilities()"),{numStreams:b})}}static getLocalRtpCapabilities(y,x=[]){const S=c.extractRtpCapabilities({sdpObject:y});n.validateAndNormalizeRtpCapabilities(S),h.addNackSupportForOpus(S);for(const T of x)h.addHeaderExtensionSupport(S,T);return S}get name(){return m}close(){if(f.debug("close()"),!this._closed){this._closed=!0,this._sendStream.release(!1);try{this._pc.close()}catch{}this._pc.removeEventListener("icegatheringstatechange",this.onIceGatheringStateChange),this._pc.removeEventListener("icecandidateerror",this.onIceCandidateError),this._pc.removeEventListener("connectionstatechange",this.onConnectionStateChange),this._pc.removeEventListener("iceconnectionstatechange",this.onIceConnectionStateChange),this.emit("@close"),super.close()}}async updateIceServers(y){this.assertNotClosed(),f.debug("updateIceServers()");const x=this._pc.getConfiguration();x.iceServers=y,this._pc.setConfiguration(x)}async restartIce(y){if(this.assertNotClosed(),f.debug("restartIce()"),this._remoteSdp.updateIceParameters(y),!!this._transportReady)if(this._direction==="send"){const x=await this._pc.createOffer({iceRestart:!0});f.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x);const S={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",S),await this._pc.setRemoteDescription(S)}else{const x={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);const S=await this._pc.createAnswer();f.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:y,streamId:x,encodings:S,codecOptions:T,headerExtensionOptions:N,codec:P,onRtpSender:A}){this.assertNotClosed(),this.assertSendDirection(),f.debug("send() [kind:%s, track.id:%s, streamId:%s]",y.kind,y.id,x),S&&S.length>1&&S.forEach((H,X)=>{H.rid=`r${X}`});const k=this._remoteSdp.getNextMediaSectionIdx(),R=this._pc.addTransceiver(y,{direction:"sendonly",streams:[this._sendStream],sendEncodings:S});A&&A(R.sender);let D=await this._pc.createOffer(),I=e.parse(D.sdp);I.extmapAllowMixed&&this._remoteSdp.setSessionExtmapAllowMixed();const q=[];q.push({uri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time",kind:y.kind,direction:"sendonly"});const z=Uv.getLocalRtpCapabilities(I,q),M=this._getSendExtendedRtpCapabilities(z),F=n.getSendingRtpParameters(y.kind,M);F.codecs=n.reduceCodecs(F.codecs,P);const B=n.getSendingRemoteRtpParameters(y.kind,M);B.codecs=n.reduceCodecs(B.codecs,P),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:I});let O=!1;const $=(0,o.parse)((S??[{}])[0].scalabilityMode);let K;(S==null?void 0:S.length)===1&&$.spatialLayers>1&&F.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(f.debug("send() | enabling legacy simulcast for VP9 SVC"),O=!0,I=e.parse(D.sdp),K=I.media[k.idx],p.addLegacySimulcast({offerMediaObject:K,numStreams:$.spatialLayers}),D={type:"offer",sdp:e.write(I)}),N!=null&&N.absCaptureTime&&(K=I.media[k.idx],c.addHeaderExtension({offerMediaObject:K,headerExtensionUri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time",headerExtensionId:B.headerExtensions.find(H=>H.uri==="http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time").id}),D={type:"offer",sdp:e.write(I)}),f.debug("send() | calling pc.setLocalDescription() [offer:%o]",D),await this._pc.setLocalDescription(D);let Y=R.mid??void 0;if(Y||f.warn("send() | missing transceiver.mid (bug in react-native-webrtc, using a workaround"),F.mid=Y,I=e.parse(this._pc.localDescription.sdp),K=I.media[k.idx],F.rtcp.cname=c.getCname({offerMediaObject:K}),F.msid=`${x??this._sendStream.id} ${y.id}`,!S)F.encodings=p.getRtpEncodings({offerMediaObject:K,codecs:F.codecs});else if(S.length===1){let H=p.getRtpEncodings({offerMediaObject:K,codecs:F.codecs});Object.assign(H[0],S[0]),O&&(H=[H[0]]),F.encodings=H}else F.encodings=S;if(F.encodings.length>1&&(F.codecs[0].mimeType.toLowerCase()==="video/vp8"||F.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const H of F.encodings)H.scalabilityMode?H.scalabilityMode=`L1T${$.temporalLayers}`:H.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:K,reuseMid:k.reuseMid,offerRtpParameters:F,answerRtpParameters:B,codecOptions:T});const Z={type:"answer",sdp:this._remoteSdp.getSdp()};return f.debug("send() | calling pc.setRemoteDescription() [answer:%o]",Z),await this._pc.setRemoteDescription(Z),Y||(Y=R.mid,F.mid=Y),this._mapMidTransceiver.set(Y,R),{localId:Y,rtpParameters:F,rtpSender:R.sender}}async stopSending(y){if(this.assertSendDirection(),this._closed)return;f.debug("stopSending() [localId:%s]",y);const x=this._mapMidTransceiver.get(y);if(!x)throw new Error("associated RTCRtpTransceiver not found");if(x.sender.replaceTrack(null),this._pc.removeTrack(x.sender),this._remoteSdp.closeMediaSection(x.mid))try{x.stop()}catch{}const T=await this._pc.createOffer();f.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",T),await this._pc.setLocalDescription(T);const N={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",N),await this._pc.setRemoteDescription(N),this._mapMidTransceiver.delete(y)}async pauseSending(y){this.assertNotClosed(),this.assertSendDirection(),f.debug("pauseSending() [localId:%s]",y);const x=this._mapMidTransceiver.get(y);if(!x)throw new Error("associated RTCRtpTransceiver not found");x.direction="inactive",this._remoteSdp.pauseMediaSection(y);const S=await this._pc.createOffer();f.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",S),await this._pc.setLocalDescription(S);const T={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",T),await this._pc.setRemoteDescription(T)}async resumeSending(y){this.assertNotClosed(),this.assertSendDirection(),f.debug("resumeSending() [localId:%s]",y);const x=this._mapMidTransceiver.get(y);if(this._remoteSdp.resumeSendingMediaSection(y),!x)throw new Error("associated RTCRtpTransceiver not found");x.direction="sendonly";const S=await this._pc.createOffer();f.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",S),await this._pc.setLocalDescription(S);const T={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",T),await this._pc.setRemoteDescription(T)}async replaceTrack(y,x){this.assertNotClosed(),this.assertSendDirection(),x?f.debug("replaceTrack() [localId:%s, track.id:%s]",y,x.id):f.debug("replaceTrack() [localId:%s, no track]",y);const S=this._mapMidTransceiver.get(y);if(!S)throw new Error("associated RTCRtpTransceiver not found");await S.sender.replaceTrack(x)}async setMaxSpatialLayer(y,x){this.assertNotClosed(),this.assertSendDirection(),f.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",y,x);const S=this._mapMidTransceiver.get(y);if(!S)throw new Error("associated RTCRtpTransceiver not found");const T=S.sender.getParameters();T.encodings.forEach((A,k)=>{k<=x?A.active=!0:A.active=!1}),await S.sender.setParameters(T),this._remoteSdp.muxMediaSectionSimulcast(y,T.encodings);const N=await this._pc.createOffer();f.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",N),await this._pc.setLocalDescription(N);const P={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",P),await this._pc.setRemoteDescription(P)}async setRtpEncodingParameters(y,x){this.assertNotClosed(),this.assertSendDirection(),f.debug("setRtpEncodingParameters() [localId:%s, params:%o]",y,x);const S=this._mapMidTransceiver.get(y);if(!S)throw new Error("associated RTCRtpTransceiver not found");const T=S.sender.getParameters();T.encodings.forEach((A,k)=>{T.encodings[k]={...A,...x}}),await S.sender.setParameters(T),this._remoteSdp.muxMediaSectionSimulcast(y,T.encodings);const N=await this._pc.createOffer();f.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",N),await this._pc.setLocalDescription(N);const P={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",P),await this._pc.setRemoteDescription(P)}async getSenderStats(y){this.assertNotClosed(),this.assertSendDirection();const x=this._mapMidTransceiver.get(y);if(!x)throw new Error("associated RTCRtpTransceiver not found");return x.sender.getStats()}async sendDataChannel({ordered:y,maxPacketLifeTime:x,maxRetransmits:S,label:T,protocol:N}){this.assertNotClosed(),this.assertSendDirection();const P={negotiated:!0,id:this._nextSendSctpStreamId,ordered:y,maxPacketLifeTime:x,maxRetransmits:S,protocol:N};f.debug("sendDataChannel() [options:%o]",P);const A=this._pc.createDataChannel(T,P);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%b.MIS,!this._hasDataChannelMediaSection){const R=await this._pc.createOffer(),D=e.parse(R.sdp),I=D.media.find(z=>z.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:D}),f.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",R),await this._pc.setLocalDescription(R),this._remoteSdp.sendSctpAssociation({offerMediaObject:I});const q={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",q),await this._pc.setRemoteDescription(q),this._hasDataChannelMediaSection=!0}const k={streamId:P.id,ordered:P.ordered,maxPacketLifeTime:P.maxPacketLifeTime,maxRetransmits:P.maxRetransmits};return{dataChannel:A,sctpStreamParameters:k}}async receive(y){var A;this.assertNotClosed(),this.assertRecvDirection();const x=[],S=new Map;for(const k of y){const{trackId:R,kind:D,rtpParameters:I,streamId:q}=k;f.debug("receive() [trackId:%s, kind:%s]",R,D);const z=I.mid??String(this._mapMidTransceiver.size);S.set(R,z);const{msidStreamId:M}=h.getMsidStreamIdAndTrackId(I.msid);this._remoteSdp.receive({mid:z,kind:D,offerRtpParameters:I,streamId:q??M??((A=I.rtcp)==null?void 0:A.cname)??"-",trackId:R})}const T={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",T),await this._pc.setRemoteDescription(T);for(const k of y){const{trackId:R,onRtpReceiver:D}=k;if(D){const I=S.get(R),q=this._pc.getTransceivers().find(z=>z.mid===I);if(!q)throw new Error("transceiver not found");D(q.receiver)}}let N=await this._pc.createAnswer();const P=e.parse(N.sdp);for(const k of y){const{trackId:R,rtpParameters:D}=k,I=S.get(R),q=P.media.find(z=>String(z.mid)===I);c.applyCodecParameters({offerRtpParameters:D,answerMediaObject:q})}N={type:"answer",sdp:e.write(P)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:P}),f.debug("receive() | calling pc.setLocalDescription() [answer:%o]",N),await this._pc.setLocalDescription(N);for(const k of y){const{trackId:R}=k,D=S.get(R),I=this._pc.getTransceivers().find(q=>q.mid===D);if(I)this._mapMidTransceiver.set(D,I),x.push({localId:D,track:I.receiver.track,rtpReceiver:I.receiver});else throw new Error("new RTCRtpTransceiver not found")}return x}async stopReceiving(y){if(this.assertRecvDirection(),this._closed)return;for(const T of y){f.debug("stopReceiving() [localId:%s]",T);const N=this._mapMidTransceiver.get(T);if(!N)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(N.mid)}const x={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);const S=await this._pc.createAnswer();f.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S);for(const T of y)this._mapMidTransceiver.delete(T)}async pauseReceiving(y){this.assertNotClosed(),this.assertRecvDirection();for(const T of y){f.debug("pauseReceiving() [localId:%s]",T);const N=this._mapMidTransceiver.get(T);if(!N)throw new Error("associated RTCRtpTransceiver not found");N.direction="inactive",this._remoteSdp.pauseMediaSection(T)}const x={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);const S=await this._pc.createAnswer();f.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S)}async resumeReceiving(y){this.assertNotClosed(),this.assertRecvDirection();for(const T of y){f.debug("resumeReceiving() [localId:%s]",T);const N=this._mapMidTransceiver.get(T);if(!N)throw new Error("associated RTCRtpTransceiver not found");N.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(T)}const x={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);const S=await this._pc.createAnswer();f.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S)}async getReceiverStats(y){this.assertNotClosed(),this.assertRecvDirection();const x=this._mapMidTransceiver.get(y);if(!x)throw new Error("associated RTCRtpTransceiver not found");return x.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:y,label:x,protocol:S}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:T,ordered:N,maxPacketLifeTime:P,maxRetransmits:A}=y,k={negotiated:!0,id:T,ordered:N,maxPacketLifeTime:P,maxRetransmits:A,protocol:S};f.debug("receiveDataChannel() [options:%o]",k);const R=this._pc.createDataChannel(x,k);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const D={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",D),await this._pc.setRemoteDescription(D);const I=await this._pc.createAnswer();if(!this._transportReady){const q=e.parse(I.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:q})}f.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",I),await this._pc.setLocalDescription(I),this._hasDataChannelMediaSection=!0}return{dataChannel:R}}async setupTransport({localDtlsRole:y,localSdpObject:x}){x||(x=e.parse(this._pc.localDescription.sdp));const S=c.extractDtlsParameters({sdpObject:x});S.role=y,this._remoteSdp.updateDtlsRole(y==="client"?"server":"client"),await new Promise((T,N)=>{this.safeEmit("@connect",{dtlsParameters:S},T,N)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new a.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return Up.ReactNative106=_,Up}var eM;function _Ee(){if(eM)return bc;eM=1,Object.defineProperty(bc,"__esModule",{value:!0}),bc.Device=void 0,bc.detectDevice=b,bc.detectDeviceAsync=_;const e=wa(),t=Ha(),r=Xi(),n=gf(),a=Wo(),o=dEe(),u=mEe(),c=gEe(),p=vEe(),h=yEe(),f=bEe(),m=new e.Logger("Device");function b(A,k){return m.debug("detectDevice()"),!A&&typeof navigator=="object"&&(A=navigator.userAgent),!k&&typeof navigator=="object"&&(k=navigator.userAgentData),w(A,k)}async function _(A,k){return m.debug("detectDeviceAsync()"),!A&&typeof navigator=="object"&&(A=navigator.userAgent),!k&&typeof navigator=="object"&&(k=navigator.userAgentData),w(A,k)}let j=class L7{constructor({handlerName:k,handlerFactory:R}={}){V(this,"_handlerFactory");V(this,"_handlerName");V(this,"_loaded",!1);V(this,"_getSendExtendedRtpCapabilities");V(this,"_recvRtpCapabilities");V(this,"_canProduceByKind",{audio:!1,video:!1});V(this,"_sctpCapabilities");V(this,"_observer",new t.EnhancedEventEmitter);if(m.debug("constructor()"),k&&R)throw new TypeError("just one of handlerName or handlerInterface can be given");if(R)this._handlerFactory=R;else{if(k)m.debug("constructor() | handler given: %s",k);else if(k=b(),k)m.debug("constructor() | detected handler: %s",k);else throw new r.UnsupportedError("device not supported");switch(k){case"Chrome111":{this._handlerFactory=u.Chrome111.createFactory();break}case"Chrome74":{this._handlerFactory=c.Chrome74.createFactory();break}case"Firefox120":{this._handlerFactory=p.Firefox120.createFactory();break}case"Safari12":{this._handlerFactory=h.Safari12.createFactory();break}case"ReactNative106":{this._handlerFactory=f.ReactNative106.createFactory();break}default:throw new TypeError(`unknown handlerName "${k}"`)}}this._handlerName=this._handlerFactory.name}static async factory({handlerName:k,handlerFactory:R}={}){if(m.debug("factory()"),k&&R)throw new TypeError("just one of handlerName or handlerInterface can be given");if(!k&&!R&&(k=await _(),!k))throw new r.UnsupportedError("device not supported");return new L7({handlerName:k,handlerFactory:R})}get handlerName(){return this._handlerName}get loaded(){return this._loaded}get rtpCapabilities(){if(!this._loaded)throw new r.InvalidStateError("not loaded");return this._recvRtpCapabilities}get sctpCapabilities(){if(!this._loaded)throw new r.InvalidStateError("not loaded");return this._sctpCapabilities}get observer(){return this._observer}async load({routerRtpCapabilities:k,preferLocalCodecsOrder:R=!1}){if(m.debug("load() [routerRtpCapabilities:%o]",k),this._loaded)throw new r.InvalidStateError("already loaded");const D=n.clone(k);a.validateAndNormalizeRtpCapabilities(D);const{getNativeRtpCapabilities:I,getNativeSctpCapabilities:q}=this._handlerFactory,z=n.clone(await I());a.validateAndNormalizeRtpCapabilities(z),m.debug("load() | got native RTP capabilities:%o",z),this._getSendExtendedRtpCapabilities=F=>n.clone(a.getExtendedRtpCapabilities(F,D,R));const M=a.getExtendedRtpCapabilities(z,D,!1);this._recvRtpCapabilities=a.getRecvRtpCapabilities(M),a.validateAndNormalizeRtpCapabilities(this._recvRtpCapabilities),m.debug("load() | got receiving RTP capabilities:%o",this._recvRtpCapabilities),this._canProduceByKind.audio=a.canSend("audio",this._recvRtpCapabilities),this._canProduceByKind.video=a.canSend("video",this._recvRtpCapabilities),this._sctpCapabilities=await q(),a.validateSctpCapabilities(this._sctpCapabilities),m.debug("load() | got native SCTP capabilities:%o",this._sctpCapabilities),m.debug("load() succeeded"),this._loaded=!0}canProduce(k){if(this._loaded){if(k!=="audio"&&k!=="video")throw new TypeError(`invalid kind "${k}"`)}else throw new r.InvalidStateError("not loaded");return this._canProduceByKind[k]}createSendTransport({id:k,iceParameters:R,iceCandidates:D,dtlsParameters:I,sctpParameters:q,iceServers:z,iceTransportPolicy:M,additionalSettings:F,appData:B}){return m.debug("createSendTransport()"),this.createTransport({direction:"send",id:k,iceParameters:R,iceCandidates:D,dtlsParameters:I,sctpParameters:q,iceServers:z,iceTransportPolicy:M,additionalSettings:F,appData:B})}createRecvTransport({id:k,iceParameters:R,iceCandidates:D,dtlsParameters:I,sctpParameters:q,iceServers:z,iceTransportPolicy:M,additionalSettings:F,appData:B}){return m.debug("createRecvTransport()"),this.createTransport({direction:"recv",id:k,iceParameters:R,iceCandidates:D,dtlsParameters:I,sctpParameters:q,iceServers:z,iceTransportPolicy:M,additionalSettings:F,appData:B})}createTransport({direction:k,id:R,iceParameters:D,iceCandidates:I,dtlsParameters:q,sctpParameters:z,iceServers:M,iceTransportPolicy:F,additionalSettings:B,appData:O}){if(this._loaded){if(typeof R!="string")throw new TypeError("missing id");if(typeof D!="object")throw new TypeError("missing iceParameters");if(Array.isArray(I)){if(typeof q!="object")throw new TypeError("missing dtlsParameters");if(z&&typeof z!="object")throw new TypeError("wrong sctpParameters");if(O&&typeof O!="object")throw new TypeError("if given, appData must be an object")}else throw new TypeError("missing iceCandidates")}else throw new r.InvalidStateError("not loaded");const $=new o.Transport({direction:k,id:R,iceParameters:D,iceCandidates:I,dtlsParameters:q,sctpParameters:z,iceServers:M,iceTransportPolicy:F,additionalSettings:B,appData:O,handlerFactory:this._handlerFactory,getSendExtendedRtpCapabilities:this._getSendExtendedRtpCapabilities,recvRtpCapabilities:this._recvRtpCapabilities,canProduceByKind:this._canProduceByKind});return this._observer.safeEmit("newtransport",$),$}};bc.Device=j;function w(A,k){m.debug('detectDeviceImpl() [userAgent:"%s", userAgentData:%o]',A,k);const R=y(A,k);if(R){if(R>=111)return m.debug("detectDeviceImpl() | using Chrome111 handler"),"Chrome111";if(R>=74)return m.debug("detectDeviceImpl() | using Chrome74 handler"),"Chrome74";m.warn("detectDeviceImpl() | unsupported Chromium based browser/version");return}const D=x(A);if(D){if(D>=120)return m.debug("detectDeviceImpl() | using Firefox120 handler"),"Firefox120";m.warn("detectDeviceImpl() | unsupported Firefox browser/version");return}const I=S(A);if(I){if(I>=605)return m.debug("detectDeviceImpl() | using Safari12 handler"),"Safari12";m.warn("detectDeviceImpl() | unsupported desktop Safari browser/version");return}const q=T(A);if(q){if(q>=605)return m.debug("detectDeviceImpl() | using Safari12 handler"),"Safari12";m.warn("detectDeviceImpl() | unsupported iOS Safari based browser/version");return}if(P()){if(typeof RTCPeerConnection<"u"&&typeof RTCRtpTransceiver<"u")return m.debug("detectDeviceImpl() | using ReactNative106 handler"),"ReactNative106";m.warn("detectDeviceImpl() | unsupported react-native-webrtc version without RTCPeerConnection or RTCRtpTransceiver, forgot to call registerGlobals() on it?");return}m.warn('detectDeviceImpl() | device not supported [userAgent:"%s", userAgentData:%o]',A,k)}function y(A,k){if(m.debug("getChromiumMajorVersion()"),N(A,k)){m.debug("getChromiumMajorVersion() | this is iOS => undefined");return}if(P()){m.debug("getChromiumMajorVersion() | this is React-Native => undefined");return}if(k){const D=(k.brands??[]).find(I=>I.brand==="Chromium");if(D){const I=Number(D.version);return m.debug(`getChromiumMajorVersion() | Chromium major version based on NavigatorUAData => ${I}`),I}}const R=A==null?void 0:A.match(/\b(?:Chrome|Chromium)\/(\w+)/i);if(R!=null&&R[1]){const D=Number(R[1]);return m.debug(`getChromiumMajorVersion() | Chromium major version based on User-Agent => ${D}`),D}m.debug("getChromiumMajorVersion() | this is not Chromium => undefined")}function x(A){if(m.debug("getFirefoxMajorVersion()"),N(A)){m.debug("getFirefoxMajorVersion() | this is iOS => undefined");return}if(P()){m.debug("getFirefoxMajorVersion() | this is React-Native => undefined");return}const k=A==null?void 0:A.match(/\bFirefox\/(\w+)/i);if(k!=null&&k[1]){const R=Number(k[1]);return m.debug(`getFirefoxMajorVersion() | Firefox major version based on User-Agent => ${R}`),R}m.debug("getFirefoxMajorVersion() | this is not Firefox => undefined")}function S(A){if(m.debug("getMacOSWebKitMajorVersion()"),N(A)){m.debug("getMacOSWebKitMajorVersion() | this is iOS => undefined");return}if(P()){m.debug("getMacOSWebKitMajorVersion() | this is React-Native => undefined");return}if(!(A&&/\bSafari\b/i.test(A)&&!/\bChrome\b/i.test(A)&&!/\bChromium\b/i.test(A)&&!/\bFirefox\b/i.test(A))){m.debug("getMacOSWebKitMajorVersion() | this is not Safari => undefined");return}const R=A.match(/AppleWebKit\/(\w+)/i);if(R!=null&&R[1]){const D=Number(R[1]);return m.debug(`getMacOSWebKitMajorVersion() | WebKit major version based on User-Agent => ${D}`),D}m.debug("getMacOSWebKitMajorVersion() | this is not WebKit => undefined")}function T(A){if(m.debug("getIOSWebKitMajorVersion()"),!N(A)){m.debug("getIOSWebKitMajorVersion() | this is not iOS => undefined");return}if(P()){m.debug("getIOSWebKitMajorVersion() | this is React-Native => undefined");return}const k=A==null?void 0:A.match(/AppleWebKit\/(\w+)/i);if(k!=null&&k[1]){const R=Number(k[1]);return m.debug(`getIOSWebKitMajorVersion() | WebKit major version based on User-Agent => ${R}`),R}m.debug("getIOSWebKitMajorVersion() | this is not WebKit => undefined")}function N(A,k){return m.debug("isIOS()"),(k==null?void 0:k.platform)==="iOS"?(m.debug("isIOS() | this is iOS based on NavigatorUAData.platform => true"),!0):k!=null&&k.platform?(m.debug("isIOS() | this is not iOS based on NavigatorUAData.platform => false"),!1):A&&/iPad|iPhone|iPod/.test(A)?(m.debug("isIOS() | this is iOS based on User-Agent => true"),!0):typeof navigator=="object"&&navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1?(m.debug("isIOS() | this is iPadOS 13+ based on User-Agent => true"),!0):(m.debug("isIOS() | this is not iOS => false"),!1)}function P(){return m.debug("isReactNative()"),typeof navigator=="object"&&navigator.product==="ReactNative"?(m.debug("isReactNative() | this is React-Native based on navigator.product"),!0):(m.debug("isReactNative() | this is not React-Native => false"),!1)}return bc}var Hp={},Wp={},Hw={},tM;function xEe(){if(tM)return Hw;tM=1;for(var e=256,t=[],r;e--;)t[e]=(e+256).toString(16).substring(1);function n(){var a=0,o,u="";if(!r||e+16>256){for(r=Array(a=256);a--;)r[a]=256*Math.random()|0;a=e=0}for(;a<16;a++)o=r[e+a],a==6?u+=t[o&15|64]:a==8?u+=t[o&63|128]:u+=t[o],a&1&&a>1&&a<11&&(u+="-");return e++,u}return Hw.v4=n,Hw}var Kp={},rM;function wEe(){if(rM)return Kp;rM=1,Object.defineProperty(Kp,"__esModule",{value:!0}),Kp.FakeEventTarget=void 0;class e{constructor(){V(this,"listeners",{})}addEventListener(r,n,a){n&&(this.listeners[r]=this.listeners[r]??[],this.listeners[r].push({callback:typeof n=="function"?n:n.handleEvent,once:typeof a=="object"&&a.once===!0}))}removeEventListener(r,n,a){this.listeners[r]&&n&&(this.listeners[r]=this.listeners[r].filter(o=>o.callback!==(typeof n=="function"?n:n.handleEvent)))}dispatchEvent(r){if(!r||typeof r.type!="string")throw new Error("invalid event object");const n=this.listeners[r.type];if(!n)return!0;for(const a of[...n]){try{a.callback.call(this,r)}catch(o){setTimeout(()=>{throw o},0)}a.once&&this.removeEventListener(r.type,a.callback)}return!r.defaultPrevented}}return Kp.FakeEventTarget=e,Kp}var Gp={},nM;function SEe(){if(nM)return Gp;nM=1,Object.defineProperty(Gp,"__esModule",{value:!0}),Gp.FakeEvent=void 0;let e=class{constructor(r,n={}){V(this,"NONE",0);V(this,"CAPTURING_PHASE",1);V(this,"AT_TARGET",2);V(this,"BUBBLING_PHASE",3);V(this,"type");V(this,"bubbles");V(this,"cancelable");V(this,"defaultPrevented",!1);V(this,"composed",!1);V(this,"currentTarget",null);V(this,"eventPhase",this.NONE);V(this,"isTrusted",!0);V(this,"target",null);V(this,"timeStamp",0);V(this,"cancelBubble",!1);V(this,"returnValue",!0);V(this,"srcElement",null);this.type=r,this.bubbles=n.bubbles??!1,this.cancelable=n.cancelable??!1}preventDefault(){this.cancelable&&(this.defaultPrevented=!0)}stopPropagation(){}stopImmediatePropagation(){}composedPath(){return[]}initEvent(r,n,a){}};return Gp.FakeEvent=e,Gp}var vv={},aM;function jEe(){if(aM)return vv;aM=1,Object.defineProperty(vv,"__esModule",{value:!0}),vv.clone=e;function e(t){if(t!==void 0)return Number.isNaN(t)?NaN:typeof structuredClone=="function"?structuredClone(t):JSON.parse(JSON.stringify(t))}return vv}var iM;function CEe(){var o,u,c,p,h,f,m,b,_,j,w,y,x,S,T,N;if(iM)return Wp;iM=1,Object.defineProperty(Wp,"__esModule",{value:!0}),Wp.FakeMediaStreamTrack=void 0;const e=xEe(),t=wEe(),r=SEe(),n=jEe(),P=class P extends t.FakeEventTarget{constructor({kind:R,id:D,label:I,contentHint:q,enabled:z,muted:M,readyState:F,capabilities:B,constraints:O,settings:$,data:K}){super();Ie(this,o);Ie(this,u);Ie(this,c);Ie(this,p);Ie(this,h);Ie(this,f);Ie(this,m);Ie(this,b);Ie(this,_);Ie(this,j);Ie(this,w);Ie(this,y,null);Ie(this,x,null);Ie(this,S,null);Ie(this,T,null);Ie(this,N,null);Ee(this,o,D??(0,e.v4)()),Ee(this,u,R),Ee(this,c,I??""),Ee(this,m,q??""),Ee(this,h,z??!0),Ee(this,f,M??!1),Ee(this,p,F??"live"),Ee(this,b,B??{}),Ee(this,_,O??{}),Ee(this,j,$??{}),Ee(this,w,K??{})}get id(){return G(this,o)}get kind(){return G(this,u)}get label(){return G(this,c)}get contentHint(){return G(this,m)}set contentHint(R){Ee(this,m,R)}get enabled(){return G(this,h)}set enabled(R){const D=G(this,h)!==R;Ee(this,h,R),D&&this.dispatchEvent(new r.FakeEvent("enabledchange"))}get muted(){return G(this,f)}get readyState(){return G(this,p)}get data(){return G(this,w)}set data(R){Ee(this,w,R)}get onmute(){return G(this,y)}set onmute(R){G(this,y)&&this.removeEventListener("mute",G(this,y)),Ee(this,y,R),R&&this.addEventListener("mute",R)}get onunmute(){return G(this,x)}set onunmute(R){G(this,x)&&this.removeEventListener("unmute",G(this,x)),Ee(this,x,R),R&&this.addEventListener("unmute",R)}get onended(){return G(this,S)}set onended(R){G(this,S)&&this.removeEventListener("ended",G(this,S)),Ee(this,S,R),R&&this.addEventListener("ended",R)}get onenabledchange(){return G(this,T)}set onenabledchange(R){G(this,T)&&this.removeEventListener("enabledchange",G(this,T)),Ee(this,T,R),R&&this.addEventListener("enabledchange",R)}get onstopped(){return G(this,N)}set onstopped(R){G(this,N)&&this.removeEventListener("stopped",G(this,N)),Ee(this,N,R),R&&this.addEventListener("stopped",R)}addEventListener(R,D,I){super.addEventListener(R,D,I)}removeEventListener(R,D,I){super.removeEventListener(R,D,I)}stop(){G(this,p)!=="ended"&&(Ee(this,p,"ended"),this.dispatchEvent(new r.FakeEvent("stopped")))}clone({id:R,data:D}={}){return new P({id:R??(0,e.v4)(),kind:G(this,u),label:G(this,c),contentHint:G(this,m),enabled:G(this,h),muted:G(this,f),readyState:G(this,p),capabilities:(0,n.clone)(G(this,b)),constraints:(0,n.clone)(G(this,_)),settings:(0,n.clone)(G(this,j)),data:D??(0,n.clone)(G(this,w))})}getCapabilities(){return G(this,b)}getConstraints(){return G(this,_)}async applyConstraints(R={}){return Ee(this,_,R),Promise.resolve()}getSettings(){return G(this,j)}remoteStop(){G(this,p)!=="ended"&&(Ee(this,p,"ended"),this.dispatchEvent(new r.FakeEvent("stopped")),this.dispatchEvent(new r.FakeEvent("ended")))}remoteMute(){G(this,f)||(Ee(this,f,!0),this.dispatchEvent(new r.FakeEvent("mute")))}remoteUnmute(){G(this,f)&&(Ee(this,f,!1),this.dispatchEvent(new r.FakeEvent("unmute")))}};o=new WeakMap,u=new WeakMap,c=new WeakMap,p=new WeakMap,h=new WeakMap,f=new WeakMap,m=new WeakMap,b=new WeakMap,_=new WeakMap,j=new WeakMap,w=new WeakMap,y=new WeakMap,x=new WeakMap,S=new WeakMap,T=new WeakMap,N=new WeakMap;let a=P;return Wp.FakeMediaStreamTrack=a,Wp}var Vp={},sM;function kEe(){if(sM)return Vp;sM=1,Object.defineProperty(Vp,"__esModule",{value:!0}),Vp.FakeEventTarget=void 0;let e=class{constructor(){V(this,"listeners",{})}addEventListener(r,n,a){n&&(this.listeners[r]=this.listeners[r]??[],this.listeners[r].push({callback:typeof n=="function"?n:n.handleEvent,once:typeof a=="object"&&a.once===!0}))}removeEventListener(r,n,a){this.listeners[r]&&n&&(this.listeners[r]=this.listeners[r].filter(o=>o.callback!==(typeof n=="function"?n:n.handleEvent)))}dispatchEvent(r){if(!r||typeof r.type!="string")throw new Error("invalid event object");const n=this.listeners[r.type];if(!n)return!0;for(const a of[...n]){try{a.callback.call(this,r)}catch(o){setTimeout(()=>{throw o},0)}a.once&&this.removeEventListener(r.type,a.callback)}return!r.defaultPrevented}};return Vp.FakeEventTarget=e,Vp}var oM;function NEe(){if(oM)return Hp;oM=1,Object.defineProperty(Hp,"__esModule",{value:!0}),Hp.FakeHandler=void 0;const e=CEe(),t=Ha(),r=wa(),n=gf(),a=Wo(),o=Xi(),u=kEe(),c=new r.Logger("FakeHandler"),p="FakeHandler";let h=class Hv extends t.EnhancedEventEmitter{constructor({getSendExtendedRtpCapabilities:_},j){super();V(this,"_closed",!1);V(this,"_fakeParameters");V(this,"_getSendExtendedRtpCapabilities");V(this,"_cname",`CNAME-${n.generateRandomNumber()}`);V(this,"_defaultSendStreamId",`${n.generateRandomNumber()}`);V(this,"_transportReady",!1);V(this,"_nextLocalId",1);V(this,"_tracks",new Map);V(this,"_nextSctpStreamId",0);c.debug("constructor()"),this._getSendExtendedRtpCapabilities=_,this._fakeParameters=j}static createFactory(_){return{name:p,factory:j=>new Hv(j,_),getNativeRtpCapabilities:async()=>(c.debug("getNativeRtpCapabilities()"),Hv.getLocalRtpCapabilities(_)),getNativeSctpCapabilities:async()=>(c.debug("getNativeSctpCapabilities()"),_.generateNativeSctpCapabilities())}}static getLocalRtpCapabilities(_){const j=_.generateNativeRtpCapabilities();return a.validateAndNormalizeRtpCapabilities(j),j}get name(){return p}close(){c.debug("close()"),!this._closed&&(this._closed=!0,super.close())}setIceGatheringState(_){this.emit("@icegatheringstatechange",_)}setConnectionState(_){this.emit("@connectionstatechange",_)}async updateIceServers(_){this.assertNotClosed(),c.debug("updateIceServers()")}async restartIce(_){this.assertNotClosed(),c.debug("restartIce()")}async getTransportStats(){return this.assertNotClosed(),new Map}async send({track:_,streamId:j,encodings:w,codecOptions:y,codec:x}){this.assertNotClosed(),c.debug("send() [kind:%s, track.id:%s]",_.kind,_.id),this._transportReady||await this.setupTransport({localDtlsRole:"server"});const S=Hv.getLocalRtpCapabilities(this._fakeParameters),T=this._getSendExtendedRtpCapabilities(S),N=a.getSendingRtpParameters(_.kind,T);N.codecs=a.reduceCodecs(N.codecs,x);const P=N.codecs.some(k=>/.+\/rtx$/i.test(k.mimeType));N.mid=`mid-${n.generateRandomNumber()}`,N.msid=`${j??"-"} ${_.id}`,w||(w=[{}]);for(const k of w)k.ssrc=n.generateRandomNumber(),P&&(k.rtx={ssrc:n.generateRandomNumber()});N.encodings=w,N.rtcp={cname:this._cname,reducedSize:!0,mux:!0},N.msid=`${j??this._defaultSendStreamId} ${_.id}`;const A=this._nextLocalId++;return this._tracks.set(A,_),{localId:String(A),rtpParameters:N}}async stopSending(_){if(c.debug("stopSending() [localId:%s]",_),!this._closed){if(!this._tracks.has(Number(_)))throw new Error("local track not found");this._tracks.delete(Number(_))}}async pauseSending(_){this.assertNotClosed()}async resumeSending(_){this.assertNotClosed()}async replaceTrack(_,j){this.assertNotClosed(),j?c.debug("replaceTrack() [localId:%s, track.id:%s]",_,j.id):c.debug("replaceTrack() [localId:%s, no track]",_),this._tracks.delete(Number(_)),this._tracks.set(Number(_),j)}async setMaxSpatialLayer(_,j){this.assertNotClosed(),c.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",_,j)}async setRtpEncodingParameters(_,j){this.assertNotClosed(),c.debug("setRtpEncodingParameters() [localId:%s, params:%o]",_,j)}async getSenderStats(_){return this.assertNotClosed(),new Map}async sendDataChannel({ordered:_,maxPacketLifeTime:j,maxRetransmits:w,label:y,protocol:x}){this.assertNotClosed(),this._transportReady||await this.setupTransport({localDtlsRole:"server"}),c.debug("sendDataChannel()");const S=new f({id:this._nextSctpStreamId++,ordered:_,maxPacketLifeTime:j,maxRetransmits:w,label:y,protocol:x}),T={streamId:this._nextSctpStreamId,ordered:_,maxPacketLifeTime:j,maxRetransmits:w};return{dataChannel:S,sctpStreamParameters:T}}async receive(_){this.assertNotClosed();const j=[];for(const w of _){const{trackId:y,kind:x}=w;this._transportReady||await this.setupTransport({localDtlsRole:"client"}),c.debug("receive() [trackId:%s, kind:%s]",y,x);const S=this._nextLocalId++,T=new e.FakeMediaStreamTrack({kind:x});this._tracks.set(S,T),j.push({localId:String(S),track:T})}return j}async stopReceiving(_){if(!this._closed)for(const j of _)c.debug("stopReceiving() [localId:%s]",j),this._tracks.delete(Number(j))}async pauseReceiving(_){this.assertNotClosed()}async resumeReceiving(_){this.assertNotClosed()}async getReceiverStats(_){return this.assertNotClosed(),new Map}async receiveDataChannel({sctpStreamParameters:_,label:j,protocol:w}){return this.assertNotClosed(),this._transportReady||await this.setupTransport({localDtlsRole:"client"}),c.debug("receiveDataChannel()"),{dataChannel:new f({id:_.streamId,ordered:_.ordered,maxPacketLifeTime:_.maxPacketLifeTime,maxRetransmits:_.maxRetransmits,label:j,protocol:w})}}async setupTransport({localDtlsRole:_,localSdpObject:j}){const w=n.clone(this._fakeParameters.generateLocalDtlsParameters());_&&(w.role=_),this.emit("@connectionstatechange","connecting"),await new Promise((y,x)=>this.emit("@connect",{dtlsParameters:w},y,x)),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new o.InvalidStateError("method called in a closed handler")}};Hp.FakeHandler=h;class f extends u.FakeEventTarget{constructor({id:_,ordered:j=!0,maxPacketLifeTime:w=null,maxRetransmits:y=null,label:x="",protocol:S=""}){super();V(this,"_id");V(this,"_negotiated",!0);V(this,"_ordered");V(this,"_maxPacketLifeTime");V(this,"_maxRetransmits");V(this,"_label");V(this,"_protocol");V(this,"_readyState","connecting");V(this,"_bufferedAmount",0);V(this,"_bufferedAmountLowThreshold",0);V(this,"_binaryType","arraybuffer");V(this,"_onopen",null);V(this,"_onclosing",null);V(this,"_onclose",null);V(this,"_onmessage",null);V(this,"_onbufferedamountlow",null);V(this,"_onerror",null);c.debug(`constructor() [id:${_}, ordered:${j}, maxPacketLifeTime:${w}, maxRetransmits:${y}, label:${x}, protocol:${S}`),this._id=_,this._ordered=j,this._maxPacketLifeTime=w,this._maxRetransmits=y,this._label=x,this._protocol=S}get id(){return this._id}get negotiated(){return this._negotiated}get ordered(){return this._ordered}get maxPacketLifeTime(){return this._maxPacketLifeTime}get maxRetransmits(){return this._maxRetransmits}get label(){return this._label}get protocol(){return this._protocol}get readyState(){return this._readyState}get bufferedAmount(){return this._bufferedAmount}get bufferedAmountLowThreshold(){return this._bufferedAmountLowThreshold}set bufferedAmountLowThreshold(_){this._bufferedAmountLowThreshold=_}get binaryType(){return this._binaryType}set binaryType(_){this._binaryType=_}get onopen(){return this._onopen}set onopen(_){this._onopen&&this.removeEventListener("open",this._onopen),this._onopen=_,_&&this.addEventListener("open",_)}get onclosing(){return this._onclosing}set onclosing(_){this._onclosing&&this.removeEventListener("closing",this._onclosing),this._onclosing=_,_&&this.addEventListener("closing",_)}get onclose(){return this._onclose}set onclose(_){this._onclose&&this.removeEventListener("close",this._onclose),this._onclose=_,_&&this.addEventListener("close",_)}get onmessage(){return this._onmessage}set onmessage(_){this._onmessage&&this.removeEventListener("message",this._onmessage),this._onmessage=_,_&&this.addEventListener("message",_)}get onbufferedamountlow(){return this._onbufferedamountlow}set onbufferedamountlow(_){this._onbufferedamountlow&&this.removeEventListener("bufferedamountlow",this._onbufferedamountlow),this._onbufferedamountlow=_,_&&this.addEventListener("bufferedamountlow",_)}get onerror(){return this._onerror}set onerror(_){this._onerror&&this.removeEventListener("error",this._onerror),this._onerror=_,_&&this.addEventListener("error",_)}addEventListener(_,j,w){super.addEventListener(_,j,w)}removeEventListener(_,j,w){super.removeEventListener(_,j,w)}close(){["closing","closed"].includes(this._readyState)||(this._readyState="closed")}send(_){if(this._readyState!=="open")throw new o.InvalidStateError("not open")}}return Hp}var li={},lM;function EEe(){if(lM)return li;lM=1,Object.defineProperty(li,"__esModule",{value:!0}),li.generateRouterRtpCapabilities=r,li.generateNativeRtpCapabilities=n,li.generateNativeSctpCapabilities=a,li.generateLocalDtlsParameters=o,li.generateTransportRemoteParameters=u,li.generateProducerRemoteParameters=c,li.generateConsumerRemoteParameters=p,li.generateDataProducerRemoteParameters=h,li.generateDataConsumerRemoteParameters=f;const e=gf();function t(){return String(e.generateRandomNumber())}function r(){return e.deepFreeze({codecs:[{mimeType:"audio/opus",kind:"audio",preferredPayloadType:100,clockRate:48e3,channels:2,rtcpFeedback:[{type:"transport-cc"}],parameters:{useinbandfec:1,foo:"bar"}},{mimeType:"video/VP8",kind:"video",preferredPayloadType:101,clockRate:9e4,rtcpFeedback:[{type:"nack"},{type:"nack",parameter:"pli"},{type:"ccm",parameter:"fir"},{type:"goog-remb"},{type:"transport-cc"}],parameters:{"x-google-start-bitrate":1500}},{mimeType:"video/rtx",kind:"video",preferredPayloadType:102,clockRate:9e4,rtcpFeedback:[],parameters:{apt:101}},{mimeType:"video/H264",kind:"video",preferredPayloadType:103,clockRate:9e4,rtcpFeedback:[{type:"nack"},{type:"nack",parameter:"pli"},{type:"ccm",parameter:"fir"},{type:"goog-remb"},{type:"transport-cc"}],parameters:{"level-asymmetry-allowed":1,"packetization-mode":1,"profile-level-id":"42e01f"}},{mimeType:"video/rtx",kind:"video",preferredPayloadType:104,clockRate:9e4,rtcpFeedback:[],parameters:{apt:103}},{mimeType:"video/VP9",kind:"video",preferredPayloadType:105,clockRate:9e4,rtcpFeedback:[{type:"nack"},{type:"nack",parameter:"pli"},{type:"ccm",parameter:"fir"},{type:"goog-remb"},{type:"transport-cc"}],parameters:{"profile-id":0,"x-google-start-bitrate":1500}},{mimeType:"video/rtx",kind:"video",preferredPayloadType:106,clockRate:9e4,rtcpFeedback:[],parameters:{apt:105}}],headerExtensions:[{kind:"audio",uri:"urn:ietf:params:rtp-hdrext:sdes:mid",preferredId:1,preferredEncrypt:!1,direction:"sendrecv"},{kind:"video",uri:"urn:ietf:params:rtp-hdrext:sdes:mid",preferredId:1,preferredEncrypt:!1,direction:"sendrecv"},{kind:"video",uri:"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id",preferredId:2,preferredEncrypt:!1,direction:"recvonly"},{kind:"video",uri:"urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id",preferredId:3,preferredEncrypt:!1,direction:"recvonly"},{kind:"audio",uri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time",preferredId:4,preferredEncrypt:!1,direction:"sendrecv"},{kind:"video",uri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time",preferredId:4,preferredEncrypt:!1,direction:"sendrecv"},{kind:"audio",uri:"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01",preferredId:5,preferredEncrypt:!1,direction:"recvonly"},{kind:"video",uri:"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01",preferredId:5,preferredEncrypt:!1,direction:"sendrecv"},{kind:"audio",uri:"urn:ietf:params:rtp-hdrext:ssrc-audio-level",preferredId:10,preferredEncrypt:!1,direction:"sendrecv"},{kind:"video",uri:"urn:3gpp:video-orientation",preferredId:11,preferredEncrypt:!1,direction:"sendrecv"},{kind:"video",uri:"urn:ietf:params:rtp-hdrext:toffset",preferredId:12,preferredEncrypt:!1,direction:"sendrecv"}]})}function n(){return{codecs:[{mimeType:"audio/opus",kind:"audio",preferredPayloadType:111,clockRate:48e3,channels:2,rtcpFeedback:[{type:"transport-cc"}],parameters:{minptime:10,useinbandfec:1}},{mimeType:"audio/ISAC",kind:"audio",preferredPayloadType:103,clockRate:16e3,channels:1,rtcpFeedback:[{type:"transport-cc"}],parameters:{}},{mimeType:"audio/CN",kind:"audio",preferredPayloadType:106,clockRate:32e3,channels:1,rtcpFeedback:[{type:"transport-cc"}],parameters:{}},{mimeType:"audio/foo",kind:"audio",preferredPayloadType:107,clockRate:9e4,channels:4,rtcpFeedback:[{type:"foo-qwe-qwe"}],parameters:{foo:"lalala"}},{mimeType:"video/BAZCODEC",kind:"video",preferredPayloadType:100,clockRate:9e4,rtcpFeedback:[{type:"foo"},{type:"transport-cc"},{type:"ccm",parameter:"fir"},{type:"nack"},{type:"nack",parameter:"pli"}],parameters:{baz:"1234abcd"}},{mimeType:"video/rtx",kind:"video",preferredPayloadType:101,clockRate:9e4,rtcpFeedback:[],parameters:{apt:100}},{mimeType:"video/VP8",kind:"video",preferredPayloadType:96,clockRate:9e4,rtcpFeedback:[{type:"goog-remb"},{type:"transport-cc"},{type:"ccm",parameter:"fir"},{type:"nack"},{type:"nack",parameter:"pli"}],parameters:{baz:"1234abcd"}},{mimeType:"video/rtx",kind:"video",preferredPayloadType:97,clockRate:9e4,rtcpFeedback:[],parameters:{apt:96}},{mimeType:"video/VP9",kind:"video",preferredPayloadType:98,clockRate:9e4,rtcpFeedback:[{type:"goog-remb"},{type:"transport-cc"},{type:"ccm",parameter:"fir"},{type:"nack"},{type:"nack",parameter:"pli"}],parameters:{"profile-id":0}},{mimeType:"video/rtx",kind:"video",preferredPayloadType:99,clockRate:9e4,rtcpFeedback:[],parameters:{apt:98}}],headerExtensions:[{kind:"audio",uri:"urn:ietf:params:rtp-hdrext:sdes:mid",preferredId:1},{kind:"video",uri:"urn:ietf:params:rtp-hdrext:sdes:mid",preferredId:1},{kind:"video",uri:"urn:ietf:params:rtp-hdrext:toffset",preferredId:2},{kind:"video",uri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time",preferredId:3},{kind:"video",uri:"urn:3gpp:video-orientation",preferredId:4},{kind:"video",uri:"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01",preferredId:5},{kind:"video",uri:"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay",preferredId:6},{kind:"video",uri:"http://www.webrtc.org/experiments/rtp-hdrext/video-content-type",preferredId:7},{kind:"video",uri:"http://www.webrtc.org/experiments/rtp-hdrext/video-timing",preferredId:8},{kind:"audio",uri:"urn:ietf:params:rtp-hdrext:ssrc-audio-level",preferredId:10}]}}function a(){return e.deepFreeze({numStreams:{OS:2048,MIS:2048}})}function o(){return e.deepFreeze({fingerprints:[{algorithm:"sha-256",value:"82:5A:68:3D:36:C3:0A:DE:AF:E7:32:43:D2:88:83:57:AC:2D:65:E5:80:C4:B6:FB:AF:1A:A0:21:9F:6D:0C:AD"}],role:"auto"})}function u(){return{id:t(),iceParameters:e.deepFreeze({iceLite:!0,password:"yku5ej8nvfaor28lvtrabcx0wkrpkztz",usernameFragment:"h3hk1iz6qqlnqlne"}),iceCandidates:e.deepFreeze([{foundation:"udpcandidate",address:"9.9.9.9",ip:"9.9.9.9",port:40533,priority:1078862079,protocol:"udp",type:"host",tcpType:"passive"},{foundation:"udpcandidate",address:"9.9.9.9",ip:"9:9:9:9:9:9",port:41333,priority:1078862089,protocol:"udp",type:"host",tcpType:"passive"}]),dtlsParameters:e.deepFreeze({fingerprints:[{algorithm:"sha-256",value:"A9:F4:E0:D2:74:D3:0F:D9:CA:A5:2F:9F:7F:47:FA:F0:C4:72:DD:73:49:D0:3B:14:90:20:51:30:1B:90:8E:71"},{algorithm:"sha-384",value:"03:D9:0B:87:13:98:F6:6D:BC:FC:92:2E:39:D4:E1:97:32:61:30:56:84:70:81:6E:D1:82:97:EA:D9:C1:21:0F:6B:C5:E7:7F:E1:97:0C:17:97:6E:CF:B3:EF:2E:74:B0"},{algorithm:"sha-512",value:"84:27:A4:28:A4:73:AF:43:02:2A:44:68:FF:2F:29:5C:3B:11:9A:60:F4:A8:F0:F5:AC:A0:E3:49:3E:B1:34:53:A9:85:CE:51:9B:ED:87:5E:B8:F4:8E:3D:FA:20:51:B8:96:EE:DA:56:DC:2F:5C:62:79:15:23:E0:21:82:2B:2C"}],role:"auto"}),sctpParameters:e.deepFreeze({port:5e3,OS:2048,MIS:2048,maxMessageSize:2e6})}}function c(){return e.deepFreeze({id:t()})}function p({id:m,codecMimeType:b}={}){switch(b){case"audio/opus":return{id:m??t(),producerId:t(),kind:"audio",rtpParameters:e.deepFreeze({codecs:[{mimeType:"audio/opus",payloadType:100,clockRate:48e3,channels:2,rtcpFeedback:[{type:"transport-cc"}],parameters:{useinbandfec:1,foo:"bar"}}],encodings:[{ssrc:46687003}],headerExtensions:[{uri:"urn:ietf:params:rtp-hdrext:sdes:mid",id:1},{uri:"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01",id:5},{uri:"urn:ietf:params:rtp-hdrext:ssrc-audio-level",id:10}],rtcp:{cname:"wB4Ql4lrsxYLjzuN",reducedSize:!0,mux:!0}})};case"audio/ISAC":return{id:m??t(),producerId:t(),kind:"audio",rtpParameters:e.deepFreeze({codecs:[{mimeType:"audio/ISAC",payloadType:111,clockRate:16e3,channels:1,rtcpFeedback:[{type:"transport-cc"}],parameters:{}}],encodings:[{ssrc:46687004}],headerExtensions:[{uri:"urn:ietf:params:rtp-hdrext:sdes:mid",id:1},{uri:"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01",id:5}],rtcp:{cname:"wB4Ql4lrsxYLjzuN",reducedSize:!0,mux:!0}})};case"video/VP8":return{id:m??t(),producerId:t(),kind:"video",rtpParameters:e.deepFreeze({codecs:[{mimeType:"video/VP8",payloadType:101,clockRate:9e4,rtcpFeedback:[{type:"nack"},{type:"nack",parameter:"pli"},{type:"ccm",parameter:"fir"},{type:"goog-remb"},{type:"transport-cc"}],parameters:{"x-google-start-bitrate":1500}},{mimeType:"video/rtx",payloadType:102,clockRate:9e4,rtcpFeedback:[],parameters:{apt:101}}],encodings:[{ssrc:99991111,rtx:{ssrc:99991112}}],headerExtensions:[{uri:"urn:ietf:params:rtp-hdrext:sdes:mid",id:1},{uri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time",id:4},{uri:"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01",id:5},{uri:"urn:3gpp:video-orientation",id:11},{uri:"urn:ietf:params:rtp-hdrext:toffset",id:12}],rtcp:{cname:"wB4Ql4lrsxYLjzuN",reducedSize:!0,mux:!0}})};case"video/H264":return{id:m??t(),producerId:t(),kind:"video",rtpParameters:e.deepFreeze({codecs:[{mimeType:"video/H264",payloadType:103,clockRate:9e4,rtcpFeedback:[{type:"nack"},{type:"nack",parameter:"pli"},{type:"ccm",parameter:"fir"},{type:"goog-remb"},{type:"transport-cc"}],parameters:{"level-asymmetry-allowed":1,"packetization-mode":1,"profile-level-id":"42e01f"}},{mimeType:"video/rtx",payloadType:104,clockRate:9e4,rtcpFeedback:[],parameters:{apt:103}}],encodings:[{ssrc:99991113,rtx:{ssrc:99991114}}],headerExtensions:[{uri:"urn:ietf:params:rtp-hdrext:sdes:mid",id:1},{uri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time",id:4},{uri:"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01",id:5},{uri:"urn:3gpp:video-orientation",id:11},{uri:"urn:ietf:params:rtp-hdrext:toffset",id:12}],rtcp:{cname:"wB4Ql4lrsxYLjzuN",reducedSize:!0,mux:!0}})};default:throw new TypeError(`unknown codecMimeType '${b}'`)}}function h(){return e.deepFreeze({id:t()})}function f({id:m}={}){return{id:m??t(),dataProducerId:t(),sctpStreamParameters:e.deepFreeze({streamId:666,maxPacketLifeTime:5e3,maxRetransmits:void 0})}}return li}var cM;function I7(){return cM||(cM=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.debug=e.testFakeParameters=e.FakeHandler=e.enhancedEvents=e.ortc=e.parseScalabilityMode=e.detectDeviceAsync=e.detectDevice=e.Device=e.version=e.types=void 0;const t=y_();e.debug=t.default,e.types=eEe(),e.version="3.18.6";var r=_Ee();Object.defineProperty(e,"Device",{enumerable:!0,get:function(){return r.Device}}),Object.defineProperty(e,"detectDevice",{enumerable:!0,get:function(){return r.detectDevice}}),Object.defineProperty(e,"detectDeviceAsync",{enumerable:!0,get:function(){return r.detectDeviceAsync}});var n=vf();Object.defineProperty(e,"parseScalabilityMode",{enumerable:!0,get:function(){return n.parse}}),e.ortc=Wo(),e.enhancedEvents=Ha();var a=NEe();Object.defineProperty(e,"FakeHandler",{enumerable:!0,get:function(){return a.FakeHandler}}),e.testFakeParameters=EEe()})(Lw)),Lw}var TEe=I7();function $7(e,t){const[r,n]=v.useState(new Map),[a,o]=v.useState(null),[u,c]=v.useState(!1),p=v.useRef(null),h=v.useRef(null),f=v.useRef(b=>{const _=h.current;_&&(b?_.pause():_.resume())}),m=v.useRef(()=>{});return v.useEffect(()=>{if(!e||!t)return;c(!1);const b=e,_=t;let j=!1,w=null,y=null,x=null,S=null,T=null,N=null;const P=new Map;function A(R){return new Promise((D,I)=>{const q=setTimeout(()=>I(new Error(`Timeout waiting for ${R}`)),15e3),z=P.get(R)??[];z.push(M=>{clearTimeout(q);const F=z.indexOf(z[z.length-1]);F!==-1&&z.splice(F,1),D(M)}),P.set(R,z)})}async function k(R,D){try{let I=function(J){if(Z.forEach(we=>{try{we.disconnect()}catch{}}),Z.length=0,J&&J.src){const we=O.createMediaElementSource(J);we.connect($),Z.push(we)}};const q=R.startsWith("ws")?R:R.replace(/^http/,"ws");if(w=new WebSocket(`${q}?roomId=${encodeURIComponent(D)}`),await new Promise((J,we)=>{w.onopen=()=>J(),w.onerror=()=>we(new Error("WebSocket failed"))}),j)return;let z=()=>{};w.onmessage=J=>{try{const we=JSON.parse(J.data);if(we.type==="newProducer"&&typeof we.producerId=="string"){z(we.producerId);return}const Ne=P.get(we.type);if(Ne!=null&&Ne.length){const ge=Ne.shift();ge&&ge(we)}}catch{}},w.send(JSON.stringify({type:"getRouterRtpCapabilities"}));const M=await A("routerRtpCapabilities");if(j||(y=new TEe.Device,await y.load({routerRtpCapabilities:M.rtpCapabilities}),j))return;if(N=await navigator.mediaDevices.getUserMedia({audio:!0,video:!1}),!N.getAudioTracks()[0])throw new Error("No audio track");const B=window.AudioContext||window.webkitAudioContext,O=new B,$=O.createGain();$.gain.value=1;const K=O.createMediaStreamDestination();$.connect(K),O.createMediaStreamSource(N).connect($);const Z=[];m.current=I,T=K.stream;const H=T.getAudioTracks()[0];if(!H)throw new Error("No audio track");p.current=()=>{O.close()},w.send(JSON.stringify({type:"createWebRtcTransport"}));const X=await A("webRtcTransportCreated");if(j)return;x=y.createSendTransport({id:X.id,iceParameters:X.iceParameters,iceCandidates:X.iceCandidates,dtlsParameters:X.dtlsParameters}),x.on("connect",async({dtlsParameters:J},we)=>{w==null||w.send(JSON.stringify({type:"connectWebRtcTransport",transportId:X.id,dtlsParameters:J})),await A("webRtcTransportConnected"),we()}),x.on("produce",async({kind:J,rtpParameters:we},Ne,ge)=>{try{w==null||w.send(JSON.stringify({type:"produce",transportId:X.id,kind:J,rtpParameters:we}));const Pe=await A("produced");if(j)return;Ne({id:Pe.id})}catch(Pe){ge(Pe)}});const te=await x.produce({track:H});if(j)return;h.current=te,c(!0);const le=te.id;w.send(JSON.stringify({type:"createWebRtcTransport"}));const me=await A("webRtcTransportCreated");if(j)return;S=y.createRecvTransport({id:me.id,iceParameters:me.iceParameters,iceCandidates:me.iceCandidates,dtlsParameters:me.dtlsParameters}),S.on("connect",async({dtlsParameters:J},we)=>{w==null||w.send(JSON.stringify({type:"connectWebRtcTransport",transportId:me.id,dtlsParameters:J})),await A("webRtcTransportConnected"),we()});async function ke(J){w==null||w.send(JSON.stringify({type:"consume",transportId:me.id,producerId:J,rtpCapabilities:y.rtpCapabilities}));const we=await A("consumed");return await S.consume({id:we.id,producerId:we.producerId,kind:we.kind,rtpParameters:we.rtpParameters})}w.send(JSON.stringify({type:"getProducers"}));const xe=await A("producers");if(j)return;const He=new Set;for(const J of xe.producerIds||[])if(J!==le)try{const we=await ke(J);if(j)return;He.add(J),n(Ne=>new Map(Ne).set(we.id,we.track))}catch{}z=async J=>{if(!(J===le||He.has(J)||j))try{const we=await ke(J);if(j)return;He.add(J),n(Ne=>new Map(Ne).set(we.id,we.track))}catch{}}}catch(I){j||o(I instanceof Error?I.message:"Media failed")}}return k(b,_),()=>{var R;j=!0,(R=p.current)==null||R.call(p),P.forEach(D=>D.forEach(I=>I(null))),w==null||w.close(),T==null||T.getTracks().forEach(D=>D.stop()),N==null||N.getTracks().forEach(D=>D.stop()),x==null||x.close(),S==null||S.close()}},[e,t]),{remoteTracks:r,error:a,ready:u,setMuted:b=>f.current(b),connectSoundboard:b=>m.current(b)}}const PEe="_enableAudioBtn_xu8h7_1",AEe={enableAudioBtn:PEe};function B7({track:e}){const t=v.useRef(null),[r,n]=v.useState(!1);v.useEffect(()=>{const o=t.current;!o||!e||(o.srcObject=new MediaStream([e]),o.volume=1,o.play().then(()=>n(!1)).catch(()=>n(!0)))},[e]);const a=()=>{var o;(o=t.current)==null||o.play().then(()=>n(!1)).catch(()=>{})};return i.jsxs(i.Fragment,{children:[i.jsx("audio",{ref:t,autoPlay:!0,playsInline:!0,style:{position:"absolute",left:-9999,width:1,height:1,overflow:"hidden"},"aria-hidden":!0}),r&&i.jsx("button",{type:"button",onClick:a,className:AEe.enableAudioBtn,children:"Click to enable audio"})]})}const REe="_soundboard_1umql_1",OEe="_soundboardLabel_1umql_7",DEe="_soundboardGrid_1umql_14",MEe="_soundboardBtn_1umql_20",LEe="_soundboardBtnActive_1umql_21",IEe="_soundboardBtnLabel_1umql_50",$Ee="_soundboardEmpty_1umql_55",wc={soundboard:REe,soundboardLabel:OEe,soundboardGrid:DEe,soundboardBtn:MEe,soundboardBtnActive:LEe,soundboardBtnLabel:IEe,soundboardEmpty:$Ee},BEe=8;function zEe({connectSoundboard:e,disabled:t}){const r=v.useRef(null),[n,a]=v.useState(null),{data:o}=De({queryKey:["library"],queryFn:()=>d2()}),u=((o==null?void 0:o.assets)??[]).slice(0,BEe);v.useEffect(()=>()=>{r.current&&(r.current.pause(),e(null),r.current=null),a(null)},[e]);function c(p){if(t)return;if(n===p.id){r.current&&(r.current.pause(),e(null),r.current=null),a(null);return}r.current&&(r.current.pause(),e(null),r.current=null);const h=new Audio(Sj(p.id));r.current=h,a(p.id),h.play().catch(()=>{e(null),r.current=null,a(null)}),h.onended=()=>{e(null),r.current=null,a(null)},e(h)}return i.jsxs("div",{className:wc.soundboard,children:[i.jsx("span",{className:wc.soundboardLabel,children:"Soundboard"}),i.jsxs("div",{className:wc.soundboardGrid,children:[u.map(p=>i.jsxs("button",{type:"button",className:n===p.id?wc.soundboardBtnActive:wc.soundboardBtn,onClick:()=>c(p),disabled:t,title:p.name,"aria-label":n===p.id?`Stop ${p.name}`:`Play ${p.name}`,children:[n===p.id?i.jsx(eL,{size:14}):i.jsx(qi,{size:14}),i.jsx("span",{className:wc.soundboardBtnLabel,children:p.name})]},p.id)),u.length===0&&i.jsx("span",{className:wc.soundboardEmpty,children:"No library items"})]})]})}const FEe="_panel_1kdey_1",qEe="_header_1kdey_27",UEe="_headerSpacer_1kdey_34",HEe="_iconBtn_1kdey_39",WEe="_endBtnHeader_1kdey_56",KEe="_title_1kdey_75",GEe="_mediaUnavailableBanner_1kdey_80",VEe="_joinRow_1kdey_90",YEe="_joinInput_1kdey_95",QEe="_copyBtn_1kdey_106",XEe="_displayNameRow_1kdey_126",ZEe="_displayNameInput_1kdey_132",JEe="_displayNameBtn_1kdey_146",eTe="_displayNameText_1kdey_164",tTe="_participants_1kdey_168",rTe="_recordingProcessing_1kdey_174",nTe="_mediaError_1kdey_184",aTe="_participantsLabel_1kdey_190",iTe="_participantsList_1kdey_197",sTe="_participant_1kdey_168",oTe="_participantName_1kdey_215",lTe="_participantActions_1kdey_220",cTe="_muteBtn_1kdey_226",uTe="_disconnectBtn_1kdey_227",dTe="_recordSection_1kdey_247",fTe="_recordRow_1kdey_254",pTe="_recordSegmentBtn_1kdey_259",hTe="_stopRecordBtn_1kdey_260",mTe="_alreadyInCallMessage_1kdey_295",gTe="_migrateBtn_1kdey_301",Ot={panel:FEe,header:qEe,headerSpacer:UEe,iconBtn:HEe,endBtnHeader:WEe,title:KEe,mediaUnavailableBanner:GEe,joinRow:VEe,joinInput:YEe,copyBtn:QEe,displayNameRow:XEe,displayNameInput:ZEe,displayNameBtn:JEe,displayNameText:eTe,participants:tTe,recordingProcessing:rTe,mediaError:nTe,participantsLabel:aTe,participantsList:iTe,participant:sTe,participantName:oTe,participantActions:lTe,muteBtn:cTe,disconnectBtn:uTe,recordSection:dTe,recordRow:fTe,recordSegmentBtn:pTe,stopRecordBtn:hTe,alreadyInCallMessage:mTe,migrateBtn:gTe},vTe=3e4,Ww="harborfm_call_display_name";function yTe({sessionId:e,joinUrl:t,webrtcUrl:r,roomId:n,mediaUnavailable:a,onEnd:o,onCallEnded:u,onSegmentRecorded:c,onEndRequest:p}){const[h,f]=v.useState(()=>{var Pe;return typeof window>"u"?"":((Pe=localStorage.getItem(Ww))==null?void 0:Pe.trim())||""}),[m,b]=v.useState(!1),[_,j]=v.useState([]),[w,y]=v.useState(!1),[x,S]=v.useState(!1),[T,N]=v.useState(!1),[P,A]=v.useState(null),[k,R]=v.useState(!1),[D,I]=v.useState(void 0),[q,z]=v.useState(void 0),[M,F]=v.useState(!1),B=v.useRef(null),O=v.useRef(null),$=D??r,K=q??n,{remoteTracks:Y,error:Z,ready:H,setMuted:X,connectSoundboard:te}=$7($,K),le=a&&!$&&!K;v.useEffect(()=>{F(!1),I(void 0),z(void 0);const Pe=D7(),Ae=new WebSocket(Pe);return B.current=Ae,Ae.onopen=()=>{var Me;const Ze=((Me=localStorage.getItem(Ww))==null?void 0:Me.trim())||"";Ae.send(JSON.stringify({type:"host",sessionId:e,name:Ze||void 0}))},Ae.onmessage=Ze=>{try{const Me=JSON.parse(Ze.data);Me.type==="alreadyInCall"?F(!0):Me.type==="joined"&&Me.participants?(F(!1),j(Me.participants),Me.webrtcUrl&&I(Me.webrtcUrl),Me.roomId&&z(Me.roomId)):Me.type==="participants"?j(Me.participants??[]):Me.type==="participantJoined"?j(We=>{const be=Me.participant;return be&&!We.some(Qe=>Qe.id===be.id)?[...We,be]:We}):Me.type==="callEnded"||Me.type==="error"?u():Me.type==="recordingStarted"?(S(!0),N(!1)):Me.type==="recordingStopped"?(S(!1),A(null),N(!0)):Me.type==="recordingError"?(S(!1),N(!1),A(Me.error??"Recording failed")):Me.type==="recordingStopFailed"?(S(!1),N(!1),A(Me.error??"Failed to stop recording")):Me.type==="segmentRecorded"?(S(!1),A(null),N(!1),c==null||c()):Me.type==="setMute"&&X(Me.muted===!0)}catch{}},Ae.onclose=()=>{u()},Ae.onerror=()=>{u()},O.current=setInterval(()=>{Ae.readyState===WebSocket.OPEN&&Ae.send(JSON.stringify({type:"heartbeat"}))},vTe),()=>{O.current&&clearInterval(O.current),Ae.readyState===WebSocket.OPEN&&(Ae.send(JSON.stringify({type:"endCall"})),Ae.close()),B.current=null}},[e,u]);const me=Pe=>{var Ze;const Ae=Pe.trim();Ae&&(f(Ae),typeof window<"u"&&localStorage.setItem(Ww,Ae),((Ze=B.current)==null?void 0:Ze.readyState)===WebSocket.OPEN&&B.current.send(JSON.stringify({type:"updateHostName",name:Ae}))),b(!1)},ke=()=>{navigator.clipboard.writeText(t).then(()=>{y(!0),setTimeout(()=>y(!1),2e3)})},xe=()=>{var Pe;((Pe=B.current)==null?void 0:Pe.readyState)===WebSocket.OPEN&&(B.current.send(JSON.stringify({type:"endCall"})),B.current.close()),o()},He=()=>{var Pe;((Pe=B.current)==null?void 0:Pe.readyState)===WebSocket.OPEN&&(B.current.send(JSON.stringify({type:"startRecording"})),S(!0))},J=()=>{var Pe;((Pe=B.current)==null?void 0:Pe.readyState)===WebSocket.OPEN&&(B.current.send(JSON.stringify({type:"stopRecording"})),S(!1))},we=(Pe,Ae)=>{var Ze;((Ze=B.current)==null?void 0:Ze.readyState)===WebSocket.OPEN&&B.current.send(JSON.stringify({type:"setMute",participantId:Pe,muted:Ae}))},Ne=Pe=>{var Ae;((Ae=B.current)==null?void 0:Ae.readyState)===WebSocket.OPEN&&B.current.send(JSON.stringify({type:"disconnectParticipant",participantId:Pe}))},ge=()=>{var Pe;((Pe=B.current)==null?void 0:Pe.readyState)===WebSocket.OPEN&&B.current.send(JSON.stringify({type:"migrateHost"}))};return M?i.jsxs("div",{className:Ot.panel,role:"region","aria-label":"Group call",children:[i.jsxs("div",{className:Ot.header,children:[i.jsx(mh,{size:18,strokeWidth:2,"aria-hidden":!0}),i.jsx("span",{className:Ot.title,children:"Group call"})]}),i.jsx("p",{className:Ot.alreadyInCallMessage,children:"This user is already in the call in another tab."}),i.jsx("button",{type:"button",className:Ot.migrateBtn,onClick:ge,"aria-label":"Migrate call to this tab",children:"Migrate call to this tab"})]}):i.jsxs("div",{className:Ot.panel,role:"region","aria-label":"Group call","data-minimized":k||void 0,children:[i.jsxs("div",{className:Ot.header,children:[i.jsx(mh,{size:18,strokeWidth:2,"aria-hidden":!0}),i.jsx("span",{className:Ot.title,children:"Group call"}),i.jsx("span",{className:Ot.headerSpacer}),i.jsx("button",{type:"button",className:Ot.iconBtn,onClick:()=>R(!k),"aria-label":k?"Maximize":"Minimize",title:k?"Maximize":"Minimize",children:k?i.jsx(uq,{size:16}):i.jsx(bq,{size:16})}),i.jsxs("button",{type:"button",className:Ot.endBtnHeader,onClick:p??xe,"aria-label":"End call",children:[i.jsx(jq,{size:16,strokeWidth:2,"aria-hidden":!0}),"End call"]})]}),!k&&le&&i.jsx("p",{className:Ot.mediaUnavailableBanner,role:"status",children:"Audio is unavailable  WebRTC service is not running or unreachable. Guests can join the call but won't have audio until the service is started."}),!k&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:Ot.joinRow,children:[i.jsx("input",{type:"text",readOnly:!0,value:t,className:Ot.joinInput,"aria-label":"Join link"}),i.jsxs("button",{type:"button",className:Ot.copyBtn,onClick:ke,"aria-label":w?"Copied":"Copy join link",title:"Copy link",children:[i.jsx(fh,{size:16,strokeWidth:2}),w?" Copied":" Copy"]})]}),i.jsxs("div",{className:Ot.participants,children:[i.jsx(zEe,{connectSoundboard:te,disabled:!$||!H}),i.jsxs("div",{className:Ot.displayNameRow,children:[i.jsx("span",{className:Ot.participantsLabel,children:"Your name"}),m?i.jsx("input",{type:"text",className:Ot.displayNameInput,defaultValue:h,placeholder:"Enter your name",maxLength:100,autoFocus:!0,onBlur:Pe=>me(Pe.target.value),onKeyDown:Pe=>{Pe.key==="Enter"?Pe.target.blur():Pe.key==="Escape"&&b(!1)},"aria-label":"Your display name"}):i.jsxs("button",{type:"button",className:Ot.displayNameBtn,onClick:()=>b(!0),"aria-label":"Edit your name",children:[i.jsx("span",{className:Ot.displayNameText,children:h||"Set your name"}),i.jsx(sb,{size:12})]})]}),i.jsxs("span",{className:Ot.participantsLabel,children:["Participants (",_.length,")"]}),i.jsx("ul",{className:Ot.participantsList,children:_.map(Pe=>i.jsxs("li",{className:Ot.participant,children:[i.jsxs("span",{className:Ot.participantName,children:[Pe.name,Pe.isHost&&" (Host)",Pe.muted&&" (muted)"]}),!Pe.isHost&&i.jsxs("span",{className:Ot.participantActions,children:[i.jsx("button",{type:"button",className:Ot.muteBtn,onClick:()=>we(Pe.id,!Pe.muted),"aria-label":Pe.muted?"Unmute":"Mute",title:Pe.muted?"Unmute":"Mute",children:Pe.muted?i.jsx(mq,{size:14}):i.jsx($d,{size:14})}),i.jsx("button",{type:"button",className:Ot.disconnectBtn,onClick:()=>Ne(Pe.id),"aria-label":"Disconnect",title:"Disconnect",children:i.jsx(Wq,{size:14})})]})]},Pe.id))}),Z&&i.jsx("p",{className:Ot.mediaError,children:Z}),Array.from(Y.entries()).map(([Pe,Ae])=>i.jsx(B7,{track:Ae},Pe))]})]}),i.jsxs("div",{className:Ot.recordSection,children:[i.jsx("div",{className:Ot.recordRow,children:x?i.jsxs("button",{type:"button",className:Ot.stopRecordBtn,onClick:J,"aria-label":"Stop recording",children:[i.jsx(eL,{size:16,strokeWidth:2,"aria-hidden":!0}),"Stop recording"]}):i.jsxs("button",{type:"button",className:Ot.recordSegmentBtn,onClick:He,"aria-label":"Record segment from call","data-producer-ready":$&&H?"true":void 0,children:[i.jsx($d,{size:16,strokeWidth:2,"aria-hidden":!0}),"Record segment"]})}),!k&&T&&i.jsx("p",{className:Ot.recordingProcessing,role:"status",children:"Recording stopped successfully. We're now processing the segment. It should be added shortly."}),!k&&P&&i.jsx("p",{className:Ot.mediaError,children:P})]})]})}function bTe({open:e,onOpenChange:t,onConfirm:r}){return i.jsx(cr,{open:e,onOpenChange:n=>!n&&t(!1),children:i.jsxs(mr,{children:[i.jsx(ur,{className:W.dialogOverlay}),i.jsxs(dr,{className:W.dialogContent,children:[i.jsxs("div",{className:W.dialogHeaderRow,children:[i.jsx(fr,{className:W.dialogTitle,children:"End group call?"}),i.jsx(dt,{asChild:!0,children:i.jsx("button",{type:"button",className:W.dialogClose,"aria-label":"Close",children:i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":"true"})})})]}),i.jsx(kr,{className:W.dialogDescription,children:"The call will end for all participants. This cannot be undone."}),i.jsxs("div",{className:W.dialogActions,children:[i.jsx(dt,{asChild:!0,children:i.jsx("button",{type:"button",className:W.cancel,"aria-label":"Cancel ending call",children:"Cancel"})}),i.jsx("button",{type:"button",className:W.dialogConfirmRemove,onClick:()=>{r(),t(!1)},"aria-label":"Confirm end call",children:"End call"})]})]})]})})}function _Te({episode:e,podcast:t,segments:r,segmentsLoading:n,asrAvail:a}){var Ko,ka,fe,je,gt,Oe,re,Ke,it,st,St;const o=e.id,u=e.podcast_id,c=Bt(),{user:p}=As(),{data:h}=De({queryKey:["me"],queryFn:Si}),f=((t==null?void 0:t.can_record_new_section)??QH(h))===!0,m=lu((h==null?void 0:h.user)??p),b=t==null?void 0:t.my_role,_=b==="owner"||b==="manager",j=b==="owner"||b==="manager"||b==="editor",w=m||!j,y=m||!_,[x,S]=v.useState(()=>Rw(e)),[T,N]=v.useState(()=>Rw(e)),[P,A]=v.useState(!1),[k,R]=v.useState(!1),[D,I]=v.useState(!1),[q,z]=v.useState(null),[M,F]=v.useState(null),[B,O]=v.useState(null),[$,K]=v.useState("url"),[Y,Z]=v.useState(null),[H,X]=v.useState(null),[te,le]=v.useState(0),[me,ke]=v.useState(""),[xe,He]=v.useState(!1),[J,we]=v.useState(null),[Ne,ge]=v.useState(null),[Pe,Ae]=v.useState(!1),[Ze,Me]=v.useState(null),[We,be]=v.useState(null),[Qe,Tr]=v.useState(!1),mt=v.useRef(new Map),zr=v.useRef(null),Rn=v.useRef(null),Gt=v.useRef(null),cn=v.useRef(null);v.useEffect(()=>{!o||w||XNe(o).then(pe=>{pe&&Me({sessionId:pe.sessionId,token:pe.token,joinUrl:pe.joinUrl,webrtcUrl:pe.webrtcUrl,roomId:pe.roomId,webrtcUnavailable:pe.webrtcUnavailable})}).catch(()=>{})},[o,w]);const Hn=v.useCallback(()=>Me(null),[]),ia=v.useCallback(()=>{Me(null),Tr(!1)},[]),Re=v.useCallback(()=>{be(null),YNe(o).then(pe=>{Me({sessionId:pe.sessionId,token:pe.token,joinUrl:pe.joinUrl,webrtcUrl:pe.webrtcUrl,roomId:pe.roomId,webrtcUnavailable:pe.webrtcUnavailable})}).catch(pe=>{be((pe==null?void 0:pe.message)??"Failed to start call. Please try again.")})},[o]),ut=v.useCallback(pe=>{var Le;for(const[bt,or]of mt.current)bt!==pe&&or();(Le=cn.current)==null||Le.call(cn),Rn.current=pe},[]),jt=v.useCallback((pe,Le)=>{mt.current.set(pe,Le)},[]),Lt=v.useCallback(pe=>{mt.current.delete(pe),Rn.current===pe&&(Rn.current=null)},[]),xt=v.useCallback(()=>{for(const pe of mt.current.values())pe();Rn.current=null},[]);v.useEffect(()=>{S(Rw(e))},[e]),v.useEffect(()=>{const pe=(T.artworkUrl??"").trim();if(!pe){ke("");return}const Le=setTimeout(()=>ke(pe),400);return()=>clearTimeout(Le)},[T.artworkUrl]),v.useEffect(()=>{if(!Y){X(Le=>(Le&&URL.revokeObjectURL(Le),null));return}const pe=URL.createObjectURL(Y);return X(pe),()=>URL.revokeObjectURL(pe)},[Y]);const ot=Ve({mutationFn:pe=>Kwe(o,pe),onSuccess:()=>{c.invalidateQueries({queryKey:["episode",o]}),c.invalidateQueries({queryKey:["episodes",u]}),I(!1),Z(null),le(pe=>pe+1)}}),wt=Ve({mutationFn:pe=>Gwe(u,o,pe),onSuccess:()=>{c.invalidateQueries({queryKey:["episode",o]}),c.invalidateQueries({queryKey:["episodes",u]}),le(pe=>pe+1)}});v.useEffect(()=>{D&&(N(x),K(e.artwork_filename?"upload":"url"),Z(null),ke((x.artworkUrl??"").trim()),ot.reset(),wt.reset())},[D,x,e.artwork_filename,x.artworkUrl]);const rr=Ve({mutationFn:({file:pe,name:Le})=>jSe(o,pe,Le),onSuccess:()=>{c.invalidateQueries({queryKey:["segments",o]}),c.invalidateQueries({queryKey:["me"]}),A(!1)}}),xr=Ve({mutationFn:({segmentId:pe,name:Le})=>NSe(o,pe,{name:Le}),onSuccess:()=>c.invalidateQueries({queryKey:["segments",o]})}),un=Ve({mutationFn:pe=>CSe(o,pe),onSuccess:()=>{c.invalidateQueries({queryKey:["segments",o]}),R(!1)}}),sa=Ve({mutationFn:pe=>kSe(o,pe),onSuccess:()=>c.invalidateQueries({queryKey:["segments",o]})}),On=Ve({mutationFn:pe=>PSe(o,pe),onSuccess:()=>{c.invalidateQueries({queryKey:["segments",o]}),c.invalidateQueries({queryKey:["me"]})}}),Sa=Ve({mutationFn:()=>BSe(o),onSuccess:pe=>{(pe.status==="building"||pe.status==="already_building")&&(ge(null),He(!0),we(pe.status==="already_building"?pe.message??"A build is already in progress.":null))}}),ki=5e3,Wa=Ve({mutationFn:async()=>{for(await OSe(o);;){await new Promise(bt=>setTimeout(bt,ki));const{status:pe,error:Le}=await DSe(o);if(pe==="done")return;if(pe==="failed")throw new Error(Le??"Transcript generation failed")}},onSuccess:()=>{c.invalidateQueries({queryKey:["episode",o]}),Ae(!0)}});v.useEffect(()=>{o&&p4(o).then(({status:pe})=>{pe==="building"&&(He(!0),we("A build is already in progress."))}).catch(()=>{})},[o]),v.useEffect(()=>{if(!xe||!o)return;const pe=()=>{p4(o).then(({status:Le,error:bt})=>{Le==="done"?(zr.current&&(clearInterval(zr.current),zr.current=null),He(!1),we(null),ge(null),c.invalidateQueries({queryKey:["episode",o]}),c.invalidateQueries({queryKey:["segments",o]})):Le==="failed"&&(zr.current&&(clearInterval(zr.current),zr.current=null),He(!1),we(null),ge(bt??"Build failed"))}).catch(()=>{})};return pe(),zr.current=setInterval(pe,5e3),()=>{zr.current&&(clearInterval(zr.current),zr.current=null)}},[xe,o,c]);function ja(pe){if(pe<=0)return;const Le=[...r];[Le[pe-1],Le[pe]]=[Le[pe],Le[pe-1]],sa.mutate(Le.map(bt=>bt.id))}function Ji(pe){if(pe>=r.length-1)return;const Le=[...r];[Le[pe],Le[pe+1]]=[Le[pe+1],Le[pe]],sa.mutate(Le.map(bt=>bt.id))}const Ca=[{label:"Home",href:"/"},{label:(t==null?void 0:t.title)??"Show",href:`/podcasts/${u}`,mobileLabel:"Podcast"},{label:"Episodes",href:`/podcasts/${u}/episodes`},{label:e.title,hideOnMobile:!0}];return i.jsxs("div",{className:W.page,children:[i.jsx(rf,{items:Ca}),i.jsx(_Ne,{title:x.title,status:x.status,seasonNumber:x.seasonNumber===""?null:parseInt(x.seasonNumber,10)||null,episodeNumber:x.episodeNumber===""?null:parseInt(x.episodeNumber,10)||null,artworkUrl:e.artwork_url?e.artwork_url:e.artwork_filename?`/api/podcasts/${u}/episodes/${o}/artwork/${encodeURIComponent(e.artwork_filename)}`:null,onEditClick:y?void 0:()=>I(!0),subscriberOnly:e.subscriber_only,shareUrl:t&&e.slug&&(e.status==="scheduled"||e.status==="published")?t.canonical_feed_url?`${t.canonical_feed_url.replace(/\/$/,"")}/${e.slug}`:typeof window<"u"?`${window.location.origin}/feed/${t.slug}/${e.slug}`:void 0:void 0,shareTitle:t?`${e.title} - ${t.title}`:void 0,embedCode:t&&e.slug&&(e.status==="scheduled"||e.status==="published")&&typeof window<"u"?(()=>{const pe=t.canonical_feed_url?t.canonical_feed_url.replace(/\/$/,""):window.location.origin;return`<iframe src="${t.canonical_feed_url?`${pe}/embed/${e.slug}`:`${pe}/embed/${t.slug}/${e.slug}`}" width="100%" height="200" frameborder="0" allowfullscreen></iframe>`})():void 0,onStartGroupCall:!w&&j&&!Ze?Re:void 0,isCallActive:!!Ze,onEndGroupCall:!w&&j&&Ze?()=>Tr(!0):void 0}),i.jsx("div",{className:W.card,children:i.jsx(ANe,{episodeId:o,segments:r,segmentsLoading:n,onAddRecord:()=>A(!0),onAddLibrary:()=>R(!0),recordDisabled:!f,recordDisabledMessage:ZH,readOnly:w,onMoveUp:ja,onMoveDown:Ji,onDeleteRequest:z,onUpdateSegmentName:(pe,Le)=>xr.mutate({segmentId:pe,name:Le}),isDeletingSegment:On.isPending,deletingSegmentId:On.variables??null,onSegmentPlayRequest:ut,onSegmentMoreInfo:pe=>{xt(),F(pe)},registerSegmentPause:jt,unregisterSegmentPause:Lt})}),i.jsx(ENe,{episodeId:o,segmentCount:r.length,onBuild:()=>{ge(null),Sa.mutate()},isBuilding:Sa.isPending||xe,buildMessage:J,hasFinalAudio:!!e.audio_final_path,finalDurationSec:e.audio_duration_sec??0,finalUpdatedAt:e.updated_at,readOnly:w,onFinalPlayStart:xt,pauseAndResetRef:cn,hasTranscript:e.has_transcript===!0,onOpenTranscript:()=>Ae(!0),onGenerateTranscript:e.has_transcript!==!0?async()=>{await Wa.mutateAsync()}:void 0,canGenerateTranscript:((Ko=h==null?void 0:h.user)==null?void 0:Ko.can_transcribe)===1,error:Ne??(Sa.isError?(ka=Sa.error)==null?void 0:ka.message:null)??(Wa.isError?(fe=Wa.error)==null?void 0:fe.message:null)}),i.jsx(TNe,{podcastId:u,episodeId:o,canAssign:j&&!m}),Pe&&i.jsx(VNe,{episodeId:o,onClose:()=>Ae(!1),canEdit:j&&!m}),i.jsx(cr,{open:D,onOpenChange:pe=>!pe&&I(!1),children:i.jsxs(mr,{children:[i.jsx(ur,{className:W.dialogOverlay}),i.jsxs(dr,{className:`${ne.dialogContent} ${ne.dialogContentWide} ${ne.dialogContentScrollable} ${W.episodeDetailsDialog}`,children:[i.jsxs("div",{className:ne.dialogHeaderRow,children:[i.jsx(fr,{className:ne.dialogTitle,children:"Episode Details"}),i.jsx(dt,{asChild:!0,children:i.jsx("button",{type:"button",className:ne.dialogClose,"aria-label":"Close",disabled:ot.isPending||wt.isPending,children:i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":"true"})})})]}),i.jsx(kr,{className:ne.dialogDescription,children:"Edit the episode title, description, and publish settings."}),i.jsx("div",{className:ne.dialogBodyScroll,children:i.jsx(wNe,{form:T,setForm:N,descriptionTextareaRef:Gt,slugDisabled:(p==null?void 0:p.role)!=="admin",onSave:async()=>{const pe=USe(T),Le=Y;if(Le){try{await wt.mutateAsync(Le),Z(null);const{artwork_url:or,...oa}=pe;ot.mutate(oa)}catch{}return}const bt=$==="upload"?(()=>{const{artwork_url:or,...oa}=pe;return oa})():pe;ot.mutate(bt)},onCancel:()=>I(!1),isSaving:ot.isPending,saveError:ot.isError?((je=ot.error)==null?void 0:je.message)??null:wt.isError?((gt=wt.error)==null?void 0:gt.message)??null:null,saveSuccess:ot.isSuccess,coverImageConfig:{podcastId:u,episodeId:o,artworkFilename:e.artwork_filename??null,coverMode:$,setCoverMode:K,pendingArtworkFile:Y,setPendingArtworkFile:Z,pendingArtworkPreviewUrl:H,coverUploadKey:te,debouncedArtworkUrl:me,uploadArtworkPending:wt.isPending}})}),i.jsxs("div",{className:W.dialogFooter,children:[i.jsx("button",{type:"button",className:W.cancel,onClick:()=>I(!1),"aria-label":"Cancel editing episode",children:"Cancel"}),i.jsx("button",{type:"submit",form:"episode-details-form",className:W.submit,disabled:ot.isPending||wt.isPending,"aria-label":"Save episode details",children:wt.isPending?"Uploading...":ot.isPending?"Saving...":"Save"})]})]})]})}),We&&i.jsxs("div",{className:W.callErrorBanner,role:"alert",children:[We,i.jsx("button",{type:"button",className:W.callErrorBannerDismiss,onClick:()=>be(null),"aria-label":"Dismiss",children:""})]}),i.jsx(bTe,{open:Qe,onOpenChange:Tr,onConfirm:ia}),Ze&&i.jsx(yTe,{sessionId:Ze.sessionId,joinUrl:Ze.joinUrl,webrtcUrl:Ze.webrtcUrl,roomId:Ze.roomId,mediaUnavailable:!Ze.webrtcUrl||!Ze.roomId||Ze.webrtcUnavailable,onEnd:Hn,onCallEnded:Hn,onSegmentRecorded:()=>c.invalidateQueries({queryKey:["segments",o]}),onEndRequest:()=>Tr(!0)}),P&&i.jsx(RNe,{onClose:()=>A(!1),onAdd:(pe,Le)=>rr.mutate({file:pe,name:Le}),isAdding:rr.isPending,error:rr.isError?(Oe=rr.error)==null?void 0:Oe.message:void 0}),k&&i.jsx(qNe,{onClose:()=>R(!1),onSelect:pe=>un.mutate(pe),isAdding:un.isPending,error:un.isError?(re=un.error)==null?void 0:re.message:void 0}),M&&i.jsx(GNe,{episodeId:o,segmentId:M,segmentName:((it=(Ke=r.find(pe=>pe.id===M))==null?void 0:Ke.name)==null?void 0:it.trim())||"Section",segmentDuration:((st=r.find(pe=>pe.id===M))==null?void 0:st.duration_sec)??0,segmentAudioPath:(St=r.find(pe=>pe.id===M))==null?void 0:St.audio_path,asrAvailable:!!(a!=null&&a.available),ownerCanTranscribe:(t==null?void 0:t.owner_can_transcribe)===1,onClose:()=>F(null),onDeleteEntry:pe=>{O({episodeId:o,segmentId:M,entryIndex:pe})}}),i.jsx(HNe,{open:B!==null,onOpenChange:pe=>!pe&&O(null),onConfirm:async()=>{if(B)try{if(await k7(B.episodeId,B.segmentId,B.entryIndex),c.invalidateQueries({queryKey:["segments",B.episodeId]}),O(null),M===B.segmentId){const pe=M;F(null),setTimeout(()=>{F(pe)},100)}}catch(pe){console.error("Failed to delete transcript entry:",pe)}},isDeleting:!1}),i.jsx(UNe,{open:!!q,onOpenChange:pe=>!pe&&z(null),description:q?(()=>{var bt;const pe=r.find(or=>or.id===q);return`"${((bt=pe==null?void 0:pe.name)==null?void 0:bt.trim())||((pe==null?void 0:pe.type)==="recorded"?"Recorded section":pe==null?void 0:pe.asset_name)||"This section"}" will be removed. This cannot be undone.`})():"",onConfirm:()=>{q&&(On.mutate(q),z(null))},isDeleting:On.isPending&&On.variables===q})]})}function xTe(){const{id:e}=wi(),{data:t,isLoading:r,isFetching:n,isError:a}=De({queryKey:["episode",e],queryFn:()=>Hwe(e),enabled:!!e}),{data:o}=De({queryKey:["podcast",t==null?void 0:t.podcast_id],queryFn:()=>pu(t.podcast_id),enabled:!!(t!=null&&t.podcast_id)}),{data:u,isLoading:c}=De({queryKey:["segments",e],queryFn:()=>SSe(e),enabled:!!e}),p=v.useRef([]),h=v.useMemo(()=>(u==null?void 0:u.segments)??p.current,[u==null?void 0:u.segments]),{data:f}=De({queryKey:["asrAvailable"],queryFn:zSe,enabled:!!e,staleTime:3e4,retry:!1});return e?r||!t&&n?i.jsx(_a,{}):a||!t?i.jsx("p",{className:W.error,children:"Episode not found."}):i.jsx(_Te,{episode:t,podcast:o,segments:h,segmentsLoading:c,asrAvail:f}):null}function wTe(){return At("/version")}const p2="llama3.2:latest",z7="gpt-5-mini",STe={whisper_asr_url:"http://whisper:9000",transcription_provider:"none",openai_transcription_url:"https://api.openai.com/v1/audio/transcriptions",openai_transcription_api_key:"",transcription_model:"whisper-1",default_can_transcribe:!0,llm_provider:"none",ollama_url:"http://localhost:11434",openai_api_key:"",model:p2,registration_enabled:!0,public_feeds_enabled:!0,websub_discovery_enabled:!1,hostname:"",websub_hub:"",final_bitrate_kbps:128,final_channels:"mono",final_format:"mp3",maxmind_account_id:"",maxmind_license_key:"",default_max_podcasts:null,default_storage_mb:null,default_max_episodes:null,default_max_collaborators:null,default_max_subscriber_tokens:null,captcha_provider:"none",captcha_site_key:"",captcha_secret_key:"",email_provider:"none",smtp_host:"",smtp_port:587,smtp_secure:!0,smtp_user:"",smtp_password:"",smtp_from:"",sendgrid_api_key:"",sendgrid_from:"",email_enable_registration_verification:!0,email_enable_welcome_after_verify:!0,email_enable_password_reset:!0,email_enable_admin_welcome:!0,email_enable_new_show:!0,email_enable_invite:!0,email_enable_contact:!0,welcome_banner:"",custom_terms:"",custom_privacy:"",dns_provider:"none",dns_use_cname:!0,dns_a_record_ip:"",dns_allow_linking_domain:!1,dns_default_allow_domain:!1,dns_default_allow_domains:"[]",dns_default_allow_custom_key:!1,dns_default_allow_sub_domain:!1,dns_default_domain:"",dns_default_enable_cloudflare_proxy:!1,gdpr_consent_banner_enabled:!1,webrtc_service_url:"",webrtc_public_ws_url:"",recording_callback_secret:""};function jTe(e){const[t,r]=v.useState(STe);v.useEffect(()=>{e&&r(e)},[e]);const n=v.useCallback(a=>{r(o=>({...o,...a}))},[]);return{form:t,updateForm:n,setForm:r}}function CTe({form:e}){const t=Ve({mutationFn:()=>{const h={llm_provider:e.llm_provider};return e.llm_provider==="ollama"&&(h.ollama_url=e.ollama_url),e.llm_provider==="openai"&&(h.openai_api_key=e.openai_api_key==="(set)"?void 0:e.openai_api_key),UG(h)}});v.useEffect(()=>{t.reset()},[e.llm_provider]);const r=Ve({mutationFn:()=>HG(e.whisper_asr_url)});v.useEffect(()=>{r.reset()},[e.whisper_asr_url]);const n=Ve({mutationFn:()=>{var h,f;return WG({openai_transcription_url:((h=e.openai_transcription_url)==null?void 0:h.trim())||void 0,openai_transcription_api_key:e.openai_transcription_api_key==="(set)"?void 0:((f=e.openai_transcription_api_key)==null?void 0:f.trim())||void 0})}});v.useEffect(()=>{n.reset()},[e.openai_transcription_url,e.openai_transcription_api_key]);const a=Ve({mutationFn:()=>KG({smtp_host:e.smtp_host.trim(),smtp_port:e.smtp_port,smtp_secure:e.smtp_secure,smtp_user:e.smtp_user.trim(),smtp_password:e.smtp_password==="(set)"?"":e.smtp_password})}),o=Ve({mutationFn:()=>GG({sendgrid_api_key:e.sendgrid_api_key==="(set)"?"":e.sendgrid_api_key})});v.useEffect(()=>{a.reset()},[e.email_provider,e.smtp_host,e.smtp_port,e.smtp_secure,e.smtp_user,e.smtp_password]),v.useEffect(()=>{o.reset()},[e.email_provider,e.sendgrid_api_key]);const u=Ve({mutationFn:h=>VG(h)}),c=Ve({mutationFn:YG}),p=Ve({mutationFn:h=>QG(h),onSuccess:()=>{c.mutate()}});return{testMutation:t,whisperTestMutation:r,transcriptionOpenaiTestMutation:n,smtpTestMutation:a,sendgridTestMutation:o,geoliteTestMutation:u,geoliteCheckMutation:c,geoliteUpdateMutation:p}}function kTe(e,t){return v.useMemo(()=>t===null?!1:JSON.stringify(e)!==t,[e,t])}const NTe="_card_wkp6h_1",ETe="_cardTitle_wkp6h_9",TTe="_cardSub_wkp6h_17",PTe="_cardBody_wkp6h_24",yv={card:NTe,cardTitle:ETe,cardSub:TTe,cardBody:PTe};function Zi({title:e,subtitle:t,children:r}){return i.jsxs("section",{className:yv.card,children:[i.jsx("h2",{className:yv.cardTitle,children:e}),i.jsx("p",{className:yv.cardSub,children:t}),i.jsx("div",{className:yv.cardBody,children:r})]})}const ATe="_toggle_1uiiv_1",RTe="_btn_1uiiv_11",OTe="_btnActive_1uiiv_12",Kw={toggle:ATe,btn:RTe,btnActive:OTe};function Cm({value:e,options:t,onChange:r,ariaLabel:n}){return i.jsx("div",{className:Kw.toggle,role:"group","aria-label":n,children:t.map(a=>i.jsx("button",{type:"button",className:e===a.value?Kw.btnActive:Kw.btn,onClick:()=>r(a.value),children:a.label},String(a.value)))})}const DTe="_testBlock_1p5y0_1",MTe="_testRow_1p5y0_7",LTe="_testBtn_1p5y0_12",ITe="_noticeSuccess_1p5y0_34",$Te="_noticeError_1p5y0_35",BTe="_noticeTitle_1p5y0_54",zTe="_noticeBody_1p5y0_69",Sc={testBlock:DTe,testRow:MTe,testBtn:LTe,noticeSuccess:ITe,noticeError:$Te,noticeTitle:BTe,noticeBody:zTe};function Lh({testMutation:e,onTest:t,disabled:r=!1,successMessage:n,testLabel:a="Test"}){var c,p,h,f;const o=((c=e.data)==null?void 0:c.ok)===!0,u=((p=e.data)==null?void 0:p.ok)===!0?n:((h=e.data)==null?void 0:h.error)??((f=e.error)==null?void 0:f.message)??"Connection failed";return i.jsxs("div",{className:Sc.testBlock,children:[(e.data!=null||e.error!=null)&&i.jsxs("div",{className:o?Sc.noticeSuccess:Sc.noticeError,role:"status","aria-live":"polite",children:[i.jsx("span",{className:Sc.noticeTitle,children:o?"Success":"Error"}),i.jsx("p",{className:Sc.noticeBody,children:u})]}),i.jsx("div",{className:Sc.testRow,children:i.jsx("button",{type:"button",className:Sc.testBtn,onClick:t,disabled:r||e.isPending,children:e.isPending?"Testing...":a})})]})}const FTe="_page_stf0w_1",qTe="_hero_stf0w_6",UTe="_heroTitle_stf0w_10",HTe="_heroSub_stf0w_19",WTe="_saveNoticeCard_stf0w_25",KTe="_versionCard_stf0w_29",GTe="_versionCommands_stf0w_43",VTe="_commandBadge_stf0w_50",YTe="_commandDot_stf0w_57",QTe="_commandName_stf0w_64",XTe="_versionBlock_stf0w_70",ZTe="_versionLabel_stf0w_76",JTe="_versionValue_stf0w_82",ePe="_form_stf0w_89",tPe="_label_stf0w_123",rPe="_inputHelp_stf0w_132",nPe="_modelName_stf0w_138",aPe="_link_stf0w_146",iPe="_toggleHelp_stf0w_154",sPe="_emailNotifications_stf0w_172",oPe="_emailNotificationsTitle_stf0w_178",lPe="_emailNotificationsIntro_stf0w_185",cPe="_emailNotificationsFieldset_stf0w_192",uPe="_emailNotificationsGroup_stf0w_204",dPe="_emailNotificationsGroupTitle_stf0w_210",fPe="_emailNotificationsGroupHelp_stf0w_218",pPe="_emailNotificationsGrid_stf0w_225",hPe="_input_stf0w_132",mPe="_textareaLarge_stf0w_253",gPe="_llmToggle_stf0w_266",vPe="_llmToggleBtn_stf0w_274",yPe="_llmToggleBtnActive_stf0w_275",bPe="_noticeSuccess_stf0w_316",_Pe="_noticeError_stf0w_317",xPe="_noticeTitle_stf0w_338",wPe="_noticeBody_stf0w_344",SPe="_testBlock_stf0w_350",jPe="_testBtn_stf0w_364",CPe="_actions_stf0w_383",kPe="_submit_stf0w_392",NPe="_floatingSaveWrap_stf0w_411",EPe="_floatingSaveBar_stf0w_427",TPe="_floatingSaveLabel_stf0w_442",PPe="_floatingSaveBtn_stf0w_448",ae={page:FTe,hero:qTe,heroTitle:UTe,heroSub:HTe,saveNoticeCard:WTe,versionCard:KTe,versionCommands:GTe,commandBadge:VTe,commandDot:YTe,commandName:QTe,versionBlock:XTe,versionLabel:ZTe,versionValue:JTe,form:ePe,label:tPe,inputHelp:rPe,modelName:nPe,link:aPe,toggleHelp:iPe,emailNotifications:sPe,emailNotificationsTitle:oPe,emailNotificationsIntro:lPe,emailNotificationsFieldset:cPe,emailNotificationsGroup:uPe,emailNotificationsGroupTitle:dPe,emailNotificationsGroupHelp:fPe,emailNotificationsGrid:pPe,input:hPe,textareaLarge:mPe,llmToggle:gPe,llmToggleBtn:vPe,llmToggleBtnActive:yPe,noticeSuccess:bPe,noticeError:_Pe,noticeTitle:xPe,noticeBody:wPe,testBlock:SPe,testBtn:jPe,actions:CPe,submit:kPe,floatingSaveWrap:NPe,floatingSaveBar:EPe,floatingSaveLabel:TPe,floatingSaveBtn:PPe};function APe({form:e,onFormChange:t,welcomeBannerRef:r,onResizeWelcomeBanner:n}){return i.jsxs(Zi,{title:"Access & General",subtitle:"Control who can sign up, whether public feeds are visible, and general server settings.",children:[i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:e.registration_enabled,onChange:a=>t({registration_enabled:a.target.checked})}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Enable Account Registration"})]}),i.jsx("p",{className:ae.toggleHelp,children:"When enabled, new users can create accounts. When disabled, only existing users can log in."}),i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:e.public_feeds_enabled,onChange:a=>t({public_feeds_enabled:a.target.checked})}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Enable Public Feeds"})]}),i.jsx("p",{className:ae.toggleHelp,children:"When disabled, public feed pages and RSS endpoints are hidden and require login to access the app."}),i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:e.gdpr_consent_banner_enabled,onChange:a=>t({gdpr_consent_banner_enabled:a.target.checked})}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Enable Cookie / Tracking Consent Banner"})]}),i.jsx("p",{className:ae.toggleHelp,children:"Show cookie/tracking consent banner on public feed and embed pages. When enabled, visitors see a GDPR-style banner before optional analytics/tracking. Off by default."}),i.jsxs("label",{className:ae.label,children:["Hostname",i.jsx("input",{type:"url",className:ae.input,placeholder:"https://example.com",value:e.hostname,onChange:a=>t({hostname:a.target.value})}),i.jsx("p",{className:ae.inputHelp,children:"Base URL for RSS feed enclosures when hosting audio files on this server. Used if no S3 export is configured."})]}),i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:e.websub_discovery_enabled,onChange:a=>t({websub_discovery_enabled:a.target.checked})}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Enable WebSub Discovery"})]}),e.websub_discovery_enabled&&i.jsxs("label",{className:ae.label,children:["WebSub Discovery",i.jsx("input",{type:"url",className:ae.input,placeholder:"https://pubsubhubbub.appspot.com/",value:e.websub_hub,onChange:a=>t({websub_hub:a.target.value})}),i.jsx("p",{className:ae.inputHelp,children:'When set, the feed XML includes a WebSub hub link (rel="hub") so hubs can discover and subscribe to feed updates.'})]}),i.jsxs("label",{className:ae.label,children:["Welcome Banner",i.jsx("textarea",{ref:r,className:ae.input,rows:1,placeholder:"Optional message above the sign in form...",value:e.welcome_banner,onChange:a=>t({welcome_banner:a.target.value}),onInput:n}),i.jsx("p",{className:ae.inputHelp,children:"Shown above the sign in form. New lines are preserved. Leave empty to hide."})]})]})}function RPe({form:e,onFormChange:t}){return i.jsxs(Zi,{title:"Default Limits for New Users",subtitle:"Optional. When set, new users get these limits. Leave empty for no limit.",children:[i.jsxs("label",{className:ae.label,children:["Default max podcasts",i.jsx("input",{type:"number",min:0,step:1,className:ae.input,placeholder:"No limit",value:e.default_max_podcasts??"",onChange:r=>{const n=r.target.value;t({default_max_podcasts:n===""?null:Number(n)})}})]}),i.jsxs("label",{className:ae.label,children:["Default Max Episodes",i.jsx("input",{type:"number",min:0,step:1,className:ae.input,placeholder:"No limit",value:e.default_max_episodes??"",onChange:r=>{const n=r.target.value;t({default_max_episodes:n===""?null:Number(n)})}})]}),i.jsxs("label",{className:ae.label,children:["Default Storage Space (MB)",i.jsx("input",{type:"number",min:0,step:1,className:ae.input,placeholder:"No limit",value:e.default_storage_mb??"",onChange:r=>{const n=r.target.value;t({default_storage_mb:n===""?null:Number(n)})}})]}),i.jsxs("label",{className:ae.label,children:["Default Max Collaborators",i.jsx("input",{type:"number",min:0,step:1,className:ae.input,placeholder:"No limit",value:e.default_max_collaborators??"",onChange:r=>{const n=r.target.value;t({default_max_collaborators:n===""?null:Number(n)})}})]}),i.jsxs("label",{className:ae.label,children:["Default Max Subscriber Tokens",i.jsx("input",{type:"number",min:0,step:1,className:ae.input,placeholder:"No limit",value:e.default_max_subscriber_tokens??"",onChange:r=>{const n=r.target.value;t({default_max_subscriber_tokens:n===""?null:Number(n)})}})]}),i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:e.default_can_transcribe,onChange:r=>t({default_can_transcribe:r.target.checked})}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Default Can Transcribe"})]}),i.jsx("p",{className:ae.toggleHelp,children:"When enabled, new users get transcription permission by default. When disabled, new users cannot generate transcripts until an admin enables it."})]})}function OPe({form:e,onFormChange:t}){return i.jsxs(Zi,{title:"Final Episode Output",subtitle:"Choose the format and quality for the final audio file.",children:[i.jsxs("label",{className:ae.label,children:["Bitrate (kbps)",i.jsx("input",{type:"number",min:16,max:320,step:1,className:ae.input,value:e.final_bitrate_kbps,onChange:r=>t({final_bitrate_kbps:Number(r.target.value)})})]}),i.jsxs("div",{className:ae.label,children:["Channels",i.jsxs("div",{className:ae.llmToggle,role:"group","aria-label":"Output channels",children:[i.jsx("button",{type:"button",className:e.final_channels==="mono"?ae.llmToggleBtnActive:ae.llmToggleBtn,onClick:()=>t({final_channels:"mono"}),children:"Mono"}),i.jsx("button",{type:"button",className:e.final_channels==="stereo"?ae.llmToggleBtnActive:ae.llmToggleBtn,onClick:()=>t({final_channels:"stereo"}),children:"Stereo"})]})]}),i.jsxs("div",{className:ae.label,children:["Format",i.jsxs("div",{className:ae.llmToggle,role:"group","aria-label":"Output format",children:[i.jsx("button",{type:"button",className:e.final_format==="mp3"?ae.llmToggleBtnActive:ae.llmToggleBtn,onClick:()=>t({final_format:"mp3"}),children:"MP3"}),i.jsx("button",{type:"button",className:e.final_format==="m4a"?ae.llmToggleBtnActive:ae.llmToggleBtn,onClick:()=>t({final_format:"m4a"}),children:"M4A"})]})]})]})}function DPe({form:e,onFormChange:t,geoliteTestMutation:r,geoliteCheckMutation:n,geoliteUpdateMutation:a,onGeoliteTest:o,onGeoliteCheck:u,onGeoliteUpdate:c}){var p,h,f,m,b,_,j,w,y,x,S;return i.jsxs(Zi,{title:"GeoLite2 / MaxMind",subtitle:i.jsxs(i.Fragment,{children:["Optional. Create a free ",i.jsx("a",{href:"https://www.maxmind.com/en/geolite2/signup",target:"_blank",rel:"noopener noreferrer",className:ae.link,children:"GeoLite2 account"}),". When Account ID and License Key are set and saved, the server will run the GeoIP Update program to download GeoLite2-Country and GeoLite2-City into the data folder. Requires ",i.jsx("a",{href:"https://github.com/maxmind/geoipupdate/releases",target:"_blank",rel:"noopener noreferrer",className:ae.link,children:"geoipupdate"})," to be installed on the server."]}),children:[i.jsxs("label",{className:ae.label,children:["MaxMind Account ID",i.jsx("input",{type:"text",className:ae.input,placeholder:"123456",value:e.maxmind_account_id,onChange:T=>t({maxmind_account_id:T.target.value}),autoComplete:"off"})]}),i.jsxs("label",{className:ae.label,children:["MaxMind License Key",i.jsx("input",{type:"password",className:ae.input,placeholder:e.maxmind_license_key==="(set)"?"(saved)":"Enter license key",value:e.maxmind_license_key==="(set)"?"":e.maxmind_license_key,onChange:T=>t({maxmind_license_key:T.target.value}),autoComplete:"off"})]}),i.jsxs("div",{className:ae.testBlock,children:[(r.data!=null||r.error!=null)&&i.jsx("div",{className:(p=r.data)!=null&&p.ok?ae.noticeSuccess:ae.noticeError,role:"status","aria-live":"polite",children:i.jsx("p",{className:ae.noticeBody,children:(h=r.data)!=null&&h.ok?"MaxMind credentials are valid.":((f=r.data)==null?void 0:f.error)??((m=r.error)==null?void 0:m.message)??"Test failed"})}),(n.data!=null||n.error!=null)&&i.jsx("div",{className:(b=n.data)!=null&&b.city||(_=n.data)!=null&&_.country?ae.noticeSuccess:ae.noticeError,role:"status","aria-live":"polite",children:n.data!=null?i.jsx("p",{className:ae.noticeBody,children:n.data.city&&n.data.country?"GeoLite2-City and GeoLite2-Country databases are present.":n.data.city?"GeoLite2-City database is present. GeoLite2-Country is missing.":n.data.country?"GeoLite2-Country database is present. GeoLite2-City is missing.":"No GeoLite2 database files found. Save Account ID and License Key, then run Update."}):i.jsx("p",{className:ae.noticeBody,children:((j=n.error)==null?void 0:j.message)??"Check failed"})}),(a.data!=null||a.error!=null)&&i.jsx("div",{className:(w=a.data)!=null&&w.ok?ae.noticeSuccess:ae.noticeError,role:"status","aria-live":"polite",children:i.jsx("p",{className:ae.noticeBody,children:(y=a.data)!=null&&y.ok?"Databases updated successfully. Reader refreshed.":((x=a.data)==null?void 0:x.error)??((S=a.error)==null?void 0:S.message)??"Update failed"})}),i.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",justifyContent:"flex-end"},children:[i.jsx("button",{type:"button",className:ae.testBtn,onClick:o,disabled:!e.maxmind_account_id.trim()||e.maxmind_license_key!=="(set)"&&!e.maxmind_license_key.trim()||r.isPending,"aria-busy":r.isPending,children:r.isPending?"Testing...":"Test"}),i.jsx("button",{type:"button",className:ae.testBtn,onClick:u,disabled:!e.maxmind_account_id.trim()||e.maxmind_license_key!=="(set)"&&!e.maxmind_license_key.trim()||n.isPending,"aria-busy":n.isPending,children:n.isPending?"Checking...":"Check"}),i.jsx("button",{type:"button",className:ae.testBtn,onClick:c,disabled:!e.maxmind_account_id.trim()||e.maxmind_license_key!=="(set)"&&!e.maxmind_license_key.trim()||a.isPending,"aria-busy":a.isPending,children:a.isPending?"Updating...":"Update"})]})]})]})}const MPe=[{value:"none",label:"None"},{value:"self_hosted",label:"Self-Hosted"},{value:"openai",label:"OpenAI"}];function LPe({form:e,onFormChange:t,whisperTestMutation:r,onWhisperTest:n,transcriptionOpenaiTestMutation:a,onTranscriptionOpenaiTest:o}){return i.jsxs(Zi,{title:"Transcription",subtitle:"Generate episode and segment transcripts. Self-Hosted uses a Whisper ASR service; OpenAI uses the Audio API.",children:[i.jsxs("div",{className:ae.label,children:["Transcription Provider",i.jsx(Cm,{value:e.transcription_provider,options:MPe,onChange:u=>t({transcription_provider:u}),ariaLabel:"Transcription provider"})]}),e.transcription_provider==="self_hosted"&&i.jsxs(i.Fragment,{children:[i.jsxs("label",{className:ae.label,children:["Whisper ASR URL",i.jsx("input",{type:"url",className:ae.input,placeholder:"http://whisper:9000",value:e.whisper_asr_url,onChange:u=>t({whisper_asr_url:u.target.value})})]}),i.jsx(Lh,{testMutation:r,onTest:n,successMessage:"Connection successful"})]}),e.transcription_provider==="openai"&&i.jsxs(i.Fragment,{children:[i.jsxs("label",{className:ae.label,children:["OpenAI transcription API URL (optional)",i.jsx("input",{type:"url",className:ae.input,placeholder:"https://api.openai.com/v1/audio/transcriptions",value:e.openai_transcription_url,onChange:u=>t({openai_transcription_url:u.target.value})})]}),i.jsxs("label",{className:ae.label,children:["OpenAI API key (required for transcription)",i.jsx("input",{type:"password",className:ae.input,placeholder:e.openai_transcription_api_key==="(set)"?"(set)":"sk-...",value:e.openai_transcription_api_key==="(set)"?"":e.openai_transcription_api_key,onChange:u=>t({openai_transcription_api_key:u.target.value}),autoComplete:"off"})]}),i.jsxs("label",{className:ae.label,children:["Transcription model",i.jsx("input",{type:"text",className:ae.input,placeholder:"whisper-1",value:e.transcription_model,onChange:u=>t({transcription_model:u.target.value})}),i.jsxs("span",{className:ae.inputHelp,children:[i.jsx("span",{className:ae.modelName,children:"whisper-1"})," is $0.06/min and provides timestamps."," ",i.jsx("span",{className:ae.modelName,children:"gpt-4o-mini-transcribe"})," is $0.03/min but does not provide timestamps."]})]}),i.jsx(Lh,{testMutation:a,onTest:o,successMessage:"API key valid"})]})]})}const IPe=[{value:"none",label:"None"},{value:"ollama",label:"Ollama"},{value:"openai",label:"OpenAI"}];function $Pe({form:e,onFormChange:t,testMutation:r,onTest:n,onProviderChange:a}){const o=e.llm_provider==="openai"?z7:p2;return i.jsxs(Zi,{title:"LLM",subtitle:"Optional. Used for AI-powered features such as chapter generation and summarization. Connect to Ollama (local) or OpenAI.",children:[i.jsxs("div",{className:ae.label,children:["LLM Provider",i.jsx(Cm,{value:e.llm_provider,options:IPe,onChange:u=>{a(u),r.reset()},ariaLabel:"LLM provider"})]}),e.llm_provider==="ollama"?i.jsxs("label",{className:ae.label,children:["Ollama URL",i.jsx("input",{type:"url",className:ae.input,placeholder:"http://localhost:11434",value:e.ollama_url,onChange:u=>t({ollama_url:u.target.value})})]}):e.llm_provider==="openai"?i.jsxs("label",{className:ae.label,children:["OpenAI API key",i.jsx("input",{type:"password",className:ae.input,placeholder:e.openai_api_key==="(set)"?"(saved)":"sk-...",value:e.openai_api_key==="(set)"?"":e.openai_api_key,onChange:u=>t({openai_api_key:u.target.value}),autoComplete:"off"})]}):null,e.llm_provider!=="none"&&i.jsxs(i.Fragment,{children:[i.jsxs("label",{className:ae.label,children:["Model",i.jsx("input",{type:"text",className:ae.input,placeholder:o,value:e.model,onChange:u=>t({model:u.target.value})})]}),i.jsx(Lh,{testMutation:r,onTest:n,successMessage:"Connection successful"})]})]})}const BPe=[{value:"none",label:"None"},{value:"hcaptcha",label:"hCaptcha"},{value:"recaptcha_v2",label:"Google v2"},{value:"recaptcha_v3",label:"Google v3"}],zPe=i.jsxs(i.Fragment,{children:["Optional. When enabled, users must complete a CAPTCHA when signing in or registering."," ","Get keys from ",i.jsx("a",{href:"https://www.google.com/recaptcha/admin",target:"_blank",rel:"noopener noreferrer",className:ae.link,children:"Google reCAPTCHA"})," or ",i.jsx("a",{href:"https://dashboard.hcaptcha.com/",target:"_blank",rel:"noopener noreferrer",className:ae.link,children:"hCaptcha"}),"."]});function FPe({form:e,onFormChange:t}){return i.jsxs(Zi,{title:"CAPTCHA (Sign-In & Registration)",subtitle:zPe,children:[i.jsxs("div",{className:ae.label,children:["Provider",i.jsx(Cm,{value:e.captcha_provider,options:BPe,onChange:r=>t({captcha_provider:r}),ariaLabel:"CAPTCHA provider"})]}),e.captcha_provider!=="none"&&i.jsxs(i.Fragment,{children:[i.jsxs("label",{className:ae.label,children:["Site key",i.jsx("input",{type:"text",className:ae.input,placeholder:e.captcha_provider.startsWith("recaptcha")?"6Lc...":"Paste your site key from the provider dashboard",value:e.captcha_site_key,onChange:r=>t({captcha_site_key:r.target.value}),autoComplete:"off"})]}),i.jsxs("label",{className:ae.label,children:["Secret key",i.jsx("input",{type:"password",className:ae.input,placeholder:e.captcha_secret_key==="(set)"?"(saved)":"Paste your secret key",value:e.captcha_secret_key==="(set)"?"":e.captcha_secret_key,onChange:r=>t({captcha_secret_key:r.target.value}),autoComplete:"off"})]})]})]})}const qPe=i.jsxs(i.Fragment,{children:["Configure the optional WebRTC service for group calls and server-side recording. When both service URL and public WebSocket URL are set, hosts can start group calls with audio. Leave blank to disable."," ",i.jsx("a",{href:"https://github.com/versatica/mediasoup",target:"_blank",rel:"noopener noreferrer",className:ae.link,children:"Mediasoup"})," ","runs in a separate Docker service (profile webrtc)."]});function UPe({form:e,onFormChange:t}){return i.jsxs(Zi,{title:"WebRTC (Group Calls & Recording)",subtitle:qPe,children:[i.jsxs("label",{className:ae.label,children:["Service URL",i.jsx("input",{type:"url",className:ae.input,placeholder:"http://webrtc:3002",value:e.webrtc_service_url,onChange:r=>t({webrtc_service_url:r.target.value}),autoComplete:"off"})]}),i.jsx("p",{className:ae.inputHelp,children:"Internal URL to reach the WebRTC service (e.g. in Docker: http://webrtc:3002). Used to create mediasoup rooms."}),i.jsxs("label",{className:ae.label,children:["Public WebSocket URL",i.jsx("input",{type:"url",className:ae.input,placeholder:"wss://example.com/webrtc-ws or ws://localhost:3002",value:e.webrtc_public_ws_url,onChange:r=>t({webrtc_public_ws_url:r.target.value}),autoComplete:"off"})]}),i.jsx("p",{className:ae.inputHelp,children:"Public URL clients use to connect (wss:// in production). Must be reachable from browsers joining the call."}),i.jsxs("label",{className:ae.label,children:["Recording callback secret",i.jsx("input",{type:"password",className:ae.input,placeholder:e.recording_callback_secret==="(set)"?"(saved)":"Shared secret for webrtc service",value:e.recording_callback_secret==="(set)"?"":e.recording_callback_secret,onChange:r=>t({recording_callback_secret:r.target.value}),autoComplete:"off"})]}),i.jsx("p",{className:ae.inputHelp,children:"Shared secret the WebRTC service sends when a recording is ready. Set the same value as RECORDING_CALLBACK_SECRET in the webrtc container. Env var overrides this when set."})]})}const HPe=[{value:"none",label:"None"},{value:"smtp",label:"SMTP"},{value:"sendgrid",label:"SendGrid"}];function WPe({form:e,onFormChange:t,smtpTestMutation:r,sendgridTestMutation:n,onSmtpTest:a,onSendGridTest:o}){return i.jsxs(Zi,{title:"Email",subtitle:"Optional. Configure how the server sends email (e.g. for notifications or password reset). Choose None to disable.",children:[i.jsxs("div",{className:ae.label,children:["Provider",i.jsx(Cm,{value:e.email_provider,options:HPe,onChange:u=>t({email_provider:u}),ariaLabel:"Email provider"})]}),e.email_provider==="smtp"&&i.jsxs(i.Fragment,{children:[i.jsxs("label",{className:ae.label,children:["SMTP host",i.jsx("input",{type:"text",className:ae.input,placeholder:"smtp.example.com",value:e.smtp_host,onChange:u=>t({smtp_host:u.target.value}),autoComplete:"off"})]}),i.jsxs("label",{className:ae.label,children:["SMTP port",i.jsx("input",{type:"number",min:1,max:65535,step:1,className:ae.input,placeholder:"587",value:e.smtp_port,onChange:u=>t({smtp_port:Number(u.target.value)||587})})]}),i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:e.smtp_secure,onChange:u=>t({smtp_secure:u.target.checked})}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Use TLS (recommended for port 587)"})]}),i.jsxs("label",{className:ae.label,children:["SMTP username",i.jsx("input",{type:"text",className:ae.input,placeholder:"user@example.com",value:e.smtp_user,onChange:u=>t({smtp_user:u.target.value}),autoComplete:"off"})]}),i.jsxs("label",{className:ae.label,children:["SMTP password",i.jsx("input",{type:"password",className:ae.input,placeholder:e.smtp_password==="(set)"?"(saved)":"Enter password",value:e.smtp_password==="(set)"?"":e.smtp_password,onChange:u=>t({smtp_password:u.target.value}),autoComplete:"off"})]}),i.jsxs("label",{className:ae.label,children:["From address",i.jsx("input",{type:"email",className:ae.input,placeholder:"noreply@example.com",value:e.smtp_from,onChange:u=>t({smtp_from:u.target.value}),autoComplete:"off"}),i.jsx("p",{className:ae.inputHelp,children:"Email address used as the sender for outgoing mail."})]}),i.jsx(Lh,{testMutation:r,onTest:a,successMessage:"Credentials verified."})]}),e.email_provider==="sendgrid"&&i.jsxs(i.Fragment,{children:[i.jsxs("label",{className:ae.label,children:["SendGrid API key",i.jsx("input",{type:"password",className:ae.input,placeholder:e.sendgrid_api_key==="(set)"?"(saved)":"SG....",value:e.sendgrid_api_key==="(set)"?"":e.sendgrid_api_key,onChange:u=>t({sendgrid_api_key:u.target.value}),autoComplete:"off"}),i.jsxs("p",{className:ae.inputHelp,children:["Create an API key in the"," ",i.jsx("a",{href:"https://app.sendgrid.com/settings/api_keys",target:"_blank",rel:"noopener noreferrer",className:ae.link,children:"SendGrid dashboard"}),"."]})]}),i.jsxs("label",{className:ae.label,children:["From address",i.jsx("input",{type:"email",className:ae.input,placeholder:"noreply@example.com",value:e.sendgrid_from,onChange:u=>t({sendgrid_from:u.target.value}),autoComplete:"off"}),i.jsx("p",{className:ae.inputHelp,children:"Verified sender in SendGrid. Used as the sender for outgoing mail."})]}),i.jsx(Lh,{testMutation:n,onTest:o,successMessage:"API key verified."})]}),(e.email_provider==="smtp"||e.email_provider==="sendgrid")&&i.jsxs("div",{className:ae.emailNotifications,children:[i.jsx("h3",{className:ae.emailNotificationsTitle,children:"Email notifications"}),i.jsx("p",{className:ae.emailNotificationsIntro,children:"Choose which emails the server sends when email is configured."}),i.jsxs("div",{className:ae.emailNotificationsFieldset,role:"group","aria-label":"Email notification toggles",children:[i.jsxs("div",{className:ae.emailNotificationsGroup,children:[i.jsx("h4",{className:ae.emailNotificationsGroupTitle,children:"Account & sign-in"}),i.jsx("p",{className:ae.emailNotificationsGroupHelp,children:"Verification requires new users to confirm their email before signing in."}),i.jsxs("div",{className:ae.emailNotificationsGrid,children:[i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:e.email_enable_registration_verification,onChange:u=>t({email_enable_registration_verification:u.target.checked})}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Verification on register"})]}),i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:e.email_enable_welcome_after_verify,onChange:u=>t({email_enable_welcome_after_verify:u.target.checked})}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Welcome after verification"})]}),i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:e.email_enable_password_reset,onChange:u=>t({email_enable_password_reset:u.target.checked})}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Password reset"})]}),i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:e.email_enable_admin_welcome,onChange:u=>t({email_enable_admin_welcome:u.target.checked})}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Admin welcome (set-password)"})]})]})]}),i.jsxs("div",{className:ae.emailNotificationsGroup,children:[i.jsx("h4",{className:ae.emailNotificationsGroupTitle,children:"Notifications"}),i.jsxs("div",{className:ae.emailNotificationsGrid,children:[i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:e.email_enable_new_show,onChange:u=>t({email_enable_new_show:u.target.checked})}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"New show created"})]}),i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:e.email_enable_invite,onChange:u=>t({email_enable_invite:u.target.checked})}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Invite to platform"})]}),i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:e.email_enable_contact,onChange:u=>t({email_enable_contact:u.target.checked})}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Contact form"})]})]})]})]})]})]})}const KPe="https://dash.cloudflare.com/profile/api-tokens",GPe=[{value:"none",label:"None"},{value:"cloudflare",label:"CloudFlare"}];function VPe(e){const t=(e||"").trim();if(!t)return[];if(t.startsWith("["))try{const r=JSON.parse(t);return Array.isArray(r)?r.filter(n=>typeof n=="string"):[]}catch{return t.split(",").map(r=>r.trim()).filter(Boolean)}return t.split(",").map(r=>r.trim()).filter(Boolean)}function YPe(e){return e.length===0?"":e.join(", ")}function QPe({form:e,onFormChange:t}){const r=VPe(typeof e.dns_default_allow_domains=="string"?e.dns_default_allow_domains:"[]");return i.jsxs(Zi,{title:"DNS Configuration",subtitle:"Optional. Configure custom domains for podcast feeds (e.g. Link Domain, Managed Domain). Use None to disable; CloudFlare to manage CNAME records.",children:[i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:e.dns_allow_linking_domain,onChange:n=>t({dns_allow_linking_domain:n.target.checked})}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Allow Linking Domain"})]}),i.jsx("p",{className:ae.inputHelp,children:'When on, podcast owners can set a "link domain" so their feed is reachable at their own domain (e.g. podcast.example.com) instead of only the main HarborFM URL.'}),i.jsxs("div",{className:ae.label,children:["Provider",i.jsx(Cm,{value:e.dns_provider,options:GPe,onChange:n=>t({dns_provider:n}),ariaLabel:"DNS provider"})]}),i.jsx("p",{className:ae.inputHelp,children:'Choose how custom domains are set up. "None" turns off automatic DNS. "CloudFlare" lets HarborFM create or update DNS records in your CloudFlare account so custom domains work.'}),e.dns_provider==="cloudflare"&&i.jsxs(i.Fragment,{children:[i.jsxs("label",{className:ae.label,children:["Provider API Token",i.jsx("input",{type:"password",className:ae.input,placeholder:e.dns_provider_api_token_set?"(saved)":"Enter API token",value:e.dns_provider_api_token??"",onChange:n=>t({dns_provider_api_token:n.target.value}),autoComplete:"off"}),i.jsxs("p",{className:ae.inputHelp,children:['Your CloudFlare API token is used to create or update DNS records. Create one with "Zone:DNS:Edit" permission.'," ",i.jsx("a",{href:KPe,target:"_blank",rel:"noopener noreferrer",children:"Create a token at CloudFlare"}),"."]})]}),i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:e.dns_use_cname,onChange:n=>t({dns_use_cname:n.target.checked})}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Use CNAME"})]}),i.jsx("p",{className:ae.inputHelp,children:"When on, HarborFM creates a CNAME record pointing your custom domain to this server. Turn off if your host or network requires an A record (a numeric IP) instead."}),!e.dns_use_cname&&i.jsxs("label",{className:ae.label,children:["Server IP for A Record",i.jsx("input",{type:"text",className:ae.input,placeholder:"e.g. 192.0.2.1",value:e.dns_a_record_ip??"",onChange:n=>t({dns_a_record_ip:n.target.value}),autoComplete:"off"}),i.jsx("p",{className:ae.inputHelp,children:"The public IPv4 address of this server. Used when creating an A record so the custom domain points to this machine. Ask your host or network admin if you dont know it."})]}),i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:e.dns_default_allow_domain,onChange:n=>t({dns_default_allow_domain:n.target.checked})}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Allow Domain"})]}),i.jsx("p",{className:ae.inputHelp,children:'When on, podcast owners can set a "managed domain" (a full domain you allow). You can restrict which domains they can pick using the list below.'}),e.dns_default_allow_domain&&i.jsxs("label",{className:ae.label,children:["Allow Domains",i.jsx("input",{type:"text",className:ae.input,placeholder:"example.com, show.example.com",value:YPe(r),onChange:n=>t({dns_default_allow_domains:JSON.stringify(n.target.value.split(",").map(a=>a.trim()).filter(Boolean))})}),i.jsx("p",{className:ae.inputHelp,children:'Comma-separated list of domains you allow. When non-empty, the managed-domain dropdown in each podcast will only offer these. Leave empty to allow any domain (if "Allow Domain" is on).'})]}),i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:e.dns_default_allow_custom_key,onChange:n=>t({dns_default_allow_custom_key:n.target.checked})}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Allow Custom Key"})]}),i.jsx("p",{className:ae.inputHelp,children:"When on, each podcast can use its own CloudFlare API token instead of the global one above. Useful if different shows are in different CloudFlare accounts."}),i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:e.dns_default_allow_sub_domain,onChange:n=>t({dns_default_allow_sub_domain:n.target.checked})}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Allow Sub-Domain"})]}),i.jsx("p",{className:ae.inputHelp,children:'When on, podcast owners can use a sub-domain of a shared base domain (e.g. "myshow" under example.com  myshow.example.com). You must set the base domain below.'}),e.dns_default_allow_sub_domain&&i.jsxs("label",{className:ae.label,children:["Domain (Required)",i.jsx("input",{type:"text",className:ae.input,placeholder:"e.g. example.com",value:e.dns_default_domain,onChange:n=>t({dns_default_domain:n.target.value}),autoComplete:"off"}),i.jsx("p",{className:ae.inputHelp,children:'The base domain used for sub-domains (e.g. example.com). Podcasts can then choose a sub-name like "myshow" to get myshow.example.com. Required when "Allow Sub-Domain" is on.'})]}),i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:e.dns_default_enable_cloudflare_proxy,onChange:n=>t({dns_default_enable_cloudflare_proxy:n.target.checked})}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Enable CloudFlare Proxy"})]}),i.jsx("p",{className:ae.inputHelp,children:"When on, new DNS records are created with CloudFlares proxy (orange cloud) so traffic goes through CloudFlare. This can improve performance and add DDoS protection; turn off if you need traffic to hit your server IP directly."})]})]})}function XPe({form:e,onFormChange:t}){return i.jsxs(Zi,{title:"Custom Terms & Privacy",subtitle:"Optional. When set, the public Terms of Service and Privacy Policy pages show your custom text instead of the default. Markdown is supported.",children:[i.jsxs("label",{className:ae.label,children:["Custom Terms of Service (Markdown)",i.jsx("textarea",{className:`${ae.input} ${ae.textareaLarge}`,rows:8,placeholder:"Paste or write your terms in Markdown. Leave empty to use the default terms.",value:e.custom_terms,onChange:r=>t({custom_terms:r.target.value})})]}),i.jsxs("label",{className:ae.label,children:["Custom Privacy Policy (Markdown)",i.jsx("textarea",{className:`${ae.input} ${ae.textareaLarge}`,rows:8,placeholder:"Paste or write your privacy policy in Markdown. Leave empty to use the default policy.",value:e.custom_privacy,onChange:r=>t({custom_privacy:r.target.value})})]})]})}function ZPe(){const e=Bt(),{data:t,isLoading:r,isFetching:n,isError:a}=De({queryKey:["settings"],queryFn:()=>zG()}),{data:o}=De({queryKey:["version"],queryFn:wTe,staleTime:300*1e3}),{data:u}=De({queryKey:["settings","commands"],queryFn:()=>FG().then(M=>M.commands),staleTime:120*1e3}),[c,p]=v.useState(null),h=v.useRef(!1),f=v.useRef(null),m=v.useRef(null),{form:b,updateForm:_,setForm:j}=jTe(t),{testMutation:w,whisperTestMutation:y,transcriptionOpenaiTestMutation:x,smtpTestMutation:S,sendgridTestMutation:T,geoliteTestMutation:N,geoliteCheckMutation:P,geoliteUpdateMutation:A}=CTe({form:b});v.useEffect(()=>{t&&(f.current=JSON.stringify(t))},[t]);const k=v.useCallback(()=>{const M=m.current;if(!M)return;M.style.height="0";const F=Math.max(M.scrollHeight,60);M.style.height=`${F}px`},[]);v.useEffect(()=>{k()},[b.welcome_banner,k]);const R=Ve({mutationFn:()=>{var M,F,B,O;return qG({whisper_asr_url:b.whisper_asr_url.trim().replace(/\/+$/,""),transcription_provider:b.transcription_provider,openai_transcription_url:((M=b.openai_transcription_url)==null?void 0:M.trim())||void 0,openai_transcription_api_key:b.openai_transcription_api_key==="(set)"?void 0:b.openai_transcription_api_key,transcription_model:((F=b.transcription_model)==null?void 0:F.trim())||void 0,default_can_transcribe:b.default_can_transcribe,llm_provider:b.llm_provider,ollama_url:b.ollama_url,openai_api_key:b.openai_api_key==="(set)"?void 0:b.openai_api_key,model:b.model,registration_enabled:b.registration_enabled,public_feeds_enabled:b.public_feeds_enabled,gdpr_consent_banner_enabled:b.gdpr_consent_banner_enabled,websub_discovery_enabled:b.websub_discovery_enabled,hostname:b.hostname,websub_hub:b.websub_hub,final_bitrate_kbps:b.final_bitrate_kbps,final_channels:b.final_channels,final_format:b.final_format,maxmind_account_id:b.maxmind_account_id.trim(),maxmind_license_key:b.maxmind_license_key==="(set)"?void 0:b.maxmind_license_key,default_max_podcasts:b.default_max_podcasts,default_storage_mb:b.default_storage_mb,default_max_episodes:b.default_max_episodes,default_max_collaborators:b.default_max_collaborators,default_max_subscriber_tokens:b.default_max_subscriber_tokens,captcha_provider:b.captcha_provider,captcha_site_key:b.captcha_provider==="none"?"":b.captcha_site_key.trim(),captcha_secret_key:b.captcha_provider==="none"?"":b.captcha_secret_key==="(set)"?void 0:b.captcha_secret_key,email_provider:b.email_provider,smtp_host:b.email_provider==="smtp"?b.smtp_host.trim():"",smtp_port:b.smtp_port,smtp_secure:b.smtp_secure,smtp_user:b.email_provider==="smtp"?b.smtp_user.trim():"",smtp_password:b.email_provider==="smtp"&&b.smtp_password!=="(set)"?b.smtp_password:void 0,smtp_from:b.email_provider==="smtp"?b.smtp_from.trim():"",sendgrid_api_key:b.email_provider==="sendgrid"&&b.sendgrid_api_key!=="(set)"?b.sendgrid_api_key:void 0,sendgrid_from:b.email_provider==="sendgrid"?b.sendgrid_from.trim():"",email_enable_registration_verification:b.email_enable_registration_verification,email_enable_welcome_after_verify:b.email_enable_welcome_after_verify,email_enable_password_reset:b.email_enable_password_reset,email_enable_admin_welcome:b.email_enable_admin_welcome,email_enable_new_show:b.email_enable_new_show,email_enable_invite:b.email_enable_invite,email_enable_contact:b.email_enable_contact,welcome_banner:b.welcome_banner,custom_terms:b.custom_terms,custom_privacy:b.custom_privacy,dns_provider:b.dns_provider,dns_provider_api_token:b.dns_provider_api_token&&b.dns_provider_api_token!=="(set)"?b.dns_provider_api_token:b.dns_provider_api_token_set?"(set)":void 0,dns_use_cname:b.dns_use_cname,dns_a_record_ip:b.dns_a_record_ip,dns_allow_linking_domain:b.dns_allow_linking_domain,dns_default_allow_domain:b.dns_default_allow_domain,dns_default_allow_domains:(()=>{const $=b.dns_default_allow_domains;if(typeof $=="string"){if($.trim().startsWith("["))try{const K=JSON.parse($);return Array.isArray(K)?K.filter(Y=>typeof Y=="string"):[]}catch{return $.split(",").map(K=>K.trim()).filter(Boolean)}return $.split(",").map(K=>K.trim()).filter(Boolean)}return[]})(),dns_default_allow_custom_key:b.dns_default_allow_custom_key,dns_default_allow_sub_domain:b.dns_default_allow_sub_domain,dns_default_domain:b.dns_default_domain,dns_default_enable_cloudflare_proxy:b.dns_default_enable_cloudflare_proxy,webrtc_service_url:((B=b.webrtc_service_url)==null?void 0:B.trim())??"",webrtc_public_ws_url:((O=b.webrtc_public_ws_url)==null?void 0:O.trim())??"",recording_callback_secret:b.recording_callback_secret==="(set)"?void 0:b.recording_callback_secret})},onSuccess:M=>{e.invalidateQueries({queryKey:["settings"]}),j(M),f.current=JSON.stringify(M),p({type:"success",message:"Settings saved."}),h.current||window.scrollTo({top:0,behavior:"smooth"}),h.current=!1},onError:M=>{const F=M instanceof Error?M.message:"Failed to save settings.";p({type:"error",message:F})}}),D=kTe(b,f.current);function I(M){M.preventDefault(),p(null),h.current=!1,R.mutate()}function q(){p(null),h.current=!0,R.mutate()}const z=v.useCallback(M=>{_({llm_provider:M,model:M==="openai"?z7:M==="ollama"?p2:b.model})},[_,b]);return r||!t&&n?i.jsx(_a,{}):a?i.jsxs("div",{className:ae.page,children:[i.jsxs("header",{className:ae.hero,children:[i.jsx("h1",{className:ae.heroTitle,children:"Settings"}),i.jsx("p",{className:ae.heroSub,children:"Control your server configuration and access settings."})]}),i.jsx(tf,{title:"Failed to load settings"})]}):i.jsxs("div",{className:ae.page,children:[i.jsxs("header",{className:ae.hero,children:[i.jsx("h1",{className:ae.heroTitle,children:"Settings"}),i.jsx("p",{className:ae.heroSub,children:"Control your server configuration and access settings."})]}),(c==null?void 0:c.type)==="success"&&i.jsxs("div",{className:`${ae.noticeSuccess} ${ae.saveNoticeCard}`,role:"status","aria-live":"polite",children:[i.jsx("span",{className:ae.noticeTitle,children:"Success"}),i.jsx("p",{className:ae.noticeBody,children:c.message})]}),(c==null?void 0:c.type)==="error"&&i.jsxs("div",{className:`${ae.noticeError} ${ae.saveNoticeCard}`,role:"alert","aria-live":"polite",children:[i.jsx("span",{className:ae.noticeTitle,children:"Error"}),i.jsx("p",{className:ae.noticeBody,children:c.message})]}),((o==null?void 0:o.version)!=null||u!=null)&&i.jsxs("div",{className:ae.versionCard,children:[i.jsx("div",{className:ae.versionCommands,children:u!=null&&Object.entries(u).sort(([M],[F])=>M.localeCompare(F)).map(([M])=>i.jsxs("span",{className:ae.commandBadge,title:u[M]?"Present":"Not found",children:[i.jsx("span",{className:ae.commandDot,style:{background:u[M]?"var(--accent)":"var(--error)"},"aria-hidden":!0}),i.jsx("code",{className:ae.commandName,children:M})]},M))}),(o==null?void 0:o.version)&&i.jsxs("div",{className:ae.versionBlock,children:[i.jsx("span",{className:ae.versionLabel,children:"Version"}),i.jsx("span",{className:ae.versionValue,children:o.version})]})]}),i.jsxs("form",{onSubmit:I,className:ae.form,children:[i.jsx(APe,{form:b,onFormChange:_,welcomeBannerRef:m,onResizeWelcomeBanner:k}),i.jsx(RPe,{form:b,onFormChange:_}),i.jsx(OPe,{form:b,onFormChange:_}),i.jsx(DPe,{form:b,onFormChange:_,geoliteTestMutation:N,geoliteCheckMutation:P,geoliteUpdateMutation:A,onGeoliteTest:()=>N.mutate({maxmind_account_id:b.maxmind_account_id.trim(),maxmind_license_key:b.maxmind_license_key==="(set)"?void 0:b.maxmind_license_key.trim()||void 0}),onGeoliteCheck:()=>P.mutate(),onGeoliteUpdate:()=>A.mutate({maxmind_account_id:b.maxmind_account_id.trim(),maxmind_license_key:b.maxmind_license_key==="(set)"?void 0:b.maxmind_license_key.trim()||void 0})}),i.jsx(LPe,{form:b,onFormChange:_,whisperTestMutation:y,onWhisperTest:()=>y.mutate(),transcriptionOpenaiTestMutation:x,onTranscriptionOpenaiTest:()=>x.mutate()}),i.jsx($Pe,{form:b,onFormChange:_,testMutation:w,onTest:()=>w.mutate(),onProviderChange:z}),i.jsx(FPe,{form:b,onFormChange:_}),i.jsx(UPe,{form:b,onFormChange:_}),i.jsx(WPe,{form:b,onFormChange:_,smtpTestMutation:S,sendgridTestMutation:T,onSmtpTest:()=>S.mutate(),onSendGridTest:()=>T.mutate()}),i.jsx(QPe,{form:b,onFormChange:_}),i.jsx(XPe,{form:b,onFormChange:_}),i.jsx("div",{className:ae.actions,children:i.jsx("button",{type:"submit",className:ae.submit,disabled:R.isPending,"aria-label":"Save settings",children:R.isPending?"Saving...":"Save"})})]}),i.jsx("div",{className:ae.floatingSaveWrap,"data-visible":D,role:"region","aria-label":"Save settings","aria-hidden":!D,children:i.jsxs("div",{className:ae.floatingSaveBar,children:[i.jsx("span",{className:ae.floatingSaveLabel,children:"Unsaved changes"}),i.jsx("button",{type:"button",className:ae.floatingSaveBtn,onClick:q,disabled:R.isPending,"aria-label":"Save settings",tabIndex:D?void 0:-1,children:R.isPending?"Saving...":"Save"})]})})]})}function uM(e){const t=new URLSearchParams;(e==null?void 0:e.limit)!=null&&t.set("limit",String(e.limit)),(e==null?void 0:e.offset)!=null&&t.set("offset",String(e.offset)),e!=null&&e.q&&t.set("q",e.q),e!=null&&e.sort&&t.set("sort",e.sort);const r=t.toString(),n=`/auth/api-keys${r?`?${r}`:""}`;return At(n)}function JPe(e){return an("/auth/api-keys",e??{})}function eAe(e,t){return Kl(`/auth/api-keys/${encodeURIComponent(e)}`,t)}function tAe(e){return Kh(`/auth/api-keys/${encodeURIComponent(e)}`)}const wl={...ne,...Ua};function rAe({keyValue:e,onDismiss:t,copied:r,onCopy:n}){return i.jsx("div",{className:wl.tokenCreatedCard,role:"status",children:i.jsxs("div",{className:wl.tokenCreatedHeader,children:[i.jsxs("div",{className:wl.tokenCreatedContent,children:[i.jsx("p",{className:wl.tokenCreatedTitle,children:"API key created. Copy the key now - it won't be shown again."}),i.jsx("code",{className:wl.tokenUrl,style:{fontFamily:"ui-monospace, monospace"},children:e})]}),i.jsxs("div",{className:wl.tokenCreatedActions,children:[i.jsxs("button",{type:"button",className:wl.tokenCreatedCopyBtn,onClick:n,"aria-label":"Copy API key",children:[r?i.jsx(Rj,{size:16,"aria-hidden":!0}):i.jsx(fh,{size:16,"aria-hidden":!0}),r?"Copied":"Copy key"]}),i.jsxs("button",{type:"button",className:wl.tokenCreatedDismissBtn,onClick:t,children:[i.jsx(Nt,{size:16,"aria-hidden":!0}),"Dismiss"]})]})]})})}const jc={...ne,...Ua};function nAe({atLimit:e,limitValue:t,readOnly:r,onSuccess:n}){const a=Bt(),[o,u]=v.useState(""),[c,p]=v.useState(!0),[h,f]=v.useState(()=>{const _=new Date(Date.now()+31536e6);return Bd(_)}),m=Ve({mutationFn:_=>JPe(_),onSuccess:_=>{a.invalidateQueries({queryKey:["api-keys"]}),a.invalidateQueries({queryKey:["api-keys-count"]}),n(_),u(""),p(!0);const j=new Date(Date.now()+365*24*60*60*1e3);f(Bd(j))}}),b=_=>{if(_.preventDefault(),!o.trim())return;const j=c&&h.trim()?new Date(h).toISOString():void 0;m.mutate({name:o.trim(),...j?{valid_until:j}:{}})};return r?null:i.jsxs("form",{className:jc.tokenForm,onSubmit:b,children:[i.jsx("div",{className:jc.tokenFormInputWrap,children:i.jsx("input",{type:"text",placeholder:"Key name (e.g. Production script)",value:o,onChange:_=>u(_.target.value),className:jc.tokenFormInput,disabled:e,required:!0})}),i.jsxs("div",{className:jc.tokenFormActions,"data-expires":c,children:[i.jsxs("label",{className:"toggle",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx("input",{type:"checkbox",checked:c,disabled:e,onChange:_=>p(_.target.checked)}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{style:{fontSize:"0.875rem",fontWeight:500},children:"Expires"})]}),c&&i.jsx("input",{type:"datetime-local",placeholder:"Valid until",disabled:e,value:h,onChange:_=>f(_.target.value),className:jc.tokenFormInput}),i.jsxs("button",{type:"submit",className:jc.createTokenBtn,disabled:m.isPending||e,title:e?`You can have at most ${t} API keys. Revoke one to create another.`:void 0,children:[i.jsx(Qr,{size:16,strokeWidth:2,"aria-hidden":!0}),m.isPending?"Creating...":"Create Key"]})]}),m.isError&&i.jsx("p",{className:jc.error,children:m.error.message})]})}const co={...ne,...Ua};function aAe({apiKey:e,isOpen:t,onClose:r,onConfirm:n,isPending:a}){var u;const o=((u=e==null?void 0:e.name)==null?void 0:u.trim())||"API Key";return i.jsx(cr,{open:t,onOpenChange:c=>!c&&r(),children:i.jsxs(mr,{children:[i.jsx(ur,{className:co.dialogOverlay}),i.jsxs(dr,{className:co.dialogContent,children:[i.jsxs("div",{className:co.dialogHeaderRow,children:[i.jsx(fr,{className:co.dialogTitle,children:"Revoke API key?"}),i.jsx(dt,{asChild:!0,children:i.jsx("button",{type:"button",className:co.dialogClose,"aria-label":"Close",children:i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":"true"})})})]}),i.jsx(kr,{className:co.dialogDescription,children:e?`This will permanently revoke the API key "${o}". Any scripts or apps using this key will stop working. This cannot be undone.`:"This will permanently revoke this API key. This cannot be undone."}),i.jsxs("div",{className:co.dialogActions,children:[i.jsx(dt,{asChild:!0,children:i.jsx("button",{type:"button",className:co.subscriberDialogCancelBtn,"aria-label":"Cancel",children:"Cancel"})}),i.jsx("button",{type:"button",className:co.dialogConfirmRemove,onClick:()=>{e&&(n(e.id),r())},disabled:a,"aria-label":"Confirm revoke API key",children:a?"Revoking...":"Revoke"})]})]})]})})}const iAe="_page_1wcdw_1",sAe="_hero_1wcdw_9",oAe="_heroTitle_1wcdw_13",lAe="_heroSub_1wcdw_22",cAe="_heroLink_1wcdw_28",uAe="_card_1wcdw_37",dAe="_cardTitle_1wcdw_46",fAe="_cardSub_1wcdw_53",pAe="_docsLink_1wcdw_60",hAe="_list_1wcdw_68",mAe="_row_1wcdw_75",gAe="_term_1wcdw_82",vAe="_detail_1wcdw_89",yAe="_badge_1wcdw_95",bAe="_cardNote_1wcdw_106",_Ae="_apiKeysSection_1wcdw_126",xAe="_apiKeyLimitCard_1wcdw_131",wAe="_apiKeyLimitText_1wcdw_141",Ye={page:iAe,hero:sAe,heroTitle:oAe,heroSub:lAe,heroLink:cAe,card:uAe,cardTitle:dAe,cardSub:fAe,docsLink:pAe,list:hAe,row:mAe,term:gAe,detail:vAe,badge:yAe,cardNote:bAe,apiKeysSection:_Ae,apiKeyLimitCard:xAe,apiKeyLimitText:wAe},cs={...ne,...Ua},Yp=10;function SAe(e){return v_(e)||"-"}function bv(e){return l2(e)||"-"}function jAe(e){if(e===0)return"0 B";const t=1024,r=["B","KB","MB","GB"],n=Math.floor(Math.log(e)/Math.log(t));return`${parseFloat((e/Math.pow(t,n)).toFixed(1))} ${r[n]}`}function CAe(){var He;const e=Bt(),[t,r]=v.useState(null),[n,a]=v.useState(!1),[o,u]=v.useState(null),[c,p]=v.useState(null),[h,f]=v.useState(""),[m,b]=v.useState(""),[_,j]=v.useState(""),[w,y]=v.useState(!0),[x,S]=v.useState(1),T=v.useRef(null),N=v.useRef(!0),P=v.useRef(void 0),{data:A,isLoading:k,isError:R}=De({queryKey:["me"],queryFn:Si});v.useEffect(()=>{if(m.trim()===""){j(""),S(1);return}const J=window.setTimeout(()=>{j(m.trim()),S(1)},300);return()=>window.clearTimeout(J)},[m]),v.useEffect(()=>{S(1)},[w]),v.useEffect(()=>{P.current!==void 0&&P.current!==x&&(N.current=!1),P.current=x},[x]);const{data:D,isLoading:I}=De({queryKey:["api-keys",x,_,w],queryFn:()=>uM({limit:Yp,offset:(x-1)*Yp,q:_||void 0,sort:w?"newest":"oldest"})}),{data:q}=De({queryKey:["api-keys-count"],queryFn:()=>uM({limit:1,offset:0})}),z=Ve({mutationFn:tAe,onSuccess:()=>{e.invalidateQueries({queryKey:["api-keys"]}),e.invalidateQueries({queryKey:["api-keys-count"]})}}),M=Ve({mutationFn:({id:J,body:we})=>eAe(J,we),onSuccess:()=>{e.invalidateQueries({queryKey:["api-keys"]}),e.invalidateQueries({queryKey:["api-keys-count"]}),p(null),f("")}});v.useEffect(()=>{if(N.current||I)return;N.current=!0;const J=T.current,we=requestAnimationFrame(()=>{J==null||J.scrollIntoView({behavior:"smooth",block:"start"})});return()=>cancelAnimationFrame(we)},[x,I]);const F=(D==null?void 0:D.api_keys)??[],B=(D==null?void 0:D.total)??0,O=Math.max(1,Math.ceil(B/Yp)),$=Math.max(1,Math.min(x,O)),K=B===0?0:($-1)*Yp+1,Y=($-1)*Yp+F.length;v.useEffect(()=>{D!=null&&B>0&&x>O&&S(Math.max(1,O))},[O,D,B,x]);const Z=(q==null?void 0:q.total)??0,H=((He=A==null?void 0:A.user)==null?void 0:He.max_api_keys)??5,X=Z>=H;function te(J){navigator.clipboard.writeText(J).then(()=>{a(!0),window.setTimeout(()=>a(!1),2e3)})}if(k)return i.jsx(_a,{});if(R||!(A!=null&&A.user))return i.jsxs("div",{className:Ye.page,children:[i.jsxs("header",{className:Ye.hero,children:[i.jsx("h1",{className:Ye.heroTitle,children:"Profile"}),i.jsxs("p",{className:Ye.heroSub,children:["Your account details and settings."," ",i.jsx(Xe,{to:"/contact",className:Ye.heroLink,children:"Contact site administrators."})]})]}),i.jsx(tf,{title:"Failed to load profile"})]});const{user:le}=A,me=le.role==="admin"?"Administrator":"User",ke=le.max_podcasts!=null||le.max_episodes!=null||le.max_storage_mb!=null,xe=!le.read_only&&(le.last_login_at!=null||le.last_login_ip!=null||le.last_login_location!=null);return i.jsxs("div",{className:Ye.page,children:[i.jsxs("header",{className:Ye.hero,children:[i.jsx("h1",{className:Ye.heroTitle,children:"Profile"}),i.jsxs("p",{className:Ye.heroSub,children:["Your account details and settings."," ",i.jsx(Xe,{to:"/contact",className:Ye.heroLink,children:"Contact site administrators."})]})]}),i.jsxs("section",{className:Ye.card,children:[i.jsx("h2",{className:Ye.cardTitle,children:"Account"}),i.jsx("p",{className:Ye.cardSub,children:"Basic information about your account"}),i.jsxs("dl",{className:Ye.list,children:[i.jsxs("div",{className:Ye.row,children:[i.jsx("dt",{className:Ye.term,children:"Email"}),i.jsx("dd",{className:Ye.detail,children:le.email})]}),i.jsxs("div",{className:Ye.row,children:[i.jsx("dt",{className:Ye.term,children:"Role"}),i.jsx("dd",{className:Ye.detail,children:me})]}),i.jsxs("div",{className:Ye.row,children:[i.jsx("dt",{className:Ye.term,children:"Account created"}),i.jsx("dd",{className:Ye.detail,children:SAe(le.created_at)})]}),le.read_only?i.jsxs("div",{className:Ye.row,children:[i.jsx("dt",{className:Ye.term,children:"Mode"}),i.jsxs("dd",{className:Ye.detail,children:[i.jsx("span",{className:Ye.badge,children:"Read-only"})," - You can view content but not create or edit."]})]}):null]})]}),xe&&i.jsxs("section",{className:Ye.card,children:[i.jsx("h2",{className:Ye.cardTitle,children:"Last login"}),i.jsx("p",{className:Ye.cardSub,children:"When and where you last signed in"}),i.jsxs("dl",{className:Ye.list,children:[le.last_login_at!=null&&i.jsxs("div",{className:Ye.row,children:[i.jsx("dt",{className:Ye.term,children:"Time"}),i.jsx("dd",{className:Ye.detail,children:bv(le.last_login_at)})]}),le.last_login_ip!=null&&i.jsxs("div",{className:Ye.row,children:[i.jsx("dt",{className:Ye.term,children:"IP address"}),i.jsx("dd",{className:Ye.detail,children:le.last_login_ip})]}),le.last_login_location!=null&&i.jsxs("div",{className:Ye.row,children:[i.jsx("dt",{className:Ye.term,children:"Location"}),i.jsx("dd",{className:Ye.detail,children:le.last_login_location})]})]})]}),i.jsxs("section",{className:Ye.card,children:[i.jsx("h2",{className:Ye.cardTitle,children:"Usage"}),i.jsx("p",{className:Ye.cardSub,children:"Your podcasts and storage"}),i.jsxs("dl",{className:Ye.list,children:[i.jsxs("div",{className:Ye.row,children:[i.jsx("dt",{className:Ye.term,children:"Podcasts"}),i.jsxs("dd",{className:Ye.detail,children:[A.podcast_count,le.max_podcasts!=null&&le.max_podcasts>0?` of ${le.max_podcasts}`:""]})]}),i.jsxs("div",{className:Ye.row,children:[i.jsx("dt",{className:Ye.term,children:"Episodes"}),i.jsxs("dd",{className:Ye.detail,children:[A.episode_count,le.max_episodes!=null&&le.max_episodes>0?` of ${le.max_episodes}`:""]})]}),i.jsxs("div",{className:Ye.row,children:[i.jsx("dt",{className:Ye.term,children:"Storage used"}),i.jsxs("dd",{className:Ye.detail,children:[jAe(le.disk_bytes_used??0),le.max_storage_mb!=null&&le.max_storage_mb>0?` of ${le.max_storage_mb} MB`:""]})]})]}),!ke&&i.jsx("p",{className:Ye.cardNote,children:"You dont have any limits set on your account."})]}),i.jsxs("section",{className:`${cs.card} ${Ye.apiKeysSection}`,children:[i.jsx("div",{className:cs.exportHeader,children:i.jsxs("div",{className:cs.exportTitle,children:[i.jsx(YM,{size:18,strokeWidth:2,"aria-hidden":"true"}),i.jsx("h2",{ref:T,className:cs.sectionTitle,children:"API Keys"})]})}),i.jsxs("p",{className:cs.sectionSub,children:["Use API keys for scripted or programmatic access. Each key has the same access as your account. You can have up to ",H," keys."," ",i.jsx("a",{href:"/api/docs",target:"_blank",rel:"noopener noreferrer",className:Ye.docsLink,children:"View API documentation"})," ","to explore and try endpoints with your key."]}),!le.read_only&&i.jsx(nAe,{atLimit:X,limitValue:H,readOnly:!!le.read_only,onSuccess:r}),t&&i.jsx(rAe,{keyValue:t.key,onDismiss:()=>r(null),copied:n,onCopy:()=>te(t.key)}),X&&i.jsx("div",{className:Ye.apiKeyLimitCard,children:i.jsxs("p",{className:Ye.apiKeyLimitText,children:["You can have at most ",H," API keys. Revoke one to create another."]})}),i.jsx(g6,{searchQuery:m,onSearchChange:b,sortNewestFirst:w,onSortChange:y,totalCount:Z}),I?i.jsx("p",{className:cs.tokenMuted,children:"Loading..."}):Z===0?i.jsx("p",{className:cs.tokenMuted,children:"No API keys yet. Create one above to use the API."}):B===0?i.jsx("div",{className:cs.tokenNoMatch,children:i.jsx("p",{className:cs.tokenNoMatchText,children:"No keys match your search."})}):i.jsxs(i.Fragment,{children:[i.jsx("ul",{className:cs.exportList,children:F.map(J=>{var Ze;const we=J.valid_until!=null&&new Date(J.valid_until)<new Date,Ne=J.disabled===1,ge=we?"expired":Ne?"disabled":"active",Pe=((Ze=J.name)==null?void 0:Ze.trim())||"API Key",Ae=[`Created ${bv(J.created_at)}`];return J.valid_until&&Ae.push(`Expires ${bv(J.valid_until)}`),J.last_used_at!=null&&Ae.push(`Last used ${bv(J.last_used_at)}`),i.jsx(v6,{name:Pe,status:ge,metaText:Ae.join("  "),readOnly:!!le.read_only,extendEditing:c===J.id,extendValue:h,onExtendValueChange:f,onExtendSave:()=>{h.trim()&&M.mutate({id:J.id,body:{valid_until:new Date(h).toISOString()}})},onExtendCancel:()=>{p(null),f("")},onExtendClick:()=>{p(J.id);const Me=new Date(Date.now()+365*24*60*60*1e3);f(Bd(Me))},onEnableDisable:()=>M.mutate({id:J.id,body:{disabled:!Ne}}),enableDisableDisabled:M.isPending||ge==="expired",onRevoke:()=>u(J),revokeDisabled:z.isPending,updatePending:M.isPending,revokeLabel:"Revoke"},J.id)})}),i.jsx(y6,{page:$,totalPages:O,rangeStart:K,rangeEnd:Y,totalTokens:B,onPageChange:S,itemLabel:"key"})]})]}),i.jsx(aAe,{apiKey:o,isOpen:!!o,onClose:()=>u(null),onConfirm:J=>z.mutate(J),isPending:z.isPending})]})}const kAe="_users_gj9oj_1",NAe="_head_gj9oj_6",EAe="_searchRow_gj9oj_13",TAe="_searchInput_gj9oj_21",PAe="_createUserBtn_gj9oj_43",AAe="_title_gj9oj_63",RAe="_subtitleRight_gj9oj_76",OAe="_muted_gj9oj_83",DAe="_empty_gj9oj_93",MAe="_userList_gj9oj_99",LAe="_userCard_gj9oj_105",IAe="_userCardRow_gj9oj_118",$Ae="_userCardLeft_gj9oj_126",BAe="_userCardEmail_gj9oj_134",zAe="_userCardDetailsRow_gj9oj_144",FAe="_userCardMeta_gj9oj_153",qAe="_userCardLastLogin_gj9oj_162",UAe="_userCardActions_gj9oj_168",HAe="_pagination_gj9oj_175",WAe="_pageBtn_gj9oj_183",KAe="_pageInfo_gj9oj_205",GAe="_roleUser_gj9oj_210",VAe="_roleAdmin_gj9oj_211",YAe="_actionBtn_gj9oj_226",QAe="_actionBtnDanger_gj9oj_247",XAe="_dialogOverlay_gj9oj_298",ZAe="_dialogContent_gj9oj_306",JAe="_dialogContentWide_gj9oj_322",eRe="_dialogContentScrollable_gj9oj_326",tRe="_dialogHeaderRow_gj9oj_332",rRe="_dialogTitle_gj9oj_335",nRe="_dialogDescription_gj9oj_339",aRe="_dialogBodyScroll_gj9oj_343",iRe="_dialogFormWrap_gj9oj_372",sRe="_dialogClose_gj9oj_394",oRe="_dialogActions_gj9oj_435",lRe="_dialogActionsCancelLeft_gj9oj_445",cRe="_cancel_gj9oj_449",uRe="_dialogConfirmRemove_gj9oj_469",dRe="_dialogConfirm_gj9oj_469",fRe="_noticeError_gj9oj_516",pRe="_noticeTitle_gj9oj_526",hRe="_noticeBody_gj9oj_532",mRe="_formGroup_gj9oj_538",gRe="_formLabel_gj9oj_542",vRe="_formSectionHeader_gj9oj_550",yRe="_formInput_gj9oj_559",bRe="_roleToggle_gj9oj_580",_Re="_roleToggleBtn_gj9oj_588",xRe="_roleToggleBtnActive_gj9oj_589",Se={users:kAe,head:NAe,searchRow:EAe,searchInput:TAe,createUserBtn:PAe,title:AAe,subtitleRight:RAe,muted:OAe,empty:DAe,userList:MAe,userCard:LAe,userCardRow:IAe,userCardLeft:$Ae,userCardEmail:BAe,userCardDetailsRow:zAe,userCardMeta:FAe,userCardLastLogin:qAe,userCardActions:UAe,pagination:HAe,pageBtn:WAe,pageInfo:KAe,roleUser:GAe,roleAdmin:VAe,actionBtn:YAe,actionBtnDanger:QAe,dialogOverlay:XAe,dialogContent:ZAe,dialogContentWide:JAe,dialogContentScrollable:eRe,dialogHeaderRow:tRe,dialogTitle:rRe,dialogDescription:nRe,dialogBodyScroll:aRe,dialogFormWrap:iRe,dialogClose:sRe,dialogActions:oRe,dialogActionsCancelLeft:lRe,cancel:cRe,dialogConfirmRemove:uRe,dialogConfirm:dRe,noticeError:fRe,noticeTitle:pRe,noticeBody:hRe,formGroup:mRe,formLabel:gRe,formSectionHeader:vRe,formInput:yRe,roleToggle:bRe,roleToggleBtn:_Re,roleToggleBtnActive:xRe};function wRe(e){const t=Number(e);if(!Number.isFinite(t)||t<=0)return"0 B";const r=["B","KB","MB","GB","TB"];let n=t,a=0;for(;n>=1024&&a<r.length-1;)n/=1024,a+=1;return`${n.toFixed(2)} ${r[a]}`}function SRe(){const e=xi(),[t,r]=v.useState(1),[n,a]=v.useState(""),[o,u]=v.useState(null),[c,p]=v.useState(null),[h,f]=v.useState(""),[m,b]=v.useState("user"),[_,j]=v.useState(!1),[w,y]=v.useState(!1),[x,S]=v.useState(""),[T,N]=v.useState(null),[P,A]=v.useState(null),[k,R]=v.useState(null),[D,I]=v.useState(null),[q,z]=v.useState(null),[M,F]=v.useState(!1),[B,O]=v.useState(!1),[$,K]=v.useState(""),[Y,Z]=v.useState(""),[H,X]=v.useState("user"),te=50,le=Bt(),{data:me,isLoading:ke,isError:xe}=De({queryKey:["users",t,n],queryFn:()=>YZ(t,te,n||void 0),refetchOnMount:"always"}),He=Ve({mutationFn:ZZ,onSuccess:()=>{le.invalidateQueries({queryKey:["users"]}),u(null)}}),J=Ve({mutationFn:({userId:be,data:Qe})=>QZ(be,Qe),onSuccess:()=>{le.invalidateQueries({queryKey:["users"]}),p(null)}}),we=Ve({mutationFn:()=>XZ({email:$.trim(),password:Y,role:H}),onSuccess:()=>{le.invalidateQueries({queryKey:["users"]}),O(!1),K(""),Z(""),X("user")}});function Ne(be){a(be.target.value),r(1)}function ge(be){p(be),f(be.email),b(be.role),j(be.disabled===1),y(be.read_only===1),S(""),N(be.max_podcasts??null),A(be.max_episodes??null),R(be.max_storage_mb??null),I(be.max_collaborators??null),z(be.max_subscriber_tokens??null),F(be.can_transcribe===1)}function Pe(be){if(be.preventDefault(),!c)return;const Qe={};h!==c.email&&(Qe.email=h),m!==c.role&&(Qe.role=m),_!==(c.disabled===1)&&(Qe.disabled=_),w!==(c.read_only===1)&&(Qe.read_only=w),x.trim()!==""&&(Qe.password=x),T!==(c.max_podcasts??null)&&(Qe.max_podcasts=T),P!==(c.max_episodes??null)&&(Qe.max_episodes=P),k!==(c.max_storage_mb??null)&&(Qe.max_storage_mb=k),D!==(c.max_collaborators??null)&&(Qe.max_collaborators=D),q!==(c.max_subscriber_tokens??null)&&(Qe.max_subscriber_tokens=q);const Tr=c.can_transcribe===1;M!==Tr&&(Qe.can_transcribe=M),Object.keys(Qe).length>0?J.mutate({userId:c.id,data:Qe}):p(null)}function Ae(be){u(be)}function Ze(){o&&He.mutate(o)}const Me=(me==null?void 0:me.users)??[],We=me==null?void 0:me.pagination;return i.jsxs("div",{className:Se.users,children:[i.jsx("div",{className:Se.head,children:i.jsx("h1",{className:Se.title,children:"Users"})}),i.jsxs("div",{className:Se.searchRow,children:[i.jsx("input",{type:"text",className:Se.searchInput,placeholder:"Search by email...",value:n,onChange:Ne,"aria-label":"Search by email"}),i.jsxs("button",{type:"button",className:Se.createUserBtn,onClick:()=>{X("user"),O(!0)},"aria-label":"Create user",children:[i.jsx(Qr,{size:18,strokeWidth:2,"aria-hidden":!0}),"Create User"]})]}),ke&&i.jsx("p",{className:Se.muted,children:"Loading users..."}),xe&&i.jsx(tf,{title:"Failed to load users"}),!ke&&!xe&&i.jsxs(i.Fragment,{children:[Me.length===0?i.jsx("div",{className:Se.empty,children:i.jsx("p",{children:"No users found."})}):i.jsx("div",{className:Se.userList,children:Me.map(be=>i.jsxs("div",{className:Se.userCard,children:[i.jsxs("div",{className:Se.userCardRow,children:[i.jsx("div",{className:Se.userCardLeft,children:i.jsx("h2",{className:Se.userCardEmail,children:be.email})}),i.jsxs("div",{className:Se.userCardActions,children:[i.jsxs("button",{type:"button",className:Se.actionBtn,onClick:()=>e(`/dashboard/${be.id}`),title:"View podcasts","aria-label":`View podcasts for ${be.email}`,children:[i.jsx(ob,{size:16,strokeWidth:2,"aria-hidden":!0}),i.jsx("span",{children:"Podcasts"})]}),i.jsxs("button",{type:"button",className:Se.actionBtn,onClick:()=>e(`/library/${be.id}`),title:"View library","aria-label":`View library for ${be.email}`,children:[i.jsx(Qv,{size:16,strokeWidth:2,"aria-hidden":!0}),i.jsx("span",{children:"Library"})]}),i.jsxs("button",{type:"button",className:Se.actionBtn,onClick:()=>ge(be),title:"Edit User","aria-label":`Edit user ${be.email}`,children:[i.jsx(JM,{size:16,strokeWidth:2,"aria-hidden":!0}),i.jsx("span",{children:"Edit"})]}),i.jsx("button",{type:"button",className:`${Se.actionBtn} ${Se.actionBtnDanger}`,onClick:()=>Ae(be.id),title:"Delete user","aria-label":`Delete user ${be.email}`,children:i.jsx(Wl,{size:16,strokeWidth:2,"aria-hidden":!0})})]})]}),i.jsxs("div",{className:Se.userCardDetailsRow,children:[i.jsxs("p",{className:Se.userCardMeta,children:[i.jsx("span",{className:be.role==="admin"?Se.roleAdmin:Se.roleUser,children:be.role}),"  ","Created ",v_(be.created_at),"  ","Storage ",wRe(be.disk_bytes_used??0)]}),(be.last_login_at!=null||be.last_login_ip!=null||be.last_login_location)&&i.jsxs("p",{className:Se.userCardLastLogin,children:["Last login: ",be.last_login_at!=null?l2(be.last_login_at):"-",be.last_login_ip!=null&&i.jsxs(i.Fragment,{children:["  ",be.last_login_ip]}),be.last_login_location!=null&&be.last_login_location!==""&&i.jsxs(i.Fragment,{children:["  ",be.last_login_location]})]})]})]},be.id))}),We&&i.jsxs("p",{className:Se.subtitleRight,children:["Showing ",Me.length," of ",We.total," users",n&&` matching "${n}"`]}),We&&We.totalPages>1&&i.jsxs("div",{className:Se.pagination,children:[i.jsx("button",{type:"button",className:Se.pageBtn,onClick:()=>r(be=>Math.max(1,be-1)),disabled:t===1,"aria-label":"Go to previous page",children:"Previous"}),i.jsxs("span",{className:Se.pageInfo,children:["Page ",We.page," of ",We.totalPages]}),i.jsx("button",{type:"button",className:Se.pageBtn,onClick:()=>r(be=>Math.min(We.totalPages,be+1)),disabled:t>=We.totalPages,"aria-label":"Go to next page",children:"Next"})]})]}),i.jsx(cr,{open:!!c,onOpenChange:be=>!be&&p(null),children:i.jsxs(mr,{children:[i.jsx(ur,{className:Se.dialogOverlay}),i.jsxs(dr,{className:`${Se.dialogContent} ${Se.dialogContentWide} ${Se.dialogContentScrollable}`,children:[i.jsxs("div",{className:Se.dialogHeaderRow,children:[i.jsx(fr,{className:Se.dialogTitle,children:"Edit User"}),i.jsx(dt,{asChild:!0,children:i.jsx("button",{type:"button",className:Se.dialogClose,"aria-label":"Close",children:i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":"true"})})})]}),i.jsx(kr,{className:Se.dialogDescription,children:"Update the user email, password, role, and limits."}),i.jsxs("form",{onSubmit:Pe,className:Se.dialogFormWrap,children:[i.jsxs("div",{className:Se.dialogBodyScroll,children:[i.jsx("div",{className:Se.formGroup,children:i.jsxs("label",{className:Se.formLabel,children:["Email",i.jsx("input",{type:"email",className:Se.formInput,value:h,onChange:be=>f(be.target.value),required:!0})]})}),i.jsxs("div",{className:Se.formGroup,children:[i.jsxs("label",{className:Se.formLabel,children:["Password",i.jsx("input",{type:"password",className:Se.formInput,value:x,onChange:be=>S(be.target.value),placeholder:"Leave blank to keep current password"})]}),i.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginTop:"0.25rem"},children:"Leave blank to keep the current password."})]}),i.jsxs("div",{className:Se.formGroup,children:[i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:_,onChange:be=>j(be.target.checked)}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Disabled"})]}),i.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginTop:"0.25rem",marginLeft:"3.5rem"},children:"When enabled, a user cannot log in."})]}),i.jsxs("div",{className:Se.formGroup,children:[i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:w,onChange:be=>y(be.target.checked)}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Read Only"})]}),i.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginTop:"0.25rem",marginLeft:"3.5rem"},children:"When enabled, the user can view content but cannot create or edit podcasts, episodes, library items, or run build/S3 export."})]}),i.jsxs("div",{className:Se.formGroup,children:[i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:M,onChange:be=>F(be.target.checked)}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Can Transcribe"})]}),i.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginTop:"0.25rem",marginLeft:"3.5rem"},children:"When enabled, the user can generate episode and segment transcripts (when a transcription provider is configured)."})]}),i.jsx("div",{className:Se.formGroup,children:i.jsxs("label",{className:Se.formLabel,children:["Role",i.jsxs("div",{className:Se.roleToggle,role:"group","aria-label":"User role",children:[i.jsx("button",{type:"button",className:m==="user"?Se.roleToggleBtnActive:Se.roleToggleBtn,onClick:()=>b("user"),"aria-label":"Set role to User","aria-pressed":m==="user",children:"User"}),i.jsx("button",{type:"button",className:m==="admin"?Se.roleToggleBtnActive:Se.roleToggleBtn,onClick:()=>b("admin"),"aria-label":"Set role to Admin","aria-pressed":m==="admin",children:"Admin"})]})]})}),i.jsxs("div",{className:Se.formGroup,children:[i.jsx("p",{className:Se.formSectionHeader,children:"Limits (Leave Empty for No Limit)"}),i.jsxs("label",{className:Se.formLabel,children:["Max Podcasts",i.jsx("input",{type:"number",min:0,step:1,className:Se.formInput,placeholder:"No limit",value:T??"",onChange:be=>{const Qe=be.target.value;N(Qe===""?null:Number(Qe))}})]}),i.jsxs("label",{className:Se.formLabel,style:{marginTop:"0.5rem"},children:["Max Episodes",i.jsx("input",{type:"number",min:0,step:1,className:Se.formInput,placeholder:"No limit",value:P??"",onChange:be=>{const Qe=be.target.value;A(Qe===""?null:Number(Qe))}})]}),i.jsxs("label",{className:Se.formLabel,style:{marginTop:"0.5rem"},children:["Max Storage (MB)",i.jsx("input",{type:"number",min:0,step:1,className:Se.formInput,placeholder:"No limit",value:k??"",onChange:be=>{const Qe=be.target.value;R(Qe===""?null:Number(Qe))}})]}),i.jsxs("label",{className:Se.formLabel,style:{marginTop:"0.5rem"},children:["Max Collaborators",i.jsx("input",{type:"number",min:0,step:1,className:Se.formInput,placeholder:"No limit",value:D??"",onChange:be=>{const Qe=be.target.value;I(Qe===""?null:Number(Qe))}})]}),i.jsxs("label",{className:Se.formLabel,style:{marginTop:"0.5rem"},children:["Max Subscriber Tokens",i.jsx("input",{type:"number",min:0,step:1,className:Se.formInput,placeholder:"No limit",value:q??"",onChange:be=>{const Qe=be.target.value;z(Qe===""?null:Number(Qe))}})]})]})]}),J.isError&&i.jsxs("div",{className:Se.noticeError,role:"alert",style:{marginTop:"0.5rem",marginBottom:"0.5rem"},children:[i.jsx("span",{className:Se.noticeTitle,children:"Error"}),i.jsx("p",{className:Se.noticeBody,children:J.error instanceof Error?J.error.message:"Failed to update user"})]}),i.jsxs("div",{className:`${Se.dialogActions} ${Se.dialogActionsCancelLeft}`,children:[i.jsx(dt,{asChild:!0,children:i.jsx("button",{type:"button",className:Se.cancel,"aria-label":"Cancel editing user",children:"Cancel"})}),i.jsx("button",{type:"submit",className:Se.dialogConfirm,disabled:J.isPending,"aria-label":"Save user changes",children:J.isPending?"Saving...":"Save"})]})]})]})]})}),i.jsx(cr,{open:B,onOpenChange:be=>!be&&O(!1),children:i.jsxs(mr,{children:[i.jsx(ur,{className:Se.dialogOverlay}),i.jsxs(dr,{className:Se.dialogContent,children:[i.jsxs("div",{className:Se.dialogHeaderRow,children:[i.jsx(fr,{className:Se.dialogTitle,children:"Create User"}),i.jsx(dt,{asChild:!0,children:i.jsx("button",{type:"button",className:Se.dialogClose,"aria-label":"Close",children:i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":"true"})})})]}),i.jsx(kr,{className:Se.dialogDescription,children:"Add a new user account. They can sign in with this email and password."}),i.jsxs("form",{onSubmit:be=>{be.preventDefault();const Qe=$.trim();!Qe||!Qe.includes("@")||Y.length<8||we.mutate()},className:Se.dialogFormWrap,children:[i.jsx("div",{className:Se.formGroup,children:i.jsxs("label",{className:Se.formLabel,children:["Email",i.jsx("input",{type:"email",className:Se.formInput,value:$,onChange:be=>K(be.target.value),required:!0,autoComplete:"off"})]})}),i.jsxs("div",{className:Se.formGroup,children:[i.jsxs("label",{className:Se.formLabel,children:["Password",i.jsx("input",{type:"password",className:Se.formInput,value:Y,onChange:be=>Z(be.target.value),required:!0,minLength:8,autoComplete:"new-password"})]}),i.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginTop:"0.25rem"},children:"At least 8 characters."})]}),i.jsx("div",{className:Se.formGroup,children:i.jsxs("label",{className:Se.formLabel,children:["Role",i.jsxs("div",{className:Se.roleToggle,role:"group","aria-label":"User role",children:[i.jsx("button",{type:"button",className:H==="user"?Se.roleToggleBtnActive:Se.roleToggleBtn,onClick:()=>X("user"),"aria-pressed":H==="user",children:"User"}),i.jsx("button",{type:"button",className:H==="admin"?Se.roleToggleBtnActive:Se.roleToggleBtn,onClick:()=>X("admin"),"aria-pressed":H==="admin",children:"Admin"})]})]})}),we.isError&&i.jsxs("div",{className:Se.noticeError,role:"alert",style:{marginTop:"0.5rem",marginBottom:"0.5rem"},children:[i.jsx("span",{className:Se.noticeTitle,children:"Error"}),i.jsx("p",{className:Se.noticeBody,children:we.error instanceof Error?we.error.message:"Failed to create user"})]}),i.jsxs("div",{className:`${Se.dialogActions} ${Se.dialogActionsCancelLeft}`,children:[i.jsx(dt,{asChild:!0,children:i.jsxs("button",{type:"button",className:Se.cancel,"aria-label":"Cancel",children:[i.jsx(Nt,{size:16,strokeWidth:2,"aria-hidden":!0}),"Cancel"]})}),i.jsxs("button",{type:"submit",className:Se.dialogConfirm,disabled:we.isPending||!$.trim()||Y.length<8,"aria-label":"Create user",children:[i.jsx(Qr,{size:16,strokeWidth:2,"aria-hidden":!0}),we.isPending?"Creating...":"Create User"]})]})]})]})]})}),i.jsx(cr,{open:!!o,onOpenChange:be=>!be&&u(null),children:i.jsxs(mr,{children:[i.jsx(ur,{className:Se.dialogOverlay}),i.jsxs(dr,{className:Se.dialogContent,children:[i.jsxs("div",{className:Se.dialogHeaderRow,children:[i.jsx(fr,{className:Se.dialogTitle,children:"Delete user?"}),i.jsx(dt,{asChild:!0,children:i.jsx("button",{type:"button",className:Se.dialogClose,"aria-label":"Close",children:i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":"true"})})})]}),i.jsx(kr,{className:Se.dialogDescription,children:o&&(()=>{const be=Me.find(Qe=>Qe.id===o);return be?`Are you sure you want to delete "${be.email}"? This action cannot be undone.`:"Are you sure you want to delete this user? This action cannot be undone."})()}),i.jsxs("div",{className:Se.dialogActions,children:[i.jsx(dt,{asChild:!0,children:i.jsx("button",{type:"button",className:Se.cancel,"aria-label":"Cancel deleting user",children:"Cancel"})}),i.jsx("button",{type:"button",className:Se.dialogConfirmRemove,onClick:Ze,disabled:He.isPending,"aria-label":"Confirm delete user",children:He.isPending?"Deleting...":"Delete"})]})]})]})})]})}function jRe(e=1,t=50,r,n){const a=new URLSearchParams;return a.set("page",String(e)),a.set("limit",String(t)),r&&a.set("search",r),n&&a.set("sort",n),At(`/messages?${a.toString()}`)}const CRe="_messages_18qla_1",kRe="_head_18qla_6",NRe="_title_18qla_13",ERe="_subtitleRight_18qla_20",TRe="_bar_18qla_27",PRe="_searchInput_18qla_35",ARe="_sortToggle_18qla_57",RRe="_sortBtn_18qla_66",ORe="_sortBtnActive_18qla_67",DRe="_muted_18qla_91",MRe="_emptyCardText_18qla_101",LRe="_messageList_18qla_109",IRe="_messageCard_18qla_115",$Re="_messageCardRow_18qla_128",BRe="_messageCardName_18qla_136",zRe="_messageCardDate_18qla_143",FRe="_messageCardContext_18qla_149",qRe="_messageCardEmail_18qla_155",URe="_emailLink_18qla_160",HRe="_messageCardBody_18qla_169",WRe="_messageCardText_18qla_175",KRe="_messageCardTextClamped_18qla_184",GRe="_viewMoreWrap_18qla_191",VRe="_viewMoreBtn_18qla_197",YRe="_pagination_18qla_214",QRe="_pageBtn_18qla_222",XRe="_pageInfo_18qla_244",Ut={messages:CRe,head:kRe,title:NRe,subtitleRight:ERe,bar:TRe,searchInput:PRe,sortToggle:ARe,sortBtn:RRe,sortBtnActive:ORe,muted:DRe,emptyCardText:MRe,messageList:LRe,messageCard:IRe,messageCardRow:$Re,messageCardName:BRe,messageCardDate:zRe,messageCardContext:FRe,messageCardEmail:qRe,emailLink:URe,messageCardBody:HRe,messageCardText:WRe,messageCardTextClamped:KRe,viewMoreWrap:GRe,viewMoreBtn:VRe,pagination:YRe,pageBtn:QRe,pageInfo:XRe},ZRe=10,JRe=300;function eOe(){const[e,t]=v.useState(1),[r,n]=v.useState(""),[a,o]=v.useState(""),[u,c]=v.useState("newest");v.useEffect(()=>{if(r===""){o(""),t(1);return}const y=window.setTimeout(()=>{o(r),t(1)},JRe);return()=>window.clearTimeout(y)},[r]),v.useEffect(()=>{window.scrollTo(0,0)},[e]);const{data:p,isLoading:h,isError:f}=De({queryKey:["messages",e,a,u],queryFn:()=>jRe(e,ZRe,a||void 0,u),refetchOnMount:"always"});function m(y){n(y.target.value)}function b(){c("newest"),t(1)}function _(){c("oldest"),t(1)}const j=(p==null?void 0:p.messages)??[],w=p==null?void 0:p.pagination;return i.jsxs("div",{className:Ut.messages,children:[i.jsx("div",{className:Ut.head,children:i.jsx("h1",{className:Ut.title,children:"Messages"})}),i.jsxs("div",{className:Ut.bar,children:[i.jsx("input",{type:"search",className:Ut.searchInput,placeholder:"Search by name, email, or message...",value:r,onChange:m,"aria-label":"Search messages"}),i.jsxs("div",{className:Ut.sortToggle,role:"group","aria-label":"Sort order",children:[i.jsxs("button",{type:"button",className:u==="newest"?Ut.sortBtnActive:Ut.sortBtn,"aria-label":"Sort newest first",onClick:b,children:[i.jsx(Yd,{size:16,strokeWidth:2,"aria-hidden":!0}),"Newest"]}),i.jsxs("button",{type:"button",className:u==="oldest"?Ut.sortBtnActive:Ut.sortBtn,"aria-label":"Sort oldest first",onClick:_,children:[i.jsx(Qd,{size:16,strokeWidth:2,"aria-hidden":!0}),"Oldest"]})]})]}),h&&i.jsx("p",{className:Ut.muted,children:"Loading messages..."}),f&&i.jsx(tf,{title:"Failed to load messages"}),!h&&!f&&i.jsxs(i.Fragment,{children:[j.length===0?i.jsx("div",{className:Ut.messageCard,children:i.jsx("p",{className:Ut.emptyCardText,children:"No contact messages found."})}):i.jsx("div",{className:Ut.messageList,children:j.map(y=>i.jsx(tOe,{message:y},y.id))}),w&&i.jsxs("p",{className:Ut.subtitleRight,children:["Showing ",j.length," of ",w.total," messages",a&&` matching "${a}"`]}),w&&w.totalPages>1&&i.jsxs("div",{className:Ut.pagination,children:[i.jsx("button",{type:"button",className:Ut.pageBtn,onClick:()=>t(y=>Math.max(1,y-1)),disabled:e===1,"aria-label":"Go to previous page",children:"Previous"}),i.jsxs("span",{className:Ut.pageInfo,children:["Page ",w.page," of ",w.totalPages]}),i.jsx("button",{type:"button",className:Ut.pageBtn,onClick:()=>t(y=>Math.min(w.totalPages,y+1)),disabled:e>=w.totalPages,"aria-label":"Go to next page",children:"Next"})]})]})]})}function tOe({message:e}){const[t,r]=v.useState(!1),[n,a]=v.useState(!1),o=v.useRef(null),u=e.message.trim();v.useEffect(()=>{if(t||!u||!o.current)return;const b=()=>{if(!o.current)return;const j=o.current.scrollHeight>o.current.clientHeight;a(j)};b();const _=requestAnimationFrame(()=>{requestAnimationFrame(b)});return()=>cancelAnimationFrame(_)},[t,u]);const c=u.length>200,h=n||c&&!t||t,f=e.episode_title&&e.podcast_title?`${e.episode_title} - ${e.podcast_title}`:e.podcast_title?e.podcast_title:null;return i.jsxs("div",{className:Ut.messageCard,children:[i.jsxs("div",{className:Ut.messageCardRow,children:[i.jsx("h2",{className:Ut.messageCardName,children:e.name}),i.jsx("time",{className:Ut.messageCardDate,dateTime:e.created_at,children:l2(e.created_at)})]}),f&&i.jsxs("p",{className:Ut.messageCardContext,children:["Re: ",f]}),i.jsx("p",{className:Ut.messageCardEmail,children:i.jsx("a",{href:`mailto:${e.email}`,className:Ut.emailLink,children:e.email})}),i.jsxs("div",{className:Ut.messageCardBody,children:[i.jsx("p",{ref:o,className:t?Ut.messageCardText:`${Ut.messageCardText} ${Ut.messageCardTextClamped}`,children:u}),h&&i.jsx("div",{className:Ut.viewMoreWrap,children:i.jsx("button",{type:"button",className:Ut.viewMoreBtn,onClick:()=>r(m=>!m),"aria-expanded":t,children:t?"View less":"View more"})})]})]})}const rOe="_wrap_146n2_1",nOe="_title_146n2_9",aOe="_message_146n2_16",iOe="_retryBtn_146n2_23",_v={wrap:rOe,title:nOe,message:aOe,retryBtn:iOe};function Kd({onRetry:e}){return i.jsxs("div",{className:_v.wrap,role:"alert",children:[i.jsx("p",{className:_v.title,children:"Feed temporarily unavailable"}),i.jsx("p",{className:_v.message,children:"We couldnt load this page. Check your connection and try again."}),e&&i.jsxs("button",{type:"button",className:_v.retryBtn,onClick:e,"aria-label":"Try again",children:[i.jsx(lb,{size:16,"aria-hidden":!0}),"Try again"]})]})}const dM="HarborFM - Create and manage your podcast with ease. Record, edit, and publish episodes all in one place.",sOe="HarborFM",Gw="/og-image.png";function Qp(e,t="property"){let r=document.querySelector(`meta[${t}="${e}"]`);return r||(r=document.createElement("meta"),r.setAttribute(t,e),document.head.appendChild(r)),r}function h2({title:e,description:t,image:r}){v.useEffect(()=>{const n=document.title,a=Qp("description","name"),o=Qp("og:title"),u=Qp("og:description"),c=Qp("og:image"),p=Qp("twitter:image","name");e&&(document.title=e,o.setAttribute("content",e)),t&&(a.setAttribute("content",t),u.setAttribute("content",t));const h=r||Gw;return c.setAttribute("content",h),p.setAttribute("content",h),()=>{e&&(document.title=n,o.setAttribute("content",sOe)),t&&(a.setAttribute("content",dM),u.setAttribute("content",dM)),c.setAttribute("content",Gw),p.setAttribute("content",Gw)}},[e,t,r])}const oOe=300;function lOe(){const[e,t]=v.useState(""),[r,n]=v.useState(""),[a,o]=v.useState(!0);return v.useEffect(()=>{if(e.trim()===""){n("");return}const u=window.setTimeout(()=>{n(e.trim())},oOe);return()=>window.clearTimeout(u)},[e]),{searchQuery:e,searchDebounced:r,setSearchQuery:t,sortNewestFirst:a,setSortNewestFirst:o}}const cOe="_wrapper_1amzl_2",uOe="_container_1amzl_13",dOe="_card_1amzl_19",fOe="_error_1amzl_43",pOe="_muted_1amzl_53",Yr={wrapper:cOe,container:uOe,card:dOe,error:fOe,muted:pOe},hOe="_castCard_15sgy_1",mOe="_castTitle_15sgy_5",gOe="_castSectionTitle_15sgy_12",vOe="_castList_15sgy_19",yOe="_castRow_15sgy_34",bOe="_castAvatar_15sgy_44",_Oe="_castAvatarPlaceholder_15sgy_54",xOe="_castMeta_15sgy_67",wOe="_castName_15sgy_72",SOe="_castDesc_15sgy_78",jOe="_castSocial_15sgy_85",COe="_loadMore_15sgy_100",kOe="_loadMoreBtn_15sgy_108",Zn={castCard:hOe,castTitle:mOe,castSectionTitle:gOe,castList:vOe,castRow:yOe,castAvatar:bOe,castAvatarPlaceholder:_Oe,castMeta:xOe,castName:wOe,castDesc:SOe,castSocial:jOe,loadMore:COe,loadMoreBtn:kOe};function ib({cast:e,className:t}){return e.length===0?null:i.jsx("ul",{className:`${Zn.castList} ${t??""}`.trim(),children:e.map(r=>i.jsx(NOe,{member:r},r.id))})}function NOe({member:e}){return i.jsxs("li",{className:Zn.castRow,children:[e.photo_url?i.jsx("img",{src:e.photo_url,alt:"",className:Zn.castAvatar}):i.jsx("div",{className:Zn.castAvatarPlaceholder,children:i.jsx(hh,{size:24})}),i.jsxs("div",{className:Zn.castMeta,children:[i.jsx("span",{className:Zn.castName,children:e.name}),e.description&&i.jsx("p",{className:Zn.castDesc,children:e.description}),e.social_link_text&&(()=>{const t=e.social_link_text.trim();return t.startsWith("http://")||t.startsWith("https://")?i.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:Zn.castSocial,children:t.replace(/^https?:\/\/(www\.)?/,"").replace(/\/$/,"")}):i.jsx("span",{className:Zn.castSocial,children:e.social_link_text})})()]})]})}function EOe({podcastSlug:e}){var p;const{data:t,isLoading:r,fetchNextPage:n,hasNextPage:a,isFetchingNextPage:o}=UM({queryKey:["public-cast",e],queryFn:({pageParam:h})=>dW(e,{limit:10,offset:h}),getNextPageParam:(h,f)=>{const m=f.reduce((b,_)=>b+_.guests.length,0);return h.guests_has_more?m:void 0},initialPageParam:0,enabled:!!e}),u=((p=t==null?void 0:t.pages[0])==null?void 0:p.hosts)??[],c=(t==null?void 0:t.pages.flatMap(h=>h.guests))??[];return r||u.length===0&&c.length===0?null:i.jsxs("div",{className:`${Yr.card} ${Zn.castCard}`,children:[i.jsx("h2",{className:Zn.castTitle,children:"Cast"}),u.length>0&&i.jsxs("section",{style:{marginBottom:"1.5rem"},children:[i.jsx("h3",{className:Zn.castSectionTitle,children:"Hosts"}),i.jsx(ib,{cast:u})]}),c.length>0&&i.jsxs("section",{children:[i.jsx("h3",{className:Zn.castSectionTitle,children:"Guests"}),i.jsx(ib,{cast:c}),a&&i.jsx("div",{className:Zn.loadMore,children:i.jsx("button",{type:"button",onClick:()=>n(),disabled:o,className:Zn.loadMoreBtn,"aria-label":"Load more guests",children:o?"Loading...":"Load more"})})]})]})}const TOe="_siteHeader_1ox0x_1",POe="_siteHeaderContent_1ox0x_14",AOe="_logo_1ox0x_24",ROe="_logoIcon_1ox0x_41",OOe="_signInIcon_1ox0x_68",Xp={siteHeader:TOe,siteHeaderContent:POe,logo:AOe,logoIcon:ROe,signInIcon:OOe};function Ih(){return i.jsx("header",{className:Xp.siteHeader,children:i.jsxs("div",{className:Xp.siteHeaderContent,children:[i.jsxs(Xe,{to:"/feed",className:Xp.logo,children:[i.jsx("img",{src:"/favicon.svg",alt:"",className:Xp.logoIcon}),"HarborFM"]}),i.jsx(Xe,{to:"/",className:Xp.signInIcon,title:"Dashboard",children:i.jsx(UF,{size:16,strokeWidth:2,"aria-label":"Dashboard"})})]})})}const DOe="_linksContainer_1fxho_1",MOe="_linkGroup_1fxho_12",LOe="_linkGroupLabel_1fxho_20",IOe="_linkGroupIcons_1fxho_28",$Oe="_linkIcon_1fxho_35",lh={linksContainer:DOe,linkGroup:MOe,linkGroupLabel:LOe,linkGroupIcons:IOe,linkIcon:$Oe},BOe=["apple_podcasts_url","spotify_url","amazon_music_url","podcast_index_url","listen_notes_url","castbox_url","x_url","facebook_url","instagram_url","tiktok_url","youtube_url"],zOe=[{key:"apple_podcasts_url",label:"Apple Podcasts",Icon:eje},{key:"spotify_url",label:"Spotify",Icon:ije},{key:"amazon_music_url",label:"Amazon Music",Icon:JSe},{key:"podcast_index_url",label:"Podcast Index",Icon:nje},{key:"listen_notes_url",label:"Listen Notes",Icon:Yv},{key:"castbox_url",label:"Castbox",Icon:tje}],FOe=[{key:"x_url",label:"X",Icon:A7},{key:"facebook_url",label:"Facebook",Icon:P7},{key:"instagram_url",label:"Instagram",Icon:rje},{key:"tiktok_url",label:"TikTok",Icon:sje},{key:"youtube_url",label:"YouTube",Icon:oje}];function fM({label:e,platforms:t,podcast:r}){const n=t.filter(a=>{const o=r[a.key];return o&&typeof o=="string"&&o.trim().length>0});return n.length===0?null:i.jsxs("div",{className:lh.linkGroup,children:[i.jsx("span",{className:lh.linkGroupLabel,children:e}),i.jsx("div",{className:lh.linkGroupIcons,children:n.map(({key:a,label:o,Icon:u})=>{const c=r[a];if(!c||typeof c!="string")return null;const p=c.startsWith("http")?c:`https://${c}`;return i.jsx("a",{href:p,target:"_blank",rel:"noopener noreferrer",className:lh.linkIcon,title:o,"aria-label":`${o} (opens in new tab)`,children:i.jsx(u,{size:20,"aria-hidden":!0})},a)})})]})}function b_(e){return BOe.some(t=>{const r=e[t];return r&&typeof r=="string"&&r.trim().length>0})}function qOe({podcast:e}){return b_(e)?i.jsxs("div",{className:lh.linksContainer,children:[i.jsx(fM,{label:"Listen on",platforms:zOe,podcast:e}),i.jsx(fM,{label:"Follow",platforms:FOe,podcast:e})]}):null}function F7({podcast:e}){return b_(e)?i.jsx("div",{className:Yr.card,children:i.jsx(qOe,{podcast:e})}):null}const UOe="_controls_1kty4_1",HOe="_searchWrap_1kty4_12",WOe="_sortToggle_1kty4_16",KOe="_sortBtn_1kty4_20",GOe="_sortBtnActive_1kty4_21",VOe="_searchIcon_1kty4_34",YOe="_searchInput_1kty4_43",uo={controls:UOe,searchWrap:HOe,sortToggle:WOe,sortBtn:KOe,sortBtnActive:GOe,searchIcon:VOe,searchInput:YOe};function q7({searchQuery:e,onSearchChange:t,sortNewestFirst:r,onSortToggle:n,placeholder:a="Search..."}){return i.jsxs("div",{className:uo.controls,children:[i.jsxs("div",{className:uo.searchWrap,children:[i.jsx(Dj,{size:18,className:uo.searchIcon,"aria-hidden":!0}),i.jsx("input",{type:"search",placeholder:a,value:e,onChange:o=>t(o.target.value),className:uo.searchInput,"aria-label":a})]}),i.jsxs("div",{className:uo.sortToggle,children:[i.jsxs("button",{type:"button",className:r?uo.sortBtnActive:uo.sortBtn,onClick:()=>n(!0),"aria-label":"Sort by newest","aria-pressed":r,children:[i.jsx(Yd,{size:14,strokeWidth:2.5,"aria-hidden":!0}),"Newest"]}),i.jsxs("button",{type:"button",className:r?uo.sortBtn:uo.sortBtnActive,onClick:()=>n(!1),"aria-label":"Sort by oldest","aria-pressed":!r,children:[i.jsx(Qd,{size:14,strokeWidth:2.5,"aria-hidden":!0}),"Oldest"]})]})]})}function m2({audioUrl:e,podcastSlug:t,episodeSlug:r,durationSec:n=0,waveformUrlFn:a,privateWaveformUrl:o,onPlay:u,onPause:c}){const p=v.useRef(null),[h,f]=v.useState(null),[m,b]=v.useState(0),[_,j]=v.useState(!1),w=!!(h&&n>0);v.useEffect(()=>{if(n<=0||!e){f(null);return}let S=null;if(o?S=o:t&&r&&a&&(S=a(t,r)),!S){f(null);return}let T=!1;return fetch(S).then(N=>N.ok?N.json():null).then(N=>{var P;!T&&((P=N==null?void 0:N.data)!=null&&P.length)?f(N):T||f(null)}).catch(()=>{T||f(null)}),()=>{T=!0}},[t,r,n,e,a,o]),v.useEffect(()=>{const S=p.current;if(!S||!e)return;const T=()=>{j(!0),u==null||u()},N=()=>{j(!1),c==null||c()},P=()=>{j(!1),b(0),c==null||c()},A=()=>b(S.currentTime),k=()=>b(S.currentTime);return S.addEventListener("play",T),S.addEventListener("pause",N),S.addEventListener("ended",P),S.addEventListener("timeupdate",A),S.addEventListener("loadedmetadata",k),()=>{S.removeEventListener("play",T),S.removeEventListener("pause",N),S.removeEventListener("ended",P),S.removeEventListener("timeupdate",A),S.removeEventListener("loadedmetadata",k)}},[e,u,c]);const y=v.useCallback(()=>{const S=p.current;!S||!e||(S.paused?((!S.src||S.ended)&&(S.src=e,S.currentTime=m),S.play().catch(()=>{j(!1),c==null||c()})):(S.pause(),j(!1),c==null||c()))},[e,m,c]),x=v.useCallback(S=>{const T=p.current;T&&(T.currentTime=S,b(S))},[]);return{audioRef:p,waveformData:h,currentTime:m,isPlaying:_,hasWaveform:w,togglePlay:y,seek:x,setIsPlaying:j,setCurrentTime:b}}const QOe="_player_1mxb6_1",XOe="_playbackRow_1mxb6_5",ZOe="_playPauseBtn_1mxb6_12",JOe="_waveform_1mxb6_38",e3e="_audio_1mxb6_47",Zp={player:QOe,playbackRow:XOe,playPauseBtn:ZOe,waveform:JOe,audio:e3e};function t3e({episode:e,podcastSlug:t,isPlaying:r,onPlay:n,onPause:a}){const o=e,u=o.private_audio_url||e.audio_url||null,c=e.audio_duration_sec??0,{audioRef:p,waveformData:h,currentTime:f,hasWaveform:m,togglePlay:b,seek:_}=m2({audioUrl:u,podcastSlug:t,episodeSlug:e.slug,durationSec:c,waveformUrlFn:Uj,privateWaveformUrl:o.private_waveform_url,onPlay:n,onPause:a});return u?i.jsxs("div",{className:Zp.player,children:[m?i.jsxs("div",{className:Zp.playbackRow,children:[i.jsx("button",{type:"button",className:Zp.playPauseBtn,onClick:b,title:r?"Pause":"Play","aria-label":r?"Pause":"Play",children:r?i.jsx(xs,{size:22,"aria-hidden":!0}):i.jsx(qi,{size:22,"aria-hidden":!0})}),i.jsx(mf,{data:h,durationSec:c,currentTime:f,onSeek:_,className:Zp.waveform})]}):null,m?i.jsx("audio",{ref:p,id:`audio-${e.id}`,preload:"metadata",style:{display:"none"},children:i.jsx("source",{src:u,type:e.audio_mime||"audio/mpeg"})}):i.jsx("audio",{ref:p,id:`audio-${e.id}`,src:u,controls:!0,className:Zp.audio,preload:"metadata"})]}):null}function r3e(e){if(!e||typeof e!="string")return null;const t=e.trim();if(!t)return null;if(t.startsWith("hfm_sub_"))return t;const r=t.match(/\/private\/(hfm_sub_[a-zA-Z0-9_-]+)/);return r&&r[1]?r[1]:null}function n3e(e){return!e||typeof e!="string"?!1:/^hfm_sub_[a-zA-Z0-9_-]+$/.test(e)}const U7=v.createContext(void 0);function a3e({children:e}){const[t,r]=v.useState(!1),[n,a]=v.useState([]),[o,u]=v.useState({}),[c,p]=v.useState(!1),[h,f]=v.useState(null),m=v.useCallback(async()=>{try{const x=await pW();r(x.authenticated),a(x.podcastSlugs),u(x.tokens)}catch(x){console.error("Failed to check subscriber auth status:",x),r(!1),a([]),u({})}},[]);v.useEffect(()=>{m()},[m]);const b=v.useCallback(x=>n.includes(x),[n]),_=v.useCallback(x=>(o==null?void 0:o[x])||null,[o]),j=v.useCallback(async(x,S)=>{p(!0),f(null);try{const T=r3e(x);if(!T)throw new Error("Invalid token or URL format");if(!n3e(T))throw new Error("Invalid token format");await fW(T,S),window.location.reload()}catch(T){const N=T instanceof Error?T.message:"Authentication failed";f(N),p(!1)}},[]),w=v.useCallback(async x=>{p(!0),f(null);try{await hW(x),window.location.reload()}catch(S){const T=S instanceof Error?S.message:"Logout failed";f(T),p(!1)}},[]),y={isAuthenticated:t,authenticatedPodcasts:n,tokenMap:o,isAuthenticatedForPodcast:b,getTokenIdForPodcast:_,authenticate:j,logout:w,checkStatus:m,isLoading:c,error:h};return i.jsx(U7.Provider,{value:y,children:e})}function H7(){const e=v.useContext(U7);if(e===void 0)throw new Error("useSubscriberAuth must be used within a SubscriberAuthProvider");return e}const i3e="_overlay_10rqh_1",s3e="_dialog_10rqh_22",o3e="_header_10rqh_33",l3e="_lockIcon_10rqh_40",c3e="_lockIconGold_10rqh_44",u3e="_title_10rqh_48",d3e="_closeButton_10rqh_56",f3e="_message_10rqh_79",p3e="_form_10rqh_86",h3e="_label_10rqh_92",m3e="_input_10rqh_99",g3e="_helpText_10rqh_120",v3e="_errorCard_10rqh_126",y3e="_unlockButton_10rqh_137",b3e="_logoutButton_10rqh_138",Vn={overlay:i3e,dialog:s3e,header:o3e,lockIcon:l3e,lockIconGold:c3e,title:u3e,closeButton:d3e,message:f3e,form:p3e,label:h3e,input:m3e,helpText:g3e,errorCard:v3e,unlockButton:y3e,logoutButton:b3e};function g2({open:e,onClose:t,isSubscriberOnly:r,podcastSlug:n}){const[a,o]=v.useState(""),{isAuthenticatedForPodcast:u,authenticate:c,logout:p,isLoading:h,error:f}=H7();if(!e)return null;const m=u(n),b=m?"Subscriber Access Granted":r?"Subscription Required":"Premium Episodes Available",_=m?"You have access to all subscriber-only content for this podcast.":r?"This podcast is subscriber-only. You must subscribe to access all episodes.":"This podcast offers premium subscriber-only episodes alongside free content.",j=async y=>{y.preventDefault(),a.trim()&&await c(a.trim(),n)},w=async()=>{await p(n)};return i.jsx("div",{className:Vn.overlay,onClick:t,children:i.jsxs("div",{className:Vn.dialog,onClick:y=>y.stopPropagation(),children:[i.jsxs("div",{className:Vn.header,children:[i.jsx(Ps,{size:20,strokeWidth:2,className:r?Vn.lockIconGold:Vn.lockIcon}),i.jsx("h3",{className:Vn.title,children:b}),i.jsx("button",{type:"button",className:Vn.closeButton,onClick:t,"aria-label":"Close",children:i.jsx(Nt,{size:20,strokeWidth:2})})]}),i.jsx("p",{className:Vn.message,children:_}),!m&&i.jsxs("form",{onSubmit:j,className:Vn.form,children:[i.jsx("label",{htmlFor:"token-input",className:Vn.label,children:"Enter your subscriber token or RSS feed URL"}),i.jsx("input",{id:"token-input",type:"text",value:a,onChange:y=>o(y.target.value),placeholder:"hfm_sub_... or paste RSS URL",className:Vn.input,disabled:h}),i.jsx("p",{className:Vn.helpText,children:"Paste your private RSS feed URL or subscriber token"}),f&&i.jsx("div",{className:Vn.errorCard,children:f}),i.jsx("button",{type:"submit",className:Vn.unlockButton,disabled:h||!a.trim(),children:h?"Authenticating...":i.jsxs(i.Fragment,{children:[i.jsx(aq,{size:18}),"Unlock Content"]})})]}),m&&i.jsxs("button",{type:"button",onClick:w,className:Vn.logoutButton,disabled:h,children:[i.jsx(XM,{size:18}),h?"Logging out...":"Logout"]})]})})}const _3e="_card_1cm1p_1",x3e="_cardSubscriberOnly_1cm1p_16",w3e="_cardLink_1cm1p_25",S3e="_artworkWrapper_1cm1p_41",j3e="_artwork_1cm1p_41",C3e="_artworkPlaceholder_1cm1p_56",k3e="_body_1cm1p_66",N3e="_title_1cm1p_74",E3e="_slug_1cm1p_91",T3e="_desc_1cm1p_99",P3e="_actions_1cm1p_110",A3e="_lockButton_1cm1p_119",R3e="_lockIcon_1cm1p_140",O3e="_lockIconGold_1cm1p_149",D3e="_arrow_1cm1p_157",$n={card:_3e,cardSubscriberOnly:x3e,cardLink:w3e,artworkWrapper:S3e,artwork:j3e,artworkPlaceholder:C3e,body:k3e,title:N3e,slug:E3e,desc:T3e,actions:P3e,lockButton:A3e,lockIcon:R3e,lockIconGold:O3e,arrow:D3e};function M3e(e){return e.artwork_url?e.artwork_url:e.artwork_filename?`/api/public/artwork/${e.id}/${encodeURIComponent(e.artwork_filename)}`:null}function L3e({podcast:e,showLockIcon:t}){const[r,n]=v.useState(!1),a=p=>{p.preventDefault(),p.stopPropagation(),n(!0)},o=M3e(e),u=e.subscriber_only_feed_enabled===1&&e.public_feed_disabled===1,c=e.subscriber_only_feed_enabled===1;return i.jsx(i.Fragment,{children:i.jsxs("article",{className:`${$n.card} ${u?$n.cardSubscriberOnly:""}`,children:[i.jsxs(Xe,{to:`/feed/${e.slug}`,className:$n.cardLink,children:[i.jsx("div",{className:$n.artworkWrapper,children:o?i.jsx("img",{src:o,alt:"",className:$n.artwork,loading:"lazy"}):i.jsx("div",{className:$n.artworkPlaceholder,children:i.jsx(ob,{size:32,strokeWidth:1.5})})}),i.jsxs("div",{className:$n.body,children:[i.jsx("h2",{className:$n.title,children:e.title}),i.jsx("p",{className:$n.slug,children:e.slug}),e.description?i.jsxs("p",{className:$n.desc,children:[e.description.slice(0,120),e.description.length>120?"...":""]}):null]}),i.jsxs("div",{className:$n.actions,children:[t&&c&&i.jsx("button",{type:"button",className:$n.lockButton,onClick:a,"aria-label":"Subscription information",children:i.jsx(Ps,{size:18,strokeWidth:2,className:u?`${$n.lockIcon} ${$n.lockIconGold}`:$n.lockIcon})}),i.jsx("span",{className:$n.arrow,children:i.jsx(KM,{size:18,strokeWidth:2,"aria-hidden":!0})})]})]}),r&&i.jsx(g2,{open:r,onClose:()=>n(!1),isSubscriberOnly:u,podcastSlug:e.slug})]})})}const I3e="_episode_1w72o_1",$3e="_episodeSubscriberOnly_1w72o_14",B3e="_header_1w72o_23",z3e="_headerContent_1w72o_31",F3e="_title_1w72o_36",q3e="_meta_1w72o_44",U3e="_date_1w72o_52",H3e="_duration_1w72o_53",W3e="_seasonEpisode_1w72o_54",K3e="_description_1w72o_58",G3e="_viewBtn_1w72o_69",V3e="_lockedCard_1w72o_93",Y3e="_lockedIcon_1w72o_106",Q3e="_lockedLabel_1w72o_111",Yn={episode:I3e,episodeSubscriberOnly:$3e,header:B3e,headerContent:z3e,title:F3e,meta:q3e,date:U3e,duration:H3e,seasonEpisode:W3e,description:K3e,viewBtn:G3e,lockedCard:V3e,lockedIcon:Y3e,lockedLabel:Q3e};function X3e({episode:e,podcastSlug:t,isSubscriberOnly:r,showPlayer:n=!0,playingEpisodeId:a,onPlay:o,onPause:u,useShortEpisodeUrls:c=!1}){const p=a===e.id,h=c?`/${e.slug}`:`/feed/${t}/${e.slug}`,m=!!(e.private_audio_url||e.audio_url);return i.jsxs("li",{className:r?`${Yn.episode} ${Yn.episodeSubscriberOnly}`:Yn.episode,children:[i.jsxs("div",{className:Yn.header,children:[i.jsxs("div",{className:Yn.headerContent,children:[i.jsx("h3",{className:Yn.title,children:e.title}),i.jsxs("div",{className:Yn.meta,children:[(e.season_number!=null||e.episode_number!=null)&&i.jsx("span",{className:Yn.seasonEpisode,children:c2(e.season_number,e.episode_number)}),e.publish_at&&i.jsx("span",{className:Yn.date,children:v_(e.publish_at)}),e.audio_duration_sec&&i.jsx("span",{className:Yn.duration,children:N7(e.audio_duration_sec)})]})]}),i.jsxs(Xe,{to:h,className:Yn.viewBtn,children:["View Episode",i.jsx(sF,{size:14,strokeWidth:2.5})]})]}),e.description&&i.jsx("p",{className:Yn.description,children:e.description}),n&&m?i.jsx(t3e,{episode:e,podcastSlug:t,isPlaying:p,onPlay:()=>o(e.id),onPause:u}):r&&!m?i.jsxs("div",{className:Yn.lockedCard,"aria-label":"Subscriber only",children:[i.jsx(Ps,{size:20,strokeWidth:2,className:Yn.lockedIcon,"aria-hidden":!0}),i.jsx("span",{className:Yn.lockedLabel,children:"Subscriber Only - Subscribe to Listen"})]}):null]})}const Z3e="_pagination_1lnvn_1",J3e="_meta_1lnvn_11",eDe="_controls_1lnvn_17",tDe="_button_1lnvn_23",rDe="_pageInfo_1lnvn_47",pd={pagination:Z3e,meta:J3e,controls:eDe,button:tDe,pageInfo:rDe};function nDe({currentPage:e,totalPages:t,onPageChange:r,totalItems:n,rangeStart:a,rangeEnd:o}){return i.jsxs("div",{className:pd.pagination,children:[i.jsxs("p",{className:pd.meta,children:["Showing ",a,"",o," of ",n]}),i.jsxs("div",{className:pd.controls,children:[i.jsx("button",{className:pd.button,onClick:()=>{const u=Math.max(1,e-1);u!==e&&r(u)},disabled:e===1,"aria-label":"Previous page",children:"Previous"}),i.jsxs("span",{className:pd.pageInfo,children:["Page ",e," of ",t]}),i.jsx("button",{className:pd.button,onClick:()=>{const u=Math.min(t,e+1);u!==e&&r(u)},disabled:e>=t,"aria-label":"Next page",children:"Next"})]})]})}const aDe="_promo_1jl3z_1",iDe="_promoContent_1jl3z_24",sDe="_promoTextContent_1jl3z_33",oDe="_promoTitle_1jl3z_41",lDe="_promoText_1jl3z_33",cDe="_promoButton_1jl3z_56",hd={promo:aDe,promoContent:iDe,promoTextContent:sDe,promoTitle:oDe,promoText:lDe,promoButton:cDe};function uDe(){return i.jsx("div",{className:hd.promo,children:i.jsxs("div",{className:hd.promoContent,children:[i.jsxs("div",{className:hd.promoTextContent,children:[i.jsx("h2",{className:hd.promoTitle,children:"Create Your Own Podcast"}),i.jsx("p",{className:hd.promoText,children:"Start your podcasting journey with HarborFM. Upload, edit, and share your episodes with the world."})]}),i.jsxs(Xe,{to:"/login",className:hd.promoButton,children:[i.jsx(Qr,{size:16,strokeWidth:2.5,"aria-hidden":!0}),"Get Started"]})]})})}const dDe="_empty_awvfr_1",fDe="_emptyText_awvfr_9",pM={empty:dDe,emptyText:fDe};function pDe({searchQuery:e}){return i.jsx("div",{className:pM.empty,children:i.jsx("p",{className:pM.emptyText,children:e?"No podcasts match your search. Try a different search term.":"No podcasts available yet. Check back soon!"})})}const hDe="_header_14457_1",mDe="_artwork_14457_8",gDe="_content_14457_16",vDe="_top_14457_25",yDe="_title_14457_33",bDe="_author_14457_40",_De="_description_14457_46",xDe="_actions_14457_55",wDe="_messageBtn_14457_64",SDe="_lockButton_14457_86",jDe="_lockIcon_14457_111",CDe="_lockIconGold_14457_120",kDe="_shareBtn_14457_128",NDe="_rssButton_14457_155",EDe="_disabled_14457_178",Tn={header:hDe,artwork:mDe,content:gDe,top:vDe,title:yDe,author:bDe,description:_De,actions:xDe,messageBtn:wDe,lockButton:SDe,lockIcon:jDe,lockIconGold:CDe,shareBtn:kDe,rssButton:NDe,disabled:EDe};function TDe({podcast:e,podcastSlug:t,onMessageClick:r,shareUrl:n,shareTitle:a}){const[o,u]=v.useState(!1),[c,p]=v.useState(!1),{getTokenIdForPodcast:h}=H7(),f=e.subscriber_only_feed_enabled===1&&e.public_feed_disabled===1,m=e.subscriber_only_feed_enabled===1,b=h(t),_=!!b,j=b?`/api/public/podcasts/${encodeURIComponent(t)}/private/${encodeURIComponent(b)}/rss`:e.rss_url??`/api/public/podcasts/${t}/rss`,w=f&&!_;return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:Tn.header,children:[(e.artwork_url||e.artwork_filename)&&i.jsx("img",{src:e.artwork_url??(e.artwork_filename?`/api/public/artwork/${e.id}/${encodeURIComponent(e.artwork_filename)}`:""),alt:e.title,className:Tn.artwork}),i.jsxs("div",{className:Tn.content,children:[i.jsxs("div",{className:Tn.top,children:[i.jsxs("div",{children:[i.jsx("h1",{className:Tn.title,children:e.title}),e.author_name&&i.jsxs("p",{className:Tn.author,children:["by ",e.author_name]})]}),i.jsxs("div",{className:Tn.actions,children:[m&&i.jsx("button",{type:"button",className:Tn.lockButton,onClick:()=>u(!0),"aria-label":"Subscription information",children:i.jsx(Ps,{size:18,strokeWidth:2.5,className:f?`${Tn.lockIcon} ${Tn.lockIconGold}`:Tn.lockIcon})}),i.jsxs("button",{type:"button",className:Tn.messageBtn,onClick:r,"aria-label":"Send message",children:[i.jsx(ZM,{size:18,strokeWidth:2.5,"aria-hidden":!0}),"Message"]}),w?i.jsx("button",{type:"button",className:`${Tn.rssButton} ${Tn.disabled}`,disabled:!0,title:"Subscriber-only feed. Authenticate to access.","aria-label":"RSS Feed (Requires subscription)",children:i.jsx(Ss,{size:18,strokeWidth:2.5})}):i.jsx("a",{href:j,className:Tn.rssButton,title:b?"Private RSS Feed (Subscriber)":"RSS Feed","aria-label":b?"Private RSS Feed (Subscriber)":"RSS Feed",children:i.jsx(Ss,{size:18,strokeWidth:2.5})}),n!=null&&i.jsx("button",{type:"button",className:Tn.shareBtn,onClick:()=>p(!0),"aria-label":"Share",title:"Share",children:i.jsx(cb,{size:18,strokeWidth:2.5,"aria-hidden":!0})})]})]}),e.description&&i.jsx("p",{className:Tn.description,children:e.description})]})]}),o&&i.jsx(g2,{open:o,onClose:()=>u(!1),isSubscriberOnly:f,podcastSlug:t}),n!=null&&i.jsx(u2,{open:c,onOpenChange:p,url:n,title:a})]})}const PDe="_list_1x7yk_1",ADe="_muted_1x7yk_10",RDe="_loadMore_1x7yk_16",ODe="_loadMoreBtn_1x7yk_24",xv={list:PDe,muted:ADe,loadMore:RDe,loadMoreBtn:ODe};function DDe({episodes:e,podcast:t,podcastSlug:r,playingEpisodeId:n,onPlay:a,onPause:o,hasNextPage:u,isFetchingNextPage:c,onLoadMore:p,useShortEpisodeUrls:h=!1}){return e.length===0?i.jsx("p",{className:xv.muted,children:"No episodes found."}):i.jsxs(i.Fragment,{children:[i.jsx("ul",{className:xv.list,children:e.map(f=>i.jsx(X3e,{episode:f,podcastSlug:r,isSubscriberOnly:f.subscriber_only===1||t.public_feed_disabled===1,showPlayer:!0,playingEpisodeId:n,onPlay:a,onPause:o,useShortEpisodeUrls:h},f.id))}),u&&p&&i.jsx("div",{className:xv.loadMore,children:i.jsx("button",{type:"button",onClick:p,disabled:c,className:xv.loadMoreBtn,"aria-label":"Load More Episodes",children:c?"Loading...":"Load More Episodes"})})]})}const MDe="_breadcrumb_75kfm_1",LDe="_link_75kfm_14",IDe="_sep_75kfm_26",$De="_current_75kfm_32",wv={breadcrumb:MDe,link:LDe,sep:IDe,current:$De};function BDe({podcast:e,episode:t,podcastSlug:r,feedRootTo:n}){const a=n??`/feed/${r}`;return i.jsxs("nav",{"aria-label":"Breadcrumb",className:wv.breadcrumb,children:[i.jsx(Xe,{to:a,className:wv.link,children:e.title}),i.jsx(Xd,{size:16,className:wv.sep,"aria-hidden":!0}),i.jsx("span",{className:wv.current,title:t.title,children:t.title})]})}const zDe="_header_dtz26_1",FDe="_artwork_dtz26_9",qDe="_content_dtz26_18",UDe="_badgeWrap_dtz26_25",HDe="_badgeSep_dtz26_33",WDe="_duration_dtz26_42",KDe="_seasonEpisode_dtz26_56",GDe="_title_dtz26_67",VDe="_subRow_dtz26_75",YDe="_lockButton_dtz26_82",QDe="_lockIcon_dtz26_103",XDe="_lockIconGold_dtz26_107",ZDe="_messageBtn_dtz26_111",JDe="_shareBtn_dtz26_112",e4e="_metaRow_dtz26_135",t4e="_date_dtz26_142",tn={header:zDe,artwork:FDe,content:qDe,badgeWrap:UDe,badgeSep:HDe,duration:WDe,seasonEpisode:KDe,title:GDe,subRow:VDe,lockButton:YDe,lockIcon:QDe,lockIconGold:XDe,messageBtn:ZDe,shareBtn:JDe,metaRow:e4e,date:t4e};function r4e({episode:e,podcast:t,onMessageClick:r,onLockClick:n,shareUrl:a,shareTitle:o,embedCode:u}){const[c,p]=v.useState(!1),h=t.subscriber_only_feed_enabled===1,f=t.public_feed_disabled===1,m=e.subscriber_only===1,b=f||m;return i.jsxs("div",{className:tn.header,children:[e.artwork_url?i.jsx("img",{src:e.artwork_url,alt:e.title,className:tn.artwork}):e.artwork_filename?i.jsx("img",{src:`/api/public/artwork/${e.podcast_id}/episodes/${e.id}/${encodeURIComponent(e.artwork_filename)}`,alt:e.title,className:tn.artwork}):t.artwork_url||t.artwork_filename?i.jsx("img",{src:t.artwork_url??(t.artwork_filename?`/api/public/artwork/${t.id}/${encodeURIComponent(t.artwork_filename)}`:""),alt:t.title,className:tn.artwork}):null,i.jsxs("div",{className:tn.content,children:[e.season_number!=null||e.episode_number!=null||e.audio_duration_sec?i.jsxs("div",{className:tn.badgeWrap,children:[(e.season_number!=null||e.episode_number!=null)&&i.jsx("span",{className:tn.seasonEpisode,children:c2(e.season_number,e.episode_number)}),e.audio_duration_sec&&i.jsxs(i.Fragment,{children:[(e.season_number!=null||e.episode_number!=null)&&i.jsx("span",{className:tn.badgeSep,"aria-hidden":!0}),i.jsx("span",{className:tn.duration,children:N7(e.audio_duration_sec)})]})]}):null,i.jsx("h1",{className:tn.title,children:e.title}),i.jsxs("div",{className:tn.subRow,children:[h&&n&&i.jsx("button",{type:"button",className:tn.lockButton,onClick:n,"aria-label":"Subscription information",children:i.jsx(Ps,{size:18,strokeWidth:2.5,className:b?`${tn.lockIcon} ${tn.lockIconGold}`:tn.lockIcon,"aria-hidden":!0})}),i.jsxs("button",{type:"button",className:tn.messageBtn,onClick:r,"aria-label":"Send message",children:[i.jsx(ZM,{size:18,strokeWidth:2.5,"aria-hidden":!0}),"Message"]}),a!=null&&i.jsxs("button",{type:"button",className:tn.shareBtn,onClick:()=>p(!0),"aria-label":"Share",title:"Share",children:[i.jsx(cb,{size:18,strokeWidth:2.5,"aria-hidden":!0}),"Share"]})]}),a!=null&&i.jsx(u2,{open:c,onOpenChange:p,url:a,title:o,embedCode:u}),i.jsx("div",{className:tn.metaRow,children:e.publish_at&&i.jsx("span",{className:tn.date,children:v_(e.publish_at)})})]})]})}const n4e="_locked_1rf12_1",a4e="_icon_1rf12_13",i4e="_label_1rf12_18",Vw={locked:n4e,icon:a4e,label:i4e};function W7({message:e="Subscriber Only - Subscribe to Listen"}){return i.jsxs("div",{className:Vw.locked,"aria-label":"Subscriber only",children:[i.jsx(Ps,{size:20,strokeWidth:2,className:Vw.icon,"aria-hidden":!0}),i.jsx("p",{className:Vw.label,children:e})]})}const s4e="_header_120ro_2",o4e="_headerLeft_120ro_11",l4e="_title_120ro_15",c4e="_subtitle_120ro_24",u4e="_loading_120ro_32",d4e="_loadingSpinner_120ro_43",f4e="_searchingIndicator_120ro_56",p4e="_searchingSpinner_120ro_69",h4e="_grid_120ro_79",fo={header:s4e,headerLeft:o4e,title:l4e,subtitle:c4e,loading:u4e,loadingSpinner:d4e,searchingIndicator:f4e,searchingSpinner:p4e,grid:h4e},Sv=25;function m4e(){const e=Bt(),[t,r]=v.useState(1),{searchQuery:n,searchDebounced:a,setSearchQuery:o,sortNewestFirst:u,setSortNewestFirst:c}=lOe();v.useEffect(()=>{console.log("[FeedHome] canceling active import polling"),e.cancelQueries({queryKey:["activeImport"]}),e.removeQueries({queryKey:["activeImport"]})},[e]),v.useEffect(()=>{r(1)},[a]);const{data:p,isLoading:h,isFetching:f,isError:m,refetch:b}=De({queryKey:["public-podcasts",t,a,u?"newest":"oldest"],queryFn:()=>lW({limit:Sv,offset:(t-1)*Sv,q:a||void 0,sort:u?"newest":"oldest"}),refetchOnMount:"always",placeholderData:S=>S}),_=(p==null?void 0:p.total)??0,j=Math.max(1,Math.ceil(_/Sv)),w=(p==null?void 0:p.podcasts)??[],y=_===0?0:((p==null?void 0:p.offset)??0)+1,x=((p==null?void 0:p.offset)??0)+w.length;return v.useEffect(()=>{r(S=>S>j?Math.max(1,j):S)},[j]),h2({title:"Podcasts - HarborFM",description:"Browse all podcasts on HarborFM."}),i.jsx("div",{className:Yr.wrapper,children:i.jsxs("div",{className:Yr.container,children:[i.jsx(Ih,{}),i.jsxs("main",{children:[i.jsx("header",{className:fo.header,children:i.jsxs("div",{className:fo.headerLeft,children:[i.jsx("h1",{className:fo.title,children:"Podcasts"}),i.jsx("p",{className:fo.subtitle,children:p!=null&&_>0?`${_} show${_===1?"":"s"}  Browse and listen`:"Browse and listen to shows on the platform"})]})}),i.jsx(uDe,{}),m&&i.jsx(Kd,{onRetry:()=>void b()}),!m&&i.jsxs(i.Fragment,{children:[i.jsx(q7,{searchQuery:n,onSearchChange:S=>{o(S),r(1)},sortNewestFirst:u,onSortToggle:S=>{c(S),r(1)},placeholder:"Search by title, author, or description..."}),h&&!p&&i.jsxs("div",{className:fo.loading,children:[i.jsx("div",{className:fo.loadingSpinner}),i.jsx("p",{children:"Loading..."})]}),f&&p&&i.jsxs("div",{className:fo.searchingIndicator,children:[i.jsx("div",{className:fo.searchingSpinner}),i.jsx("span",{children:"Searching..."})]}),!h&&p!=null&&_===0&&i.jsx(pDe,{searchQuery:n}),p!=null&&_>0&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:fo.grid,children:w.map(S=>i.jsx(L3e,{podcast:S,showLockIcon:!0},S.id))}),j>1&&i.jsx(nDe,{currentPage:t,totalPages:j,onPageChange:S=>{r(S),window.scrollTo(0,0)},totalItems:_,itemsPerPage:Sv,rangeStart:y,rangeEnd:x})]})]})]})]})})}const g4e="_overlay_nz94c_1",v4e="_dialog_nz94c_9",y4e="_dialogHeader_nz94c_29",b4e="_bodyScroll_nz94c_44",_4e="_title_nz94c_73",x4e="_sub_nz94c_80",w4e="_close_nz94c_87",S4e="_form_nz94c_109",j4e="_label_nz94c_115",C4e="_input_nz94c_124",k4e="_actions_nz94c_144",N4e="_submit_nz94c_150",E4e="_error_nz94c_171",T4e="_errorText_nz94c_178",P4e="_success_nz94c_185",A4e="_successText_nz94c_192",Rr={overlay:g4e,dialog:v4e,dialogHeader:y4e,bodyScroll:b4e,title:_4e,sub:x4e,close:w4e,form:S4e,label:j4e,input:C4e,actions:k4e,submit:N4e,error:E4e,errorText:T4e,success:P4e,successText:A4e},R4e=80;function K7({open:e,onOpenChange:t,context:r}){var y;const[n,a]=v.useState(""),[o,u]=v.useState(""),[c,p]=v.useState(""),h=v.useRef(null),f=v.useRef(null);gi(h,c,{minHeight:R4e});const{data:m}=De({queryKey:["setupStatus"],queryFn:cu,retry:!1,staleTime:1e4,enabled:e}),b=Ve({mutationFn:async()=>{var S;let x;if(m!=null&&m.captchaProvider&&m.captchaProvider!=="none"&&m.captchaSiteKey&&(x=await((S=f.current)==null?void 0:S.getToken()),!(x!=null&&x.trim())))throw new Error("Please complete the CAPTCHA.");return AL({name:n,email:o,message:c,captchaToken:x,...(r==null?void 0:r.podcastSlug)&&{podcastSlug:r.podcastSlug},...(r==null?void 0:r.episodeSlug)&&(r==null?void 0:r.podcastSlug)&&{episodeSlug:r.episodeSlug}})}});function _(x){t(x),x||(b.reset(),a(""),u(""),p(""))}function j(x){x.preventDefault(),b.mutate()}const w=r!=null&&r.episodeTitle&&(r!=null&&r.podcastTitle)?`${r.episodeTitle} - ${r.podcastTitle}`:r!=null&&r.podcastTitle?r.podcastTitle:null;return i.jsxs(cr,{open:e,onOpenChange:_,modal:!0,children:[i.jsx(ur,{className:Rr.overlay}),i.jsxs(dr,{className:Rr.dialog,"aria-describedby":void 0,children:[i.jsxs("div",{className:Rr.dialogHeader,children:[i.jsxs("div",{children:[i.jsx(fr,{className:Rr.title,children:"Message"}),w&&i.jsxs("p",{className:Rr.sub,children:["About: ",w]})]}),i.jsx(dt,{asChild:!0,children:i.jsx("button",{type:"button",className:Rr.close,"aria-label":"Close",children:i.jsx(Nt,{size:20,strokeWidth:2})})})]}),i.jsx("div",{className:Rr.bodyScroll,children:b.isSuccess?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:Rr.success,children:i.jsx("p",{className:Rr.successText,children:"Thanks for your message. Well get back to you as soon as we can."})}),i.jsx("div",{className:Rr.actions,children:i.jsx("button",{type:"button",className:Rr.submit,onClick:()=>_(!1),children:"Close"})})]}):i.jsxs("form",{onSubmit:j,className:Rr.form,children:[i.jsxs("label",{className:Rr.label,children:["Name",i.jsx("input",{type:"text",autoComplete:"name",value:n,onChange:x=>a(x.target.value),className:Rr.input,required:!0,maxLength:200})]}),i.jsxs("label",{className:Rr.label,children:["Email",i.jsx("input",{type:"email",autoComplete:"email",value:o,onChange:x=>u(x.target.value),className:Rr.input,required:!0})]}),i.jsxs("label",{className:Rr.label,children:["Message",i.jsx("textarea",{ref:h,value:c,onChange:x=>p(x.target.value),className:Rr.input,required:!0,rows:2,maxLength:1e4,style:{resize:"none",overflow:"hidden"}})]}),(m==null?void 0:m.captchaProvider)&&m.captchaProvider!=="none"&&m.captchaSiteKey&&i.jsx(Gh,{ref:f,provider:m.captchaProvider,siteKey:m.captchaSiteKey,action:"contact"}),b.isError&&i.jsx("div",{className:Rr.error,children:i.jsx("p",{className:Rr.errorText,children:(y=b.error)==null?void 0:y.message})}),i.jsx("div",{className:Rr.actions,children:i.jsx("button",{type:"submit",className:Rr.submit,disabled:b.isPending,"aria-label":"Send message",children:b.isPending?"Sending...":"Send message"})})]})})]})]})}const O4e="_heroCardSubscriberOnly_1e6dy_2",D4e="_linksCardWrap_1e6dy_7",M4e="_episodesCard_1e6dy_12",L4e="_episodes_1e6dy_12",I4e="_episodesHeader_1e6dy_20",$4e="_episodesTitle_1e6dy_25",md={heroCardSubscriberOnly:O4e,linksCardWrap:D4e,episodesCard:M4e,episodes:L4e,episodesHeader:I4e,episodesTitle:$4e};function G7({podcastSlugOverride:e}={}){const t=Bt(),{podcastSlug:r}=wi(),n=e??r??"",[a,o]=v.useState(null),[u,c]=v.useState(""),p=aC(u),[h,f]=v.useState(!0),[m,b]=v.useState(!1);v.useEffect(()=>{t.cancelQueries({queryKey:["activeImport"]}),t.removeQueries({queryKey:["activeImport"]})},[t]);const{data:_,isLoading:j,isError:w,error:y,refetch:x}=De({queryKey:["public-podcast",n],queryFn:()=>pb(n),enabled:!!n,refetchOnMount:"always"}),{data:S,fetchNextPage:T,hasNextPage:N,isFetchingNextPage:P,isLoading:A}=UM({queryKey:["public-episodes",n,h,p],queryFn:({pageParam:z=0})=>cW(n,10,z,h?"newest":"oldest",p||void 0),enabled:!!n,refetchOnMount:"always",getNextPageParam:z=>{if(z.hasMore)return z.offset+z.episodes.length},initialPageParam:0}),k=v.useMemo(()=>(S==null?void 0:S.pages.flatMap(z=>z.episodes))??[],[S]),R=v.useCallback(z=>{o(M=>{if(M&&M!==z){const F=document.getElementById(`audio-${M}`);F&&(F.pause(),F.currentTime=0)}return z})},[]),D=v.useCallback(()=>{o(null)},[]),I=v.useMemo(()=>[...k].sort((z,M)=>{const F=z.publish_at?new Date(z.publish_at).getTime():new Date(z.created_at).getTime(),B=M.publish_at?new Date(M.publish_at).getTime():new Date(M.created_at).getTime();return h?B-F:F-B}),[k,h]);if(h2({title:_?`${_.title} - HarborFM`:void 0,description:(_==null?void 0:_.description)||(_?`Listen to ${_.title}${_.author_name?` by ${_.author_name}`:""} on HarborFM.`:void 0)}),!n)return null;if(j)return i.jsx(_a,{});if(w||!_){const z=w&&vh(y);return i.jsx("div",{className:Yr.wrapper,children:i.jsxs("div",{className:Yr.container,children:[i.jsx(Ih,{}),i.jsx("main",{children:z?i.jsx(Kd,{onRetry:()=>void x()}):i.jsx("div",{className:Yr.error,children:"Podcast not found"})})]})})}const q=_.subscriber_only_feed_enabled===1&&_.public_feed_disabled===1;return i.jsxs("div",{className:Yr.wrapper,children:[i.jsxs("div",{className:Yr.container,children:[i.jsx(Ih,{}),i.jsxs("main",{children:[i.jsx("div",{className:`${Yr.card} ${q?md.heroCardSubscriberOnly:""}`,children:i.jsx(TDe,{podcast:_,podcastSlug:n,onMessageClick:()=>b(!0),shareUrl:(_==null?void 0:_.canonical_feed_url)??(typeof window<"u"?`${window.location.origin}${window.location.pathname}`:void 0),shareTitle:_?`${_.title} - HarborFM`:void 0})}),_&&b_(_)&&i.jsx("div",{className:md.linksCardWrap,children:i.jsx(F7,{podcast:_})}),i.jsx("div",{className:`${Yr.card} ${md.episodesCard}`,children:i.jsxs("div",{className:md.episodes,children:[i.jsx("div",{className:md.episodesHeader,children:i.jsx("h2",{className:md.episodesTitle,children:"Episodes"})}),i.jsx(q7,{searchQuery:u,onSearchChange:c,sortNewestFirst:h,onSortToggle:f,placeholder:"Search episodes..."}),A&&i.jsx("p",{className:Yr.muted,children:"Loading episodes..."}),!A&&I.length===0&&i.jsx("p",{className:Yr.muted,children:u?"No episodes match your search.":"No episodes yet."}),!A&&I.length>0&&i.jsx(DDe,{episodes:I,podcast:_,podcastSlug:n,playingEpisodeId:a,onPlay:R,onPause:D,hasNextPage:N,isFetchingNextPage:P,onLoadMore:()=>T(),useShortEpisodeUrls:!!e})]})}),i.jsx(EOe,{podcastSlug:n})]})]}),i.jsx(K7,{open:m,onOpenChange:b,context:{podcastSlug:n??void 0,podcastTitle:_.title}})]})}const B4e="_linksCardWrap_5x00q_2",z4e="_player_5x00q_7",F4e="_playbackRow_5x00q_11",q4e="_playPauseBtn_5x00q_18",U4e="_waveform_5x00q_44",H4e="_audio_5x00q_53",W4e="_noAudioText_5x00q_58",K4e="_description_5x00q_66",G4e="_castCard_5x00q_81",V4e="_castTitle_5x00q_85",Y4e="_castSectionTitle_5x00q_92",ci={linksCardWrap:B4e,player:z4e,playbackRow:F4e,playPauseBtn:q4e,waveform:U4e,audio:H4e,noAudioText:W4e,description:K4e,castCard:G4e,castTitle:V4e,castSectionTitle:Y4e};function V7({podcastSlugOverride:e,episodeSlugOverride:t}={}){var me,ke;const r=Bt(),n=wi(),a=e??n.podcastSlug??"",o=t??n.episodeSlug??"",u=!!(e&&t),[c,p]=v.useState(!1),[h,f]=v.useState(!1);v.useEffect(()=>{r.cancelQueries({queryKey:["activeImport"]}),r.removeQueries({queryKey:["activeImport"]})},[r]);const{data:m,isLoading:b,isError:_,error:j,refetch:w}=De({queryKey:["public-podcast",a],queryFn:()=>pb(a),enabled:!!a}),{data:y,isLoading:x,isError:S,error:T,refetch:N}=De({queryKey:["public-episode",a,o],queryFn:()=>qj(a,o),enabled:!!a&&!!o}),{data:P}=De({queryKey:["public-episode-cast",a,o],queryFn:()=>uW(a,o),enabled:!!a&&!!o}),A=((me=P==null?void 0:P.cast)==null?void 0:me.filter(xe=>xe.role==="host"))??[],k=((ke=P==null?void 0:P.cast)==null?void 0:ke.filter(xe=>xe.role==="guest"))??[],R=(y==null?void 0:y.private_audio_url)||(y==null?void 0:y.audio_url)||null,D=(y==null?void 0:y.audio_duration_sec)??0,{audioRef:I,waveformData:q,currentTime:z,isPlaying:M,hasWaveform:F,togglePlay:B,seek:O}=m2({audioUrl:R,podcastSlug:a,episodeSlug:o,durationSec:D,waveformUrlFn:Uj,privateWaveformUrl:y==null?void 0:y.private_waveform_url});if(h2({title:y&&m?`${y.title} - ${m.title} - HarborFM`:void 0,description:(y==null?void 0:y.description)||(y&&m?`Listen to ${y.title} from ${m.title}${m.author_name?` by ${m.author_name}`:""} on HarborFM.`:void 0)}),!a||!o)return null;if(b||x)return i.jsx(_a,{});const $=_&&vh(j),K=S&&vh(T),Y=xe=>i.jsx("div",{className:Yr.wrapper,children:i.jsxs("div",{className:Yr.container,children:[i.jsx(Ih,{}),i.jsx("main",{children:xe})]})});if($)return Y(i.jsx(Kd,{onRetry:()=>void w()}));if(K)return Y(i.jsx(Kd,{onRetry:()=>void N()}));if(S||!y||!m)return Y(i.jsx("div",{className:Yr.error,children:"Episode not found"}));const Z=typeof window<"u"?window.location.origin:"",H=`${Z}${u?`/${o}`:`/feed/${a}/${o}`}`,X=`${y.title} - ${m.title}`,le=`<iframe src="${`${Z}${u?`/embed/${o}`:`/embed/${a}/${o}`}`}" width="100%" height="200" frameborder="0" allowfullscreen></iframe>`;return i.jsxs("div",{className:Yr.wrapper,children:[i.jsxs("div",{className:Yr.container,children:[i.jsx(Ih,{}),i.jsxs("main",{children:[i.jsx(BDe,{podcast:m,episode:y,podcastSlug:a,feedRootTo:u?"/":void 0}),i.jsxs("div",{className:Yr.card,children:[i.jsx(r4e,{episode:y,podcast:m,onMessageClick:()=>p(!0),onLockClick:()=>f(!0),shareUrl:H,shareTitle:X,embedCode:le}),R&&i.jsxs("div",{className:ci.player,children:[F&&i.jsxs("div",{className:ci.playbackRow,children:[i.jsx("button",{type:"button",className:ci.playPauseBtn,onClick:B,title:M?"Pause":"Play","aria-label":M?"Pause":"Play",children:M?i.jsx(xs,{size:22,"aria-hidden":!0}):i.jsx(qi,{size:22,"aria-hidden":!0})}),i.jsx(mf,{data:q,durationSec:D,currentTime:z,onSeek:O,className:ci.waveform})]}),F?i.jsx("audio",{ref:I,preload:"metadata",style:{display:"none"},children:i.jsx("source",{src:R,type:y.audio_mime||"audio/mpeg"})}):i.jsxs("audio",{ref:I,controls:!0,className:ci.audio,preload:"metadata",children:[i.jsx("source",{src:R,type:y.audio_mime||"audio/mpeg"}),"Your browser does not support the audio element."]})]}),!R&&(y.subscriber_only===1||m.subscriber_only_feed_enabled===1?i.jsx(W7,{}):i.jsx("p",{className:ci.noAudioText,children:"Audio not available."})),y.description&&i.jsx("div",{className:ci.description,children:i.jsx("p",{children:y.description})})]}),(A.length>0||k.length>0)&&i.jsxs("div",{className:`${Yr.card} ${ci.castCard}`,children:[i.jsx("h2",{className:ci.castTitle,children:"Cast"}),A.length>0&&i.jsxs("section",{style:{marginBottom:"1.5rem"},children:[i.jsx("h3",{className:ci.castSectionTitle,children:"Hosts"}),i.jsx(ib,{cast:A})]}),k.length>0&&i.jsxs("section",{children:[i.jsx("h3",{className:ci.castSectionTitle,children:"Guests"}),i.jsx(ib,{cast:k})]})]}),b_(m)&&i.jsx("div",{className:ci.linksCardWrap,children:i.jsx(F7,{podcast:m})})]})]}),i.jsx(K7,{open:c,onOpenChange:p,context:{podcastSlug:a??void 0,episodeSlug:o??void 0,podcastTitle:m.title,episodeTitle:y.title}}),h&&i.jsx(g2,{open:h,onClose:()=>f(!1),isSubscriberOnly:m.subscriber_only_feed_enabled===1&&m.public_feed_disabled===1,podcastSlug:a})]})}const Q4e="_wrapper_1kg9b_1",X4e="_layout_1kg9b_16",Z4e="_artworkWrap_1kg9b_24",J4e="_artwork_1kg9b_24",eMe="_artworkPlaceholder_1kg9b_36",tMe="_content_1kg9b_49",rMe="_topRow_1kg9b_58",nMe="_topRowRight_1kg9b_66",aMe="_podcastTitle_1kg9b_76",iMe="_seasonEpisode_1kg9b_86",sMe="_metaRowMobile_1kg9b_92",oMe="_seasonEpisodeShort_1kg9b_96",lMe="_brandMobile_1kg9b_102",cMe="_brand_1kg9b_102",uMe="_favicon_1kg9b_130",dMe="_episodeTitle_1kg9b_136",fMe="_subscriberOnlyCardLink_1kg9b_146",pMe="_player_1kg9b_161",hMe="_playbackRow_1kg9b_165",mMe="_playPauseBtn_1kg9b_172",gMe="_waveform_1kg9b_198",vMe="_audioNative_1kg9b_207",yMe="_actions_1kg9b_212",bMe="_actionBtn_1kg9b_220",_Me="_actionBtnIcon_1kg9b_241",xMe="_actionBtnLabel_1kg9b_247",wMe="_controlsRow_1kg9b_251",SMe="_time_1kg9b_259",jMe="_speedBtn_1kg9b_266",CMe="_volumeWrap_1kg9b_284",kMe="_volumeIcon_1kg9b_293",NMe="_volumeSlider_1kg9b_298",EMe="_error_1kg9b_305",TMe="_titleRowWrapper_1kg9b_404",nt={wrapper:Q4e,layout:X4e,artworkWrap:Z4e,artwork:J4e,artworkPlaceholder:eMe,content:tMe,topRow:rMe,topRowRight:nMe,podcastTitle:aMe,seasonEpisode:iMe,metaRowMobile:sMe,seasonEpisodeShort:oMe,brandMobile:lMe,brand:cMe,favicon:uMe,episodeTitle:dMe,subscriberOnlyCardLink:fMe,player:pMe,playbackRow:hMe,playPauseBtn:mMe,waveform:gMe,audioNative:vMe,actions:yMe,actionBtn:bMe,actionBtnIcon:_Me,actionBtnLabel:xMe,controlsRow:wMe,time:SMe,speedBtn:jMe,volumeWrap:CMe,volumeIcon:kMe,volumeSlider:NMe,error:EMe,titleRowWrapper:TMe},PMe="harborfm-embed-height";function hM(){const e=Bt(),t=wi(),r=t.podcastSlug,n=t.episodeSlug??"",a=v.useRef(null),[o,u]=v.useState(1),[c,p]=v.useState(1),h=typeof window<"u"?window.location.host:"",{data:f,isLoading:m,isFetched:b}=De({queryKey:["publicConfig",h],queryFn:uu,retry:!1,staleTime:0,refetchOnMount:"always",enabled:!r}),_=r??(f==null?void 0:f.custom_feed_slug)??"",j=!r&&!!(f!=null&&f.custom_feed_slug),{data:w,isLoading:y,isError:x,error:S,refetch:T}=De({queryKey:["public-podcast",_],queryFn:()=>pb(_),enabled:!!_}),{data:N,isLoading:P,isError:A,error:k,refetch:R}=De({queryKey:["public-episode",_,n],queryFn:()=>qj(_,n),enabled:!!_&&!!n});v.useEffect(()=>{e.cancelQueries({queryKey:["activeImport"]}),e.removeQueries({queryKey:["activeImport"]})},[e]);const D=(N==null?void 0:N.private_audio_url)||(N==null?void 0:N.audio_url)||null,I=(N==null?void 0:N.audio_duration_sec)??0,{audioRef:q,waveformData:z,currentTime:M,isPlaying:F,hasWaveform:B,togglePlay:O,seek:$}=m2({audioUrl:D,podcastSlug:_,episodeSlug:n,durationSec:I,waveformUrlFn:Uj,privateWaveformUrl:N==null?void 0:N.private_waveform_url});v.useEffect(()=>{const We=q.current;We&&(We.playbackRate=o)},[q,o]),v.useEffect(()=>{const We=q.current;We&&(We.volume=c)},[q,c]);const K=v.useCallback(()=>{u(We=>We===1?1.5:We===1.5?2:We===2?2.5:1)},[]),Y=v.useCallback(We=>{if(We.key!==" "&&We.key!=="Space")return;const be=document.activeElement;be&&(be.tagName==="BUTTON"||be.tagName==="A"||be.tagName==="INPUT"||be.tagName==="SELECT"||be.tagName==="TEXTAREA")||(We.preventDefault(),O())},[O]),Z=v.useCallback(We=>{(We.key===" "||We.key==="Enter")&&(We.preventDefault(),We.currentTarget.click())},[]),H=typeof window<"u"&&window.self!==window.top,X=!!_&&!!n,te=r!==void 0||b;if(!n)return null;if(!r&&b&&!(f!=null&&f.custom_feed_slug))return i.jsx(Hi,{to:"/",replace:!0});if(!H&&te&&X){const We=j?`/${n}`:`/feed/${_}/${n}`;return i.jsx(Hi,{to:We,replace:!0})}if(!_)return!r&&(m||!b)?i.jsx(_a,{}):i.jsx("div",{className:nt.wrapper,children:i.jsx("div",{className:nt.error,children:"Episode not found"})});if(y||P)return i.jsx(_a,{});const le=x&&vh(S),me=A&&vh(k);if(le)return i.jsx("div",{className:nt.wrapper,children:i.jsx(Kd,{onRetry:()=>void T()})});if(me)return i.jsx("div",{className:nt.wrapper,children:i.jsx(Kd,{onRetry:()=>void R()})});if(A||!N||!w)return i.jsx("div",{className:nt.wrapper,children:i.jsx("div",{className:nt.error,children:"Episode not found"})});const ke=typeof window<"u"?window.location.origin:"",xe=j?`/${n}`:`/feed/${_}/${n}`,He=`${ke}${xe}`,J=bb(_),we=`${ke}${J}`,Ne=D?D.startsWith("http")?D:`${ke}${D}`:null,ge=N.private_srt_url||N.srt_url?(N.private_srt_url||N.srt_url).startsWith("http")?N.private_srt_url||N.srt_url:`${ke}${N.private_srt_url||N.srt_url}`:null,Pe=qSe(N.season_number,N.episode_number),Ae=c2(N.season_number,N.episode_number),Ze=!D&&(N.subscriber_only===1||w.subscriber_only_feed_enabled===1);let Me=null;return N.artwork_url?Me=N.artwork_url:N.artwork_filename?Me=`/api/public/artwork/${N.podcast_id}/episodes/${N.id}/${encodeURIComponent(N.artwork_filename)}`:w.artwork_url?Me=w.artwork_url:w.artwork_filename&&(Me=`/api/public/artwork/${w.id}/${encodeURIComponent(w.artwork_filename)}`),i.jsxs("div",{ref:a,className:nt.wrapper,tabIndex:0,onKeyDown:Y,role:"region","aria-label":"Episode player",children:[i.jsxs("div",{className:nt.layout,children:[i.jsx("div",{className:nt.artworkWrap,children:Me?i.jsx("img",{src:Me,alt:N.title,className:nt.artwork}):i.jsx("div",{className:nt.artworkPlaceholder,"aria-hidden":!0,children:"No image"})}),i.jsxs("div",{className:nt.content,children:[i.jsxs("div",{className:nt.titleRowWrapper,children:[i.jsxs("div",{className:nt.topRow,children:[i.jsx("span",{className:nt.podcastTitle,children:w.title}),i.jsxs("div",{className:nt.topRowRight,children:[Pe&&i.jsx("span",{className:nt.seasonEpisode,children:Pe}),i.jsxs("a",{href:ke+(j?"/":"/feed"),target:"_blank",rel:"noopener noreferrer",className:nt.brand,children:[i.jsx("img",{src:"/favicon.png",alt:"",className:nt.favicon,onError:We=>{We.target.src="/favicon.svg"}}),"HarborFM"]})]})]}),i.jsx("h1",{className:nt.episodeTitle,title:N.title,children:N.title})]}),i.jsxs("div",{className:nt.metaRowMobile,children:[Ae&&i.jsx("span",{className:nt.seasonEpisodeShort,children:Ae}),i.jsxs("a",{href:ke+(j?"/":"/feed"),target:"_blank",rel:"noopener noreferrer",className:nt.brandMobile,children:[i.jsx("img",{src:"/favicon.png",alt:"",className:nt.favicon,onError:We=>{We.target.src="/favicon.svg"}}),"HarborFM"]})]}),Ze?i.jsx(i.Fragment,{children:i.jsx("a",{href:He,target:"_blank",rel:"noopener noreferrer",className:nt.subscriberOnlyCardLink,children:i.jsx(W7,{})})}):D?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:nt.player,children:[B&&i.jsxs("div",{className:nt.playbackRow,children:[i.jsx("button",{type:"button",className:nt.playPauseBtn,onClick:O,title:F?"Pause":"Play","aria-label":F?"Pause":"Play",children:F?i.jsx(xs,{size:22,"aria-hidden":!0}):i.jsx(qi,{size:22,"aria-hidden":!0})}),i.jsx(mf,{data:z,durationSec:I,currentTime:M,onSeek:$,className:nt.waveform})]}),B?i.jsx("audio",{ref:q,preload:"metadata",style:{display:"none"},children:i.jsx("source",{src:D,type:N.audio_mime||"audio/mpeg"})}):i.jsx("audio",{ref:q,controls:!0,className:nt.audioNative,preload:"metadata",children:i.jsx("source",{src:D,type:N.audio_mime||"audio/mpeg"})})]}),i.jsxs("div",{className:nt.actions,children:[i.jsxs("a",{href:He,target:"_blank",rel:"noopener noreferrer",className:nt.actionBtn,onKeyDown:Z,children:[i.jsx("span",{className:nt.actionBtnIcon,children:i.jsx(cb,{size:16,"aria-hidden":!0})}),i.jsx("span",{className:nt.actionBtnLabel,children:"Share"})]}),Ne&&i.jsxs("a",{href:Ne,download:!0,className:nt.actionBtn,onKeyDown:Z,children:[i.jsx("span",{className:nt.actionBtnIcon,children:i.jsx(Vv,{size:16,"aria-hidden":!0})}),i.jsx("span",{className:nt.actionBtnLabel,children:"Download"})]}),i.jsxs("a",{href:we,target:"_blank",rel:"noopener noreferrer",className:nt.actionBtn,onKeyDown:Z,children:[i.jsx("span",{className:nt.actionBtnIcon,children:i.jsx(Ss,{size:16,"aria-hidden":!0})}),i.jsx("span",{className:nt.actionBtnLabel,children:"Subscribe"})]}),ge&&i.jsxs("a",{href:ge,target:"_blank",rel:"noopener noreferrer",className:nt.actionBtn,onKeyDown:Z,children:[i.jsx("span",{className:nt.actionBtnIcon,children:i.jsx(Oj,{size:16,"aria-hidden":!0})}),i.jsx("span",{className:nt.actionBtnLabel,children:"Transcript"})]})]}),i.jsxs("div",{className:nt.controlsRow,children:[i.jsxs("span",{className:nt.time,children:[h4(Math.ceil(M))," / ",h4(Math.ceil(I))]}),i.jsxs("button",{type:"button",className:nt.speedBtn,onClick:K,"aria-label":"Playback speed",children:[o,"x"]}),i.jsxs("div",{className:nt.volumeWrap,children:[i.jsx(Yq,{size:18,className:nt.volumeIcon,"aria-hidden":!0}),i.jsx("input",{id:"embed-volume",type:"range",min:0,max:1,step:.05,value:c,onChange:We=>p(Number(We.target.value)),className:nt.volumeSlider,"aria-label":"Volume"})]})]})]}):null]})]}),i.jsx(AMe,{rootRef:a})]})}function AMe({rootRef:e}){return v.useEffect(()=>{const t=e.current;if(!t||typeof ResizeObserver>"u")return;let r;const n=()=>{r=requestAnimationFrame(()=>{const o=t.offsetHeight;window.parent.postMessage({type:PMe,height:o},"*")})},a=new ResizeObserver(()=>{n()});return a.observe(t),n(),()=>{cancelAnimationFrame(r),a.disconnect()}},[e]),null}const RMe="_page_1wz25_1",OMe="_card_1wz25_10",DMe="_title_1wz25_20",MMe="_sub_1wz25_27",LMe="_audioUnavailable_1wz25_33",IMe="_loading_1wz25_43",$Me="_error_1wz25_48",BMe="_form_1wz25_54",zMe="_label_1wz25_60",FMe="_input_1wz25_66",qMe="_select_1wz25_67",UMe="_joinBtn_1wz25_83",HMe="_micTestHint_1wz25_104",WMe="_micLevel_1wz25_110",KMe="_micLevelBar_1wz25_119",GMe="_participantsLabel_1wz25_126",VMe="_participantsList_1wz25_134",YMe="_note_1wz25_146",It={page:RMe,card:OMe,title:DMe,sub:MMe,audioUnavailable:LMe,loading:IMe,error:$Me,form:BMe,label:zMe,input:FMe,select:qMe,joinBtn:UMe,micTestHint:HMe,micLevel:WMe,micLevelBar:KMe,participantsLabel:GMe,participantsList:VMe,note:YMe};function QMe(){const{token:e}=wi(),[t,r]=v.useState(null),[n,a]=v.useState(null),[o,u]=v.useState(!0),[c,p]=v.useState(""),[h,f]=v.useState(""),[m,b]=v.useState(""),[_,j]=v.useState([]),[w,y]=v.useState(0),[x,S]=v.useState(!1),[T,N]=v.useState(!1),[P,A]=v.useState(void 0),[k,R]=v.useState(void 0),[D,I]=v.useState([]),q=v.useRef(null),z=v.useRef(null),M=v.useRef(null),F=v.useRef(null),{remoteTracks:B,setMuted:O}=$7(P,k),$=v.useRef(O);$.current=O,v.useEffect(()=>{if(!e){a("Invalid link"),u(!1);return}QNe(e).then(r).catch(()=>a("Invalid or expired link")).finally(()=>u(!1))},[e]),v.useEffect(()=>{navigator.mediaDevices.enumerateDevices().then(Z=>{const H=Z.filter(X=>X.kind==="audioinput");j(H),H.length>0&&!m&&b(H[0].deviceId)}).catch(()=>{})},[m]),v.useEffect(()=>{if(!m)return;const Z={audio:{deviceId:{exact:m}},video:!1};let H=null,X=null;return navigator.mediaDevices.getUserMedia(Z).then(te=>{H=te,q.current=te;const le=window.AudioContext||window.webkitAudioContext;X=new le,M.current=X;const me=X.createMediaStreamSource(te),ke=X.createAnalyser();ke.fftSize=256,ke.smoothingTimeConstant=.7,ke.minDecibels=-60,ke.maxDecibels=-10,me.connect(ke),z.current=ke,X.resume().catch(()=>{});const xe=new Uint8Array(ke.frequencyBinCount);function He(){const J=z.current;if(!J||!X)return;if(X.state!=="running"){F.current=requestAnimationFrame(He);return}J.getByteFrequencyData(xe);let we=0;for(let Ne=0;Ne<xe.length;Ne++)xe[Ne]>we&&(we=xe[Ne]);y(Math.min(100,Math.round(we/255*100))),F.current=requestAnimationFrame(He)}He()}).catch(()=>y(0)),()=>{F.current&&cancelAnimationFrame(F.current),H&&H.getTracks().forEach(te=>te.stop()),X==null||X.close(),q.current=null,z.current=null,M.current=null}},[m]);const K=()=>{var Z;(Z=M.current)==null||Z.resume().catch(()=>{})},Y=()=>{if(!e||!c.trim())return;a(null),S(!0);const Z=new WebSocket(D7());let H=!1,X=null;const te=()=>{X&&(clearTimeout(X),X=null)};X=setTimeout(()=>{if(!H){H=!0,a("Join timed out. Please try again."),S(!1);try{Z.close()}catch{}}},15e3),Z.onopen=()=>{Z.send(JSON.stringify({type:"guest",token:e,name:c.trim(),password:h||void 0}))},Z.onmessage=le=>{try{const me=JSON.parse(le.data);me.type==="joined"?(H=!0,te(),N(!0),I(me.participants??[]),me.webrtcUrl&&A(me.webrtcUrl),me.roomId&&R(me.roomId)):me.type==="participants"?I(me.participants??[]):me.type==="participantJoined"?I(ke=>{const xe=me.participant;return xe&&!ke.some(He=>He.id===xe.id)?[...ke,xe]:ke}):me.type==="callEnded"?(te(),N(!1),S(!1),Z.close()):me.type==="error"?(H=!0,te(),a(me.error??"Could not join"),S(!1),Z.close()):me.type==="setMute"?$.current(me.muted===!0):me.type==="disconnected"&&(te(),A(void 0),R(void 0),N(!1),a("You were disconnected by the host"),S(!1),Z.close())}catch{}},Z.onclose=()=>{te(),S(!1),H||a("Connection closed. Please try again.")},Z.onerror=()=>{H||a("Connection failed"),S(!1)}};if(o)return i.jsx("div",{className:It.page,children:i.jsx("div",{className:It.card,children:i.jsx("p",{className:It.loading,children:"Loading"})})});if(n&&!t)return i.jsx("div",{className:It.page,children:i.jsxs("div",{className:It.card,children:[i.jsx("h1",{className:It.title,children:"Could not load call"}),i.jsx("p",{className:It.error,children:n})]})});if(T){const Z=!P||!k;return i.jsx("div",{className:It.page,children:i.jsxs("div",{className:It.card,children:[i.jsx("h1",{className:It.title,children:"You're in the call"}),i.jsxs("p",{className:It.sub,children:[t==null?void 0:t.podcast.title,"  ",t==null?void 0:t.episode.title]}),Z&&i.jsx("p",{className:It.audioUnavailable,role:"status",children:"Audio is unavailable  the host's WebRTC service is not running. You can stay in the call but won't hear or be heard until it's started."}),i.jsx("div",{className:It.micLevel,role:"button",tabIndex:0,onClick:K,onKeyDown:H=>H.key==="Enter"&&K(),title:"Click if the bar doesn't move","aria-label":"Microphone level  click to enable if needed",children:i.jsx("div",{className:It.micLevelBar,style:{width:`${w}%`}})}),i.jsxs("p",{className:It.participantsLabel,children:["Participants (",D.length,")"]}),i.jsx("ul",{className:It.participantsList,children:D.map(H=>i.jsxs("li",{children:[H.name,H.isHost?" (Host)":""]},H.id))}),Array.from(B.entries()).map(([H,X])=>i.jsx(B7,{track:X},H)),i.jsx("p",{className:It.note,children:"You can close this page to leave the call."})]})})}return i.jsx("div",{className:It.page,children:i.jsxs("div",{className:It.card,children:[i.jsx("h1",{className:It.title,children:"Join group call"}),t&&i.jsxs(i.Fragment,{children:[i.jsxs("p",{className:It.sub,children:[t.podcast.title,"  ",t.episode.title]}),i.jsxs("div",{className:It.form,children:[i.jsx("label",{className:It.label,htmlFor:"call-join-name",children:"Your name"}),i.jsx("input",{id:"call-join-name",type:"text",className:It.input,value:c,onChange:Z=>p(Z.target.value),placeholder:"Enter your name",maxLength:100}),_.length>0&&i.jsxs(i.Fragment,{children:[i.jsx("label",{className:It.label,htmlFor:"call-join-mic",children:"Microphone"}),i.jsx("select",{id:"call-join-mic",className:It.select,value:m,onChange:Z=>b(Z.target.value),children:_.map(Z=>i.jsx("option",{value:Z.deviceId,children:Z.label||`Microphone ${Z.deviceId.slice(0,8)}`},Z.deviceId))}),i.jsx("div",{className:It.micLevel,role:"button",tabIndex:0,onClick:K,onKeyDown:Z=>Z.key==="Enter"&&K(),title:"Click if the bar doesn't move","aria-label":"Microphone level  click to enable if needed",children:i.jsx("div",{className:It.micLevelBar,style:{width:`${w}%`}})}),i.jsx("p",{className:It.micTestHint,children:"Speak to test your microphone. Level should move when you talk. Click the bar if it doesn't."})]}),i.jsx("label",{className:It.label,htmlFor:"call-join-password",children:"Password (if required)"}),i.jsx("input",{id:"call-join-password",type:"password",className:It.input,value:h,onChange:Z=>f(Z.target.value),placeholder:"Leave blank if no password"}),n&&i.jsx("p",{className:It.error,children:n}),i.jsx("button",{type:"button",className:It.joinBtn,onClick:Y,disabled:x||!c.trim(),children:x?"Joining":"Join call"})]})]})]})})}const XMe="_page_1b3fa_1",ZMe="_header_1b3fa_6",JMe="_title_1b3fa_15",eLe="_subtitle_1b3fa_24",tLe="_controls_1b3fa_30",rLe="_uploadCard_1b3fa_38",nLe="_uploadHeader_1b3fa_63",aLe="_uploadTitle_1b3fa_67",iLe="_uploadSub_1b3fa_74",sLe="_uploadChooseRow_1b3fa_80",oLe="_uploadChooseBtn_1b3fa_87",lLe="_pixabayImportForm_1b3fa_102",cLe="_input_1b3fa_111",uLe="_pixabayImportActions_1b3fa_117",dLe="_uploadForm_1b3fa_129",fLe="_uploadPendingFile_1b3fa_134",pLe="_uploadLabel_1b3fa_140",hLe="_optional_1b3fa_148",mLe="_uploadActions_1b3fa_154",gLe="_uploadSubmit_1b3fa_160",vLe="_uploadCancel_1b3fa_180",yLe="_uploadError_1b3fa_201",bLe="_select_1b3fa_208",_Le="_sortToggle_1b3fa_223",xLe="_sortBtn_1b3fa_232",wLe="_sortBtnActive_1b3fa_233",SLe="_stateCard_1b3fa_253",jLe="_stateText_1b3fa_262",CLe="_metaRow_1b3fa_268",kLe="_metaText_1b3fa_274",NLe="_list_1b3fa_278",ELe="_item_1b3fa_284",TLe="_itemMain_1b3fa_296",PLe="_itemTitleRow_1b3fa_300",ALe="_itemName_1b3fa_307",RLe="_itemCopyrightLicense_1b3fa_314",OLe="_itemTag_1b3fa_321",DLe="_itemMeta_1b3fa_331",MLe="_itemMetaLabels_1b3fa_343",LLe="_itemMetaRight_1b3fa_349",ILe="_itemMetaDot_1b3fa_355",$Le="_itemWaveformRow_1b3fa_363",BLe="_itemPlayPauseBtn_1b3fa_372",zLe="_itemWaveform_1b3fa_363",FLe="_itemWaveformPlaceholder_1b3fa_413",qLe="_itemWaveformPlaceholderFill_1b3fa_429",ULe="_itemActions_1b3fa_436",HLe="_editBtn_1b3fa_443",WLe="_deleteBtn_1b3fa_467",KLe="_pagination_1b3fa_490",GLe="_paginationLabel_1b3fa_499",VLe="_paginationBtns_1b3fa_504",YLe="_pageBtn_1b3fa_509",QLe="_dialogOverlay_1b3fa_532",XLe="_dialogContent_1b3fa_540",ZLe="_dialogHeaderRow_1b3fa_556",JLe="_dialogTitle_1b3fa_564",e6e="_dialogClose_1b3fa_571",t6e="_dialogDescription_1b3fa_605",r6e="_dialogActions_1b3fa_612",n6e="_dialogForm_1b3fa_618",a6e="_dialogLabel_1b3fa_624",i6e="_cancel_1b3fa_632",s6e="_dialogConfirmRemove_1b3fa_649",o6e="_dialogConfirm_1b3fa_649",Ce={page:XMe,header:ZMe,title:JMe,subtitle:eLe,controls:tLe,uploadCard:rLe,uploadHeader:nLe,uploadTitle:aLe,uploadSub:iLe,uploadChooseRow:sLe,uploadChooseBtn:oLe,pixabayImportForm:lLe,input:cLe,pixabayImportActions:uLe,uploadForm:dLe,uploadPendingFile:fLe,uploadLabel:pLe,optional:hLe,uploadActions:mLe,uploadSubmit:gLe,uploadCancel:vLe,uploadError:yLe,select:bLe,sortToggle:_Le,sortBtn:xLe,sortBtnActive:wLe,stateCard:SLe,stateText:jLe,metaRow:CLe,metaText:kLe,list:NLe,item:ELe,itemMain:TLe,itemTitleRow:PLe,itemName:ALe,itemCopyrightLicense:RLe,itemTag:OLe,itemMeta:DLe,itemMetaLabels:MLe,itemMetaRight:LLe,itemMetaDot:ILe,itemWaveformRow:$Le,itemPlayPauseBtn:BLe,itemWaveform:zLe,itemWaveformPlaceholder:FLe,itemWaveformPlaceholderFill:qLe,itemActions:ULe,editBtn:HLe,deleteBtn:WLe,pagination:KLe,paginationLabel:GLe,paginationBtns:VLe,pageBtn:YLe,dialogOverlay:QLe,dialogContent:XLe,dialogHeaderRow:ZLe,dialogTitle:JLe,dialogClose:e6e,dialogDescription:t6e,dialogActions:r6e,dialogForm:n6e,dialogLabel:a6e,cancel:i6e,dialogConfirmRemove:s6e,dialogConfirm:o6e},Jp=25,eh=["Ad","Intro","Outro","Bumper","Other"],l6e=[];function c6e({asset:e,waveformUrl:t,currentTime:r,isPlaying:n,onSeek:a,onPlayPause:o}){const[u,c]=v.useState(null),p=e.duration_sec??0;return v.useEffect(()=>{if(p<=0){c(null);return}let h=!1;return fetch(t,{credentials:"include"}).then(f=>f.ok?f.json():null).then(f=>{var m;!h&&((m=f==null?void 0:f.data)!=null&&m.length)?c(f):h||c(null)}).catch(()=>{h||c(null)}),()=>{h=!0}},[t,p]),p<=0?null:i.jsxs("div",{className:Ce.itemWaveformRow,children:[i.jsx("button",{type:"button",className:Ce.itemPlayPauseBtn,onClick:o,title:n?"Pause":"Play","aria-label":n?`Pause ${e.name}`:`Play ${e.name}`,children:n?i.jsx(xs,{size:20,strokeWidth:2,"aria-hidden":!0}):i.jsx(qi,{size:20,strokeWidth:2,"aria-hidden":!0})}),u?i.jsx(mf,{data:u,durationSec:p,currentTime:r,onSeek:h=>a(e,h),onPlayPause:o,className:Ce.itemWaveform}):i.jsx("div",{className:Ce.itemWaveformPlaceholder,role:"progressbar","aria-valuenow":Math.round(r),"aria-valuemin":0,"aria-valuemax":p,"aria-label":"Playback position",onClick:()=>o(),children:i.jsx("div",{className:Ce.itemWaveformPlaceholderFill,style:{width:`${p>0?r/p*100:0}%`}})})]})}function u6e(e){if(!Number.isFinite(e)||e<0)return"0:00";const t=Math.floor(e/60),r=Math.floor(e%60);return`${t}:${String(r).padStart(2,"0")}`}function mM(){var je,gt,Oe;const{userId:e}=wi(),t=!!e,r=Bt(),{data:n}=De({queryKey:["user",e],queryFn:()=>h6(e),enabled:!!e}),{data:a}=De({queryKey:["me"],queryFn:Si,staleTime:300*1e3}),o=a==null?void 0:a.user,u=((je=o==null?void 0:o.role)==null?void 0:je.toLowerCase())==="admin",c=(o==null?void 0:o.id)??void 0,p=!t&&lu(o),{data:h,isLoading:f,isError:m}=De({queryKey:["library",e],queryFn:()=>e?ONe(e):d2()}),b=v.useMemo(()=>(h==null?void 0:h.assets)??l6e,[h==null?void 0:h.assets]),[_,j]=v.useState(""),[w,y]=v.useState(""),[x,S]=v.useState(!0),[T,N]=v.useState(1),[P,A]=v.useState(null),[k,R]=v.useState(!1),[D,I]=v.useState(0),q=v.useRef(null),z=v.useRef(null),[M,F]=v.useState(""),[B,O]=v.useState(""),[$,K]=v.useState(""),[Y,Z]=v.useState(""),[H,X]=v.useState(""),[te,le]=v.useState(!1),[me,ke]=v.useState(null),[xe,He]=v.useState(null),[J,we]=v.useState(null),[Ne,ge]=v.useState(""),[Pe,Ae]=v.useState(""),[Ze,Me]=v.useState(""),[We,be]=v.useState(""),[Qe,Tr]=v.useState(""),mt=v.useRef(null),[zr,Rn]=v.useState(!1),[Gt,cn]=v.useState("");v.useEffect(()=>{const re=new Audio;re.preload="none";const Ke=()=>R(!1),it=()=>R(!1),st=()=>R(!0),St=()=>I(re.currentTime),pe=()=>{if(z.current!=null){const Le=z.current;z.current=null,re.currentTime=Le,I(Le)}};return re.addEventListener("ended",Ke),re.addEventListener("pause",it),re.addEventListener("play",st),re.addEventListener("timeupdate",St),re.addEventListener("loadedmetadata",pe),q.current=re,()=>{re.pause(),re.removeEventListener("ended",Ke),re.removeEventListener("pause",it),re.removeEventListener("play",st),re.removeEventListener("timeupdate",St),re.removeEventListener("loadedmetadata",pe),q.current=null}},[]);const Hn=Ve({mutationFn:re=>e?$Ne(e,re):INe(re),onSuccess:()=>r.invalidateQueries({queryKey:["library",e]})}),ia=Ve({mutationFn:({id:re,name:Ke,tag:it,copyright:st,license:St,global_asset:pe})=>{const Le={name:Ke,tag:it||null,copyright:st===""?null:st??void 0,license:St===""?null:St??void 0,...pe!==void 0&&{global_asset:pe}};return e?LNe(e,re,Le):MNe(re,Le)},onSuccess:()=>{r.invalidateQueries({queryKey:["library",e]}),F(""),O(""),K(""),Z(""),X(""),le(!1),He(null)}}),Re=Ve({mutationFn:({file:re,name:Ke,tag:it,copyright:st,license:St})=>O7(re,Ke,it||void 0,st||void 0,St||void 0),onSuccess:()=>{r.invalidateQueries({queryKey:["library",e]}),we(null),ge(""),Ae(""),Me(""),be(""),Tr(""),mt.current&&(mt.current.value="")}}),ut=Ve({mutationFn:re=>DNe(re),onSuccess:()=>{r.invalidateQueries({queryKey:["library",e]}),Rn(!1),cn("")}}),jt=v.useMemo(()=>{const re=new Set(eh),Ke=new Set;return b.forEach(st=>{st.tag&&Ke.add(st.tag)}),[...eh.filter(st=>st!=="Other"),...Array.from(Ke).filter(st=>!re.has(st)).sort()]},[b]),Lt=v.useMemo(()=>{const re=_.trim().toLowerCase();let Ke=b.filter(it=>!(w&&it.tag!==w||re&&!it.name.toLowerCase().includes(re)));return Ke=[...Ke].sort((it,st)=>{const St=new Date(it.created_at).getTime(),pe=new Date(st.created_at).getTime();return x?pe-St:St-pe}),Ke},[b,_,w,x]),xt=Math.max(1,Math.ceil(Lt.length/Jp)),ot=Math.max(1,Math.min(T,xt)),wt=v.useMemo(()=>Lt.slice((ot-1)*Jp,ot*Jp),[Lt,ot]),rr=Lt.length===0?0:(ot-1)*Jp+1,xr=(ot-1)*Jp+wt.length;v.useEffect(()=>{N(re=>re>xt?Math.max(1,xt):re)},[xt]);function un(re){const Ke=q.current;if(Ke){if(P===re.id&&k){Ke.pause();return}P!==re.id&&(Ke.src=e?v4(e,re.id):Sj(re.id),A(re.id),I(0)),Ke.play().catch(()=>{R(!1)})}}function sa(re,Ke){const it=q.current;if(it){if(P===re.id){it.currentTime=Ke,I(Ke);return}z.current=Ke,A(re.id),I(0),it.src=e?v4(e,re.id):Sj(re.id),it.load()}}function On(){var re;me&&(P===me.id&&((re=q.current)==null||re.pause(),A(null)),Hn.mutate(me.id,{onSuccess:()=>ke(null)}))}function Sa(re){ke(re)}function ki(re){if(p)return!1;const Ke=re.owner_user_id??e??c;return c!=null&&String(Ke)===String(c)||!!u}function Wa(re){return ki(re)}function ja(re){He(re),F(re.name),Z(re.copyright??""),X(re.license??""),le(!!re.global_asset),re.tag?eh.includes(re.tag)?(O(re.tag),K("")):(O("Other"),K(re.tag)):(O(""),K(""))}function Ji(){F(""),O(""),K(""),Z(""),X(""),le(!1),He(null)}function Ca(){if(!xe)return;const re=M.trim();if(!re)return;const Ke=B==="Other"?$.trim()||"":B.trim(),it=Y.trim()||null,st=H.trim()||null,St=u?te:void 0;ia.mutate({id:xe.id,name:re,tag:Ke,copyright:it,license:st,global_asset:St})}function Ko(re){var it;const Ke=(it=re.target.files)==null?void 0:it[0];Ke&&(we(Ke),ge(Ke.name.replace(/\.[^.]+$/,"")),Ae(""))}function ka(){if(!J)return;const re=Ne.trim()||J.name.replace(/\.[^.]+$/,""),Ke=Pe==="Other"?Qe.trim()||null:Pe||null,it=Ze.trim()||null,st=We.trim()||null;Re.mutate({file:J,name:re,tag:Ke,copyright:it,license:st})}function fe(){we(null),ge(""),Ae(""),Me(""),be(""),Tr(""),mt.current&&(mt.current.value="")}return i.jsxs("div",{className:Ce.page,children:[i.jsx("header",{className:Ce.header,children:i.jsxs("div",{children:[i.jsx("h1",{className:Ce.title,children:t?`Library (${(n==null?void 0:n.email)??e})`:"Library"}),i.jsx("p",{className:Ce.subtitle,children:"Explore, search, listen, and manage your reusable audio clips."})]})}),!t&&!p&&i.jsxs("section",{className:Ce.uploadCard,children:[i.jsxs("div",{className:Ce.uploadHeader,children:[i.jsx("h2",{className:Ce.uploadTitle,children:"Add to Library"}),i.jsx("p",{className:Ce.uploadSub,children:"Upload a reusable clip you can insert into any episode."})]}),J?i.jsxs("div",{className:Ce.uploadForm,children:[i.jsx("p",{className:Ce.uploadPendingFile,children:J.name}),i.jsxs("label",{className:Ce.uploadLabel,children:["Name",i.jsx("input",{type:"text",className:Ce.input,placeholder:"e.g. Mid-roll ad, Show intro",value:Ne,onChange:re=>ge(re.target.value)})]}),i.jsxs("label",{className:Ce.uploadLabel,children:["Tag",i.jsxs("select",{className:Ce.select,value:Pe,onChange:re=>Ae(re.target.value),children:[i.jsx("option",{value:"",children:"None"}),eh.map(re=>i.jsx("option",{value:re,children:re},re))]})]}),Pe==="Other"&&i.jsxs("label",{className:Ce.uploadLabel,children:["Custom tag",i.jsx("input",{type:"text",className:Ce.input,placeholder:"e.g. Promo, Transition",value:Qe,onChange:re=>Tr(re.target.value)})]}),i.jsxs("label",{className:Ce.uploadLabel,children:[i.jsxs("span",{children:["Copyright ",i.jsx("span",{className:Ce.optional,children:"(optional)"})]}),i.jsx("input",{type:"text",className:Ce.input,placeholder:"e.g. 2026 Acme Media",value:Ze,onChange:re=>Me(re.target.value)})]}),i.jsxs("label",{className:Ce.uploadLabel,children:[i.jsxs("span",{children:["License ",i.jsx("span",{className:Ce.optional,children:"(optional)"})]}),i.jsx("input",{type:"text",className:Ce.input,placeholder:"e.g. CC BY 4.0, All rights reserved",value:We,onChange:re=>be(re.target.value)})]}),i.jsxs("div",{className:Ce.uploadActions,children:[i.jsx("button",{type:"button",className:Ce.uploadCancel,onClick:fe,"aria-label":"Cancel adding to library",children:"Cancel"}),i.jsx("button",{type:"button",className:Ce.uploadSubmit,onClick:ka,disabled:Re.isPending,"aria-label":"Add file to library",children:Re.isPending?"Adding...":"Add to Library"})]})]}):i.jsx(i.Fragment,{children:i.jsxs("div",{className:Ce.uploadChooseRow,children:[i.jsxs("button",{type:"button",className:Ce.uploadChooseBtn,onClick:()=>{var re;return(re=mt.current)==null?void 0:re.click()},"aria-label":"Choose audio file to add to library",children:[i.jsx(Zv,{size:20,strokeWidth:2,"aria-hidden":!0}),"Upload Audio"]}),u&&(zr?i.jsxs("div",{className:Ce.pixabayImportForm,children:[i.jsx("input",{type:"url",inputMode:"url",autoComplete:"url",className:Ce.input,placeholder:"https://pixabay.com/sound-effects/...",value:Gt,onChange:re=>cn(re.target.value),"aria-label":"Pixabay sound effect URL"}),i.jsxs("div",{className:Ce.pixabayImportActions,children:[i.jsxs("button",{type:"button",className:Ce.uploadCancel,onClick:()=>{Rn(!1),cn("")},"aria-label":"Cancel Pixabay import",children:[i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":!0}),"Cancel"]}),i.jsxs("button",{type:"button",className:Ce.uploadSubmit,onClick:()=>ut.mutate(Gt.trim()),disabled:!Gt.trim()||ut.isPending,"aria-label":"Import from Pixabay",children:[i.jsx(Vv,{size:18,strokeWidth:2,"aria-hidden":!0}),ut.isPending?"Importing...":"Import"]})]})]}):i.jsxs("button",{type:"button",className:Ce.uploadChooseBtn,onClick:()=>Rn(!0),"aria-label":"Import from Pixabay",children:[i.jsx(Vv,{size:20,strokeWidth:2,"aria-hidden":!0}),"Import from Pixabay"]}))]})}),i.jsx("input",{ref:mt,type:"file",accept:"audio/mpeg,audio/mp3,audio/wav,audio/wave,audio/x-wav,audio/mp4,audio/webm,audio/ogg,.mp3,.wav,.m4a,.webm,.ogg",style:{display:"none"},onChange:Ko}),Re.isError&&i.jsx("p",{className:Ce.uploadError,children:(gt=Re.error)==null?void 0:gt.message}),ut.isError&&i.jsx("p",{className:Ce.uploadError,children:(Oe=ut.error)==null?void 0:Oe.message})]}),i.jsxs("div",{className:Ce.controls,children:[i.jsx("input",{type:"search",className:Ce.input,placeholder:"Search by name...",value:_,onChange:re=>{j(re.target.value),N(1)},"aria-label":"Search library"}),i.jsxs("select",{className:Ce.select,value:w,onChange:re=>{y(re.target.value),N(1)},"aria-label":"Filter by tag",children:[i.jsx("option",{value:"",children:"All tags"}),jt.map(re=>i.jsx("option",{value:re,children:re},re))]}),i.jsxs("div",{className:Ce.sortToggle,role:"group","aria-label":"Sort order",children:[i.jsxs("button",{type:"button",className:x?Ce.sortBtnActive:Ce.sortBtn,"aria-label":"Sort newest first",onClick:()=>{S(!0),N(1)},children:[i.jsx(Yd,{size:16,strokeWidth:2,"aria-hidden":!0}),"Newest"]}),i.jsxs("button",{type:"button",className:x?Ce.sortBtn:Ce.sortBtnActive,"aria-label":"Sort oldest first",onClick:()=>{S(!1),N(1)},children:[i.jsx(Qd,{size:16,strokeWidth:2,"aria-hidden":!0}),"Oldest"]})]})]}),f&&i.jsx("div",{className:Ce.stateCard,children:i.jsx("p",{className:Ce.stateText,children:"Loading library..."})}),m&&i.jsx(tf,{title:"Failed to load library"}),!f&&!m&&b.length===0&&i.jsx("div",{className:Ce.stateCard,children:i.jsx("p",{className:Ce.stateText,children:"Your library is empty. Add clips from the episode editor."})}),!f&&!m&&b.length>0&&Lt.length===0&&i.jsx("div",{className:Ce.stateCard,children:i.jsx("p",{className:Ce.stateText,children:"No files match your filters."})}),!f&&!m&&Lt.length>0&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:Ce.metaRow,children:i.jsxs("span",{className:Ce.metaText,children:["Showing ",rr,"-",xr," of ",Lt.length," files"]})}),i.jsx("div",{className:Ce.list,children:wt.map(re=>{var it,st,St,pe;const Ke=P===re.id&&k;return i.jsxs("div",{className:Ce.item,children:[i.jsxs("div",{className:Ce.itemMain,children:[i.jsx("div",{className:Ce.itemTitleRow,children:i.jsx("span",{className:Ce.itemName,children:re.name})}),(((it=re.copyright)==null?void 0:it.trim())||((st=re.license)==null?void 0:st.trim()))&&i.jsx("p",{className:Ce.itemCopyrightLicense,children:[(St=re.copyright)==null?void 0:St.trim(),(pe=re.license)==null?void 0:pe.trim()].filter(Boolean).join("  ")}),i.jsxs("div",{className:Ce.itemMeta,children:[(re.tag||re.global_asset)&&i.jsxs("span",{className:Ce.itemMetaLabels,children:[re.tag&&i.jsx("span",{className:Ce.itemTag,children:re.tag}),!!re.global_asset&&i.jsx("span",{className:Ce.itemTag,title:"Visible to everyone in the library",children:"Global"})]}),i.jsxs("span",{className:Ce.itemMetaRight,children:[i.jsx("span",{children:u6e(re.duration_sec)}),i.jsx("span",{className:Ce.itemMetaDot,"aria-hidden":!0}),i.jsx("span",{children:FSe(re.created_at)})]})]})]}),i.jsxs("div",{className:Ce.itemActions,children:[ki(re)&&i.jsxs("button",{type:"button",className:Ce.editBtn,onClick:()=>ja(re),"aria-label":`Edit ${re.name}`,children:[i.jsx(JM,{size:16,strokeWidth:2}),"Edit"]}),Wa(re)&&i.jsx("button",{type:"button",className:Ce.deleteBtn,onClick:()=>Sa(re),disabled:Hn.isPending,"aria-label":`Delete ${re.name}`,children:i.jsx(Wl,{size:16,strokeWidth:2})})]}),i.jsx(c6e,{asset:re,waveformUrl:e?zNe(e,re.id):BNe(re.id),currentTime:P===re.id?D:0,isPlaying:Ke,onSeek:sa,onPlayPause:()=>un(re)})]},re.id)})}),xt>1&&i.jsxs("div",{className:Ce.pagination,children:[i.jsxs("span",{className:Ce.paginationLabel,children:["Page ",ot," of ",xt]}),i.jsxs("div",{className:Ce.paginationBtns,children:[i.jsx("button",{type:"button",className:Ce.pageBtn,onClick:()=>N(re=>Math.max(1,re-1)),disabled:ot<=1,"aria-label":"Previous page of library",children:""}),i.jsx("button",{type:"button",className:Ce.pageBtn,onClick:()=>N(re=>Math.min(xt,re+1)),disabled:ot>=xt,"aria-label":"Next page of library",children:""})]})]})]}),i.jsx(cr,{open:!!me,onOpenChange:re=>!re&&ke(null),children:i.jsxs(mr,{children:[i.jsx(ur,{className:Ce.dialogOverlay}),i.jsxs(dr,{className:Ce.dialogContent,children:[i.jsxs("div",{className:Ce.dialogHeaderRow,children:[i.jsx(fr,{className:Ce.dialogTitle,children:"Delete library item?"}),i.jsx(dt,{asChild:!0,children:i.jsx("button",{type:"button",className:Ce.dialogClose,"aria-label":"Close",children:i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":"true"})})})]}),i.jsx(kr,{className:Ce.dialogDescription,children:me?`This will permanently delete "${me.name}".`:"This will permanently delete this item."}),i.jsxs("div",{className:Ce.dialogActions,children:[i.jsx(dt,{asChild:!0,children:i.jsx("button",{type:"button",className:Ce.cancel,"aria-label":"Cancel deleting library item",children:"Cancel"})}),i.jsx("button",{type:"button",className:Ce.dialogConfirmRemove,onClick:On,disabled:Hn.isPending,"aria-label":"Confirm delete library item",children:Hn.isPending?"Deleting...":"Delete"})]})]})]})}),i.jsx(cr,{open:!!xe,onOpenChange:re=>!re&&Ji(),children:i.jsxs(mr,{children:[i.jsx(ur,{className:Ce.dialogOverlay}),i.jsxs(dr,{className:Ce.dialogContent,children:[i.jsxs("div",{className:Ce.dialogHeaderRow,children:[i.jsx(fr,{className:Ce.dialogTitle,children:"Edit library item"}),i.jsx(dt,{asChild:!0,children:i.jsx("button",{type:"button",className:Ce.dialogClose,"aria-label":"Close",children:i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":"true"})})})]}),i.jsx(kr,{className:Ce.dialogDescription,children:"Update the name and tag for this library item."}),i.jsxs("div",{className:Ce.dialogForm,children:[i.jsxs("label",{className:Ce.dialogLabel,children:["Name",i.jsx("input",{type:"text",className:Ce.input,value:M,onChange:re=>F(re.target.value)})]}),i.jsxs("label",{className:Ce.dialogLabel,children:["Tag",i.jsxs("select",{className:Ce.select,value:B,onChange:re=>O(re.target.value),children:[i.jsx("option",{value:"",children:"None"}),eh.map(re=>i.jsx("option",{value:re,children:re},re))]})]}),B==="Other"&&i.jsxs("label",{className:Ce.dialogLabel,children:["Custom tag",i.jsx("input",{type:"text",className:Ce.input,placeholder:"e.g. Promo, Transition",value:$,onChange:re=>K(re.target.value)})]}),i.jsxs("label",{className:Ce.dialogLabel,children:[i.jsxs("span",{children:["Copyright ",i.jsx("span",{className:Ce.optional,children:"(optional)"})]}),i.jsx("input",{type:"text",className:Ce.input,placeholder:"e.g. 2026 Acme Media",value:Y,onChange:re=>Z(re.target.value)})]}),i.jsxs("label",{className:Ce.dialogLabel,children:[i.jsxs("span",{children:["License ",i.jsx("span",{className:Ce.optional,children:"(optional)"})]}),i.jsx("input",{type:"text",className:Ce.input,placeholder:"e.g. CC BY 4.0, All rights reserved",value:H,onChange:re=>X(re.target.value)})]}),u&&i.jsxs("label",{className:"toggle",style:{marginTop:"0.5rem"},children:[i.jsx("input",{type:"checkbox",checked:te,onChange:re=>le(re.target.checked),"aria-label":"Global Asset"}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Global Asset"})]})]}),i.jsxs("div",{className:Ce.dialogActions,children:[i.jsx(dt,{asChild:!0,children:i.jsx("button",{type:"button",className:Ce.cancel,"aria-label":"Cancel editing library item",children:"Cancel"})}),i.jsx("button",{type:"button",className:Ce.dialogConfirm,onClick:Ca,disabled:ia.isPending||M.trim()==="","aria-label":"Save library item",children:ia.isPending?"Saving...":"Save"})]})]})]})})]})}const jj="harborfm_consent";function gM(){if(typeof window>"u")return null;try{const e=localStorage.getItem(jj);return e==="accepted"||e==="rejected"?e:null}catch{return null}}function Yw(){return typeof navigator>"u"?!1:navigator.globalPrivacyControl===!0}function d6e(){const e=typeof window<"u"?window.location.host:"",{data:t}=De({queryKey:["publicConfig",e],queryFn:uu,retry:!1,staleTime:1e4}),[r,n]=v.useState(()=>{if(Yw())return!1;const p=gM();return p==="accepted"?!0:p==="rejected"?!1:null});v.useEffect(()=>{const p=gM();p==="accepted"?n(!0):(p==="rejected"||Yw())&&n(!1)},[]);const a=v.useCallback(()=>{try{localStorage.setItem(jj,"accepted"),n(!0)}catch{n(!0)}},[]),o=v.useCallback(()=>{try{localStorage.setItem(jj,"rejected"),n(!1)}catch{n(!1)}},[]),c=!!(t!=null&&t.gdpr_consent_banner_enabled)&&r===null&&!Yw();return{consentGiven:r,showBanner:c,accept:a,reject:o}}const f6e="_banner_7tftm_1",p6e="_inner_7tftm_16",h6e="_text_7tftm_33",m6e="_link_7tftm_40",g6e="_actions_7tftm_50",v6e="_accept_7tftm_64",y6e="_reject_7tftm_65",Cc={banner:f6e,inner:p6e,text:h6e,link:m6e,actions:g6e,accept:v6e,reject:y6e};function b6e(){const{showBanner:e,accept:t,reject:r}=d6e();return e?i.jsx("div",{className:Cc.banner,role:"dialog","aria-label":"Cookie consent","aria-describedby":"consent-description",children:i.jsxs("div",{className:Cc.inner,children:[i.jsxs("p",{id:"consent-description",className:Cc.text,children:["We use cookies and similar technologies for analytics and to improve the site. You can accept or reject non-essential cookies. See our"," ",i.jsx(Xe,{to:"/privacy",className:Cc.link,children:"Privacy Policy"})," ","for details."]}),i.jsxs("div",{className:Cc.actions,children:[i.jsx("button",{type:"button",className:Cc.reject,onClick:r,"aria-label":"Reject non-essential cookies",children:"Reject"}),i.jsx("button",{type:"button",className:Cc.accept,onClick:t,"aria-label":"Accept cookies",children:"Accept"})]})]})}):null}function _6e(){const{pathname:e}=Fa();return v.useEffect(()=>{const t=requestAnimationFrame(()=>{requestAnimationFrame(()=>{window.scrollTo(0,0),document.documentElement.scrollTop=0,document.documentElement.scrollLeft=0,document.body.scrollTop=0,document.body.scrollLeft=0})});return()=>cancelAnimationFrame(t)},[e]),null}function jv({children:e}){const{user:t}=As(),{data:r,isLoading:n}=De({queryKey:["me"],queryFn:Si,retry:!1,staleTime:300*1e3,enabled:!t}),a=t??(r==null?void 0:r.user);return n?i.jsxs("div",{className:"app-loading",children:[i.jsx("span",{className:"app-loading__dot"}),i.jsx("span",{className:"app-loading__dot"}),i.jsx("span",{className:"app-loading__dot"})]}):(a==null?void 0:a.role)!=="admin"?i.jsx(Hi,{to:"/",replace:!0}):i.jsx(i.Fragment,{children:e})}function Qw({children:e}){const{user:t}=As(),{data:r,isLoading:n}=De({queryKey:["me"],queryFn:Si,retry:!1,staleTime:300*1e3,enabled:!t});return t||r!=null&&r.user?i.jsx(Hi,{to:"/",replace:!0}):n?i.jsxs("div",{className:"app-loading",children:[i.jsx("span",{className:"app-loading__dot"}),i.jsx("span",{className:"app-loading__dot"}),i.jsx("span",{className:"app-loading__dot"})]}):i.jsx(i.Fragment,{children:e})}function x6e({children:e}){const{user:t,setUser:r}=As(),{data:n,isLoading:a,isError:o}=De({queryKey:["me"],queryFn:Si,retry:!1,staleTime:300*1e3});return v.useEffect(()=>{n!=null&&n.user&&r(n.user),o&&!t&&r(null)},[n,o,r,t]),a?i.jsxs("div",{className:"app-loading",children:[i.jsx("span",{className:"app-loading__dot"}),i.jsx("span",{className:"app-loading__dot"}),i.jsx("span",{className:"app-loading__dot"})]}):!t&&o?i.jsx(Hi,{to:"/login",replace:!0}):i.jsx(i.Fragment,{children:e})}function vd({children:e}){const t=Fa(),{data:r,isLoading:n,isError:a,error:o,refetch:u}=De({queryKey:["setupStatus"],queryFn:cu,retry:!1,staleTime:1e4});if(n)return i.jsxs("div",{className:"app-loading",children:[i.jsx("span",{className:"app-loading__dot"}),i.jsx("span",{className:"app-loading__dot"}),i.jsx("span",{className:"app-loading__dot"})]});if(a){const c=o instanceof Error?o.message:"Failed to reach server";return i.jsx(yL,{title:"Server is offline",message:"Could not load setup status. The server may be down or restarting.",details:c,onRetry:()=>{u()}})}return r!=null&&r.setupRequired?i.jsx(Hi,{to:"/setup",replace:!0,state:{from:t.pathname}}):t.pathname==="/register"&&r&&r.registrationEnabled===!1?i.jsx(Hi,{to:"/login",replace:!0}):i.jsx(i.Fragment,{children:e})}function Tc({children:e}){const{data:t,isLoading:r}=De({queryKey:["publicConfig",typeof window<"u"?window.location.host:""],queryFn:uu,retry:!1,staleTime:1e4});return r?i.jsxs("div",{className:"app-loading",children:[i.jsx("span",{className:"app-loading__dot"}),i.jsx("span",{className:"app-loading__dot"}),i.jsx("span",{className:"app-loading__dot"})]}):t&&t.public_feeds_enabled===!1?i.jsx(Hi,{to:"/",replace:!0}):i.jsx(i.Fragment,{children:e})}function w6e(){const e=typeof window<"u"?window.location.host:"",{data:t,isLoading:r,isFetching:n,isFetched:a}=De({queryKey:["publicConfig",e],queryFn:uu,retry:!1,staleTime:0,refetchOnMount:"always"});return!a||n||r?i.jsxs("div",{className:"app-loading",children:[i.jsx("span",{className:"app-loading__dot"}),i.jsx("span",{className:"app-loading__dot"}),i.jsx("span",{className:"app-loading__dot"})]}):t!=null&&t.custom_feed_slug?i.jsx(Tc,{children:i.jsx(G7,{podcastSlugOverride:t.custom_feed_slug})}):i.jsx(vd,{children:i.jsx(x6e,{children:i.jsx(eK,{})})})}function S6e(){const e=typeof window<"u"?window.location.host:"",{episodeSlug:t}=wi(),{data:r,isLoading:n,isFetching:a,isFetched:o}=De({queryKey:["publicConfig",e],queryFn:uu,retry:!1,staleTime:0,refetchOnMount:"always"});return!o||a||n?i.jsxs("div",{className:"app-loading",children:[i.jsx("span",{className:"app-loading__dot"}),i.jsx("span",{className:"app-loading__dot"}),i.jsx("span",{className:"app-loading__dot"})]}):r!=null&&r.custom_feed_slug&&t?i.jsx(V7,{podcastSlugOverride:r.custom_feed_slug,episodeSlugOverride:t}):i.jsx(Hi,{to:"/",replace:!0})}function j6e(){return i.jsxs(TH,{children:[i.jsx(_6e,{}),i.jsxs(a3e,{children:[i.jsx(b6e,{}),i.jsxs(aH,{children:[i.jsx(qt,{path:"/setup",element:i.jsx(eG,{})}),i.jsx(qt,{path:"/login",element:i.jsx(vd,{children:i.jsx(Qw,{children:i.jsx(XK,{})})})}),i.jsx(qt,{path:"/register",element:i.jsx(vd,{children:i.jsx(Qw,{children:i.jsx(ZK,{})})})}),i.jsx(qt,{path:"/reset-password",element:i.jsx(vd,{children:i.jsx(Qw,{children:i.jsx(tG,{})})})}),i.jsx(qt,{path:"/verify-email",element:i.jsx(vd,{children:i.jsx(rG,{})})}),i.jsx(qt,{path:"/privacy",element:i.jsx(cV,{})}),i.jsx(qt,{path:"/terms",element:i.jsx(wV,{})}),i.jsx(qt,{path:"/contact",element:i.jsx(vd,{children:i.jsx(jV,{})})}),i.jsx(qt,{path:"/feed",element:i.jsx(Tc,{children:i.jsx(m4e,{})})}),i.jsx(qt,{path:"/feed/:podcastSlug",element:i.jsx(Tc,{children:i.jsx(G7,{})})}),i.jsx(qt,{path:"/feed/:podcastSlug/:episodeSlug",element:i.jsx(Tc,{children:i.jsx(V7,{})})}),i.jsx(qt,{path:"/embed/:podcastSlug/:episodeSlug",element:i.jsx(Tc,{children:i.jsx(hM,{})})}),i.jsx(qt,{path:"/embed/:episodeSlug",element:i.jsx(Tc,{children:i.jsx(hM,{})})}),i.jsx(qt,{path:"/call/join/:token",element:i.jsx(QMe,{})}),i.jsxs(qt,{path:"/",element:i.jsx(w6e,{}),children:[i.jsx(qt,{index:!0,element:i.jsx(iA,{})}),i.jsx(qt,{path:"podcasts/new",element:i.jsx(Wee,{})}),i.jsx(qt,{path:"podcasts/:id",element:i.jsx(wae,{})}),i.jsx(qt,{path:"podcasts/:id/analytics",element:i.jsx(Fwe,{})}),i.jsx(qt,{path:"podcasts/:id/episodes",element:i.jsx(xSe,{})}),i.jsx(qt,{path:"podcasts/:id/episodes/new",element:i.jsx(wSe,{})}),i.jsx(qt,{path:"episodes/:id",element:i.jsx(xTe,{})}),i.jsx(qt,{path:"library",element:i.jsx(mM,{})}),i.jsx(qt,{path:"library/:userId",element:i.jsx(jv,{children:i.jsx(mM,{})})}),i.jsx(qt,{path:"dashboard/:userId",element:i.jsx(jv,{children:i.jsx(iA,{})})}),i.jsx(qt,{path:"profile",element:i.jsx(CAe,{})}),i.jsx(qt,{path:"users",element:i.jsx(jv,{children:i.jsx(SRe,{})})}),i.jsx(qt,{path:"messages",element:i.jsx(eOe,{})}),i.jsx(qt,{path:"settings",element:i.jsx(jv,{children:i.jsx(ZPe,{})})})]}),i.jsx(qt,{path:"/:episodeSlug",element:i.jsx(Tc,{children:i.jsx(S6e,{})})}),i.jsx(qt,{path:"*",element:i.jsx(Hi,{to:"/",replace:!0})})]})]})]})}const C6e=new zz({defaultOptions:{queries:{staleTime:3e4,retry:!1,retryOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1}}});mz.createRoot(document.getElementById("root")).render(i.jsx(v.StrictMode,{children:i.jsx(aU,{children:i.jsx(Fz,{client:C6e,children:i.jsx(j6e,{})})})}));"serviceWorker"in navigator&&(location.protocol==="https:"||location.hostname==="localhost")&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").catch(()=>{})});
