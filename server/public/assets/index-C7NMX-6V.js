var tz=Object.defineProperty;var nP=e=>{throw TypeError(e)};var rz=(e,t,r)=>t in e?tz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Y=(e,t,r)=>rz(e,typeof t!="symbol"?t+"":t,r),C1=(e,t,r)=>t.has(e)||nP("Cannot "+r);var G=(e,t,r)=>(C1(e,t,"read from private field"),r?r.call(e):t.get(e)),De=(e,t,r)=>t.has(e)?nP("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ke=(e,t,r,n)=>(C1(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),vt=(e,t,r)=>(C1(e,t,"access private method"),r);var Ig=(e,t,r,n)=>({set _(a){ke(e,t,a,r)},get _(){return G(e,t,n)}});function nz(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(n,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();function Ts(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var k1={exports:{}},sp={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aP;function az(){if(aP)return sp;aP=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var c in a)c!=="key"&&(o[c]=a[c])}else o=a;return a=o.ref,{$$typeof:e,type:n,key:u,ref:a!==void 0?a:null,props:o}}return sp.Fragment=t,sp.jsx=r,sp.jsxs=r,sp}var iP;function iz(){return iP||(iP=1,k1.exports=az()),k1.exports}var i=iz(),N1={exports:{}},st={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sP;function sz(){if(sP)return st;sP=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),b=Symbol.iterator;function _(U){return U===null||typeof U!="object"?null:(U=b&&U[b]||U["@@iterator"],typeof U=="function"?U:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,y={};function x(U,X,ee){this.props=U,this.context=X,this.refs=y,this.updater=ee||j}x.prototype.isReactComponent={},x.prototype.setState=function(U,X){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,X,"setState")},x.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function S(){}S.prototype=x.prototype;function T(U,X,ee){this.props=U,this.context=X,this.refs=y,this.updater=ee||j}var N=T.prototype=new S;N.constructor=T,w(N,x.prototype),N.isPureReactComponent=!0;var A=Array.isArray;function P(){}var k={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function D(U,X,ee){var te=ee.ref;return{$$typeof:e,type:U,key:X,ref:te!==void 0?te:null,props:ee}}function I(U,X){return D(U.type,X,U.props)}function q(U){return typeof U=="object"&&U!==null&&U.$$typeof===e}function z(U){var X={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ee){return X[ee]})}var M=/\/+/g;function F(U,X){return typeof U=="object"&&U!==null&&U.key!=null?z(""+U.key):X.toString(36)}function B(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(P,P):(U.status="pending",U.then(function(X){U.status==="pending"&&(U.status="fulfilled",U.value=X)},function(X){U.status==="pending"&&(U.status="rejected",U.reason=X)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function O(U,X,ee,te,me){var Ce=typeof U;(Ce==="undefined"||Ce==="boolean")&&(U=null);var xe=!1;if(U===null)xe=!0;else switch(Ce){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(U.$$typeof){case e:case t:xe=!0;break;case f:return xe=U._init,O(xe(U._payload),X,ee,te,me)}}if(xe)return me=me(U),xe=te===""?"."+F(U,0):te,A(me)?(ee="",xe!=null&&(ee=xe.replace(M,"$&/")+"/"),O(me,X,ee,"",function(Pe){return Pe})):me!=null&&(q(me)&&(me=I(me,ee+(me.key==null||U&&U.key===me.key?"":(""+me.key).replace(M,"$&/")+"/")+xe)),X.push(me)),1;xe=0;var He=te===""?".":te+":";if(A(U))for(var re=0;re<U.length;re++)te=U[re],Ce=He+F(te,re),xe+=O(te,X,ee,Ce,me);else if(re=_(U),typeof re=="function")for(U=re.call(U),re=0;!(te=U.next()).done;)te=te.value,Ce=He+F(te,re++),xe+=O(te,X,ee,Ce,me);else if(Ce==="object"){if(typeof U.then=="function")return O(B(U),X,ee,te,me);throw X=String(U),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return xe}function $(U,X,ee){if(U==null)return U;var te=[],me=0;return O(U,te,"","",function(Ce){return X.call(ee,Ce,me++)}),te}function K(U){if(U._status===-1){var X=U._result;X=X(),X.then(function(ee){(U._status===0||U._status===-1)&&(U._status=1,U._result=ee)},function(ee){(U._status===0||U._status===-1)&&(U._status=2,U._result=ee)}),U._status===-1&&(U._status=0,U._result=X)}if(U._status===1)return U._result.default;throw U._result}var V=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Q={map:$,forEach:function(U,X,ee){$(U,function(){X.apply(this,arguments)},ee)},count:function(U){var X=0;return $(U,function(){X++}),X},toArray:function(U){return $(U,function(X){return X})||[]},only:function(U){if(!q(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return st.Activity=m,st.Children=Q,st.Component=x,st.Fragment=r,st.Profiler=a,st.PureComponent=T,st.StrictMode=n,st.Suspense=p,st.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,st.__COMPILER_RUNTIME={__proto__:null,c:function(U){return k.H.useMemoCache(U)}},st.cache=function(U){return function(){return U.apply(null,arguments)}},st.cacheSignal=function(){return null},st.cloneElement=function(U,X,ee){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var te=w({},U.props),me=U.key;if(X!=null)for(Ce in X.key!==void 0&&(me=""+X.key),X)!R.call(X,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&X.ref===void 0||(te[Ce]=X[Ce]);var Ce=arguments.length-2;if(Ce===1)te.children=ee;else if(1<Ce){for(var xe=Array(Ce),He=0;He<Ce;He++)xe[He]=arguments[He+2];te.children=xe}return D(U.type,me,te)},st.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:o,_context:U},U},st.createElement=function(U,X,ee){var te,me={},Ce=null;if(X!=null)for(te in X.key!==void 0&&(Ce=""+X.key),X)R.call(X,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(me[te]=X[te]);var xe=arguments.length-2;if(xe===1)me.children=ee;else if(1<xe){for(var He=Array(xe),re=0;re<xe;re++)He[re]=arguments[re+2];me.children=He}if(U&&U.defaultProps)for(te in xe=U.defaultProps,xe)me[te]===void 0&&(me[te]=xe[te]);return D(U,Ce,me)},st.createRef=function(){return{current:null}},st.forwardRef=function(U){return{$$typeof:c,render:U}},st.isValidElement=q,st.lazy=function(U){return{$$typeof:f,_payload:{_status:-1,_result:U},_init:K}},st.memo=function(U,X){return{$$typeof:h,type:U,compare:X===void 0?null:X}},st.startTransition=function(U){var X=k.T,ee={};k.T=ee;try{var te=U(),me=k.S;me!==null&&me(ee,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(P,V)}catch(Ce){V(Ce)}finally{X!==null&&ee.types!==null&&(X.types=ee.types),k.T=X}},st.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},st.use=function(U){return k.H.use(U)},st.useActionState=function(U,X,ee){return k.H.useActionState(U,X,ee)},st.useCallback=function(U,X){return k.H.useCallback(U,X)},st.useContext=function(U){return k.H.useContext(U)},st.useDebugValue=function(){},st.useDeferredValue=function(U,X){return k.H.useDeferredValue(U,X)},st.useEffect=function(U,X){return k.H.useEffect(U,X)},st.useEffectEvent=function(U){return k.H.useEffectEvent(U)},st.useId=function(){return k.H.useId()},st.useImperativeHandle=function(U,X,ee){return k.H.useImperativeHandle(U,X,ee)},st.useInsertionEffect=function(U,X){return k.H.useInsertionEffect(U,X)},st.useLayoutEffect=function(U,X){return k.H.useLayoutEffect(U,X)},st.useMemo=function(U,X){return k.H.useMemo(U,X)},st.useOptimistic=function(U,X){return k.H.useOptimistic(U,X)},st.useReducer=function(U,X,ee){return k.H.useReducer(U,X,ee)},st.useRef=function(U){return k.H.useRef(U)},st.useState=function(U){return k.H.useState(U)},st.useSyncExternalStore=function(U,X,ee){return k.H.useSyncExternalStore(U,X,ee)},st.useTransition=function(){return k.H.useTransition()},st.version="19.2.4",st}var oP;function Kd(){return oP||(oP=1,N1.exports=sz()),N1.exports}var v=Kd();const di=Ts(v),xj=nz({__proto__:null,default:di},[v]);var E1={exports:{}},op={},T1={exports:{}},P1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lP;function oz(){return lP||(lP=1,(function(e){function t(O,$){var K=O.length;O.push($);e:for(;0<K;){var V=K-1>>>1,Q=O[V];if(0<a(Q,$))O[V]=$,O[K]=Q,K=V;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var $=O[0],K=O.pop();if(K!==$){O[0]=K;e:for(var V=0,Q=O.length,U=Q>>>1;V<U;){var X=2*(V+1)-1,ee=O[X],te=X+1,me=O[te];if(0>a(ee,K))te<Q&&0>a(me,ee)?(O[V]=me,O[te]=K,V=te):(O[V]=ee,O[X]=K,V=X);else if(te<Q&&0>a(me,K))O[V]=me,O[te]=K,V=te;else break e}}return $}function a(O,$){var K=O.sortIndex-$.sortIndex;return K!==0?K:O.id-$.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var u=Date,c=u.now();e.unstable_now=function(){return u.now()-c}}var p=[],h=[],f=1,m=null,b=3,_=!1,j=!1,w=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function N(O){for(var $=r(h);$!==null;){if($.callback===null)n(h);else if($.startTime<=O)n(h),$.sortIndex=$.expirationTime,t(p,$);else break;$=r(h)}}function A(O){if(w=!1,N(O),!j)if(r(p)!==null)j=!0,P||(P=!0,z());else{var $=r(h);$!==null&&B(A,$.startTime-O)}}var P=!1,k=-1,R=5,D=-1;function I(){return y?!0:!(e.unstable_now()-D<R)}function q(){if(y=!1,P){var O=e.unstable_now();D=O;var $=!0;try{e:{j=!1,w&&(w=!1,S(k),k=-1),_=!0;var K=b;try{t:{for(N(O),m=r(p);m!==null&&!(m.expirationTime>O&&I());){var V=m.callback;if(typeof V=="function"){m.callback=null,b=m.priorityLevel;var Q=V(m.expirationTime<=O);if(O=e.unstable_now(),typeof Q=="function"){m.callback=Q,N(O),$=!0;break t}m===r(p)&&n(p),N(O)}else n(p);m=r(p)}if(m!==null)$=!0;else{var U=r(h);U!==null&&B(A,U.startTime-O),$=!1}}break e}finally{m=null,b=K,_=!1}$=void 0}}finally{$?z():P=!1}}}var z;if(typeof T=="function")z=function(){T(q)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,F=M.port2;M.port1.onmessage=q,z=function(){F.postMessage(null)}}else z=function(){x(q,0)};function B(O,$){k=x(function(){O(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(O){switch(b){case 1:case 2:case 3:var $=3;break;default:$=b}var K=b;b=$;try{return O()}finally{b=K}},e.unstable_requestPaint=function(){y=!0},e.unstable_runWithPriority=function(O,$){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var K=b;b=O;try{return $()}finally{b=K}},e.unstable_scheduleCallback=function(O,$,K){var V=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?V+K:V):K=V,O){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=K+Q,O={id:f++,callback:$,priorityLevel:O,startTime:K,expirationTime:Q,sortIndex:-1},K>V?(O.sortIndex=K,t(h,O),r(p)===null&&O===r(h)&&(w?(S(k),k=-1):w=!0,B(A,K-V))):(O.sortIndex=Q,t(p,O),j||_||(j=!0,P||(P=!0,z()))),O},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(O){var $=b;return function(){var K=b;b=$;try{return O.apply(this,arguments)}finally{b=K}}}})(P1)),P1}var cP;function lz(){return cP||(cP=1,T1.exports=oz()),T1.exports}var A1={exports:{}},An={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uP;function cz(){if(uP)return An;uP=1;var e=Kd();function t(p){var h="https://react.dev/errors/"+p;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)h+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+p+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(p,h,f){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:m==null?null:""+m,children:p,containerInfo:h,implementation:f}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(p,h){if(p==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return An.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,An.createPortal=function(p,h){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return o(p,h,null,f)},An.flushSync=function(p){var h=u.T,f=n.p;try{if(u.T=null,n.p=2,p)return p()}finally{u.T=h,n.p=f,n.d.f()}},An.preconnect=function(p,h){typeof p=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(p,h))},An.prefetchDNS=function(p){typeof p=="string"&&n.d.D(p)},An.preinit=function(p,h){if(typeof p=="string"&&h&&typeof h.as=="string"){var f=h.as,m=c(f,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,_=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;f==="style"?n.d.S(p,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:m,integrity:b,fetchPriority:_}):f==="script"&&n.d.X(p,{crossOrigin:m,integrity:b,fetchPriority:_,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},An.preinitModule=function(p,h){if(typeof p=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var f=c(h.as,h.crossOrigin);n.d.M(p,{crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(p)},An.preload=function(p,h){if(typeof p=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var f=h.as,m=c(f,h.crossOrigin);n.d.L(p,f,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},An.preloadModule=function(p,h){if(typeof p=="string")if(h){var f=c(h.as,h.crossOrigin);n.d.m(p,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(p)},An.requestFormReset=function(p){n.d.r(p)},An.unstable_batchedUpdates=function(p,h){return p(h)},An.useFormState=function(p,h,f){return u.H.useFormState(p,h,f)},An.useFormStatus=function(){return u.H.useHostTransitionStatus()},An.version="19.2.4",An}var dP;function CM(){if(dP)return A1.exports;dP=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),A1.exports=cz(),A1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fP;function uz(){if(fP)return op;fP=1;var e=lz(),t=Kd(),r=CM();function n(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var l=s,d=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(d=l.return),s=l.return;while(s)}return l.tag===3?d:null}function u(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function c(s){if(s.tag===31){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function p(s){if(o(s)!==s)throw Error(n(188))}function h(s){var l=s.alternate;if(!l){if(l=o(s),l===null)throw Error(n(188));return l!==s?null:s}for(var d=s,g=l;;){var C=d.return;if(C===null)break;var E=C.alternate;if(E===null){if(g=C.return,g!==null){d=g;continue}break}if(C.child===E.child){for(E=C.child;E;){if(E===d)return p(C),s;if(E===g)return p(C),l;E=E.sibling}throw Error(n(188))}if(d.return!==g.return)d=C,g=E;else{for(var L=!1,H=C.child;H;){if(H===d){L=!0,d=C,g=E;break}if(H===g){L=!0,g=C,d=E;break}H=H.sibling}if(!L){for(H=E.child;H;){if(H===d){L=!0,d=E,g=C;break}if(H===g){L=!0,g=E,d=C;break}H=H.sibling}if(!L)throw Error(n(189))}}if(d.alternate!==g)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?s:l}function f(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s;for(s=s.child;s!==null;){if(l=f(s),l!==null)return l;s=s.sibling}return null}var m=Object.assign,b=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),S=Symbol.for("react.consumer"),T=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function z(s){return s===null||typeof s!="object"?null:(s=q&&s[q]||s["@@iterator"],typeof s=="function"?s:null)}var M=Symbol.for("react.client.reference");function F(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===M?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case w:return"Fragment";case x:return"Profiler";case y:return"StrictMode";case A:return"Suspense";case P:return"SuspenseList";case D:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case j:return"Portal";case T:return s.displayName||"Context";case S:return(s._context.displayName||"Context")+".Consumer";case N:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case k:return l=s.displayName||null,l!==null?l:F(s.type)||"Memo";case R:l=s._payload,s=s._init;try{return F(s(l))}catch{}}return null}var B=Array.isArray,O=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},V=[],Q=-1;function U(s){return{current:s}}function X(s){0>Q||(s.current=V[Q],V[Q]=null,Q--)}function ee(s,l){Q++,V[Q]=s.current,s.current=l}var te=U(null),me=U(null),Ce=U(null),xe=U(null);function He(s,l){switch(ee(Ce,l),ee(me,s),ee(te,null),l.nodeType){case 9:case 11:s=(s=l.documentElement)&&(s=s.namespaceURI)?kT(s):0;break;default:if(s=l.tagName,l=l.namespaceURI)l=kT(l),s=NT(l,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}X(te),ee(te,s)}function re(){X(te),X(me),X(Ce)}function Pe(s){s.memoizedState!==null&&ee(xe,s);var l=te.current,d=NT(l,s.type);l!==d&&(ee(me,s),ee(te,d))}function Ne(s){me.current===s&&(X(te),X(me)),xe.current===s&&(X(xe),rp._currentValue=K)}var ge,_t;function Ge(s){if(ge===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);ge=l&&l[1]||"",_t=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ge+s+_t}var lt=!1;function at(s,l){if(!s||lt)return"";lt=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(l){var be=function(){throw Error()};if(Object.defineProperty(be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(be,[])}catch(he){var fe=he}Reflect.construct(s,[],be)}else{try{be.call()}catch(he){fe=he}s.call(be.prototype)}}else{try{throw Error()}catch(he){fe=he}(be=s())&&typeof be.catch=="function"&&be.catch(function(){})}}catch(he){if(he&&fe&&typeof he.stack=="string")return[he.stack,fe.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var C=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");C&&C.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=g.DetermineComponentFrameRoot(),L=E[0],H=E[1];if(L&&H){var Z=L.split(`
`),de=H.split(`
`);for(C=g=0;g<Z.length&&!Z[g].includes("DetermineComponentFrameRoot");)g++;for(;C<de.length&&!de[C].includes("DetermineComponentFrameRoot");)C++;if(g===Z.length||C===de.length)for(g=Z.length-1,C=de.length-1;1<=g&&0<=C&&Z[g]!==de[C];)C--;for(;1<=g&&0<=C;g--,C--)if(Z[g]!==de[C]){if(g!==1||C!==1)do if(g--,C--,0>C||Z[g]!==de[C]){var ve=`
`+Z[g].replace(" at new "," at ");return s.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",s.displayName)),ve}while(1<=g&&0<=C);break}}}finally{lt=!1,Error.prepareStackTrace=d}return(d=s?s.displayName||s.name:"")?Ge(d):""}function Ve(s,l){switch(s.tag){case 26:case 27:case 5:return Ge(s.type);case 16:return Ge("Lazy");case 13:return s.child!==l&&l!==null?Ge("Suspense Fallback"):Ge("Suspense");case 19:return Ge("SuspenseList");case 0:case 15:return at(s.type,!1);case 11:return at(s.type.render,!1);case 1:return at(s.type,!0);case 31:return Ge("Activity");default:return""}}function _e(s){try{var l="",d=null;do l+=Ve(s,d),d=s,s=s.return;while(s);return l}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var We=Object.prototype.hasOwnProperty,er=e.unstable_scheduleCallback,ht=e.unstable_cancelCallback,qa=e.unstable_shouldYield,Pn=e.unstable_requestPaint,It=e.unstable_now,Fn=e.unstable_getCurrentPriorityLevel,ra=e.unstable_ImmediatePriority,na=e.unstable_UserBlockingPriority,Ae=e.unstable_NormalPriority,it=e.unstable_LowPriority,nt=e.unstable_IdlePriority,ut=e.log,mt=e.unstable_setDisableYieldValue,Tt=null,Ot=null;function lr(s){if(typeof ut=="function"&&mt(s),Ot&&typeof Ot.setStrictMode=="function")try{Ot.setStrictMode(Tt,s)}catch{}}var tr=Math.clz32?Math.clz32:aa,ln=Math.log,wa=Math.LN2;function aa(s){return s>>>=0,s===0?32:31-(ln(s)/wa|0)|0}var Qi=256,Si=262144,Xi=4194304;function ia(s){var l=s&42;if(l!==0)return l;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function ji(s,l,d){var g=s.pendingLanes;if(g===0)return 0;var C=0,E=s.suspendedLanes,L=s.pingedLanes;s=s.warmLanes;var H=g&134217727;return H!==0?(g=H&~E,g!==0?C=ia(g):(L&=H,L!==0?C=ia(L):d||(d=H&~s,d!==0&&(C=ia(d))))):(H=g&~E,H!==0?C=ia(H):L!==0?C=ia(L):d||(d=g&~s,d!==0&&(C=ia(d)))),C===0?0:l!==0&&l!==C&&(l&E)===0&&(E=C&-C,d=l&-l,E>=d||E===32&&(d&4194048)!==0)?l:C}function sa(s,l){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&l)===0}function Ko(s,l){switch(s){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sa(){var s=Xi;return Xi<<=1,(Xi&62914560)===0&&(Xi=4194304),s}function pe(s){for(var l=[],d=0;31>d;d++)l.push(s);return l}function Se(s,l){s.pendingLanes|=l,l!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function gt(s,l,d,g,C,E){var L=s.pendingLanes;s.pendingLanes=d,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=d,s.entangledLanes&=d,s.errorRecoveryDisabledLanes&=d,s.shellSuspendCounter=0;var H=s.entanglements,Z=s.expirationTimes,de=s.hiddenUpdates;for(d=L&~d;0<d;){var ve=31-tr(d),be=1<<ve;H[ve]=0,Z[ve]=-1;var fe=de[ve];if(fe!==null)for(de[ve]=null,ve=0;ve<fe.length;ve++){var he=fe[ve];he!==null&&(he.lane&=-536870913)}d&=~be}g!==0&&Re(s,g,0),E!==0&&C===0&&s.tag!==0&&(s.suspendedLanes|=E&~(L&~l))}function Re(s,l,d){s.pendingLanes|=l,s.suspendedLanes&=~l;var g=31-tr(l);s.entangledLanes|=l,s.entanglements[g]=s.entanglements[g]|1073741824|d&261930}function ne(s,l){var d=s.entangledLanes|=l;for(s=s.entanglements;d;){var g=31-tr(d),C=1<<g;C&l|s[g]&l&&(s[g]|=l),d&=~C}}function Fe(s,l){var d=l&-l;return d=(d&42)!==0?1:le(d),(d&(s.suspendedLanes|l))!==0?0:d}function le(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Te(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Je(){var s=$.p;return s!==0?s:(s=window.event,s===void 0?32:QT(s.type))}function $t(s,l){var d=$.p;try{return $.p=s,l()}finally{$.p=d}}var St=Math.random().toString(36).slice(2),_r="__reactFiber$"+St,Ur="__reactProps$"+St,Zi="__reactContainer$"+St,Ci="__reactEvents$"+St,mu="__reactListeners$"+St,jm="__reactHandles$"+St,p2="__reactResources$"+St,vf="__reactMarker$"+St;function v_(s){delete s[_r],delete s[Ur],delete s[Ci],delete s[mu],delete s[jm]}function gu(s){var l=s[_r];if(l)return l;for(var d=s.parentNode;d;){if(l=d[Zi]||d[_r]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(s=DT(s);s!==null;){if(d=s[_r])return d;s=DT(s)}return l}s=d,d=s.parentNode}return null}function vu(s){if(s=s[_r]||s[Zi]){var l=s.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return s}return null}function yf(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s.stateNode;throw Error(n(33))}function yu(s){var l=s[p2];return l||(l=s[p2]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function cn(s){s[vf]=!0}var h2=new Set,m2={};function ec(s,l){bu(s,l),bu(s+"Capture",l)}function bu(s,l){for(m2[s]=l,s=0;s<l.length;s++)h2.add(l[s])}var K7=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),g2={},v2={};function G7(s){return We.call(v2,s)?!0:We.call(g2,s)?!1:K7.test(s)?v2[s]=!0:(g2[s]=!0,!1)}function Cm(s,l,d){if(G7(l))if(d===null)s.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":s.removeAttribute(l);return;case"boolean":var g=l.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){s.removeAttribute(l);return}}s.setAttribute(l,""+d)}}function km(s,l,d){if(d===null)s.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttribute(l,""+d)}}function Ds(s,l,d,g){if(g===null)s.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(d);return}s.setAttributeNS(l,d,""+g)}}function Ua(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function y2(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function V7(s,l,d){var g=Object.getOwnPropertyDescriptor(s.constructor.prototype,l);if(!s.hasOwnProperty(l)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var C=g.get,E=g.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return C.call(this)},set:function(L){d=""+L,E.call(this,L)}}),Object.defineProperty(s,l,{enumerable:g.enumerable}),{getValue:function(){return d},setValue:function(L){d=""+L},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function y_(s){if(!s._valueTracker){var l=y2(s)?"checked":"value";s._valueTracker=V7(s,l,""+s[l])}}function b2(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var d=l.getValue(),g="";return s&&(g=y2(s)?s.checked?"true":"false":s.value),s=g,s!==d?(l.setValue(s),!0):!1}function Nm(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Y7=/[\n"\\]/g;function Ha(s){return s.replace(Y7,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function b_(s,l,d,g,C,E,L,H){s.name="",L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?s.type=L:s.removeAttribute("type"),l!=null?L==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+Ua(l)):s.value!==""+Ua(l)&&(s.value=""+Ua(l)):L!=="submit"&&L!=="reset"||s.removeAttribute("value"),l!=null?__(s,L,Ua(l)):d!=null?__(s,L,Ua(d)):g!=null&&s.removeAttribute("value"),C==null&&E!=null&&(s.defaultChecked=!!E),C!=null&&(s.checked=C&&typeof C!="function"&&typeof C!="symbol"),H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?s.name=""+Ua(H):s.removeAttribute("name")}function _2(s,l,d,g,C,E,L,H){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(s.type=E),l!=null||d!=null){if(!(E!=="submit"&&E!=="reset"||l!=null)){y_(s);return}d=d!=null?""+Ua(d):"",l=l!=null?""+Ua(l):d,H||l===s.value||(s.value=l),s.defaultValue=l}g=g??C,g=typeof g!="function"&&typeof g!="symbol"&&!!g,s.checked=H?s.checked:!!g,s.defaultChecked=!!g,L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(s.name=L),y_(s)}function __(s,l,d){l==="number"&&Nm(s.ownerDocument)===s||s.defaultValue===""+d||(s.defaultValue=""+d)}function _u(s,l,d,g){if(s=s.options,l){l={};for(var C=0;C<d.length;C++)l["$"+d[C]]=!0;for(d=0;d<s.length;d++)C=l.hasOwnProperty("$"+s[d].value),s[d].selected!==C&&(s[d].selected=C),C&&g&&(s[d].defaultSelected=!0)}else{for(d=""+Ua(d),l=null,C=0;C<s.length;C++){if(s[C].value===d){s[C].selected=!0,g&&(s[C].defaultSelected=!0);return}l!==null||s[C].disabled||(l=s[C])}l!==null&&(l.selected=!0)}}function x2(s,l,d){if(l!=null&&(l=""+Ua(l),l!==s.value&&(s.value=l),d==null)){s.defaultValue!==l&&(s.defaultValue=l);return}s.defaultValue=d!=null?""+Ua(d):""}function w2(s,l,d,g){if(l==null){if(g!=null){if(d!=null)throw Error(n(92));if(B(g)){if(1<g.length)throw Error(n(93));g=g[0]}d=g}d==null&&(d=""),l=d}d=Ua(l),s.defaultValue=d,g=s.textContent,g===d&&g!==""&&g!==null&&(s.value=g),y_(s)}function xu(s,l){if(l){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=l;return}}s.textContent=l}var Q7=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function S2(s,l,d){var g=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?g?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="":g?s.setProperty(l,d):typeof d!="number"||d===0||Q7.has(l)?l==="float"?s.cssFloat=d:s[l]=(""+d).trim():s[l]=d+"px"}function j2(s,l,d){if(l!=null&&typeof l!="object")throw Error(n(62));if(s=s.style,d!=null){for(var g in d)!d.hasOwnProperty(g)||l!=null&&l.hasOwnProperty(g)||(g.indexOf("--")===0?s.setProperty(g,""):g==="float"?s.cssFloat="":s[g]="");for(var C in l)g=l[C],l.hasOwnProperty(C)&&d[C]!==g&&S2(s,C,g)}else for(var E in l)l.hasOwnProperty(E)&&S2(s,E,l[E])}function x_(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var X7=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Z7=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Em(s){return Z7.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Ms(){}var w_=null;function S_(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var wu=null,Su=null;function C2(s){var l=vu(s);if(l&&(s=l.stateNode)){var d=s[Ur]||null;e:switch(s=l.stateNode,l.type){case"input":if(b_(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Ha(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var g=d[l];if(g!==s&&g.form===s.form){var C=g[Ur]||null;if(!C)throw Error(n(90));b_(g,C.value,C.defaultValue,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name)}}for(l=0;l<d.length;l++)g=d[l],g.form===s.form&&b2(g)}break e;case"textarea":x2(s,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&_u(s,!!d.multiple,l,!1)}}}var j_=!1;function k2(s,l,d){if(j_)return s(l,d);j_=!0;try{var g=s(l);return g}finally{if(j_=!1,(wu!==null||Su!==null)&&(mg(),wu&&(l=wu,s=Su,Su=wu=null,C2(l),s)))for(l=0;l<s.length;l++)C2(s[l])}}function bf(s,l){var d=s.stateNode;if(d===null)return null;var g=d[Ur]||null;if(g===null)return null;d=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(n(231,l,typeof d));return d}var Ls=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),C_=!1;if(Ls)try{var _f={};Object.defineProperty(_f,"passive",{get:function(){C_=!0}}),window.addEventListener("test",_f,_f),window.removeEventListener("test",_f,_f)}catch{C_=!1}var Go=null,k_=null,Tm=null;function N2(){if(Tm)return Tm;var s,l=k_,d=l.length,g,C="value"in Go?Go.value:Go.textContent,E=C.length;for(s=0;s<d&&l[s]===C[s];s++);var L=d-s;for(g=1;g<=L&&l[d-g]===C[E-g];g++);return Tm=C.slice(s,1<g?1-g:void 0)}function Pm(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function Am(){return!0}function E2(){return!1}function oa(s){function l(d,g,C,E,L){this._reactName=d,this._targetInst=C,this.type=g,this.nativeEvent=E,this.target=L,this.currentTarget=null;for(var H in s)s.hasOwnProperty(H)&&(d=s[H],this[H]=d?d(E):E[H]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Am:E2,this.isPropagationStopped=E2,this}return m(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Am)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Am)},persist:function(){},isPersistent:Am}),l}var tc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rm=oa(tc),xf=m({},tc,{view:0,detail:0}),J7=oa(xf),N_,E_,wf,Om=m({},xf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:P_,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==wf&&(wf&&s.type==="mousemove"?(N_=s.screenX-wf.screenX,E_=s.screenY-wf.screenY):E_=N_=0,wf=s),N_)},movementY:function(s){return"movementY"in s?s.movementY:E_}}),T2=oa(Om),e9=m({},Om,{dataTransfer:0}),t9=oa(e9),r9=m({},xf,{relatedTarget:0}),T_=oa(r9),n9=m({},tc,{animationName:0,elapsedTime:0,pseudoElement:0}),a9=oa(n9),i9=m({},tc,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),s9=oa(i9),o9=m({},tc,{data:0}),P2=oa(o9),l9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},c9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},u9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function d9(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=u9[s])?!!l[s]:!1}function P_(){return d9}var f9=m({},xf,{key:function(s){if(s.key){var l=l9[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=Pm(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?c9[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:P_,charCode:function(s){return s.type==="keypress"?Pm(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Pm(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),p9=oa(f9),h9=m({},Om,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),A2=oa(h9),m9=m({},xf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:P_}),g9=oa(m9),v9=m({},tc,{propertyName:0,elapsedTime:0,pseudoElement:0}),y9=oa(v9),b9=m({},Om,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),_9=oa(b9),x9=m({},tc,{newState:0,oldState:0}),w9=oa(x9),S9=[9,13,27,32],A_=Ls&&"CompositionEvent"in window,Sf=null;Ls&&"documentMode"in document&&(Sf=document.documentMode);var j9=Ls&&"TextEvent"in window&&!Sf,R2=Ls&&(!A_||Sf&&8<Sf&&11>=Sf),O2=" ",D2=!1;function M2(s,l){switch(s){case"keyup":return S9.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function L2(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ju=!1;function C9(s,l){switch(s){case"compositionend":return L2(l);case"keypress":return l.which!==32?null:(D2=!0,O2);case"textInput":return s=l.data,s===O2&&D2?null:s;default:return null}}function k9(s,l){if(ju)return s==="compositionend"||!A_&&M2(s,l)?(s=N2(),Tm=k_=Go=null,ju=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return R2&&l.locale!=="ko"?null:l.data;default:return null}}var N9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function I2(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!N9[s.type]:l==="textarea"}function $2(s,l,d,g){wu?Su?Su.push(g):Su=[g]:wu=g,l=wg(l,"onChange"),0<l.length&&(d=new Rm("onChange","change",null,d,g),s.push({event:d,listeners:l}))}var jf=null,Cf=null;function E9(s){_T(s,0)}function Dm(s){var l=yf(s);if(b2(l))return s}function B2(s,l){if(s==="change")return l}var z2=!1;if(Ls){var R_;if(Ls){var O_="oninput"in document;if(!O_){var F2=document.createElement("div");F2.setAttribute("oninput","return;"),O_=typeof F2.oninput=="function"}R_=O_}else R_=!1;z2=R_&&(!document.documentMode||9<document.documentMode)}function q2(){jf&&(jf.detachEvent("onpropertychange",U2),Cf=jf=null)}function U2(s){if(s.propertyName==="value"&&Dm(Cf)){var l=[];$2(l,Cf,s,S_(s)),k2(E9,l)}}function T9(s,l,d){s==="focusin"?(q2(),jf=l,Cf=d,jf.attachEvent("onpropertychange",U2)):s==="focusout"&&q2()}function P9(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Dm(Cf)}function A9(s,l){if(s==="click")return Dm(l)}function R9(s,l){if(s==="input"||s==="change")return Dm(l)}function O9(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var ja=typeof Object.is=="function"?Object.is:O9;function kf(s,l){if(ja(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var d=Object.keys(s),g=Object.keys(l);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var C=d[g];if(!We.call(l,C)||!ja(s[C],l[C]))return!1}return!0}function H2(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function W2(s,l){var d=H2(s);s=0;for(var g;d;){if(d.nodeType===3){if(g=s+d.textContent.length,s<=l&&g>=l)return{node:d,offset:l-s};s=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=H2(d)}}function K2(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?K2(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function G2(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var l=Nm(s.document);l instanceof s.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)s=l.contentWindow;else break;l=Nm(s.document)}return l}function D_(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}var D9=Ls&&"documentMode"in document&&11>=document.documentMode,Cu=null,M_=null,Nf=null,L_=!1;function V2(s,l,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;L_||Cu==null||Cu!==Nm(g)||(g=Cu,"selectionStart"in g&&D_(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Nf&&kf(Nf,g)||(Nf=g,g=wg(M_,"onSelect"),0<g.length&&(l=new Rm("onSelect","select",null,l,d),s.push({event:l,listeners:g}),l.target=Cu)))}function rc(s,l){var d={};return d[s.toLowerCase()]=l.toLowerCase(),d["Webkit"+s]="webkit"+l,d["Moz"+s]="moz"+l,d}var ku={animationend:rc("Animation","AnimationEnd"),animationiteration:rc("Animation","AnimationIteration"),animationstart:rc("Animation","AnimationStart"),transitionrun:rc("Transition","TransitionRun"),transitionstart:rc("Transition","TransitionStart"),transitioncancel:rc("Transition","TransitionCancel"),transitionend:rc("Transition","TransitionEnd")},I_={},Y2={};Ls&&(Y2=document.createElement("div").style,"AnimationEvent"in window||(delete ku.animationend.animation,delete ku.animationiteration.animation,delete ku.animationstart.animation),"TransitionEvent"in window||delete ku.transitionend.transition);function nc(s){if(I_[s])return I_[s];if(!ku[s])return s;var l=ku[s],d;for(d in l)if(l.hasOwnProperty(d)&&d in Y2)return I_[s]=l[d];return s}var Q2=nc("animationend"),X2=nc("animationiteration"),Z2=nc("animationstart"),M9=nc("transitionrun"),L9=nc("transitionstart"),I9=nc("transitioncancel"),J2=nc("transitionend"),eN=new Map,$_="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$_.push("scrollEnd");function ki(s,l){eN.set(s,l),ec(l,[s])}var Mm=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Wa=[],Nu=0,B_=0;function Lm(){for(var s=Nu,l=B_=Nu=0;l<s;){var d=Wa[l];Wa[l++]=null;var g=Wa[l];Wa[l++]=null;var C=Wa[l];Wa[l++]=null;var E=Wa[l];if(Wa[l++]=null,g!==null&&C!==null){var L=g.pending;L===null?C.next=C:(C.next=L.next,L.next=C),g.pending=C}E!==0&&tN(d,C,E)}}function Im(s,l,d,g){Wa[Nu++]=s,Wa[Nu++]=l,Wa[Nu++]=d,Wa[Nu++]=g,B_|=g,s.lanes|=g,s=s.alternate,s!==null&&(s.lanes|=g)}function z_(s,l,d,g){return Im(s,l,d,g),$m(s)}function ac(s,l){return Im(s,null,null,l),$m(s)}function tN(s,l,d){s.lanes|=d;var g=s.alternate;g!==null&&(g.lanes|=d);for(var C=!1,E=s.return;E!==null;)E.childLanes|=d,g=E.alternate,g!==null&&(g.childLanes|=d),E.tag===22&&(s=E.stateNode,s===null||s._visibility&1||(C=!0)),s=E,E=E.return;return s.tag===3?(E=s.stateNode,C&&l!==null&&(C=31-tr(d),s=E.hiddenUpdates,g=s[C],g===null?s[C]=[l]:g.push(l),l.lane=d|536870912),E):null}function $m(s){if(50<Yf)throw Yf=0,Y0=null,Error(n(185));for(var l=s.return;l!==null;)s=l,l=s.return;return s.tag===3?s.stateNode:null}var Eu={};function $9(s,l,d,g){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ca(s,l,d,g){return new $9(s,l,d,g)}function F_(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Is(s,l){var d=s.alternate;return d===null?(d=Ca(s.tag,l,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=l,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&65011712,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,l=s.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d.refCleanup=s.refCleanup,d}function rN(s,l){s.flags&=65011714;var d=s.alternate;return d===null?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=d.childLanes,s.lanes=d.lanes,s.child=d.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=d.memoizedProps,s.memoizedState=d.memoizedState,s.updateQueue=d.updateQueue,s.type=d.type,l=d.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s}function Bm(s,l,d,g,C,E){var L=0;if(g=s,typeof s=="function")F_(s)&&(L=1);else if(typeof s=="string")L=UB(s,d,te.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case D:return s=Ca(31,d,l,C),s.elementType=D,s.lanes=E,s;case w:return ic(d.children,C,E,l);case y:L=8,C|=24;break;case x:return s=Ca(12,d,l,C|2),s.elementType=x,s.lanes=E,s;case A:return s=Ca(13,d,l,C),s.elementType=A,s.lanes=E,s;case P:return s=Ca(19,d,l,C),s.elementType=P,s.lanes=E,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case T:L=10;break e;case S:L=9;break e;case N:L=11;break e;case k:L=14;break e;case R:L=16,g=null;break e}L=29,d=Error(n(130,s===null?"null":typeof s,"")),g=null}return l=Ca(L,d,l,C),l.elementType=s,l.type=g,l.lanes=E,l}function ic(s,l,d,g){return s=Ca(7,s,g,l),s.lanes=d,s}function q_(s,l,d){return s=Ca(6,s,null,l),s.lanes=d,s}function nN(s){var l=Ca(18,null,null,0);return l.stateNode=s,l}function U_(s,l,d){return l=Ca(4,s.children!==null?s.children:[],s.key,l),l.lanes=d,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}var aN=new WeakMap;function Ka(s,l){if(typeof s=="object"&&s!==null){var d=aN.get(s);return d!==void 0?d:(l={value:s,source:l,stack:_e(l)},aN.set(s,l),l)}return{value:s,source:l,stack:_e(l)}}var Tu=[],Pu=0,zm=null,Ef=0,Ga=[],Va=0,Vo=null,Ji=1,es="";function $s(s,l){Tu[Pu++]=Ef,Tu[Pu++]=zm,zm=s,Ef=l}function iN(s,l,d){Ga[Va++]=Ji,Ga[Va++]=es,Ga[Va++]=Vo,Vo=s;var g=Ji;s=es;var C=32-tr(g)-1;g&=~(1<<C),d+=1;var E=32-tr(l)+C;if(30<E){var L=C-C%5;E=(g&(1<<L)-1).toString(32),g>>=L,C-=L,Ji=1<<32-tr(l)+C|d<<C|g,es=E+s}else Ji=1<<E|d<<C|g,es=s}function H_(s){s.return!==null&&($s(s,1),iN(s,1,0))}function W_(s){for(;s===zm;)zm=Tu[--Pu],Tu[Pu]=null,Ef=Tu[--Pu],Tu[Pu]=null;for(;s===Vo;)Vo=Ga[--Va],Ga[Va]=null,es=Ga[--Va],Ga[Va]=null,Ji=Ga[--Va],Ga[Va]=null}function sN(s,l){Ga[Va++]=Ji,Ga[Va++]=es,Ga[Va++]=Vo,Ji=l.id,es=l.overflow,Vo=s}var wn=null,mr=null,Pt=!1,Yo=null,Ya=!1,K_=Error(n(519));function Qo(s){var l=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Tf(Ka(l,s)),K_}function oN(s){var l=s.stateNode,d=s.type,g=s.memoizedProps;switch(l[_r]=s,l[Ur]=g,d){case"dialog":wt("cancel",l),wt("close",l);break;case"iframe":case"object":case"embed":wt("load",l);break;case"video":case"audio":for(d=0;d<Xf.length;d++)wt(Xf[d],l);break;case"source":wt("error",l);break;case"img":case"image":case"link":wt("error",l),wt("load",l);break;case"details":wt("toggle",l);break;case"input":wt("invalid",l),_2(l,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":wt("invalid",l);break;case"textarea":wt("invalid",l),w2(l,g.value,g.defaultValue,g.children)}d=g.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||g.suppressHydrationWarning===!0||jT(l.textContent,d)?(g.popover!=null&&(wt("beforetoggle",l),wt("toggle",l)),g.onScroll!=null&&wt("scroll",l),g.onScrollEnd!=null&&wt("scrollend",l),g.onClick!=null&&(l.onclick=Ms),l=!0):l=!1,l||Qo(s,!0)}function lN(s){for(wn=s.return;wn;)switch(wn.tag){case 5:case 31:case 13:Ya=!1;return;case 27:case 3:Ya=!0;return;default:wn=wn.return}}function Au(s){if(s!==wn)return!1;if(!Pt)return lN(s),Pt=!0,!1;var l=s.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=s.type,d=!(d!=="form"&&d!=="button")||u1(s.type,s.memoizedProps)),d=!d),d&&mr&&Qo(s),lN(s),l===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));mr=OT(s)}else if(l===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));mr=OT(s)}else l===27?(l=mr,ul(s.type)?(s=m1,m1=null,mr=s):mr=l):mr=wn?Xa(s.stateNode.nextSibling):null;return!0}function sc(){mr=wn=null,Pt=!1}function G_(){var s=Yo;return s!==null&&(da===null?da=s:da.push.apply(da,s),Yo=null),s}function Tf(s){Yo===null?Yo=[s]:Yo.push(s)}var V_=U(null),oc=null,Bs=null;function Xo(s,l,d){ee(V_,l._currentValue),l._currentValue=d}function zs(s){s._currentValue=V_.current,X(V_)}function Y_(s,l,d){for(;s!==null;){var g=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),s===d)break;s=s.return}}function Q_(s,l,d,g){var C=s.child;for(C!==null&&(C.return=s);C!==null;){var E=C.dependencies;if(E!==null){var L=C.child;E=E.firstContext;e:for(;E!==null;){var H=E;E=C;for(var Z=0;Z<l.length;Z++)if(H.context===l[Z]){E.lanes|=d,H=E.alternate,H!==null&&(H.lanes|=d),Y_(E.return,d,s),g||(L=null);break e}E=H.next}}else if(C.tag===18){if(L=C.return,L===null)throw Error(n(341));L.lanes|=d,E=L.alternate,E!==null&&(E.lanes|=d),Y_(L,d,s),L=null}else L=C.child;if(L!==null)L.return=C;else for(L=C;L!==null;){if(L===s){L=null;break}if(C=L.sibling,C!==null){C.return=L.return,L=C;break}L=L.return}C=L}}function Ru(s,l,d,g){s=null;for(var C=l,E=!1;C!==null;){if(!E){if((C.flags&524288)!==0)E=!0;else if((C.flags&262144)!==0)break}if(C.tag===10){var L=C.alternate;if(L===null)throw Error(n(387));if(L=L.memoizedProps,L!==null){var H=C.type;ja(C.pendingProps.value,L.value)||(s!==null?s.push(H):s=[H])}}else if(C===xe.current){if(L=C.alternate,L===null)throw Error(n(387));L.memoizedState.memoizedState!==C.memoizedState.memoizedState&&(s!==null?s.push(rp):s=[rp])}C=C.return}s!==null&&Q_(l,s,d,g),l.flags|=262144}function Fm(s){for(s=s.firstContext;s!==null;){if(!ja(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function lc(s){oc=s,Bs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Sn(s){return cN(oc,s)}function qm(s,l){return oc===null&&lc(s),cN(s,l)}function cN(s,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},Bs===null){if(s===null)throw Error(n(308));Bs=l,s.dependencies={lanes:0,firstContext:l},s.flags|=524288}else Bs=Bs.next=l;return d}var B9=typeof AbortController<"u"?AbortController:function(){var s=[],l=this.signal={aborted:!1,addEventListener:function(d,g){s.push(g)}};this.abort=function(){l.aborted=!0,s.forEach(function(d){return d()})}},z9=e.unstable_scheduleCallback,F9=e.unstable_NormalPriority,Hr={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function X_(){return{controller:new B9,data:new Map,refCount:0}}function Pf(s){s.refCount--,s.refCount===0&&z9(F9,function(){s.controller.abort()})}var Af=null,Z_=0,Ou=0,Du=null;function q9(s,l){if(Af===null){var d=Af=[];Z_=0,Ou=t1(),Du={status:"pending",value:void 0,then:function(g){d.push(g)}}}return Z_++,l.then(uN,uN),l}function uN(){if(--Z_===0&&Af!==null){Du!==null&&(Du.status="fulfilled");var s=Af;Af=null,Ou=0,Du=null;for(var l=0;l<s.length;l++)(0,s[l])()}}function U9(s,l){var d=[],g={status:"pending",value:null,reason:null,then:function(C){d.push(C)}};return s.then(function(){g.status="fulfilled",g.value=l;for(var C=0;C<d.length;C++)(0,d[C])(l)},function(C){for(g.status="rejected",g.reason=C,C=0;C<d.length;C++)(0,d[C])(void 0)}),g}var dN=O.S;O.S=function(s,l){VE=It(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&q9(s,l),dN!==null&&dN(s,l)};var cc=U(null);function J_(){var s=cc.current;return s!==null?s:sr.pooledCache}function Um(s,l){l===null?ee(cc,cc.current):ee(cc,l.pool)}function fN(){var s=J_();return s===null?null:{parent:Hr._currentValue,pool:s}}var Mu=Error(n(460)),e0=Error(n(474)),Hm=Error(n(542)),Wm={then:function(){}};function pN(s){return s=s.status,s==="fulfilled"||s==="rejected"}function hN(s,l,d){switch(d=s[d],d===void 0?s.push(l):d!==l&&(l.then(Ms,Ms),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,gN(s),s;default:if(typeof l.status=="string")l.then(Ms,Ms);else{if(s=sr,s!==null&&100<s.shellSuspendCounter)throw Error(n(482));s=l,s.status="pending",s.then(function(g){if(l.status==="pending"){var C=l;C.status="fulfilled",C.value=g}},function(g){if(l.status==="pending"){var C=l;C.status="rejected",C.reason=g}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,gN(s),s}throw dc=l,Mu}}function uc(s){try{var l=s._init;return l(s._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(dc=d,Mu):d}}var dc=null;function mN(){if(dc===null)throw Error(n(459));var s=dc;return dc=null,s}function gN(s){if(s===Mu||s===Hm)throw Error(n(483))}var Lu=null,Rf=0;function Km(s){var l=Rf;return Rf+=1,Lu===null&&(Lu=[]),hN(Lu,s,l)}function Of(s,l){l=l.props.ref,s.ref=l!==void 0?l:null}function Gm(s,l){throw l.$$typeof===b?Error(n(525)):(s=Object.prototype.toString.call(l),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s)))}function vN(s){function l(se,J){if(s){var ue=se.deletions;ue===null?(se.deletions=[J],se.flags|=16):ue.push(J)}}function d(se,J){if(!s)return null;for(;J!==null;)l(se,J),J=J.sibling;return null}function g(se){for(var J=new Map;se!==null;)se.key!==null?J.set(se.key,se):J.set(se.index,se),se=se.sibling;return J}function C(se,J){return se=Is(se,J),se.index=0,se.sibling=null,se}function E(se,J,ue){return se.index=ue,s?(ue=se.alternate,ue!==null?(ue=ue.index,ue<J?(se.flags|=67108866,J):ue):(se.flags|=67108866,J)):(se.flags|=1048576,J)}function L(se){return s&&se.alternate===null&&(se.flags|=67108866),se}function H(se,J,ue,ye){return J===null||J.tag!==6?(J=q_(ue,se.mode,ye),J.return=se,J):(J=C(J,ue),J.return=se,J)}function Z(se,J,ue,ye){var Qe=ue.type;return Qe===w?ve(se,J,ue.props.children,ye,ue.key):J!==null&&(J.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===R&&uc(Qe)===J.type)?(J=C(J,ue.props),Of(J,ue),J.return=se,J):(J=Bm(ue.type,ue.key,ue.props,null,se.mode,ye),Of(J,ue),J.return=se,J)}function de(se,J,ue,ye){return J===null||J.tag!==4||J.stateNode.containerInfo!==ue.containerInfo||J.stateNode.implementation!==ue.implementation?(J=U_(ue,se.mode,ye),J.return=se,J):(J=C(J,ue.children||[]),J.return=se,J)}function ve(se,J,ue,ye,Qe){return J===null||J.tag!==7?(J=ic(ue,se.mode,ye,Qe),J.return=se,J):(J=C(J,ue),J.return=se,J)}function be(se,J,ue){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return J=q_(""+J,se.mode,ue),J.return=se,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case _:return ue=Bm(J.type,J.key,J.props,null,se.mode,ue),Of(ue,J),ue.return=se,ue;case j:return J=U_(J,se.mode,ue),J.return=se,J;case R:return J=uc(J),be(se,J,ue)}if(B(J)||z(J))return J=ic(J,se.mode,ue,null),J.return=se,J;if(typeof J.then=="function")return be(se,Km(J),ue);if(J.$$typeof===T)return be(se,qm(se,J),ue);Gm(se,J)}return null}function fe(se,J,ue,ye){var Qe=J!==null?J.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return Qe!==null?null:H(se,J,""+ue,ye);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case _:return ue.key===Qe?Z(se,J,ue,ye):null;case j:return ue.key===Qe?de(se,J,ue,ye):null;case R:return ue=uc(ue),fe(se,J,ue,ye)}if(B(ue)||z(ue))return Qe!==null?null:ve(se,J,ue,ye,null);if(typeof ue.then=="function")return fe(se,J,Km(ue),ye);if(ue.$$typeof===T)return fe(se,J,qm(se,ue),ye);Gm(se,ue)}return null}function he(se,J,ue,ye,Qe){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return se=se.get(ue)||null,H(J,se,""+ye,Qe);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case _:return se=se.get(ye.key===null?ue:ye.key)||null,Z(J,se,ye,Qe);case j:return se=se.get(ye.key===null?ue:ye.key)||null,de(J,se,ye,Qe);case R:return ye=uc(ye),he(se,J,ue,ye,Qe)}if(B(ye)||z(ye))return se=se.get(ue)||null,ve(J,se,ye,Qe,null);if(typeof ye.then=="function")return he(se,J,ue,Km(ye),Qe);if(ye.$$typeof===T)return he(se,J,ue,qm(J,ye),Qe);Gm(J,ye)}return null}function Be(se,J,ue,ye){for(var Qe=null,Bt=null,qe=J,dt=J=0,Ct=null;qe!==null&&dt<ue.length;dt++){qe.index>dt?(Ct=qe,qe=null):Ct=qe.sibling;var zt=fe(se,qe,ue[dt],ye);if(zt===null){qe===null&&(qe=Ct);break}s&&qe&&zt.alternate===null&&l(se,qe),J=E(zt,J,dt),Bt===null?Qe=zt:Bt.sibling=zt,Bt=zt,qe=Ct}if(dt===ue.length)return d(se,qe),Pt&&$s(se,dt),Qe;if(qe===null){for(;dt<ue.length;dt++)qe=be(se,ue[dt],ye),qe!==null&&(J=E(qe,J,dt),Bt===null?Qe=qe:Bt.sibling=qe,Bt=qe);return Pt&&$s(se,dt),Qe}for(qe=g(qe);dt<ue.length;dt++)Ct=he(qe,se,dt,ue[dt],ye),Ct!==null&&(s&&Ct.alternate!==null&&qe.delete(Ct.key===null?dt:Ct.key),J=E(Ct,J,dt),Bt===null?Qe=Ct:Bt.sibling=Ct,Bt=Ct);return s&&qe.forEach(function(ml){return l(se,ml)}),Pt&&$s(se,dt),Qe}function Ze(se,J,ue,ye){if(ue==null)throw Error(n(151));for(var Qe=null,Bt=null,qe=J,dt=J=0,Ct=null,zt=ue.next();qe!==null&&!zt.done;dt++,zt=ue.next()){qe.index>dt?(Ct=qe,qe=null):Ct=qe.sibling;var ml=fe(se,qe,zt.value,ye);if(ml===null){qe===null&&(qe=Ct);break}s&&qe&&ml.alternate===null&&l(se,qe),J=E(ml,J,dt),Bt===null?Qe=ml:Bt.sibling=ml,Bt=ml,qe=Ct}if(zt.done)return d(se,qe),Pt&&$s(se,dt),Qe;if(qe===null){for(;!zt.done;dt++,zt=ue.next())zt=be(se,zt.value,ye),zt!==null&&(J=E(zt,J,dt),Bt===null?Qe=zt:Bt.sibling=zt,Bt=zt);return Pt&&$s(se,dt),Qe}for(qe=g(qe);!zt.done;dt++,zt=ue.next())zt=he(qe,se,dt,zt.value,ye),zt!==null&&(s&&zt.alternate!==null&&qe.delete(zt.key===null?dt:zt.key),J=E(zt,J,dt),Bt===null?Qe=zt:Bt.sibling=zt,Bt=zt);return s&&qe.forEach(function(ez){return l(se,ez)}),Pt&&$s(se,dt),Qe}function ar(se,J,ue,ye){if(typeof ue=="object"&&ue!==null&&ue.type===w&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case _:e:{for(var Qe=ue.key;J!==null;){if(J.key===Qe){if(Qe=ue.type,Qe===w){if(J.tag===7){d(se,J.sibling),ye=C(J,ue.props.children),ye.return=se,se=ye;break e}}else if(J.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===R&&uc(Qe)===J.type){d(se,J.sibling),ye=C(J,ue.props),Of(ye,ue),ye.return=se,se=ye;break e}d(se,J);break}else l(se,J);J=J.sibling}ue.type===w?(ye=ic(ue.props.children,se.mode,ye,ue.key),ye.return=se,se=ye):(ye=Bm(ue.type,ue.key,ue.props,null,se.mode,ye),Of(ye,ue),ye.return=se,se=ye)}return L(se);case j:e:{for(Qe=ue.key;J!==null;){if(J.key===Qe)if(J.tag===4&&J.stateNode.containerInfo===ue.containerInfo&&J.stateNode.implementation===ue.implementation){d(se,J.sibling),ye=C(J,ue.children||[]),ye.return=se,se=ye;break e}else{d(se,J);break}else l(se,J);J=J.sibling}ye=U_(ue,se.mode,ye),ye.return=se,se=ye}return L(se);case R:return ue=uc(ue),ar(se,J,ue,ye)}if(B(ue))return Be(se,J,ue,ye);if(z(ue)){if(Qe=z(ue),typeof Qe!="function")throw Error(n(150));return ue=Qe.call(ue),Ze(se,J,ue,ye)}if(typeof ue.then=="function")return ar(se,J,Km(ue),ye);if(ue.$$typeof===T)return ar(se,J,qm(se,ue),ye);Gm(se,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint"?(ue=""+ue,J!==null&&J.tag===6?(d(se,J.sibling),ye=C(J,ue),ye.return=se,se=ye):(d(se,J),ye=q_(ue,se.mode,ye),ye.return=se,se=ye),L(se)):d(se,J)}return function(se,J,ue,ye){try{Rf=0;var Qe=ar(se,J,ue,ye);return Lu=null,Qe}catch(qe){if(qe===Mu||qe===Hm)throw qe;var Bt=Ca(29,qe,null,se.mode);return Bt.lanes=ye,Bt.return=se,Bt}finally{}}}var fc=vN(!0),yN=vN(!1),Zo=!1;function t0(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function r0(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Jo(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function el(s,l,d){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(Kt&2)!==0){var C=g.pending;return C===null?l.next=l:(l.next=C.next,C.next=l),g.pending=l,l=$m(s),tN(s,null,d),l}return Im(s,g,l,d),$m(s)}function Df(s,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var g=l.lanes;g&=s.pendingLanes,d|=g,l.lanes=d,ne(s,d)}}function n0(s,l){var d=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var C=null,E=null;if(d=d.firstBaseUpdate,d!==null){do{var L={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};E===null?C=E=L:E=E.next=L,d=d.next}while(d!==null);E===null?C=E=l:E=E.next=l}else C=E=l;d={baseState:g.baseState,firstBaseUpdate:C,lastBaseUpdate:E,shared:g.shared,callbacks:g.callbacks},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=l:s.next=l,d.lastBaseUpdate=l}var a0=!1;function Mf(){if(a0){var s=Du;if(s!==null)throw s}}function Lf(s,l,d,g){a0=!1;var C=s.updateQueue;Zo=!1;var E=C.firstBaseUpdate,L=C.lastBaseUpdate,H=C.shared.pending;if(H!==null){C.shared.pending=null;var Z=H,de=Z.next;Z.next=null,L===null?E=de:L.next=de,L=Z;var ve=s.alternate;ve!==null&&(ve=ve.updateQueue,H=ve.lastBaseUpdate,H!==L&&(H===null?ve.firstBaseUpdate=de:H.next=de,ve.lastBaseUpdate=Z))}if(E!==null){var be=C.baseState;L=0,ve=de=Z=null,H=E;do{var fe=H.lane&-536870913,he=fe!==H.lane;if(he?(jt&fe)===fe:(g&fe)===fe){fe!==0&&fe===Ou&&(a0=!0),ve!==null&&(ve=ve.next={lane:0,tag:H.tag,payload:H.payload,callback:null,next:null});e:{var Be=s,Ze=H;fe=l;var ar=d;switch(Ze.tag){case 1:if(Be=Ze.payload,typeof Be=="function"){be=Be.call(ar,be,fe);break e}be=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=Ze.payload,fe=typeof Be=="function"?Be.call(ar,be,fe):Be,fe==null)break e;be=m({},be,fe);break e;case 2:Zo=!0}}fe=H.callback,fe!==null&&(s.flags|=64,he&&(s.flags|=8192),he=C.callbacks,he===null?C.callbacks=[fe]:he.push(fe))}else he={lane:fe,tag:H.tag,payload:H.payload,callback:H.callback,next:null},ve===null?(de=ve=he,Z=be):ve=ve.next=he,L|=fe;if(H=H.next,H===null){if(H=C.shared.pending,H===null)break;he=H,H=he.next,he.next=null,C.lastBaseUpdate=he,C.shared.pending=null}}while(!0);ve===null&&(Z=be),C.baseState=Z,C.firstBaseUpdate=de,C.lastBaseUpdate=ve,E===null&&(C.shared.lanes=0),il|=L,s.lanes=L,s.memoizedState=be}}function bN(s,l){if(typeof s!="function")throw Error(n(191,s));s.call(l)}function _N(s,l){var d=s.callbacks;if(d!==null)for(s.callbacks=null,s=0;s<d.length;s++)bN(d[s],l)}var Iu=U(null),Vm=U(0);function xN(s,l){s=Ys,ee(Vm,s),ee(Iu,l),Ys=s|l.baseLanes}function i0(){ee(Vm,Ys),ee(Iu,Iu.current)}function s0(){Ys=Vm.current,X(Iu),X(Vm)}var ka=U(null),Qa=null;function tl(s){var l=s.alternate;ee(Br,Br.current&1),ee(ka,s),Qa===null&&(l===null||Iu.current!==null||l.memoizedState!==null)&&(Qa=s)}function o0(s){ee(Br,Br.current),ee(ka,s),Qa===null&&(Qa=s)}function wN(s){s.tag===22?(ee(Br,Br.current),ee(ka,s),Qa===null&&(Qa=s)):rl()}function rl(){ee(Br,Br.current),ee(ka,ka.current)}function Na(s){X(ka),Qa===s&&(Qa=null),X(Br)}var Br=U(0);function Ym(s){for(var l=s;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||p1(d)||h1(d)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Fs=0,ct=null,rr=null,Wr=null,Qm=!1,$u=!1,pc=!1,Xm=0,If=0,Bu=null,H9=0;function Tr(){throw Error(n(321))}function l0(s,l){if(l===null)return!1;for(var d=0;d<l.length&&d<s.length;d++)if(!ja(s[d],l[d]))return!1;return!0}function c0(s,l,d,g,C,E){return Fs=E,ct=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,O.H=s===null||s.memoizedState===null?iE:j0,pc=!1,E=d(g,C),pc=!1,$u&&(E=jN(l,d,g,C)),SN(s),E}function SN(s){O.H=zf;var l=rr!==null&&rr.next!==null;if(Fs=0,Wr=rr=ct=null,Qm=!1,If=0,Bu=null,l)throw Error(n(300));s===null||Kr||(s=s.dependencies,s!==null&&Fm(s)&&(Kr=!0))}function jN(s,l,d,g){ct=s;var C=0;do{if($u&&(Bu=null),If=0,$u=!1,25<=C)throw Error(n(301));if(C+=1,Wr=rr=null,s.updateQueue!=null){var E=s.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}O.H=sE,E=l(d,g)}while($u);return E}function W9(){var s=O.H,l=s.useState()[0];return l=typeof l.then=="function"?$f(l):l,s=s.useState()[0],(rr!==null?rr.memoizedState:null)!==s&&(ct.flags|=1024),l}function u0(){var s=Xm!==0;return Xm=0,s}function d0(s,l,d){l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~d}function f0(s){if(Qm){for(s=s.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}Qm=!1}Fs=0,Wr=rr=ct=null,$u=!1,If=Xm=0,Bu=null}function qn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wr===null?ct.memoizedState=Wr=s:Wr=Wr.next=s,Wr}function zr(){if(rr===null){var s=ct.alternate;s=s!==null?s.memoizedState:null}else s=rr.next;var l=Wr===null?ct.memoizedState:Wr.next;if(l!==null)Wr=l,rr=s;else{if(s===null)throw ct.alternate===null?Error(n(467)):Error(n(310));rr=s,s={memoizedState:rr.memoizedState,baseState:rr.baseState,baseQueue:rr.baseQueue,queue:rr.queue,next:null},Wr===null?ct.memoizedState=Wr=s:Wr=Wr.next=s}return Wr}function Zm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $f(s){var l=If;return If+=1,Bu===null&&(Bu=[]),s=hN(Bu,s,l),l=ct,(Wr===null?l.memoizedState:Wr.next)===null&&(l=l.alternate,O.H=l===null||l.memoizedState===null?iE:j0),s}function Jm(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return $f(s);if(s.$$typeof===T)return Sn(s)}throw Error(n(438,String(s)))}function p0(s){var l=null,d=ct.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var g=ct.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(l={data:g.data.map(function(C){return C.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=Zm(),ct.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(s),g=0;g<s;g++)d[g]=I;return l.index++,d}function qs(s,l){return typeof l=="function"?l(s):l}function eg(s){var l=zr();return h0(l,rr,s)}function h0(s,l,d){var g=s.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=d;var C=s.baseQueue,E=g.pending;if(E!==null){if(C!==null){var L=C.next;C.next=E.next,E.next=L}l.baseQueue=C=E,g.pending=null}if(E=s.baseState,C===null)s.memoizedState=E;else{l=C.next;var H=L=null,Z=null,de=l,ve=!1;do{var be=de.lane&-536870913;if(be!==de.lane?(jt&be)===be:(Fs&be)===be){var fe=de.revertLane;if(fe===0)Z!==null&&(Z=Z.next={lane:0,revertLane:0,gesture:null,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),be===Ou&&(ve=!0);else if((Fs&fe)===fe){de=de.next,fe===Ou&&(ve=!0);continue}else be={lane:0,revertLane:de.revertLane,gesture:null,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},Z===null?(H=Z=be,L=E):Z=Z.next=be,ct.lanes|=fe,il|=fe;be=de.action,pc&&d(E,be),E=de.hasEagerState?de.eagerState:d(E,be)}else fe={lane:be,revertLane:de.revertLane,gesture:de.gesture,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},Z===null?(H=Z=fe,L=E):Z=Z.next=fe,ct.lanes|=be,il|=be;de=de.next}while(de!==null&&de!==l);if(Z===null?L=E:Z.next=H,!ja(E,s.memoizedState)&&(Kr=!0,ve&&(d=Du,d!==null)))throw d;s.memoizedState=E,s.baseState=L,s.baseQueue=Z,g.lastRenderedState=E}return C===null&&(g.lanes=0),[s.memoizedState,g.dispatch]}function m0(s){var l=zr(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=s;var g=d.dispatch,C=d.pending,E=l.memoizedState;if(C!==null){d.pending=null;var L=C=C.next;do E=s(E,L.action),L=L.next;while(L!==C);ja(E,l.memoizedState)||(Kr=!0),l.memoizedState=E,l.baseQueue===null&&(l.baseState=E),d.lastRenderedState=E}return[E,g]}function CN(s,l,d){var g=ct,C=zr(),E=Pt;if(E){if(d===void 0)throw Error(n(407));d=d()}else d=l();var L=!ja((rr||C).memoizedState,d);if(L&&(C.memoizedState=d,Kr=!0),C=C.queue,y0(EN.bind(null,g,C,s),[s]),C.getSnapshot!==l||L||Wr!==null&&Wr.memoizedState.tag&1){if(g.flags|=2048,zu(9,{destroy:void 0},NN.bind(null,g,C,d,l),null),sr===null)throw Error(n(349));E||(Fs&127)!==0||kN(g,l,d)}return d}function kN(s,l,d){s.flags|=16384,s={getSnapshot:l,value:d},l=ct.updateQueue,l===null?(l=Zm(),ct.updateQueue=l,l.stores=[s]):(d=l.stores,d===null?l.stores=[s]:d.push(s))}function NN(s,l,d,g){l.value=d,l.getSnapshot=g,TN(l)&&PN(s)}function EN(s,l,d){return d(function(){TN(l)&&PN(s)})}function TN(s){var l=s.getSnapshot;s=s.value;try{var d=l();return!ja(s,d)}catch{return!0}}function PN(s){var l=ac(s,2);l!==null&&fa(l,s,2)}function g0(s){var l=qn();if(typeof s=="function"){var d=s;if(s=d(),pc){lr(!0);try{d()}finally{lr(!1)}}}return l.memoizedState=l.baseState=s,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:s},l}function AN(s,l,d,g){return s.baseState=d,h0(s,rr,typeof g=="function"?g:qs)}function K9(s,l,d,g,C){if(ng(s))throw Error(n(485));if(s=l.action,s!==null){var E={payload:C,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(L){E.listeners.push(L)}};O.T!==null?d(!0):E.isTransition=!1,g(E),d=l.pending,d===null?(E.next=l.pending=E,RN(l,E)):(E.next=d.next,l.pending=d.next=E)}}function RN(s,l){var d=l.action,g=l.payload,C=s.state;if(l.isTransition){var E=O.T,L={};O.T=L;try{var H=d(C,g),Z=O.S;Z!==null&&Z(L,H),ON(s,l,H)}catch(de){v0(s,l,de)}finally{E!==null&&L.types!==null&&(E.types=L.types),O.T=E}}else try{E=d(C,g),ON(s,l,E)}catch(de){v0(s,l,de)}}function ON(s,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(g){DN(s,l,g)},function(g){return v0(s,l,g)}):DN(s,l,d)}function DN(s,l,d){l.status="fulfilled",l.value=d,MN(l),s.state=d,l=s.pending,l!==null&&(d=l.next,d===l?s.pending=null:(d=d.next,l.next=d,RN(s,d)))}function v0(s,l,d){var g=s.pending;if(s.pending=null,g!==null){g=g.next;do l.status="rejected",l.reason=d,MN(l),l=l.next;while(l!==g)}s.action=null}function MN(s){s=s.listeners;for(var l=0;l<s.length;l++)(0,s[l])()}function LN(s,l){return l}function IN(s,l){if(Pt){var d=sr.formState;if(d!==null){e:{var g=ct;if(Pt){if(mr){t:{for(var C=mr,E=Ya;C.nodeType!==8;){if(!E){C=null;break t}if(C=Xa(C.nextSibling),C===null){C=null;break t}}E=C.data,C=E==="F!"||E==="F"?C:null}if(C){mr=Xa(C.nextSibling),g=C.data==="F!";break e}}Qo(g)}g=!1}g&&(l=d[0])}}return d=qn(),d.memoizedState=d.baseState=l,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:LN,lastRenderedState:l},d.queue=g,d=rE.bind(null,ct,g),g.dispatch=d,g=g0(!1),E=S0.bind(null,ct,!1,g.queue),g=qn(),C={state:l,dispatch:null,action:s,pending:null},g.queue=C,d=K9.bind(null,ct,C,E,d),C.dispatch=d,g.memoizedState=s,[l,d,!1]}function $N(s){var l=zr();return BN(l,rr,s)}function BN(s,l,d){if(l=h0(s,l,LN)[0],s=eg(qs)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var g=$f(l)}catch(L){throw L===Mu?Hm:L}else g=l;l=zr();var C=l.queue,E=C.dispatch;return d!==l.memoizedState&&(ct.flags|=2048,zu(9,{destroy:void 0},G9.bind(null,C,d),null)),[g,E,s]}function G9(s,l){s.action=l}function zN(s){var l=zr(),d=rr;if(d!==null)return BN(l,d,s);zr(),l=l.memoizedState,d=zr();var g=d.queue.dispatch;return d.memoizedState=s,[l,g,!1]}function zu(s,l,d,g){return s={tag:s,create:d,deps:g,inst:l,next:null},l=ct.updateQueue,l===null&&(l=Zm(),ct.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=s.next=s:(g=d.next,d.next=s,s.next=g,l.lastEffect=s),s}function FN(){return zr().memoizedState}function tg(s,l,d,g){var C=qn();ct.flags|=s,C.memoizedState=zu(1|l,{destroy:void 0},d,g===void 0?null:g)}function rg(s,l,d,g){var C=zr();g=g===void 0?null:g;var E=C.memoizedState.inst;rr!==null&&g!==null&&l0(g,rr.memoizedState.deps)?C.memoizedState=zu(l,E,d,g):(ct.flags|=s,C.memoizedState=zu(1|l,E,d,g))}function qN(s,l){tg(8390656,8,s,l)}function y0(s,l){rg(2048,8,s,l)}function V9(s){ct.flags|=4;var l=ct.updateQueue;if(l===null)l=Zm(),ct.updateQueue=l,l.events=[s];else{var d=l.events;d===null?l.events=[s]:d.push(s)}}function UN(s){var l=zr().memoizedState;return V9({ref:l,nextImpl:s}),function(){if((Kt&2)!==0)throw Error(n(440));return l.impl.apply(void 0,arguments)}}function HN(s,l){return rg(4,2,s,l)}function WN(s,l){return rg(4,4,s,l)}function KN(s,l){if(typeof l=="function"){s=s();var d=l(s);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function GN(s,l,d){d=d!=null?d.concat([s]):null,rg(4,4,KN.bind(null,l,s),d)}function b0(){}function VN(s,l){var d=zr();l=l===void 0?null:l;var g=d.memoizedState;return l!==null&&l0(l,g[1])?g[0]:(d.memoizedState=[s,l],s)}function YN(s,l){var d=zr();l=l===void 0?null:l;var g=d.memoizedState;if(l!==null&&l0(l,g[1]))return g[0];if(g=s(),pc){lr(!0);try{s()}finally{lr(!1)}}return d.memoizedState=[g,l],g}function _0(s,l,d){return d===void 0||(Fs&1073741824)!==0&&(jt&261930)===0?s.memoizedState=l:(s.memoizedState=d,s=QE(),ct.lanes|=s,il|=s,d)}function QN(s,l,d,g){return ja(d,l)?d:Iu.current!==null?(s=_0(s,d,g),ja(s,l)||(Kr=!0),s):(Fs&42)===0||(Fs&1073741824)!==0&&(jt&261930)===0?(Kr=!0,s.memoizedState=d):(s=QE(),ct.lanes|=s,il|=s,l)}function XN(s,l,d,g,C){var E=$.p;$.p=E!==0&&8>E?E:8;var L=O.T,H={};O.T=H,S0(s,!1,l,d);try{var Z=C(),de=O.S;if(de!==null&&de(H,Z),Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var ve=U9(Z,g);Bf(s,l,ve,Pa(s))}else Bf(s,l,g,Pa(s))}catch(be){Bf(s,l,{then:function(){},status:"rejected",reason:be},Pa())}finally{$.p=E,L!==null&&H.types!==null&&(L.types=H.types),O.T=L}}function Y9(){}function x0(s,l,d,g){if(s.tag!==5)throw Error(n(476));var C=ZN(s).queue;XN(s,C,l,K,d===null?Y9:function(){return JN(s),d(g)})}function ZN(s){var l=s.memoizedState;if(l!==null)return l;l={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:K},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:d},next:null},s.memoizedState=l,s=s.alternate,s!==null&&(s.memoizedState=l),l}function JN(s){var l=ZN(s);l.next===null&&(l=s.alternate.memoizedState),Bf(s,l.next.queue,{},Pa())}function w0(){return Sn(rp)}function eE(){return zr().memoizedState}function tE(){return zr().memoizedState}function Q9(s){for(var l=s.return;l!==null;){switch(l.tag){case 24:case 3:var d=Pa();s=Jo(d);var g=el(l,s,d);g!==null&&(fa(g,l,d),Df(g,l,d)),l={cache:X_()},s.payload=l;return}l=l.return}}function X9(s,l,d){var g=Pa();d={lane:g,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},ng(s)?nE(l,d):(d=z_(s,l,d,g),d!==null&&(fa(d,s,g),aE(d,l,g)))}function rE(s,l,d){var g=Pa();Bf(s,l,d,g)}function Bf(s,l,d,g){var C={lane:g,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(ng(s))nE(l,C);else{var E=s.alternate;if(s.lanes===0&&(E===null||E.lanes===0)&&(E=l.lastRenderedReducer,E!==null))try{var L=l.lastRenderedState,H=E(L,d);if(C.hasEagerState=!0,C.eagerState=H,ja(H,L))return Im(s,l,C,0),sr===null&&Lm(),!1}catch{}finally{}if(d=z_(s,l,C,g),d!==null)return fa(d,s,g),aE(d,l,g),!0}return!1}function S0(s,l,d,g){if(g={lane:2,revertLane:t1(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},ng(s)){if(l)throw Error(n(479))}else l=z_(s,d,g,2),l!==null&&fa(l,s,2)}function ng(s){var l=s.alternate;return s===ct||l!==null&&l===ct}function nE(s,l){$u=Qm=!0;var d=s.pending;d===null?l.next=l:(l.next=d.next,d.next=l),s.pending=l}function aE(s,l,d){if((d&4194048)!==0){var g=l.lanes;g&=s.pendingLanes,d|=g,l.lanes=d,ne(s,d)}}var zf={readContext:Sn,use:Jm,useCallback:Tr,useContext:Tr,useEffect:Tr,useImperativeHandle:Tr,useLayoutEffect:Tr,useInsertionEffect:Tr,useMemo:Tr,useReducer:Tr,useRef:Tr,useState:Tr,useDebugValue:Tr,useDeferredValue:Tr,useTransition:Tr,useSyncExternalStore:Tr,useId:Tr,useHostTransitionStatus:Tr,useFormState:Tr,useActionState:Tr,useOptimistic:Tr,useMemoCache:Tr,useCacheRefresh:Tr};zf.useEffectEvent=Tr;var iE={readContext:Sn,use:Jm,useCallback:function(s,l){return qn().memoizedState=[s,l===void 0?null:l],s},useContext:Sn,useEffect:qN,useImperativeHandle:function(s,l,d){d=d!=null?d.concat([s]):null,tg(4194308,4,KN.bind(null,l,s),d)},useLayoutEffect:function(s,l){return tg(4194308,4,s,l)},useInsertionEffect:function(s,l){tg(4,2,s,l)},useMemo:function(s,l){var d=qn();l=l===void 0?null:l;var g=s();if(pc){lr(!0);try{s()}finally{lr(!1)}}return d.memoizedState=[g,l],g},useReducer:function(s,l,d){var g=qn();if(d!==void 0){var C=d(l);if(pc){lr(!0);try{d(l)}finally{lr(!1)}}}else C=l;return g.memoizedState=g.baseState=C,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:C},g.queue=s,s=s.dispatch=X9.bind(null,ct,s),[g.memoizedState,s]},useRef:function(s){var l=qn();return s={current:s},l.memoizedState=s},useState:function(s){s=g0(s);var l=s.queue,d=rE.bind(null,ct,l);return l.dispatch=d,[s.memoizedState,d]},useDebugValue:b0,useDeferredValue:function(s,l){var d=qn();return _0(d,s,l)},useTransition:function(){var s=g0(!1);return s=XN.bind(null,ct,s.queue,!0,!1),qn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,l,d){var g=ct,C=qn();if(Pt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=l(),sr===null)throw Error(n(349));(jt&127)!==0||kN(g,l,d)}C.memoizedState=d;var E={value:d,getSnapshot:l};return C.queue=E,qN(EN.bind(null,g,E,s),[s]),g.flags|=2048,zu(9,{destroy:void 0},NN.bind(null,g,E,d,l),null),d},useId:function(){var s=qn(),l=sr.identifierPrefix;if(Pt){var d=es,g=Ji;d=(g&~(1<<32-tr(g)-1)).toString(32)+d,l="_"+l+"R_"+d,d=Xm++,0<d&&(l+="H"+d.toString(32)),l+="_"}else d=H9++,l="_"+l+"r_"+d.toString(32)+"_";return s.memoizedState=l},useHostTransitionStatus:w0,useFormState:IN,useActionState:IN,useOptimistic:function(s){var l=qn();l.memoizedState=l.baseState=s;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=S0.bind(null,ct,!0,d),d.dispatch=l,[s,l]},useMemoCache:p0,useCacheRefresh:function(){return qn().memoizedState=Q9.bind(null,ct)},useEffectEvent:function(s){var l=qn(),d={impl:s};return l.memoizedState=d,function(){if((Kt&2)!==0)throw Error(n(440));return d.impl.apply(void 0,arguments)}}},j0={readContext:Sn,use:Jm,useCallback:VN,useContext:Sn,useEffect:y0,useImperativeHandle:GN,useInsertionEffect:HN,useLayoutEffect:WN,useMemo:YN,useReducer:eg,useRef:FN,useState:function(){return eg(qs)},useDebugValue:b0,useDeferredValue:function(s,l){var d=zr();return QN(d,rr.memoizedState,s,l)},useTransition:function(){var s=eg(qs)[0],l=zr().memoizedState;return[typeof s=="boolean"?s:$f(s),l]},useSyncExternalStore:CN,useId:eE,useHostTransitionStatus:w0,useFormState:$N,useActionState:$N,useOptimistic:function(s,l){var d=zr();return AN(d,rr,s,l)},useMemoCache:p0,useCacheRefresh:tE};j0.useEffectEvent=UN;var sE={readContext:Sn,use:Jm,useCallback:VN,useContext:Sn,useEffect:y0,useImperativeHandle:GN,useInsertionEffect:HN,useLayoutEffect:WN,useMemo:YN,useReducer:m0,useRef:FN,useState:function(){return m0(qs)},useDebugValue:b0,useDeferredValue:function(s,l){var d=zr();return rr===null?_0(d,s,l):QN(d,rr.memoizedState,s,l)},useTransition:function(){var s=m0(qs)[0],l=zr().memoizedState;return[typeof s=="boolean"?s:$f(s),l]},useSyncExternalStore:CN,useId:eE,useHostTransitionStatus:w0,useFormState:zN,useActionState:zN,useOptimistic:function(s,l){var d=zr();return rr!==null?AN(d,rr,s,l):(d.baseState=s,[s,d.queue.dispatch])},useMemoCache:p0,useCacheRefresh:tE};sE.useEffectEvent=UN;function C0(s,l,d,g){l=s.memoizedState,d=d(g,l),d=d==null?l:m({},l,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var k0={enqueueSetState:function(s,l,d){s=s._reactInternals;var g=Pa(),C=Jo(g);C.payload=l,d!=null&&(C.callback=d),l=el(s,C,g),l!==null&&(fa(l,s,g),Df(l,s,g))},enqueueReplaceState:function(s,l,d){s=s._reactInternals;var g=Pa(),C=Jo(g);C.tag=1,C.payload=l,d!=null&&(C.callback=d),l=el(s,C,g),l!==null&&(fa(l,s,g),Df(l,s,g))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var d=Pa(),g=Jo(d);g.tag=2,l!=null&&(g.callback=l),l=el(s,g,d),l!==null&&(fa(l,s,d),Df(l,s,d))}};function oE(s,l,d,g,C,E,L){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,E,L):l.prototype&&l.prototype.isPureReactComponent?!kf(d,g)||!kf(C,E):!0}function lE(s,l,d,g){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,g),l.state!==s&&k0.enqueueReplaceState(l,l.state,null)}function hc(s,l){var d=l;if("ref"in l){d={};for(var g in l)g!=="ref"&&(d[g]=l[g])}if(s=s.defaultProps){d===l&&(d=m({},d));for(var C in s)d[C]===void 0&&(d[C]=s[C])}return d}function cE(s){Mm(s)}function uE(s){console.error(s)}function dE(s){Mm(s)}function ag(s,l){try{var d=s.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(g){setTimeout(function(){throw g})}}function fE(s,l,d){try{var g=s.onCaughtError;g(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(C){setTimeout(function(){throw C})}}function N0(s,l,d){return d=Jo(d),d.tag=3,d.payload={element:null},d.callback=function(){ag(s,l)},d}function pE(s){return s=Jo(s),s.tag=3,s}function hE(s,l,d,g){var C=d.type.getDerivedStateFromError;if(typeof C=="function"){var E=g.value;s.payload=function(){return C(E)},s.callback=function(){fE(l,d,g)}}var L=d.stateNode;L!==null&&typeof L.componentDidCatch=="function"&&(s.callback=function(){fE(l,d,g),typeof C!="function"&&(sl===null?sl=new Set([this]):sl.add(this));var H=g.stack;this.componentDidCatch(g.value,{componentStack:H!==null?H:""})})}function Z9(s,l,d,g,C){if(d.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(l=d.alternate,l!==null&&Ru(l,d,C,!0),d=ka.current,d!==null){switch(d.tag){case 31:case 13:return Qa===null?gg():d.alternate===null&&Pr===0&&(Pr=3),d.flags&=-257,d.flags|=65536,d.lanes=C,g===Wm?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([g]):l.add(g),Z0(s,g,C)),!1;case 22:return d.flags|=65536,g===Wm?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([g])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([g]):d.add(g)),Z0(s,g,C)),!1}throw Error(n(435,d.tag))}return Z0(s,g,C),gg(),!1}if(Pt)return l=ka.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=C,g!==K_&&(s=Error(n(422),{cause:g}),Tf(Ka(s,d)))):(g!==K_&&(l=Error(n(423),{cause:g}),Tf(Ka(l,d))),s=s.current.alternate,s.flags|=65536,C&=-C,s.lanes|=C,g=Ka(g,d),C=N0(s.stateNode,g,C),n0(s,C),Pr!==4&&(Pr=2)),!1;var E=Error(n(520),{cause:g});if(E=Ka(E,d),Vf===null?Vf=[E]:Vf.push(E),Pr!==4&&(Pr=2),l===null)return!0;g=Ka(g,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,s=C&-C,d.lanes|=s,s=N0(d.stateNode,g,s),n0(d,s),!1;case 1:if(l=d.type,E=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(sl===null||!sl.has(E))))return d.flags|=65536,C&=-C,d.lanes|=C,C=pE(C),hE(C,s,d,g),n0(d,C),!1}d=d.return}while(d!==null);return!1}var E0=Error(n(461)),Kr=!1;function jn(s,l,d,g){l.child=s===null?yN(l,null,d,g):fc(l,s.child,d,g)}function mE(s,l,d,g,C){d=d.render;var E=l.ref;if("ref"in g){var L={};for(var H in g)H!=="ref"&&(L[H]=g[H])}else L=g;return lc(l),g=c0(s,l,d,L,E,C),H=u0(),s!==null&&!Kr?(d0(s,l,C),Us(s,l,C)):(Pt&&H&&H_(l),l.flags|=1,jn(s,l,g,C),l.child)}function gE(s,l,d,g,C){if(s===null){var E=d.type;return typeof E=="function"&&!F_(E)&&E.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=E,vE(s,l,E,g,C)):(s=Bm(d.type,null,g,l,l.mode,C),s.ref=l.ref,s.return=l,l.child=s)}if(E=s.child,!L0(s,C)){var L=E.memoizedProps;if(d=d.compare,d=d!==null?d:kf,d(L,g)&&s.ref===l.ref)return Us(s,l,C)}return l.flags|=1,s=Is(E,g),s.ref=l.ref,s.return=l,l.child=s}function vE(s,l,d,g,C){if(s!==null){var E=s.memoizedProps;if(kf(E,g)&&s.ref===l.ref)if(Kr=!1,l.pendingProps=g=E,L0(s,C))(s.flags&131072)!==0&&(Kr=!0);else return l.lanes=s.lanes,Us(s,l,C)}return T0(s,l,d,g,C)}function yE(s,l,d,g){var C=g.children,E=s!==null?s.memoizedState:null;if(s===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((l.flags&128)!==0){if(E=E!==null?E.baseLanes|d:d,s!==null){for(g=l.child=s.child,C=0;g!==null;)C=C|g.lanes|g.childLanes,g=g.sibling;g=C&~E}else g=0,l.child=null;return bE(s,l,E,d,g)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},s!==null&&Um(l,E!==null?E.cachePool:null),E!==null?xN(l,E):i0(),wN(l);else return g=l.lanes=536870912,bE(s,l,E!==null?E.baseLanes|d:d,d,g)}else E!==null?(Um(l,E.cachePool),xN(l,E),rl(),l.memoizedState=null):(s!==null&&Um(l,null),i0(),rl());return jn(s,l,C,d),l.child}function Ff(s,l){return s!==null&&s.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function bE(s,l,d,g,C){var E=J_();return E=E===null?null:{parent:Hr._currentValue,pool:E},l.memoizedState={baseLanes:d,cachePool:E},s!==null&&Um(l,null),i0(),wN(l),s!==null&&Ru(s,l,g,!0),l.childLanes=C,null}function ig(s,l){return l=og({mode:l.mode,children:l.children},s.mode),l.ref=s.ref,s.child=l,l.return=s,l}function _E(s,l,d){return fc(l,s.child,null,d),s=ig(l,l.pendingProps),s.flags|=2,Na(l),l.memoizedState=null,s}function J9(s,l,d){var g=l.pendingProps,C=(l.flags&128)!==0;if(l.flags&=-129,s===null){if(Pt){if(g.mode==="hidden")return s=ig(l,g),l.lanes=536870912,Ff(null,s);if(o0(l),(s=mr)?(s=RT(s,Ya),s=s!==null&&s.data==="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:Vo!==null?{id:Ji,overflow:es}:null,retryLane:536870912,hydrationErrors:null},d=nN(s),d.return=l,l.child=d,wn=l,mr=null)):s=null,s===null)throw Qo(l);return l.lanes=536870912,null}return ig(l,g)}var E=s.memoizedState;if(E!==null){var L=E.dehydrated;if(o0(l),C)if(l.flags&256)l.flags&=-257,l=_E(s,l,d);else if(l.memoizedState!==null)l.child=s.child,l.flags|=128,l=null;else throw Error(n(558));else if(Kr||Ru(s,l,d,!1),C=(d&s.childLanes)!==0,Kr||C){if(g=sr,g!==null&&(L=Fe(g,d),L!==0&&L!==E.retryLane))throw E.retryLane=L,ac(s,L),fa(g,s,L),E0;gg(),l=_E(s,l,d)}else s=E.treeContext,mr=Xa(L.nextSibling),wn=l,Pt=!0,Yo=null,Ya=!1,s!==null&&sN(l,s),l=ig(l,g),l.flags|=4096;return l}return s=Is(s.child,{mode:g.mode,children:g.children}),s.ref=l.ref,l.child=s,s.return=l,s}function sg(s,l){var d=l.ref;if(d===null)s!==null&&s.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(n(284));(s===null||s.ref!==d)&&(l.flags|=4194816)}}function T0(s,l,d,g,C){return lc(l),d=c0(s,l,d,g,void 0,C),g=u0(),s!==null&&!Kr?(d0(s,l,C),Us(s,l,C)):(Pt&&g&&H_(l),l.flags|=1,jn(s,l,d,C),l.child)}function xE(s,l,d,g,C,E){return lc(l),l.updateQueue=null,d=jN(l,g,d,C),SN(s),g=u0(),s!==null&&!Kr?(d0(s,l,E),Us(s,l,E)):(Pt&&g&&H_(l),l.flags|=1,jn(s,l,d,E),l.child)}function wE(s,l,d,g,C){if(lc(l),l.stateNode===null){var E=Eu,L=d.contextType;typeof L=="object"&&L!==null&&(E=Sn(L)),E=new d(g,E),l.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=k0,l.stateNode=E,E._reactInternals=l,E=l.stateNode,E.props=g,E.state=l.memoizedState,E.refs={},t0(l),L=d.contextType,E.context=typeof L=="object"&&L!==null?Sn(L):Eu,E.state=l.memoizedState,L=d.getDerivedStateFromProps,typeof L=="function"&&(C0(l,d,L,g),E.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(L=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),L!==E.state&&k0.enqueueReplaceState(E,E.state,null),Lf(l,g,E,C),Mf(),E.state=l.memoizedState),typeof E.componentDidMount=="function"&&(l.flags|=4194308),g=!0}else if(s===null){E=l.stateNode;var H=l.memoizedProps,Z=hc(d,H);E.props=Z;var de=E.context,ve=d.contextType;L=Eu,typeof ve=="object"&&ve!==null&&(L=Sn(ve));var be=d.getDerivedStateFromProps;ve=typeof be=="function"||typeof E.getSnapshotBeforeUpdate=="function",H=l.pendingProps!==H,ve||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(H||de!==L)&&lE(l,E,g,L),Zo=!1;var fe=l.memoizedState;E.state=fe,Lf(l,g,E,C),Mf(),de=l.memoizedState,H||fe!==de||Zo?(typeof be=="function"&&(C0(l,d,be,g),de=l.memoizedState),(Z=Zo||oE(l,d,Z,g,fe,de,L))?(ve||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(l.flags|=4194308)):(typeof E.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=de),E.props=g,E.state=de,E.context=L,g=Z):(typeof E.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{E=l.stateNode,r0(s,l),L=l.memoizedProps,ve=hc(d,L),E.props=ve,be=l.pendingProps,fe=E.context,de=d.contextType,Z=Eu,typeof de=="object"&&de!==null&&(Z=Sn(de)),H=d.getDerivedStateFromProps,(de=typeof H=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(L!==be||fe!==Z)&&lE(l,E,g,Z),Zo=!1,fe=l.memoizedState,E.state=fe,Lf(l,g,E,C),Mf();var he=l.memoizedState;L!==be||fe!==he||Zo||s!==null&&s.dependencies!==null&&Fm(s.dependencies)?(typeof H=="function"&&(C0(l,d,H,g),he=l.memoizedState),(ve=Zo||oE(l,d,ve,g,fe,he,Z)||s!==null&&s.dependencies!==null&&Fm(s.dependencies))?(de||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(g,he,Z),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(g,he,Z)),typeof E.componentDidUpdate=="function"&&(l.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof E.componentDidUpdate!="function"||L===s.memoizedProps&&fe===s.memoizedState||(l.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||L===s.memoizedProps&&fe===s.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=he),E.props=g,E.state=he,E.context=Z,g=ve):(typeof E.componentDidUpdate!="function"||L===s.memoizedProps&&fe===s.memoizedState||(l.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||L===s.memoizedProps&&fe===s.memoizedState||(l.flags|=1024),g=!1)}return E=g,sg(s,l),g=(l.flags&128)!==0,E||g?(E=l.stateNode,d=g&&typeof d.getDerivedStateFromError!="function"?null:E.render(),l.flags|=1,s!==null&&g?(l.child=fc(l,s.child,null,C),l.child=fc(l,null,d,C)):jn(s,l,d,C),l.memoizedState=E.state,s=l.child):s=Us(s,l,C),s}function SE(s,l,d,g){return sc(),l.flags|=256,jn(s,l,d,g),l.child}var P0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function A0(s){return{baseLanes:s,cachePool:fN()}}function R0(s,l,d){return s=s!==null?s.childLanes&~d:0,l&&(s|=Ta),s}function jE(s,l,d){var g=l.pendingProps,C=!1,E=(l.flags&128)!==0,L;if((L=E)||(L=s!==null&&s.memoizedState===null?!1:(Br.current&2)!==0),L&&(C=!0,l.flags&=-129),L=(l.flags&32)!==0,l.flags&=-33,s===null){if(Pt){if(C?tl(l):rl(),(s=mr)?(s=RT(s,Ya),s=s!==null&&s.data!=="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:Vo!==null?{id:Ji,overflow:es}:null,retryLane:536870912,hydrationErrors:null},d=nN(s),d.return=l,l.child=d,wn=l,mr=null)):s=null,s===null)throw Qo(l);return h1(s)?l.lanes=32:l.lanes=536870912,null}var H=g.children;return g=g.fallback,C?(rl(),C=l.mode,H=og({mode:"hidden",children:H},C),g=ic(g,C,d,null),H.return=l,g.return=l,H.sibling=g,l.child=H,g=l.child,g.memoizedState=A0(d),g.childLanes=R0(s,L,d),l.memoizedState=P0,Ff(null,g)):(tl(l),O0(l,H))}var Z=s.memoizedState;if(Z!==null&&(H=Z.dehydrated,H!==null)){if(E)l.flags&256?(tl(l),l.flags&=-257,l=D0(s,l,d)):l.memoizedState!==null?(rl(),l.child=s.child,l.flags|=128,l=null):(rl(),H=g.fallback,C=l.mode,g=og({mode:"visible",children:g.children},C),H=ic(H,C,d,null),H.flags|=2,g.return=l,H.return=l,g.sibling=H,l.child=g,fc(l,s.child,null,d),g=l.child,g.memoizedState=A0(d),g.childLanes=R0(s,L,d),l.memoizedState=P0,l=Ff(null,g));else if(tl(l),h1(H)){if(L=H.nextSibling&&H.nextSibling.dataset,L)var de=L.dgst;L=de,g=Error(n(419)),g.stack="",g.digest=L,Tf({value:g,source:null,stack:null}),l=D0(s,l,d)}else if(Kr||Ru(s,l,d,!1),L=(d&s.childLanes)!==0,Kr||L){if(L=sr,L!==null&&(g=Fe(L,d),g!==0&&g!==Z.retryLane))throw Z.retryLane=g,ac(s,g),fa(L,s,g),E0;p1(H)||gg(),l=D0(s,l,d)}else p1(H)?(l.flags|=192,l.child=s.child,l=null):(s=Z.treeContext,mr=Xa(H.nextSibling),wn=l,Pt=!0,Yo=null,Ya=!1,s!==null&&sN(l,s),l=O0(l,g.children),l.flags|=4096);return l}return C?(rl(),H=g.fallback,C=l.mode,Z=s.child,de=Z.sibling,g=Is(Z,{mode:"hidden",children:g.children}),g.subtreeFlags=Z.subtreeFlags&65011712,de!==null?H=Is(de,H):(H=ic(H,C,d,null),H.flags|=2),H.return=l,g.return=l,g.sibling=H,l.child=g,Ff(null,g),g=l.child,H=s.child.memoizedState,H===null?H=A0(d):(C=H.cachePool,C!==null?(Z=Hr._currentValue,C=C.parent!==Z?{parent:Z,pool:Z}:C):C=fN(),H={baseLanes:H.baseLanes|d,cachePool:C}),g.memoizedState=H,g.childLanes=R0(s,L,d),l.memoizedState=P0,Ff(s.child,g)):(tl(l),d=s.child,s=d.sibling,d=Is(d,{mode:"visible",children:g.children}),d.return=l,d.sibling=null,s!==null&&(L=l.deletions,L===null?(l.deletions=[s],l.flags|=16):L.push(s)),l.child=d,l.memoizedState=null,d)}function O0(s,l){return l=og({mode:"visible",children:l},s.mode),l.return=s,s.child=l}function og(s,l){return s=Ca(22,s,null,l),s.lanes=0,s}function D0(s,l,d){return fc(l,s.child,null,d),s=O0(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function CE(s,l,d){s.lanes|=l;var g=s.alternate;g!==null&&(g.lanes|=l),Y_(s.return,l,d)}function M0(s,l,d,g,C,E){var L=s.memoizedState;L===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:C,treeForkCount:E}:(L.isBackwards=l,L.rendering=null,L.renderingStartTime=0,L.last=g,L.tail=d,L.tailMode=C,L.treeForkCount=E)}function kE(s,l,d){var g=l.pendingProps,C=g.revealOrder,E=g.tail;g=g.children;var L=Br.current,H=(L&2)!==0;if(H?(L=L&1|2,l.flags|=128):L&=1,ee(Br,L),jn(s,l,g,d),g=Pt?Ef:0,!H&&s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&CE(s,d,l);else if(s.tag===19)CE(s,d,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(C){case"forwards":for(d=l.child,C=null;d!==null;)s=d.alternate,s!==null&&Ym(s)===null&&(C=d),d=d.sibling;d=C,d===null?(C=l.child,l.child=null):(C=d.sibling,d.sibling=null),M0(l,!1,C,d,E,g);break;case"backwards":case"unstable_legacy-backwards":for(d=null,C=l.child,l.child=null;C!==null;){if(s=C.alternate,s!==null&&Ym(s)===null){l.child=C;break}s=C.sibling,C.sibling=d,d=C,C=s}M0(l,!0,d,null,E,g);break;case"together":M0(l,!1,null,null,void 0,g);break;default:l.memoizedState=null}return l.child}function Us(s,l,d){if(s!==null&&(l.dependencies=s.dependencies),il|=l.lanes,(d&l.childLanes)===0)if(s!==null){if(Ru(s,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(s!==null&&l.child!==s.child)throw Error(n(153));if(l.child!==null){for(s=l.child,d=Is(s,s.pendingProps),l.child=d,d.return=l;s.sibling!==null;)s=s.sibling,d=d.sibling=Is(s,s.pendingProps),d.return=l;d.sibling=null}return l.child}function L0(s,l){return(s.lanes&l)!==0?!0:(s=s.dependencies,!!(s!==null&&Fm(s)))}function eB(s,l,d){switch(l.tag){case 3:He(l,l.stateNode.containerInfo),Xo(l,Hr,s.memoizedState.cache),sc();break;case 27:case 5:Pe(l);break;case 4:He(l,l.stateNode.containerInfo);break;case 10:Xo(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,o0(l),null;break;case 13:var g=l.memoizedState;if(g!==null)return g.dehydrated!==null?(tl(l),l.flags|=128,null):(d&l.child.childLanes)!==0?jE(s,l,d):(tl(l),s=Us(s,l,d),s!==null?s.sibling:null);tl(l);break;case 19:var C=(s.flags&128)!==0;if(g=(d&l.childLanes)!==0,g||(Ru(s,l,d,!1),g=(d&l.childLanes)!==0),C){if(g)return kE(s,l,d);l.flags|=128}if(C=l.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),ee(Br,Br.current),g)break;return null;case 22:return l.lanes=0,yE(s,l,d,l.pendingProps);case 24:Xo(l,Hr,s.memoizedState.cache)}return Us(s,l,d)}function NE(s,l,d){if(s!==null)if(s.memoizedProps!==l.pendingProps)Kr=!0;else{if(!L0(s,d)&&(l.flags&128)===0)return Kr=!1,eB(s,l,d);Kr=(s.flags&131072)!==0}else Kr=!1,Pt&&(l.flags&1048576)!==0&&iN(l,Ef,l.index);switch(l.lanes=0,l.tag){case 16:e:{var g=l.pendingProps;if(s=uc(l.elementType),l.type=s,typeof s=="function")F_(s)?(g=hc(s,g),l.tag=1,l=wE(null,l,s,g,d)):(l.tag=0,l=T0(null,l,s,g,d));else{if(s!=null){var C=s.$$typeof;if(C===N){l.tag=11,l=mE(null,l,s,g,d);break e}else if(C===k){l.tag=14,l=gE(null,l,s,g,d);break e}}throw l=F(s)||s,Error(n(306,l,""))}}return l;case 0:return T0(s,l,l.type,l.pendingProps,d);case 1:return g=l.type,C=hc(g,l.pendingProps),wE(s,l,g,C,d);case 3:e:{if(He(l,l.stateNode.containerInfo),s===null)throw Error(n(387));g=l.pendingProps;var E=l.memoizedState;C=E.element,r0(s,l),Lf(l,g,null,d);var L=l.memoizedState;if(g=L.cache,Xo(l,Hr,g),g!==E.cache&&Q_(l,[Hr],d,!0),Mf(),g=L.element,E.isDehydrated)if(E={element:g,isDehydrated:!1,cache:L.cache},l.updateQueue.baseState=E,l.memoizedState=E,l.flags&256){l=SE(s,l,g,d);break e}else if(g!==C){C=Ka(Error(n(424)),l),Tf(C),l=SE(s,l,g,d);break e}else{switch(s=l.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(mr=Xa(s.firstChild),wn=l,Pt=!0,Yo=null,Ya=!0,d=yN(l,null,g,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(sc(),g===C){l=Us(s,l,d);break e}jn(s,l,g,d)}l=l.child}return l;case 26:return sg(s,l),s===null?(d=$T(l.type,null,l.pendingProps,null))?l.memoizedState=d:Pt||(d=l.type,s=l.pendingProps,g=Sg(Ce.current).createElement(d),g[_r]=l,g[Ur]=s,Cn(g,d,s),cn(g),l.stateNode=g):l.memoizedState=$T(l.type,s.memoizedProps,l.pendingProps,s.memoizedState),null;case 27:return Pe(l),s===null&&Pt&&(g=l.stateNode=MT(l.type,l.pendingProps,Ce.current),wn=l,Ya=!0,C=mr,ul(l.type)?(m1=C,mr=Xa(g.firstChild)):mr=C),jn(s,l,l.pendingProps.children,d),sg(s,l),s===null&&(l.flags|=4194304),l.child;case 5:return s===null&&Pt&&((C=g=mr)&&(g=PB(g,l.type,l.pendingProps,Ya),g!==null?(l.stateNode=g,wn=l,mr=Xa(g.firstChild),Ya=!1,C=!0):C=!1),C||Qo(l)),Pe(l),C=l.type,E=l.pendingProps,L=s!==null?s.memoizedProps:null,g=E.children,u1(C,E)?g=null:L!==null&&u1(C,L)&&(l.flags|=32),l.memoizedState!==null&&(C=c0(s,l,W9,null,null,d),rp._currentValue=C),sg(s,l),jn(s,l,g,d),l.child;case 6:return s===null&&Pt&&((s=d=mr)&&(d=AB(d,l.pendingProps,Ya),d!==null?(l.stateNode=d,wn=l,mr=null,s=!0):s=!1),s||Qo(l)),null;case 13:return jE(s,l,d);case 4:return He(l,l.stateNode.containerInfo),g=l.pendingProps,s===null?l.child=fc(l,null,g,d):jn(s,l,g,d),l.child;case 11:return mE(s,l,l.type,l.pendingProps,d);case 7:return jn(s,l,l.pendingProps,d),l.child;case 8:return jn(s,l,l.pendingProps.children,d),l.child;case 12:return jn(s,l,l.pendingProps.children,d),l.child;case 10:return g=l.pendingProps,Xo(l,l.type,g.value),jn(s,l,g.children,d),l.child;case 9:return C=l.type._context,g=l.pendingProps.children,lc(l),C=Sn(C),g=g(C),l.flags|=1,jn(s,l,g,d),l.child;case 14:return gE(s,l,l.type,l.pendingProps,d);case 15:return vE(s,l,l.type,l.pendingProps,d);case 19:return kE(s,l,d);case 31:return J9(s,l,d);case 22:return yE(s,l,d,l.pendingProps);case 24:return lc(l),g=Sn(Hr),s===null?(C=J_(),C===null&&(C=sr,E=X_(),C.pooledCache=E,E.refCount++,E!==null&&(C.pooledCacheLanes|=d),C=E),l.memoizedState={parent:g,cache:C},t0(l),Xo(l,Hr,C)):((s.lanes&d)!==0&&(r0(s,l),Lf(l,null,null,d),Mf()),C=s.memoizedState,E=l.memoizedState,C.parent!==g?(C={parent:g,cache:g},l.memoizedState=C,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=C),Xo(l,Hr,g)):(g=E.cache,Xo(l,Hr,g),g!==C.cache&&Q_(l,[Hr],d,!0))),jn(s,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(n(156,l.tag))}function Hs(s){s.flags|=4}function I0(s,l,d,g,C){if((l=(s.mode&32)!==0)&&(l=!1),l){if(s.flags|=16777216,(C&335544128)===C)if(s.stateNode.complete)s.flags|=8192;else if(eT())s.flags|=8192;else throw dc=Wm,e0}else s.flags&=-16777217}function EE(s,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!UT(l))if(eT())s.flags|=8192;else throw dc=Wm,e0}function lg(s,l){l!==null&&(s.flags|=4),s.flags&16384&&(l=s.tag!==22?Sa():536870912,s.lanes|=l,Hu|=l)}function qf(s,l){if(!Pt)switch(s.tailMode){case"hidden":l=s.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function gr(s){var l=s.alternate!==null&&s.alternate.child===s.child,d=0,g=0;if(l)for(var C=s.child;C!==null;)d|=C.lanes|C.childLanes,g|=C.subtreeFlags&65011712,g|=C.flags&65011712,C.return=s,C=C.sibling;else for(C=s.child;C!==null;)d|=C.lanes|C.childLanes,g|=C.subtreeFlags,g|=C.flags,C.return=s,C=C.sibling;return s.subtreeFlags|=g,s.childLanes=d,l}function tB(s,l,d){var g=l.pendingProps;switch(W_(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gr(l),null;case 1:return gr(l),null;case 3:return d=l.stateNode,g=null,s!==null&&(g=s.memoizedState.cache),l.memoizedState.cache!==g&&(l.flags|=2048),zs(Hr),re(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(Au(l)?Hs(l):s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,G_())),gr(l),null;case 26:var C=l.type,E=l.memoizedState;return s===null?(Hs(l),E!==null?(gr(l),EE(l,E)):(gr(l),I0(l,C,null,g,d))):E?E!==s.memoizedState?(Hs(l),gr(l),EE(l,E)):(gr(l),l.flags&=-16777217):(s=s.memoizedProps,s!==g&&Hs(l),gr(l),I0(l,C,s,g,d)),null;case 27:if(Ne(l),d=Ce.current,C=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==g&&Hs(l);else{if(!g){if(l.stateNode===null)throw Error(n(166));return gr(l),null}s=te.current,Au(l)?oN(l):(s=MT(C,g,d),l.stateNode=s,Hs(l))}return gr(l),null;case 5:if(Ne(l),C=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==g&&Hs(l);else{if(!g){if(l.stateNode===null)throw Error(n(166));return gr(l),null}if(E=te.current,Au(l))oN(l);else{var L=Sg(Ce.current);switch(E){case 1:E=L.createElementNS("http://www.w3.org/2000/svg",C);break;case 2:E=L.createElementNS("http://www.w3.org/1998/Math/MathML",C);break;default:switch(C){case"svg":E=L.createElementNS("http://www.w3.org/2000/svg",C);break;case"math":E=L.createElementNS("http://www.w3.org/1998/Math/MathML",C);break;case"script":E=L.createElement("div"),E.innerHTML="<script><\/script>",E=E.removeChild(E.firstChild);break;case"select":E=typeof g.is=="string"?L.createElement("select",{is:g.is}):L.createElement("select"),g.multiple?E.multiple=!0:g.size&&(E.size=g.size);break;default:E=typeof g.is=="string"?L.createElement(C,{is:g.is}):L.createElement(C)}}E[_r]=l,E[Ur]=g;e:for(L=l.child;L!==null;){if(L.tag===5||L.tag===6)E.appendChild(L.stateNode);else if(L.tag!==4&&L.tag!==27&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===l)break e;for(;L.sibling===null;){if(L.return===null||L.return===l)break e;L=L.return}L.sibling.return=L.return,L=L.sibling}l.stateNode=E;e:switch(Cn(E,C,g),C){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&Hs(l)}}return gr(l),I0(l,l.type,s===null?null:s.memoizedProps,l.pendingProps,d),null;case 6:if(s&&l.stateNode!=null)s.memoizedProps!==g&&Hs(l);else{if(typeof g!="string"&&l.stateNode===null)throw Error(n(166));if(s=Ce.current,Au(l)){if(s=l.stateNode,d=l.memoizedProps,g=null,C=wn,C!==null)switch(C.tag){case 27:case 5:g=C.memoizedProps}s[_r]=l,s=!!(s.nodeValue===d||g!==null&&g.suppressHydrationWarning===!0||jT(s.nodeValue,d)),s||Qo(l,!0)}else s=Sg(s).createTextNode(g),s[_r]=l,l.stateNode=s}return gr(l),null;case 31:if(d=l.memoizedState,s===null||s.memoizedState!==null){if(g=Au(l),d!==null){if(s===null){if(!g)throw Error(n(318));if(s=l.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(557));s[_r]=l}else sc(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;gr(l),s=!1}else d=G_(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=d),s=!0;if(!s)return l.flags&256?(Na(l),l):(Na(l),null);if((l.flags&128)!==0)throw Error(n(558))}return gr(l),null;case 13:if(g=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(C=Au(l),g!==null&&g.dehydrated!==null){if(s===null){if(!C)throw Error(n(318));if(C=l.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(n(317));C[_r]=l}else sc(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;gr(l),C=!1}else C=G_(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=C),C=!0;if(!C)return l.flags&256?(Na(l),l):(Na(l),null)}return Na(l),(l.flags&128)!==0?(l.lanes=d,l):(d=g!==null,s=s!==null&&s.memoizedState!==null,d&&(g=l.child,C=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(C=g.alternate.memoizedState.cachePool.pool),E=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(E=g.memoizedState.cachePool.pool),E!==C&&(g.flags|=2048)),d!==s&&d&&(l.child.flags|=8192),lg(l,l.updateQueue),gr(l),null);case 4:return re(),s===null&&i1(l.stateNode.containerInfo),gr(l),null;case 10:return zs(l.type),gr(l),null;case 19:if(X(Br),g=l.memoizedState,g===null)return gr(l),null;if(C=(l.flags&128)!==0,E=g.rendering,E===null)if(C)qf(g,!1);else{if(Pr!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(E=Ym(s),E!==null){for(l.flags|=128,qf(g,!1),s=E.updateQueue,l.updateQueue=s,lg(l,s),l.subtreeFlags=0,s=d,d=l.child;d!==null;)rN(d,s),d=d.sibling;return ee(Br,Br.current&1|2),Pt&&$s(l,g.treeForkCount),l.child}s=s.sibling}g.tail!==null&&It()>pg&&(l.flags|=128,C=!0,qf(g,!1),l.lanes=4194304)}else{if(!C)if(s=Ym(E),s!==null){if(l.flags|=128,C=!0,s=s.updateQueue,l.updateQueue=s,lg(l,s),qf(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!Pt)return gr(l),null}else 2*It()-g.renderingStartTime>pg&&d!==536870912&&(l.flags|=128,C=!0,qf(g,!1),l.lanes=4194304);g.isBackwards?(E.sibling=l.child,l.child=E):(s=g.last,s!==null?s.sibling=E:l.child=E,g.last=E)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=It(),s.sibling=null,d=Br.current,ee(Br,C?d&1|2:d&1),Pt&&$s(l,g.treeForkCount),s):(gr(l),null);case 22:case 23:return Na(l),s0(),g=l.memoizedState!==null,s!==null?s.memoizedState!==null!==g&&(l.flags|=8192):g&&(l.flags|=8192),g?(d&536870912)!==0&&(l.flags&128)===0&&(gr(l),l.subtreeFlags&6&&(l.flags|=8192)):gr(l),d=l.updateQueue,d!==null&&lg(l,d.retryQueue),d=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),g=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),g!==d&&(l.flags|=2048),s!==null&&X(cc),null;case 24:return d=null,s!==null&&(d=s.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),zs(Hr),gr(l),null;case 25:return null;case 30:return null}throw Error(n(156,l.tag))}function rB(s,l){switch(W_(l),l.tag){case 1:return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return zs(Hr),re(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 26:case 27:case 5:return Ne(l),null;case 31:if(l.memoizedState!==null){if(Na(l),l.alternate===null)throw Error(n(340));sc()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 13:if(Na(l),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(n(340));sc()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return X(Br),null;case 4:return re(),null;case 10:return zs(l.type),null;case 22:case 23:return Na(l),s0(),s!==null&&X(cc),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 24:return zs(Hr),null;case 25:return null;default:return null}}function TE(s,l){switch(W_(l),l.tag){case 3:zs(Hr),re();break;case 26:case 27:case 5:Ne(l);break;case 4:re();break;case 31:l.memoizedState!==null&&Na(l);break;case 13:Na(l);break;case 19:X(Br);break;case 10:zs(l.type);break;case 22:case 23:Na(l),s0(),s!==null&&X(cc);break;case 24:zs(Hr)}}function Uf(s,l){try{var d=l.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var C=g.next;d=C;do{if((d.tag&s)===s){g=void 0;var E=d.create,L=d.inst;g=E(),L.destroy=g}d=d.next}while(d!==C)}}catch(H){Xt(l,l.return,H)}}function nl(s,l,d){try{var g=l.updateQueue,C=g!==null?g.lastEffect:null;if(C!==null){var E=C.next;g=E;do{if((g.tag&s)===s){var L=g.inst,H=L.destroy;if(H!==void 0){L.destroy=void 0,C=l;var Z=d,de=H;try{de()}catch(ve){Xt(C,Z,ve)}}}g=g.next}while(g!==E)}}catch(ve){Xt(l,l.return,ve)}}function PE(s){var l=s.updateQueue;if(l!==null){var d=s.stateNode;try{_N(l,d)}catch(g){Xt(s,s.return,g)}}}function AE(s,l,d){d.props=hc(s.type,s.memoizedProps),d.state=s.memoizedState;try{d.componentWillUnmount()}catch(g){Xt(s,l,g)}}function Hf(s,l){try{var d=s.ref;if(d!==null){switch(s.tag){case 26:case 27:case 5:var g=s.stateNode;break;case 30:g=s.stateNode;break;default:g=s.stateNode}typeof d=="function"?s.refCleanup=d(g):d.current=g}}catch(C){Xt(s,l,C)}}function ts(s,l){var d=s.ref,g=s.refCleanup;if(d!==null)if(typeof g=="function")try{g()}catch(C){Xt(s,l,C)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(C){Xt(s,l,C)}else d.current=null}function RE(s){var l=s.type,d=s.memoizedProps,g=s.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&g.focus();break e;case"img":d.src?g.src=d.src:d.srcSet&&(g.srcset=d.srcSet)}}catch(C){Xt(s,s.return,C)}}function $0(s,l,d){try{var g=s.stateNode;jB(g,s.type,d,l),g[Ur]=l}catch(C){Xt(s,s.return,C)}}function OE(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ul(s.type)||s.tag===4}function B0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||OE(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ul(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function z0(s,l,d){var g=s.tag;if(g===5||g===6)s=s.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(s,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(s),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Ms));else if(g!==4&&(g===27&&ul(s.type)&&(d=s.stateNode,l=null),s=s.child,s!==null))for(z0(s,l,d),s=s.sibling;s!==null;)z0(s,l,d),s=s.sibling}function cg(s,l,d){var g=s.tag;if(g===5||g===6)s=s.stateNode,l?d.insertBefore(s,l):d.appendChild(s);else if(g!==4&&(g===27&&ul(s.type)&&(d=s.stateNode),s=s.child,s!==null))for(cg(s,l,d),s=s.sibling;s!==null;)cg(s,l,d),s=s.sibling}function DE(s){var l=s.stateNode,d=s.memoizedProps;try{for(var g=s.type,C=l.attributes;C.length;)l.removeAttributeNode(C[0]);Cn(l,g,d),l[_r]=s,l[Ur]=d}catch(E){Xt(s,s.return,E)}}var Ws=!1,Gr=!1,F0=!1,ME=typeof WeakSet=="function"?WeakSet:Set,un=null;function nB(s,l){if(s=s.containerInfo,l1=Pg,s=G2(s),D_(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var C=g.anchorOffset,E=g.focusNode;g=g.focusOffset;try{d.nodeType,E.nodeType}catch{d=null;break e}var L=0,H=-1,Z=-1,de=0,ve=0,be=s,fe=null;t:for(;;){for(var he;be!==d||C!==0&&be.nodeType!==3||(H=L+C),be!==E||g!==0&&be.nodeType!==3||(Z=L+g),be.nodeType===3&&(L+=be.nodeValue.length),(he=be.firstChild)!==null;)fe=be,be=he;for(;;){if(be===s)break t;if(fe===d&&++de===C&&(H=L),fe===E&&++ve===g&&(Z=L),(he=be.nextSibling)!==null)break;be=fe,fe=be.parentNode}be=he}d=H===-1||Z===-1?null:{start:H,end:Z}}else d=null}d=d||{start:0,end:0}}else d=null;for(c1={focusedElem:s,selectionRange:d},Pg=!1,un=l;un!==null;)if(l=un,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,un=s;else for(;un!==null;){switch(l=un,E=l.alternate,s=l.flags,l.tag){case 0:if((s&4)!==0&&(s=l.updateQueue,s=s!==null?s.events:null,s!==null))for(d=0;d<s.length;d++)C=s[d],C.ref.impl=C.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&E!==null){s=void 0,d=l,C=E.memoizedProps,E=E.memoizedState,g=d.stateNode;try{var Be=hc(d.type,C);s=g.getSnapshotBeforeUpdate(Be,E),g.__reactInternalSnapshotBeforeUpdate=s}catch(Ze){Xt(d,d.return,Ze)}}break;case 3:if((s&1024)!==0){if(s=l.stateNode.containerInfo,d=s.nodeType,d===9)f1(s);else if(d===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":f1(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(n(163))}if(s=l.sibling,s!==null){s.return=l.return,un=s;break}un=l.return}}function LE(s,l,d){var g=d.flags;switch(d.tag){case 0:case 11:case 15:Gs(s,d),g&4&&Uf(5,d);break;case 1:if(Gs(s,d),g&4)if(s=d.stateNode,l===null)try{s.componentDidMount()}catch(L){Xt(d,d.return,L)}else{var C=hc(d.type,l.memoizedProps);l=l.memoizedState;try{s.componentDidUpdate(C,l,s.__reactInternalSnapshotBeforeUpdate)}catch(L){Xt(d,d.return,L)}}g&64&&PE(d),g&512&&Hf(d,d.return);break;case 3:if(Gs(s,d),g&64&&(s=d.updateQueue,s!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{_N(s,l)}catch(L){Xt(d,d.return,L)}}break;case 27:l===null&&g&4&&DE(d);case 26:case 5:Gs(s,d),l===null&&g&4&&RE(d),g&512&&Hf(d,d.return);break;case 12:Gs(s,d);break;case 31:Gs(s,d),g&4&&BE(s,d);break;case 13:Gs(s,d),g&4&&zE(s,d),g&64&&(s=d.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(d=fB.bind(null,d),RB(s,d))));break;case 22:if(g=d.memoizedState!==null||Ws,!g){l=l!==null&&l.memoizedState!==null||Gr,C=Ws;var E=Gr;Ws=g,(Gr=l)&&!E?Vs(s,d,(d.subtreeFlags&8772)!==0):Gs(s,d),Ws=C,Gr=E}break;case 30:break;default:Gs(s,d)}}function IE(s){var l=s.alternate;l!==null&&(s.alternate=null,IE(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&v_(l)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var xr=null,la=!1;function Ks(s,l,d){for(d=d.child;d!==null;)$E(s,l,d),d=d.sibling}function $E(s,l,d){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(Tt,d)}catch{}switch(d.tag){case 26:Gr||ts(d,l),Ks(s,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Gr||ts(d,l);var g=xr,C=la;ul(d.type)&&(xr=d.stateNode,la=!1),Ks(s,l,d),Jf(d.stateNode),xr=g,la=C;break;case 5:Gr||ts(d,l);case 6:if(g=xr,C=la,xr=null,Ks(s,l,d),xr=g,la=C,xr!==null)if(la)try{(xr.nodeType===9?xr.body:xr.nodeName==="HTML"?xr.ownerDocument.body:xr).removeChild(d.stateNode)}catch(E){Xt(d,l,E)}else try{xr.removeChild(d.stateNode)}catch(E){Xt(d,l,E)}break;case 18:xr!==null&&(la?(s=xr,PT(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,d.stateNode),Zu(s)):PT(xr,d.stateNode));break;case 4:g=xr,C=la,xr=d.stateNode.containerInfo,la=!0,Ks(s,l,d),xr=g,la=C;break;case 0:case 11:case 14:case 15:nl(2,d,l),Gr||nl(4,d,l),Ks(s,l,d);break;case 1:Gr||(ts(d,l),g=d.stateNode,typeof g.componentWillUnmount=="function"&&AE(d,l,g)),Ks(s,l,d);break;case 21:Ks(s,l,d);break;case 22:Gr=(g=Gr)||d.memoizedState!==null,Ks(s,l,d),Gr=g;break;default:Ks(s,l,d)}}function BE(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Zu(s)}catch(d){Xt(l,l.return,d)}}}function zE(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Zu(s)}catch(d){Xt(l,l.return,d)}}function aB(s){switch(s.tag){case 31:case 13:case 19:var l=s.stateNode;return l===null&&(l=s.stateNode=new ME),l;case 22:return s=s.stateNode,l=s._retryCache,l===null&&(l=s._retryCache=new ME),l;default:throw Error(n(435,s.tag))}}function ug(s,l){var d=aB(s);l.forEach(function(g){if(!d.has(g)){d.add(g);var C=pB.bind(null,s,g);g.then(C,C)}})}function ca(s,l){var d=l.deletions;if(d!==null)for(var g=0;g<d.length;g++){var C=d[g],E=s,L=l,H=L;e:for(;H!==null;){switch(H.tag){case 27:if(ul(H.type)){xr=H.stateNode,la=!1;break e}break;case 5:xr=H.stateNode,la=!1;break e;case 3:case 4:xr=H.stateNode.containerInfo,la=!0;break e}H=H.return}if(xr===null)throw Error(n(160));$E(E,L,C),xr=null,la=!1,E=C.alternate,E!==null&&(E.return=null),C.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)FE(l,s),l=l.sibling}var Ni=null;function FE(s,l){var d=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:ca(l,s),ua(s),g&4&&(nl(3,s,s.return),Uf(3,s),nl(5,s,s.return));break;case 1:ca(l,s),ua(s),g&512&&(Gr||d===null||ts(d,d.return)),g&64&&Ws&&(s=s.updateQueue,s!==null&&(g=s.callbacks,g!==null&&(d=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=d===null?g:d.concat(g))));break;case 26:var C=Ni;if(ca(l,s),ua(s),g&512&&(Gr||d===null||ts(d,d.return)),g&4){var E=d!==null?d.memoizedState:null;if(g=s.memoizedState,d===null)if(g===null)if(s.stateNode===null){e:{g=s.type,d=s.memoizedProps,C=C.ownerDocument||C;t:switch(g){case"title":E=C.getElementsByTagName("title")[0],(!E||E[vf]||E[_r]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=C.createElement(g),C.head.insertBefore(E,C.querySelector("head > title"))),Cn(E,g,d),E[_r]=s,cn(E),g=E;break e;case"link":var L=FT("link","href",C).get(g+(d.href||""));if(L){for(var H=0;H<L.length;H++)if(E=L[H],E.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&E.getAttribute("rel")===(d.rel==null?null:d.rel)&&E.getAttribute("title")===(d.title==null?null:d.title)&&E.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){L.splice(H,1);break t}}E=C.createElement(g),Cn(E,g,d),C.head.appendChild(E);break;case"meta":if(L=FT("meta","content",C).get(g+(d.content||""))){for(H=0;H<L.length;H++)if(E=L[H],E.getAttribute("content")===(d.content==null?null:""+d.content)&&E.getAttribute("name")===(d.name==null?null:d.name)&&E.getAttribute("property")===(d.property==null?null:d.property)&&E.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&E.getAttribute("charset")===(d.charSet==null?null:d.charSet)){L.splice(H,1);break t}}E=C.createElement(g),Cn(E,g,d),C.head.appendChild(E);break;default:throw Error(n(468,g))}E[_r]=s,cn(E),g=E}s.stateNode=g}else qT(C,s.type,s.stateNode);else s.stateNode=zT(C,g,s.memoizedProps);else E!==g?(E===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):E.count--,g===null?qT(C,s.type,s.stateNode):zT(C,g,s.memoizedProps)):g===null&&s.stateNode!==null&&$0(s,s.memoizedProps,d.memoizedProps)}break;case 27:ca(l,s),ua(s),g&512&&(Gr||d===null||ts(d,d.return)),d!==null&&g&4&&$0(s,s.memoizedProps,d.memoizedProps);break;case 5:if(ca(l,s),ua(s),g&512&&(Gr||d===null||ts(d,d.return)),s.flags&32){C=s.stateNode;try{xu(C,"")}catch(Be){Xt(s,s.return,Be)}}g&4&&s.stateNode!=null&&(C=s.memoizedProps,$0(s,C,d!==null?d.memoizedProps:C)),g&1024&&(F0=!0);break;case 6:if(ca(l,s),ua(s),g&4){if(s.stateNode===null)throw Error(n(162));g=s.memoizedProps,d=s.stateNode;try{d.nodeValue=g}catch(Be){Xt(s,s.return,Be)}}break;case 3:if(kg=null,C=Ni,Ni=jg(l.containerInfo),ca(l,s),Ni=C,ua(s),g&4&&d!==null&&d.memoizedState.isDehydrated)try{Zu(l.containerInfo)}catch(Be){Xt(s,s.return,Be)}F0&&(F0=!1,qE(s));break;case 4:g=Ni,Ni=jg(s.stateNode.containerInfo),ca(l,s),ua(s),Ni=g;break;case 12:ca(l,s),ua(s);break;case 31:ca(l,s),ua(s),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,ug(s,g)));break;case 13:ca(l,s),ua(s),s.child.flags&8192&&s.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(fg=It()),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,ug(s,g)));break;case 22:C=s.memoizedState!==null;var Z=d!==null&&d.memoizedState!==null,de=Ws,ve=Gr;if(Ws=de||C,Gr=ve||Z,ca(l,s),Gr=ve,Ws=de,ua(s),g&8192)e:for(l=s.stateNode,l._visibility=C?l._visibility&-2:l._visibility|1,C&&(d===null||Z||Ws||Gr||mc(s)),d=null,l=s;;){if(l.tag===5||l.tag===26){if(d===null){Z=d=l;try{if(E=Z.stateNode,C)L=E.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none";else{H=Z.stateNode;var be=Z.memoizedProps.style,fe=be!=null&&be.hasOwnProperty("display")?be.display:null;H.style.display=fe==null||typeof fe=="boolean"?"":(""+fe).trim()}}catch(Be){Xt(Z,Z.return,Be)}}}else if(l.tag===6){if(d===null){Z=l;try{Z.stateNode.nodeValue=C?"":Z.memoizedProps}catch(Be){Xt(Z,Z.return,Be)}}}else if(l.tag===18){if(d===null){Z=l;try{var he=Z.stateNode;C?AT(he,!0):AT(Z.stateNode,!1)}catch(Be){Xt(Z,Z.return,Be)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===s)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}g&4&&(g=s.updateQueue,g!==null&&(d=g.retryQueue,d!==null&&(g.retryQueue=null,ug(s,d))));break;case 19:ca(l,s),ua(s),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,ug(s,g)));break;case 30:break;case 21:break;default:ca(l,s),ua(s)}}function ua(s){var l=s.flags;if(l&2){try{for(var d,g=s.return;g!==null;){if(OE(g)){d=g;break}g=g.return}if(d==null)throw Error(n(160));switch(d.tag){case 27:var C=d.stateNode,E=B0(s);cg(s,E,C);break;case 5:var L=d.stateNode;d.flags&32&&(xu(L,""),d.flags&=-33);var H=B0(s);cg(s,H,L);break;case 3:case 4:var Z=d.stateNode.containerInfo,de=B0(s);z0(s,de,Z);break;default:throw Error(n(161))}}catch(ve){Xt(s,s.return,ve)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function qE(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var l=s;qE(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),s=s.sibling}}function Gs(s,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)LE(s,l.alternate,l),l=l.sibling}function mc(s){for(s=s.child;s!==null;){var l=s;switch(l.tag){case 0:case 11:case 14:case 15:nl(4,l,l.return),mc(l);break;case 1:ts(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&AE(l,l.return,d),mc(l);break;case 27:Jf(l.stateNode);case 26:case 5:ts(l,l.return),mc(l);break;case 22:l.memoizedState===null&&mc(l);break;case 30:mc(l);break;default:mc(l)}s=s.sibling}}function Vs(s,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var g=l.alternate,C=s,E=l,L=E.flags;switch(E.tag){case 0:case 11:case 15:Vs(C,E,d),Uf(4,E);break;case 1:if(Vs(C,E,d),g=E,C=g.stateNode,typeof C.componentDidMount=="function")try{C.componentDidMount()}catch(de){Xt(g,g.return,de)}if(g=E,C=g.updateQueue,C!==null){var H=g.stateNode;try{var Z=C.shared.hiddenCallbacks;if(Z!==null)for(C.shared.hiddenCallbacks=null,C=0;C<Z.length;C++)bN(Z[C],H)}catch(de){Xt(g,g.return,de)}}d&&L&64&&PE(E),Hf(E,E.return);break;case 27:DE(E);case 26:case 5:Vs(C,E,d),d&&g===null&&L&4&&RE(E),Hf(E,E.return);break;case 12:Vs(C,E,d);break;case 31:Vs(C,E,d),d&&L&4&&BE(C,E);break;case 13:Vs(C,E,d),d&&L&4&&zE(C,E);break;case 22:E.memoizedState===null&&Vs(C,E,d),Hf(E,E.return);break;case 30:break;default:Vs(C,E,d)}l=l.sibling}}function q0(s,l){var d=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==d&&(s!=null&&s.refCount++,d!=null&&Pf(d))}function U0(s,l){s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&Pf(s))}function Ei(s,l,d,g){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)UE(s,l,d,g),l=l.sibling}function UE(s,l,d,g){var C=l.flags;switch(l.tag){case 0:case 11:case 15:Ei(s,l,d,g),C&2048&&Uf(9,l);break;case 1:Ei(s,l,d,g);break;case 3:Ei(s,l,d,g),C&2048&&(s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&Pf(s)));break;case 12:if(C&2048){Ei(s,l,d,g),s=l.stateNode;try{var E=l.memoizedProps,L=E.id,H=E.onPostCommit;typeof H=="function"&&H(L,l.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(Z){Xt(l,l.return,Z)}}else Ei(s,l,d,g);break;case 31:Ei(s,l,d,g);break;case 13:Ei(s,l,d,g);break;case 23:break;case 22:E=l.stateNode,L=l.alternate,l.memoizedState!==null?E._visibility&2?Ei(s,l,d,g):Wf(s,l):E._visibility&2?Ei(s,l,d,g):(E._visibility|=2,Fu(s,l,d,g,(l.subtreeFlags&10256)!==0||!1)),C&2048&&q0(L,l);break;case 24:Ei(s,l,d,g),C&2048&&U0(l.alternate,l);break;default:Ei(s,l,d,g)}}function Fu(s,l,d,g,C){for(C=C&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var E=s,L=l,H=d,Z=g,de=L.flags;switch(L.tag){case 0:case 11:case 15:Fu(E,L,H,Z,C),Uf(8,L);break;case 23:break;case 22:var ve=L.stateNode;L.memoizedState!==null?ve._visibility&2?Fu(E,L,H,Z,C):Wf(E,L):(ve._visibility|=2,Fu(E,L,H,Z,C)),C&&de&2048&&q0(L.alternate,L);break;case 24:Fu(E,L,H,Z,C),C&&de&2048&&U0(L.alternate,L);break;default:Fu(E,L,H,Z,C)}l=l.sibling}}function Wf(s,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=s,g=l,C=g.flags;switch(g.tag){case 22:Wf(d,g),C&2048&&q0(g.alternate,g);break;case 24:Wf(d,g),C&2048&&U0(g.alternate,g);break;default:Wf(d,g)}l=l.sibling}}var Kf=8192;function qu(s,l,d){if(s.subtreeFlags&Kf)for(s=s.child;s!==null;)HE(s,l,d),s=s.sibling}function HE(s,l,d){switch(s.tag){case 26:qu(s,l,d),s.flags&Kf&&s.memoizedState!==null&&HB(d,Ni,s.memoizedState,s.memoizedProps);break;case 5:qu(s,l,d);break;case 3:case 4:var g=Ni;Ni=jg(s.stateNode.containerInfo),qu(s,l,d),Ni=g;break;case 22:s.memoizedState===null&&(g=s.alternate,g!==null&&g.memoizedState!==null?(g=Kf,Kf=16777216,qu(s,l,d),Kf=g):qu(s,l,d));break;default:qu(s,l,d)}}function WE(s){var l=s.alternate;if(l!==null&&(s=l.child,s!==null)){l.child=null;do l=s.sibling,s.sibling=null,s=l;while(s!==null)}}function Gf(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var g=l[d];un=g,GE(g,s)}WE(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)KE(s),s=s.sibling}function KE(s){switch(s.tag){case 0:case 11:case 15:Gf(s),s.flags&2048&&nl(9,s,s.return);break;case 3:Gf(s);break;case 12:Gf(s);break;case 22:var l=s.stateNode;s.memoizedState!==null&&l._visibility&2&&(s.return===null||s.return.tag!==13)?(l._visibility&=-3,dg(s)):Gf(s);break;default:Gf(s)}}function dg(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var g=l[d];un=g,GE(g,s)}WE(s)}for(s=s.child;s!==null;){switch(l=s,l.tag){case 0:case 11:case 15:nl(8,l,l.return),dg(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,dg(l));break;default:dg(l)}s=s.sibling}}function GE(s,l){for(;un!==null;){var d=un;switch(d.tag){case 0:case 11:case 15:nl(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var g=d.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Pf(d.memoizedState.cache)}if(g=d.child,g!==null)g.return=d,un=g;else e:for(d=s;un!==null;){g=un;var C=g.sibling,E=g.return;if(IE(g),g===d){un=null;break e}if(C!==null){C.return=E,un=C;break e}un=E}}}var iB={getCacheForType:function(s){var l=Sn(Hr),d=l.data.get(s);return d===void 0&&(d=s(),l.data.set(s,d)),d},cacheSignal:function(){return Sn(Hr).controller.signal}},sB=typeof WeakMap=="function"?WeakMap:Map,Kt=0,sr=null,xt=null,jt=0,Qt=0,Ea=null,al=!1,Uu=!1,H0=!1,Ys=0,Pr=0,il=0,gc=0,W0=0,Ta=0,Hu=0,Vf=null,da=null,K0=!1,fg=0,VE=0,pg=1/0,hg=null,sl=null,Zr=0,ol=null,Wu=null,Qs=0,G0=0,V0=null,YE=null,Yf=0,Y0=null;function Pa(){return(Kt&2)!==0&&jt!==0?jt&-jt:O.T!==null?t1():Je()}function QE(){if(Ta===0)if((jt&536870912)===0||Pt){var s=Si;Si<<=1,(Si&3932160)===0&&(Si=262144),Ta=s}else Ta=536870912;return s=ka.current,s!==null&&(s.flags|=32),Ta}function fa(s,l,d){(s===sr&&(Qt===2||Qt===9)||s.cancelPendingCommit!==null)&&(Ku(s,0),ll(s,jt,Ta,!1)),Se(s,d),((Kt&2)===0||s!==sr)&&(s===sr&&((Kt&2)===0&&(gc|=d),Pr===4&&ll(s,jt,Ta,!1)),rs(s))}function XE(s,l,d){if((Kt&6)!==0)throw Error(n(327));var g=!d&&(l&127)===0&&(l&s.expiredLanes)===0||sa(s,l),C=g?cB(s,l):X0(s,l,!0),E=g;do{if(C===0){Uu&&!g&&ll(s,l,0,!1);break}else{if(d=s.current.alternate,E&&!oB(d)){C=X0(s,l,!1),E=!1;continue}if(C===2){if(E=l,s.errorRecoveryDisabledLanes&E)var L=0;else L=s.pendingLanes&-536870913,L=L!==0?L:L&536870912?536870912:0;if(L!==0){l=L;e:{var H=s;C=Vf;var Z=H.current.memoizedState.isDehydrated;if(Z&&(Ku(H,L).flags|=256),L=X0(H,L,!1),L!==2){if(H0&&!Z){H.errorRecoveryDisabledLanes|=E,gc|=E,C=4;break e}E=da,da=C,E!==null&&(da===null?da=E:da.push.apply(da,E))}C=L}if(E=!1,C!==2)continue}}if(C===1){Ku(s,0),ll(s,l,0,!0);break}e:{switch(g=s,E=C,E){case 0:case 1:throw Error(n(345));case 4:if((l&4194048)!==l)break;case 6:ll(g,l,Ta,!al);break e;case 2:da=null;break;case 3:case 5:break;default:throw Error(n(329))}if((l&62914560)===l&&(C=fg+300-It(),10<C)){if(ll(g,l,Ta,!al),ji(g,0,!0)!==0)break e;Qs=l,g.timeoutHandle=ET(ZE.bind(null,g,d,da,hg,K0,l,Ta,gc,Hu,al,E,"Throttled",-0,0),C);break e}ZE(g,d,da,hg,K0,l,Ta,gc,Hu,al,E,null,-0,0)}}break}while(!0);rs(s)}function ZE(s,l,d,g,C,E,L,H,Z,de,ve,be,fe,he){if(s.timeoutHandle=-1,be=l.subtreeFlags,be&8192||(be&16785408)===16785408){be={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ms},HE(l,E,be);var Be=(E&62914560)===E?fg-It():(E&4194048)===E?VE-It():0;if(Be=WB(be,Be),Be!==null){Qs=E,s.cancelPendingCommit=Be(sT.bind(null,s,l,E,d,g,C,L,H,Z,ve,be,null,fe,he)),ll(s,E,L,!de);return}}sT(s,l,E,d,g,C,L,H,Z)}function oB(s){for(var l=s;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var g=0;g<d.length;g++){var C=d[g],E=C.getSnapshot;C=C.value;try{if(!ja(E(),C))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function ll(s,l,d,g){l&=~W0,l&=~gc,s.suspendedLanes|=l,s.pingedLanes&=~l,g&&(s.warmLanes|=l),g=s.expirationTimes;for(var C=l;0<C;){var E=31-tr(C),L=1<<E;g[E]=-1,C&=~L}d!==0&&Re(s,d,l)}function mg(){return(Kt&6)===0?(Qf(0),!1):!0}function Q0(){if(xt!==null){if(Qt===0)var s=xt.return;else s=xt,Bs=oc=null,f0(s),Lu=null,Rf=0,s=xt;for(;s!==null;)TE(s.alternate,s),s=s.return;xt=null}}function Ku(s,l){var d=s.timeoutHandle;d!==-1&&(s.timeoutHandle=-1,NB(d)),d=s.cancelPendingCommit,d!==null&&(s.cancelPendingCommit=null,d()),Qs=0,Q0(),sr=s,xt=d=Is(s.current,null),jt=l,Qt=0,Ea=null,al=!1,Uu=sa(s,l),H0=!1,Hu=Ta=W0=gc=il=Pr=0,da=Vf=null,K0=!1,(l&8)!==0&&(l|=l&32);var g=s.entangledLanes;if(g!==0)for(s=s.entanglements,g&=l;0<g;){var C=31-tr(g),E=1<<C;l|=s[C],g&=~E}return Ys=l,Lm(),d}function JE(s,l){ct=null,O.H=zf,l===Mu||l===Hm?(l=mN(),Qt=3):l===e0?(l=mN(),Qt=4):Qt=l===E0?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Ea=l,xt===null&&(Pr=1,ag(s,Ka(l,s.current)))}function eT(){var s=ka.current;return s===null?!0:(jt&4194048)===jt?Qa===null:(jt&62914560)===jt||(jt&536870912)!==0?s===Qa:!1}function tT(){var s=O.H;return O.H=zf,s===null?zf:s}function rT(){var s=O.A;return O.A=iB,s}function gg(){Pr=4,al||(jt&4194048)!==jt&&ka.current!==null||(Uu=!0),(il&134217727)===0&&(gc&134217727)===0||sr===null||ll(sr,jt,Ta,!1)}function X0(s,l,d){var g=Kt;Kt|=2;var C=tT(),E=rT();(sr!==s||jt!==l)&&(hg=null,Ku(s,l)),l=!1;var L=Pr;e:do try{if(Qt!==0&&xt!==null){var H=xt,Z=Ea;switch(Qt){case 8:Q0(),L=6;break e;case 3:case 2:case 9:case 6:ka.current===null&&(l=!0);var de=Qt;if(Qt=0,Ea=null,Gu(s,H,Z,de),d&&Uu){L=0;break e}break;default:de=Qt,Qt=0,Ea=null,Gu(s,H,Z,de)}}lB(),L=Pr;break}catch(ve){JE(s,ve)}while(!0);return l&&s.shellSuspendCounter++,Bs=oc=null,Kt=g,O.H=C,O.A=E,xt===null&&(sr=null,jt=0,Lm()),L}function lB(){for(;xt!==null;)nT(xt)}function cB(s,l){var d=Kt;Kt|=2;var g=tT(),C=rT();sr!==s||jt!==l?(hg=null,pg=It()+500,Ku(s,l)):Uu=sa(s,l);e:do try{if(Qt!==0&&xt!==null){l=xt;var E=Ea;t:switch(Qt){case 1:Qt=0,Ea=null,Gu(s,l,E,1);break;case 2:case 9:if(pN(E)){Qt=0,Ea=null,aT(l);break}l=function(){Qt!==2&&Qt!==9||sr!==s||(Qt=7),rs(s)},E.then(l,l);break e;case 3:Qt=7;break e;case 4:Qt=5;break e;case 7:pN(E)?(Qt=0,Ea=null,aT(l)):(Qt=0,Ea=null,Gu(s,l,E,7));break;case 5:var L=null;switch(xt.tag){case 26:L=xt.memoizedState;case 5:case 27:var H=xt;if(L?UT(L):H.stateNode.complete){Qt=0,Ea=null;var Z=H.sibling;if(Z!==null)xt=Z;else{var de=H.return;de!==null?(xt=de,vg(de)):xt=null}break t}}Qt=0,Ea=null,Gu(s,l,E,5);break;case 6:Qt=0,Ea=null,Gu(s,l,E,6);break;case 8:Q0(),Pr=6;break e;default:throw Error(n(462))}}uB();break}catch(ve){JE(s,ve)}while(!0);return Bs=oc=null,O.H=g,O.A=C,Kt=d,xt!==null?0:(sr=null,jt=0,Lm(),Pr)}function uB(){for(;xt!==null&&!qa();)nT(xt)}function nT(s){var l=NE(s.alternate,s,Ys);s.memoizedProps=s.pendingProps,l===null?vg(s):xt=l}function aT(s){var l=s,d=l.alternate;switch(l.tag){case 15:case 0:l=xE(d,l,l.pendingProps,l.type,void 0,jt);break;case 11:l=xE(d,l,l.pendingProps,l.type.render,l.ref,jt);break;case 5:f0(l);default:TE(d,l),l=xt=rN(l,Ys),l=NE(d,l,Ys)}s.memoizedProps=s.pendingProps,l===null?vg(s):xt=l}function Gu(s,l,d,g){Bs=oc=null,f0(l),Lu=null,Rf=0;var C=l.return;try{if(Z9(s,C,l,d,jt)){Pr=1,ag(s,Ka(d,s.current)),xt=null;return}}catch(E){if(C!==null)throw xt=C,E;Pr=1,ag(s,Ka(d,s.current)),xt=null;return}l.flags&32768?(Pt||g===1?s=!0:Uu||(jt&536870912)!==0?s=!1:(al=s=!0,(g===2||g===9||g===3||g===6)&&(g=ka.current,g!==null&&g.tag===13&&(g.flags|=16384))),iT(l,s)):vg(l)}function vg(s){var l=s;do{if((l.flags&32768)!==0){iT(l,al);return}s=l.return;var d=tB(l.alternate,l,Ys);if(d!==null){xt=d;return}if(l=l.sibling,l!==null){xt=l;return}xt=l=s}while(l!==null);Pr===0&&(Pr=5)}function iT(s,l){do{var d=rB(s.alternate,s);if(d!==null){d.flags&=32767,xt=d;return}if(d=s.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(s=s.sibling,s!==null)){xt=s;return}xt=s=d}while(s!==null);Pr=6,xt=null}function sT(s,l,d,g,C,E,L,H,Z){s.cancelPendingCommit=null;do yg();while(Zr!==0);if((Kt&6)!==0)throw Error(n(327));if(l!==null){if(l===s.current)throw Error(n(177));if(E=l.lanes|l.childLanes,E|=B_,gt(s,d,E,L,H,Z),s===sr&&(xt=sr=null,jt=0),Wu=l,ol=s,Qs=d,G0=E,V0=C,YE=g,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,hB(Ae,function(){return dT(),null})):(s.callbackNode=null,s.callbackPriority=0),g=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||g){g=O.T,O.T=null,C=$.p,$.p=2,L=Kt,Kt|=4;try{nB(s,l,d)}finally{Kt=L,$.p=C,O.T=g}}Zr=1,oT(),lT(),cT()}}function oT(){if(Zr===1){Zr=0;var s=ol,l=Wu,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=O.T,O.T=null;var g=$.p;$.p=2;var C=Kt;Kt|=4;try{FE(l,s);var E=c1,L=G2(s.containerInfo),H=E.focusedElem,Z=E.selectionRange;if(L!==H&&H&&H.ownerDocument&&K2(H.ownerDocument.documentElement,H)){if(Z!==null&&D_(H)){var de=Z.start,ve=Z.end;if(ve===void 0&&(ve=de),"selectionStart"in H)H.selectionStart=de,H.selectionEnd=Math.min(ve,H.value.length);else{var be=H.ownerDocument||document,fe=be&&be.defaultView||window;if(fe.getSelection){var he=fe.getSelection(),Be=H.textContent.length,Ze=Math.min(Z.start,Be),ar=Z.end===void 0?Ze:Math.min(Z.end,Be);!he.extend&&Ze>ar&&(L=ar,ar=Ze,Ze=L);var se=W2(H,Ze),J=W2(H,ar);if(se&&J&&(he.rangeCount!==1||he.anchorNode!==se.node||he.anchorOffset!==se.offset||he.focusNode!==J.node||he.focusOffset!==J.offset)){var ue=be.createRange();ue.setStart(se.node,se.offset),he.removeAllRanges(),Ze>ar?(he.addRange(ue),he.extend(J.node,J.offset)):(ue.setEnd(J.node,J.offset),he.addRange(ue))}}}}for(be=[],he=H;he=he.parentNode;)he.nodeType===1&&be.push({element:he,left:he.scrollLeft,top:he.scrollTop});for(typeof H.focus=="function"&&H.focus(),H=0;H<be.length;H++){var ye=be[H];ye.element.scrollLeft=ye.left,ye.element.scrollTop=ye.top}}Pg=!!l1,c1=l1=null}finally{Kt=C,$.p=g,O.T=d}}s.current=l,Zr=2}}function lT(){if(Zr===2){Zr=0;var s=ol,l=Wu,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=O.T,O.T=null;var g=$.p;$.p=2;var C=Kt;Kt|=4;try{LE(s,l.alternate,l)}finally{Kt=C,$.p=g,O.T=d}}Zr=3}}function cT(){if(Zr===4||Zr===3){Zr=0,Pn();var s=ol,l=Wu,d=Qs,g=YE;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Zr=5:(Zr=0,Wu=ol=null,uT(s,s.pendingLanes));var C=s.pendingLanes;if(C===0&&(sl=null),Te(d),l=l.stateNode,Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(Tt,l,void 0,(l.current.flags&128)===128)}catch{}if(g!==null){l=O.T,C=$.p,$.p=2,O.T=null;try{for(var E=s.onRecoverableError,L=0;L<g.length;L++){var H=g[L];E(H.value,{componentStack:H.stack})}}finally{O.T=l,$.p=C}}(Qs&3)!==0&&yg(),rs(s),C=s.pendingLanes,(d&261930)!==0&&(C&42)!==0?s===Y0?Yf++:(Yf=0,Y0=s):Yf=0,Qf(0)}}function uT(s,l){(s.pooledCacheLanes&=l)===0&&(l=s.pooledCache,l!=null&&(s.pooledCache=null,Pf(l)))}function yg(){return oT(),lT(),cT(),dT()}function dT(){if(Zr!==5)return!1;var s=ol,l=G0;G0=0;var d=Te(Qs),g=O.T,C=$.p;try{$.p=32>d?32:d,O.T=null,d=V0,V0=null;var E=ol,L=Qs;if(Zr=0,Wu=ol=null,Qs=0,(Kt&6)!==0)throw Error(n(331));var H=Kt;if(Kt|=4,KE(E.current),UE(E,E.current,L,d),Kt=H,Qf(0,!1),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(Tt,E)}catch{}return!0}finally{$.p=C,O.T=g,uT(s,l)}}function fT(s,l,d){l=Ka(d,l),l=N0(s.stateNode,l,2),s=el(s,l,2),s!==null&&(Se(s,2),rs(s))}function Xt(s,l,d){if(s.tag===3)fT(s,s,d);else for(;l!==null;){if(l.tag===3){fT(l,s,d);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(sl===null||!sl.has(g))){s=Ka(d,s),d=pE(2),g=el(l,d,2),g!==null&&(hE(d,g,l,s),Se(g,2),rs(g));break}}l=l.return}}function Z0(s,l,d){var g=s.pingCache;if(g===null){g=s.pingCache=new sB;var C=new Set;g.set(l,C)}else C=g.get(l),C===void 0&&(C=new Set,g.set(l,C));C.has(d)||(H0=!0,C.add(d),s=dB.bind(null,s,l,d),l.then(s,s))}function dB(s,l,d){var g=s.pingCache;g!==null&&g.delete(l),s.pingedLanes|=s.suspendedLanes&d,s.warmLanes&=~d,sr===s&&(jt&d)===d&&(Pr===4||Pr===3&&(jt&62914560)===jt&&300>It()-fg?(Kt&2)===0&&Ku(s,0):W0|=d,Hu===jt&&(Hu=0)),rs(s)}function pT(s,l){l===0&&(l=Sa()),s=ac(s,l),s!==null&&(Se(s,l),rs(s))}function fB(s){var l=s.memoizedState,d=0;l!==null&&(d=l.retryLane),pT(s,d)}function pB(s,l){var d=0;switch(s.tag){case 31:case 13:var g=s.stateNode,C=s.memoizedState;C!==null&&(d=C.retryLane);break;case 19:g=s.stateNode;break;case 22:g=s.stateNode._retryCache;break;default:throw Error(n(314))}g!==null&&g.delete(l),pT(s,d)}function hB(s,l){return er(s,l)}var bg=null,Vu=null,J0=!1,_g=!1,e1=!1,cl=0;function rs(s){s!==Vu&&s.next===null&&(Vu===null?bg=Vu=s:Vu=Vu.next=s),_g=!0,J0||(J0=!0,gB())}function Qf(s,l){if(!e1&&_g){e1=!0;do for(var d=!1,g=bg;g!==null;){if(s!==0){var C=g.pendingLanes;if(C===0)var E=0;else{var L=g.suspendedLanes,H=g.pingedLanes;E=(1<<31-tr(42|s)+1)-1,E&=C&~(L&~H),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(d=!0,vT(g,E))}else E=jt,E=ji(g,g===sr?E:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(E&3)===0||sa(g,E)||(d=!0,vT(g,E));g=g.next}while(d);e1=!1}}function mB(){hT()}function hT(){_g=J0=!1;var s=0;cl!==0&&kB()&&(s=cl);for(var l=It(),d=null,g=bg;g!==null;){var C=g.next,E=mT(g,l);E===0?(g.next=null,d===null?bg=C:d.next=C,C===null&&(Vu=d)):(d=g,(s!==0||(E&3)!==0)&&(_g=!0)),g=C}Zr!==0&&Zr!==5||Qf(s),cl!==0&&(cl=0)}function mT(s,l){for(var d=s.suspendedLanes,g=s.pingedLanes,C=s.expirationTimes,E=s.pendingLanes&-62914561;0<E;){var L=31-tr(E),H=1<<L,Z=C[L];Z===-1?((H&d)===0||(H&g)!==0)&&(C[L]=Ko(H,l)):Z<=l&&(s.expiredLanes|=H),E&=~H}if(l=sr,d=jt,d=ji(s,s===l?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g=s.callbackNode,d===0||s===l&&(Qt===2||Qt===9)||s.cancelPendingCommit!==null)return g!==null&&g!==null&&ht(g),s.callbackNode=null,s.callbackPriority=0;if((d&3)===0||sa(s,d)){if(l=d&-d,l===s.callbackPriority)return l;switch(g!==null&&ht(g),Te(d)){case 2:case 8:d=na;break;case 32:d=Ae;break;case 268435456:d=nt;break;default:d=Ae}return g=gT.bind(null,s),d=er(d,g),s.callbackPriority=l,s.callbackNode=d,l}return g!==null&&g!==null&&ht(g),s.callbackPriority=2,s.callbackNode=null,2}function gT(s,l){if(Zr!==0&&Zr!==5)return s.callbackNode=null,s.callbackPriority=0,null;var d=s.callbackNode;if(yg()&&s.callbackNode!==d)return null;var g=jt;return g=ji(s,s===sr?g:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g===0?null:(XE(s,g,l),mT(s,It()),s.callbackNode!=null&&s.callbackNode===d?gT.bind(null,s):null)}function vT(s,l){if(yg())return null;XE(s,l,!0)}function gB(){EB(function(){(Kt&6)!==0?er(ra,mB):hT()})}function t1(){if(cl===0){var s=Ou;s===0&&(s=Qi,Qi<<=1,(Qi&261888)===0&&(Qi=256)),cl=s}return cl}function yT(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Em(""+s)}function bT(s,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,s.id&&d.setAttribute("form",s.id),l.parentNode.insertBefore(d,l),s=new FormData(s),d.parentNode.removeChild(d),s}function vB(s,l,d,g,C){if(l==="submit"&&d&&d.stateNode===C){var E=yT((C[Ur]||null).action),L=g.submitter;L&&(l=(l=L[Ur]||null)?yT(l.formAction):L.getAttribute("formAction"),l!==null&&(E=l,L=null));var H=new Rm("action","action",null,g,C);s.push({event:H,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(cl!==0){var Z=L?bT(C,L):new FormData(C);x0(d,{pending:!0,data:Z,method:C.method,action:E},null,Z)}}else typeof E=="function"&&(H.preventDefault(),Z=L?bT(C,L):new FormData(C),x0(d,{pending:!0,data:Z,method:C.method,action:E},E,Z))},currentTarget:C}]})}}for(var r1=0;r1<$_.length;r1++){var n1=$_[r1],yB=n1.toLowerCase(),bB=n1[0].toUpperCase()+n1.slice(1);ki(yB,"on"+bB)}ki(Q2,"onAnimationEnd"),ki(X2,"onAnimationIteration"),ki(Z2,"onAnimationStart"),ki("dblclick","onDoubleClick"),ki("focusin","onFocus"),ki("focusout","onBlur"),ki(M9,"onTransitionRun"),ki(L9,"onTransitionStart"),ki(I9,"onTransitionCancel"),ki(J2,"onTransitionEnd"),bu("onMouseEnter",["mouseout","mouseover"]),bu("onMouseLeave",["mouseout","mouseover"]),bu("onPointerEnter",["pointerout","pointerover"]),bu("onPointerLeave",["pointerout","pointerover"]),ec("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ec("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ec("onBeforeInput",["compositionend","keypress","textInput","paste"]),ec("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ec("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ec("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_B=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xf));function _T(s,l){l=(l&4)!==0;for(var d=0;d<s.length;d++){var g=s[d],C=g.event;g=g.listeners;e:{var E=void 0;if(l)for(var L=g.length-1;0<=L;L--){var H=g[L],Z=H.instance,de=H.currentTarget;if(H=H.listener,Z!==E&&C.isPropagationStopped())break e;E=H,C.currentTarget=de;try{E(C)}catch(ve){Mm(ve)}C.currentTarget=null,E=Z}else for(L=0;L<g.length;L++){if(H=g[L],Z=H.instance,de=H.currentTarget,H=H.listener,Z!==E&&C.isPropagationStopped())break e;E=H,C.currentTarget=de;try{E(C)}catch(ve){Mm(ve)}C.currentTarget=null,E=Z}}}}function wt(s,l){var d=l[Ci];d===void 0&&(d=l[Ci]=new Set);var g=s+"__bubble";d.has(g)||(xT(l,s,2,!1),d.add(g))}function a1(s,l,d){var g=0;l&&(g|=4),xT(d,s,g,l)}var xg="_reactListening"+Math.random().toString(36).slice(2);function i1(s){if(!s[xg]){s[xg]=!0,h2.forEach(function(d){d!=="selectionchange"&&(_B.has(d)||a1(d,!1,s),a1(d,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[xg]||(l[xg]=!0,a1("selectionchange",!1,l))}}function xT(s,l,d,g){switch(QT(l)){case 2:var C=VB;break;case 8:C=YB;break;default:C=_1}d=C.bind(null,l,d,s),C=void 0,!C_||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(C=!0),g?C!==void 0?s.addEventListener(l,d,{capture:!0,passive:C}):s.addEventListener(l,d,!0):C!==void 0?s.addEventListener(l,d,{passive:C}):s.addEventListener(l,d,!1)}function s1(s,l,d,g,C){var E=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var L=g.tag;if(L===3||L===4){var H=g.stateNode.containerInfo;if(H===C)break;if(L===4)for(L=g.return;L!==null;){var Z=L.tag;if((Z===3||Z===4)&&L.stateNode.containerInfo===C)return;L=L.return}for(;H!==null;){if(L=gu(H),L===null)return;if(Z=L.tag,Z===5||Z===6||Z===26||Z===27){g=E=L;continue e}H=H.parentNode}}g=g.return}k2(function(){var de=E,ve=S_(d),be=[];e:{var fe=eN.get(s);if(fe!==void 0){var he=Rm,Be=s;switch(s){case"keypress":if(Pm(d)===0)break e;case"keydown":case"keyup":he=p9;break;case"focusin":Be="focus",he=T_;break;case"focusout":Be="blur",he=T_;break;case"beforeblur":case"afterblur":he=T_;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=T2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=t9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=g9;break;case Q2:case X2:case Z2:he=a9;break;case J2:he=y9;break;case"scroll":case"scrollend":he=J7;break;case"wheel":he=_9;break;case"copy":case"cut":case"paste":he=s9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=A2;break;case"toggle":case"beforetoggle":he=w9}var Ze=(l&4)!==0,ar=!Ze&&(s==="scroll"||s==="scrollend"),se=Ze?fe!==null?fe+"Capture":null:fe;Ze=[];for(var J=de,ue;J!==null;){var ye=J;if(ue=ye.stateNode,ye=ye.tag,ye!==5&&ye!==26&&ye!==27||ue===null||se===null||(ye=bf(J,se),ye!=null&&Ze.push(Zf(J,ye,ue))),ar)break;J=J.return}0<Ze.length&&(fe=new he(fe,Be,null,d,ve),be.push({event:fe,listeners:Ze}))}}if((l&7)===0){e:{if(fe=s==="mouseover"||s==="pointerover",he=s==="mouseout"||s==="pointerout",fe&&d!==w_&&(Be=d.relatedTarget||d.fromElement)&&(gu(Be)||Be[Zi]))break e;if((he||fe)&&(fe=ve.window===ve?ve:(fe=ve.ownerDocument)?fe.defaultView||fe.parentWindow:window,he?(Be=d.relatedTarget||d.toElement,he=de,Be=Be?gu(Be):null,Be!==null&&(ar=o(Be),Ze=Be.tag,Be!==ar||Ze!==5&&Ze!==27&&Ze!==6)&&(Be=null)):(he=null,Be=de),he!==Be)){if(Ze=T2,ye="onMouseLeave",se="onMouseEnter",J="mouse",(s==="pointerout"||s==="pointerover")&&(Ze=A2,ye="onPointerLeave",se="onPointerEnter",J="pointer"),ar=he==null?fe:yf(he),ue=Be==null?fe:yf(Be),fe=new Ze(ye,J+"leave",he,d,ve),fe.target=ar,fe.relatedTarget=ue,ye=null,gu(ve)===de&&(Ze=new Ze(se,J+"enter",Be,d,ve),Ze.target=ue,Ze.relatedTarget=ar,ye=Ze),ar=ye,he&&Be)t:{for(Ze=xB,se=he,J=Be,ue=0,ye=se;ye;ye=Ze(ye))ue++;ye=0;for(var Qe=J;Qe;Qe=Ze(Qe))ye++;for(;0<ue-ye;)se=Ze(se),ue--;for(;0<ye-ue;)J=Ze(J),ye--;for(;ue--;){if(se===J||J!==null&&se===J.alternate){Ze=se;break t}se=Ze(se),J=Ze(J)}Ze=null}else Ze=null;he!==null&&wT(be,fe,he,Ze,!1),Be!==null&&ar!==null&&wT(be,ar,Be,Ze,!0)}}e:{if(fe=de?yf(de):window,he=fe.nodeName&&fe.nodeName.toLowerCase(),he==="select"||he==="input"&&fe.type==="file")var Bt=B2;else if(I2(fe))if(z2)Bt=R9;else{Bt=P9;var qe=T9}else he=fe.nodeName,!he||he.toLowerCase()!=="input"||fe.type!=="checkbox"&&fe.type!=="radio"?de&&x_(de.elementType)&&(Bt=B2):Bt=A9;if(Bt&&(Bt=Bt(s,de))){$2(be,Bt,d,ve);break e}qe&&qe(s,fe,de),s==="focusout"&&de&&fe.type==="number"&&de.memoizedProps.value!=null&&__(fe,"number",fe.value)}switch(qe=de?yf(de):window,s){case"focusin":(I2(qe)||qe.contentEditable==="true")&&(Cu=qe,M_=de,Nf=null);break;case"focusout":Nf=M_=Cu=null;break;case"mousedown":L_=!0;break;case"contextmenu":case"mouseup":case"dragend":L_=!1,V2(be,d,ve);break;case"selectionchange":if(D9)break;case"keydown":case"keyup":V2(be,d,ve)}var dt;if(A_)e:{switch(s){case"compositionstart":var Ct="onCompositionStart";break e;case"compositionend":Ct="onCompositionEnd";break e;case"compositionupdate":Ct="onCompositionUpdate";break e}Ct=void 0}else ju?M2(s,d)&&(Ct="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(Ct="onCompositionStart");Ct&&(R2&&d.locale!=="ko"&&(ju||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&ju&&(dt=N2()):(Go=ve,k_="value"in Go?Go.value:Go.textContent,ju=!0)),qe=wg(de,Ct),0<qe.length&&(Ct=new P2(Ct,s,null,d,ve),be.push({event:Ct,listeners:qe}),dt?Ct.data=dt:(dt=L2(d),dt!==null&&(Ct.data=dt)))),(dt=j9?C9(s,d):k9(s,d))&&(Ct=wg(de,"onBeforeInput"),0<Ct.length&&(qe=new P2("onBeforeInput","beforeinput",null,d,ve),be.push({event:qe,listeners:Ct}),qe.data=dt)),vB(be,s,de,d,ve)}_T(be,l)})}function Zf(s,l,d){return{instance:s,listener:l,currentTarget:d}}function wg(s,l){for(var d=l+"Capture",g=[];s!==null;){var C=s,E=C.stateNode;if(C=C.tag,C!==5&&C!==26&&C!==27||E===null||(C=bf(s,d),C!=null&&g.unshift(Zf(s,C,E)),C=bf(s,l),C!=null&&g.push(Zf(s,C,E))),s.tag===3)return g;s=s.return}return[]}function xB(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function wT(s,l,d,g,C){for(var E=l._reactName,L=[];d!==null&&d!==g;){var H=d,Z=H.alternate,de=H.stateNode;if(H=H.tag,Z!==null&&Z===g)break;H!==5&&H!==26&&H!==27||de===null||(Z=de,C?(de=bf(d,E),de!=null&&L.unshift(Zf(d,de,Z))):C||(de=bf(d,E),de!=null&&L.push(Zf(d,de,Z)))),d=d.return}L.length!==0&&s.push({event:l,listeners:L})}var wB=/\r\n?/g,SB=/\u0000|\uFFFD/g;function ST(s){return(typeof s=="string"?s:""+s).replace(wB,`
`).replace(SB,"")}function jT(s,l){return l=ST(l),ST(s)===l}function nr(s,l,d,g,C,E){switch(d){case"children":typeof g=="string"?l==="body"||l==="textarea"&&g===""||xu(s,g):(typeof g=="number"||typeof g=="bigint")&&l!=="body"&&xu(s,""+g);break;case"className":km(s,"class",g);break;case"tabIndex":km(s,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":km(s,d,g);break;case"style":j2(s,g,E);break;case"data":if(l!=="object"){km(s,"data",g);break}case"src":case"href":if(g===""&&(l!=="a"||d!=="href")){s.removeAttribute(d);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(d);break}g=Em(""+g),s.setAttribute(d,g);break;case"action":case"formAction":if(typeof g=="function"){s.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(d==="formAction"?(l!=="input"&&nr(s,l,"name",C.name,C,null),nr(s,l,"formEncType",C.formEncType,C,null),nr(s,l,"formMethod",C.formMethod,C,null),nr(s,l,"formTarget",C.formTarget,C,null)):(nr(s,l,"encType",C.encType,C,null),nr(s,l,"method",C.method,C,null),nr(s,l,"target",C.target,C,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(d);break}g=Em(""+g),s.setAttribute(d,g);break;case"onClick":g!=null&&(s.onclick=Ms);break;case"onScroll":g!=null&&wt("scroll",s);break;case"onScrollEnd":g!=null&&wt("scrollend",s);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(d=g.__html,d!=null){if(C.children!=null)throw Error(n(60));s.innerHTML=d}}break;case"multiple":s.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":s.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){s.removeAttribute("xlink:href");break}d=Em(""+g),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(d,""+g):s.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(d,""):s.removeAttribute(d);break;case"capture":case"download":g===!0?s.setAttribute(d,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(d,g):s.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?s.setAttribute(d,g):s.removeAttribute(d);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?s.removeAttribute(d):s.setAttribute(d,g);break;case"popover":wt("beforetoggle",s),wt("toggle",s),Cm(s,"popover",g);break;case"xlinkActuate":Ds(s,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Ds(s,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Ds(s,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Ds(s,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Ds(s,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Ds(s,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Ds(s,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Ds(s,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Ds(s,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Cm(s,"is",g);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=X7.get(d)||d,Cm(s,d,g))}}function o1(s,l,d,g,C,E){switch(d){case"style":j2(s,g,E);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(d=g.__html,d!=null){if(C.children!=null)throw Error(n(60));s.innerHTML=d}}break;case"children":typeof g=="string"?xu(s,g):(typeof g=="number"||typeof g=="bigint")&&xu(s,""+g);break;case"onScroll":g!=null&&wt("scroll",s);break;case"onScrollEnd":g!=null&&wt("scrollend",s);break;case"onClick":g!=null&&(s.onclick=Ms);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!m2.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(C=d.endsWith("Capture"),l=d.slice(2,C?d.length-7:void 0),E=s[Ur]||null,E=E!=null?E[d]:null,typeof E=="function"&&s.removeEventListener(l,E,C),typeof g=="function")){typeof E!="function"&&E!==null&&(d in s?s[d]=null:s.hasAttribute(d)&&s.removeAttribute(d)),s.addEventListener(l,g,C);break e}d in s?s[d]=g:g===!0?s.setAttribute(d,""):Cm(s,d,g)}}}function Cn(s,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wt("error",s),wt("load",s);var g=!1,C=!1,E;for(E in d)if(d.hasOwnProperty(E)){var L=d[E];if(L!=null)switch(E){case"src":g=!0;break;case"srcSet":C=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:nr(s,l,E,L,d,null)}}C&&nr(s,l,"srcSet",d.srcSet,d,null),g&&nr(s,l,"src",d.src,d,null);return;case"input":wt("invalid",s);var H=E=L=C=null,Z=null,de=null;for(g in d)if(d.hasOwnProperty(g)){var ve=d[g];if(ve!=null)switch(g){case"name":C=ve;break;case"type":L=ve;break;case"checked":Z=ve;break;case"defaultChecked":de=ve;break;case"value":E=ve;break;case"defaultValue":H=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(n(137,l));break;default:nr(s,l,g,ve,d,null)}}_2(s,E,H,Z,de,L,C,!1);return;case"select":wt("invalid",s),g=L=E=null;for(C in d)if(d.hasOwnProperty(C)&&(H=d[C],H!=null))switch(C){case"value":E=H;break;case"defaultValue":L=H;break;case"multiple":g=H;default:nr(s,l,C,H,d,null)}l=E,d=L,s.multiple=!!g,l!=null?_u(s,!!g,l,!1):d!=null&&_u(s,!!g,d,!0);return;case"textarea":wt("invalid",s),E=C=g=null;for(L in d)if(d.hasOwnProperty(L)&&(H=d[L],H!=null))switch(L){case"value":g=H;break;case"defaultValue":C=H;break;case"children":E=H;break;case"dangerouslySetInnerHTML":if(H!=null)throw Error(n(91));break;default:nr(s,l,L,H,d,null)}w2(s,g,C,E);return;case"option":for(Z in d)if(d.hasOwnProperty(Z)&&(g=d[Z],g!=null))switch(Z){case"selected":s.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:nr(s,l,Z,g,d,null)}return;case"dialog":wt("beforetoggle",s),wt("toggle",s),wt("cancel",s),wt("close",s);break;case"iframe":case"object":wt("load",s);break;case"video":case"audio":for(g=0;g<Xf.length;g++)wt(Xf[g],s);break;case"image":wt("error",s),wt("load",s);break;case"details":wt("toggle",s);break;case"embed":case"source":case"link":wt("error",s),wt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(de in d)if(d.hasOwnProperty(de)&&(g=d[de],g!=null))switch(de){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:nr(s,l,de,g,d,null)}return;default:if(x_(l)){for(ve in d)d.hasOwnProperty(ve)&&(g=d[ve],g!==void 0&&o1(s,l,ve,g,d,void 0));return}}for(H in d)d.hasOwnProperty(H)&&(g=d[H],g!=null&&nr(s,l,H,g,d,null))}function jB(s,l,d,g){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var C=null,E=null,L=null,H=null,Z=null,de=null,ve=null;for(he in d){var be=d[he];if(d.hasOwnProperty(he)&&be!=null)switch(he){case"checked":break;case"value":break;case"defaultValue":Z=be;default:g.hasOwnProperty(he)||nr(s,l,he,null,g,be)}}for(var fe in g){var he=g[fe];if(be=d[fe],g.hasOwnProperty(fe)&&(he!=null||be!=null))switch(fe){case"type":E=he;break;case"name":C=he;break;case"checked":de=he;break;case"defaultChecked":ve=he;break;case"value":L=he;break;case"defaultValue":H=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(n(137,l));break;default:he!==be&&nr(s,l,fe,he,g,be)}}b_(s,L,H,Z,de,ve,E,C);return;case"select":he=L=H=fe=null;for(E in d)if(Z=d[E],d.hasOwnProperty(E)&&Z!=null)switch(E){case"value":break;case"multiple":he=Z;default:g.hasOwnProperty(E)||nr(s,l,E,null,g,Z)}for(C in g)if(E=g[C],Z=d[C],g.hasOwnProperty(C)&&(E!=null||Z!=null))switch(C){case"value":fe=E;break;case"defaultValue":H=E;break;case"multiple":L=E;default:E!==Z&&nr(s,l,C,E,g,Z)}l=H,d=L,g=he,fe!=null?_u(s,!!d,fe,!1):!!g!=!!d&&(l!=null?_u(s,!!d,l,!0):_u(s,!!d,d?[]:"",!1));return;case"textarea":he=fe=null;for(H in d)if(C=d[H],d.hasOwnProperty(H)&&C!=null&&!g.hasOwnProperty(H))switch(H){case"value":break;case"children":break;default:nr(s,l,H,null,g,C)}for(L in g)if(C=g[L],E=d[L],g.hasOwnProperty(L)&&(C!=null||E!=null))switch(L){case"value":fe=C;break;case"defaultValue":he=C;break;case"children":break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(n(91));break;default:C!==E&&nr(s,l,L,C,g,E)}x2(s,fe,he);return;case"option":for(var Be in d)if(fe=d[Be],d.hasOwnProperty(Be)&&fe!=null&&!g.hasOwnProperty(Be))switch(Be){case"selected":s.selected=!1;break;default:nr(s,l,Be,null,g,fe)}for(Z in g)if(fe=g[Z],he=d[Z],g.hasOwnProperty(Z)&&fe!==he&&(fe!=null||he!=null))switch(Z){case"selected":s.selected=fe&&typeof fe!="function"&&typeof fe!="symbol";break;default:nr(s,l,Z,fe,g,he)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ze in d)fe=d[Ze],d.hasOwnProperty(Ze)&&fe!=null&&!g.hasOwnProperty(Ze)&&nr(s,l,Ze,null,g,fe);for(de in g)if(fe=g[de],he=d[de],g.hasOwnProperty(de)&&fe!==he&&(fe!=null||he!=null))switch(de){case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(n(137,l));break;default:nr(s,l,de,fe,g,he)}return;default:if(x_(l)){for(var ar in d)fe=d[ar],d.hasOwnProperty(ar)&&fe!==void 0&&!g.hasOwnProperty(ar)&&o1(s,l,ar,void 0,g,fe);for(ve in g)fe=g[ve],he=d[ve],!g.hasOwnProperty(ve)||fe===he||fe===void 0&&he===void 0||o1(s,l,ve,fe,g,he);return}}for(var se in d)fe=d[se],d.hasOwnProperty(se)&&fe!=null&&!g.hasOwnProperty(se)&&nr(s,l,se,null,g,fe);for(be in g)fe=g[be],he=d[be],!g.hasOwnProperty(be)||fe===he||fe==null&&he==null||nr(s,l,be,fe,g,he)}function CT(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function CB(){if(typeof performance.getEntriesByType=="function"){for(var s=0,l=0,d=performance.getEntriesByType("resource"),g=0;g<d.length;g++){var C=d[g],E=C.transferSize,L=C.initiatorType,H=C.duration;if(E&&H&&CT(L)){for(L=0,H=C.responseEnd,g+=1;g<d.length;g++){var Z=d[g],de=Z.startTime;if(de>H)break;var ve=Z.transferSize,be=Z.initiatorType;ve&&CT(be)&&(Z=Z.responseEnd,L+=ve*(Z<H?1:(H-de)/(Z-de)))}if(--g,l+=8*(E+L)/(C.duration/1e3),s++,10<s)break}}if(0<s)return l/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var l1=null,c1=null;function Sg(s){return s.nodeType===9?s:s.ownerDocument}function kT(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function NT(s,l){if(s===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&l==="foreignObject"?0:s}function u1(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var d1=null;function kB(){var s=window.event;return s&&s.type==="popstate"?s===d1?!1:(d1=s,!0):(d1=null,!1)}var ET=typeof setTimeout=="function"?setTimeout:void 0,NB=typeof clearTimeout=="function"?clearTimeout:void 0,TT=typeof Promise=="function"?Promise:void 0,EB=typeof queueMicrotask=="function"?queueMicrotask:typeof TT<"u"?function(s){return TT.resolve(null).then(s).catch(TB)}:ET;function TB(s){setTimeout(function(){throw s})}function ul(s){return s==="head"}function PT(s,l){var d=l,g=0;do{var C=d.nextSibling;if(s.removeChild(d),C&&C.nodeType===8)if(d=C.data,d==="/$"||d==="/&"){if(g===0){s.removeChild(C),Zu(l);return}g--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")g++;else if(d==="html")Jf(s.ownerDocument.documentElement);else if(d==="head"){d=s.ownerDocument.head,Jf(d);for(var E=d.firstChild;E;){var L=E.nextSibling,H=E.nodeName;E[vf]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&E.rel.toLowerCase()==="stylesheet"||d.removeChild(E),E=L}}else d==="body"&&Jf(s.ownerDocument.body);d=C}while(d);Zu(l)}function AT(s,l){var d=s;s=0;do{var g=d.nextSibling;if(d.nodeType===1?l?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(l?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),g&&g.nodeType===8)if(d=g.data,d==="/$"){if(s===0)break;s--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||s++;d=g}while(d)}function f1(s){var l=s.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":f1(d),v_(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}s.removeChild(d)}}function PB(s,l,d,g){for(;s.nodeType===1;){var C=d;if(s.nodeName.toLowerCase()!==l.toLowerCase()){if(!g&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(g){if(!s[vf])switch(l){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(E=s.getAttribute("rel"),E==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(E!==C.rel||s.getAttribute("href")!==(C.href==null||C.href===""?null:C.href)||s.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin)||s.getAttribute("title")!==(C.title==null?null:C.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(E=s.getAttribute("src"),(E!==(C.src==null?null:C.src)||s.getAttribute("type")!==(C.type==null?null:C.type)||s.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin))&&E&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(l==="input"&&s.type==="hidden"){var E=C.name==null?null:""+C.name;if(C.type==="hidden"&&s.getAttribute("name")===E)return s}else return s;if(s=Xa(s.nextSibling),s===null)break}return null}function AB(s,l,d){if(l==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!d||(s=Xa(s.nextSibling),s===null))return null;return s}function RT(s,l){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Xa(s.nextSibling),s===null))return null;return s}function p1(s){return s.data==="$?"||s.data==="$~"}function h1(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function RB(s,l){var d=s.ownerDocument;if(s.data==="$~")s._reactRetry=l;else if(s.data!=="$?"||d.readyState!=="loading")l();else{var g=function(){l(),d.removeEventListener("DOMContentLoaded",g)};d.addEventListener("DOMContentLoaded",g),s._reactRetry=g}}function Xa(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return s}var m1=null;function OT(s){s=s.nextSibling;for(var l=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"||d==="/&"){if(l===0)return Xa(s.nextSibling);l--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||l++}s=s.nextSibling}return null}function DT(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(l===0)return s;l--}else d!=="/$"&&d!=="/&"||l++}s=s.previousSibling}return null}function MT(s,l,d){switch(l=Sg(d),s){case"html":if(s=l.documentElement,!s)throw Error(n(452));return s;case"head":if(s=l.head,!s)throw Error(n(453));return s;case"body":if(s=l.body,!s)throw Error(n(454));return s;default:throw Error(n(451))}}function Jf(s){for(var l=s.attributes;l.length;)s.removeAttributeNode(l[0]);v_(s)}var Za=new Map,LT=new Set;function jg(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Xs=$.d;$.d={f:OB,r:DB,D:MB,C:LB,L:IB,m:$B,X:zB,S:BB,M:FB};function OB(){var s=Xs.f(),l=mg();return s||l}function DB(s){var l=vu(s);l!==null&&l.tag===5&&l.type==="form"?JN(l):Xs.r(s)}var Yu=typeof document>"u"?null:document;function IT(s,l,d){var g=Yu;if(g&&typeof l=="string"&&l){var C=Ha(l);C='link[rel="'+s+'"][href="'+C+'"]',typeof d=="string"&&(C+='[crossorigin="'+d+'"]'),LT.has(C)||(LT.add(C),s={rel:s,crossOrigin:d,href:l},g.querySelector(C)===null&&(l=g.createElement("link"),Cn(l,"link",s),cn(l),g.head.appendChild(l)))}}function MB(s){Xs.D(s),IT("dns-prefetch",s,null)}function LB(s,l){Xs.C(s,l),IT("preconnect",s,l)}function IB(s,l,d){Xs.L(s,l,d);var g=Yu;if(g&&s&&l){var C='link[rel="preload"][as="'+Ha(l)+'"]';l==="image"&&d&&d.imageSrcSet?(C+='[imagesrcset="'+Ha(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(C+='[imagesizes="'+Ha(d.imageSizes)+'"]')):C+='[href="'+Ha(s)+'"]';var E=C;switch(l){case"style":E=Qu(s);break;case"script":E=Xu(s)}Za.has(E)||(s=m({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:s,as:l},d),Za.set(E,s),g.querySelector(C)!==null||l==="style"&&g.querySelector(ep(E))||l==="script"&&g.querySelector(tp(E))||(l=g.createElement("link"),Cn(l,"link",s),cn(l),g.head.appendChild(l)))}}function $B(s,l){Xs.m(s,l);var d=Yu;if(d&&s){var g=l&&typeof l.as=="string"?l.as:"script",C='link[rel="modulepreload"][as="'+Ha(g)+'"][href="'+Ha(s)+'"]',E=C;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=Xu(s)}if(!Za.has(E)&&(s=m({rel:"modulepreload",href:s},l),Za.set(E,s),d.querySelector(C)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(tp(E)))return}g=d.createElement("link"),Cn(g,"link",s),cn(g),d.head.appendChild(g)}}}function BB(s,l,d){Xs.S(s,l,d);var g=Yu;if(g&&s){var C=yu(g).hoistableStyles,E=Qu(s);l=l||"default";var L=C.get(E);if(!L){var H={loading:0,preload:null};if(L=g.querySelector(ep(E)))H.loading=5;else{s=m({rel:"stylesheet",href:s,"data-precedence":l},d),(d=Za.get(E))&&g1(s,d);var Z=L=g.createElement("link");cn(Z),Cn(Z,"link",s),Z._p=new Promise(function(de,ve){Z.onload=de,Z.onerror=ve}),Z.addEventListener("load",function(){H.loading|=1}),Z.addEventListener("error",function(){H.loading|=2}),H.loading|=4,Cg(L,l,g)}L={type:"stylesheet",instance:L,count:1,state:H},C.set(E,L)}}}function zB(s,l){Xs.X(s,l);var d=Yu;if(d&&s){var g=yu(d).hoistableScripts,C=Xu(s),E=g.get(C);E||(E=d.querySelector(tp(C)),E||(s=m({src:s,async:!0},l),(l=Za.get(C))&&v1(s,l),E=d.createElement("script"),cn(E),Cn(E,"link",s),d.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},g.set(C,E))}}function FB(s,l){Xs.M(s,l);var d=Yu;if(d&&s){var g=yu(d).hoistableScripts,C=Xu(s),E=g.get(C);E||(E=d.querySelector(tp(C)),E||(s=m({src:s,async:!0,type:"module"},l),(l=Za.get(C))&&v1(s,l),E=d.createElement("script"),cn(E),Cn(E,"link",s),d.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},g.set(C,E))}}function $T(s,l,d,g){var C=(C=Ce.current)?jg(C):null;if(!C)throw Error(n(446));switch(s){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=Qu(d.href),d=yu(C).hoistableStyles,g=d.get(l),g||(g={type:"style",instance:null,count:0,state:null},d.set(l,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){s=Qu(d.href);var E=yu(C).hoistableStyles,L=E.get(s);if(L||(C=C.ownerDocument||C,L={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(s,L),(E=C.querySelector(ep(s)))&&!E._p&&(L.instance=E,L.state.loading=5),Za.has(s)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Za.set(s,d),E||qB(C,s,d,L.state))),l&&g===null)throw Error(n(528,""));return L}if(l&&g!==null)throw Error(n(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Xu(d),d=yu(C).hoistableScripts,g=d.get(l),g||(g={type:"script",instance:null,count:0,state:null},d.set(l,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,s))}}function Qu(s){return'href="'+Ha(s)+'"'}function ep(s){return'link[rel="stylesheet"]['+s+"]"}function BT(s){return m({},s,{"data-precedence":s.precedence,precedence:null})}function qB(s,l,d,g){s.querySelector('link[rel="preload"][as="style"]['+l+"]")?g.loading=1:(l=s.createElement("link"),g.preload=l,l.addEventListener("load",function(){return g.loading|=1}),l.addEventListener("error",function(){return g.loading|=2}),Cn(l,"link",d),cn(l),s.head.appendChild(l))}function Xu(s){return'[src="'+Ha(s)+'"]'}function tp(s){return"script[async]"+s}function zT(s,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var g=s.querySelector('style[data-href~="'+Ha(d.href)+'"]');if(g)return l.instance=g,cn(g),g;var C=m({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return g=(s.ownerDocument||s).createElement("style"),cn(g),Cn(g,"style",C),Cg(g,d.precedence,s),l.instance=g;case"stylesheet":C=Qu(d.href);var E=s.querySelector(ep(C));if(E)return l.state.loading|=4,l.instance=E,cn(E),E;g=BT(d),(C=Za.get(C))&&g1(g,C),E=(s.ownerDocument||s).createElement("link"),cn(E);var L=E;return L._p=new Promise(function(H,Z){L.onload=H,L.onerror=Z}),Cn(E,"link",g),l.state.loading|=4,Cg(E,d.precedence,s),l.instance=E;case"script":return E=Xu(d.src),(C=s.querySelector(tp(E)))?(l.instance=C,cn(C),C):(g=d,(C=Za.get(E))&&(g=m({},d),v1(g,C)),s=s.ownerDocument||s,C=s.createElement("script"),cn(C),Cn(C,"link",g),s.head.appendChild(C),l.instance=C);case"void":return null;default:throw Error(n(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(g=l.instance,l.state.loading|=4,Cg(g,d.precedence,s));return l.instance}function Cg(s,l,d){for(var g=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),C=g.length?g[g.length-1]:null,E=C,L=0;L<g.length;L++){var H=g[L];if(H.dataset.precedence===l)E=H;else if(E!==C)break}E?E.parentNode.insertBefore(s,E.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(s,l.firstChild))}function g1(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.title==null&&(s.title=l.title)}function v1(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.integrity==null&&(s.integrity=l.integrity)}var kg=null;function FT(s,l,d){if(kg===null){var g=new Map,C=kg=new Map;C.set(d,g)}else C=kg,g=C.get(d),g||(g=new Map,C.set(d,g));if(g.has(s))return g;for(g.set(s,null),d=d.getElementsByTagName(s),C=0;C<d.length;C++){var E=d[C];if(!(E[vf]||E[_r]||s==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var L=E.getAttribute(l)||"";L=s+L;var H=g.get(L);H?H.push(E):g.set(L,[E])}}return g}function qT(s,l,d){s=s.ownerDocument||s,s.head.insertBefore(d,l==="title"?s.querySelector("head > title"):null)}function UB(s,l,d){if(d===1||l.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return s=l.disabled,typeof l.precedence=="string"&&s==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function UT(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function HB(s,l,d,g){if(d.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var C=Qu(g.href),E=l.querySelector(ep(C));if(E){l=E._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(s.count++,s=Ng.bind(s),l.then(s,s)),d.state.loading|=4,d.instance=E,cn(E);return}E=l.ownerDocument||l,g=BT(g),(C=Za.get(C))&&g1(g,C),E=E.createElement("link"),cn(E);var L=E;L._p=new Promise(function(H,Z){L.onload=H,L.onerror=Z}),Cn(E,"link",g),d.instance=E}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(s.count++,d=Ng.bind(s),l.addEventListener("load",d),l.addEventListener("error",d))}}var y1=0;function WB(s,l){return s.stylesheets&&s.count===0&&Tg(s,s.stylesheets),0<s.count||0<s.imgCount?function(d){var g=setTimeout(function(){if(s.stylesheets&&Tg(s,s.stylesheets),s.unsuspend){var E=s.unsuspend;s.unsuspend=null,E()}},6e4+l);0<s.imgBytes&&y1===0&&(y1=62500*CB());var C=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Tg(s,s.stylesheets),s.unsuspend)){var E=s.unsuspend;s.unsuspend=null,E()}},(s.imgBytes>y1?50:800)+l);return s.unsuspend=d,function(){s.unsuspend=null,clearTimeout(g),clearTimeout(C)}}:null}function Ng(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Tg(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Eg=null;function Tg(s,l){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Eg=new Map,l.forEach(KB,s),Eg=null,Ng.call(s))}function KB(s,l){if(!(l.state.loading&4)){var d=Eg.get(s);if(d)var g=d.get(null);else{d=new Map,Eg.set(s,d);for(var C=s.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<C.length;E++){var L=C[E];(L.nodeName==="LINK"||L.getAttribute("media")!=="not all")&&(d.set(L.dataset.precedence,L),g=L)}g&&d.set(null,g)}C=l.instance,L=C.getAttribute("data-precedence"),E=d.get(L)||g,E===g&&d.set(null,C),d.set(L,C),this.count++,g=Ng.bind(this),C.addEventListener("load",g),C.addEventListener("error",g),E?E.parentNode.insertBefore(C,E.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(C,s.firstChild)),l.state.loading|=4}}var rp={$$typeof:T,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function GB(s,l,d,g,C,E,L,H,Z){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pe(0),this.hiddenUpdates=pe(null),this.identifierPrefix=g,this.onUncaughtError=C,this.onCaughtError=E,this.onRecoverableError=L,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Z,this.incompleteTransitions=new Map}function HT(s,l,d,g,C,E,L,H,Z,de,ve,be){return s=new GB(s,l,d,L,Z,de,ve,be,H),l=1,E===!0&&(l|=24),E=Ca(3,null,null,l),s.current=E,E.stateNode=s,l=X_(),l.refCount++,s.pooledCache=l,l.refCount++,E.memoizedState={element:g,isDehydrated:d,cache:l},t0(E),s}function WT(s){return s?(s=Eu,s):Eu}function KT(s,l,d,g,C,E){C=WT(C),g.context===null?g.context=C:g.pendingContext=C,g=Jo(l),g.payload={element:d},E=E===void 0?null:E,E!==null&&(g.callback=E),d=el(s,g,l),d!==null&&(fa(d,s,l),Df(d,s,l))}function GT(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<l?d:l}}function b1(s,l){GT(s,l),(s=s.alternate)&&GT(s,l)}function VT(s){if(s.tag===13||s.tag===31){var l=ac(s,67108864);l!==null&&fa(l,s,67108864),b1(s,67108864)}}function YT(s){if(s.tag===13||s.tag===31){var l=Pa();l=le(l);var d=ac(s,l);d!==null&&fa(d,s,l),b1(s,l)}}var Pg=!0;function VB(s,l,d,g){var C=O.T;O.T=null;var E=$.p;try{$.p=2,_1(s,l,d,g)}finally{$.p=E,O.T=C}}function YB(s,l,d,g){var C=O.T;O.T=null;var E=$.p;try{$.p=8,_1(s,l,d,g)}finally{$.p=E,O.T=C}}function _1(s,l,d,g){if(Pg){var C=x1(g);if(C===null)s1(s,l,g,Ag,d),XT(s,g);else if(XB(C,s,l,d,g))g.stopPropagation();else if(XT(s,g),l&4&&-1<QB.indexOf(s)){for(;C!==null;){var E=vu(C);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var L=ia(E.pendingLanes);if(L!==0){var H=E;for(H.pendingLanes|=2,H.entangledLanes|=2;L;){var Z=1<<31-tr(L);H.entanglements[1]|=Z,L&=~Z}rs(E),(Kt&6)===0&&(pg=It()+500,Qf(0))}}break;case 31:case 13:H=ac(E,2),H!==null&&fa(H,E,2),mg(),b1(E,2)}if(E=x1(g),E===null&&s1(s,l,g,Ag,d),E===C)break;C=E}C!==null&&g.stopPropagation()}else s1(s,l,g,null,d)}}function x1(s){return s=S_(s),w1(s)}var Ag=null;function w1(s){if(Ag=null,s=gu(s),s!==null){var l=o(s);if(l===null)s=null;else{var d=l.tag;if(d===13){if(s=u(l),s!==null)return s;s=null}else if(d===31){if(s=c(l),s!==null)return s;s=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null)}}return Ag=s,null}function QT(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fn()){case ra:return 2;case na:return 8;case Ae:case it:return 32;case nt:return 268435456;default:return 32}default:return 32}}var S1=!1,dl=null,fl=null,pl=null,np=new Map,ap=new Map,hl=[],QB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function XT(s,l){switch(s){case"focusin":case"focusout":dl=null;break;case"dragenter":case"dragleave":fl=null;break;case"mouseover":case"mouseout":pl=null;break;case"pointerover":case"pointerout":np.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":ap.delete(l.pointerId)}}function ip(s,l,d,g,C,E){return s===null||s.nativeEvent!==E?(s={blockedOn:l,domEventName:d,eventSystemFlags:g,nativeEvent:E,targetContainers:[C]},l!==null&&(l=vu(l),l!==null&&VT(l)),s):(s.eventSystemFlags|=g,l=s.targetContainers,C!==null&&l.indexOf(C)===-1&&l.push(C),s)}function XB(s,l,d,g,C){switch(l){case"focusin":return dl=ip(dl,s,l,d,g,C),!0;case"dragenter":return fl=ip(fl,s,l,d,g,C),!0;case"mouseover":return pl=ip(pl,s,l,d,g,C),!0;case"pointerover":var E=C.pointerId;return np.set(E,ip(np.get(E)||null,s,l,d,g,C)),!0;case"gotpointercapture":return E=C.pointerId,ap.set(E,ip(ap.get(E)||null,s,l,d,g,C)),!0}return!1}function ZT(s){var l=gu(s.target);if(l!==null){var d=o(l);if(d!==null){if(l=d.tag,l===13){if(l=u(d),l!==null){s.blockedOn=l,$t(s.priority,function(){YT(d)});return}}else if(l===31){if(l=c(d),l!==null){s.blockedOn=l,$t(s.priority,function(){YT(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Rg(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var d=x1(s.nativeEvent);if(d===null){d=s.nativeEvent;var g=new d.constructor(d.type,d);w_=g,d.target.dispatchEvent(g),w_=null}else return l=vu(d),l!==null&&VT(l),s.blockedOn=d,!1;l.shift()}return!0}function JT(s,l,d){Rg(s)&&d.delete(l)}function ZB(){S1=!1,dl!==null&&Rg(dl)&&(dl=null),fl!==null&&Rg(fl)&&(fl=null),pl!==null&&Rg(pl)&&(pl=null),np.forEach(JT),ap.forEach(JT)}function Og(s,l){s.blockedOn===l&&(s.blockedOn=null,S1||(S1=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ZB)))}var Dg=null;function eP(s){Dg!==s&&(Dg=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Dg===s&&(Dg=null);for(var l=0;l<s.length;l+=3){var d=s[l],g=s[l+1],C=s[l+2];if(typeof g!="function"){if(w1(g||d)===null)continue;break}var E=vu(d);E!==null&&(s.splice(l,3),l-=3,x0(E,{pending:!0,data:C,method:d.method,action:g},g,C))}}))}function Zu(s){function l(Z){return Og(Z,s)}dl!==null&&Og(dl,s),fl!==null&&Og(fl,s),pl!==null&&Og(pl,s),np.forEach(l),ap.forEach(l);for(var d=0;d<hl.length;d++){var g=hl[d];g.blockedOn===s&&(g.blockedOn=null)}for(;0<hl.length&&(d=hl[0],d.blockedOn===null);)ZT(d),d.blockedOn===null&&hl.shift();if(d=(s.ownerDocument||s).$$reactFormReplay,d!=null)for(g=0;g<d.length;g+=3){var C=d[g],E=d[g+1],L=C[Ur]||null;if(typeof E=="function")L||eP(d);else if(L){var H=null;if(E&&E.hasAttribute("formAction")){if(C=E,L=E[Ur]||null)H=L.formAction;else if(w1(C)!==null)continue}else H=L.action;typeof H=="function"?d[g+1]=H:(d.splice(g,3),g-=3),eP(d)}}}function tP(){function s(E){E.canIntercept&&E.info==="react-transition"&&E.intercept({handler:function(){return new Promise(function(L){return C=L})},focusReset:"manual",scroll:"manual"})}function l(){C!==null&&(C(),C=null),g||setTimeout(d,20)}function d(){if(!g&&!navigation.transition){var E=navigation.currentEntry;E&&E.url!=null&&navigation.navigate(E.url,{state:E.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,C=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(d,100),function(){g=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),C!==null&&(C(),C=null)}}}function j1(s){this._internalRoot=s}Mg.prototype.render=j1.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(n(409));var d=l.current,g=Pa();KT(d,g,s,l,null,null)},Mg.prototype.unmount=j1.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;KT(s.current,2,null,s,null,null),mg(),l[Zi]=null}};function Mg(s){this._internalRoot=s}Mg.prototype.unstable_scheduleHydration=function(s){if(s){var l=Je();s={blockedOn:null,target:s,priority:l};for(var d=0;d<hl.length&&l!==0&&l<hl[d].priority;d++);hl.splice(d,0,s),d===0&&ZT(s)}};var rP=t.version;if(rP!=="19.2.4")throw Error(n(527,rP,"19.2.4"));$.findDOMNode=function(s){var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=h(l),s=s!==null?f(s):null,s=s===null?null:s.stateNode,s};var JB={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lg.isDisabled&&Lg.supportsFiber)try{Tt=Lg.inject(JB),Ot=Lg}catch{}}return op.createRoot=function(s,l){if(!a(s))throw Error(n(299));var d=!1,g="",C=cE,E=uE,L=dE;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(C=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(L=l.onRecoverableError)),l=HT(s,1,!1,null,null,d,g,null,C,E,L,tP),s[Zi]=l.current,i1(s),new j1(l)},op.hydrateRoot=function(s,l,d){if(!a(s))throw Error(n(299));var g=!1,C="",E=cE,L=uE,H=dE,Z=null;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(C=d.identifierPrefix),d.onUncaughtError!==void 0&&(E=d.onUncaughtError),d.onCaughtError!==void 0&&(L=d.onCaughtError),d.onRecoverableError!==void 0&&(H=d.onRecoverableError),d.formState!==void 0&&(Z=d.formState)),l=HT(s,1,!0,l,d??null,g,C,Z,E,L,H,tP),l.context=WT(null),d=l.current,g=Pa(),g=le(g),C=Jo(g),C.callback=null,el(d,C,g),d=g,l.current.lanes=d,Se(l,d),rs(l),s[Zi]=l.current,i1(s),new Mg(l)},op.version="19.2.4",op}var pP;function dz(){if(pP)return E1.exports;pP=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),E1.exports=uz(),E1.exports}var fz=dz(),Gd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},pz={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},El,_j,hM,hz=(hM=class{constructor(){De(this,El,pz);De(this,_j,!1)}setTimeoutProvider(e){ke(this,El,e)}setTimeout(e,t){return G(this,El).setTimeout(e,t)}clearTimeout(e){G(this,El).clearTimeout(e)}setInterval(e,t){return G(this,El).setInterval(e,t)}clearInterval(e){G(this,El).clearInterval(e)}},El=new WeakMap,_j=new WeakMap,hM),Tc=new hz;function mz(e){setTimeout(e,0)}var Vc=typeof window>"u"||"Deno"in globalThis;function Vn(){}function gz(e,t){return typeof e=="function"?e(t):e}function Gw(e){return typeof e=="number"&&e>=0&&e!==1/0}function kM(e,t){return Math.max(e+(t||0)-Date.now(),0)}function $l(e,t){return typeof e=="function"?e(t):e}function ui(e,t){return typeof e=="function"?e(t):e}function hP(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:o,queryKey:u,stale:c}=e;if(u){if(n){if(t.queryHash!==wj(u,t.options))return!1}else if(!uh(t.queryKey,u))return!1}if(r!=="all"){const p=t.isActive();if(r==="active"&&!p||r==="inactive"&&p)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||a&&a!==t.state.fetchStatus||o&&!o(t))}function mP(e,t){const{exact:r,status:n,predicate:a,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(Yc(t.options.mutationKey)!==Yc(o))return!1}else if(!uh(t.options.mutationKey,o))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function wj(e,t){return((t==null?void 0:t.queryKeyHashFn)||Yc)(e)}function Yc(e){return JSON.stringify(e,(t,r)=>Vw(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function uh(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>uh(e[r],t[r])):!1}var vz=Object.prototype.hasOwnProperty;function NM(e,t,r=0){if(e===t)return e;if(r>500)return t;const n=gP(e)&&gP(t);if(!n&&!(Vw(e)&&Vw(t)))return t;const o=(n?e:Object.keys(e)).length,u=n?t:Object.keys(t),c=u.length,p=n?new Array(c):{};let h=0;for(let f=0;f<c;f++){const m=n?f:u[f],b=e[m],_=t[m];if(b===_){p[m]=b,(n?f<o:vz.call(e,m))&&h++;continue}if(b===null||_===null||typeof b!="object"||typeof _!="object"){p[m]=_;continue}const j=NM(b,_,r+1);p[m]=j,j===b&&h++}return o===c&&h===o?e:p}function Uv(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function gP(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Vw(e){if(!vP(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!vP(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function vP(e){return Object.prototype.toString.call(e)==="[object Object]"}function yz(e){return new Promise(t=>{Tc.setTimeout(t,e)})}function Yw(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?NM(e,t):t}function bz(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function _z(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Sj=Symbol();function EM(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Sj?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function jj(e,t){return typeof e=="function"?e(...t):!!e}function xz(e,t,r){let n=!1,a;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(a??(a=t()),n||(n=!0,a.aborted?r():a.addEventListener("abort",r,{once:!0})),a)}),e}var Mc,Tl,Cd,mM,wz=(mM=class extends Gd{constructor(){super();De(this,Mc);De(this,Tl);De(this,Cd);ke(this,Cd,t=>{if(!Vc&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){G(this,Tl)||this.setEventListener(G(this,Cd))}onUnsubscribe(){var t;this.hasListeners()||((t=G(this,Tl))==null||t.call(this),ke(this,Tl,void 0))}setEventListener(t){var r;ke(this,Cd,t),(r=G(this,Tl))==null||r.call(this),ke(this,Tl,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){G(this,Mc)!==t&&(ke(this,Mc,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof G(this,Mc)=="boolean"?G(this,Mc):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Mc=new WeakMap,Tl=new WeakMap,Cd=new WeakMap,mM),Cj=new wz;function Qw(){let e,t;const r=new Promise((a,o)=>{e=a,t=o});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var Sz=mz;function jz(){let e=[],t=0,r=c=>{c()},n=c=>{c()},a=Sz;const o=c=>{t?e.push(c):a(()=>{r(c)})},u=()=>{const c=e;e=[],c.length&&a(()=>{n(()=>{c.forEach(p=>{r(p)})})})};return{batch:c=>{let p;t++;try{p=c()}finally{t--,t||u()}return p},batchCalls:c=>(...p)=>{o(()=>{c(...p)})},schedule:o,setNotifyFunction:c=>{r=c},setBatchNotifyFunction:c=>{n=c},setScheduler:c=>{a=c}}}var rn=jz(),kd,Pl,Nd,gM,Cz=(gM=class extends Gd{constructor(){super();De(this,kd,!0);De(this,Pl);De(this,Nd);ke(this,Nd,t=>{if(!Vc&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){G(this,Pl)||this.setEventListener(G(this,Nd))}onUnsubscribe(){var t;this.hasListeners()||((t=G(this,Pl))==null||t.call(this),ke(this,Pl,void 0))}setEventListener(t){var r;ke(this,Nd,t),(r=G(this,Pl))==null||r.call(this),ke(this,Pl,t(this.setOnline.bind(this)))}setOnline(t){G(this,kd)!==t&&(ke(this,kd,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return G(this,kd)}},kd=new WeakMap,Pl=new WeakMap,Nd=new WeakMap,gM),Hv=new Cz;function kz(e){return Math.min(1e3*2**e,3e4)}function TM(e){return(e??"online")==="online"?Hv.isOnline():!0}var Xw=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function PM(e){let t=!1,r=0,n;const a=Qw(),o=()=>a.status!=="pending",u=w=>{var y;if(!o()){const x=new Xw(w);b(x),(y=e.onCancel)==null||y.call(e,x)}},c=()=>{t=!0},p=()=>{t=!1},h=()=>Cj.isFocused()&&(e.networkMode==="always"||Hv.isOnline())&&e.canRun(),f=()=>TM(e.networkMode)&&e.canRun(),m=w=>{o()||(n==null||n(),a.resolve(w))},b=w=>{o()||(n==null||n(),a.reject(w))},_=()=>new Promise(w=>{var y;n=x=>{(o()||h())&&w(x)},(y=e.onPause)==null||y.call(e)}).then(()=>{var w;n=void 0,o()||(w=e.onContinue)==null||w.call(e)}),j=()=>{if(o())return;let w;const y=r===0?e.initialPromise:void 0;try{w=y??e.fn()}catch(x){w=Promise.reject(x)}Promise.resolve(w).then(m).catch(x=>{var P;if(o())return;const S=e.retry??(Vc?0:3),T=e.retryDelay??kz,N=typeof T=="function"?T(r,x):T,A=S===!0||typeof S=="number"&&r<S||typeof S=="function"&&S(r,x);if(t||!A){b(x);return}r++,(P=e.onFail)==null||P.call(e,r,x),yz(N).then(()=>h()?void 0:_()).then(()=>{t?b(x):j()})})};return{promise:a,status:()=>a.status,cancel:u,continue:()=>(n==null||n(),a),cancelRetry:c,continueRetry:p,canStart:f,start:()=>(f()?j():_().then(j),a)}}var Lc,vM,AM=(vM=class{constructor(){De(this,Lc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Gw(this.gcTime)&&ke(this,Lc,Tc.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Vc?1/0:300*1e3))}clearGcTimeout(){G(this,Lc)&&(Tc.clearTimeout(G(this,Lc)),ke(this,Lc,void 0))}},Lc=new WeakMap,vM),Ic,Ed,ci,$c,gn,Lh,Bc,Oi,po,yM,Nz=(yM=class extends AM{constructor(t){super();De(this,Oi);De(this,Ic);De(this,Ed);De(this,ci);De(this,$c);De(this,gn);De(this,Lh);De(this,Bc);ke(this,Bc,!1),ke(this,Lh,t.defaultOptions),this.setOptions(t.options),this.observers=[],ke(this,$c,t.client),ke(this,ci,G(this,$c).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ke(this,Ic,bP(this.options)),this.state=t.state??G(this,Ic),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=G(this,gn))==null?void 0:t.promise}setOptions(t){if(this.options={...G(this,Lh),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=bP(this.options);r.data!==void 0&&(this.setState(yP(r.data,r.dataUpdatedAt)),ke(this,Ic,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&G(this,ci).remove(this)}setData(t,r){const n=Yw(this.state.data,t,this.options);return vt(this,Oi,po).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){vt(this,Oi,po).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=G(this,gn))==null?void 0:n.promise;return(a=G(this,gn))==null||a.cancel(t),r?r.then(Vn).catch(Vn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(G(this,Ic))}isActive(){return this.observers.some(t=>ui(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Sj||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>$l(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!kM(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=G(this,gn))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=G(this,gn))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),G(this,ci).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(G(this,gn)&&(G(this,Bc)?G(this,gn).cancel({revert:!0}):G(this,gn).cancelRetry()),this.scheduleGc()),G(this,ci).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||vt(this,Oi,po).call(this,{type:"invalidate"})}async fetch(t,r){var p,h,f,m,b,_,j,w,y,x,S,T;if(this.state.fetchStatus!=="idle"&&((p=G(this,gn))==null?void 0:p.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(G(this,gn))return G(this,gn).continueRetry(),G(this,gn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const N=this.observers.find(A=>A.options.queryFn);N&&this.setOptions(N.options)}const n=new AbortController,a=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(ke(this,Bc,!0),n.signal)})},o=()=>{const N=EM(this.options,r),P=(()=>{const k={client:G(this,$c),queryKey:this.queryKey,meta:this.meta};return a(k),k})();return ke(this,Bc,!1),this.options.persister?this.options.persister(N,P,this):N(P)},c=(()=>{const N={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:G(this,$c),state:this.state,fetchFn:o};return a(N),N})();(h=this.options.behavior)==null||h.onFetch(c,this),ke(this,Ed,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=c.fetchOptions)==null?void 0:f.meta))&&vt(this,Oi,po).call(this,{type:"fetch",meta:(m=c.fetchOptions)==null?void 0:m.meta}),ke(this,gn,PM({initialPromise:r==null?void 0:r.initialPromise,fn:c.fetchFn,onCancel:N=>{N instanceof Xw&&N.revert&&this.setState({...G(this,Ed),fetchStatus:"idle"}),n.abort()},onFail:(N,A)=>{vt(this,Oi,po).call(this,{type:"failed",failureCount:N,error:A})},onPause:()=>{vt(this,Oi,po).call(this,{type:"pause"})},onContinue:()=>{vt(this,Oi,po).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0}));try{const N=await G(this,gn).start();if(N===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(N),(_=(b=G(this,ci).config).onSuccess)==null||_.call(b,N,this),(w=(j=G(this,ci).config).onSettled)==null||w.call(j,N,this.state.error,this),N}catch(N){if(N instanceof Xw){if(N.silent)return G(this,gn).promise;if(N.revert){if(this.state.data===void 0)throw N;return this.state.data}}throw vt(this,Oi,po).call(this,{type:"error",error:N}),(x=(y=G(this,ci).config).onError)==null||x.call(y,N,this),(T=(S=G(this,ci).config).onSettled)==null||T.call(S,this.state.data,N,this),N}finally{this.scheduleGc()}}},Ic=new WeakMap,Ed=new WeakMap,ci=new WeakMap,$c=new WeakMap,gn=new WeakMap,Lh=new WeakMap,Bc=new WeakMap,Oi=new WeakSet,po=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...RM(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,...yP(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ke(this,Ed,t.manual?a:void 0),a;case"error":const o=t.error;return{...n,error:o,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),rn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),G(this,ci).notify({query:this,type:"updated",action:t})})},yM);function RM(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:TM(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function yP(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function bP(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var ma,At,Ih,Gn,zc,Td,yo,Al,$h,Pd,Ad,Fc,qc,Rl,Rd,Yt,eh,Zw,Jw,eS,tS,rS,nS,aS,DM,bM,OM=(bM=class extends Gd{constructor(t,r){super();De(this,Yt);De(this,ma);De(this,At);De(this,Ih);De(this,Gn);De(this,zc);De(this,Td);De(this,yo);De(this,Al);De(this,$h);De(this,Pd);De(this,Ad);De(this,Fc);De(this,qc);De(this,Rl);De(this,Rd,new Set);this.options=r,ke(this,ma,t),ke(this,Al,null),ke(this,yo,Qw()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(G(this,At).addObserver(this),_P(G(this,At),this.options)?vt(this,Yt,eh).call(this):this.updateResult(),vt(this,Yt,tS).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return iS(G(this,At),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return iS(G(this,At),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,vt(this,Yt,rS).call(this),vt(this,Yt,nS).call(this),G(this,At).removeObserver(this)}setOptions(t){const r=this.options,n=G(this,At);if(this.options=G(this,ma).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ui(this.options.enabled,G(this,At))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");vt(this,Yt,aS).call(this),G(this,At).setOptions(this.options),r._defaulted&&!Uv(this.options,r)&&G(this,ma).getQueryCache().notify({type:"observerOptionsUpdated",query:G(this,At),observer:this});const a=this.hasListeners();a&&xP(G(this,At),n,this.options,r)&&vt(this,Yt,eh).call(this),this.updateResult(),a&&(G(this,At)!==n||ui(this.options.enabled,G(this,At))!==ui(r.enabled,G(this,At))||$l(this.options.staleTime,G(this,At))!==$l(r.staleTime,G(this,At)))&&vt(this,Yt,Zw).call(this);const o=vt(this,Yt,Jw).call(this);a&&(G(this,At)!==n||ui(this.options.enabled,G(this,At))!==ui(r.enabled,G(this,At))||o!==G(this,Rl))&&vt(this,Yt,eS).call(this,o)}getOptimisticResult(t){const r=G(this,ma).getQueryCache().build(G(this,ma),t),n=this.createResult(r,t);return Tz(this,n)&&(ke(this,Gn,n),ke(this,Td,this.options),ke(this,zc,G(this,At).state)),n}getCurrentResult(){return G(this,Gn)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&G(this,yo).status==="pending"&&G(this,yo).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,a))})}trackProp(t){G(this,Rd).add(t)}getCurrentQuery(){return G(this,At)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=G(this,ma).defaultQueryOptions(t),n=G(this,ma).getQueryCache().build(G(this,ma),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return vt(this,Yt,eh).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),G(this,Gn)))}createResult(t,r){var D;const n=G(this,At),a=this.options,o=G(this,Gn),u=G(this,zc),c=G(this,Td),h=t!==n?t.state:G(this,Ih),{state:f}=t;let m={...f},b=!1,_;if(r._optimisticResults){const I=this.hasListeners(),q=!I&&_P(t,r),z=I&&xP(t,n,r,a);(q||z)&&(m={...m,...RM(f.data,t.options)}),r._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:j,errorUpdatedAt:w,status:y}=m;_=m.data;let x=!1;if(r.placeholderData!==void 0&&_===void 0&&y==="pending"){let I;o!=null&&o.isPlaceholderData&&r.placeholderData===(c==null?void 0:c.placeholderData)?(I=o.data,x=!0):I=typeof r.placeholderData=="function"?r.placeholderData((D=G(this,Ad))==null?void 0:D.state.data,G(this,Ad)):r.placeholderData,I!==void 0&&(y="success",_=Yw(o==null?void 0:o.data,I,r),b=!0)}if(r.select&&_!==void 0&&!x)if(o&&_===(u==null?void 0:u.data)&&r.select===G(this,$h))_=G(this,Pd);else try{ke(this,$h,r.select),_=r.select(_),_=Yw(o==null?void 0:o.data,_,r),ke(this,Pd,_),ke(this,Al,null)}catch(I){ke(this,Al,I)}G(this,Al)&&(j=G(this,Al),_=G(this,Pd),w=Date.now(),y="error");const S=m.fetchStatus==="fetching",T=y==="pending",N=y==="error",A=T&&S,P=_!==void 0,R={status:y,fetchStatus:m.fetchStatus,isPending:T,isSuccess:y==="success",isError:N,isInitialLoading:A,isLoading:A,data:_,dataUpdatedAt:m.dataUpdatedAt,error:j,errorUpdatedAt:w,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>h.dataUpdateCount||m.errorUpdateCount>h.errorUpdateCount,isFetching:S,isRefetching:S&&!T,isLoadingError:N&&!P,isPaused:m.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:N&&P,isStale:kj(t,r),refetch:this.refetch,promise:G(this,yo),isEnabled:ui(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const I=R.data!==void 0,q=R.status==="error"&&!I,z=B=>{q?B.reject(R.error):I&&B.resolve(R.data)},M=()=>{const B=ke(this,yo,R.promise=Qw());z(B)},F=G(this,yo);switch(F.status){case"pending":t.queryHash===n.queryHash&&z(F);break;case"fulfilled":(q||R.data!==F.value)&&M();break;case"rejected":(!q||R.error!==F.reason)&&M();break}}return R}updateResult(){const t=G(this,Gn),r=this.createResult(G(this,At),this.options);if(ke(this,zc,G(this,At).state),ke(this,Td,this.options),G(this,zc).data!==void 0&&ke(this,Ad,G(this,At)),Uv(r,t))return;ke(this,Gn,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,o=typeof a=="function"?a():a;if(o==="all"||!o&&!G(this,Rd).size)return!0;const u=new Set(o??G(this,Rd));return this.options.throwOnError&&u.add("error"),Object.keys(G(this,Gn)).some(c=>{const p=c;return G(this,Gn)[p]!==t[p]&&u.has(p)})};vt(this,Yt,DM).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&vt(this,Yt,tS).call(this)}},ma=new WeakMap,At=new WeakMap,Ih=new WeakMap,Gn=new WeakMap,zc=new WeakMap,Td=new WeakMap,yo=new WeakMap,Al=new WeakMap,$h=new WeakMap,Pd=new WeakMap,Ad=new WeakMap,Fc=new WeakMap,qc=new WeakMap,Rl=new WeakMap,Rd=new WeakMap,Yt=new WeakSet,eh=function(t){vt(this,Yt,aS).call(this);let r=G(this,At).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Vn)),r},Zw=function(){vt(this,Yt,rS).call(this);const t=$l(this.options.staleTime,G(this,At));if(Vc||G(this,Gn).isStale||!Gw(t))return;const n=kM(G(this,Gn).dataUpdatedAt,t)+1;ke(this,Fc,Tc.setTimeout(()=>{G(this,Gn).isStale||this.updateResult()},n))},Jw=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(G(this,At)):this.options.refetchInterval)??!1},eS=function(t){vt(this,Yt,nS).call(this),ke(this,Rl,t),!(Vc||ui(this.options.enabled,G(this,At))===!1||!Gw(G(this,Rl))||G(this,Rl)===0)&&ke(this,qc,Tc.setInterval(()=>{(this.options.refetchIntervalInBackground||Cj.isFocused())&&vt(this,Yt,eh).call(this)},G(this,Rl)))},tS=function(){vt(this,Yt,Zw).call(this),vt(this,Yt,eS).call(this,vt(this,Yt,Jw).call(this))},rS=function(){G(this,Fc)&&(Tc.clearTimeout(G(this,Fc)),ke(this,Fc,void 0))},nS=function(){G(this,qc)&&(Tc.clearInterval(G(this,qc)),ke(this,qc,void 0))},aS=function(){const t=G(this,ma).getQueryCache().build(G(this,ma),this.options);if(t===G(this,At))return;const r=G(this,At);ke(this,At,t),ke(this,Ih,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},DM=function(t){rn.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(G(this,Gn))}),G(this,ma).getQueryCache().notify({query:G(this,At),type:"observerResultsUpdated"})})},bM);function Ez(e,t){return ui(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function _P(e,t){return Ez(e,t)||e.state.data!==void 0&&iS(e,t,t.refetchOnMount)}function iS(e,t,r){if(ui(t.enabled,e)!==!1&&$l(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&kj(e,t)}return!1}function xP(e,t,r,n){return(e!==t||ui(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&kj(e,r)}function kj(e,t){return ui(t.enabled,e)!==!1&&e.isStaleByTime($l(t.staleTime,e))}function Tz(e,t){return!Uv(e.getCurrentResult(),t)}function Wv(e){return{onFetch:(t,r)=>{var f,m,b,_,j;const n=t.options,a=(b=(m=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:m.fetchMore)==null?void 0:b.direction,o=((_=t.state.data)==null?void 0:_.pages)||[],u=((j=t.state.data)==null?void 0:j.pageParams)||[];let c={pages:[],pageParams:[]},p=0;const h=async()=>{let w=!1;const y=T=>{xz(T,()=>t.signal,()=>w=!0)},x=EM(t.options,t.fetchOptions),S=async(T,N,A)=>{if(w)return Promise.reject();if(N==null&&T.pages.length)return Promise.resolve(T);const k=(()=>{const q={client:t.client,queryKey:t.queryKey,pageParam:N,direction:A?"backward":"forward",meta:t.options.meta};return y(q),q})(),R=await x(k),{maxPages:D}=t.options,I=A?_z:bz;return{pages:I(T.pages,R,D),pageParams:I(T.pageParams,N,D)}};if(a&&o.length){const T=a==="backward",N=T?MM:sS,A={pages:o,pageParams:u},P=N(n,A);c=await S(A,P,T)}else{const T=e??o.length;do{const N=p===0?u[0]??n.initialPageParam:sS(n,c);if(p>0&&N==null)break;c=await S(c,N),p++}while(p<T)}return c};t.options.persister?t.fetchFn=()=>{var w,y;return(y=(w=t.options).persister)==null?void 0:y.call(w,h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=h}}}function sS(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function MM(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}function Pz(e,t){return t?sS(e,t)!=null:!1}function Az(e,t){return!t||!e.getPreviousPageParam?!1:MM(e,t)!=null}var Rz=class extends OM{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:Wv()})}getOptimisticResult(e){return e.behavior=Wv(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){var j,w;const{state:r}=e,n=super.createResult(e,t),{isFetching:a,isRefetching:o,isError:u,isRefetchError:c}=n,p=(w=(j=r.fetchMeta)==null?void 0:j.fetchMore)==null?void 0:w.direction,h=u&&p==="forward",f=a&&p==="forward",m=u&&p==="backward",b=a&&p==="backward";return{...n,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:Pz(t,r.data),hasPreviousPage:Az(t,r.data),isFetchNextPageError:h,isFetchingNextPage:f,isFetchPreviousPageError:m,isFetchingPreviousPage:b,isRefetchError:c&&!h&&!m,isRefetching:o&&!f&&!b}}},Bh,ps,Ln,Uc,hs,Sl,_M,Oz=(_M=class extends AM{constructor(t){super();De(this,hs);De(this,Bh);De(this,ps);De(this,Ln);De(this,Uc);ke(this,Bh,t.client),this.mutationId=t.mutationId,ke(this,Ln,t.mutationCache),ke(this,ps,[]),this.state=t.state||LM(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){G(this,ps).includes(t)||(G(this,ps).push(t),this.clearGcTimeout(),G(this,Ln).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ke(this,ps,G(this,ps).filter(r=>r!==t)),this.scheduleGc(),G(this,Ln).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){G(this,ps).length||(this.state.status==="pending"?this.scheduleGc():G(this,Ln).remove(this))}continue(){var t;return((t=G(this,Uc))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var u,c,p,h,f,m,b,_,j,w,y,x,S,T,N,A,P,k;const r=()=>{vt(this,hs,Sl).call(this,{type:"continue"})},n={client:G(this,Bh),meta:this.options.meta,mutationKey:this.options.mutationKey};ke(this,Uc,PM({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(R,D)=>{vt(this,hs,Sl).call(this,{type:"failed",failureCount:R,error:D})},onPause:()=>{vt(this,hs,Sl).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>G(this,Ln).canRun(this)}));const a=this.state.status==="pending",o=!G(this,Uc).canStart();try{if(a)r();else{vt(this,hs,Sl).call(this,{type:"pending",variables:t,isPaused:o}),G(this,Ln).config.onMutate&&await G(this,Ln).config.onMutate(t,this,n);const D=await((c=(u=this.options).onMutate)==null?void 0:c.call(u,t,n));D!==this.state.context&&vt(this,hs,Sl).call(this,{type:"pending",context:D,variables:t,isPaused:o})}const R=await G(this,Uc).start();return await((h=(p=G(this,Ln).config).onSuccess)==null?void 0:h.call(p,R,t,this.state.context,this,n)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,R,t,this.state.context,n)),await((_=(b=G(this,Ln).config).onSettled)==null?void 0:_.call(b,R,null,this.state.variables,this.state.context,this,n)),await((w=(j=this.options).onSettled)==null?void 0:w.call(j,R,null,t,this.state.context,n)),vt(this,hs,Sl).call(this,{type:"success",data:R}),R}catch(R){try{await((x=(y=G(this,Ln).config).onError)==null?void 0:x.call(y,R,t,this.state.context,this,n))}catch(D){Promise.reject(D)}try{await((T=(S=this.options).onError)==null?void 0:T.call(S,R,t,this.state.context,n))}catch(D){Promise.reject(D)}try{await((A=(N=G(this,Ln).config).onSettled)==null?void 0:A.call(N,void 0,R,this.state.variables,this.state.context,this,n))}catch(D){Promise.reject(D)}try{await((k=(P=this.options).onSettled)==null?void 0:k.call(P,void 0,R,t,this.state.context,n))}catch(D){Promise.reject(D)}throw vt(this,hs,Sl).call(this,{type:"error",error:R}),R}finally{G(this,Ln).runNext(this)}}},Bh=new WeakMap,ps=new WeakMap,Ln=new WeakMap,Uc=new WeakMap,hs=new WeakSet,Sl=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),rn.batch(()=>{G(this,ps).forEach(n=>{n.onMutationUpdate(t)}),G(this,Ln).notify({mutation:this,type:"updated",action:t})})},_M);function LM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var bo,Di,zh,xM,Dz=(xM=class extends Gd{constructor(t={}){super();De(this,bo);De(this,Di);De(this,zh);this.config=t,ke(this,bo,new Set),ke(this,Di,new Map),ke(this,zh,0)}build(t,r,n){const a=new Oz({client:t,mutationCache:this,mutationId:++Ig(this,zh)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){G(this,bo).add(t);const r=$g(t);if(typeof r=="string"){const n=G(this,Di).get(r);n?n.push(t):G(this,Di).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(G(this,bo).delete(t)){const r=$g(t);if(typeof r=="string"){const n=G(this,Di).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&G(this,Di).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=$g(t);if(typeof r=="string"){const n=G(this,Di).get(r),a=n==null?void 0:n.find(o=>o.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=$g(t);if(typeof r=="string"){const a=(n=G(this,Di).get(r))==null?void 0:n.find(o=>o!==t&&o.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){rn.batch(()=>{G(this,bo).forEach(t=>{this.notify({type:"removed",mutation:t})}),G(this,bo).clear(),G(this,Di).clear()})}getAll(){return Array.from(G(this,bo))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>mP(r,n))}findAll(t={}){return this.getAll().filter(r=>mP(t,r))}notify(t){rn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return rn.batch(()=>Promise.all(t.map(r=>r.continue().catch(Vn))))}},bo=new WeakMap,Di=new WeakMap,zh=new WeakMap,xM);function $g(e){var t;return(t=e.options.scope)==null?void 0:t.id}var _o,Ol,ga,xo,Eo,jv,oS,wM,Mz=(wM=class extends Gd{constructor(r,n){super();De(this,Eo);De(this,_o);De(this,Ol);De(this,ga);De(this,xo);ke(this,_o,r),this.setOptions(n),this.bindMethods(),vt(this,Eo,jv).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=G(this,_o).defaultMutationOptions(r),Uv(this.options,n)||G(this,_o).getMutationCache().notify({type:"observerOptionsUpdated",mutation:G(this,ga),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Yc(n.mutationKey)!==Yc(this.options.mutationKey)?this.reset():((a=G(this,ga))==null?void 0:a.state.status)==="pending"&&G(this,ga).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=G(this,ga))==null||r.removeObserver(this)}onMutationUpdate(r){vt(this,Eo,jv).call(this),vt(this,Eo,oS).call(this,r)}getCurrentResult(){return G(this,Ol)}reset(){var r;(r=G(this,ga))==null||r.removeObserver(this),ke(this,ga,void 0),vt(this,Eo,jv).call(this),vt(this,Eo,oS).call(this)}mutate(r,n){var a;return ke(this,xo,n),(a=G(this,ga))==null||a.removeObserver(this),ke(this,ga,G(this,_o).getMutationCache().build(G(this,_o),this.options)),G(this,ga).addObserver(this),G(this,ga).execute(r)}},_o=new WeakMap,Ol=new WeakMap,ga=new WeakMap,xo=new WeakMap,Eo=new WeakSet,jv=function(){var n;const r=((n=G(this,ga))==null?void 0:n.state)??LM();ke(this,Ol,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},oS=function(r){rn.batch(()=>{var n,a,o,u,c,p,h,f;if(G(this,xo)&&this.hasListeners()){const m=G(this,Ol).variables,b=G(this,Ol).context,_={client:G(this,_o),meta:this.options.meta,mutationKey:this.options.mutationKey};if((r==null?void 0:r.type)==="success"){try{(a=(n=G(this,xo)).onSuccess)==null||a.call(n,r.data,m,b,_)}catch(j){Promise.reject(j)}try{(u=(o=G(this,xo)).onSettled)==null||u.call(o,r.data,null,m,b,_)}catch(j){Promise.reject(j)}}else if((r==null?void 0:r.type)==="error"){try{(p=(c=G(this,xo)).onError)==null||p.call(c,r.error,m,b,_)}catch(j){Promise.reject(j)}try{(f=(h=G(this,xo)).onSettled)==null||f.call(h,void 0,r.error,m,b,_)}catch(j){Promise.reject(j)}}}this.listeners.forEach(m=>{m(G(this,Ol))})})},wM),ms,SM,Lz=(SM=class extends Gd{constructor(t={}){super();De(this,ms);this.config=t,ke(this,ms,new Map)}build(t,r,n){const a=r.queryKey,o=r.queryHash??wj(a,r);let u=this.get(o);return u||(u=new Nz({client:t,queryKey:a,queryHash:o,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(u)),u}add(t){G(this,ms).has(t.queryHash)||(G(this,ms).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=G(this,ms).get(t.queryHash);r&&(t.destroy(),r===t&&G(this,ms).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){rn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return G(this,ms).get(t)}getAll(){return[...G(this,ms).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>hP(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>hP(t,n)):r}notify(t){rn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){rn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){rn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ms=new WeakMap,SM),Rr,Dl,Ml,Od,Dd,Ll,Md,Ld,jM,Iz=(jM=class{constructor(e={}){De(this,Rr);De(this,Dl);De(this,Ml);De(this,Od);De(this,Dd);De(this,Ll);De(this,Md);De(this,Ld);ke(this,Rr,e.queryCache||new Lz),ke(this,Dl,e.mutationCache||new Dz),ke(this,Ml,e.defaultOptions||{}),ke(this,Od,new Map),ke(this,Dd,new Map),ke(this,Ll,0)}mount(){Ig(this,Ll)._++,G(this,Ll)===1&&(ke(this,Md,Cj.subscribe(async e=>{e&&(await this.resumePausedMutations(),G(this,Rr).onFocus())})),ke(this,Ld,Hv.subscribe(async e=>{e&&(await this.resumePausedMutations(),G(this,Rr).onOnline())})))}unmount(){var e,t;Ig(this,Ll)._--,G(this,Ll)===0&&((e=G(this,Md))==null||e.call(this),ke(this,Md,void 0),(t=G(this,Ld))==null||t.call(this),ke(this,Ld,void 0))}isFetching(e){return G(this,Rr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return G(this,Dl).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=G(this,Rr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=G(this,Rr).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime($l(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return G(this,Rr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=G(this,Rr).get(n.queryHash),o=a==null?void 0:a.state.data,u=gz(t,o);if(u!==void 0)return G(this,Rr).build(this,n).setData(u,{...r,manual:!0})}setQueriesData(e,t,r){return rn.batch(()=>G(this,Rr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=G(this,Rr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=G(this,Rr);rn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=G(this,Rr);return rn.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=rn.batch(()=>G(this,Rr).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Vn).catch(Vn)}invalidateQueries(e,t={}){return rn.batch(()=>(G(this,Rr).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=rn.batch(()=>G(this,Rr).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let o=a.fetch(void 0,r);return r.throwOnError||(o=o.catch(Vn)),a.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(Vn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=G(this,Rr).build(this,t);return r.isStaleByTime($l(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Vn).catch(Vn)}fetchInfiniteQuery(e){return e.behavior=Wv(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Vn).catch(Vn)}ensureInfiniteQueryData(e){return e.behavior=Wv(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Hv.isOnline()?G(this,Dl).resumePausedMutations():Promise.resolve()}getQueryCache(){return G(this,Rr)}getMutationCache(){return G(this,Dl)}getDefaultOptions(){return G(this,Ml)}setDefaultOptions(e){ke(this,Ml,e)}setQueryDefaults(e,t){G(this,Od).set(Yc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...G(this,Od).values()],r={};return t.forEach(n=>{uh(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){G(this,Dd).set(Yc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...G(this,Dd).values()],r={};return t.forEach(n=>{uh(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...G(this,Ml).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=wj(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Sj&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...G(this,Ml).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){G(this,Rr).clear(),G(this,Dl).clear()}},Rr=new WeakMap,Dl=new WeakMap,Ml=new WeakMap,Od=new WeakMap,Dd=new WeakMap,Ll=new WeakMap,Md=new WeakMap,Ld=new WeakMap,jM),IM=v.createContext(void 0),Lt=e=>{const t=v.useContext(IM);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},$z=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(IM.Provider,{value:e,children:t})),$M=v.createContext(!1),Bz=()=>v.useContext($M);$M.Provider;function zz(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Fz=v.createContext(zz()),qz=()=>v.useContext(Fz),Uz=(e,t,r)=>{const n=r!=null&&r.state.error&&typeof e.throwOnError=="function"?jj(e.throwOnError,[r.state.error,r]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||n)&&(t.isReset()||(e.retryOnMount=!1))},Hz=e=>{v.useEffect(()=>{e.clearReset()},[e])},Wz=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||jj(r,[e.error,n])),Kz=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Gz=(e,t)=>e.isLoading&&e.isFetching&&!t,Vz=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,wP=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function BM(e,t,r){var b,_,j,w;const n=Bz(),a=qz(),o=Lt(),u=o.defaultQueryOptions(e);(_=(b=o.getDefaultOptions().queries)==null?void 0:b._experimental_beforeQuery)==null||_.call(b,u);const c=o.getQueryCache().get(u.queryHash);u._optimisticResults=n?"isRestoring":"optimistic",Kz(u),Uz(u,a,c),Hz(a);const p=!o.getQueryCache().get(u.queryHash),[h]=v.useState(()=>new t(o,u)),f=h.getOptimisticResult(u),m=!n&&e.subscribed!==!1;if(v.useSyncExternalStore(v.useCallback(y=>{const x=m?h.subscribe(rn.batchCalls(y)):Vn;return h.updateResult(),x},[h,m]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),v.useEffect(()=>{h.setOptions(u)},[u,h]),Vz(u,f))throw wP(u,h,a);if(Wz({result:f,errorResetBoundary:a,throwOnError:u.throwOnError,query:c,suspense:u.suspense}))throw f.error;if((w=(j=o.getDefaultOptions().queries)==null?void 0:j._experimental_afterQuery)==null||w.call(j,u,f),u.experimental_prefetchInRender&&!Vc&&Gz(f,n)){const y=p?wP(u,h,a):c==null?void 0:c.promise;y==null||y.catch(Vn).finally(()=>{h.updateResult()})}return u.notifyOnChangeProps?f:h.trackResult(f)}function Oe(e,t){return BM(e,OM)}function Ue(e,t){const r=Lt(),[n]=v.useState(()=>new Mz(r,e));v.useEffect(()=>{n.setOptions(e)},[n,e]);const a=v.useSyncExternalStore(v.useCallback(u=>n.subscribe(rn.batchCalls(u)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),o=v.useCallback((u,c)=>{n.mutate(u,c).catch(Vn)},[n]);if(a.error&&jj(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:o,mutateAsync:a.mutate}}function zM(e,t){return BM(e,Rz)}/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=e=>{const t=Qz(e);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Xz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:o,iconNode:u,...c},p)=>v.createElement("svg",{ref:p,...Xz,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:FM("lucide",a),...!o&&!Zz(c)&&{"aria-hidden":"true"},...c},[...u.map(([h,f])=>v.createElement(h,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=(e,t)=>{const r=v.forwardRef(({className:n,...a},o)=>v.createElement(Jz,{ref:o,iconNode:t,className:FM(`lucide-${Yz(SP(e))}`,`lucide-${e}`,n),...a}));return r.displayName=SP(e),r};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],Vd=Le("arrow-down",eF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],qM=Le("arrow-left",tF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],nF=Le("arrow-right",rF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],UM=Le("arrow-up-right",aF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Yd=Le("arrow-up",iF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],oF=Le("ban",sF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],cF=Le("calendar",lF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],HM=Le("chart-column",uF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Nj=Le("check",dF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fF=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],lS=Le("chevron-down",fF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],WM=Le("chevron-left",pF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Qd=Le("chevron-right",hF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],gF=Le("circle-plus",mF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],yF=Le("cloud-upload",vF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],_F=Le("cloud",bF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],wF=Le("code",xF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],dh=Le("copy",SF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],CF=Le("crown",jF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Kv=Le("download",kF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NF=[["path",{d:"M6 8.5a6.5 6.5 0 1 1 13 0c0 6-6 6-6 10a3.5 3.5 0 1 1-7 0",key:"1dfaln"}],["path",{d:"M15 8.5a2.5 2.5 0 0 0-5 0v1a2 2 0 1 1 0 4",key:"1qnva7"}]],EF=Le("ear",NF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Gv=Le("external-link",TF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],AF=Le("eye",PF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=[["path",{d:"M4 6.835V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2h-.343",key:"1vfytu"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M2 19a2 2 0 0 1 4 0v1a2 2 0 0 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 0 1-4 0v-1a2 2 0 0 1 4 0",key:"1etmh7"}]],OF=Le("file-headphone",RF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=[["path",{d:"M11.35 22H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v5.35",key:"17jvcc"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M14 19h6",key:"bvotb8"}],["path",{d:"M17 16v6",key:"18yu1i"}]],MF=Le("file-plus-corner",DF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ej=Le("file-text",LF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],$F=Le("flask-conical",IF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BF=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],zF=Le("house",BF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],qF=Le("image",FF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],HF=Le("info",UF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WF=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],KM=Le("key",WF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KF=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],GF=Le("layout-grid",KF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],Vv=Le("library",VF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YF=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],QF=Le("link-2",YF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XF=[["path",{d:"M16 5H3",key:"m91uny"}],["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M11 19H3",key:"zflm78"}],["path",{d:"M21 16V5",key:"yxg4q8"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],ZF=Le("list-music",XF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JF=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],GM=Le("list",JF);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eq=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],tq=Le("lock-open",eq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rq=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ps=Le("lock",rq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nq=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],VM=Le("log-out",nq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aq=[["path",{d:"M18 8c0 3.613-3.869 7.429-5.393 8.795a1 1 0 0 1-1.214 0C9.87 15.429 6 11.613 6 8a6 6 0 0 1 12 0",key:"11u0oz"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.714 14h-3.71a1 1 0 0 0-.948.683l-2.004 6A1 1 0 0 0 3 22h18a1 1 0 0 0 .948-1.316l-2-6a1 1 0 0 0-.949-.684h-3.712",key:"q8zwxj"}]],iq=Le("map-pinned",aq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sq=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],oq=Le("menu",sq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lq=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],YM=Le("message-circle",lq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cq=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],uq=Le("mic-off",cq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dq=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],Id=Le("mic",dq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fq=[["path",{d:"m11 7.601-5.994 8.19a1 1 0 0 0 .1 1.298l.817.818a1 1 0 0 0 1.314.087L15.09 12",key:"80a601"}],["path",{d:"M16.5 21.174C15.5 20.5 14.372 20 13 20c-2.058 0-3.928 2.356-6 2-2.072-.356-2.775-3.369-1.5-4.5",key:"j0ngtp"}],["circle",{cx:"16",cy:"7",r:"5",key:"d08jfb"}]],Bg=Le("mic-vocal",fq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pq=[["path",{d:"M5 12h14",key:"1ays0h"}]],jP=Le("minus",pq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hq=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],_s=Le("pause",hq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mq=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Tj=Le("pencil",mq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gq=[["path",{d:"M10.1 13.9a14 14 0 0 0 3.732 2.668 1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2 18 18 0 0 1-12.728-5.272",key:"1wngk7"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}],["path",{d:"M4.76 13.582A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 .244.473",key:"10hv5p"}]],vq=Le("phone-off",gq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yq=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],xs=Le("play",yq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bq=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Yr=Le("plus",bq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _q=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],xq=Le("power",_q);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wq=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],ab=Le("radio",wq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sq=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],ib=Le("rotate-ccw",Sq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jq=[["path",{d:"M4 11a9 9 0 0 1 9 9",key:"pv89mb"}],["path",{d:"M4 4a16 16 0 0 1 16 16",key:"k0647b"}],["circle",{cx:"5",cy:"19",r:"1",key:"bfqh0e"}]],Ss=Le("rss",jq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cq=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Pj=Le("search",Cq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kq=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Yv=Le("settings",kq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nq=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],sb=Le("share-2",Nq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eq=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Tq=Le("shield",Eq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pq=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],QM=Le("square-pen",Pq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aq=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Rq=Le("square",Aq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oq=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Wl=Le("trash-2",Oq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dq=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Mq=Le("triangle-alert",Dq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lq=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Qv=Le("upload",Lq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iq=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],fh=Le("user-plus",Iq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $q=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],Bq=Le("user-x",$q);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zq=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ph=Le("user",zq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fq=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Aj=Le("users",Fq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qq=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Uq=Le("volume-2",qq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hq=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Wq=Le("wifi-off",Hq);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kq=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Nt=Le("x",Kq),Gq="_wrap_1cvpl_1",Vq="_card_1cvpl_10",Yq="_title_1cvpl_20",Qq="_message_1cvpl_27",Xq="_reloadBtn_1cvpl_34",lp={wrap:Gq,card:Vq,title:Yq,message:Qq,reloadBtn:Xq};class Zq extends v.Component{constructor(r){super(r);Y(this,"handleReload",()=>{window.location.reload()});this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("ErrorBoundary caught an error",r,n)}render(){return this.state.hasError?i.jsx("div",{className:lp.wrap,role:"alert",children:i.jsxs("div",{className:lp.card,children:[i.jsx("h1",{className:lp.title,children:"Something Went Wrong"}),i.jsx("p",{className:lp.message,children:"An unexpected error occurred. Try reloading the page."}),i.jsxs("button",{type:"button",className:lp.reloadBtn,onClick:this.handleReload,"aria-label":"Reload page",children:[i.jsx(ib,{size:18,"aria-hidden":!0}),"Reload"]})]})}):this.props.children}}/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var CP="popstate";function Jq(e={}){function t(n,a){let{pathname:o,search:u,hash:c}=n.location;return cS("",{pathname:o,search:u,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:hh(a)}return tU(t,r,null,e)}function Cr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function hi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function eU(){return Math.random().toString(36).substring(2,10)}function kP(e,t){return{usr:e.state,key:e.key,idx:t}}function cS(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Xd(t):t,state:r,key:t&&t.key||n||eU()}}function hh({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Xd(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function tU(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:o=!1}=n,u=a.history,c="POP",p=null,h=f();h==null&&(h=0,u.replaceState({...u.state,idx:h},""));function f(){return(u.state||{idx:null}).idx}function m(){c="POP";let y=f(),x=y==null?null:y-h;h=y,p&&p({action:c,location:w.location,delta:x})}function b(y,x){c="PUSH";let S=cS(w.location,y,x);h=f()+1;let T=kP(S,h),N=w.createHref(S);try{u.pushState(T,"",N)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;a.location.assign(N)}o&&p&&p({action:c,location:w.location,delta:1})}function _(y,x){c="REPLACE";let S=cS(w.location,y,x);h=f();let T=kP(S,h),N=w.createHref(S);u.replaceState(T,"",N),o&&p&&p({action:c,location:w.location,delta:0})}function j(y){return rU(y)}let w={get action(){return c},get location(){return e(a,u)},listen(y){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(CP,m),p=y,()=>{a.removeEventListener(CP,m),p=null}},createHref(y){return t(a,y)},createURL:j,encodeLocation(y){let x=j(y);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:b,replace:_,go(y){return u.go(y)}};return w}function rU(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Cr(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:hh(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function XM(e,t,r="/"){return nU(e,t,r,!1)}function nU(e,t,r,n){let a=typeof t=="string"?Xd(t):t,o=To(a.pathname||"/",r);if(o==null)return null;let u=ZM(e);aU(u);let c=null;for(let p=0;c==null&&p<u.length;++p){let h=mU(o);c=pU(u[p],h,n)}return c}function ZM(e,t=[],r=[],n="",a=!1){let o=(u,c,p=a,h)=>{let f={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:c,route:u};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(n)&&p)return;Cr(f.relativePath.startsWith(n),`Absolute route path "${f.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(n.length)}let m=Co([n,f.relativePath]),b=r.concat(f);u.children&&u.children.length>0&&(Cr(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),ZM(u.children,t,b,m,p)),!(u.path==null&&!u.index)&&t.push({path:m,score:dU(m,u.index),routesMeta:b})};return e.forEach((u,c)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))o(u,c);else for(let h of JM(u.path))o(u,c,!0,h)}),t}function JM(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return a?[o,""]:[o];let u=JM(n.join("/")),c=[];return c.push(...u.map(p=>p===""?o:[o,p].join("/"))),a&&c.push(...u),c.map(p=>e.startsWith("/")&&p===""?"/":p)}function aU(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:fU(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var iU=/^:[\w-]+$/,sU=3,oU=2,lU=1,cU=10,uU=-2,NP=e=>e==="*";function dU(e,t){let r=e.split("/"),n=r.length;return r.some(NP)&&(n+=uU),t&&(n+=oU),r.filter(a=>!NP(a)).reduce((a,o)=>a+(iU.test(o)?sU:o===""?lU:cU),n)}function fU(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function pU(e,t,r=!1){let{routesMeta:n}=e,a={},o="/",u=[];for(let c=0;c<n.length;++c){let p=n[c],h=c===n.length-1,f=o==="/"?t:t.slice(o.length)||"/",m=Xv({path:p.relativePath,caseSensitive:p.caseSensitive,end:h},f),b=p.route;if(!m&&h&&r&&!n[n.length-1].route.index&&(m=Xv({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},f)),!m)return null;Object.assign(a,m.params),u.push({params:a,pathname:Co([o,m.pathname]),pathnameBase:bU(Co([o,m.pathnameBase])),route:b}),m.pathnameBase!=="/"&&(o=Co([o,m.pathnameBase]))}return u}function Xv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=hU(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:n.reduce((h,{paramName:f,isOptional:m},b)=>{if(f==="*"){let j=c[b]||"";u=o.slice(0,o.length-j.length).replace(/(.)\/+$/,"$1")}const _=c[b];return m&&!_?h[f]=void 0:h[f]=(_||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:u,pattern:e}}function hU(e,t=!1,r=!0){hi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,c,p)=>(n.push({paramName:c,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function mU(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return hi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function To(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var gU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function vU(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Xd(e):e,o;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?o=EP(r.substring(1),"/"):o=EP(r,t)):o=t,{pathname:o,search:_U(n),hash:xU(a)}}function EP(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function R1(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yU(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Rj(e){let t=yU(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Oj(e,t,r,n=!1){let a;typeof e=="string"?a=Xd(e):(a={...e},Cr(!a.pathname||!a.pathname.includes("?"),R1("?","pathname","search",a)),Cr(!a.pathname||!a.pathname.includes("#"),R1("#","pathname","hash",a)),Cr(!a.search||!a.search.includes("#"),R1("#","search","hash",a)));let o=e===""||a.pathname==="",u=o?"/":a.pathname,c;if(u==null)c=r;else{let m=t.length-1;if(!n&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),m-=1;a.pathname=b.join("/")}c=m>=0?t[m]:"/"}let p=vU(a,c),h=u&&u!=="/"&&u.endsWith("/"),f=(o||u===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(h||f)&&(p.pathname+="/"),p}var Co=e=>e.join("/").replace(/\/\/+/g,"/"),bU=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),_U=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,xU=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,wU=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function SU(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function jU(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var eL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function tL(e,t){let r=e;if(typeof r!="string"||!gU.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,a=!1;if(eL)try{let o=new URL(window.location.href),u=r.startsWith("//")?new URL(o.protocol+r):new URL(r),c=To(u.pathname,t);u.origin===o.origin&&c!=null?r=c+u.search+u.hash:a=!0}catch{hi(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:a,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var rL=["POST","PUT","PATCH","DELETE"];new Set(rL);var CU=["GET",...rL];new Set(CU);var Zd=v.createContext(null);Zd.displayName="DataRouter";var ob=v.createContext(null);ob.displayName="DataRouterState";var kU=v.createContext(!1),nL=v.createContext({isTransitioning:!1});nL.displayName="ViewTransition";var NU=v.createContext(new Map);NU.displayName="Fetchers";var EU=v.createContext(null);EU.displayName="Await";var Ia=v.createContext(null);Ia.displayName="Navigation";var Fh=v.createContext(null);Fh.displayName="Location";var vi=v.createContext({outlet:null,matches:[],isDataRoute:!1});vi.displayName="Route";var Dj=v.createContext(null);Dj.displayName="RouteError";var aL="REACT_ROUTER_ERROR",TU="REDIRECT",PU="ROUTE_ERROR_RESPONSE";function AU(e){if(e.startsWith(`${aL}:${TU}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function RU(e){if(e.startsWith(`${aL}:${PU}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new wU(t.status,t.statusText,t.data)}catch{}}function OU(e,{relative:t}={}){Cr(Jd(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=v.useContext(Ia),{hash:a,pathname:o,search:u}=qh(e,{relative:t}),c=o;return r!=="/"&&(c=o==="/"?r:Co([r,o])),n.createHref({pathname:c,search:u,hash:a})}function Jd(){return v.useContext(Fh)!=null}function $a(){return Cr(Jd(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(Fh).location}var iL="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sL(e){v.useContext(Ia).static||v.useLayoutEffect(e)}function yi(){let{isDataRoute:e}=v.useContext(vi);return e?VU():DU()}function DU(){Cr(Jd(),"useNavigate() may be used only in the context of a <Router> component.");let e=v.useContext(Zd),{basename:t,navigator:r}=v.useContext(Ia),{matches:n}=v.useContext(vi),{pathname:a}=$a(),o=JSON.stringify(Rj(n)),u=v.useRef(!1);return sL(()=>{u.current=!0}),v.useCallback((p,h={})=>{if(hi(u.current,iL),!u.current)return;if(typeof p=="number"){r.go(p);return}let f=Oj(p,JSON.parse(o),a,h.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Co([t,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[t,r,o,a,e])}var MU=v.createContext(null);function LU(e){let t=v.useContext(vi).outlet;return v.useMemo(()=>t&&v.createElement(MU.Provider,{value:e},t),[t,e])}function bi(){let{matches:e}=v.useContext(vi),t=e[e.length-1];return t?t.params:{}}function qh(e,{relative:t}={}){let{matches:r}=v.useContext(vi),{pathname:n}=$a(),a=JSON.stringify(Rj(r));return v.useMemo(()=>Oj(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function IU(e,t){return oL(e,t)}function oL(e,t,r,n,a){var S;Cr(Jd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=v.useContext(Ia),{matches:u}=v.useContext(vi),c=u[u.length-1],p=c?c.params:{},h=c?c.pathname:"/",f=c?c.pathnameBase:"/",m=c&&c.route;{let T=m&&m.path||"";cL(h,!m||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let b=$a(),_;if(t){let T=typeof t=="string"?Xd(t):t;Cr(f==="/"||((S=T.pathname)==null?void 0:S.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${T.pathname}" was given in the \`location\` prop.`),_=T}else _=b;let j=_.pathname||"/",w=j;if(f!=="/"){let T=f.replace(/^\//,"").split("/");w="/"+j.replace(/^\//,"").split("/").slice(T.length).join("/")}let y=XM(e,{pathname:w});hi(m||y!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),hi(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=qU(y&&y.map(T=>Object.assign({},T,{params:Object.assign({},p,T.params),pathname:Co([f,o.encodeLocation?o.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?f:Co([f,o.encodeLocation?o.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),u,r,n,a);return t&&x?v.createElement(Fh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},x):x}function $U(){let e=GU(),t=SU(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},u=null;return console.error("Error handled by React Router default ErrorBoundary:",e),u=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:o},"ErrorBoundary")," or"," ",v.createElement("code",{style:o},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:a},r):null,u)}var BU=v.createElement($U,null),lL=class extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=RU(e.digest);r&&(e=r)}let t=e!==void 0?v.createElement(vi.Provider,{value:this.props.routeContext},v.createElement(Dj.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?v.createElement(zU,{error:e},t):t}};lL.contextType=kU;var O1=new WeakMap;function zU({children:e,error:t}){let{basename:r}=v.useContext(Ia);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=AU(t.digest);if(n){let a=O1.get(t);if(a)throw a;let o=tL(n.location,r);if(eL&&!O1.get(t))if(o.isExternal||n.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:n.replace}));throw O1.set(t,u),u}return v.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return e}function FU({routeContext:e,match:t,children:r}){let n=v.useContext(Zd);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),v.createElement(vi.Provider,{value:e},r)}function qU(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,u=r==null?void 0:r.errors;if(u!=null){let f=o.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id])!==void 0);Cr(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,p=-1;if(r)for(let f=0;f<o.length;f++){let m=o[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(p=f),m.route.id){let{loaderData:b,errors:_}=r,j=m.route.loader&&!b.hasOwnProperty(m.route.id)&&(!_||_[m.route.id]===void 0);if(m.route.lazy||j){c=!0,p>=0?o=o.slice(0,p+1):o=[o[0]];break}}}let h=r&&n?(f,m)=>{var b,_;n(f,{location:r.location,params:((_=(b=r.matches)==null?void 0:b[0])==null?void 0:_.params)??{},unstable_pattern:jU(r.matches),errorInfo:m})}:void 0;return o.reduceRight((f,m,b)=>{let _,j=!1,w=null,y=null;r&&(_=u&&m.route.id?u[m.route.id]:void 0,w=m.route.errorElement||BU,c&&(p<0&&b===0?(cL("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,y=null):p===b&&(j=!0,y=m.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,b+1)),S=()=>{let T;return _?T=w:j?T=y:m.route.Component?T=v.createElement(m.route.Component,null):m.route.element?T=m.route.element:T=f,v.createElement(FU,{match:m,routeContext:{outlet:f,matches:x,isDataRoute:r!=null},children:T})};return r&&(m.route.ErrorBoundary||m.route.errorElement||b===0)?v.createElement(lL,{location:r.location,revalidation:r.revalidation,component:w,error:_,children:S(),routeContext:{outlet:null,matches:x,isDataRoute:!0},onError:h}):S()},null)}function Mj(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function UU(e){let t=v.useContext(Zd);return Cr(t,Mj(e)),t}function HU(e){let t=v.useContext(ob);return Cr(t,Mj(e)),t}function WU(e){let t=v.useContext(vi);return Cr(t,Mj(e)),t}function Lj(e){let t=WU(e),r=t.matches[t.matches.length-1];return Cr(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function KU(){return Lj("useRouteId")}function GU(){var n;let e=v.useContext(Dj),t=HU("useRouteError"),r=Lj("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function VU(){let{router:e}=UU("useNavigate"),t=Lj("useNavigate"),r=v.useRef(!1);return sL(()=>{r.current=!0}),v.useCallback(async(a,o={})=>{hi(r.current,iL),r.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...o}))},[e,t])}var TP={};function cL(e,t,r){!t&&!TP[e]&&(TP[e]=!0,hi(!1,r))}v.memo(YU);function YU({routes:e,future:t,state:r,onError:n}){return oL(e,void 0,r,n,t)}function Fi({to:e,replace:t,state:r,relative:n}){Cr(Jd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=v.useContext(Ia);hi(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=v.useContext(vi),{pathname:u}=$a(),c=yi(),p=Oj(e,Rj(o),u,n==="path"),h=JSON.stringify(p);return v.useEffect(()=>{c(JSON.parse(h),{replace:t,state:r,relative:n})},[c,h,n,t,r]),null}function QU(e){return LU(e.context)}function Ft(e){Cr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function XU({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:o=!1,unstable_useTransitions:u}){Cr(!Jd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),p=v.useMemo(()=>({basename:c,navigator:a,static:o,unstable_useTransitions:u,future:{}}),[c,a,o,u]);typeof r=="string"&&(r=Xd(r));let{pathname:h="/",search:f="",hash:m="",state:b=null,key:_="default"}=r,j=v.useMemo(()=>{let w=To(h,c);return w==null?null:{location:{pathname:w,search:f,hash:m,state:b,key:_},navigationType:n}},[c,h,f,m,b,_,n]);return hi(j!=null,`<Router basename="${c}"> is not able to match the URL "${h}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:v.createElement(Ia.Provider,{value:p},v.createElement(Fh.Provider,{children:t,value:j}))}function ZU({children:e,location:t}){return IU(uS(e),t)}function uS(e,t=[]){let r=[];return v.Children.forEach(e,(n,a)=>{if(!v.isValidElement(n))return;let o=[...t,a];if(n.type===v.Fragment){r.push.apply(r,uS(n.props.children,o));return}Cr(n.type===Ft,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Cr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let u={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(u.children=uS(n.props.children,o)),r.push(u)}),r}var Cv="get",kv="application/x-www-form-urlencoded";function lb(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function JU(e){return lb(e)&&e.tagName.toLowerCase()==="button"}function eH(e){return lb(e)&&e.tagName.toLowerCase()==="form"}function tH(e){return lb(e)&&e.tagName.toLowerCase()==="input"}function rH(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function nH(e,t){return e.button===0&&(!t||t==="_self")&&!rH(e)}function dS(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function aH(e,t){let r=dS(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(o=>{r.append(a,o)})}),r}var zg=null;function iH(){if(zg===null)try{new FormData(document.createElement("form"),0),zg=!1}catch{zg=!0}return zg}var sH=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function D1(e){return e!=null&&!sH.has(e)?(hi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${kv}"`),null):e}function oH(e,t){let r,n,a,o,u;if(eH(e)){let c=e.getAttribute("action");n=c?To(c,t):null,r=e.getAttribute("method")||Cv,a=D1(e.getAttribute("enctype"))||kv,o=new FormData(e)}else if(JU(e)||tH(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=e.getAttribute("formaction")||c.getAttribute("action");if(n=p?To(p,t):null,r=e.getAttribute("formmethod")||c.getAttribute("method")||Cv,a=D1(e.getAttribute("formenctype"))||D1(c.getAttribute("enctype"))||kv,o=new FormData(c,e),!iH()){let{name:h,type:f,value:m}=e;if(f==="image"){let b=h?`${h}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else h&&o.append(h,m)}}else{if(lb(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Cv,n=null,a=kv,u=e}return o&&a==="text/plain"&&(u=o,o=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ij(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function lH(e,t,r,n){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${n}`:a.pathname=`${a.pathname}.${n}`:a.pathname==="/"?a.pathname=`_root.${n}`:t&&To(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function cH(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function uH(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function dH(e,t,r){let n=await Promise.all(e.map(async a=>{let o=t.routes[a.route.id];if(o){let u=await cH(o,r);return u.links?u.links():[]}return[]}));return mH(n.flat(1).filter(uH).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function PP(e,t,r,n,a,o){let u=(p,h)=>r[h]?p.route.id!==r[h].route.id:!0,c=(p,h)=>{var f;return r[h].pathname!==p.pathname||((f=r[h].route.path)==null?void 0:f.endsWith("*"))&&r[h].params["*"]!==p.params["*"]};return o==="assets"?t.filter((p,h)=>u(p,h)||c(p,h)):o==="data"?t.filter((p,h)=>{var m;let f=n.routes[p.route.id];if(!f||!f.hasLoader)return!1;if(u(p,h)||c(p,h))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((m=r[0])==null?void 0:m.params)||{},nextUrl:new URL(e,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function fH(e,t,{includeHydrateFallback:r}={}){return pH(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function pH(e){return[...new Set(e)]}function hH(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function mH(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let o=JSON.stringify(hH(a));return r.has(o)||(r.add(o),n.push({key:o,link:a})),n},[])}function uL(){let e=v.useContext(Zd);return Ij(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function gH(){let e=v.useContext(ob);return Ij(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var $j=v.createContext(void 0);$j.displayName="FrameworkContext";function dL(){let e=v.useContext($j);return Ij(e,"You must render this element inside a <HydratedRouter> element"),e}function vH(e,t){let r=v.useContext($j),[n,a]=v.useState(!1),[o,u]=v.useState(!1),{onFocus:c,onBlur:p,onMouseEnter:h,onMouseLeave:f,onTouchStart:m}=t,b=v.useRef(null);v.useEffect(()=>{if(e==="render"&&u(!0),e==="viewport"){let w=x=>{x.forEach(S=>{u(S.isIntersecting)})},y=new IntersectionObserver(w,{threshold:.5});return b.current&&y.observe(b.current),()=>{y.disconnect()}}},[e]),v.useEffect(()=>{if(n){let w=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(w)}}},[n]);let _=()=>{a(!0)},j=()=>{a(!1),u(!1)};return r?e!=="intent"?[o,b,{}]:[o,b,{onFocus:cp(c,_),onBlur:cp(p,j),onMouseEnter:cp(h,_),onMouseLeave:cp(f,j),onTouchStart:cp(m,_)}]:[!1,b,{}]}function cp(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function yH({page:e,...t}){let{router:r}=uL(),n=v.useMemo(()=>XM(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?v.createElement(_H,{page:e,matches:n,...t}):null}function bH(e){let{manifest:t,routeModules:r}=dL(),[n,a]=v.useState([]);return v.useEffect(()=>{let o=!1;return dH(e,t,r).then(u=>{o||a(u)}),()=>{o=!0}},[e,t,r]),n}function _H({page:e,matches:t,...r}){let n=$a(),{future:a,manifest:o,routeModules:u}=dL(),{basename:c}=uL(),{loaderData:p,matches:h}=gH(),f=v.useMemo(()=>PP(e,t,h,o,n,"data"),[e,t,h,o,n]),m=v.useMemo(()=>PP(e,t,h,o,n,"assets"),[e,t,h,o,n]),b=v.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let w=new Set,y=!1;if(t.forEach(S=>{var N;let T=o.routes[S.route.id];!T||!T.hasLoader||(!f.some(A=>A.route.id===S.route.id)&&S.route.id in p&&((N=u[S.route.id])!=null&&N.shouldRevalidate)||T.hasClientLoader?y=!0:w.add(S.route.id))}),w.size===0)return[];let x=lH(e,c,a.unstable_trailingSlashAwareDataRequests,"data");return y&&w.size>0&&x.searchParams.set("_routes",t.filter(S=>w.has(S.route.id)).map(S=>S.route.id).join(",")),[x.pathname+x.search]},[c,a.unstable_trailingSlashAwareDataRequests,p,n,o,f,t,e,u]),_=v.useMemo(()=>fH(m,o),[m,o]),j=bH(m);return v.createElement(v.Fragment,null,b.map(w=>v.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...r})),_.map(w=>v.createElement("link",{key:w,rel:"modulepreload",href:w,...r})),j.map(({key:w,link:y})=>v.createElement("link",{key:w,nonce:r.nonce,...y,crossOrigin:y.crossOrigin??r.crossOrigin})))}function xH(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var wH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{wH&&(window.__reactRouterVersion="7.13.0")}catch{}function SH({basename:e,children:t,unstable_useTransitions:r,window:n}){let a=v.useRef();a.current==null&&(a.current=Jq({window:n,v5Compat:!0}));let o=a.current,[u,c]=v.useState({action:o.action,location:o.location}),p=v.useCallback(h=>{r===!1?c(h):v.startTransition(()=>c(h))},[r]);return v.useLayoutEffect(()=>o.listen(p),[o,p]),v.createElement(XU,{basename:e,children:t,location:u.location,navigationType:u.action,navigator:o,unstable_useTransitions:r})}var fL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ye=v.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:o,replace:u,state:c,target:p,to:h,preventScrollReset:f,viewTransition:m,unstable_defaultShouldRevalidate:b,..._},j){let{basename:w,unstable_useTransitions:y}=v.useContext(Ia),x=typeof h=="string"&&fL.test(h),S=tL(h,w);h=S.to;let T=OU(h,{relative:a}),[N,A,P]=vH(n,_),k=kH(h,{replace:u,state:c,target:p,preventScrollReset:f,relative:a,viewTransition:m,unstable_defaultShouldRevalidate:b,unstable_useTransitions:y});function R(I){t&&t(I),I.defaultPrevented||k(I)}let D=v.createElement("a",{..._,...P,href:S.absoluteURL||T,onClick:S.isExternal||o?t:R,ref:xH(j,A),target:p,"data-discover":!x&&r==="render"?"true":void 0});return N&&!x?v.createElement(v.Fragment,null,D,v.createElement(yH,{page:T})):D});Ye.displayName="Link";var Ra=v.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:o,to:u,viewTransition:c,children:p,...h},f){let m=qh(u,{relative:h.relative}),b=$a(),_=v.useContext(ob),{navigator:j,basename:w}=v.useContext(Ia),y=_!=null&&AH(m)&&c===!0,x=j.encodeLocation?j.encodeLocation(m).pathname:m.pathname,S=b.pathname,T=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;r||(S=S.toLowerCase(),T=T?T.toLowerCase():null,x=x.toLowerCase()),T&&w&&(T=To(T,w)||T);const N=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let A=S===x||!a&&S.startsWith(x)&&S.charAt(N)==="/",P=T!=null&&(T===x||!a&&T.startsWith(x)&&T.charAt(x.length)==="/"),k={isActive:A,isPending:P,isTransitioning:y},R=A?t:void 0,D;typeof n=="function"?D=n(k):D=[n,A?"active":null,P?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let I=typeof o=="function"?o(k):o;return v.createElement(Ye,{...h,"aria-current":R,className:D,ref:f,style:I,to:u,viewTransition:c},typeof p=="function"?p(k):p)});Ra.displayName="NavLink";var jH=v.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:o,method:u=Cv,action:c,onSubmit:p,relative:h,preventScrollReset:f,viewTransition:m,unstable_defaultShouldRevalidate:b,..._},j)=>{let{unstable_useTransitions:w}=v.useContext(Ia),y=TH(),x=PH(c,{relative:h}),S=u.toLowerCase()==="get"?"get":"post",T=typeof c=="string"&&fL.test(c),N=A=>{if(p&&p(A),A.defaultPrevented)return;A.preventDefault();let P=A.nativeEvent.submitter,k=(P==null?void 0:P.getAttribute("formmethod"))||u,R=()=>y(P||A.currentTarget,{fetcherKey:t,method:k,navigate:r,replace:a,state:o,relative:h,preventScrollReset:f,viewTransition:m,unstable_defaultShouldRevalidate:b});w&&r!==!1?v.startTransition(()=>R()):R()};return v.createElement("form",{ref:j,method:S,action:x,onSubmit:n?p:N,..._,"data-discover":!T&&e==="render"?"true":void 0})});jH.displayName="Form";function CH(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pL(e){let t=v.useContext(Zd);return Cr(t,CH(e)),t}function kH(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:o,viewTransition:u,unstable_defaultShouldRevalidate:c,unstable_useTransitions:p}={}){let h=yi(),f=$a(),m=qh(e,{relative:o});return v.useCallback(b=>{if(nH(b,t)){b.preventDefault();let _=r!==void 0?r:hh(f)===hh(m),j=()=>h(e,{replace:_,state:n,preventScrollReset:a,relative:o,viewTransition:u,unstable_defaultShouldRevalidate:c});p?v.startTransition(()=>j()):j()}},[f,h,m,r,n,t,e,a,o,u,c,p])}function cb(e){hi(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=v.useRef(dS(e)),r=v.useRef(!1),n=$a(),a=v.useMemo(()=>aH(n.search,r.current?null:t.current),[n.search]),o=yi(),u=v.useCallback((c,p)=>{const h=dS(typeof c=="function"?c(new URLSearchParams(a)):c);r.current=!0,o("?"+h,p)},[o,a]);return[a,u]}var NH=0,EH=()=>`__${String(++NH)}__`;function TH(){let{router:e}=pL("useSubmit"),{basename:t}=v.useContext(Ia),r=KU(),n=e.fetch,a=e.navigate;return v.useCallback(async(o,u={})=>{let{action:c,method:p,encType:h,formData:f,body:m}=oH(o,t);if(u.navigate===!1){let b=u.fetcherKey||EH();await n(b,r,u.action||c,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:f,body:m,formMethod:u.method||p,formEncType:u.encType||h,flushSync:u.flushSync})}else await a(u.action||c,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:f,body:m,formMethod:u.method||p,formEncType:u.encType||h,replace:u.replace,state:u.state,fromRouteId:r,flushSync:u.flushSync,viewTransition:u.viewTransition})},[n,a,t,r])}function PH(e,{relative:t}={}){let{basename:r}=v.useContext(Ia),n=v.useContext(vi);Cr(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),o={...qh(e||".",{relative:t})},u=$a();if(e==null){o.search=u.search;let c=new URLSearchParams(o.search),p=c.getAll("index");if(p.some(f=>f==="")){c.delete("index"),p.filter(m=>m).forEach(m=>c.append("index",m));let f=c.toString();o.search=f?`?${f}`:""}}return(!e||e===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:Co([r,o.pathname])),hh(o)}function AH(e,{relative:t}={}){let r=v.useContext(nL);Cr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=pL("useViewTransitionState"),a=qh(e,{relative:t});if(!r.isTransitioning)return!1;let o=To(r.currentLocation.pathname,n)||r.currentLocation.pathname,u=To(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Xv(a.pathname,u)!=null||Xv(a.pathname,o)!=null}var Uh=CM();const RH=Ts(Uh),AP=e=>{let t;const r=new Set,n=(h,f)=>{const m=typeof h=="function"?h(t):h;if(!Object.is(m,t)){const b=t;t=f??(typeof m!="object"||m===null)?m:Object.assign({},t,m),r.forEach(_=>_(t,b))}},a=()=>t,c={setState:n,getState:a,getInitialState:()=>p,subscribe:h=>(r.add(h),()=>r.delete(h))},p=t=e(n,a,c);return c},OH=(e=>e?AP(e):AP),DH=e=>e;function MH(e,t=DH){const r=di.useSyncExternalStore(e.subscribe,di.useCallback(()=>t(e.getState()),[e,t]),di.useCallback(()=>t(e.getInitialState()),[e,t]));return di.useDebugValue(r),r}const RP=e=>{const t=OH(e),r=n=>MH(t,n);return Object.assign(r,t),r},LH=(e=>e?RP(e):RP),As=LH(e=>({user:null,setUser:t=>e({user:t})})),IH="/api";function mh(e){const t=e==null?void 0:e.status;return t===void 0||t===0||t>=500}const $H="harborfm_csrf";function BH(e){if(typeof document>"u")return;const t=document.cookie.split(";").map(r=>r.trim());for(const r of t){if(!r)continue;const n=r.indexOf("=");if(n<0||r.slice(0,n)!==e)continue;const o=r.slice(n+1);try{return decodeURIComponent(o)}catch{return o}}}function zH(){return BH($H)}function Jt(){const e=zH();return e?{"x-csrf-token":e}:{}}function FH(e){const t=e.toUpperCase();return t!=="GET"&&t!=="HEAD"&&t!=="OPTIONS"}async function Ba(e,t={}){const{json:r,...n}=t,a=(n.method??(r!==void 0?"POST":"GET")).toUpperCase(),o={...n.headers};r!==void 0&&(o["Content-Type"]="application/json"),FH(a)&&Object.assign(o,Jt());let u;try{u=await fetch(`${IH}${e}`,{...n,method:a,credentials:"include",headers:o,body:r!==void 0?JSON.stringify(r):n.body})}catch{throw Object.assign(new Error("Network error"),{status:0})}if(!u.ok){if(u.status===429){const h=u.headers.get("Retry-After"),f=h&&/^\d+$/.test(h)?`Too many requests. Please try again in ${h} second${h==="1"?"":"s"}.`:"Too many requests. Please wait a moment and try again.";throw Object.assign(new Error(f),{status:429})}const c=await u.json().catch(()=>({error:u.statusText}));throw Object.assign(new Error(c.error??u.statusText),{status:u.status})}if(u.status!==204)return u.json()}function Et(e){return Ba(e,{method:"GET"})}function nn(e,t){return Ba(e,{method:"POST",json:t})}function Kl(e,t){return Ba(e,{method:"PATCH",json:t})}function qH(e,t){return Ba(e,{method:"PUT",json:t})}function Hh(e){return Ba(e,{method:"DELETE"})}function ou(e){return!!(e!=null&&e.read_only)}const UH=5*1024*1024;function HH(e){return e!=null&&e.user?WH(e.user):!0}function WH(e){if(!e)return!0;const t=e.max_storage_mb??null;if(t==null||t<=0)return!0;const r=e.disk_bytes_used??0;return t*1024*1024-r>=UH}const KH="Less than 5 MB storage free. Free up space to record.";function _i(){return Et("/auth/me")}function GH(e,t,r){return nn("/auth/register",{email:e,password:t,...r?{captchaToken:r}:{}})}function VH(e,t,r){return nn("/auth/login",{email:e,password:t,...r?{captchaToken:r}:{}})}function YH(){return nn("/auth/logout")}function QH(e){return Et(`/auth/verify-email?token=${encodeURIComponent(e)}`)}function XH(e){return Et(`/auth/validate-reset-token?token=${encodeURIComponent(e)}`)}function ZH(e,t){return nn("/auth/forgot-password",{email:e,...t?{captchaToken:t}:{}})}function JH(e,t){return nn("/auth/reset-password",{token:e,password:t})}function lu(){return Et("/setup/status")}function eW(e){const t=new URLSearchParams({id:e});return Et(`/setup/validate?${t.toString()}`)}function tW(e,t){const r=new URLSearchParams({id:e});return nn(`/setup/complete?${r.toString()}`,t)}function cu(){return Et("/public/config")}function rW(e){var n;const t=new URLSearchParams;t.set("limit",String(e.limit)),(e==null?void 0:e.offset)!=null&&t.set("offset",String(e.offset)),(n=e==null?void 0:e.q)!=null&&n.trim()&&t.set("q",e.q.trim()),e!=null&&e.sort&&t.set("sort",e.sort);const r=t.toString();return Et(`/public/podcasts${r?`?${r}`:""}`)}function ub(e){return Et(`/public/podcasts/${e}`)}function nW(e,t=50,r=0,n="newest",a){const o=new URLSearchParams;return o.set("limit",String(t)),o.set("offset",String(r)),o.set("sort",n),a!=null&&a.trim()&&o.set("q",a.trim()),Et(`/public/podcasts/${e}/episodes?${o.toString()}`)}function Bj(e,t){return Et(`/public/podcasts/${e}/episodes/${t}`)}function aW(e,t){return Et(`/public/podcasts/${encodeURIComponent(e)}/episodes/${encodeURIComponent(t)}/cast`)}function iW(e,t){const r=new URLSearchParams;r.set("limit",String(t.limit)),(t==null?void 0:t.offset)!=null&&r.set("offset",String(t.offset));const n=r.toString();return Et(`/public/podcasts/${e}/cast${n?`?${n}`:""}`)}function zj(e,t){return`/api/public/podcasts/${encodeURIComponent(e)}/episodes/${encodeURIComponent(t)}/waveform`}function sW(e,t){return nn("/public/subscriber-auth",{token:e,podcastSlug:t})}function oW(){return Et("/public/subscriber-auth/status")}function lW(e){const t=e?`?podcastSlug=${encodeURIComponent(e)}`:"";return Hh(`/public/subscriber-auth${t}`)}const cW="_layout_ohwld_1",uW="_header_ohwld_13",dW="_headerContainer_ohwld_18",fW="_headerLeft_ohwld_29",pW="_logo_ohwld_35",hW="_logoIcon_ohwld_49",mW="_navBar_ohwld_55",gW="_navLink_ohwld_68",vW="_navLinkActive_ohwld_83",yW="_adminDropdownWrap_ohwld_97",bW="_adminDropdownWrapOpen_ohwld_102",_W="_adminDropdown_ohwld_97",xW="_adminChevron_ohwld_120",wW="_adminDropdownLink_ohwld_145",SW="_adminDropdownLinkActive_ohwld_146",jW="_nav_ohwld_55",CW="_profileLink_ohwld_179",kW="_profileLinkActive_ohwld_180",NW="_logout_ohwld_214",EW="_menuToggle_ohwld_233",TW="_menuOverlay_ohwld_256",PW="_mobileMenu_ohwld_271",AW="_mobileMenuOpen_ohwld_289",RW="_mobileMenuHeader_ohwld_293",OW="_mobileMenuTitle_ohwld_301",DW="_mobileMenuProfile_ohwld_307",MW="_mobileMenuClose_ohwld_313",LW="_mobileNav_ohwld_330",IW="_mobileNavLink_ohwld_338",$W="_mobileNavLinkActive_ohwld_339",BW="_mobileAdminSection_ohwld_366",zW="_mobileAdminTrigger_ohwld_372",FW="_adminChevronOpen_ohwld_394",qW="_mobileAdminSubmenu_ohwld_399",UW="_mobileMenuFooter_ohwld_412",HW="_mobileLogout_ohwld_419",WW="_main_ohwld_453",Xe={layout:cW,header:uW,headerContainer:dW,headerLeft:fW,logo:pW,logoIcon:hW,navBar:mW,navLink:gW,navLinkActive:vW,adminDropdownWrap:yW,adminDropdownWrapOpen:bW,adminDropdown:_W,adminChevron:xW,adminDropdownLink:wW,adminDropdownLinkActive:SW,nav:jW,profileLink:CW,profileLinkActive:kW,logout:NW,menuToggle:EW,menuOverlay:TW,mobileMenu:PW,mobileMenuOpen:AW,mobileMenuHeader:RW,mobileMenuTitle:OW,mobileMenuProfile:DW,mobileMenuClose:MW,mobileNav:LW,mobileNavLink:IW,mobileNavLinkActive:$W,mobileAdminSection:BW,mobileAdminTrigger:zW,adminChevronOpen:FW,mobileAdminSubmenu:qW,mobileMenuFooter:UW,mobileLogout:HW,main:WW},KW=["/users","/settings"];function GW(e){return KW.some(t=>e===t||e.startsWith(t+"/"))}function VW(){const{user:e,setUser:t}=As(),r=Lt(),n=yi(),a=$a(),[o,u]=v.useState(!1),[c,p]=v.useState(!1),[h,f]=v.useState(!1),m=v.useRef(null),b=v.useRef(null);async function _(){await YH(),t(null),r.clear(),n("/login"),u(!1)}return v.useEffect(()=>{function j(w){m.current&&!m.current.contains(w.target)&&u(!1)}if(o)return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[o]),v.useEffect(()=>{u(!1),p(!1),f(!1)},[a.pathname]),v.useEffect(()=>{function j(w){b.current&&!b.current.contains(w.target)&&f(!1)}if(h)return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[h]),i.jsxs("div",{className:Xe.layout,children:[i.jsx("header",{className:Xe.header,children:i.jsxs("div",{className:Xe.headerContainer,children:[i.jsxs("div",{className:Xe.headerLeft,children:[i.jsxs(Ye,{to:"/",className:Xe.logo,onClick:()=>u(!1),children:[i.jsx("img",{src:"/favicon.svg",alt:"",className:Xe.logoIcon}),"HarborFM"]}),i.jsxs("nav",{className:Xe.navBar,children:[i.jsx(Ra,{to:"/",end:!0,className:({isActive:j})=>j?Xe.navLinkActive:Xe.navLink,children:"Home"}),i.jsx(Ra,{to:"/library",className:({isActive:j})=>j?Xe.navLinkActive:Xe.navLink,children:"Library"}),i.jsx(Ra,{to:"/messages",className:({isActive:j})=>j?Xe.navLinkActive:Xe.navLink,children:"Messages"}),(e==null?void 0:e.role)==="admin"&&i.jsxs("div",{ref:b,className:`${Xe.adminDropdownWrap} ${h?Xe.adminDropdownWrapOpen:""}`,onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),children:[i.jsxs("button",{type:"button",className:GW(a.pathname)?Xe.navLinkActive:Xe.navLink,"aria-haspopup":"true","aria-expanded":h,"aria-label":"Admin menu",onClick:()=>f(j=>!j),children:["Admin",i.jsx(lS,{size:16,strokeWidth:2,className:Xe.adminChevron,"aria-hidden":!0})]}),i.jsxs("div",{className:Xe.adminDropdown,role:"menu",children:[i.jsx(Ra,{to:"/users",className:({isActive:j})=>j?Xe.adminDropdownLinkActive:Xe.adminDropdownLink,role:"menuitem",onClick:()=>f(!1),children:"Users"}),i.jsx(Ra,{to:"/settings",className:({isActive:j})=>j?Xe.adminDropdownLinkActive:Xe.adminDropdownLink,role:"menuitem",onClick:()=>f(!1),children:"Settings"})]})]})]})]}),i.jsxs("div",{className:Xe.nav,children:[i.jsxs(Ra,{to:"/profile",className:({isActive:j})=>j?Xe.profileLinkActive:Xe.profileLink,title:"Profile",children:[i.jsx(ph,{size:18,strokeWidth:2,"aria-hidden":!0}),"Profile"]}),i.jsx("button",{type:"button",className:Xe.logout,onClick:_,"aria-label":"Log out",children:"Log out"}),i.jsx("button",{type:"button",className:Xe.menuToggle,onClick:()=>u(!o),"aria-label":"Toggle menu",children:o?i.jsx(Nt,{size:24,strokeWidth:2}):i.jsx(oq,{size:24,strokeWidth:2})})]})]})}),o&&i.jsx("div",{className:Xe.menuOverlay,onClick:()=>u(!1)}),i.jsxs("div",{ref:m,className:`${Xe.mobileMenu} ${o?Xe.mobileMenuOpen:""}`,inert:o?void 0:!0,children:[i.jsxs("div",{className:Xe.mobileMenuHeader,children:[i.jsx("span",{className:Xe.mobileMenuTitle,children:"Menu"}),i.jsx("button",{type:"button",className:Xe.mobileMenuClose,onClick:()=>u(!1),"aria-label":"Close menu",children:i.jsx(Nt,{size:24,strokeWidth:2})})]}),i.jsxs("nav",{className:Xe.mobileNav,children:[i.jsx(Ra,{to:"/",end:!0,className:({isActive:j})=>j?Xe.mobileNavLinkActive:Xe.mobileNavLink,onClick:()=>u(!1),children:"Home"}),i.jsx(Ra,{to:"/library",className:({isActive:j})=>j?Xe.mobileNavLinkActive:Xe.mobileNavLink,onClick:()=>u(!1),children:"Library"}),i.jsx(Ra,{to:"/messages",className:({isActive:j})=>j?Xe.mobileNavLinkActive:Xe.mobileNavLink,onClick:()=>u(!1),children:"Messages"}),i.jsxs(Ra,{to:"/profile",className:({isActive:j})=>`${j?Xe.mobileNavLinkActive:Xe.mobileNavLink} ${Xe.mobileMenuProfile}`,onClick:()=>u(!1),children:[i.jsx(ph,{size:20,strokeWidth:2,"aria-hidden":!0}),"Profile"]}),(e==null?void 0:e.role)==="admin"&&i.jsxs("div",{className:Xe.mobileAdminSection,children:[i.jsxs("button",{type:"button",className:Xe.mobileAdminTrigger,onClick:()=>p(j=>!j),"aria-expanded":c,children:["Admin",i.jsx(lS,{size:18,strokeWidth:2,className:c?Xe.adminChevronOpen:"","aria-hidden":!0})]}),c&&i.jsxs("div",{className:Xe.mobileAdminSubmenu,children:[i.jsx(Ra,{to:"/users",className:({isActive:j})=>j?Xe.mobileNavLinkActive:Xe.mobileNavLink,onClick:()=>{u(!1),p(!1)},children:"Users"}),i.jsx(Ra,{to:"/settings",className:({isActive:j})=>j?Xe.mobileNavLinkActive:Xe.mobileNavLink,onClick:()=>{u(!1),p(!1)},children:"Settings"})]})]})]}),i.jsx("div",{className:Xe.mobileMenuFooter,children:i.jsxs("button",{type:"button",className:Xe.mobileLogout,onClick:_,"aria-label":"Log out",children:[i.jsx(VM,{size:20,strokeWidth:2,"aria-hidden":!0}),"Log out"]})})]}),i.jsx("main",{className:Xe.main,children:i.jsx(QU,{})})]})}const YW="_wrap_dfkeq_1",QW="_welcomeBanner_dfkeq_17",XW="_card_dfkeq_34",ZW="_brand_dfkeq_44",JW="_brandIcon_dfkeq_52",eK="_title_dfkeq_58",tK="_subtitle_dfkeq_66",rK="_setupHeader_dfkeq_72",nK="_loginHeader_dfkeq_77",aK="_setupHeaderTitle_dfkeq_82",iK="_setupHeaderSub_dfkeq_91",sK="_form_dfkeq_98",oK="_label_dfkeq_104",lK="_input_dfkeq_113",cK="_error_dfkeq_126",uK="_verificationCard_dfkeq_139",dK="_verificationCardText_dfkeq_147",fK="_verificationCardFooter_dfkeq_154",pK="_verificationCardError_dfkeq_162",hK="_verificationCardErrorText_dfkeq_170",mK="_verificationCardSuccess_dfkeq_177",gK="_verificationCardSuccessText_dfkeq_185",vK="_setupNotice_dfkeq_192",yK="_setupNoticeTitle_dfkeq_200",bK="_setupNoticeBody_dfkeq_207",_K="_setupNoticeCode_dfkeq_214",xK="_submit_dfkeq_222",wK="_footerActions_dfkeq_247",SK="_footerAction_dfkeq_247",jK="_footerActionIcon_dfkeq_270",CK="_footerActionLabel_dfkeq_280",kK="_footerActionLink_dfkeq_286",NK="_footer_dfkeq_247",EK="_footerLinks_dfkeq_312",TK="_footerBelowCard_dfkeq_319",PK="_footerBelowCardSep_dfkeq_330",AK="_toggleHelp_dfkeq_338",oe={wrap:YW,welcomeBanner:QW,card:XW,brand:ZW,brandIcon:JW,title:eK,subtitle:tK,setupHeader:rK,loginHeader:nK,setupHeaderTitle:aK,setupHeaderSub:iK,form:sK,label:oK,input:lK,error:cK,verificationCard:uK,verificationCardText:dK,verificationCardFooter:fK,verificationCardError:pK,verificationCardErrorText:hK,verificationCardSuccess:mK,verificationCardSuccessText:gK,setupNotice:vK,setupNoticeTitle:yK,setupNoticeBody:bK,setupNoticeCode:_K,submit:xK,footerActions:wK,footerAction:SK,footerActionIcon:jK,footerActionLabel:CK,footerActionLink:kK,footer:NK,footerLinks:EK,footerBelowCard:TK,footerBelowCardSep:PK,toggleHelp:AK},RK="_card_1wgr1_1",OK="_content_1wgr1_16",DK="_header_1wgr1_20",MK="_status_1wgr1_28",LK="_iconWrap_1wgr1_35",IK="_statusText_1wgr1_46",$K="_title_1wgr1_50",BK="_subtitle_1wgr1_58",zK="_body_1wgr1_64",FK="_details_1wgr1_71",qK="_actions_1wgr1_85",UK="_retry_1wgr1_94",Ja={card:RK,content:OK,header:DK,status:MK,iconWrap:LK,statusText:IK,title:$K,subtitle:BK,body:zK,details:FK,actions:qK,retry:UK};function hL({title:e="Server is offline",message:t="Could not reach HarborFM server. Make sure the server is running, then try again.",details:r,onRetry:n}){return i.jsx("div",{className:oe.wrap,children:i.jsxs("div",{className:`${oe.card} ${Ja.card}`,children:[i.jsxs("div",{className:oe.brand,children:[i.jsx("img",{src:"/favicon.svg",alt:"",className:oe.brandIcon}),i.jsx("h1",{className:oe.title,children:"HarborFM"})]}),i.jsxs("div",{className:Ja.content,children:[i.jsx("div",{className:Ja.header,children:i.jsxs("div",{className:Ja.status,children:[i.jsx("div",{className:Ja.iconWrap,"aria-hidden":"true",children:i.jsx(Wq,{size:18})}),i.jsxs("div",{className:Ja.statusText,children:[i.jsx("h2",{className:Ja.title,children:e}),i.jsx("p",{className:Ja.subtitle,children:"We couldnt reach the API right now."})]})]})}),i.jsx("p",{className:Ja.body,children:t}),r&&i.jsx("div",{className:Ja.details,children:r}),n&&i.jsx("div",{className:Ja.actions,children:i.jsxs("button",{type:"button",className:`${oe.submit} ${Ja.retry}`,onClick:n,"aria-label":"Retry",children:[i.jsx(ib,{size:16,"aria-hidden":"true"}),"Retry"]})})]})]})})}const OP="https://www.google.com/recaptcha/api.js",HK="https://js.hcaptcha.com/1/api.js";function M1(e,t){if(document.querySelector(`script[src="${e}"]`)){t==null||t();return}const r=document.createElement("script");r.src=e,r.async=!0,r.defer=!0,t&&(r.onload=t),document.head.appendChild(r)}const Wh=v.forwardRef(function({provider:t,siteKey:r,action:n="login"},a){const o=v.useRef(null),u=v.useRef(null);return v.useImperativeHandle(a,()=>({getToken:()=>{if(t==="recaptcha_v3")return window.grecaptcha?new Promise(c=>{window.grecaptcha.ready(c)}).then(()=>window.grecaptcha.execute(r,{action:n})):Promise.resolve("");if(t==="recaptcha_v2"){if(!window.grecaptcha)return Promise.resolve("");const c=u.current??void 0,p=window.grecaptcha.getResponse(c);return Promise.resolve(p||"")}if(t==="hcaptcha"&&window.hcaptcha){const c=u.current??void 0,p=window.hcaptcha.getResponse(c);return Promise.resolve(p||"")}return Promise.resolve("")}}),[t,r,n]),v.useEffect(()=>{if(r){if(t==="recaptcha_v3"){M1(`${OP}?render=${encodeURIComponent(r)}`);return}if(t==="recaptcha_v2"){const c=()=>{if(!(!o.current||!window.grecaptcha))try{u.current=window.grecaptcha.render(o.current,{sitekey:r})}catch{}};window.onRecaptchaLoad=c;const p=`${OP}?onload=onRecaptchaLoad&render=explicit`;return M1(p,()=>{var h,f;(f=(h=window.grecaptcha)==null?void 0:h.ready)==null||f.call(h,c)}),()=>{window.onRecaptchaLoad=void 0}}if(t==="hcaptcha"){const c=()=>{if(!(u.current!=null||!o.current||!window.hcaptcha))try{u.current=window.hcaptcha.render(o.current,{sitekey:r})}catch{}};window.onHcaptchaLoad=c;const p=`${HK}?onload=onHcaptchaLoad&render=explicit`;return document.querySelector(`script[src="${p}"]`)?setTimeout(c,0):M1(p),()=>{window.onHcaptchaLoad=void 0}}}},[t,r]),t==="recaptcha_v3"?null:i.jsx("div",{className:"captcha-container",style:{marginTop:"0.5rem",minHeight:78,display:"flex",justifyContent:"center"},children:i.jsx("div",{ref:o})})});function WK(){var _,j;const[e]=cb(),t=e.get("verified")==="1",[r,n]=v.useState(""),[a,o]=v.useState(""),u=As(w=>w.setUser),c=yi(),p=Lt(),h=v.useRef(null),{data:f}=Oe({queryKey:["setupStatus"],queryFn:lu,retry:!1,staleTime:1e4}),m=Ue({mutationFn:async()=>{var y;let w;return f!=null&&f.captchaProvider&&f.captchaProvider!=="none"&&f.captchaSiteKey&&(w=await((y=h.current)==null?void 0:y.getToken()),w!=null&&w.trim()||console.error("[Login] CAPTCHA enabled but no token from widget",{captchaProvider:f.captchaProvider,hasRef:!!h.current})),VH(r,a,w)},onSuccess:w=>{u(w.user),p.invalidateQueries({queryKey:["me"]}),c("/")},onError:w=>{console.error("[Login] submit failed",{message:w.message,name:w.name})}});async function b(w){w.preventDefault(),t&&c("/login",{replace:!0}),m.mutate()}return i.jsx("main",{children:i.jsxs("div",{className:oe.wrap,children:[i.jsxs("div",{className:oe.card,children:[i.jsxs("div",{className:oe.brand,children:[i.jsx("img",{src:"/favicon.svg",alt:"",className:oe.brandIcon}),i.jsx("h1",{className:oe.title,children:"HarborFM"})]}),i.jsx("div",{className:oe.loginHeader,children:i.jsx("h2",{className:oe.setupHeaderTitle,children:"Sign in to your account"})}),i.jsxs("form",{onSubmit:b,className:oe.form,children:[i.jsxs("label",{className:oe.label,children:["Email",i.jsx("input",{type:"email",autoComplete:"email",value:r,onChange:w=>n(w.target.value),className:oe.input,required:!0})]}),i.jsxs("label",{className:oe.label,children:["Password",i.jsx("input",{type:"password",autoComplete:"current-password",value:a,onChange:w=>o(w.target.value),className:oe.input,required:!0})]}),(f==null?void 0:f.captchaProvider)&&f.captchaProvider!=="none"&&f.captchaSiteKey&&i.jsx(Wh,{ref:h,provider:f.captchaProvider,siteKey:f.captchaSiteKey}),t&&i.jsx("div",{className:oe.verificationCardSuccess,children:i.jsx("p",{className:oe.verificationCardSuccessText,children:"Your email is verified. You can sign in now."})}),m.isError&&i.jsx("div",{className:oe.verificationCardError,children:i.jsx("p",{className:oe.verificationCardErrorText,children:(_=m.error)==null?void 0:_.message})}),i.jsxs("button",{type:"submit",className:oe.submit,disabled:m.isPending||!r.trim()||a.length<4,"aria-label":"Sign in",children:[i.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":!0,children:[i.jsx("path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}),i.jsx("polyline",{points:"10 17 15 12 10 7"}),i.jsx("line",{x1:"15",y1:"12",x2:"3",y2:"12"})]}),m.isPending?"Signing in...":"Sign in"]})]}),i.jsxs("div",{className:oe.footerActions,children:[i.jsxs("div",{className:oe.footerAction,children:[i.jsx("span",{className:oe.footerActionIcon,"aria-hidden":!0,children:i.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M15 7a2 2 0 0 1 2 2m-4 2a6 6 0 0 1-3-5 6 6 0 0 1 6 0 6 6 0 0 1-3 5"}),i.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"})]})}),i.jsx("span",{className:oe.footerActionLabel,children:"Forgot your password?"}),i.jsx(Ye,{to:"/reset-password",className:oe.footerActionLink,children:"Reset password"})]}),(f==null?void 0:f.registrationEnabled)!==!1&&i.jsxs("div",{className:oe.footerAction,children:[i.jsx("span",{className:oe.footerActionIcon,"aria-hidden":!0,children:i.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),i.jsx("circle",{cx:"9",cy:"7",r:"4"}),i.jsx("line",{x1:"19",y1:"8",x2:"19",y2:"14"}),i.jsx("line",{x1:"22",y1:"11",x2:"16",y2:"11"})]})}),i.jsx("span",{className:oe.footerActionLabel,children:"No account?"}),i.jsx(Ye,{to:"/register",className:oe.footerActionLink,children:"Create account"})]})]})]}),((j=f==null?void 0:f.welcomeBanner)==null?void 0:j.trim())&&i.jsx("div",{className:oe.welcomeBanner,role:"status",children:f.welcomeBanner}),i.jsxs("p",{className:oe.footerBelowCard,children:[i.jsx(Ye,{to:"/privacy",children:"Privacy Policy"}),i.jsx("span",{className:oe.footerBelowCardSep,"aria-hidden":!0}),i.jsx(Ye,{to:"/terms",children:"Terms of Service"}),i.jsx("span",{className:oe.footerBelowCardSep,"aria-hidden":!0}),i.jsx(Ye,{to:"/contact",children:"Contact"})]})]})})}function KK(){var _;const[e,t]=v.useState(""),[r,n]=v.useState(""),a=As(j=>j.setUser),o=yi(),u=Lt(),c=v.useRef(null),{data:p}=Oe({queryKey:["setupStatus"],queryFn:lu,retry:!1,staleTime:1e4}),[h,f]=v.useState(null),m=Ue({mutationFn:async()=>{var w;let j;return p!=null&&p.captchaProvider&&p.captchaProvider!=="none"&&p.captchaSiteKey&&(j=await((w=c.current)==null?void 0:w.getToken())),GH(e,r,j)},onSuccess:j=>{if("requiresVerification"in j&&j.requiresVerification){f(j.message??"Check your email to verify your account, then sign in.");return}"user"in j&&(a(j.user),u.invalidateQueries({queryKey:["me"]}),o("/"))}});async function b(j){j.preventDefault(),m.mutate()}return i.jsx("main",{children:i.jsxs("div",{className:oe.wrap,children:[i.jsxs("div",{className:oe.card,children:[i.jsxs("div",{className:oe.brand,children:[i.jsx("img",{src:"/favicon.svg",alt:"",className:oe.brandIcon}),i.jsx("h1",{className:oe.title,children:"HarborFM"})]}),i.jsx("div",{className:oe.loginHeader,children:i.jsx("h2",{className:oe.setupHeaderTitle,children:"Register"})}),h?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:oe.verificationCard,children:i.jsx("p",{className:oe.verificationCardText,children:h})}),i.jsxs("p",{className:oe.verificationCardFooter,children:[i.jsx(Ye,{to:"/login",children:"Sign in"})," once youve verified your email."]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("form",{onSubmit:b,className:oe.form,children:[i.jsxs("label",{className:oe.label,children:["Email",i.jsx("input",{type:"email",autoComplete:"email",value:e,onChange:j=>t(j.target.value),className:oe.input,required:!0})]}),i.jsxs("label",{className:oe.label,children:["Password",i.jsx("input",{type:"password",autoComplete:"new-password",value:r,onChange:j=>n(j.target.value),className:oe.input,minLength:8,required:!0})]}),(p==null?void 0:p.captchaProvider)&&p.captchaProvider!=="none"&&p.captchaSiteKey&&i.jsx(Wh,{ref:c,provider:p.captchaProvider,siteKey:p.captchaSiteKey}),m.isError&&i.jsx("p",{className:oe.error,children:(_=m.error)==null?void 0:_.message}),i.jsxs("button",{type:"submit",className:oe.submit,disabled:m.isPending||!e.trim()||r.length<8,"aria-label":"Create account",children:[i.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":!0,children:[i.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),i.jsx("circle",{cx:"9",cy:"7",r:"4"}),i.jsx("line",{x1:"19",y1:"8",x2:"19",y2:"14"}),i.jsx("line",{x1:"22",y1:"11",x2:"16",y2:"11"})]}),m.isPending?"Creating...":"Create account"]})]}),i.jsxs("p",{className:oe.footer,children:["Already have an account? ",i.jsx(Ye,{to:"/login",children:"Sign in"})]})]})]}),i.jsxs("p",{className:oe.footerBelowCard,children:[i.jsx(Ye,{to:"/privacy",children:"Privacy Policy"}),i.jsx("span",{className:oe.footerBelowCardSep,"aria-hidden":!0}),i.jsx(Ye,{to:"/terms",children:"Terms of Service"}),i.jsx("span",{className:oe.footerBelowCardSep,"aria-hidden":!0}),i.jsx(Ye,{to:"/contact",children:"Contact"})]})]})})}function ba(){return i.jsxs("div",{className:"app-loading","aria-label":"Loading",children:[i.jsx("span",{className:"app-loading__dot"}),i.jsx("span",{className:"app-loading__dot"}),i.jsx("span",{className:"app-loading__dot"})]})}function GK({label:e="Loading"}){return i.jsxs("span",{"aria-label":e,style:{display:"inline-flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",padding:"0.25rem 0"},children:[i.jsx("span",{className:"app-loading__dot"}),i.jsx("span",{className:"app-loading__dot"}),i.jsx("span",{className:"app-loading__dot"})]})}function VK(){var M;const e=$a(),t=yi(),r=Lt(),n=v.useMemo(()=>(new URLSearchParams(e.search).get("id")||"").trim(),[e.search]),{data:a,isLoading:o,isError:u,error:c,refetch:p}=Oe({queryKey:["setupStatus"],queryFn:lu,retry:!1,staleTime:1e4}),{isLoading:h,isError:f,error:m,data:b,refetch:_}=Oe({queryKey:["setupValidate",n],queryFn:()=>eW(n),enabled:!!n&&!!(a!=null&&a.setupRequired),retry:!1,staleTime:1e4}),j=v.useMemo(()=>typeof window>"u"?"":window.location.origin,[]),[w,y]=v.useState(""),[x,S]=v.useState(""),[T,N]=v.useState(j),[A,P]=v.useState(!1),[k,R]=v.useState(!0),[D,I]=v.useState(!1),q=Ue({mutationFn:()=>tW(n,{email:w,password:x,hostname:T.trim().replace(/\/+$/,""),registration_enabled:A,public_feeds_enabled:k,import_pixabay_assets:D}),onSuccess:async()=>{r.setQueryData(["setupStatus"],{setupRequired:!1}),r.invalidateQueries({queryKey:["setupStatus"]}),t("/login",{replace:!0})}});function z(F){F.preventDefault(),n&&q.mutate()}if(o)return i.jsx("main",{children:i.jsx("div",{className:oe.wrap,children:i.jsx("div",{className:oe.card,children:i.jsx("p",{className:oe.subtitle,children:"Loading setup status..."})})})});if(u){const F=c instanceof Error?c.message:"Failed to reach server";return i.jsx(hL,{title:"Server is offline",message:"Could not load setup status. The server may be down or restarting.",details:F,onRetry:()=>{p()}})}if(a&&!a.setupRequired)return i.jsx(Fi,{to:"/",replace:!0});if(q.isPending)return i.jsx(ba,{});if(!n)return i.jsx("main",{children:i.jsx("div",{className:oe.wrap,children:i.jsxs("div",{className:oe.card,children:[i.jsxs("div",{className:oe.brand,children:[i.jsx("img",{src:"/favicon.svg",alt:"",className:oe.brandIcon}),i.jsx("h1",{className:oe.title,children:"HarborFM"})]}),i.jsxs("div",{className:oe.setupNotice,role:"alert","aria-live":"polite",children:[i.jsx("p",{className:oe.setupNoticeTitle,children:"Setup link required"}),i.jsxs("p",{className:oe.setupNoticeBody,children:["Missing setup id in the URL. Check the server logs for a link like"," ",i.jsx("code",{className:oe.setupNoticeCode,children:"/setup?id=....."})]})]})]})})});if(h)return i.jsx("main",{children:i.jsx("div",{className:oe.wrap,children:i.jsxs("div",{className:oe.card,children:[i.jsxs("div",{className:oe.brand,children:[i.jsx("img",{src:"/favicon.svg",alt:"",className:oe.brandIcon}),i.jsx("h1",{className:oe.title,children:"HarborFM"})]}),i.jsx("p",{className:oe.subtitle,children:"Validating setup link..."})]})})});if(f||!b){const F=m instanceof Error?m.message:"Invalid setup link";return i.jsx("main",{children:i.jsx("div",{className:oe.wrap,children:i.jsxs("div",{className:oe.card,children:[i.jsxs("div",{className:oe.brand,children:[i.jsx("img",{src:"/favicon.svg",alt:"",className:oe.brandIcon}),i.jsx("h1",{className:oe.title,children:"HarborFM"})]}),i.jsxs("div",{className:oe.setupNotice,role:"alert","aria-live":"polite",children:[i.jsx("p",{className:oe.setupNoticeTitle,children:"Setup link invalid"}),i.jsx("p",{className:oe.setupNoticeBody,children:F})]}),i.jsx("button",{type:"button",className:oe.submit,onClick:()=>{_()},"aria-label":"Retry validating setup link",style:{marginTop:"1rem",width:"100%"},children:"Retry"})]})})})}return i.jsx("main",{children:i.jsx("div",{className:oe.wrap,children:i.jsxs("div",{className:oe.card,children:[i.jsxs("div",{className:oe.brand,children:[i.jsx("img",{src:"/favicon.svg",alt:"",className:oe.brandIcon}),i.jsx("h1",{className:oe.title,children:"HarborFM"})]}),i.jsx("div",{className:oe.setupHeader,children:i.jsx("h2",{className:oe.setupHeaderTitle,children:"Initial setup"})}),i.jsxs("form",{onSubmit:z,className:oe.form,children:[i.jsxs("label",{className:oe.label,children:["Admin email",i.jsx("input",{type:"email",autoComplete:"email",value:w,onChange:F=>y(F.target.value),className:oe.input,required:!0})]}),i.jsxs("label",{className:oe.label,children:["Admin password",i.jsx("input",{type:"password",autoComplete:"new-password",value:x,onChange:F=>S(F.target.value),className:oe.input,minLength:8,required:!0})]}),i.jsxs("label",{className:oe.label,children:["Hostname (public base URL, optional)",i.jsx("input",{type:"text",placeholder:"https://podcasts.example.com",value:T,onChange:F=>N(F.target.value),className:oe.input})]}),i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:A,onChange:F=>P(F.target.checked)}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Enable Account Registration"})]}),i.jsx("p",{className:oe.toggleHelp,children:"When enabled, new users can create accounts. When disabled, only existing users can log in."}),i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:k,onChange:F=>R(F.target.checked)}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Enable Public Feeds"})]}),i.jsx("p",{className:oe.toggleHelp,children:"When enabled, anyone can view your podcast feed pages and RSS. When disabled, feed pages are hidden."}),i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:D,onChange:F=>I(F.target.checked)}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Import Pixabay Assets"})]}),i.jsx("p",{className:oe.toggleHelp,children:"Imports a list of curated Pixabay assets into your global library."}),q.isError&&i.jsx("p",{className:oe.error,children:(M=q.error)==null?void 0:M.message}),i.jsx("button",{type:"submit",className:oe.submit,disabled:q.isPending||!n,"aria-label":"Complete setup",children:q.isPending?"Setting up...":"Complete setup"})]})]})})})}function YK(){var N,A,P,k;const[e]=cb(),t=e.get("token"),[r,n]=v.useState(""),[a,o]=v.useState(""),[u,c]=v.useState(""),p=v.useRef(null),{data:h}=Oe({queryKey:["setupStatus"],queryFn:lu,retry:!1,staleTime:1e4}),f=(t==null?void 0:t.trim())??"",m=!!f,b=Oe({queryKey:["validateResetToken",f],queryFn:()=>XH(f),enabled:m,retry:!1,staleTime:300*1e3}),_=b.isSuccess&&((N=b.data)==null?void 0:N.ok)===!0,j=m&&!b.isLoading&&(b.isError||!_),w=Ue({mutationFn:async()=>{var D;let R;if(h!=null&&h.captchaProvider&&h.captchaProvider!=="none"&&h.captchaSiteKey&&(R=await((D=p.current)==null?void 0:D.getToken()),!(R!=null&&R.trim())))throw new Error("Please complete the CAPTCHA.");return ZH(r,R)}}),y=Ue({mutationFn:()=>JH(f,a)}),x=(h==null?void 0:h.emailConfigured)===!0;function S(R){R.preventDefault(),r.trim()&&w.mutate()}function T(R){R.preventDefault(),a===u&&y.mutate()}return i.jsx("main",{children:i.jsxs("div",{className:oe.wrap,children:[i.jsxs("div",{className:oe.card,children:[i.jsxs("div",{className:oe.brand,children:[i.jsx("img",{src:"/favicon.svg",alt:"",className:oe.brandIcon}),i.jsx("h1",{className:oe.title,children:"HarborFM"})]}),i.jsx("div",{className:oe.loginHeader,children:i.jsx("h2",{className:oe.setupHeaderTitle,children:m?"Set New Password":"Reset Password"})}),!x&&!m&&i.jsx("div",{className:oe.verificationCardError,children:i.jsx("p",{className:oe.verificationCardErrorText,children:"Password reset is not available because no email service is configured. Ask an administrator to set up SMTP or SendGrid in Settings."})}),x&&!m&&i.jsx(i.Fragment,{children:w.isSuccess?i.jsx("div",{className:oe.verificationCard,children:i.jsx("p",{className:oe.verificationCardText,children:"If an account exists for that email, we sent a reset link. Check your inbox and use the link within 1 hour."})}):i.jsxs("form",{onSubmit:S,className:oe.form,children:[i.jsxs("label",{className:oe.label,children:["Email",i.jsx("input",{type:"email",autoComplete:"email",value:r,onChange:R=>n(R.target.value),className:oe.input,required:!0})]}),(h==null?void 0:h.captchaProvider)&&h.captchaProvider!=="none"&&h.captchaSiteKey&&i.jsx(Wh,{ref:p,provider:h.captchaProvider,siteKey:h.captchaSiteKey,action:"forgot_password"}),w.isError&&i.jsx("div",{className:oe.verificationCardError,children:i.jsx("p",{className:oe.verificationCardErrorText,children:(A=w.error)==null?void 0:A.message})}),i.jsxs("button",{type:"submit",className:oe.submit,disabled:w.isPending||!r.trim(),"aria-label":"Send reset link",children:[i.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":!0,children:[i.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),i.jsx("polyline",{points:"22,6 12,13 2,6"})]}),w.isPending?"Sending...":"Send reset link"]})]})}),m&&i.jsxs(i.Fragment,{children:[b.isLoading&&i.jsx("p",{className:oe.verificationCardText,children:"Checking reset link..."}),j&&i.jsx("div",{className:oe.verificationCardError,children:i.jsx("p",{className:oe.verificationCardErrorText,children:((P=b.error)==null?void 0:P.message)??"Invalid or expired reset link. Request a new one from the reset password page."})}),_&&y.isSuccess?i.jsx("div",{className:oe.verificationCardSuccess,children:i.jsx("p",{className:oe.verificationCardSuccessText,children:"Your password has been reset. You can sign in now."})}):_?i.jsxs("form",{onSubmit:T,className:oe.form,children:[i.jsxs("label",{className:oe.label,children:["New password",i.jsx("input",{type:"password",autoComplete:"new-password",value:a,onChange:R=>o(R.target.value),className:oe.input,minLength:8,required:!0})]}),i.jsxs("label",{className:oe.label,children:["Confirm password",i.jsx("input",{type:"password",autoComplete:"new-password",value:u,onChange:R=>c(R.target.value),className:oe.input,minLength:8,required:!0})]}),a!==u&&u.length>0&&i.jsx("p",{className:oe.error,children:"Passwords do not match."}),y.isError&&i.jsx("div",{className:oe.verificationCardError,children:i.jsx("p",{className:oe.verificationCardErrorText,children:(k=y.error)==null?void 0:k.message})}),i.jsx("button",{type:"submit",className:oe.submit,disabled:y.isPending||a!==u||a.length<8,"aria-label":"Set New Password",children:y.isPending?"Saving...":"Set New Password"})]}):null]}),(!m||j||y.isSuccess)&&i.jsx("p",{className:oe.footer,style:{marginTop:"1.5rem"},children:i.jsx(Ye,{to:"/login",children:"Back to sign in"})})]}),i.jsxs("p",{className:oe.footerBelowCard,children:[i.jsx(Ye,{to:"/privacy",children:"Privacy Policy"}),i.jsx("span",{className:oe.footerBelowCardSep,"aria-hidden":!0}),i.jsx(Ye,{to:"/terms",children:"Terms of Service"}),i.jsx("span",{className:oe.footerBelowCardSep,"aria-hidden":!0}),i.jsx(Ye,{to:"/contact",children:"Contact"})]})]})})}function QK(){const[e]=cb(),t=yi(),r=e.get("token"),[n,a]=v.useState("loading"),[o,u]=v.useState(null);return v.useEffect(()=>{if(!(r!=null&&r.trim())){a("error"),u("Missing verification link.");return}QH(r).then(()=>{a("ok"),t("/login?verified=1",{replace:!0})}).catch(c=>{a("error"),u(c instanceof Error?c.message:"Verification failed.")})},[r,t]),i.jsx("main",{children:i.jsx("div",{className:oe.wrap,children:i.jsxs("div",{className:oe.card,children:[i.jsxs("div",{className:oe.brand,children:[i.jsx("img",{src:"/favicon.svg",alt:"",className:oe.brandIcon}),i.jsx("h1",{className:oe.title,children:"HarborFM"})]}),i.jsx("div",{className:oe.loginHeader,children:i.jsx("h2",{className:oe.setupHeaderTitle,children:"Verify your email"})}),n==="loading"&&i.jsx("p",{className:oe.subtitle,children:"Verifying your account..."}),n==="ok"&&i.jsx("p",{className:oe.subtitle,children:"Redirecting to sign in..."}),n==="error"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:oe.verificationCardError,children:i.jsx("p",{className:oe.verificationCardErrorText,children:o})}),i.jsxs("p",{className:oe.footerBelowCard,style:{marginTop:"1rem"},children:[i.jsx(Ye,{to:"/login",children:"Back to sign in"}),i.jsx("span",{className:oe.footerBelowCardSep,"aria-hidden":!0}),i.jsx(Ye,{to:"/register",children:"Register again"})]})]})]})})})}function Fj(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var uu=Fj();function mL(e){uu=e}var lh={exec:()=>null};function Ht(e,t=""){let r=typeof e=="string"?e:e.source,n={replace:(a,o)=>{let u=typeof o=="string"?o:o.source;return u=u.replace(Xn.caret,"$1"),r=r.replace(a,u),n},getRegex:()=>new RegExp(r,t)};return n}var XK=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),Xn={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] +\S/,listReplaceTask:/^\[[ xX]\] +/,listTaskCheckbox:/\[[ xX]\]/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},ZK=/^(?:[ \t]*(?:\n|$))+/,JK=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,eG=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Kh=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,tG=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,qj=/(?:[*+-]|\d{1,9}[.)])/,gL=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,vL=Ht(gL).replace(/bull/g,qj).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),rG=Ht(gL).replace(/bull/g,qj).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Uj=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,nG=/^[^\n]+/,Hj=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,aG=Ht(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Hj).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),iG=Ht(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,qj).getRegex(),db="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Wj=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,sG=Ht("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Wj).replace("tag",db).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),yL=Ht(Uj).replace("hr",Kh).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",db).getRegex(),oG=Ht(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",yL).getRegex(),Kj={blockquote:oG,code:JK,def:aG,fences:eG,heading:tG,hr:Kh,html:sG,lheading:vL,list:iG,newline:ZK,paragraph:yL,table:lh,text:nG},DP=Ht("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Kh).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",db).getRegex(),lG={...Kj,lheading:rG,table:DP,paragraph:Ht(Uj).replace("hr",Kh).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",DP).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",db).getRegex()},cG={...Kj,html:Ht(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Wj).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:lh,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Ht(Uj).replace("hr",Kh).replace("heading",` *#{1,6} *[^
]`).replace("lheading",vL).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},uG=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,dG=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,bL=/^( {2,}|\\)\n(?!\s*$)/,fG=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,fb=/[\p{P}\p{S}]/u,Gj=/[\s\p{P}\p{S}]/u,_L=/[^\s\p{P}\p{S}]/u,pG=Ht(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Gj).getRegex(),xL=/(?!~)[\p{P}\p{S}]/u,hG=/(?!~)[\s\p{P}\p{S}]/u,mG=/(?:[^\s\p{P}\p{S}]|~)/u,gG=Ht(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",XK?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),wL=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,vG=Ht(wL,"u").replace(/punct/g,fb).getRegex(),yG=Ht(wL,"u").replace(/punct/g,xL).getRegex(),SL="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",bG=Ht(SL,"gu").replace(/notPunctSpace/g,_L).replace(/punctSpace/g,Gj).replace(/punct/g,fb).getRegex(),_G=Ht(SL,"gu").replace(/notPunctSpace/g,mG).replace(/punctSpace/g,hG).replace(/punct/g,xL).getRegex(),xG=Ht("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,_L).replace(/punctSpace/g,Gj).replace(/punct/g,fb).getRegex(),wG=Ht(/\\(punct)/,"gu").replace(/punct/g,fb).getRegex(),SG=Ht(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),jG=Ht(Wj).replace("(?:-->|$)","-->").getRegex(),CG=Ht("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",jG).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Zv=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,kG=Ht(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Zv).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),jL=Ht(/^!?\[(label)\]\[(ref)\]/).replace("label",Zv).replace("ref",Hj).getRegex(),CL=Ht(/^!?\[(ref)\](?:\[\])?/).replace("ref",Hj).getRegex(),NG=Ht("reflink|nolink(?!\\()","g").replace("reflink",jL).replace("nolink",CL).getRegex(),MP=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,Vj={_backpedal:lh,anyPunctuation:wG,autolink:SG,blockSkip:gG,br:bL,code:dG,del:lh,emStrongLDelim:vG,emStrongRDelimAst:bG,emStrongRDelimUnd:xG,escape:uG,link:kG,nolink:CL,punctuation:pG,reflink:jL,reflinkSearch:NG,tag:CG,text:fG,url:lh},EG={...Vj,link:Ht(/^!?\[(label)\]\((.*?)\)/).replace("label",Zv).getRegex(),reflink:Ht(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Zv).getRegex()},fS={...Vj,emStrongRDelimAst:_G,emStrongLDelim:yG,url:Ht(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",MP).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:Ht(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",MP).getRegex()},TG={...fS,br:Ht(bL).replace("{2,}","*").getRegex(),text:Ht(fS.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Fg={normal:Kj,gfm:lG,pedantic:cG},up={normal:Vj,gfm:fS,breaks:TG,pedantic:EG},PG={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},LP=e=>PG[e];function ho(e,t){if(t){if(Xn.escapeTest.test(e))return e.replace(Xn.escapeReplace,LP)}else if(Xn.escapeTestNoEncode.test(e))return e.replace(Xn.escapeReplaceNoEncode,LP);return e}function IP(e){try{e=encodeURI(e).replace(Xn.percentDecode,"%")}catch{return null}return e}function $P(e,t){var o;let r=e.replace(Xn.findPipe,(u,c,p)=>{let h=!1,f=c;for(;--f>=0&&p[f]==="\\";)h=!h;return h?"|":" |"}),n=r.split(Xn.splitPipe),a=0;if(n[0].trim()||n.shift(),n.length>0&&!((o=n.at(-1))!=null&&o.trim())&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;a<n.length;a++)n[a]=n[a].trim().replace(Xn.slashPipe,"|");return n}function dp(e,t,r){let n=e.length;if(n===0)return"";let a=0;for(;a<n&&e.charAt(n-a-1)===t;)a++;return e.slice(0,n-a)}function AG(e,t){if(e.indexOf(t[1])===-1)return-1;let r=0;for(let n=0;n<e.length;n++)if(e[n]==="\\")n++;else if(e[n]===t[0])r++;else if(e[n]===t[1]&&(r--,r<0))return n;return r>0?-2:-1}function BP(e,t,r,n,a){let o=t.href,u=t.title||null,c=e[1].replace(a.other.outputLinkReplace,"$1");n.state.inLink=!0;let p={type:e[0].charAt(0)==="!"?"image":"link",raw:r,href:o,title:u,text:c,tokens:n.inlineTokens(c)};return n.state.inLink=!1,p}function RG(e,t,r){let n=e.match(r.other.indentCodeCompensation);if(n===null)return t;let a=n[1];return t.split(`
`).map(o=>{let u=o.match(r.other.beginningSpace);if(u===null)return o;let[c]=u;return c.length>=a.length?o.slice(a.length):o}).join(`
`)}var Jv=class{constructor(t){Y(this,"options");Y(this,"rules");Y(this,"lexer");this.options=t||uu}space(t){let r=this.rules.block.newline.exec(t);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(t){let r=this.rules.block.code.exec(t);if(r){let n=r[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?n:dp(n,`
`)}}}fences(t){let r=this.rules.block.fences.exec(t);if(r){let n=r[0],a=RG(n,r[3]||"",this.rules);return{type:"code",raw:n,lang:r[2]?r[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):r[2],text:a}}}heading(t){let r=this.rules.block.heading.exec(t);if(r){let n=r[2].trim();if(this.rules.other.endingHash.test(n)){let a=dp(n,"#");(this.options.pedantic||!a||this.rules.other.endingSpaceChar.test(a))&&(n=a.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){let r=this.rules.block.hr.exec(t);if(r)return{type:"hr",raw:dp(r[0],`
`)}}blockquote(t){let r=this.rules.block.blockquote.exec(t);if(r){let n=dp(r[0],`
`).split(`
`),a="",o="",u=[];for(;n.length>0;){let c=!1,p=[],h;for(h=0;h<n.length;h++)if(this.rules.other.blockquoteStart.test(n[h]))p.push(n[h]),c=!0;else if(!c)p.push(n[h]);else break;n=n.slice(h);let f=p.join(`
`),m=f.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");a=a?`${a}
${f}`:f,o=o?`${o}
${m}`:m;let b=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(m,u,!0),this.lexer.state.top=b,n.length===0)break;let _=u.at(-1);if((_==null?void 0:_.type)==="code")break;if((_==null?void 0:_.type)==="blockquote"){let j=_,w=j.raw+`
`+n.join(`
`),y=this.blockquote(w);u[u.length-1]=y,a=a.substring(0,a.length-j.raw.length)+y.raw,o=o.substring(0,o.length-j.text.length)+y.text;break}else if((_==null?void 0:_.type)==="list"){let j=_,w=j.raw+`
`+n.join(`
`),y=this.list(w);u[u.length-1]=y,a=a.substring(0,a.length-_.raw.length)+y.raw,o=o.substring(0,o.length-j.raw.length)+y.raw,n=w.substring(u.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:a,tokens:u,text:o}}}list(t){var n,a;let r=this.rules.block.list.exec(t);if(r){let o=r[1].trim(),u=o.length>1,c={type:"list",raw:"",ordered:u,start:u?+o.slice(0,-1):"",loose:!1,items:[]};o=u?`\\d{1,9}\\${o.slice(-1)}`:`\\${o}`,this.options.pedantic&&(o=u?o:"[*+-]");let p=this.rules.other.listItemRegex(o),h=!1;for(;t;){let m=!1,b="",_="";if(!(r=p.exec(t))||this.rules.block.hr.test(t))break;b=r[0],t=t.substring(b.length);let j=r[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,S=>" ".repeat(3*S.length)),w=t.split(`
`,1)[0],y=!j.trim(),x=0;if(this.options.pedantic?(x=2,_=j.trimStart()):y?x=r[1].length+1:(x=r[2].search(this.rules.other.nonSpaceChar),x=x>4?1:x,_=j.slice(x),x+=r[1].length),y&&this.rules.other.blankLine.test(w)&&(b+=w+`
`,t=t.substring(w.length+1),m=!0),!m){let S=this.rules.other.nextBulletRegex(x),T=this.rules.other.hrRegex(x),N=this.rules.other.fencesBeginRegex(x),A=this.rules.other.headingBeginRegex(x),P=this.rules.other.htmlBeginRegex(x);for(;t;){let k=t.split(`
`,1)[0],R;if(w=k,this.options.pedantic?(w=w.replace(this.rules.other.listReplaceNesting,"  "),R=w):R=w.replace(this.rules.other.tabCharGlobal,"    "),N.test(w)||A.test(w)||P.test(w)||S.test(w)||T.test(w))break;if(R.search(this.rules.other.nonSpaceChar)>=x||!w.trim())_+=`
`+R.slice(x);else{if(y||j.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||N.test(j)||A.test(j)||T.test(j))break;_+=`
`+w}!y&&!w.trim()&&(y=!0),b+=k+`
`,t=t.substring(k.length+1),j=R.slice(x)}}c.loose||(h?c.loose=!0:this.rules.other.doubleBlankLine.test(b)&&(h=!0)),c.items.push({type:"list_item",raw:b,task:!!this.options.gfm&&this.rules.other.listIsTask.test(_),loose:!1,text:_,tokens:[]}),c.raw+=b}let f=c.items.at(-1);if(f)f.raw=f.raw.trimEnd(),f.text=f.text.trimEnd();else return;c.raw=c.raw.trimEnd();for(let m of c.items){if(this.lexer.state.top=!1,m.tokens=this.lexer.blockTokens(m.text,[]),m.task){if(m.text=m.text.replace(this.rules.other.listReplaceTask,""),((n=m.tokens[0])==null?void 0:n.type)==="text"||((a=m.tokens[0])==null?void 0:a.type)==="paragraph"){m.tokens[0].raw=m.tokens[0].raw.replace(this.rules.other.listReplaceTask,""),m.tokens[0].text=m.tokens[0].text.replace(this.rules.other.listReplaceTask,"");for(let _=this.lexer.inlineQueue.length-1;_>=0;_--)if(this.rules.other.listIsTask.test(this.lexer.inlineQueue[_].src)){this.lexer.inlineQueue[_].src=this.lexer.inlineQueue[_].src.replace(this.rules.other.listReplaceTask,"");break}}let b=this.rules.other.listTaskCheckbox.exec(m.raw);if(b){let _={type:"checkbox",raw:b[0]+" ",checked:b[0]!=="[ ]"};m.checked=_.checked,c.loose?m.tokens[0]&&["paragraph","text"].includes(m.tokens[0].type)&&"tokens"in m.tokens[0]&&m.tokens[0].tokens?(m.tokens[0].raw=_.raw+m.tokens[0].raw,m.tokens[0].text=_.raw+m.tokens[0].text,m.tokens[0].tokens.unshift(_)):m.tokens.unshift({type:"paragraph",raw:_.raw,text:_.raw,tokens:[_]}):m.tokens.unshift(_)}}if(!c.loose){let b=m.tokens.filter(j=>j.type==="space"),_=b.length>0&&b.some(j=>this.rules.other.anyLine.test(j.raw));c.loose=_}}if(c.loose)for(let m of c.items){m.loose=!0;for(let b of m.tokens)b.type==="text"&&(b.type="paragraph")}return c}}html(t){let r=this.rules.block.html.exec(t);if(r)return{type:"html",block:!0,raw:r[0],pre:r[1]==="pre"||r[1]==="script"||r[1]==="style",text:r[0]}}def(t){let r=this.rules.block.def.exec(t);if(r){let n=r[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),a=r[2]?r[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):r[3];return{type:"def",tag:n,raw:r[0],href:a,title:o}}}table(t){var c;let r=this.rules.block.table.exec(t);if(!r||!this.rules.other.tableDelimiter.test(r[2]))return;let n=$P(r[1]),a=r[2].replace(this.rules.other.tableAlignChars,"").split("|"),o=(c=r[3])!=null&&c.trim()?r[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],u={type:"table",raw:r[0],header:[],align:[],rows:[]};if(n.length===a.length){for(let p of a)this.rules.other.tableAlignRight.test(p)?u.align.push("right"):this.rules.other.tableAlignCenter.test(p)?u.align.push("center"):this.rules.other.tableAlignLeft.test(p)?u.align.push("left"):u.align.push(null);for(let p=0;p<n.length;p++)u.header.push({text:n[p],tokens:this.lexer.inline(n[p]),header:!0,align:u.align[p]});for(let p of o)u.rows.push($P(p,u.header.length).map((h,f)=>({text:h,tokens:this.lexer.inline(h),header:!1,align:u.align[f]})));return u}}lheading(t){let r=this.rules.block.lheading.exec(t);if(r)return{type:"heading",raw:r[0],depth:r[2].charAt(0)==="="?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(t){let r=this.rules.block.paragraph.exec(t);if(r){let n=r[1].charAt(r[1].length-1)===`
`?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:n,tokens:this.lexer.inline(n)}}}text(t){let r=this.rules.block.text.exec(t);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(t){let r=this.rules.inline.escape.exec(t);if(r)return{type:"escape",raw:r[0],text:r[1]}}tag(t){let r=this.rules.inline.tag.exec(t);if(r)return!this.lexer.state.inLink&&this.rules.other.startATag.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(t){let r=this.rules.inline.link.exec(t);if(r){let n=r[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let u=dp(n.slice(0,-1),"\\");if((n.length-u.length)%2===0)return}else{let u=AG(r[2],"()");if(u===-2)return;if(u>-1){let c=(r[0].indexOf("!")===0?5:4)+r[1].length+u;r[2]=r[2].substring(0,u),r[0]=r[0].substring(0,c).trim(),r[3]=""}}let a=r[2],o="";if(this.options.pedantic){let u=this.rules.other.pedanticHrefTitle.exec(a);u&&(a=u[1],o=u[3])}else o=r[3]?r[3].slice(1,-1):"";return a=a.trim(),this.rules.other.startAngleBracket.test(a)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?a=a.slice(1):a=a.slice(1,-1)),BP(r,{href:a&&a.replace(this.rules.inline.anyPunctuation,"$1"),title:o&&o.replace(this.rules.inline.anyPunctuation,"$1")},r[0],this.lexer,this.rules)}}reflink(t,r){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){let a=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),o=r[a.toLowerCase()];if(!o){let u=n[0].charAt(0);return{type:"text",raw:u,text:u}}return BP(n,o,n[0],this.lexer,this.rules)}}emStrong(t,r,n=""){let a=this.rules.inline.emStrongLDelim.exec(t);if(!(!a||a[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!(a[1]||a[2])||!n||this.rules.inline.punctuation.exec(n))){let o=[...a[0]].length-1,u,c,p=o,h=0,f=a[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(f.lastIndex=0,r=r.slice(-1*t.length+o);(a=f.exec(r))!=null;){if(u=a[1]||a[2]||a[3]||a[4]||a[5]||a[6],!u)continue;if(c=[...u].length,a[3]||a[4]){p+=c;continue}else if((a[5]||a[6])&&o%3&&!((o+c)%3)){h+=c;continue}if(p-=c,p>0)continue;c=Math.min(c,c+p+h);let m=[...a[0]][0].length,b=t.slice(0,o+a.index+m+c);if(Math.min(o,c)%2){let j=b.slice(1,-1);return{type:"em",raw:b,text:j,tokens:this.lexer.inlineTokens(j)}}let _=b.slice(2,-2);return{type:"strong",raw:b,text:_,tokens:this.lexer.inlineTokens(_)}}}}codespan(t){let r=this.rules.inline.code.exec(t);if(r){let n=r[2].replace(this.rules.other.newLineCharGlobal," "),a=this.rules.other.nonSpaceChar.test(n),o=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return a&&o&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:r[0],text:n}}}br(t){let r=this.rules.inline.br.exec(t);if(r)return{type:"br",raw:r[0]}}del(t){let r=this.rules.inline.del.exec(t);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(t){let r=this.rules.inline.autolink.exec(t);if(r){let n,a;return r[2]==="@"?(n=r[1],a="mailto:"+n):(n=r[1],a=n),{type:"link",raw:r[0],text:n,href:a,tokens:[{type:"text",raw:n,text:n}]}}}url(t){var n;let r;if(r=this.rules.inline.url.exec(t)){let a,o;if(r[2]==="@")a=r[0],o="mailto:"+a;else{let u;do u=r[0],r[0]=((n=this.rules.inline._backpedal.exec(r[0]))==null?void 0:n[0])??"";while(u!==r[0]);a=r[0],r[1]==="www."?o="http://"+r[0]:o=r[0]}return{type:"link",raw:r[0],text:a,href:o,tokens:[{type:"text",raw:a,text:a}]}}}inlineText(t){let r=this.rules.inline.text.exec(t);if(r){let n=this.lexer.state.inRawBlock;return{type:"text",raw:r[0],text:r[0],escaped:n}}}},Mi=class pS{constructor(t){Y(this,"tokens");Y(this,"options");Y(this,"state");Y(this,"inlineQueue");Y(this,"tokenizer");this.tokens=[],this.tokens.links=Object.create(null),this.options=t||uu,this.options.tokenizer=this.options.tokenizer||new Jv,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let r={other:Xn,block:Fg.normal,inline:up.normal};this.options.pedantic?(r.block=Fg.pedantic,r.inline=up.pedantic):this.options.gfm&&(r.block=Fg.gfm,this.options.breaks?r.inline=up.breaks:r.inline=up.gfm),this.tokenizer.rules=r}static get rules(){return{block:Fg,inline:up}}static lex(t,r){return new pS(r).lex(t)}static lexInline(t,r){return new pS(r).inlineTokens(t)}lex(t){t=t.replace(Xn.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){let n=this.inlineQueue[r];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,r=[],n=!1){var a,o,u;for(this.options.pedantic&&(t=t.replace(Xn.tabCharGlobal,"    ").replace(Xn.spaceLine,""));t;){let c;if((o=(a=this.options.extensions)==null?void 0:a.block)!=null&&o.some(h=>(c=h.call({lexer:this},t,r))?(t=t.substring(c.raw.length),r.push(c),!0):!1))continue;if(c=this.tokenizer.space(t)){t=t.substring(c.raw.length);let h=r.at(-1);c.raw.length===1&&h!==void 0?h.raw+=`
`:r.push(c);continue}if(c=this.tokenizer.code(t)){t=t.substring(c.raw.length);let h=r.at(-1);(h==null?void 0:h.type)==="paragraph"||(h==null?void 0:h.type)==="text"?(h.raw+=(h.raw.endsWith(`
`)?"":`
`)+c.raw,h.text+=`
`+c.text,this.inlineQueue.at(-1).src=h.text):r.push(c);continue}if(c=this.tokenizer.fences(t)){t=t.substring(c.raw.length),r.push(c);continue}if(c=this.tokenizer.heading(t)){t=t.substring(c.raw.length),r.push(c);continue}if(c=this.tokenizer.hr(t)){t=t.substring(c.raw.length),r.push(c);continue}if(c=this.tokenizer.blockquote(t)){t=t.substring(c.raw.length),r.push(c);continue}if(c=this.tokenizer.list(t)){t=t.substring(c.raw.length),r.push(c);continue}if(c=this.tokenizer.html(t)){t=t.substring(c.raw.length),r.push(c);continue}if(c=this.tokenizer.def(t)){t=t.substring(c.raw.length);let h=r.at(-1);(h==null?void 0:h.type)==="paragraph"||(h==null?void 0:h.type)==="text"?(h.raw+=(h.raw.endsWith(`
`)?"":`
`)+c.raw,h.text+=`
`+c.raw,this.inlineQueue.at(-1).src=h.text):this.tokens.links[c.tag]||(this.tokens.links[c.tag]={href:c.href,title:c.title},r.push(c));continue}if(c=this.tokenizer.table(t)){t=t.substring(c.raw.length),r.push(c);continue}if(c=this.tokenizer.lheading(t)){t=t.substring(c.raw.length),r.push(c);continue}let p=t;if((u=this.options.extensions)!=null&&u.startBlock){let h=1/0,f=t.slice(1),m;this.options.extensions.startBlock.forEach(b=>{m=b.call({lexer:this},f),typeof m=="number"&&m>=0&&(h=Math.min(h,m))}),h<1/0&&h>=0&&(p=t.substring(0,h+1))}if(this.state.top&&(c=this.tokenizer.paragraph(p))){let h=r.at(-1);n&&(h==null?void 0:h.type)==="paragraph"?(h.raw+=(h.raw.endsWith(`
`)?"":`
`)+c.raw,h.text+=`
`+c.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=h.text):r.push(c),n=p.length!==t.length,t=t.substring(c.raw.length);continue}if(c=this.tokenizer.text(t)){t=t.substring(c.raw.length);let h=r.at(-1);(h==null?void 0:h.type)==="text"?(h.raw+=(h.raw.endsWith(`
`)?"":`
`)+c.raw,h.text+=`
`+c.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=h.text):r.push(c);continue}if(t){let h="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(h);break}else throw new Error(h)}}return this.state.top=!0,r}inline(t,r=[]){return this.inlineQueue.push({src:t,tokens:r}),r}inlineTokens(t,r=[]){var p,h,f,m,b;let n=t,a=null;if(this.tokens.links){let _=Object.keys(this.tokens.links);if(_.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)_.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,a.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let o;for(;(a=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)o=a[2]?a[2].length:0,n=n.slice(0,a.index+o)+"["+"a".repeat(a[0].length-o-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);n=((h=(p=this.options.hooks)==null?void 0:p.emStrongMask)==null?void 0:h.call({lexer:this},n))??n;let u=!1,c="";for(;t;){u||(c=""),u=!1;let _;if((m=(f=this.options.extensions)==null?void 0:f.inline)!=null&&m.some(w=>(_=w.call({lexer:this},t,r))?(t=t.substring(_.raw.length),r.push(_),!0):!1))continue;if(_=this.tokenizer.escape(t)){t=t.substring(_.raw.length),r.push(_);continue}if(_=this.tokenizer.tag(t)){t=t.substring(_.raw.length),r.push(_);continue}if(_=this.tokenizer.link(t)){t=t.substring(_.raw.length),r.push(_);continue}if(_=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(_.raw.length);let w=r.at(-1);_.type==="text"&&(w==null?void 0:w.type)==="text"?(w.raw+=_.raw,w.text+=_.text):r.push(_);continue}if(_=this.tokenizer.emStrong(t,n,c)){t=t.substring(_.raw.length),r.push(_);continue}if(_=this.tokenizer.codespan(t)){t=t.substring(_.raw.length),r.push(_);continue}if(_=this.tokenizer.br(t)){t=t.substring(_.raw.length),r.push(_);continue}if(_=this.tokenizer.del(t)){t=t.substring(_.raw.length),r.push(_);continue}if(_=this.tokenizer.autolink(t)){t=t.substring(_.raw.length),r.push(_);continue}if(!this.state.inLink&&(_=this.tokenizer.url(t))){t=t.substring(_.raw.length),r.push(_);continue}let j=t;if((b=this.options.extensions)!=null&&b.startInline){let w=1/0,y=t.slice(1),x;this.options.extensions.startInline.forEach(S=>{x=S.call({lexer:this},y),typeof x=="number"&&x>=0&&(w=Math.min(w,x))}),w<1/0&&w>=0&&(j=t.substring(0,w+1))}if(_=this.tokenizer.inlineText(j)){t=t.substring(_.raw.length),_.raw.slice(-1)!=="_"&&(c=_.raw.slice(-1)),u=!0;let w=r.at(-1);(w==null?void 0:w.type)==="text"?(w.raw+=_.raw,w.text+=_.text):r.push(_);continue}if(t){let w="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(w);break}else throw new Error(w)}}return r}},ey=class{constructor(t){Y(this,"options");Y(this,"parser");this.options=t||uu}space(t){return""}code({text:t,lang:r,escaped:n}){var u;let a=(u=(r||"").match(Xn.notSpaceStart))==null?void 0:u[0],o=t.replace(Xn.endingNewline,"")+`
`;return a?'<pre><code class="language-'+ho(a)+'">'+(n?o:ho(o,!0))+`</code></pre>
`:"<pre><code>"+(n?o:ho(o,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}def(t){return""}heading({tokens:t,depth:r}){return`<h${r}>${this.parser.parseInline(t)}</h${r}>
`}hr(t){return`<hr>
`}list(t){let r=t.ordered,n=t.start,a="";for(let c=0;c<t.items.length;c++){let p=t.items[c];a+=this.listitem(p)}let o=r?"ol":"ul",u=r&&n!==1?' start="'+n+'"':"";return"<"+o+u+`>
`+a+"</"+o+`>
`}listitem(t){return`<li>${this.parser.parse(t.tokens)}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"> '}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let r="",n="";for(let o=0;o<t.header.length;o++)n+=this.tablecell(t.header[o]);r+=this.tablerow({text:n});let a="";for(let o=0;o<t.rows.length;o++){let u=t.rows[o];n="";for(let c=0;c<u.length;c++)n+=this.tablecell(u[c]);a+=this.tablerow({text:n})}return a&&(a=`<tbody>${a}</tbody>`),`<table>
<thead>
`+r+`</thead>
`+a+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){let r=this.parser.parseInline(t.tokens),n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+r+`</${n}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${ho(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:r,tokens:n}){let a=this.parser.parseInline(n),o=IP(t);if(o===null)return a;t=o;let u='<a href="'+t+'"';return r&&(u+=' title="'+ho(r)+'"'),u+=">"+a+"</a>",u}image({href:t,title:r,text:n,tokens:a}){a&&(n=this.parser.parseInline(a,this.parser.textRenderer));let o=IP(t);if(o===null)return ho(n);t=o;let u=`<img src="${t}" alt="${n}"`;return r&&(u+=` title="${ho(r)}"`),u+=">",u}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:ho(t.text)}},Yj=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}checkbox({raw:e}){return e}},Li=class hS{constructor(t){Y(this,"options");Y(this,"renderer");Y(this,"textRenderer");this.options=t||uu,this.options.renderer=this.options.renderer||new ey,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Yj}static parse(t,r){return new hS(r).parse(t)}static parseInline(t,r){return new hS(r).parseInline(t)}parse(t){var n,a;let r="";for(let o=0;o<t.length;o++){let u=t[o];if((a=(n=this.options.extensions)==null?void 0:n.renderers)!=null&&a[u.type]){let p=u,h=this.options.extensions.renderers[p.type].call({parser:this},p);if(h!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(p.type)){r+=h||"";continue}}let c=u;switch(c.type){case"space":{r+=this.renderer.space(c);break}case"hr":{r+=this.renderer.hr(c);break}case"heading":{r+=this.renderer.heading(c);break}case"code":{r+=this.renderer.code(c);break}case"table":{r+=this.renderer.table(c);break}case"blockquote":{r+=this.renderer.blockquote(c);break}case"list":{r+=this.renderer.list(c);break}case"checkbox":{r+=this.renderer.checkbox(c);break}case"html":{r+=this.renderer.html(c);break}case"def":{r+=this.renderer.def(c);break}case"paragraph":{r+=this.renderer.paragraph(c);break}case"text":{r+=this.renderer.text(c);break}default:{let p='Token with "'+c.type+'" type was not found.';if(this.options.silent)return console.error(p),"";throw new Error(p)}}}return r}parseInline(t,r=this.renderer){var a,o;let n="";for(let u=0;u<t.length;u++){let c=t[u];if((o=(a=this.options.extensions)==null?void 0:a.renderers)!=null&&o[c.type]){let h=this.options.extensions.renderers[c.type].call({parser:this},c);if(h!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(c.type)){n+=h||"";continue}}let p=c;switch(p.type){case"escape":{n+=r.text(p);break}case"html":{n+=r.html(p);break}case"link":{n+=r.link(p);break}case"image":{n+=r.image(p);break}case"checkbox":{n+=r.checkbox(p);break}case"strong":{n+=r.strong(p);break}case"em":{n+=r.em(p);break}case"codespan":{n+=r.codespan(p);break}case"br":{n+=r.br(p);break}case"del":{n+=r.del(p);break}case"text":{n+=r.text(p);break}default:{let h='Token with "'+p.type+'" type was not found.';if(this.options.silent)return console.error(h),"";throw new Error(h)}}}return n}},Sv,th=(Sv=class{constructor(e){Y(this,"options");Y(this,"block");this.options=e||uu}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?Mi.lex:Mi.lexInline}provideParser(){return this.block?Li.parse:Li.parseInline}},Y(Sv,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens","emStrongMask"])),Y(Sv,"passThroughHooksRespectAsync",new Set(["preprocess","postprocess","processAllTokens"])),Sv),OG=class{constructor(...e){Y(this,"defaults",Fj());Y(this,"options",this.setOptions);Y(this,"parse",this.parseMarkdown(!0));Y(this,"parseInline",this.parseMarkdown(!1));Y(this,"Parser",Li);Y(this,"Renderer",ey);Y(this,"TextRenderer",Yj);Y(this,"Lexer",Mi);Y(this,"Tokenizer",Jv);Y(this,"Hooks",th);this.use(...e)}walkTokens(e,t){var n,a;let r=[];for(let o of e)switch(r=r.concat(t.call(this,o)),o.type){case"table":{let u=o;for(let c of u.header)r=r.concat(this.walkTokens(c.tokens,t));for(let c of u.rows)for(let p of c)r=r.concat(this.walkTokens(p.tokens,t));break}case"list":{let u=o;r=r.concat(this.walkTokens(u.items,t));break}default:{let u=o;(a=(n=this.defaults.extensions)==null?void 0:n.childTokens)!=null&&a[u.type]?this.defaults.extensions.childTokens[u.type].forEach(c=>{let p=u[c].flat(1/0);r=r.concat(this.walkTokens(p,t))}):u.tokens&&(r=r.concat(this.walkTokens(u.tokens,t)))}}return r}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{let n={...r};if(n.async=this.defaults.async||n.async||!1,r.extensions&&(r.extensions.forEach(a=>{if(!a.name)throw new Error("extension name required");if("renderer"in a){let o=t.renderers[a.name];o?t.renderers[a.name]=function(...u){let c=a.renderer.apply(this,u);return c===!1&&(c=o.apply(this,u)),c}:t.renderers[a.name]=a.renderer}if("tokenizer"in a){if(!a.level||a.level!=="block"&&a.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let o=t[a.level];o?o.unshift(a.tokenizer):t[a.level]=[a.tokenizer],a.start&&(a.level==="block"?t.startBlock?t.startBlock.push(a.start):t.startBlock=[a.start]:a.level==="inline"&&(t.startInline?t.startInline.push(a.start):t.startInline=[a.start]))}"childTokens"in a&&a.childTokens&&(t.childTokens[a.name]=a.childTokens)}),n.extensions=t),r.renderer){let a=this.defaults.renderer||new ey(this.defaults);for(let o in r.renderer){if(!(o in a))throw new Error(`renderer '${o}' does not exist`);if(["options","parser"].includes(o))continue;let u=o,c=r.renderer[u],p=a[u];a[u]=(...h)=>{let f=c.apply(a,h);return f===!1&&(f=p.apply(a,h)),f||""}}n.renderer=a}if(r.tokenizer){let a=this.defaults.tokenizer||new Jv(this.defaults);for(let o in r.tokenizer){if(!(o in a))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;let u=o,c=r.tokenizer[u],p=a[u];a[u]=(...h)=>{let f=c.apply(a,h);return f===!1&&(f=p.apply(a,h)),f}}n.tokenizer=a}if(r.hooks){let a=this.defaults.hooks||new th;for(let o in r.hooks){if(!(o in a))throw new Error(`hook '${o}' does not exist`);if(["options","block"].includes(o))continue;let u=o,c=r.hooks[u],p=a[u];th.passThroughHooks.has(o)?a[u]=h=>{if(this.defaults.async&&th.passThroughHooksRespectAsync.has(o))return(async()=>{let m=await c.call(a,h);return p.call(a,m)})();let f=c.call(a,h);return p.call(a,f)}:a[u]=(...h)=>{if(this.defaults.async)return(async()=>{let m=await c.apply(a,h);return m===!1&&(m=await p.apply(a,h)),m})();let f=c.apply(a,h);return f===!1&&(f=p.apply(a,h)),f}}n.hooks=a}if(r.walkTokens){let a=this.defaults.walkTokens,o=r.walkTokens;n.walkTokens=function(u){let c=[];return c.push(o.call(this,u)),a&&(c=c.concat(a.call(this,u))),c}}this.defaults={...this.defaults,...n}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return Mi.lex(e,t??this.defaults)}parser(e,t){return Li.parse(e,t??this.defaults)}parseMarkdown(e){return(t,r)=>{let n={...r},a={...this.defaults,...n},o=this.onError(!!a.silent,!!a.async);if(this.defaults.async===!0&&n.async===!1)return o(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||t===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(a.hooks&&(a.hooks.options=a,a.hooks.block=e),a.async)return(async()=>{let u=a.hooks?await a.hooks.preprocess(t):t,c=await(a.hooks?await a.hooks.provideLexer():e?Mi.lex:Mi.lexInline)(u,a),p=a.hooks?await a.hooks.processAllTokens(c):c;a.walkTokens&&await Promise.all(this.walkTokens(p,a.walkTokens));let h=await(a.hooks?await a.hooks.provideParser():e?Li.parse:Li.parseInline)(p,a);return a.hooks?await a.hooks.postprocess(h):h})().catch(o);try{a.hooks&&(t=a.hooks.preprocess(t));let u=(a.hooks?a.hooks.provideLexer():e?Mi.lex:Mi.lexInline)(t,a);a.hooks&&(u=a.hooks.processAllTokens(u)),a.walkTokens&&this.walkTokens(u,a.walkTokens);let c=(a.hooks?a.hooks.provideParser():e?Li.parse:Li.parseInline)(u,a);return a.hooks&&(c=a.hooks.postprocess(c)),c}catch(u){return o(u)}}}onError(e,t){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let n="<p>An error occurred:</p><pre>"+ho(r.message+"",!0)+"</pre>";return t?Promise.resolve(n):n}if(t)return Promise.reject(r);throw r}}},Qc=new OG;function Ut(e,t){return Qc.parse(e,t)}Ut.options=Ut.setOptions=function(e){return Qc.setOptions(e),Ut.defaults=Qc.defaults,mL(Ut.defaults),Ut};Ut.getDefaults=Fj;Ut.defaults=uu;Ut.use=function(...e){return Qc.use(...e),Ut.defaults=Qc.defaults,mL(Ut.defaults),Ut};Ut.walkTokens=function(e,t){return Qc.walkTokens(e,t)};Ut.parseInline=Qc.parseInline;Ut.Parser=Li;Ut.parser=Li.parse;Ut.Renderer=ey;Ut.TextRenderer=Yj;Ut.Lexer=Mi;Ut.lexer=Mi.lex;Ut.Tokenizer=Jv;Ut.Hooks=th;Ut.parse=Ut;Ut.options;Ut.setOptions;Ut.use;Ut.walkTokens;Ut.parseInline;Li.parse;Mi.lex;function DG(){return Et("/settings")}function MG(){return Et("/settings/commands")}function kL(){return fetch("/api/public/legal",{method:"GET",credentials:"include"}).then(e=>{if(!e.ok)throw new Error("Failed to load");return e.json()})}function LG(e){return Kl("/settings",e)}function IG(e){return Ba("/settings/test-llm",{method:"POST",json:e})}function $G(e){return Ba("/settings/test-whisper",{method:"POST",json:{whisper_asr_url:e.trim().replace(/\/+$/,"")}})}function BG(e){return Ba("/settings/test-transcription-openai",{method:"POST",json:e??{}})}function zG(e){return Ba("/settings/test-smtp",{method:"POST",json:e})}function FG(e){return Ba("/settings/test-sendgrid",{method:"POST",json:e})}function qG(e){return Ba("/settings/geolite/test",{method:"POST",json:e})}function UG(){return Et("/settings/geolite/check")}function HG(e){return Ba("/settings/geolite/update",{method:"POST",json:e})}const WG="_page_pewd6_1",KG="_wrap_pewd6_11",GG="_card_pewd6_17",VG="_header_pewd6_25",YG="_back_pewd6_29",QG="_title_pewd6_41",XG="_updated_pewd6_49",ZG="_content_pewd6_55",JG="_markdownBody_pewd6_76",eV="_footerLinks_pewd6_106",tV="_footerSep_pewd6_127",ei={page:WG,wrap:KG,card:GG,header:VG,back:YG,title:QG,updated:XG,content:ZG,markdownBody:JG,footerLinks:eV,footerSep:tV};Ut.setOptions({gfm:!0,breaks:!0});const rV=i.jsxs(i.Fragment,{children:[i.jsx("p",{children:"HarborFM is an open-source podcast creator. This privacy policy describes how your data is handled when you use a HarborFM instance."}),i.jsx("h2",{children:"Data we collect and use"}),i.jsxs("p",{children:[i.jsx("strong",{children:"Account data."})," When you register, we store your email address and a hashed password. We use this to authenticate you and to manage your account."]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Login and security."}),' When you sign in, we may record your IP address, user agent, and approximate location (country/city from IP, if GeoLite2 is enabled) for security and to show "last login" information to admins. We use this to detect abuse and to help you verify your account activity.']}),i.jsxs("p",{children:[i.jsx("strong",{children:"Content you create."})," Podcasts, episodes, audio files, and other content you create are stored on the server. They are used to produce and serve your shows and to provide features you use (e.g. exports, RSS)."]}),i.jsx("h2",{children:"Who operates this instance"}),i.jsx("p",{children:"This HarborFM server is operated by the administrator of this instance. Data is stored on their infrastructure and is subject to their policies and applicable law. For questions about this instance, contact the server administrator."}),i.jsx("h2",{children:"Data sharing"}),i.jsx("p",{children:"We do not sell your data. Data may be shared only as needed to operate the service (e.g. with hosting or export providers you configure) or when required by law."}),i.jsx("h2",{children:"Your rights"}),i.jsx("p",{children:"You can request access to, correction of, or deletion of your account and data by contacting the administrator of this instance. Export and deletion capabilities may also be available in the app."}),i.jsx("h2",{children:"Changes"}),i.jsx("p",{children:'We may update this policy from time to time. The "Last updated" date at the top will be revised when we do. Continued use of the service after changes constitutes acceptance of the updated policy.'})]});function nV(){var a;const{data:e,isLoading:t,isError:r}=Oe({queryKey:["publicLegal"],queryFn:kL,staleTime:12e4});if(t||e==null&&!r)return i.jsx(ba,{});const n=((a=e==null?void 0:e.privacy)==null?void 0:a.trim())||null;return i.jsx("main",{className:ei.page,children:i.jsx("div",{className:ei.wrap,children:i.jsxs("div",{className:ei.card,children:[i.jsxs("div",{className:ei.header,children:[i.jsx(Ye,{to:"/login",className:ei.back,children:" Back to sign in"}),i.jsx("h1",{className:ei.title,children:"Privacy Policy"}),!n&&i.jsx("p",{className:ei.updated,children:"Last updated: February 2026"})]}),i.jsx("div",{className:ei.content,children:n?i.jsx("div",{className:ei.markdownBody,dangerouslySetInnerHTML:{__html:Ut.parse(n,{async:!1})}}):rV}),i.jsxs("p",{className:ei.footerLinks,children:[i.jsx(Ye,{to:"/privacy",children:"Privacy Policy"}),i.jsx("span",{className:ei.footerSep,"aria-hidden":!0}),i.jsx(Ye,{to:"/terms",children:"Terms of Service"}),i.jsx("span",{className:ei.footerSep,"aria-hidden":!0}),i.jsx(Ye,{to:"/contact",children:"Contact"})]})]})})})}const aV="_page_pewd6_1",iV="_wrap_pewd6_11",sV="_card_pewd6_17",oV="_header_pewd6_25",lV="_back_pewd6_29",cV="_title_pewd6_41",uV="_updated_pewd6_49",dV="_content_pewd6_55",fV="_markdownBody_pewd6_76",pV="_footerLinks_pewd6_106",hV="_footerSep_pewd6_127",ti={page:aV,wrap:iV,card:sV,header:oV,back:lV,title:cV,updated:uV,content:dV,markdownBody:fV,footerLinks:pV,footerSep:hV};Ut.setOptions({gfm:!0,breaks:!0});const mV=i.jsxs(i.Fragment,{children:[i.jsx("p",{children:"Welcome to HarborFM. By using this service, you agree to these terms. HarborFM is open-source software; this instance is operated by the server administrator."}),i.jsx("h2",{children:"Use of the service"}),i.jsx("p",{children:"You must use the service in compliance with applicable laws and not for illegal, harmful, or abusive purposes. You are responsible for the content you create and for keeping your account credentials secure."}),i.jsx("h2",{children:"Account and content"}),i.jsx("p",{children:"You may need to register an account to use certain features. The administrator may disable registration, suspend accounts, or remove content that violates these terms or applicable law. We may retain data as needed for the operation of the service or legal obligations."}),i.jsx("h2",{children:"Intellectual property"}),i.jsx("p",{children:"You retain rights to the content you create. By uploading or publishing content, you grant the operator the rights necessary to host, serve, and deliver your content (e.g. podcasts and RSS). HarborFM software is licensed under its project license; see the repository for details."}),i.jsx("h2",{children:"Disclaimer"}),i.jsx("p",{children:'The service is provided "as is." The operator is not liable for any damages arising from your use of the service or any third-party services you connect (e.g. export providers). Availability and features may change.'}),i.jsx("h2",{children:"Changes"}),i.jsx("p",{children:'These terms may be updated from time to time. The "Last updated" date will be revised when we do. Continued use after changes constitutes acceptance of the updated terms.'})]});function gV(){var a;const{data:e,isLoading:t,isError:r}=Oe({queryKey:["publicLegal"],queryFn:kL,staleTime:12e4});if(t||e==null&&!r)return i.jsx(ba,{});const n=((a=e==null?void 0:e.terms)==null?void 0:a.trim())||null;return i.jsx("main",{className:ti.page,children:i.jsx("div",{className:ti.wrap,children:i.jsxs("div",{className:ti.card,children:[i.jsxs("div",{className:ti.header,children:[i.jsx(Ye,{to:"/login",className:ti.back,children:" Back to sign in"}),i.jsx("h1",{className:ti.title,children:"Terms of Service"}),!n&&i.jsx("p",{className:ti.updated,children:"Last updated: February 2026"})]}),i.jsx("div",{className:ti.content,children:n?i.jsx("div",{className:ti.markdownBody,dangerouslySetInnerHTML:{__html:Ut.parse(n,{async:!1})}}):mV}),i.jsxs("p",{className:ti.footerLinks,children:[i.jsx(Ye,{to:"/privacy",children:"Privacy Policy"}),i.jsx("span",{className:ti.footerSep,"aria-hidden":!0}),i.jsx(Ye,{to:"/terms",children:"Terms of Service"}),i.jsx("span",{className:ti.footerSep,"aria-hidden":!0}),i.jsx(Ye,{to:"/contact",children:"Contact"})]})]})})})}function pi(e,t,r){v.useEffect(()=>{const n=e.current;if(!n)return;n.style.height="0";const a=(r==null?void 0:r.minHeight)??0,o=a?Math.max(n.scrollHeight,a):n.scrollHeight;n.style.height=`${o}px`},[e,t,r==null?void 0:r.minHeight])}function NL(e){return nn("/contact",e)}const vV=80;function yV(){var k;const[e]=cb(),t=e.get("podcast")??void 0,r=e.get("episode")??void 0,n=As(R=>R.user),[a,o]=v.useState(""),[u,c]=v.useState(""),[p,h]=v.useState(""),f=v.useRef(!1),m=v.useRef(null),b=v.useRef(null),{data:_}=Oe({queryKey:["public-podcast",t],queryFn:()=>ub(t),enabled:!!t,retry:!1}),{data:j}=Oe({queryKey:["public-episode",t,r],queryFn:()=>Bj(t,r),enabled:!!t&&!!r,retry:!1});pi(b,p,{minHeight:vV});const{data:w}=Oe({queryKey:["setupStatus"],queryFn:lu,retry:!1,staleTime:1e4}),{data:y}=Oe({queryKey:["me"],queryFn:_i,retry:!1,staleTime:300*1e3}),x=n??(y==null?void 0:y.user);v.useEffect(()=>{x!=null&&x.email&&!f.current&&(c(x.email),f.current=!0)},[x==null?void 0:x.email]);const S=Ue({mutationFn:async()=>{var D;let R;if(w!=null&&w.captchaProvider&&w.captchaProvider!=="none"&&w.captchaSiteKey&&(R=await((D=m.current)==null?void 0:D.getToken()),!(R!=null&&R.trim())))throw new Error("Please complete the CAPTCHA.");return NL({name:a,email:u,message:p,captchaToken:R,...t&&{podcastSlug:t},...r&&t&&{episodeSlug:r}})}});async function T(R){R.preventDefault(),S.mutate()}const N=S.isSuccess,A=j&&_?`${j.title} - ${_.title}`:_?_.title:null,P=[t,r].filter(Boolean).length?`?${new URLSearchParams({...t&&{podcast:t},...r&&{episode:r}}).toString()}`:"";return i.jsx("main",{children:i.jsxs("div",{className:oe.wrap,children:[i.jsxs("div",{className:oe.card,children:[i.jsxs("div",{className:oe.brand,children:[i.jsx("img",{src:"/favicon.svg",alt:"",className:oe.brandIcon}),i.jsx("h1",{className:oe.title,children:"HarborFM"})]}),i.jsxs("div",{className:oe.loginHeader,children:[i.jsx("h2",{className:oe.setupHeaderTitle,children:A?"Send feedback":"Contact"}),A&&i.jsxs("p",{className:oe.setupHeaderSub,children:["About: ",A]})]}),N?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:oe.verificationCardSuccess,children:i.jsx("p",{className:oe.verificationCardSuccessText,children:"Thanks for your message. Well get back to you as soon as we can."})}),i.jsxs("p",{className:`${oe.footer} ${oe.footerLinks}`,style:{marginTop:"1.5rem"},children:[i.jsx(Ye,{to:`/contact${P}`,onClick:()=>{S.reset(),h("")},children:"Send another message"}),i.jsx("span",{className:oe.footerBelowCardSep,"aria-hidden":!0}),i.jsx(Ye,{to:x?"/":"/login",children:x?"Back to dashboard":"Sign in"})]})]}):i.jsxs("form",{onSubmit:T,className:oe.form,children:[i.jsxs("label",{className:oe.label,children:["Name",i.jsx("input",{type:"text",autoComplete:"name",value:a,onChange:R=>o(R.target.value),className:oe.input,required:!0,maxLength:200})]}),i.jsxs("label",{className:oe.label,children:["Email",i.jsx("input",{type:"email",autoComplete:"email",value:u,onChange:R=>c(R.target.value),className:oe.input,required:!0})]}),i.jsxs("label",{className:oe.label,children:["Message",i.jsx("textarea",{ref:b,value:p,onChange:R=>h(R.target.value),className:oe.input,required:!0,rows:2,maxLength:1e4,style:{resize:"none",overflow:"hidden"}})]}),(w==null?void 0:w.captchaProvider)&&w.captchaProvider!=="none"&&w.captchaSiteKey&&i.jsx(Wh,{ref:m,provider:w.captchaProvider,siteKey:w.captchaSiteKey,action:"contact"}),S.isError&&i.jsx("div",{className:oe.verificationCardError,children:i.jsx("p",{className:oe.verificationCardErrorText,children:(k=S.error)==null?void 0:k.message})}),i.jsx("button",{type:"submit",className:oe.submit,disabled:S.isPending,"aria-label":"Send message",children:S.isPending?"Sending...":"Send message"})]}),!N&&i.jsx("p",{className:oe.footer,style:{marginTop:"1.5rem"},children:i.jsx(Ye,{to:x?"/":"/login",children:x?"Back to dashboard":"Back to sign in"})})]}),i.jsxs("p",{className:oe.footerBelowCard,children:[i.jsx(Ye,{to:"/privacy",children:"Privacy Policy"}),i.jsx("span",{className:oe.footerBelowCardSep,"aria-hidden":!0}),i.jsx(Ye,{to:"/terms",children:"Terms of Service"}),i.jsx("span",{className:oe.footerBelowCardSep,"aria-hidden":!0}),i.jsx(Ye,{to:"/contact",children:"Contact"})]})]})})}function Bl(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function zP(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function EL(...e){return t=>{let r=!1;const n=e.map(a=>{const o=zP(a,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let a=0;a<n.length;a++){const o=n[a];typeof o=="function"?o():zP(e[a],null)}}}}function du(...e){return v.useCallback(EL(...e),e)}function bV(e,t){const r=v.createContext(t),n=o=>{const{children:u,...c}=o,p=v.useMemo(()=>c,Object.values(c));return i.jsx(r.Provider,{value:p,children:u})};n.displayName=e+"Provider";function a(o){const u=v.useContext(r);if(u)return u;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,a]}function _V(e,t=[]){let r=[];function n(o,u){const c=v.createContext(u),p=r.length;r=[...r,u];const h=m=>{var x;const{scope:b,children:_,...j}=m,w=((x=b==null?void 0:b[e])==null?void 0:x[p])||c,y=v.useMemo(()=>j,Object.values(j));return i.jsx(w.Provider,{value:y,children:_})};h.displayName=o+"Provider";function f(m,b){var w;const _=((w=b==null?void 0:b[e])==null?void 0:w[p])||c,j=v.useContext(_);if(j)return j;if(u!==void 0)return u;throw new Error(`\`${m}\` must be used within \`${o}\``)}return[h,f]}const a=()=>{const o=r.map(u=>v.createContext(u));return function(c){const p=(c==null?void 0:c[e])||o;return v.useMemo(()=>({[`__scope${e}`]:{...c,[e]:p}}),[c,p])}};return a.scopeName=e,[n,xV(a,...t)]}function xV(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const u=n.reduce((c,{useScope:p,scopeName:h})=>{const m=p(o)[`__scope${h}`];return{...c,...m}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return r.scopeName=t.scopeName,r}var gh=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},wV=xj[" useId ".trim().toString()]||(()=>{}),SV=0;function L1(e){const[t,r]=v.useState(wV());return gh(()=>{r(n=>n??String(SV++))},[e]),e||(t?`radix-${t}`:"")}var jV=xj[" useInsertionEffect ".trim().toString()]||gh;function CV({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,o,u]=kV({defaultProp:t,onChange:r}),c=e!==void 0,p=c?e:a;{const f=v.useRef(e!==void 0);v.useEffect(()=>{const m=f.current;m!==c&&console.warn(`${n} is changing from ${m?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=c},[c,n])}const h=v.useCallback(f=>{var m;if(c){const b=NV(f)?f(e):f;b!==e&&((m=u.current)==null||m.call(u,b))}else o(f)},[c,e,o,u]);return[p,h]}function kV({defaultProp:e,onChange:t}){const[r,n]=v.useState(e),a=v.useRef(r),o=v.useRef(t);return jV(()=>{o.current=t},[t]),v.useEffect(()=>{var u;a.current!==r&&((u=o.current)==null||u.call(o,r),a.current=r)},[r,a]),[r,n,o]}function NV(e){return typeof e=="function"}function TL(e){const t=EV(e),r=v.forwardRef((n,a)=>{const{children:o,...u}=n,c=v.Children.toArray(o),p=c.find(PV);if(p){const h=p.props.children,f=c.map(m=>m===p?v.Children.count(h)>1?v.Children.only(null):v.isValidElement(h)?h.props.children:null:m);return i.jsx(t,{...u,ref:a,children:v.isValidElement(h)?v.cloneElement(h,void 0,f):null})}return i.jsx(t,{...u,ref:a,children:o})});return r.displayName=`${e}.Slot`,r}function EV(e){const t=v.forwardRef((r,n)=>{const{children:a,...o}=r;if(v.isValidElement(a)){const u=RV(a),c=AV(o,a.props);return a.type!==v.Fragment&&(c.ref=n?EL(n,u):u),v.cloneElement(a,c)}return v.Children.count(a)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var TV=Symbol("radix.slottable");function PV(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===TV}function AV(e,t){const r={...t};for(const n in t){const a=e[n],o=t[n];/^on[A-Z]/.test(n)?a&&o?r[n]=(...c)=>{const p=o(...c);return a(...c),p}:a&&(r[n]=a):n==="style"?r[n]={...a,...o}:n==="className"&&(r[n]=[a,o].filter(Boolean).join(" "))}return{...e,...r}}function RV(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var OV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Io=OV.reduce((e,t)=>{const r=TL(`Primitive.${t}`),n=v.forwardRef((a,o)=>{const{asChild:u,...c}=a,p=u?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(p,{...c,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function DV(e,t){e&&Uh.flushSync(()=>e.dispatchEvent(t))}function vh(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function MV(e,t=globalThis==null?void 0:globalThis.document){const r=vh(e);v.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var LV="DismissableLayer",mS="dismissableLayer.update",IV="dismissableLayer.pointerDownOutside",$V="dismissableLayer.focusOutside",FP,PL=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),AL=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:u,onDismiss:c,...p}=e,h=v.useContext(PL),[f,m]=v.useState(null),b=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,_]=v.useState({}),j=du(t,k=>m(k)),w=Array.from(h.layers),[y]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),x=w.indexOf(y),S=f?w.indexOf(f):-1,T=h.layersWithOutsidePointerEventsDisabled.size>0,N=S>=x,A=FV(k=>{const R=k.target,D=[...h.branches].some(I=>I.contains(R));!N||D||(a==null||a(k),u==null||u(k),k.defaultPrevented||c==null||c())},b),P=qV(k=>{const R=k.target;[...h.branches].some(I=>I.contains(R))||(o==null||o(k),u==null||u(k),k.defaultPrevented||c==null||c())},b);return MV(k=>{S===h.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&c&&(k.preventDefault(),c()))},b),v.useEffect(()=>{if(f)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(FP=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(f)),h.layers.add(f),qP(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=FP)}},[f,b,r,h]),v.useEffect(()=>()=>{f&&(h.layers.delete(f),h.layersWithOutsidePointerEventsDisabled.delete(f),qP())},[f,h]),v.useEffect(()=>{const k=()=>_({});return document.addEventListener(mS,k),()=>document.removeEventListener(mS,k)},[]),i.jsx(Io.div,{...p,ref:j,style:{pointerEvents:T?N?"auto":"none":void 0,...e.style},onFocusCapture:Bl(e.onFocusCapture,P.onFocusCapture),onBlurCapture:Bl(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Bl(e.onPointerDownCapture,A.onPointerDownCapture)})});AL.displayName=LV;var BV="DismissableLayerBranch",zV=v.forwardRef((e,t)=>{const r=v.useContext(PL),n=v.useRef(null),a=du(t,n);return v.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),i.jsx(Io.div,{...e,ref:a})});zV.displayName=BV;function FV(e,t=globalThis==null?void 0:globalThis.document){const r=vh(e),n=v.useRef(!1),a=v.useRef(()=>{});return v.useEffect(()=>{const o=c=>{if(c.target&&!n.current){let p=function(){RL(IV,r,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=p,t.addEventListener("click",a.current,{once:!0})):p()}else t.removeEventListener("click",a.current);n.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function qV(e,t=globalThis==null?void 0:globalThis.document){const r=vh(e),n=v.useRef(!1);return v.useEffect(()=>{const a=o=>{o.target&&!n.current&&RL($V,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function qP(){const e=new CustomEvent(mS);document.dispatchEvent(e)}function RL(e,t,r,{discrete:n}){const a=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?DV(a,o):a.dispatchEvent(o)}var I1="focusScope.autoFocusOnMount",$1="focusScope.autoFocusOnUnmount",UP={bubbles:!1,cancelable:!0},UV="FocusScope",OL=v.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...u}=e,[c,p]=v.useState(null),h=vh(a),f=vh(o),m=v.useRef(null),b=du(t,w=>p(w)),_=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(n){let w=function(T){if(_.paused||!c)return;const N=T.target;c.contains(N)?m.current=N:jl(m.current,{select:!0})},y=function(T){if(_.paused||!c)return;const N=T.relatedTarget;N!==null&&(c.contains(N)||jl(m.current,{select:!0}))},x=function(T){if(document.activeElement===document.body)for(const A of T)A.removedNodes.length>0&&jl(c)};document.addEventListener("focusin",w),document.addEventListener("focusout",y);const S=new MutationObserver(x);return c&&S.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",y),S.disconnect()}}},[n,c,_.paused]),v.useEffect(()=>{if(c){WP.add(_);const w=document.activeElement;if(!c.contains(w)){const x=new CustomEvent(I1,UP);c.addEventListener(I1,h),c.dispatchEvent(x),x.defaultPrevented||(HV(YV(DL(c)),{select:!0}),document.activeElement===w&&jl(c))}return()=>{c.removeEventListener(I1,h),setTimeout(()=>{const x=new CustomEvent($1,UP);c.addEventListener($1,f),c.dispatchEvent(x),x.defaultPrevented||jl(w??document.body,{select:!0}),c.removeEventListener($1,f),WP.remove(_)},0)}}},[c,h,f,_]);const j=v.useCallback(w=>{if(!r&&!n||_.paused)return;const y=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,x=document.activeElement;if(y&&x){const S=w.currentTarget,[T,N]=WV(S);T&&N?!w.shiftKey&&x===N?(w.preventDefault(),r&&jl(T,{select:!0})):w.shiftKey&&x===T&&(w.preventDefault(),r&&jl(N,{select:!0})):x===S&&w.preventDefault()}},[r,n,_.paused]);return i.jsx(Io.div,{tabIndex:-1,...u,ref:b,onKeyDown:j})});OL.displayName=UV;function HV(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(jl(n,{select:t}),document.activeElement!==r)return}function WV(e){const t=DL(e),r=HP(t,e),n=HP(t.reverse(),e);return[r,n]}function DL(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function HP(e,t){for(const r of e)if(!KV(r,{upTo:t}))return r}function KV(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function GV(e){return e instanceof HTMLInputElement&&"select"in e}function jl(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&GV(e)&&t&&e.select()}}var WP=VV();function VV(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=KP(e,t),e.unshift(t)},remove(t){var r;e=KP(e,t),(r=e[0])==null||r.resume()}}}function KP(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function YV(e){return e.filter(t=>t.tagName!=="A")}var QV="Portal",ML=v.forwardRef((e,t)=>{var c;const{container:r,...n}=e,[a,o]=v.useState(!1);gh(()=>o(!0),[]);const u=r||a&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return u?RH.createPortal(i.jsx(Io.div,{...n,ref:t}),u):null});ML.displayName=QV;function XV(e,t){return v.useReducer((r,n)=>t[r][n]??r,e)}var pb=e=>{const{present:t,children:r}=e,n=ZV(t),a=typeof r=="function"?r({present:n.isPresent}):v.Children.only(r),o=du(n.ref,JV(a));return typeof r=="function"||n.isPresent?v.cloneElement(a,{ref:o}):null};pb.displayName="Presence";function ZV(e){const[t,r]=v.useState(),n=v.useRef(null),a=v.useRef(e),o=v.useRef("none"),u=e?"mounted":"unmounted",[c,p]=XV(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const h=qg(n.current);o.current=c==="mounted"?h:"none"},[c]),gh(()=>{const h=n.current,f=a.current;if(f!==e){const b=o.current,_=qg(h);e?p("MOUNT"):_==="none"||(h==null?void 0:h.display)==="none"?p("UNMOUNT"):p(f&&b!==_?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,p]),gh(()=>{if(t){let h;const f=t.ownerDocument.defaultView??window,m=_=>{const w=qg(n.current).includes(CSS.escape(_.animationName));if(_.target===t&&w&&(p("ANIMATION_END"),!a.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",h=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},b=_=>{_.target===t&&(o.current=qg(n.current))};return t.addEventListener("animationstart",b),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{f.clearTimeout(h),t.removeEventListener("animationstart",b),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else p("ANIMATION_END")},[t,p]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:v.useCallback(h=>{n.current=h?getComputedStyle(h):null,r(h)},[])}}function qg(e){return(e==null?void 0:e.animationName)||"none"}function JV(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var B1=0;function eY(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??GP()),document.body.insertAdjacentElement("beforeend",e[1]??GP()),B1++,()=>{B1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),B1--}},[])}function GP(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var vs=function(){return vs=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},vs.apply(this,arguments)};function LL(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function tY(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,o;n<a;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var Nv="right-scroll-bar-position",Ev="width-before-scroll-bar",rY="with-scroll-bars-hidden",nY="--removed-body-scroll-bar-size";function z1(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function aY(e,t){var r=v.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var iY=typeof window<"u"?v.useLayoutEffect:v.useEffect,VP=new WeakMap;function sY(e,t){var r=aY(null,function(n){return e.forEach(function(a){return z1(a,n)})});return iY(function(){var n=VP.get(r);if(n){var a=new Set(n),o=new Set(e),u=r.current;a.forEach(function(c){o.has(c)||z1(c,null)}),o.forEach(function(c){a.has(c)||z1(c,u)})}VP.set(r,e)},[e]),r}function oY(e){return e}function lY(e,t){t===void 0&&(t=oY);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var u=t(o,n);return r.push(u),function(){r=r.filter(function(c){return c!==u})}},assignSyncMedium:function(o){for(n=!0;r.length;){var u=r;r=[],u.forEach(o)}r={push:function(c){return o(c)},filter:function(){return r}}},assignMedium:function(o){n=!0;var u=[];if(r.length){var c=r;r=[],c.forEach(o),u=r}var p=function(){var f=u;u=[],f.forEach(o)},h=function(){return Promise.resolve().then(p)};h(),r={push:function(f){u.push(f),h()},filter:function(f){return u=u.filter(f),r}}}};return a}function cY(e){e===void 0&&(e={});var t=lY(null);return t.options=vs({async:!0,ssr:!1},e),t}var IL=function(e){var t=e.sideCar,r=LL(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return v.createElement(n,vs({},r))};IL.isSideCarExport=!0;function uY(e,t){return e.useMedium(t),IL}var $L=cY(),F1=function(){},hb=v.forwardRef(function(e,t){var r=v.useRef(null),n=v.useState({onScrollCapture:F1,onWheelCapture:F1,onTouchMoveCapture:F1}),a=n[0],o=n[1],u=e.forwardProps,c=e.children,p=e.className,h=e.removeScrollBar,f=e.enabled,m=e.shards,b=e.sideCar,_=e.noRelative,j=e.noIsolation,w=e.inert,y=e.allowPinchZoom,x=e.as,S=x===void 0?"div":x,T=e.gapMode,N=LL(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=b,P=sY([r,t]),k=vs(vs({},N),a);return v.createElement(v.Fragment,null,f&&v.createElement(A,{sideCar:$L,removeScrollBar:h,shards:m,noRelative:_,noIsolation:j,inert:w,setCallbacks:o,allowPinchZoom:!!y,lockRef:r,gapMode:T}),u?v.cloneElement(v.Children.only(c),vs(vs({},k),{ref:P})):v.createElement(S,vs({},k,{className:p,ref:P}),c))});hb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};hb.classNames={fullWidth:Ev,zeroRight:Nv};var dY=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function fY(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=dY();return t&&e.setAttribute("nonce",t),e}function pY(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function hY(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var mY=function(){var e=0,t=null;return{add:function(r){e==0&&(t=fY())&&(pY(t,r),hY(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},gY=function(){var e=mY();return function(t,r){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},BL=function(){var e=gY(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},vY={left:0,top:0,right:0,gap:0},q1=function(e){return parseInt(e||"",10)||0},yY=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[q1(r),q1(n),q1(a)]},bY=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return vY;var t=yY(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},_Y=BL(),_d="data-scroll-locked",xY=function(e,t,r,n){var a=e.left,o=e.top,u=e.right,c=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(rY,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat(_d,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Nv,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Ev,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Nv," .").concat(Nv,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Ev," .").concat(Ev,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(_d,`] {
    `).concat(nY,": ").concat(c,`px;
  }
`)},YP=function(){var e=parseInt(document.body.getAttribute(_d)||"0",10);return isFinite(e)?e:0},wY=function(){v.useEffect(function(){return document.body.setAttribute(_d,(YP()+1).toString()),function(){var e=YP()-1;e<=0?document.body.removeAttribute(_d):document.body.setAttribute(_d,e.toString())}},[])},SY=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;wY();var o=v.useMemo(function(){return bY(a)},[a]);return v.createElement(_Y,{styles:xY(o,!t,a,r?"":"!important")})},gS=!1;if(typeof window<"u")try{var Ug=Object.defineProperty({},"passive",{get:function(){return gS=!0,!0}});window.addEventListener("test",Ug,Ug),window.removeEventListener("test",Ug,Ug)}catch{gS=!1}var Ju=gS?{passive:!1}:!1,jY=function(e){return e.tagName==="TEXTAREA"},zL=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!jY(e)&&r[t]==="visible")},CY=function(e){return zL(e,"overflowY")},kY=function(e){return zL(e,"overflowX")},QP=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=FL(e,n);if(a){var o=qL(e,n),u=o[1],c=o[2];if(u>c)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},NY=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},EY=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},FL=function(e,t){return e==="v"?CY(t):kY(t)},qL=function(e,t){return e==="v"?NY(t):EY(t)},TY=function(e,t){return e==="h"&&t==="rtl"?-1:1},PY=function(e,t,r,n,a){var o=TY(e,window.getComputedStyle(t).direction),u=o*n,c=r.target,p=t.contains(c),h=!1,f=u>0,m=0,b=0;do{if(!c)break;var _=qL(e,c),j=_[0],w=_[1],y=_[2],x=w-y-o*j;(j||x)&&FL(e,c)&&(m+=x,b+=j);var S=c.parentNode;c=S&&S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?S.host:S}while(!p&&c!==document.body||p&&(t.contains(c)||t===c));return(f&&Math.abs(m)<1||!f&&Math.abs(b)<1)&&(h=!0),h},Hg=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},XP=function(e){return[e.deltaX,e.deltaY]},ZP=function(e){return e&&"current"in e?e.current:e},AY=function(e,t){return e[0]===t[0]&&e[1]===t[1]},RY=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},OY=0,ed=[];function DY(e){var t=v.useRef([]),r=v.useRef([0,0]),n=v.useRef(),a=v.useState(OY++)[0],o=v.useState(BL)[0],u=v.useRef(e);v.useEffect(function(){u.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var w=tY([e.lockRef.current],(e.shards||[]).map(ZP),!0).filter(Boolean);return w.forEach(function(y){return y.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),w.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var c=v.useCallback(function(w,y){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!u.current.allowPinchZoom;var x=Hg(w),S=r.current,T="deltaX"in w?w.deltaX:S[0]-x[0],N="deltaY"in w?w.deltaY:S[1]-x[1],A,P=w.target,k=Math.abs(T)>Math.abs(N)?"h":"v";if("touches"in w&&k==="h"&&P.type==="range")return!1;var R=window.getSelection(),D=R&&R.anchorNode,I=D?D===P||D.contains(P):!1;if(I)return!1;var q=QP(k,P);if(!q)return!0;if(q?A=k:(A=k==="v"?"h":"v",q=QP(k,P)),!q)return!1;if(!n.current&&"changedTouches"in w&&(T||N)&&(n.current=A),!A)return!0;var z=n.current||A;return PY(z,y,w,z==="h"?T:N)},[]),p=v.useCallback(function(w){var y=w;if(!(!ed.length||ed[ed.length-1]!==o)){var x="deltaY"in y?XP(y):Hg(y),S=t.current.filter(function(A){return A.name===y.type&&(A.target===y.target||y.target===A.shadowParent)&&AY(A.delta,x)})[0];if(S&&S.should){y.cancelable&&y.preventDefault();return}if(!S){var T=(u.current.shards||[]).map(ZP).filter(Boolean).filter(function(A){return A.contains(y.target)}),N=T.length>0?c(y,T[0]):!u.current.noIsolation;N&&y.cancelable&&y.preventDefault()}}},[]),h=v.useCallback(function(w,y,x,S){var T={name:w,delta:y,target:x,should:S,shadowParent:MY(x)};t.current.push(T),setTimeout(function(){t.current=t.current.filter(function(N){return N!==T})},1)},[]),f=v.useCallback(function(w){r.current=Hg(w),n.current=void 0},[]),m=v.useCallback(function(w){h(w.type,XP(w),w.target,c(w,e.lockRef.current))},[]),b=v.useCallback(function(w){h(w.type,Hg(w),w.target,c(w,e.lockRef.current))},[]);v.useEffect(function(){return ed.push(o),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:b}),document.addEventListener("wheel",p,Ju),document.addEventListener("touchmove",p,Ju),document.addEventListener("touchstart",f,Ju),function(){ed=ed.filter(function(w){return w!==o}),document.removeEventListener("wheel",p,Ju),document.removeEventListener("touchmove",p,Ju),document.removeEventListener("touchstart",f,Ju)}},[]);var _=e.removeScrollBar,j=e.inert;return v.createElement(v.Fragment,null,j?v.createElement(o,{styles:RY(a)}):null,_?v.createElement(SY,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function MY(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const LY=uY($L,DY);var UL=v.forwardRef(function(e,t){return v.createElement(hb,vs({},e,{ref:t,sideCar:LY}))});UL.classNames=hb.classNames;var IY=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},td=new WeakMap,Wg=new WeakMap,Kg={},U1=0,HL=function(e){return e&&(e.host||HL(e.parentNode))},$Y=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=HL(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},BY=function(e,t,r,n){var a=$Y(t,Array.isArray(e)?e:[e]);Kg[r]||(Kg[r]=new WeakMap);var o=Kg[r],u=[],c=new Set,p=new Set(a),h=function(m){!m||c.has(m)||(c.add(m),h(m.parentNode))};a.forEach(h);var f=function(m){!m||p.has(m)||Array.prototype.forEach.call(m.children,function(b){if(c.has(b))f(b);else try{var _=b.getAttribute(n),j=_!==null&&_!=="false",w=(td.get(b)||0)+1,y=(o.get(b)||0)+1;td.set(b,w),o.set(b,y),u.push(b),w===1&&j&&Wg.set(b,!0),y===1&&b.setAttribute(r,"true"),j||b.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",b,x)}})};return f(t),c.clear(),U1++,function(){u.forEach(function(m){var b=td.get(m)-1,_=o.get(m)-1;td.set(m,b),o.set(m,_),b||(Wg.has(m)||m.removeAttribute(n),Wg.delete(m)),_||m.removeAttribute(r)}),U1--,U1||(td=new WeakMap,td=new WeakMap,Wg=new WeakMap,Kg={})}},zY=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=IY(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),BY(n,a,r,"aria-hidden")):function(){return null}},mb="Dialog",[WL]=_V(mb),[FY,Hi]=WL(mb),KL=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:o,modal:u=!0}=e,c=v.useRef(null),p=v.useRef(null),[h,f]=CV({prop:n,defaultProp:a??!1,onChange:o,caller:mb});return i.jsx(FY,{scope:t,triggerRef:c,contentRef:p,contentId:L1(),titleId:L1(),descriptionId:L1(),open:h,onOpenChange:f,onOpenToggle:v.useCallback(()=>f(m=>!m),[f]),modal:u,children:r})};KL.displayName=mb;var GL="DialogTrigger",qY=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Hi(GL,r),o=du(t,a.triggerRef);return i.jsx(Io.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Zj(a.open),...n,ref:o,onClick:Bl(e.onClick,a.onOpenToggle)})});qY.displayName=GL;var Qj="DialogPortal",[UY,VL]=WL(Qj,{forceMount:void 0}),YL=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,o=Hi(Qj,t);return i.jsx(UY,{scope:t,forceMount:r,children:v.Children.map(n,u=>i.jsx(pb,{present:r||o.open,children:i.jsx(ML,{asChild:!0,container:a,children:u})}))})};YL.displayName=Qj;var ty="DialogOverlay",QL=v.forwardRef((e,t)=>{const r=VL(ty,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,o=Hi(ty,e.__scopeDialog);return o.modal?i.jsx(pb,{present:n||o.open,children:i.jsx(WY,{...a,ref:t})}):null});QL.displayName=ty;var HY=TL("DialogOverlay.RemoveScroll"),WY=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Hi(ty,r);return i.jsx(UL,{as:HY,allowPinchZoom:!0,shards:[a.contentRef],children:i.jsx(Io.div,{"data-state":Zj(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Xc="DialogContent",XL=v.forwardRef((e,t)=>{const r=VL(Xc,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,o=Hi(Xc,e.__scopeDialog);return i.jsx(pb,{present:n||o.open,children:o.modal?i.jsx(KY,{...a,ref:t}):i.jsx(GY,{...a,ref:t})})});XL.displayName=Xc;var KY=v.forwardRef((e,t)=>{const r=Hi(Xc,e.__scopeDialog),n=v.useRef(null),a=du(t,r.contentRef,n);return v.useEffect(()=>{const o=n.current;if(o)return zY(o)},[]),i.jsx(ZL,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Bl(e.onCloseAutoFocus,o=>{var u;o.preventDefault(),(u=r.triggerRef.current)==null||u.focus()}),onPointerDownOutside:Bl(e.onPointerDownOutside,o=>{const u=o.detail.originalEvent,c=u.button===0&&u.ctrlKey===!0;(u.button===2||c)&&o.preventDefault()}),onFocusOutside:Bl(e.onFocusOutside,o=>o.preventDefault())})}),GY=v.forwardRef((e,t)=>{const r=Hi(Xc,e.__scopeDialog),n=v.useRef(!1),a=v.useRef(!1);return i.jsx(ZL,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var u,c;(u=e.onCloseAutoFocus)==null||u.call(e,o),o.defaultPrevented||(n.current||(c=r.triggerRef.current)==null||c.focus(),o.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:o=>{var p,h;(p=e.onInteractOutside)==null||p.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const u=o.target;((h=r.triggerRef.current)==null?void 0:h.contains(u))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),ZL=v.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:o,...u}=e,c=Hi(Xc,r),p=v.useRef(null),h=du(t,p);return eY(),i.jsxs(i.Fragment,{children:[i.jsx(OL,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:o,children:i.jsx(AL,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":Zj(c.open),...u,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(VY,{titleId:c.titleId}),i.jsx(QY,{contentRef:p,descriptionId:c.descriptionId})]})]})}),Xj="DialogTitle",JL=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Hi(Xj,r);return i.jsx(Io.h2,{id:a.titleId,...n,ref:t})});JL.displayName=Xj;var e6="DialogDescription",t6=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Hi(e6,r);return i.jsx(Io.p,{id:a.descriptionId,...n,ref:t})});t6.displayName=e6;var r6="DialogClose",n6=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Hi(r6,r);return i.jsx(Io.button,{type:"button",...n,ref:t,onClick:Bl(e.onClick,()=>a.onOpenChange(!1))})});n6.displayName=r6;function Zj(e){return e?"open":"closed"}var a6="DialogTitleWarning",[s6e,i6]=bV(a6,{contentName:Xc,titleName:Xj,docsSlug:"dialog"}),VY=({titleId:e})=>{const t=i6(a6),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},YY="DialogDescriptionWarning",QY=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${i6(YY).contentName}}.`;return v.useEffect(()=>{var o;const a=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},ur=KL,br=YL,dr=QL,fr=XL,pr=JL,Nr=t6,pt=n6;class s6 extends Error{constructor(t,r,n){super(t),this.status=r,this.data=n,this.name="CollaboratorApiError"}}const o6="/api";function XY(e){const t=new URLSearchParams;t.set("limit",String(e.limit)),(e==null?void 0:e.offset)!=null&&t.set("offset",String(e.offset)),e!=null&&e.q&&t.set("q",e.q),e!=null&&e.sort&&t.set("sort",e.sort);const r=t.toString();return Et(`/podcasts${r?`?${r}`:""}`)}function ZY(e,t){const r=new URLSearchParams;r.set("limit",String(t.limit)),(t==null?void 0:t.offset)!=null&&r.set("offset",String(t.offset)),t!=null&&t.q&&r.set("q",t.q),t!=null&&t.sort&&r.set("sort",t.sort);const n=r.toString();return Et(`/podcasts/user/${e}${n?`?${n}`:""}`)}function fu(e){return Et(`/podcasts/${e}`)}function JY(e,t){const r=new URLSearchParams;t!=null&&t.start_date&&r.set("start_date",t.start_date),t!=null&&t.end_date&&r.set("end_date",t.end_date),(t==null?void 0:t.limit)!=null&&r.set("limit",String(t.limit)),(t==null?void 0:t.offset)!=null&&r.set("offset",String(t.offset));const n=r.toString();return Et(`/podcasts/${e}/analytics${n?`?${n}`:""}`)}function eQ(e){return nn("/podcasts",e)}async function tQ(e,t){const r=new FormData;r.append("file",t);const n=await fetch(`${o6}/podcasts/${e}/artwork`,{method:"POST",credentials:"include",headers:Jt(),body:r});if(!n.ok){const a=await n.json().catch(()=>({error:n.statusText}));throw new Error(a.error??n.statusText)}return n.json()}function rQ(e){return Et(`/podcasts/${e}/collaborators`)}async function nQ(e,t){const r=await fetch(`/api/podcasts/${e}/collaborators`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",...Jt()},body:JSON.stringify(t)}),n=await r.json().catch(()=>({}));if(!r.ok)throw new s6(n.error??r.statusText,r.status,n);return n}function aQ(e,t,r){return Kl(`/podcasts/${e}/collaborators/${t}`,r)}function iQ(e,t){return fetch(`/api/podcasts/${e}/collaborators/${t}`,{method:"DELETE",credentials:"include",headers:Jt()}).then(r=>{if(!r.ok)return r.json().then(n=>Promise.reject(new Error(n.error??r.statusText)))})}function sQ(e){return nn("/invite-to-platform",e)}function oQ(e){return nn("/podcasts/import",{feed_url:e})}function lQ(e){return Et(`/podcasts/${e}/import-status`)}function cQ(){return Et("/podcasts/import-status")}function Jj(e,t){return Kl(`/podcasts/${e}`,t)}function JP(e,t){const r=new URLSearchParams;t!=null&&t.limit&&r.set("limit",String(t.limit)),t!=null&&t.offset&&r.set("offset",String(t.offset)),t!=null&&t.q&&r.set("q",t.q),t!=null&&t.sort&&r.set("sort",t.sort);const n=r.toString(),a=`/podcasts/${e}/subscriber-tokens${n?`?${n}`:""}`;return Et(a)}function uQ(e,t){return nn(`/podcasts/${e}/subscriber-tokens`,t)}function dQ(e,t,r){return Kl(`/podcasts/${e}/subscriber-tokens/${t}`,r)}function fQ(e,t){return Hh(`/podcasts/${e}/subscriber-tokens/${t}`)}function Tv(e,t){const r=new URLSearchParams;(t==null?void 0:t.limit)!=null&&r.set("limit",String(t.limit)),(t==null?void 0:t.offset)!=null&&r.set("offset",String(t.offset)),t!=null&&t.q&&r.set("q",t.q),t!=null&&t.sort&&r.set("sort",t.sort),t!=null&&t.episode_id&&r.set("episode_id",t.episode_id);const n=r.toString();return Et(`/podcasts/${e}/cast${n?`?${n}`:""}`)}function pQ(e,t){return nn(`/podcasts/${e}/cast`,t)}function hQ(e,t,r){return Kl(`/podcasts/${e}/cast/${t}`,r)}function mQ(e,t){return Hh(`/podcasts/${e}/cast/${t}`)}async function eA(e,t,r){const n=new FormData;n.append("file",r);const a=await fetch(`${o6}/podcasts/${e}/cast/${t}/photo`,{method:"POST",credentials:"include",headers:Jt(),body:n});if(!a.ok){const o=await a.json().catch(()=>({error:a.statusText}));throw new Error(o.error??a.statusText)}return a.json()}function l6(e,t,r){return`/api/podcasts/${e}/cast/${t}/artwork/${encodeURIComponent(r)}`}const gQ="_card_1o0pt_4",vQ="_cardTitle_1o0pt_12",yQ="_sectionTitle_1o0pt_21",bQ="_sectionSub_1o0pt_28",_Q="_pdCardSectionSub_1o0pt_36",xQ="_pdCardEmptyState_1o0pt_44",wQ="_exportHeader_1o0pt_56",SQ="_tokenHeader_1o0pt_57",jQ="_exportTitle_1o0pt_66",CQ="_tokenTitle_1o0pt_67",kQ="_exportHeaderActions_1o0pt_73",NQ="_tokenHeaderActions_1o0pt_74",EQ="_exportMuted_1o0pt_81",TQ="_tokenMuted_1o0pt_82",PQ="_tokenNoMatch_1o0pt_89",AQ="_tokenNoMatchText_1o0pt_98",RQ="_subscriberDisabledBody_1o0pt_105",OQ="_subscriberDisabledMessage_1o0pt_113",DQ="_subscriberDisabledActions_1o0pt_119",MQ="_podcastHero_1o0pt_127",LQ="_podcastHeroArtwork_1o0pt_134",IQ="_podcastHeroMain_1o0pt_144",$Q="_podcastHeroTitleRow_1o0pt_154",BQ="_podcastHeroTitleLock_1o0pt_163",zQ="_podcastHeroTitleLockGold_1o0pt_168",FQ="_podcastHeroDescription_1o0pt_182",qQ="_cardHeaderActions_1o0pt_187",UQ="_label_1o0pt_205",HQ="_input_1o0pt_214",WQ="_select_1o0pt_215",KQ="_submit_1o0pt_243",GQ="_cancel_1o0pt_264",VQ="_dialogOverlay_1o0pt_285",YQ="_fadeIn_1o0pt_1",QQ="_dialogContent_1o0pt_298",XQ="_dialogContentWide_1o0pt_314",ZQ="_dialogContentScrollable_1o0pt_318",JQ="_dialogBodyScroll_1o0pt_324",eX="_dialogHeaderRow_1o0pt_353",tX="_dialogTitle_1o0pt_361",rX="_dialogDescription_1o0pt_376",nX="_dialogClose_1o0pt_383",aX="_dialogActions_1o0pt_409",iX="_dialogFooter_1o0pt_419",sX="_dialogFooterCancelLeft_1o0pt_426",oX="_dialogConfirm_1o0pt_433",lX="_dialogConfirmRemove_1o0pt_458",cX="_exportList_1o0pt_481",uX="_collabList_1o0pt_482",dX="_tokenList_1o0pt_483",fX="_exportCard_1o0pt_492",pX="_collabCard_1o0pt_500",hX="_tokenCard_1o0pt_501",mX="_exportCardRow_1o0pt_520",gX="_collabCardRow_1o0pt_521",vX="_tokenCardRow_1o0pt_522",yX="_exportCardMeta_1o0pt_530",bX="_collabCardMeta_1o0pt_531",_X="_tokenCardMeta_1o0pt_532",xX="_tokenCardMetaRow_1o0pt_555",wX="_exportCardActions_1o0pt_562",SX="_collabCardActions_1o0pt_563",jX="_tokenCardActions_1o0pt_564",CX="_exportModeBadge_1o0pt_572",kX="_roleBadge_1o0pt_591",NX="_statusBadgeActive_1o0pt_604",EX="_statusBadgeDisabled_1o0pt_616",TX="_statusBadgeDisabledDanger_1o0pt_628",PX="_exportDeleteBtn_1o0pt_640",AX="_collabDeleteBtn_1o0pt_641",RX="_tokenDeleteBtn_1o0pt_642",OX="_tokenMetaText_1o0pt_671",DX="_cardHeader_1o0pt_187",MX="_cardSettings_1o0pt_693",LX="_cardHeaderPrimary_1o0pt_720",IX="_cardHeaderSecondary_1o0pt_748",$X="_form_1o0pt_775",BX="_textarea_1o0pt_781",zX="_dialogSectionTitle_1o0pt_799",FX="_dialogShowDetailsGrid_1o0pt_812",qX="_editDetailsTabSelectWrap_1o0pt_817",UX="_editDetailsTabSelect_1o0pt_817",HX="_editDetailsTabs_1o0pt_845",WX="_editDetailsTab_1o0pt_817",KX="_editDetailsTabActive_1o0pt_877",GX="_editDetailsTabPanel_1o0pt_882",VX="_editDetailsTabPanelActive_1o0pt_886",YX="_advancedToggle_1o0pt_903",QX="_overviewFieldsStack_1o0pt_925",XX="_tabPanelFields_1o0pt_926",ZX="_advancedFields_1o0pt_932",JX="_coverImageWrap_1o0pt_940",eZ="_coverImagePreview_1o0pt_947",tZ="_coverImagePreviewPlaceholder_1o0pt_957",rZ="_coverImageControls_1o0pt_970",nZ="_coverSourceToggle_1o0pt_978",aZ="_coverSourceToggleBtn_1o0pt_985",iZ="_coverSourceToggleActive_1o0pt_986",sZ="_coverFileInput_1o0pt_1013",oZ="_gearBtn_1o0pt_1042",lZ="_deployBtn_1o0pt_1069",cZ="_statusToggle_1o0pt_1096",uZ="_statusToggleBtn_1o0pt_1105",dZ="_statusToggleActive_1o0pt_1106",fZ="_success_1o0pt_1133",pZ="_collabLimitCard_1o0pt_1144",hZ="_tokenLimitCard_1o0pt_1145",mZ="_collabError_1o0pt_1156",gZ="_tokenError_1o0pt_1157",vZ="_collabEmptyState_1o0pt_1178",yZ="_tokenEmptyState_1o0pt_1179",bZ="_error_1o0pt_1187",_Z="_muted_1o0pt_1197",ae={card:gQ,cardTitle:vQ,sectionTitle:yQ,sectionSub:bQ,pdCardSectionSub:_Q,pdCardEmptyState:xQ,exportHeader:wQ,tokenHeader:SQ,exportTitle:jQ,tokenTitle:CQ,exportHeaderActions:kQ,tokenHeaderActions:NQ,exportMuted:EQ,tokenMuted:TQ,tokenNoMatch:PQ,tokenNoMatchText:AQ,subscriberDisabledBody:RQ,subscriberDisabledMessage:OQ,subscriberDisabledActions:DQ,podcastHero:MQ,podcastHeroArtwork:LQ,podcastHeroMain:IQ,podcastHeroTitleRow:$Q,podcastHeroTitleLock:BQ,podcastHeroTitleLockGold:zQ,podcastHeroDescription:FQ,cardHeaderActions:qQ,label:UQ,input:HQ,select:WQ,submit:KQ,cancel:GQ,dialogOverlay:VQ,fadeIn:YQ,dialogContent:QQ,dialogContentWide:XQ,dialogContentScrollable:ZQ,dialogBodyScroll:JQ,dialogHeaderRow:eX,dialogTitle:tX,dialogDescription:rX,dialogClose:nX,dialogActions:aX,dialogFooter:iX,dialogFooterCancelLeft:sX,dialogConfirm:oX,dialogConfirmRemove:lX,exportList:cX,collabList:uX,tokenList:dX,exportCard:fX,collabCard:pX,tokenCard:hX,exportCardRow:mX,collabCardRow:gX,tokenCardRow:vX,exportCardMeta:yX,collabCardMeta:bX,tokenCardMeta:_X,tokenCardMetaRow:xX,exportCardActions:wX,collabCardActions:SX,tokenCardActions:jX,exportModeBadge:CX,roleBadge:kX,statusBadgeActive:NX,statusBadgeDisabled:EX,statusBadgeDisabledDanger:TX,exportDeleteBtn:PX,collabDeleteBtn:AX,tokenDeleteBtn:RX,tokenMetaText:OX,cardHeader:DX,cardSettings:MX,cardHeaderPrimary:LX,cardHeaderSecondary:IX,form:$X,textarea:BX,dialogSectionTitle:zX,dialogShowDetailsGrid:FX,editDetailsTabSelectWrap:qX,editDetailsTabSelect:UX,editDetailsTabs:HX,editDetailsTab:WX,editDetailsTabActive:KX,editDetailsTabPanel:GX,editDetailsTabPanelActive:VX,advancedToggle:YX,overviewFieldsStack:QX,tabPanelFields:XX,advancedFields:ZX,coverImageWrap:JX,coverImagePreview:eZ,coverImagePreviewPlaceholder:tZ,coverImageControls:rZ,coverSourceToggle:nZ,coverSourceToggleBtn:aZ,coverSourceToggleActive:iZ,coverFileInput:sZ,gearBtn:oZ,deployBtn:lZ,statusToggle:cZ,statusToggleBtn:uZ,statusToggleActive:dZ,success:fZ,collabLimitCard:pZ,tokenLimitCard:hZ,collabError:mZ,tokenError:gZ,collabEmptyState:vZ,tokenEmptyState:yZ,error:bZ,muted:_Z};function xZ(e){if(!e)return"";const t=e.trim();if(!t)return"";if(t.startsWith("/")&&!t.startsWith("//"))return t;try{const r=typeof window<"u"?window.location.origin:"https://x",n=new URL(t,r),a=n.protocol.toLowerCase();if(a==="https:"||a==="http:"||a==="blob:")return n.href}catch{}return""}function c6({open:e,podcastId:t,onClose:r}){var F,B;const n=Lt(),{user:a}=As(),{data:o,isLoading:u}=Oe({queryKey:["podcast",t],queryFn:()=>fu(t),enabled:e&&!!t}),[c,p]=v.useState({}),h=v.useRef(c),[f,m]=v.useState("url"),[b,_]=v.useState(null),[j,w]=v.useState(null),[y,x]=v.useState(0),[S,T]=v.useState(""),[N,A]=v.useState(null),[P,k]=v.useState("overview"),R=v.useRef(null),D=v.useRef(null);pi(R,c.description??"",{minHeight:80}),pi(D,c.summary??"",{minHeight:60}),v.useEffect(()=>{h.current=c},[c]),v.useEffect(()=>{const O=(c.artwork_url??"").trim();if(!O){T("");return}const $=setTimeout(()=>T(O),400);return()=>clearTimeout($)},[c.artwork_url]),v.useEffect(()=>{o&&(p({...o,artwork_url:o.artwork_url??null}),T((o.artwork_url??"").trim()),m(o.artwork_filename?"upload":"url"),_(null))},[o]),v.useEffect(()=>{e&&o&&(p({...o,artwork_url:o.artwork_url??null}),T((o.artwork_url??"").trim()),_(null))},[e,o]),v.useEffect(()=>{if(!b){w($=>($&&URL.revokeObjectURL($),null));return}const O=URL.createObjectURL(b);return w(O),()=>URL.revokeObjectURL(O)},[b]);const I=Ue({mutationFn:O=>Jj(t,O),onSuccess:()=>{n.invalidateQueries({queryKey:["podcast",t]}),n.invalidateQueries({queryKey:["podcasts"]}),r()}}),q=Ue({mutationFn:O=>tQ(t,O),onSuccess:()=>{n.invalidateQueries({queryKey:["podcast",t]}),n.invalidateQueries({queryKey:["podcasts"]}),x(O=>O+1)}});v.useEffect(()=>{e||(I.reset(),q.reset(),A(null),k("overview"))},[e,I,q]);async function z(O){var Q,U,X,ee;O.preventDefault();const $=h.current,K=b;if(K)try{await q.mutateAsync(K),_(null)}catch{return}const V={title:$.title,slug:$.slug,description:$.description,subtitle:$.subtitle??null,summary:$.summary??null,language:$.language,author_name:$.author_name,owner_name:$.owner_name,email:$.email,category_primary:$.category_primary,category_secondary:$.category_secondary,category_primary_two:$.category_primary_two,category_secondary_two:$.category_secondary_two,category_primary_three:$.category_primary_three,category_secondary_three:$.category_secondary_three,explicit:$.explicit!==void 0?$.explicit===1?1:0:void 0,site_url:$.site_url,artwork_url:K?null:$.artwork_url!==void 0?$.artwork_url:null,copyright:$.copyright,podcast_guid:$.podcast_guid,locked:$.locked!==void 0?$.locked===1?1:0:void 0,license:$.license,itunes_type:$.itunes_type,medium:$.medium,funding_url:$.funding_url??null,funding_label:$.funding_label??null,persons:$.persons??null,update_frequency_rrule:$.update_frequency_rrule??null,update_frequency_label:$.update_frequency_label??null,spotify_recent_count:$.spotify_recent_count??null,spotify_country_of_origin:$.spotify_country_of_origin??null,apple_podcasts_verify:$.apple_podcasts_verify??null,unlisted:$.unlisted!==void 0?$.unlisted===1?1:0:void 0,subscriber_only_feed_enabled:$.subscriber_only_feed_enabled!==void 0?$.subscriber_only_feed_enabled===1?1:0:void 0,public_feed_disabled:$.public_feed_disabled!==void 0?$.public_feed_disabled===1?1:0:void 0};if((o==null?void 0:o.my_role)==="owner"&&(o!=null&&o.dns_config)){const te=o.dns_config;if(te.allow_linking_domain&&$.link_domain!==void 0){const me=((Q=$.link_domain)==null?void 0:Q.trim())||null;if(me&&(me.toLowerCase().startsWith("http://")||me.toLowerCase().startsWith("https://"))){A("Use hostname only (no http:// or https://).");return}V.link_domain=me}te.allow_domain&&$.managed_domain!==void 0?V.managed_domain=((U=$.managed_domain)==null?void 0:U.trim())||null:V.managed_domain=null,te.allow_sub_domain&&te.default_domain&&$.managed_sub_domain!==void 0?V.managed_sub_domain=((X=$.managed_sub_domain)==null?void 0:X.trim())||null:V.managed_sub_domain=null,te.allow_custom_key&&$.cloudflare_api_key!==void 0?V.cloudflare_api_key=((ee=$.cloudflare_api_key)==null?void 0:ee.trim())||void 0:V.cloudflare_api_key=null}A(null),I.mutate(V)}function M(){const O="abcdefghijklmnopqrstuvwxyz0-9";let $="private-";const K=new Uint8Array(14);crypto.getRandomValues(K);for(let V=0;V<14;V++)$+=O[K[V]%O.length];return $}return!e||!t?null:i.jsx(ur,{open:e,onOpenChange:O=>!O&&r(),children:i.jsxs(br,{children:[i.jsx(dr,{className:ae.dialogOverlay}),i.jsxs(fr,{className:`${ae.dialogContent} ${ae.dialogContentWide} ${ae.dialogContentScrollable} ${ae.dialogShowDetailsGrid}`,children:[i.jsxs("div",{className:ae.dialogHeaderRow,children:[i.jsx(pr,{className:ae.dialogTitle,children:"Edit Podcast Details"}),i.jsx(pt,{asChild:!0,children:i.jsx("button",{type:"button",className:ae.dialogClose,"aria-label":"Close",disabled:I.isPending||q.isPending,children:i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":"true"})})})]}),i.jsx(Nr,{className:ae.dialogDescription,children:"Update the podcast title, slug, and other feed details."}),o&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:ae.editDetailsTabSelectWrap,children:i.jsxs("select",{className:ae.editDetailsTabSelect,value:P,onChange:O=>k(O.target.value),"aria-label":"Jump to section",children:[i.jsx("option",{value:"overview",children:"Overview"}),i.jsx("option",{value:"author",children:"Author"}),i.jsx("option",{value:"categories",children:"Categories"}),i.jsx("option",{value:"distribution",children:"Distribution"}),i.jsx("option",{value:"more",children:"More"})]})}),i.jsx("div",{className:ae.editDetailsTabs,role:"tablist","aria-label":"Edit sections",onKeyDown:O=>{const $=["overview","author","categories","distribution","more"],K=$.indexOf(P);O.key==="ArrowLeft"&&K>0?(O.preventDefault(),k($[K-1])):O.key==="ArrowRight"&&K<$.length-1&&(O.preventDefault(),k($[K+1]))},children:["overview","author","categories","distribution","more"].map(O=>i.jsx("button",{type:"button",role:"tab",tabIndex:P===O?0:-1,"aria-selected":P===O,"aria-controls":`edit-details-panel-${O}`,id:`edit-details-tab-${O}`,className:`${ae.editDetailsTab} ${P===O?ae.editDetailsTabActive:""}`,onClick:()=>k(O),children:O==="overview"?"Overview":O==="author"?"Author":O==="categories"?"Categories":O==="distribution"?"Distribution":"More"},O))})]}),i.jsx("div",{className:ae.dialogBodyScroll,children:u&&!o?i.jsx("p",{style:{padding:"1.5rem",color:"var(--text-muted)",margin:0},children:"Loading..."}):o?i.jsxs("form",{id:"edit-show-details-form",onSubmit:z,className:ae.form,children:[i.jsx("div",{role:"tabpanel",id:"edit-details-panel-overview","aria-labelledby":"edit-details-tab-overview",className:`${ae.editDetailsTabPanel} ${P==="overview"?ae.editDetailsTabPanelActive:""}`,children:i.jsxs("div",{className:ae.overviewFieldsStack,children:[i.jsxs("label",{className:ae.label,children:["Title",i.jsx("input",{type:"text",value:c.title??"",onChange:O=>p($=>({...$,title:O.target.value})),className:ae.input,placeholder:"e.g. My Awesome Podcast",required:!0})]}),i.jsxs("label",{className:ae.label,children:["Slug",i.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center",flexWrap:"wrap"},children:[i.jsx("input",{type:"text",value:c.slug??"",onChange:O=>p($=>({...$,slug:O.target.value})),className:ae.input,placeholder:"e.g. my-awesome-podcast",style:{flex:"1 1 200px"},disabled:c.unlisted!==1&&(a==null?void 0:a.role)!=="admin"}),c.unlisted===1&&i.jsx("button",{type:"button",className:ae.gearBtn,onClick:()=>p(O=>({...O,slug:M()})),"aria-label":"Regenerate secret slug",children:"Regenerate secret slug"})]}),c.unlisted===1&&i.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginTop:"0.25rem",marginLeft:"0"},children:"Unlisted shows can use a secret slug; only people with the link can find the feed."})]}),i.jsxs("label",{className:"toggle","aria-describedby":"unlisted-desc",children:[i.jsx("input",{type:"checkbox",checked:c.unlisted===1,onChange:O=>p($=>({...$,unlisted:O.target.checked?1:0}))}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Unlisted"})]}),i.jsx("p",{id:"unlisted-desc",style:{fontSize:"0.75rem",color:"var(--text-muted)",margin:"0.25rem 0 0 0"},children:"Unlisted shows do not appear on the public /feed page or in the sitemap. Use a secret slug to share the feed link only with subscribers."}),i.jsxs("label",{className:"toggle","aria-describedby":"subscribers-enabled-desc",children:[i.jsx("input",{type:"checkbox",checked:c.subscriber_only_feed_enabled===1,onChange:O=>{const $=O.target.checked;p(K=>({...K,subscriber_only_feed_enabled:$?1:0,...$?{}:{public_feed_disabled:0}}))}}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Subscribers Enabled"})]}),i.jsx("p",{id:"subscribers-enabled-desc",style:{fontSize:"0.75rem",color:"var(--text-muted)",margin:"0.25rem 0 0 0"},children:"Allow adding subscribers and sharing a private feed link. Subscribers can see episodes that include subscriber-only ones when using their link."}),c.subscriber_only_feed_enabled===1&&i.jsxs(i.Fragment,{children:[i.jsxs("label",{className:"toggle","aria-describedby":"subscriber-only-desc",children:[i.jsx("input",{type:"checkbox",checked:c.public_feed_disabled===1,onChange:O=>p($=>({...$,public_feed_disabled:O.target.checked?1:0}))}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Subscriber Only"})]}),i.jsx("p",{id:"subscriber-only-desc",style:{fontSize:"0.75rem",color:"var(--text-muted)",margin:"0.25rem 0 0 0"},children:"When on, the public feed does not load at all. The show is only available to people with a subscriber link."})]}),i.jsxs("label",{className:ae.label,children:["Description",i.jsx("textarea",{ref:R,value:c.description??"",onChange:O=>p($=>({...$,description:O.target.value})),className:ae.textarea,rows:2,style:{overflow:"hidden",resize:"none"},placeholder:"What your show is about. Shown in podcast apps and directories."})]}),i.jsxs("label",{className:ae.label,children:["Subtitle",i.jsx("input",{type:"text",value:c.subtitle??"",onChange:O=>p($=>({...$,subtitle:O.target.value.trim()||null})),className:ae.input,placeholder:"e.g. A weekly show about technology"})]}),i.jsxs("label",{className:ae.label,children:["Summary",i.jsx("textarea",{ref:D,value:c.summary??"",onChange:O=>{const $=O.target.value;p(K=>({...K,summary:$.trim()===""?null:$}))},className:ae.textarea,rows:2,style:{overflow:"hidden",resize:"none"},placeholder:"Extended description for podcast apps (optional)"})]}),i.jsxs("label",{className:ae.label,children:["Cover",i.jsxs("div",{className:ae.coverImageWrap,children:[(f==="url"?S&&(S.startsWith("http://")||S.startsWith("https://")):b||o!=null&&o.artwork_filename)?i.jsx("img",{src:xZ(f==="url"?S:j??(o!=null&&o.artwork_filename&&t?`/api/podcasts/${t}/artwork/${encodeURIComponent(o.artwork_filename)}`:"")),alt:"",className:ae.coverImagePreview},f==="url"?`url-${S}`:`upload-${(o==null?void 0:o.artwork_filename)??""}-${!!j}`):i.jsx("div",{className:ae.coverImagePreviewPlaceholder,children:i.jsx(qF,{size:28,"aria-hidden":!0})}),i.jsxs("div",{className:ae.coverImageControls,children:[i.jsxs("div",{className:ae.coverSourceToggle,role:"group","aria-label":"Cover image source",children:[i.jsx("button",{type:"button",className:f==="url"?ae.coverSourceToggleActive:ae.coverSourceToggleBtn,onClick:()=>m("url"),"aria-pressed":f==="url","aria-label":"Cover image from URL",children:"URL"}),i.jsx("button",{type:"button",className:f==="upload"?ae.coverSourceToggleActive:ae.coverSourceToggleBtn,onClick:()=>m("upload"),"aria-pressed":f==="upload","aria-label":"Upload cover image",children:"Upload"})]}),f==="url"?i.jsx("input",{type:"url",value:c.artwork_url??"",onChange:O=>{const $=O.target.value.trim();p(K=>({...K,artwork_url:$===""?null:$}))},className:ae.input,placeholder:"https://..."}):i.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/webp",className:ae.coverFileInput,onChange:O=>{var K;const $=(K=O.target.files)==null?void 0:K[0];$&&_($)},disabled:I.isPending,"aria-label":"Choose cover image"},y),f==="upload"&&b&&i.jsxs("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",margin:0},children:[b.name," will be uploaded when you save."]}),f==="upload"&&q.isError&&i.jsx("p",{className:ae.error,style:{margin:0,marginTop:"0.25rem"},children:(F=q.error)==null?void 0:F.message}),f==="url"&&i.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",margin:"0.25rem 0 0 0"},children:"Public URL (optional)"}),f==="upload"&&i.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",margin:"0.25rem 0 0 0"},children:"JPG, PNG or WebP, max 5MB"})]})]})]})]})}),i.jsx("div",{role:"tabpanel",id:"edit-details-panel-author","aria-labelledby":"edit-details-tab-author",className:`${ae.editDetailsTabPanel} ${P==="author"?ae.editDetailsTabPanelActive:""}`,children:i.jsxs("div",{className:ae.tabPanelFields,children:[i.jsxs("label",{className:ae.label,children:["Author Name",i.jsx("input",{type:"text",value:c.author_name??"",onChange:O=>p($=>({...$,author_name:O.target.value})),className:ae.input,placeholder:"e.g. Jane Smith"})]}),i.jsxs("label",{className:ae.label,children:["Owner Name",i.jsx("input",{type:"text",value:c.owner_name??"",onChange:O=>p($=>({...$,owner_name:O.target.value})),className:ae.input,placeholder:"e.g. Jane Smith or Company Name"})]}),i.jsxs("label",{className:ae.label,children:["Email",i.jsx("input",{type:"email",value:c.email??"",onChange:O=>p($=>({...$,email:O.target.value})),className:ae.input,placeholder:"e.g. contact@example.com"})]})]})}),i.jsx("div",{role:"tabpanel",id:"edit-details-panel-categories","aria-labelledby":"edit-details-tab-categories",className:`${ae.editDetailsTabPanel} ${P==="categories"?ae.editDetailsTabPanelActive:""}`,children:i.jsxs("div",{className:ae.tabPanelFields,children:[i.jsxs("label",{className:ae.label,children:["Primary Category",i.jsx("input",{type:"text",value:c.category_primary??"",onChange:O=>{const $=O.target.value;p(K=>({...K,category_primary:$,...$.trim()?{}:{category_secondary:null}}))},className:ae.input,placeholder:"e.g. Technology"})]}),i.jsxs("label",{className:ae.label,children:["Secondary Category",i.jsx("input",{type:"text",value:c.category_secondary??"",onChange:O=>p($=>({...$,category_secondary:($.category_primary??"").trim()&&O.target.value||null})),className:ae.input,placeholder:"e.g. Technology News",disabled:!(c.category_primary??"").trim()}),i.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",margin:"0.25rem 0 0 0"},children:"Optional subcategory (e.g. Technology News under Technology)"})]}),i.jsxs("label",{className:ae.label,children:["Primary Category 2",i.jsx("input",{type:"text",value:c.category_primary_two??"",onChange:O=>{const $=O.target.value||null;p(K=>({...K,category_primary_two:$,...($??"").trim()?{}:{category_secondary_two:null}}))},className:ae.input,placeholder:"e.g. Arts"})]}),i.jsxs("label",{className:ae.label,children:["Secondary Category 2",i.jsx("input",{type:"text",value:c.category_secondary_two??"",onChange:O=>p($=>({...$,category_secondary_two:($.category_primary_two??"").trim()&&O.target.value||null})),className:ae.input,placeholder:"e.g. Visual Arts",disabled:!(c.category_primary_two??"").trim()})]}),i.jsxs("label",{className:ae.label,children:["Primary Category 3",i.jsx("input",{type:"text",value:c.category_primary_three??"",onChange:O=>{const $=O.target.value||null;p(K=>({...K,category_primary_three:$,...($??"").trim()?{}:{category_secondary_three:null}}))},className:ae.input,placeholder:"e.g. Leisure"})]}),i.jsxs("label",{className:ae.label,children:["Secondary Category 3",i.jsx("input",{type:"text",value:c.category_secondary_three??"",onChange:O=>p($=>({...$,category_secondary_three:($.category_primary_three??"").trim()&&O.target.value||null})),className:ae.input,placeholder:"e.g. Hobbies",disabled:!(c.category_primary_three??"").trim()})]})]})}),i.jsx("div",{role:"tabpanel",id:"edit-details-panel-distribution","aria-labelledby":"edit-details-tab-distribution",className:`${ae.editDetailsTabPanel} ${P==="distribution"?ae.editDetailsTabPanelActive:""}`,children:i.jsxs("div",{className:ae.tabPanelFields,children:[i.jsxs("label",{className:ae.label,children:["Site URL",i.jsx("input",{type:"url",value:c.site_url??"",onChange:O=>p($=>({...$,site_url:O.target.value||null})),className:ae.input,placeholder:"e.g. https://myshow.com"})]}),i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:!!c.explicit,onChange:O=>p($=>({...$,explicit:O.target.checked?1:0}))}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Explicit"})]}),i.jsxs("label",{className:ae.label,children:["Copyright",i.jsx("input",{type:"text",value:c.copyright??"",onChange:O=>p($=>({...$,copyright:O.target.value||null})),className:ae.input,placeholder:"e.g. Copyright 2026"})]}),i.jsxs("label",{className:ae.label,children:["License",i.jsx("input",{type:"text",value:c.license??"",onChange:O=>p($=>({...$,license:O.target.value||null})),className:ae.input,placeholder:"e.g. All rights reserved"})]}),(o==null?void 0:o.my_role)==="owner"&&o.dns_config&&(o.dns_config.allow_linking_domain||o.dns_config.allow_domain||o.dns_config.allow_sub_domain&&!!o.dns_config.default_domain)&&i.jsxs(i.Fragment,{children:[i.jsx("h3",{className:ae.dialogSectionTitle,children:"DNS & Custom Domain"}),o.dns_config.allow_linking_domain&&i.jsxs("label",{className:ae.label,children:["Link Domain",i.jsx("input",{type:"text",value:c.link_domain??"",onChange:O=>{const $=O.target.value.trim()||null;p(K=>({...K,link_domain:$})),N&&$&&!$.toLowerCase().startsWith("http://")&&!$.toLowerCase().startsWith("https://")&&A(null)},onBlur:()=>{const O=(c.link_domain??"").trim();O&&(O.toLowerCase().startsWith("http://")||O.toLowerCase().startsWith("https://"))&&A("Use hostname only (no http:// or https://).")},className:ae.input,placeholder:"e.g. feed.myshow.com","aria-invalid":!!N,"aria-describedby":N?"link-domain-error":void 0}),N?i.jsx("p",{id:"link-domain-error",style:{fontSize:"0.75rem",color:"var(--error)",marginTop:"0.25rem",marginLeft:"0"},role:"alert",children:N}):i.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginTop:"0.25rem",marginLeft:"0"},children:"Hostname only (no https://). Requests to this host redirect to your public feed."})]}),o.dns_config.allow_domain&&i.jsxs("label",{className:ae.label,children:["Managed Domain",(B=o.dns_config.allow_domains)!=null&&B.length?i.jsxs("select",{value:c.managed_domain??"",onChange:O=>p($=>({...$,managed_domain:O.target.value||null})),className:ae.input,children:[i.jsx("option",{value:"",children:"-"}),o.dns_config.allow_domains.map(O=>i.jsx("option",{value:O,children:O},O))]}):i.jsx("input",{type:"text",value:c.managed_domain??"",onChange:O=>p($=>({...$,managed_domain:O.target.value.trim()||null})),className:ae.input,placeholder:"e.g. example.com"})]}),o.dns_config.allow_domain&&o.dns_config.allow_custom_key&&i.jsxs("label",{className:ae.label,children:["CloudFlare API Key (Optional)",i.jsx("input",{type:"password",value:c.cloudflare_api_key??"",onChange:O=>p($=>({...$,cloudflare_api_key:O.target.value||void 0})),className:ae.input,placeholder:c.cloudflare_api_key_set?"(leave blank to keep current)":"Enter API token",autoComplete:"off"})]}),o.dns_config.allow_sub_domain&&o.dns_config.default_domain&&i.jsxs("label",{className:ae.label,children:["Managed Sub-Domain",i.jsx("input",{type:"text",value:c.managed_sub_domain??"",onChange:O=>{const $=O.target.value.replace(/[^a-zA-Z0-9-]/g,"").trim()||null;p(K=>({...K,managed_sub_domain:$}))},className:ae.input,placeholder:`e.g. www, myshow ( myshow.${o.dns_config.default_domain})`}),i.jsxs("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginTop:"0.25rem",marginLeft:"0"},children:["Sub-domain under ",o.dns_config.default_domain,". Letters, numbers, and hyphens only."]})]})]})]})}),i.jsx("div",{role:"tabpanel",id:"edit-details-panel-more","aria-labelledby":"edit-details-tab-more",className:`${ae.editDetailsTabPanel} ${P==="more"?ae.editDetailsTabPanelActive:""}`,children:i.jsxs("div",{id:"edit-show-advanced-fields",className:ae.advancedFields,children:[i.jsxs("label",{className:ae.label,children:["Podcast GUID",i.jsx("input",{type:"text",value:c.podcast_guid??"",onChange:O=>p($=>({...$,podcast_guid:O.target.value||null})),className:ae.input,placeholder:"Leave blank to auto-generate"}),i.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",margin:"0.25rem 0 0 0"},children:"Unique identifier for your podcast feed. Only change if you need to keep an existing ID."})]}),i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:!!c.locked,onChange:O=>p($=>({...$,locked:O.target.checked?1:0}))}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Locked (Prevent Other Platforms From Importing)"})]}),i.jsxs("label",{className:ae.label,children:["Episode order",i.jsx("div",{className:ae.statusToggle,role:"group","aria-label":"Episode order",children:["episodic","serial"].map(O=>i.jsx("button",{type:"button",className:(c.itunes_type??"episodic")===O?ae.statusToggleActive:ae.statusToggleBtn,onClick:()=>p($=>({...$,itunes_type:O})),"aria-pressed":(c.itunes_type??"episodic")===O,"aria-label":O==="episodic"?"Episodic":"Serial",children:O==="episodic"?"Episodic":"Serial"},O))}),i.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",margin:"0.25rem 0 0 0"},children:"Episodic: episodes can be listened to in any order. Serial: episodes should be listened to in order."})]}),i.jsxs("label",{className:ae.label,children:["Medium",i.jsxs("select",{value:c.medium??"podcast",onChange:O=>p($=>({...$,medium:O.target.value})),className:ae.input,children:[i.jsx("option",{value:"podcast",children:"Podcast"}),i.jsx("option",{value:"music",children:"Music"}),i.jsx("option",{value:"video",children:"Video"}),i.jsx("option",{value:"film",children:"Film"}),i.jsx("option",{value:"audiobook",children:"Audiobook"}),i.jsx("option",{value:"newsletter",children:"Newsletter"}),i.jsx("option",{value:"blog",children:"Blog"})]})]}),i.jsxs("label",{className:ae.label,children:["Funding URL",i.jsx("input",{type:"url",value:c.funding_url??"",onChange:O=>p($=>({...$,funding_url:O.target.value.trim()||null})),className:ae.input,placeholder:"e.g. https://patreon.com/myshow"})]}),i.jsxs("label",{className:ae.label,children:["Funding Label",i.jsx("input",{type:"text",value:c.funding_label??"",onChange:O=>p($=>({...$,funding_label:O.target.value.trim()||null})),className:ae.input,placeholder:"e.g. Support the show"})]}),i.jsxs("label",{className:ae.label,children:["Hosts and contributors",i.jsx("input",{type:"text",value:(()=>{try{const O=c.persons;if(!O)return"";const $=JSON.parse(O);return Array.isArray($)?$.map(K=>String(K)).join(", "):O}catch{return c.persons??""}})(),onChange:O=>{const $=O.target.value.trim();if(!$){p(V=>({...V,persons:null}));return}const K=$.split(",").map(V=>V.trim()).filter(Boolean);p(V=>({...V,persons:K.length?JSON.stringify(K):null}))},className:ae.input,placeholder:"e.g. Jane Smith, John Doe"})]}),i.jsxs("label",{className:ae.label,children:["Update schedule (Spotify)",i.jsx("input",{type:"text",value:c.update_frequency_rrule??"",onChange:O=>p($=>({...$,update_frequency_rrule:O.target.value.trim()||null})),className:ae.input,placeholder:"e.g. FREQ=WEEKLY or FREQ=DAILY"})]}),i.jsxs("label",{className:ae.label,children:["Update schedule label (Spotify)",i.jsx("input",{type:"text",value:c.update_frequency_label??"",onChange:O=>p($=>({...$,update_frequency_label:O.target.value.trim()||null})),className:ae.input,placeholder:"e.g. Weekly or Daily"})]}),i.jsxs("label",{className:ae.label,children:["Spotify Recent Count",i.jsx("input",{type:"number",min:0,value:c.spotify_recent_count??"",onChange:O=>{const $=O.target.value,K=$===""?null:parseInt($,10);p(V=>({...V,spotify_recent_count:K!=null&&!Number.isNaN(K)&&K>=0?K:null}))},className:ae.input,placeholder:"e.g. 150"})]}),i.jsxs("label",{className:ae.label,children:["Spotify country of origin",i.jsx("input",{type:"text",value:c.spotify_country_of_origin??"",onChange:O=>p($=>({...$,spotify_country_of_origin:O.target.value.trim()||null})),className:ae.input,placeholder:"e.g. US"})]}),i.jsxs("label",{className:ae.label,children:["Apple Podcasts verification code",i.jsx("input",{type:"text",value:c.apple_podcasts_verify??"",onChange:O=>p($=>({...$,apple_podcasts_verify:O.target.value.trim()||null})),className:ae.input,placeholder:"From Apple Podcasts Connect"})]})]})}),I.isError&&i.jsx("p",{className:ae.error,children:I.error instanceof Error?I.error.message:JSON.stringify(I.error)}),I.isSuccess&&i.jsx("p",{className:ae.success,children:"Saved."})]}):null}),o&&i.jsxs("div",{className:`${ae.dialogFooter} ${ae.dialogFooterCancelLeft}`,children:[i.jsx("button",{type:"button",className:ae.cancel,onClick:r,"aria-label":"Cancel editing show",children:"Cancel"}),i.jsx("button",{type:"submit",form:"edit-show-details-form",className:ae.dialogConfirm,disabled:I.isPending||q.isPending,"aria-label":"Save show changes",children:q.isPending?"Uploading...":I.isPending?"Saving...":"Save"})]})]})]})})}const wZ="_importDialogOverlay_awt3f_3",SZ="_importDialogContent_awt3f_16",jZ="_importDialogHeaderRow_awt3f_32",CZ="_importDialogTitle_awt3f_40",kZ="_importDialogClose_awt3f_50",NZ="_importDialogDescription_awt3f_76",EZ="_importDialogForm_awt3f_83",TZ="_importDialogLabel_awt3f_89",PZ="_importDialogInput_awt3f_98",AZ="_importDialogErrorCard_awt3f_122",RZ="_importDialogError_awt3f_122",OZ="_importDialogActions_awt3f_135",DZ="_importDialogSecondary_awt3f_142",MZ="_importDialogPrimary_awt3f_159",LZ="_importDialogProgress_awt3f_181",IZ="_importDialogProgressText_awt3f_189",$Z="_loadingSpinner_awt3f_195",kn={importDialogOverlay:wZ,importDialogContent:SZ,importDialogHeaderRow:jZ,importDialogTitle:CZ,importDialogClose:kZ,importDialogDescription:NZ,importDialogForm:EZ,importDialogLabel:TZ,importDialogInput:PZ,importDialogErrorCard:AZ,importDialogError:RZ,importDialogActions:OZ,importDialogSecondary:DZ,importDialogPrimary:MZ,importDialogProgress:LZ,importDialogProgressText:IZ,loadingSpinner:$Z},BZ=5e3;function zZ({open:e,initialPodcastId:t,onClose:r}){const n=Lt(),a=yi(),[o,u]=v.useState(""),[c,p]=v.useState("idle"),[h,f]=v.useState(null),[m,b]=v.useState(null),_=v.useRef(null),j=v.useRef(null);v.useEffect(()=>{if(!e){p("idle"),f(null),b(null),_.current=null,j.current&&(clearInterval(j.current),j.current=null);return}t!=null&&t.trim()&&(_.current=t.trim(),p("polling"),b("Importing"))},[e,t]),v.useEffect(()=>{if(c!=="polling"||!_.current)return;const x=()=>{lQ(_.current).then(S=>{if(b(S.message??null),S.status==="done"){j.current&&(clearInterval(j.current),j.current=null),n.invalidateQueries({queryKey:["podcasts"]}),r();const T=_.current;T&&a(`/podcasts/${T}`)}else S.status==="failed"&&(j.current&&(clearInterval(j.current),j.current=null),f(S.error??"Import failed"),p("idle"))}).catch(()=>{})};return x(),j.current=setInterval(x,BZ),()=>{j.current&&(clearInterval(j.current),j.current=null)}},[c,r,n,a]);async function w(x){x.preventDefault();const S=o.trim();if(!S){f("Enter a feed URL");return}f(null),p("submitting");try{const{podcast_id:T}=await oQ(S);_.current=T,p("polling"),b("Starting import")}catch(T){const N=T&&typeof T=="object"&&"status"in T&&T.status===409?"You already have an import in progress. Wait for it to finish or refresh the page to see its status.":T instanceof Error?T.message:"Import failed";f(N),p("idle")}}if(!e)return null;const y=c==="idle";return i.jsx(ur,{open:e,onOpenChange:x=>!x&&y&&r(),children:i.jsxs(br,{children:[i.jsx(dr,{className:kn.importDialogOverlay}),i.jsxs(fr,{className:kn.importDialogContent,children:[i.jsxs("div",{className:kn.importDialogHeaderRow,children:[i.jsx(pr,{className:kn.importDialogTitle,children:"Import Podcast"}),i.jsx(pt,{asChild:!0,children:i.jsx("button",{type:"button",className:kn.importDialogClose,"aria-label":"Close",disabled:!y,children:i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":"true"})})})]}),i.jsx(Nr,{className:kn.importDialogDescription,children:"Enter the RSS or Atom feed URL of the podcast you want to import. Episodes will be downloaded and added as a new show."}),i.jsxs("form",{onSubmit:w,className:kn.importDialogForm,children:[(y||h)&&i.jsxs(i.Fragment,{children:[i.jsxs("label",{className:kn.importDialogLabel,children:["Feed URL",i.jsx("input",{type:"url",value:o,onChange:x=>u(x.target.value),className:kn.importDialogInput,placeholder:"https://example.com/feed.xml",disabled:!y,autoFocus:!0})]}),h&&i.jsx("div",{className:kn.importDialogErrorCard,role:"alert",children:i.jsx("p",{className:kn.importDialogError,children:h})}),i.jsxs("div",{className:kn.importDialogActions,children:[i.jsx("button",{type:"button",className:kn.importDialogSecondary,onClick:r,children:"Cancel"}),i.jsx("button",{type:"submit",className:kn.importDialogPrimary,disabled:!y||!o.trim(),children:"Import"})]})]}),(c==="submitting"||c==="polling")&&!h&&i.jsxs("div",{className:kn.importDialogProgress,children:[i.jsx("div",{className:kn.loadingSpinner,"aria-hidden":"true"}),i.jsx("p",{className:kn.importDialogProgressText,children:c==="submitting"?"Importing":m??"Importing"})]})]})]})]})})}const FZ=300;function qZ(){const[e,t]=v.useState(""),[r,n]=v.useState(""),[a,o]=v.useState(!0);return v.useEffect(()=>{if(e.trim()===""){n("");return}const u=window.setTimeout(()=>{n(e.trim())},FZ);return()=>window.clearTimeout(u)},[e]),{searchQuery:e,searchDebounced:r,setSearchQuery:t,sortNewestFirst:a,setSortNewestFirst:o}}const Gh="/api";function UZ(e=1,t=50,r){const n=new URLSearchParams;return n.set("page",String(e)),n.set("limit",String(t)),r&&n.set("search",r),fetch(`${Gh}/users?${n.toString()}`,{method:"GET",credentials:"include"}).then(a=>a.ok?a.json():a.json().then(o=>{throw new Error(o.error??a.statusText)}))}function u6(e){return fetch(`${Gh}/users/${e}`,{method:"GET",credentials:"include"}).then(t=>t.ok?t.json():t.json().then(r=>{throw new Error(r.error??t.statusText)}))}function HZ(e,t){return fetch(`${Gh}/users/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json",...Jt()},credentials:"include",body:JSON.stringify(t)}).then(r=>r.ok?r.json():r.json().then(n=>{throw new Error(n.error??r.statusText)}))}function WZ(e){return fetch(`${Gh}/users`,{method:"POST",headers:{"Content-Type":"application/json",...Jt()},credentials:"include",body:JSON.stringify({email:e.email,password:e.password,role:e.role??"user"})}).then(t=>t.ok?t.json():t.json().then(r=>{throw new Error(r.error??t.statusText)}))}function KZ(e){return fetch(`${Gh}/users/${e}`,{method:"DELETE",credentials:"include",headers:Jt()}).then(t=>t.ok?t.json():t.json().then(r=>{throw new Error(r.error??t.statusText)}))}const Pc=10;function GZ({userId:e,page:t,searchDebounced:r,sortNewestFirst:n}){var f,m;const a=!!e,o=Oe({queryKey:["user",e],queryFn:()=>u6(e),enabled:!!e}),u=Oe({queryKey:["podcasts",e,t,r,n?"newest":"oldest"],queryFn:()=>e?ZY(e,{limit:Pc,offset:(t-1)*Pc,q:r||void 0,sort:n?"newest":"oldest"}):XY({limit:Pc,offset:(t-1)*Pc,q:r||void 0,sort:n?"newest":"oldest"})}),c=Oe({queryKey:["me"],queryFn:_i,enabled:!a}),p=Oe({queryKey:["publicConfig",typeof window<"u"?window.location.host:""],queryFn:cu,staleTime:1e4}),h=Oe({queryKey:["activeImport"],queryFn:cQ,enabled:!a,refetchInterval:b=>{const _=b.state.data;return(_==null?void 0:_.status)==="pending"||(_==null?void 0:_.status)==="importing"?5e3:!1},refetchIntervalInBackground:!1,gcTime:0});return{selectedUser:o.data,podcasts:((f=u.data)==null?void 0:f.podcasts)??[],total:((m=u.data)==null?void 0:m.total)??0,isLoading:u.isLoading,isFetching:u.isFetching,isError:u.isError,meData:c.data,publicConfig:p.data,activeImport:h.data,podcastsData:u.data}}const VZ="_header_b1sx8_2",YZ="_headerLeft_b1sx8_11",QZ="_title_b1sx8_15",XZ="_subtitle_b1sx8_24",ZZ="_createBtn_b1sx8_31",JZ="_createBtnDisabled_b1sx8_60",Zs={header:VZ,headerLeft:YZ,title:QZ,subtitle:XZ,createBtn:ZZ,createBtnDisabled:JZ};function eJ({isAdminView:e,selectedUser:t,total:r,readOnly:n,atPodcastLimit:a}){return i.jsxs("header",{className:Zs.header,children:[i.jsxs("div",{className:Zs.headerLeft,children:[i.jsx("h1",{className:Zs.title,children:e?`Podcasts (${(t==null?void 0:t.email)??"Loading..."})`:"Your shows"}),i.jsx("p",{className:Zs.subtitle,children:r!=null&&r>0?`${r} show${r===1?"":"s"}  Manage and publish episodes`:"Manage your shows and publish episodes"})]}),!e&&(n?i.jsxs("span",{className:`${Zs.createBtn} ${Zs.createBtnDisabled}`,title:"Read-only account",children:[i.jsx(Yr,{size:18,strokeWidth:2.5}),"New Show"]}):a?i.jsxs("span",{className:`${Zs.createBtn} ${Zs.createBtnDisabled}`,title:"You're at max shows",children:[i.jsx(Yr,{size:18,strokeWidth:2.5}),"New Show"]}):i.jsxs(Ye,{to:"/podcasts/new",className:Zs.createBtn,children:[i.jsx(Yr,{size:18,strokeWidth:2.5}),"New Show"]}))]})}const tJ="_controls_19274_2",rJ="_searchWrapper_19274_9",nJ="_searchIcon_19274_15",aJ="_searchInput_19274_24",iJ="_sortToggle_19274_45",sJ="_sortBtn_19274_53",oJ="_sortBtnActive_19274_54",Js={controls:tJ,searchWrapper:rJ,searchIcon:nJ,searchInput:aJ,sortToggle:iJ,sortBtn:sJ,sortBtnActive:oJ};function lJ({searchQuery:e,onSearchChange:t,sortNewestFirst:r,onSortChange:n}){return i.jsxs("div",{className:Js.controls,children:[i.jsxs("div",{className:Js.searchWrapper,children:[i.jsx(Pj,{className:Js.searchIcon,size:18,strokeWidth:2,"aria-hidden":!0}),i.jsx("input",{type:"search",className:Js.searchInput,placeholder:"Search by title, author, or description...",value:e,onChange:a=>t(a.target.value),"aria-label":"Search podcasts"})]}),i.jsxs("div",{className:Js.sortToggle,role:"group","aria-label":"Sort order",children:[i.jsxs("button",{type:"button",className:r?Js.sortBtnActive:Js.sortBtn,"aria-label":"Sort newest first",onClick:()=>n(!0),children:[i.jsx(Vd,{size:16,strokeWidth:2,"aria-hidden":!0}),"Newest"]}),i.jsxs("button",{type:"button",className:r?Js.sortBtn:Js.sortBtnActive,"aria-label":"Sort oldest first",onClick:()=>n(!1),children:[i.jsx(Yd,{size:16,strokeWidth:2,"aria-hidden":!0}),"Oldest"]})]})]})}function gb(e){return`/api/public/podcasts/${encodeURIComponent(e)}/rss`}function cJ(e,t){const n=new URLSearchParams().toString();return`/api/podcasts/${encodeURIComponent(e)}/rss-preview${n?`?${n}`:""}`}function uJ(e,t){return e?!1:t==="owner"||t==="manager"}const dJ="_card_1fzr6_2",fJ="_cardSubscriberOnly_1fzr6_12",pJ="_cardLink_1fzr6_25",hJ="_cardArtworkWrapper_1fzr6_41",mJ="_cardArtwork_1fzr6_41",gJ="_cardArtworkPlaceholder_1fzr6_56",vJ="_cardBody_1fzr6_66",yJ="_cardTitleRow_1fzr6_74",bJ="_cardTitleLock_1fzr6_81",_J="_cardTitleLockGold_1fzr6_86",xJ="_cardTitle_1fzr6_74",wJ="_cardSlug_1fzr6_107",SJ="_sharedBadge_1fzr6_119",jJ="_cardDesc_1fzr6_131",CJ="_cardArrow_1fzr6_142",kJ="_cardFooter_1fzr6_162",NJ="_cardActions_1fzr6_172",EJ="_cardSettings_1fzr6_181",TJ="_cardAction_1fzr6_172",PJ="_cardActionPrimary_1fzr6_183",AJ="_cardActionLabel_1fzr6_198",RJ="_cardActionPrimaryDisabled_1fzr6_262",OJ="_cardActionDisabled_1fzr6_273",ft={card:dJ,cardSubscriberOnly:fJ,cardLink:pJ,cardArtworkWrapper:hJ,cardArtwork:mJ,cardArtworkPlaceholder:gJ,cardBody:vJ,cardTitleRow:yJ,cardTitleLock:bJ,cardTitleLockGold:_J,cardTitle:xJ,cardSlug:wJ,sharedBadge:SJ,cardDesc:jJ,cardArrow:CJ,cardFooter:kJ,cardActions:NJ,cardSettings:EJ,cardAction:TJ,cardActionPrimary:PJ,cardActionLabel:AJ,cardActionPrimaryDisabled:RJ,cardActionDisabled:OJ};function DJ({podcast:e,isAdminView:t,readOnly:r,publicFeedsEnabled:n,onEditClick:a}){const o=e.my_role,u=uJ(r,o),c=e.max_episodes??null,p=Number(e.episode_count??0),h=c!=null&&c>0&&p>=Number(c);return i.jsxs("article",{className:e.public_feed_disabled===1?`${ft.card} ${ft.cardSubscriberOnly}`:ft.card,children:[i.jsxs(Ye,{to:`/podcasts/${e.id}`,className:ft.cardLink,children:[i.jsx("div",{className:ft.cardArtworkWrapper,children:e.artwork_url||e.artwork_filename?i.jsx("img",{src:e.artwork_url??(e.artwork_filename?`/api/podcasts/${e.id}/artwork/${encodeURIComponent(e.artwork_filename)}`:""),alt:"",className:ft.cardArtwork}):i.jsx("div",{className:ft.cardArtworkPlaceholder,children:i.jsx(ab,{size:32,strokeWidth:1.5})})}),i.jsxs("div",{className:ft.cardBody,children:[i.jsxs("div",{className:ft.cardTitleRow,children:[e.subscriber_only_feed_enabled===1&&i.jsx(Ps,{size:18,strokeWidth:2,className:e.public_feed_disabled===1?`${ft.cardTitleLock} ${ft.cardTitleLockGold}`:ft.cardTitleLock,"aria-hidden":!0}),i.jsx("h2",{className:ft.cardTitle,children:e.title})]}),i.jsxs("p",{className:ft.cardSlug,children:[e.slug,e.is_shared&&i.jsx("span",{className:ft.sharedBadge,title:"Shared with you",children:"Shared"})]}),e.description&&i.jsxs("p",{className:ft.cardDesc,children:[e.description.slice(0,120),e.description.length>120?"...":""]})]}),i.jsx("span",{className:ft.cardArrow,children:i.jsx(UM,{size:18,strokeWidth:2,"aria-hidden":"true"})})]}),i.jsx("div",{className:ft.cardFooter,children:i.jsxs("div",{className:ft.cardActions,children:[n?i.jsxs(Ye,{to:`/feed/${e.slug}`,className:ft.cardAction,"aria-label":`RSS feed for ${e.title}`,children:[i.jsx(Ss,{size:16,strokeWidth:2,"aria-hidden":!0}),i.jsx("span",{className:ft.cardActionLabel,children:"Feed"})]}):i.jsxs("a",{href:gb(e.slug),className:ft.cardAction,"aria-label":`RSS feed XML for ${e.title}`,children:[i.jsx(Ss,{size:16,strokeWidth:2,"aria-hidden":!0}),i.jsx("span",{className:ft.cardActionLabel,children:"Feed"})]}),!t&&i.jsx(i.Fragment,{children:u?i.jsxs("button",{type:"button",className:ft.cardSettings,"aria-label":`Edit show settings for ${e.title}`,onClick:f=>{f.preventDefault(),a(e.id)},children:[i.jsx(Yv,{size:16,strokeWidth:2,"aria-hidden":!0}),i.jsx("span",{className:ft.cardActionLabel,children:"Settings"})]}):i.jsxs("span",{className:`${ft.cardAction} ${ft.cardActionDisabled}`,title:o&&o!=="owner"&&o!=="manager"?"Only managers and the owner can edit show settings":"Read-only account",children:[i.jsx(Yv,{size:16,strokeWidth:2,"aria-hidden":!0}),i.jsx("span",{className:ft.cardActionLabel,children:"Settings"})]})}),i.jsxs(Ye,{to:`/podcasts/${e.id}/episodes`,className:ft.cardAction,"aria-label":`Episodes for ${e.title}`,children:[i.jsx(GM,{size:16,strokeWidth:2,"aria-hidden":!0}),i.jsx("span",{className:ft.cardActionLabel,children:"Episodes"})]}),!t&&i.jsx(i.Fragment,{children:r?i.jsxs("span",{className:`${ft.cardActionPrimary} ${ft.cardActionPrimaryDisabled}`,title:"Read-only account",children:[i.jsx(Bg,{size:16,strokeWidth:2,"aria-hidden":!0}),i.jsx("span",{className:ft.cardActionLabel,children:"New Episode"})]}):!o||o!=="owner"&&o!=="manager"?i.jsxs("span",{className:`${ft.cardActionPrimary} ${ft.cardActionPrimaryDisabled}`,title:"Only managers and the owner can create episodes","aria-label":"New episode (view or editor)",children:[i.jsx(Bg,{size:16,strokeWidth:2,"aria-hidden":!0}),i.jsx("span",{className:ft.cardActionLabel,children:"New Episode"})]}):h?i.jsxs("span",{className:`${ft.cardActionPrimary} ${ft.cardActionPrimaryDisabled}`,title:"You're at max episodes for this show","aria-label":"New episode (at limit)",children:[i.jsx(Bg,{size:16,strokeWidth:2,"aria-hidden":!0}),i.jsx("span",{className:ft.cardActionLabel,children:"New Episode"})]}):i.jsxs(Ye,{to:`/podcasts/${e.id}/episodes/new`,className:ft.cardActionPrimary,"aria-label":`Create new episode for ${e.title}`,children:[i.jsx(Bg,{size:16,strokeWidth:2,"aria-hidden":!0}),i.jsx("span",{className:ft.cardActionLabel,children:"New Episode"})]})})]})})]},e.id)}const MJ="_paginationWrap_mcscc_1",LJ="_paginationMeta_mcscc_8",IJ="_pagination_mcscc_1",$J="_pageBtn_mcscc_23",BJ="_pageInfo_mcscc_45",rd={paginationWrap:MJ,paginationMeta:LJ,pagination:IJ,pageBtn:$J,pageInfo:BJ};function zJ({rangeStart:e,rangeEnd:t,total:r,searchQuery:n,page:a,totalPages:o,onPageChange:u}){return r===0?null:i.jsxs("div",{className:rd.paginationWrap,children:[i.jsxs("p",{className:rd.paginationMeta,children:["Showing ",e,"",t," of ",r," shows",n.trim()&&` matching "${n.trim()}"`]}),o>1&&i.jsxs("div",{className:rd.pagination,children:[i.jsx("button",{type:"button",className:rd.pageBtn,onClick:()=>u(Math.max(1,a-1)),disabled:a<=1,"aria-label":"Previous page",children:"Previous"}),i.jsxs("span",{className:rd.pageInfo,children:["Page ",a," of ",o]}),i.jsx("button",{type:"button",className:rd.pageBtn,onClick:()=>u(Math.min(o,a+1)),disabled:a>=o,"aria-label":"Next page",children:"Next"})]})]})}const FJ="_importCard_1tn0r_2",qJ="_importCardRow_1tn0r_28",UJ="_importCardHeader_1tn0r_36",HJ="_importCardTitle_1tn0r_41",WJ="_importCardSub_1tn0r_48",KJ="_importCardBtn_1tn0r_54",nd={importCard:FJ,importCardRow:qJ,importCardHeader:UJ,importCardTitle:HJ,importCardSub:WJ,importCardBtn:KJ};function GJ({onImportClick:e}){return i.jsx("section",{className:nd.importCard,"aria-label":"Import podcast",children:i.jsxs("div",{className:nd.importCardRow,children:[i.jsxs("div",{className:nd.importCardHeader,children:[i.jsx("h2",{className:nd.importCardTitle,children:"Import Podcast"}),i.jsx("p",{className:nd.importCardSub,children:"Add an existing show from its RSS or Atom feed. Episodes will be downloaded and added to a new show."})]}),i.jsxs("button",{type:"button",className:nd.importCardBtn,onClick:e,"aria-label":"Open import podcast dialog",children:[i.jsx(Kv,{size:20,strokeWidth:2,"aria-hidden":!0}),"Import"]})]})})}const VJ="_empty_en1x7_2",YJ="_emptyIcon_en1x7_16",QJ="_emptyTitle_en1x7_29",XJ="_emptyMessage_en1x7_36",ZJ="_emptyBtn_en1x7_44",JJ="_emptyBtnDisabled_en1x7_67",eo={empty:VJ,emptyIcon:YJ,emptyTitle:QJ,emptyMessage:XJ,emptyBtn:ZJ,emptyBtnDisabled:JJ};function eee({isAdminView:e,readOnly:t,atPodcastLimit:r}){return i.jsxs("div",{className:eo.empty,children:[i.jsx("div",{className:eo.emptyIcon,children:i.jsx(ab,{size:40,strokeWidth:1.5})}),i.jsx("h2",{className:eo.emptyTitle,children:"No podcasts yet"}),i.jsx("p",{className:eo.emptyMessage,children:"Create your first show to get started publishing episodes."}),!e&&(t?i.jsxs("span",{className:`${eo.emptyBtn} ${eo.emptyBtnDisabled}`,title:"Read-only account",children:[i.jsx(Yr,{size:18,strokeWidth:2.5}),"Create Your First Show"]}):r?i.jsxs("span",{className:`${eo.emptyBtn} ${eo.emptyBtnDisabled}`,title:"You're at max shows",children:[i.jsx(Yr,{size:18,strokeWidth:2.5}),"Create Your First Show"]}):i.jsxs(Ye,{to:"/podcasts/new",className:eo.emptyBtn,children:[i.jsx(Yr,{size:18,strokeWidth:2.5}),"Create Your First Show"]}))]})}const tee="_card_gn1aj_1",ree="_title_gn1aj_10",nee="_message_gn1aj_17",H1={card:tee,title:ree,message:nee};function ef({title:e,message:t="Please try refreshing the page."}){return i.jsxs("div",{className:H1.card,children:[i.jsx("p",{className:H1.title,children:e}),i.jsx("p",{className:H1.message,children:t})]})}const aee="_dashboard_1axsn_1",iee="_loading_1axsn_8",see="_loadingSpinner_1axsn_19",oee="_searchingIndicator_1axsn_32",lee="_searchingSpinner_1axsn_45",cee="_noMatch_1axsn_54",uee="_noMatchText_1axsn_62",dee="_grid_1axsn_69",gl={dashboard:aee,loading:iee,loadingSpinner:see,searchingIndicator:oee,searchingSpinner:lee,noMatch:cee,noMatchText:uee,grid:dee};function tA(){var U;const{userId:e}=bi(),[t,r]=v.useState(null),[n,a]=v.useState(!1),[o,u]=v.useState(null),[c,p]=v.useState(1),h=v.useRef(!1),f=!!e,{searchQuery:m,searchDebounced:b,setSearchQuery:_,sortNewestFirst:j,setSortNewestFirst:w}=qZ(),{selectedUser:y,podcasts:x,total:S,isLoading:T,isFetching:N,isError:A,meData:P,publicConfig:k,activeImport:R,podcastsData:D}=GZ({userId:e,page:c,searchDebounced:b,sortNewestFirst:j});v.useEffect(()=>{if(f)return;const X=R==null?void 0:R.status;(X==="pending"||X==="importing")&&(R!=null&&R.podcast_id)&&!h.current&&(a(!0),u(R.podcast_id))},[f,R==null?void 0:R.status,R==null?void 0:R.podcast_id]);const I=(k==null?void 0:k.public_feeds_enabled)!==!1,q=((U=P==null?void 0:P.user)==null?void 0:U.max_podcasts)??null,z=(P==null?void 0:P.podcast_count)??0,M=!f&&q!=null&&q>0&&z>=q,F=As(X=>X.user),B=!f&&ou((P==null?void 0:P.user)??F),O=Math.max(1,Math.ceil(S/Pc)),$=Math.max(1,Math.min(c,O)),K=S===0?0:($-1)*Pc+1,V=($-1)*Pc+x.length,Q=!f&&!B&&!M;return v.useEffect(()=>{window.scrollTo(0,0)},[c]),v.useEffect(()=>{p(1)},[b]),v.useEffect(()=>{D!=null&&S>0&&p(X=>X>O?Math.max(1,O):X)},[O,D,S]),i.jsxs("div",{className:gl.dashboard,children:[i.jsx(eJ,{isAdminView:f,selectedUser:y,total:S,readOnly:B,atPodcastLimit:M}),A&&i.jsx(ef,{title:"Failed to load podcasts"}),!A&&i.jsx(lJ,{searchQuery:m,onSearchChange:X=>{_(X),p(1)},sortNewestFirst:j,onSortChange:X=>{w(X),p(1)}}),T&&!D&&i.jsxs("div",{className:gl.loading,children:[i.jsx("div",{className:gl.loadingSpinner}),i.jsx("p",{children:"Loading..."})]}),N&&D&&i.jsxs("div",{className:gl.searchingIndicator,children:[i.jsx("div",{className:gl.searchingSpinner}),i.jsx("span",{children:"Searching..."})]}),!T&&!A&&x.length===0&&m.trim()&&i.jsx("div",{className:gl.noMatch,children:i.jsx("p",{className:gl.noMatchText,children:"No shows match your search."})}),!T&&!A&&x.length===0&&!m.trim()&&i.jsx(eee,{isAdminView:f,readOnly:B,atPodcastLimit:M}),!T&&!A&&(x.length>0||Q)&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:gl.grid,children:x.map(X=>i.jsx(DJ,{podcast:X,isAdminView:f,readOnly:B,publicFeedsEnabled:I,onEditClick:r},X.id))}),i.jsx(zJ,{rangeStart:K,rangeEnd:V,total:S,searchQuery:m,page:$,totalPages:O,onPageChange:p}),Q&&i.jsx(GJ,{onImportClick:()=>a(!0)})]}),t!=null&&i.jsx(c6,{open:!0,podcastId:t,onClose:()=>r(null)}),i.jsx(zZ,{open:n,initialPodcastId:o,onClose:()=>{a(!1),u(null),h.current=!0}})]})}const fee="_breadcrumb_1a7vd_2",pee="_list_1a7vd_7",hee="_item_1a7vd_19",mee="_sep_1a7vd_26",gee="_card_1a7vd_36",vee="_current_1a7vd_57",yee="_label_1a7vd_72",bee="_labelDesktop_1a7vd_73",_ee="_labelMobile_1a7vd_74",xee="_labelDual_1a7vd_83",wee="_itemHideOnMobile_1a7vd_125",Aa={breadcrumb:fee,list:pee,item:hee,sep:mee,card:gee,current:vee,label:yee,labelDesktop:bee,labelMobile:_ee,labelDual:xee,itemHideOnMobile:wee};function tf({items:e}){return e.length===0?null:i.jsx("nav",{className:Aa.breadcrumb,"aria-label":"Breadcrumb",children:i.jsx("ol",{className:Aa.list,itemScope:!0,itemType:"https://schema.org/BreadcrumbList",children:e.map((t,r)=>{const n=r===e.length-1,a=t.mobileLabel!=null?i.jsxs("span",{itemProp:"name",className:Aa.labelDual,children:[i.jsx("span",{className:Aa.labelDesktop,children:t.label}),i.jsx("span",{className:Aa.labelMobile,children:t.mobileLabel})]}):i.jsx("span",{itemProp:"name",className:Aa.label,children:t.label});return i.jsxs("li",{className:t.hideOnMobile?`${Aa.item} ${Aa.itemHideOnMobile}`:Aa.item,itemProp:"itemListElement",itemScope:!0,itemType:"https://schema.org/ListItem",children:[r>0&&i.jsx("span",{className:Aa.sep,"aria-hidden":!0,children:i.jsx(Qd,{size:14,strokeWidth:2.5})}),!n&&t.href?i.jsx(Ye,{to:t.href,className:Aa.card,itemProp:"item",children:a}):i.jsx("span",{className:`${Aa.card} ${Aa.current}`,"aria-current":"page",children:a}),i.jsx("meta",{itemProp:"position",content:String(r+1)})]},r)})})})}const See="_page_ievhn_1",jee="_hero_ievhn_6",Cee="_heroTitle_ievhn_10",kee="_heroTitleAccent_ievhn_19",Nee="_heroSub_ievhn_25",Eee="_card_ievhn_32",Tee="_form_ievhn_40",Pee="_label_ievhn_46",Aee="_labelHint_ievhn_55",Ree="_input_ievhn_61",Oee="_textarea_ievhn_62",Dee="_slugInput_ievhn_90",Mee="_error_ievhn_102",Lee="_actions_ievhn_112",Iee="_cancel_ievhn_121",$ee="_submit_ievhn_122",kt={page:See,hero:jee,heroTitle:Cee,heroTitleAccent:kee,heroSub:Nee,card:Eee,form:Tee,label:Pee,labelHint:Aee,input:Ree,textarea:Oee,slugInput:Dee,error:Mee,actions:Lee,cancel:Iee,submit:$ee};function W1(e){return e.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"").replace(/-+/g,"-").replace(/^-|-$/g,"")}function Bee(){var x,S;const[e,t]=v.useState(""),[r,n]=v.useState(""),[a,o]=v.useState(""),u=v.useRef(null);pi(u,a,{minHeight:80});const c=yi(),p=Lt(),{data:h}=Oe({queryKey:["me"],queryFn:_i}),f=((x=h==null?void 0:h.user)==null?void 0:x.max_podcasts)??null,m=(h==null?void 0:h.podcast_count)??0,b=f!=null&&f>0&&m>=f,_=ou(h==null?void 0:h.user);v.useEffect(()=>{_&&c("/",{replace:!0})},[_,c]);const j=Ue({mutationFn:()=>eQ({title:e||"Untitled",slug:r||W1(e||"")||"podcast",description:a||void 0}),onSuccess:T=>{p.invalidateQueries({queryKey:["podcasts"]}),p.invalidateQueries({queryKey:["me"]}),c(`/podcasts/${T.id}`)}});function w(T){const N=T.target.value;t(N),(!r||r===W1(e))&&n(W1(N))}function y(T){T.preventDefault(),j.mutate()}return i.jsxs("div",{className:kt.page,children:[i.jsx(tf,{items:[{label:"Home",href:"/"},{label:"New Show"}]}),i.jsxs("header",{className:kt.hero,children:[i.jsxs("h1",{className:kt.heroTitle,children:["New Show",i.jsx("span",{className:kt.heroTitleAccent,children:"Create A Podcast"})]}),i.jsx("p",{className:kt.heroSub,children:"Give your show a name and a URL-friendly slug. You can add artwork and more details later."})]}),i.jsx("div",{className:kt.card,children:i.jsxs("form",{onSubmit:y,className:kt.form,children:[i.jsxs("label",{className:kt.label,children:["Title",i.jsx("input",{type:"text",value:e,onChange:w,className:kt.input,placeholder:"e.g. My Podcast",required:!0})]}),i.jsxs("label",{className:kt.label,children:["Slug",i.jsx("span",{className:kt.labelHint,children:"Used in URLs and feed - lowercase, hyphens only"}),i.jsx("input",{type:"text",value:r,onChange:T=>n(T.target.value),className:`${kt.input} ${kt.slugInput}`,placeholder:"my-podcast"})]}),i.jsxs("label",{className:kt.label,children:["Description",i.jsx("textarea",{ref:u,value:a,onChange:T=>o(T.target.value),className:kt.textarea,rows:2,style:{overflow:"hidden",resize:"none"},placeholder:"What's your show about? (optional)"})]}),b&&i.jsxs("p",{className:kt.error,role:"alert",children:["You have reached your limit of ",f," show",f===1?"":"s",". You cannot create more."]}),j.isError&&i.jsx("p",{className:kt.error,role:"alert",children:(S=j.error)==null?void 0:S.message}),i.jsxs("div",{className:kt.actions,children:[i.jsxs("button",{type:"button",className:kt.cancel,onClick:()=>c(-1),"aria-label":"Cancel creating show",children:[i.jsx(qM,{size:18,strokeWidth:2,"aria-hidden":!0}),"Cancel"]}),i.jsxs("button",{type:"submit",className:kt.submit,disabled:j.isPending||b,"aria-label":"Create show",children:[i.jsx(Yr,{size:18,strokeWidth:2.5,"aria-hidden":!0}),j.isPending?"Creating...":"Create Show"]})]})]})})]})}const Gg=[{key:"apple_podcasts_url",label:"Apple Podcasts"},{key:"spotify_url",label:"Spotify"},{key:"amazon_music_url",label:"Amazon Music"},{key:"podcast_index_url",label:"Podcast Index"},{key:"listen_notes_url",label:"Listen Notes"},{key:"castbox_url",label:"Castbox"},{key:"x_url",label:"X"},{key:"facebook_url",label:"Facebook"},{key:"instagram_url",label:"Instagram"},{key:"tiktok_url",label:"TikTok"},{key:"youtube_url",label:"YouTube"}];function zee({open:e,podcastId:t,onClose:r}){const n=Lt(),{data:a,isLoading:o}=Oe({queryKey:["podcast",t],queryFn:()=>fu(t),enabled:e&&!!t}),[u,c]=v.useState({});v.useEffect(()=>{if(e&&a){const f={};for(const{key:m}of Gg)f[m]=a[m]??null;c(f)}},[e,a]);const p=Ue({mutationFn:f=>Jj(t,f),onSuccess:()=>{n.invalidateQueries({queryKey:["podcast",t]}),n.invalidateQueries({queryKey:["podcasts"]}),n.invalidateQueries({queryKey:["public-podcast"]}),r()}});function h(f){f.preventDefault();const m={};for(const{key:b}of Gg){const _=u[b];m[b]=((_==null?void 0:_.trim())||null)??null}p.mutate(m)}return!e||!t?null:i.jsx(ur,{open:e,onOpenChange:f=>!f&&r(),children:i.jsxs(br,{children:[i.jsx(dr,{className:ae.dialogOverlay}),i.jsxs(fr,{className:`${ae.dialogContent} ${ae.dialogContentWide} ${ae.dialogContentScrollable}`,children:[i.jsxs("div",{className:ae.dialogHeaderRow,children:[i.jsx(pr,{className:ae.dialogTitle,children:"Edit Links"}),i.jsx(pt,{asChild:!0,children:i.jsx("button",{type:"button",className:ae.dialogClose,"aria-label":"Close",disabled:p.isPending,children:i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":"true"})})})]}),i.jsx(Nr,{className:ae.dialogDescription,children:"Add links to your podcast on listening platforms and social media. Leave blank to hide."}),i.jsx("div",{className:ae.dialogBodyScroll,children:o&&!a?i.jsx("p",{style:{padding:"1.5rem",color:"var(--text-muted)",margin:0},children:"Loading..."}):i.jsxs("form",{id:"edit-social-links-form",onSubmit:h,className:ae.form,children:[i.jsx("h3",{className:ae.dialogSectionTitle,children:"Listen on"}),Gg.slice(0,6).map(({key:f,label:m})=>i.jsxs("label",{className:ae.label,children:[m,i.jsx("input",{type:"url",value:u[f]??"",onChange:b=>c(_=>({..._,[f]:b.target.value})),className:ae.input,placeholder:"https://..."})]},f)),i.jsx("h3",{className:ae.dialogSectionTitle,style:{marginTop:"1.5rem"},children:"Follow"}),Gg.slice(6).map(({key:f,label:m})=>i.jsxs("label",{className:ae.label,children:[m,i.jsx("input",{type:"url",value:u[f]??"",onChange:b=>c(_=>({..._,[f]:b.target.value})),className:ae.input,placeholder:"https://..."})]},f))]})}),a&&i.jsxs("div",{className:ae.dialogFooter,children:[i.jsx("button",{type:"button",className:ae.cancel,onClick:r,disabled:p.isPending,"aria-label":"Cancel",children:"Cancel"}),i.jsx("button",{type:"submit",form:"edit-social-links-form",className:ae.submit,disabled:p.isPending,"aria-label":"Save links",children:p.isPending?"Saving":"Save"})]})]})]})})}const Fee="_podcastHero_1kvz3_4",qee="_podcastHeroArtwork_1kvz3_11",Uee="_podcastHeroMain_1kvz3_21",Hee="_podcastHeroTitleRow_1kvz3_31",Wee="_podcastHeroTitleRowCentered_1kvz3_41",Kee="_podcastHeroTitleLock_1kvz3_47",Gee="_podcastHeroTitleLockGold_1kvz3_52",Vee="_cardTitle_1kvz3_56",Yee="_podcastHeroDescription_1kvz3_61",Qee="_cardHeaderActions_1kvz3_66",Xee="_cardHeader_1kvz3_66",Zee="_cardSettings_1kvz3_100",Jee="_cardHeaderPrimary_1kvz3_125",ete="_cardHeaderSecondary_1kvz3_155",tte="_podcastDetails_1kvz3_184",rte="_podcastDetailsTitle_1kvz3_190",nte="_podcastDetailsGrid_1kvz3_199",ate="_podcastDetailsItem_1kvz3_206",ite="_podcastDetailsTerm_1kvz3_212",ste="_podcastDetailsValue_1kvz3_221",ote="_podcastDetailsLink_1kvz3_238",lte="_podcastDetailsActionLink_1kvz3_246",cte="_podcastDetailsActionLinkDisabled_1kvz3_271",ute="_rssSectionSub_1kvz3_284",dte="_rssHeader_1kvz3_288",fte="_rssTitle_1kvz3_297",pte="_sectionTitle_1kvz3_304",hte="_rssActions_1kvz3_309",mte="_rssBtn_1kvz3_316",gte="_rssUrlRow_1kvz3_338",vte="_rssUrlLabel_1kvz3_346",yte="_rssUrl_1kvz3_338",eC={podcastHero:Fee,podcastHeroArtwork:qee,podcastHeroMain:Uee,podcastHeroTitleRow:Hee,podcastHeroTitleRowCentered:Wee,podcastHeroTitleLock:Kee,podcastHeroTitleLockGold:Gee,cardTitle:Vee,podcastHeroDescription:Yee,cardHeaderActions:Qee,cardHeader:Xee,cardSettings:Zee,cardHeaderPrimary:Jee,cardHeaderSecondary:ete,podcastDetails:tte,podcastDetailsTitle:rte,podcastDetailsGrid:nte,podcastDetailsItem:ate,podcastDetailsTerm:ite,podcastDetailsValue:ste,podcastDetailsLink:ote,podcastDetailsActionLink:lte,podcastDetailsActionLinkDisabled:cte,rssSectionSub:ute,rssHeader:dte,rssTitle:fte,sectionTitle:pte,rssActions:hte,rssBtn:mte,rssUrlRow:gte,rssUrlLabel:vte,rssUrl:yte},Rn={...ae,...eC};function bte({podcast:e,readOnly:t,canManageShow:r,onEditClick:n,onLinksClick:a,centerTitle:o}){return i.jsxs("div",{className:Rn.podcastHero,children:[(e.artwork_url||e.artwork_filename)&&i.jsx("img",{src:e.artwork_url??(e.artwork_filename?`/api/podcasts/${e.id}/artwork/${encodeURIComponent(e.artwork_filename)}`:""),alt:"",className:Rn.podcastHeroArtwork}),i.jsxs("div",{className:Rn.podcastHeroMain,children:[i.jsxs("div",{className:o?`${Rn.podcastHeroTitleRow} ${Rn.podcastHeroTitleRowCentered}`:Rn.podcastHeroTitleRow,children:[e.subscriber_only_feed_enabled===1&&i.jsx(Ps,{size:22,strokeWidth:2,className:e.public_feed_disabled===1?`${Rn.podcastHeroTitleLock} ${Rn.podcastHeroTitleLockGold}`:Rn.podcastHeroTitleLock,"aria-hidden":!0}),i.jsx("h1",{className:Rn.cardTitle,children:e.title})]}),e.description&&i.jsx("p",{className:Rn.podcastHeroDescription,children:e.description}),i.jsxs("div",{className:Rn.cardHeaderActions,children:[i.jsxs(Ye,{to:`/podcasts/${e.id}/analytics`,className:Rn.cardHeaderSecondary,children:[i.jsx(HM,{size:16,strokeWidth:2,"aria-hidden":!0}),"Analytics"]}),i.jsxs(Ye,{to:`/podcasts/${e.id}/episodes`,className:Rn.cardHeaderPrimary,children:[i.jsx(GM,{size:16,strokeWidth:2,"aria-hidden":!0}),"Episodes"]}),!t&&r&&i.jsxs(i.Fragment,{children:[i.jsx("button",{type:"button",className:Rn.cardSettings,onClick:n,"aria-label":`Edit details for ${e.title}`,children:i.jsx(Yv,{size:18,strokeWidth:2})}),a&&i.jsx("button",{type:"button",className:Rn.cardSettings,onClick:a,"aria-label":`Edit links for ${e.title}`,title:"Edit links",children:i.jsx(QF,{size:18,strokeWidth:2})})]})]})]})]})}const yt={...ae,...eC};function rA(e){return e.toLowerCase().replace(/\b\w/g,t=>t.toUpperCase())}function _te({podcast:e,publicFeedsEnabled:t}){return i.jsxs("div",{className:yt.podcastDetails,children:[i.jsx("h2",{className:yt.podcastDetailsTitle,children:"Show details"}),i.jsxs("dl",{className:yt.podcastDetailsGrid,children:[t&&i.jsxs("div",{className:yt.podcastDetailsItem,children:[i.jsx("dt",{className:yt.podcastDetailsTerm,children:"Public Feed Page"}),i.jsx("dd",{className:yt.podcastDetailsValue,children:i.jsxs(Ye,{to:`/feed/${e.slug}`,className:yt.podcastDetailsActionLink,children:[i.jsx(Ss,{size:16,strokeWidth:2,"aria-hidden":!0}),"Public Feed Page"]})})]}),i.jsxs("div",{className:yt.podcastDetailsItem,children:[i.jsx("dt",{className:yt.podcastDetailsTerm,children:"Public Feed XML"}),i.jsx("dd",{className:yt.podcastDetailsValue,children:i.jsxs("a",{href:gb(e.slug),target:"_blank",rel:"noopener noreferrer",className:yt.podcastDetailsActionLink,children:[i.jsx(Ss,{size:16,strokeWidth:2,"aria-hidden":!0}),"Public Feed XML"]})})]}),e.site_url&&i.jsxs("div",{className:yt.podcastDetailsItem,children:[i.jsx("dt",{className:yt.podcastDetailsTerm,children:"Website"}),i.jsx("dd",{className:yt.podcastDetailsValue,children:i.jsxs("a",{href:e.site_url,target:"_blank",rel:"noopener noreferrer",className:yt.podcastDetailsActionLink,children:[i.jsx(Gv,{size:16,strokeWidth:2,"aria-hidden":!0}),"Visit website"]})})]}),e.author_name&&i.jsxs("div",{className:yt.podcastDetailsItem,children:[i.jsx("dt",{className:yt.podcastDetailsTerm,children:"Author"}),i.jsx("dd",{className:yt.podcastDetailsValue,children:e.author_name})]}),[e.category_primary,e.category_secondary,e.category_primary_two,e.category_secondary_two,e.category_primary_three,e.category_secondary_three].some(Boolean)&&i.jsxs("div",{className:yt.podcastDetailsItem,children:[i.jsx("dt",{className:yt.podcastDetailsTerm,children:"Categories"}),i.jsx("dd",{className:yt.podcastDetailsValue,children:[e.category_primary,e.category_secondary,e.category_primary_two,e.category_secondary_two,e.category_primary_three,e.category_secondary_three].filter(Boolean).join(", ")})]}),e.language&&i.jsxs("div",{className:yt.podcastDetailsItem,children:[i.jsx("dt",{className:yt.podcastDetailsTerm,children:"Language"}),i.jsx("dd",{className:yt.podcastDetailsValue,children:rA(e.language)})]}),e.medium&&i.jsxs("div",{className:yt.podcastDetailsItem,children:[i.jsx("dt",{className:yt.podcastDetailsTerm,children:"Medium"}),i.jsx("dd",{className:yt.podcastDetailsValue,children:rA(e.medium)})]}),i.jsxs("div",{className:yt.podcastDetailsItem,children:[i.jsx("dt",{className:yt.podcastDetailsTerm,children:"Type"}),i.jsx("dd",{className:yt.podcastDetailsValue,children:e.itunes_type==="serial"?"Serial":"Episodic"})]}),e.owner_name&&i.jsxs("div",{className:yt.podcastDetailsItem,children:[i.jsx("dt",{className:yt.podcastDetailsTerm,children:"Owner"}),i.jsx("dd",{className:yt.podcastDetailsValue,children:e.owner_name})]}),e.email&&i.jsxs("div",{className:yt.podcastDetailsItem,children:[i.jsx("dt",{className:yt.podcastDetailsTerm,children:"Email"}),i.jsx("dd",{className:yt.podcastDetailsValue,children:i.jsx("a",{href:`mailto:${e.email}`,className:yt.podcastDetailsLink,children:e.email})})]}),!!e.explicit&&i.jsxs("div",{className:yt.podcastDetailsItem,children:[i.jsx("dt",{className:yt.podcastDetailsTerm,children:"Explicit"}),i.jsx("dd",{className:yt.podcastDetailsValue,children:"Yes"})]})]})]})}const to={...ae,...eC};function xte({podcast:e}){return i.jsxs("div",{className:to.card,children:[i.jsxs("div",{className:to.rssHeader,children:[i.jsxs("div",{className:to.rssTitle,children:[i.jsx(Ss,{size:18,strokeWidth:2,"aria-hidden":"true"}),i.jsx("h2",{className:to.sectionTitle,children:"RSS Feed"})]}),i.jsxs("div",{className:to.rssActions,children:[i.jsxs("a",{href:`https://podba.se/validate/?url=${encodeURIComponent(`${window.location.origin}${gb(e.slug)}`)}`,target:"_blank",rel:"noopener noreferrer",className:to.rssBtn,children:[i.jsx(Gv,{size:16,strokeWidth:2,"aria-hidden":"true"}),"Validate Public Feed"]}),i.jsxs("a",{href:cJ(e.id),target:"_blank",rel:"noopener noreferrer",className:to.rssBtn,children:[i.jsx(Gv,{size:16,strokeWidth:2,"aria-hidden":"true"}),"Preview Feed XML"]})]})]}),i.jsx("p",{className:`${to.pdCardSectionSub} ${to.rssSectionSub}`,children:"The feed updates automatically when you save show details or create/update episodes. With an export destination you can deploy your feed and media to storage (S3, FTP, SFTP, WebDAV, IPFS, or SMB)."})]})}const wte=300;function tC(e,t=wte){const[r,n]=v.useState(e);return v.useEffect(()=>{if(e===""||e===null||e===void 0){n(e);return}const a=window.setTimeout(()=>{n(e)},t);return()=>window.clearTimeout(a)},[e,t]),r}const Ste="_castSectionHeader_9e2zu_3",jte="_castSearchWrap_9e2zu_11",Cte="_statusToggle_9e2zu_19",kte="_castSearchInput_9e2zu_27",Nte="_castPagination_9e2zu_43",Ete="_castPaginationBtn_9e2zu_51",Tte="_castPaginationLabel_9e2zu_72",Pte="_castList_9e2zu_77",Ate="_castRow_9e2zu_86",Rte="_castRowMeta_9e2zu_108",Ote="_castRowNameWrap_9e2zu_114",Dte="_castRowName_9e2zu_114",Mte="_castRowActions_9e2zu_126",Lte="_castRowEditBtn_9e2zu_130",Ite="_castRowDeleteBtn_9e2zu_135",$te="_castAvatar_9e2zu_144",Bte="_castAvatarPlaceholder_9e2zu_154",zte="_castRowHostIcon_9e2zu_176",Fte="_castEmpty_9e2zu_206",qte="_castChip_9e2zu_214",Ute="_castChipAvatar_9e2zu_225",Hte="_castChipAvatarPlaceholder_9e2zu_233",Wte="_castChipName_9e2zu_245",Kte="_castChipsWrap_9e2zu_252",Gte="_castChips_9e2zu_252",Vte="_castChipRemove_9e2zu_263",Yte="_castDialogFormWrap_9e2zu_277",Qte="_castDialogFormGroup_9e2zu_284",Xte="_castDialogFormLabel_9e2zu_288",Zte="_castDialogRequired_9e2zu_296",Jte="_castDialogFormInput_9e2zu_301",ere="_castDialogFormTextarea_9e2zu_322",tre="_castDialogFormGroupDescription_9e2zu_346",rre="_castDialogRoleToggle_9e2zu_350",nre="_castDialogRoleToggleBtn_9e2zu_358",are="_castDialogRoleToggleBtnActive_9e2zu_359",ire="_castDialogActions_9e2zu_386",sre="_castDialogFileInput_9e2zu_396",ore="_castPhotoPreview_9e2zu_425",lre="_castPhotoPreviewPlaceholder_9e2zu_434",Vh={castSectionHeader:Ste,castSearchWrap:jte,statusToggle:Cte,castSearchInput:kte,castPagination:Nte,castPaginationBtn:Ete,castPaginationLabel:Tte,castList:Pte,castRow:Ate,castRowMeta:Rte,castRowNameWrap:Ote,castRowName:Dte,castRowActions:Mte,castRowEditBtn:Lte,castRowDeleteBtn:Ite,castAvatar:$te,castAvatarPlaceholder:Bte,castRowHostIcon:zte,castEmpty:Fte,castChip:qte,castChipAvatar:Ute,castChipAvatarPlaceholder:Hte,castChipName:Wte,castChipsWrap:Kte,castChips:Gte,castChipRemove:Vte,castDialogFormWrap:Yte,castDialogFormGroup:Qte,castDialogFormLabel:Xte,castDialogRequired:Zte,castDialogFormInput:Jte,castDialogFormTextarea:ere,castDialogFormGroupDescription:tre,castDialogRoleToggle:rre,castDialogRoleToggleBtn:nre,castDialogRoleToggleBtnActive:are,castDialogActions:ire,castDialogFileInput:sre,castPhotoPreview:ore,castPhotoPreviewPlaceholder:lre},ri={...ae,...Vh};function cre(e){if(!e)return"";const t=e.trim();if(!t)return"";if(t.startsWith("/")&&!t.startsWith("//"))return t;try{const r=typeof window<"u"?window.location.origin:"https://x",n=new URL(t,r);if(["https:","http:","blob:"].includes(n.protocol.toLowerCase()))return n.href}catch{}return""}function vS({member:e,podcastId:t,photoSrc:r,variant:n="row",children:a}){const o=r??((e.photo_filename&&t?l6(t,e.id,e.photo_filename):"")||cre(e.photo_url)),u=o?i.jsx("img",{src:o,alt:"",className:n==="chip"?ri.castChipAvatar:ri.castAvatar}):i.jsx("div",{className:n==="chip"?ri.castChipAvatarPlaceholder:ri.castAvatarPlaceholder,children:i.jsx(ph,{size:n==="chip"?12:18})}),c=i.jsxs("div",{className:ri.castRowNameWrap,children:[e.role==="host"&&i.jsx("span",{className:ri.castRowHostIcon,"aria-hidden":!0,children:i.jsx(Id,{size:n==="chip"?12:14})}),i.jsx("span",{className:n==="chip"?ri.castChipName:ri.castRowName,children:e.name})]});return n==="chip"?i.jsxs("div",{className:ri.castChip,children:[u,c,a]}):i.jsxs("li",{className:ri.castRow,children:[u,i.jsx("div",{className:ri.castRowMeta,children:c}),a&&i.jsx("div",{className:ri.castRowActions,children:a})]})}const Ti={...ae,...Vh};function ure({cast:e,total:t,limit:r,offset:n,podcastId:a,canEdit:o,canDelete:u,onEdit:c,onDelete:p,onPrevPage:h,onNextPage:f,isDeleting:m}){const b=n>0,_=n+e.length<t,j=t===0?0:n+1,w=Math.min(n+r,t);return e.length===0&&t===0?i.jsx("p",{className:Ti.pdCardEmptyState,children:"No cast members yet. Add a host or guest above."}):e.length===0?i.jsx("p",{className:Ti.pdCardEmptyState,children:"No results match your search."}):i.jsxs(i.Fragment,{children:[i.jsx("ul",{className:Ti.castList,children:e.map(y=>i.jsxs(vS,{member:y,podcastId:a,children:[o(y)&&i.jsxs("button",{type:"button",className:`${Ti.cancel} ${Ti.castRowEditBtn}`,onClick:()=>c(y),"aria-label":`Edit ${y.name}`,children:[i.jsx(Tj,{size:16,"aria-hidden":!0}),"Edit"]}),u(y)&&i.jsx("button",{type:"button",className:`${Ti.exportDeleteBtn} ${Ti.castRowDeleteBtn}`,onClick:()=>p(y),disabled:m,"aria-label":`Delete ${y.name}`,children:i.jsx(Wl,{size:14})})]},y.id))}),t>r&&i.jsxs("div",{className:Ti.castPagination,children:[i.jsx("button",{type:"button",className:Ti.castPaginationBtn,onClick:h,disabled:!b,"aria-label":"Previous page",children:i.jsx(WM,{size:16})}),i.jsxs("span",{className:Ti.castPaginationLabel,children:[j,"",w," of ",t]}),i.jsx("button",{type:"button",className:Ti.castPaginationBtn,onClick:f,disabled:!_,"aria-label":"Next page",children:i.jsx(Qd,{size:16})})]})]})}const et={...ae,...Vh};function dre(e){if(!e)return"";const t=e.trim();if(!t)return"";if(t.startsWith("/")&&!t.startsWith("//"))return t;try{const r=typeof window<"u"?window.location.origin:"https://x",n=new URL(t,r);if(["https:","http:","blob:"].includes(n.protocol.toLowerCase()))return n.href}catch{}return""}function fre({open:e,podcastId:t,cast:r,isFirstEntry:n,canAddHost:a,onClose:o,onSuccess:u}){const c=!!r,[p,h]=v.useState(""),[f,m]=v.useState("guest"),[b,_]=v.useState(""),[j,w]=v.useState(""),[y,x]=v.useState(""),[S,T]=v.useState(1),[N,A]=v.useState("url"),[P,k]=v.useState(null),[R,D]=v.useState(null),[I,q]=v.useState(null),z=v.useRef(null),M=v.useRef(null);pi(M,b,{minHeight:80}),v.useEffect(()=>{e&&(q(null),r?(h(r.name),m(r.role),_(r.description??""),w(r.photo_url??""),x(r.social_link_text??""),T(r.is_public??1),A(r.photo_filename?"upload":"url"),k(null)):(h(""),m(n?"host":"guest"),_(""),w(""),x(""),T(1),A("url"),k(null)))},[e,r,n]),v.useEffect(()=>{if(!P){D(Q=>(Q&&URL.revokeObjectURL(Q),null));return}const V=URL.createObjectURL(P);return D(V),()=>URL.revokeObjectURL(V)},[P]);const F=Ue({mutationFn:V=>pQ(t,V),onSuccess:async V=>{if(P&&V.id)try{await eA(t,V.id,P)}catch{}u(),o()},onError:V=>q(V.message)}),B=Ue({mutationFn:V=>hQ(t,r.id,V),onSuccess:async()=>{if(P&&r)try{await eA(t,r.id,P)}catch{}u(),o()},onError:V=>q(V.message)}),O=V=>{V.preventDefault(),q(null);const Q=p.trim();if(!Q)return;if(f==="host"&&!a){q("Only owners and managers can add hosts.");return}const U={name:Q,role:f,description:b.trim()||void 0,photo_url:N==="url"&&j.trim()||void 0,social_link_text:y.trim()||void 0,is_public:S};c?B.mutate(U):F.mutate(U)},$=R||(r!=null&&r.photo_filename&&t?l6(t,r.id,r.photo_filename):"")||dre(j),K=F.isPending||B.isPending;return i.jsx(ur,{open:e,onOpenChange:V=>!V&&o(),children:i.jsxs(br,{children:[i.jsx(dr,{className:et.dialogOverlay}),i.jsxs(fr,{className:`${et.dialogContent} ${et.dialogContentWide} ${et.dialogContentScrollable}`,children:[i.jsxs("div",{className:et.dialogHeaderRow,children:[i.jsx(pr,{className:et.dialogTitle,children:c?"Edit cast member":"Add cast member"}),i.jsx(pt,{asChild:!0,children:i.jsx("button",{type:"button",className:et.dialogClose,"aria-label":"Close",disabled:K,children:i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":!0})})})]}),i.jsx(Nr,{className:et.dialogDescription,children:c?"Update the cast member details.":""}),i.jsxs("form",{onSubmit:O,className:et.castDialogFormWrap,children:[i.jsxs("div",{className:et.dialogBodyScroll,children:[I&&i.jsx("p",{className:et.error,children:I}),i.jsx("div",{className:et.castDialogFormGroup,children:i.jsxs("label",{className:et.castDialogFormLabel,children:["Name ",i.jsx("span",{className:et.castDialogRequired,"aria-hidden":"true",children:"*"}),i.jsx("input",{type:"text",value:p,onChange:V=>h(V.target.value),className:et.castDialogFormInput,placeholder:"e.g. Jane Doe",required:!0})]})}),i.jsx("div",{className:et.castDialogFormGroup,children:i.jsxs("label",{className:et.castDialogFormLabel,children:["Role",i.jsxs("div",{className:et.castDialogRoleToggle,role:"group","aria-label":"Host or Guest",children:[i.jsx("button",{type:"button",className:f==="guest"?et.castDialogRoleToggleBtnActive:et.castDialogRoleToggleBtn,onClick:()=>m("guest"),disabled:!a&&f==="host","aria-pressed":f==="guest",children:"Guest"}),i.jsx("button",{type:"button",className:f==="host"?et.castDialogRoleToggleBtnActive:et.castDialogRoleToggleBtn,onClick:()=>a&&m("host"),disabled:!a,"aria-pressed":f==="host",children:"Host"})]})]})}),i.jsx("div",{className:`${et.castDialogFormGroup} ${et.castDialogFormGroupDescription}`,children:i.jsxs("label",{className:et.castDialogFormLabel,children:["Description",i.jsx("textarea",{ref:M,value:b,onChange:V=>_(V.target.value),className:et.castDialogFormTextarea,rows:2,placeholder:"Short bio or title",style:{overflow:"hidden",resize:"none",minHeight:80}})]})}),i.jsx("div",{className:et.castDialogFormGroup,children:i.jsxs("label",{className:et.castDialogFormLabel,children:["Photo",i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginTop:"0.375rem"},children:[$?i.jsx("img",{src:$,alt:"",className:et.castPhotoPreview}):i.jsx("div",{className:et.castPhotoPreviewPlaceholder,children:i.jsx(ph,{size:24})}),i.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"0.5rem",minWidth:0},children:[i.jsxs("div",{className:et.castDialogRoleToggle,role:"group",children:[i.jsx("button",{type:"button",className:N==="url"?et.castDialogRoleToggleBtnActive:et.castDialogRoleToggleBtn,onClick:()=>A("url"),"aria-pressed":N==="url",children:"URL"}),i.jsx("button",{type:"button",className:N==="upload"?et.castDialogRoleToggleBtnActive:et.castDialogRoleToggleBtn,onClick:()=>A("upload"),"aria-pressed":N==="upload",children:"Upload"})]}),N==="url"?i.jsx("input",{type:"url",value:j,onChange:V=>w(V.target.value),className:et.castDialogFormInput,placeholder:"https://..."}):i.jsx("input",{ref:z,type:"file",accept:"image/*",onChange:V=>{var Q;return k(((Q=V.target.files)==null?void 0:Q[0])??null)},className:et.castDialogFileInput})]})]})]})}),i.jsx("div",{className:et.castDialogFormGroup,children:i.jsxs("label",{className:et.castDialogFormLabel,children:["Social Link",i.jsx("input",{type:"url",value:y,onChange:V=>x(V.target.value),className:et.castDialogFormInput,placeholder:"e.g. https://instagram.com/username"})]})}),i.jsx("div",{className:et.castDialogFormGroup,children:i.jsxs("label",{className:et.castDialogFormLabel,children:["Visibility",i.jsxs("div",{className:et.castDialogRoleToggle,role:"group",children:[i.jsx("button",{type:"button",className:S===1?et.castDialogRoleToggleBtnActive:et.castDialogRoleToggleBtn,onClick:()=>T(1),"aria-pressed":S===1,children:"Public"}),i.jsx("button",{type:"button",className:S===0?et.castDialogRoleToggleBtnActive:et.castDialogRoleToggleBtn,onClick:()=>T(0),"aria-pressed":S===0,children:"Private"})]})]})})]}),i.jsxs("div",{className:et.castDialogActions,children:[i.jsx("button",{type:"button",className:et.cancel,onClick:o,disabled:K,children:"Cancel"}),i.jsx("button",{type:"submit",className:et.dialogConfirm,disabled:K,children:K?"Saving...":c?"Save":"Add"})]})]})]})]})})}const ro=ae;function pre({cast:e,isOpen:t,onClose:r,onConfirm:n,isPending:a}){return i.jsx(ur,{open:t,onOpenChange:o=>!o&&r(),children:i.jsxs(br,{children:[i.jsx(dr,{className:ro.dialogOverlay}),i.jsxs(fr,{className:ro.dialogContent,children:[i.jsxs("div",{className:ro.dialogHeaderRow,children:[i.jsx(pr,{className:ro.dialogTitle,children:"Remove cast member?"}),i.jsx(pt,{asChild:!0,children:i.jsx("button",{type:"button",className:ro.dialogClose,"aria-label":"Close",children:i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":"true"})})})]}),i.jsx(Nr,{className:ro.dialogDescription,children:e?`This will remove ${e.name} from the show cast. They can be added again later.`:"This will remove this cast member from the show."}),i.jsxs("div",{className:ro.dialogActions,children:[i.jsx(pt,{asChild:!0,children:i.jsx("button",{type:"button",className:ro.cancel,"aria-label":"Cancel",children:"Cancel"})}),i.jsx("button",{type:"button",className:ro.dialogConfirmRemove,onClick:()=>e&&n(e.id),disabled:a,"aria-label":"Confirm remove cast member",children:a?"Removing...":"Remove"})]})]})]})})}const Un={...ae,...Vh},fp=5;function hre({podcastId:e,myRole:t}){const r=Lt(),[n,a]=v.useState(""),o=tC(n),[u,c]=v.useState("newest"),[p,h]=v.useState(0),[f,m]=v.useState(!1),[b,_]=v.useState(null),[j,w]=v.useState(null),y=t==="owner"||t==="manager",x=t==="owner"||t==="manager"||t==="editor",S=y||x,{data:T,isLoading:N}=Oe({queryKey:["cast",e,{limit:fp,offset:p,q:o,sort:u}],queryFn:()=>Tv(e,{limit:fp,offset:p,q:o.trim()||void 0,sort:u}),enabled:!!e}),A=(T==null?void 0:T.cast)??[],P=(T==null?void 0:T.total)??0,k=P===0&&!b,R=Ue({mutationFn:B=>mQ(e,B),onSuccess:()=>{r.invalidateQueries({queryKey:["cast",e]}),w(null)}}),D=B=>B.role==="host"?y:x,I=B=>D(B),q=()=>{_(null),m(!0)},z=B=>{_(B),m(!0)},M=()=>{m(!1),_(null)},F=()=>{r.invalidateQueries({queryKey:["cast",e]})};return i.jsxs("div",{className:Un.card,children:[i.jsxs("div",{className:Un.exportHeader,children:[i.jsxs("div",{className:Un.exportTitle,children:[i.jsx(fh,{size:18,strokeWidth:2,"aria-hidden":"true"}),i.jsx("h2",{className:Un.sectionTitle,children:"Show Cast"})]}),i.jsx("div",{className:Un.exportHeaderActions,children:S&&i.jsxs("button",{type:"button",className:Un.gearBtn,onClick:q,"aria-label":"Add cast member",children:[i.jsx(fh,{size:16,strokeWidth:2,"aria-hidden":!0}),"Add Cast Member"]})})]}),i.jsx("p",{className:Un.pdCardSectionSub,children:"Add hosts and guests for your show. Hosts and guests can be assigned to individual episodes."}),i.jsxs("div",{className:Un.castSearchWrap,children:[i.jsx("input",{type:"search",value:n,onChange:B=>{a(B.target.value),h(0)},placeholder:"Search by name...",className:Un.castSearchInput,"aria-label":"Search cast"}),i.jsxs("div",{className:Un.statusToggle,role:"group","aria-label":"Sort order",children:[i.jsx("button",{type:"button",className:u==="newest"?Un.statusToggleActive:Un.statusToggleBtn,onClick:()=>{c("newest"),h(0)},"aria-pressed":u==="newest",children:"Newest"}),i.jsx("button",{type:"button",className:u==="oldest"?Un.statusToggleActive:Un.statusToggleBtn,onClick:()=>{c("oldest"),h(0)},"aria-pressed":u==="oldest",children:"Oldest"})]})]}),N?i.jsx("p",{className:Un.pdCardEmptyState,children:"Loading..."}):i.jsx(ure,{cast:A,total:P,limit:fp,offset:p,podcastId:e,canEdit:D,canDelete:I,onEdit:z,onDelete:w,onPrevPage:()=>h(B=>Math.max(0,B-fp)),onNextPage:()=>h(B=>B+fp),isDeleting:R.isPending}),f&&i.jsx(fre,{open:f,podcastId:e,cast:b,isFirstEntry:k,canAddHost:y,onClose:M,onSuccess:F}),i.jsx(pre,{cast:j,isOpen:!!j,onClose:()=>w(null),onConfirm:B=>R.mutate(B),isPending:R.isPending})]})}function mre(e){return Et(`/podcasts/${e}/exports`).then(t=>t.exports)}function gre(e,t){return nn(`/podcasts/${e}/exports`,t)}function vre(e,t){return Kl(`/exports/${e}`,t)}function yre(e){return nn(`/exports/${e}/test`)}function bre(e){return nn(`/podcasts/${e}/exports/deploy`)}function _re(e){return Hh(`/exports/${e}`)}const d6={S3:"S3",FTP:"FTP",SFTP:"SFTP",WebDAV:"WebDAV",IPFS:"IPFS",SMB:"SMB"},xre="_addExportWrap_19vbp_4",wre="_addExportTitle_19vbp_11",Sre="_addExportForm_19vbp_18",jre="_addExportActions_19vbp_24",Cre="_statusToggle_19vbp_32",kre="_statusToggleBtn_19vbp_40",Nre="_statusToggleActive_19vbp_41",Ere="_exportModeToggle_19vbp_69",Tre="_deployBtn_19vbp_79",Pre="_deployAllRow_19vbp_104",Are="_deployAllResults_19vbp_110",Rre="_exportResult_19vbp_118",Ore="_exportMeta_19vbp_124",vb={addExportWrap:xre,addExportTitle:wre,addExportForm:Sre,addExportActions:jre,statusToggle:Cre,statusToggleBtn:kre,statusToggleActive:Nre,exportModeToggle:Ere,deployBtn:Tre,deployAllRow:Pre,deployAllResults:Are,exportResult:Rre,exportMeta:Ore},On={...ae,...vb};function Dre({exports:e,readOnly:t,testingId:r,testMutation:n,onTest:a,onEdit:o,onDelete:u,isDeleting:c}){return i.jsx("ul",{className:On.exportList,children:e.map(p=>{var _,j,w,y;const h=(p.public_base_url??"").trim().replace(/\/$/,""),f=(p.prefix??"").trim().replace(/^\/|\/$/g,""),m=h?f?`${h}/${f}/feed.xml`:`${h}/feed.xml`:null,b=r===p.id;return i.jsxs("li",{className:On.exportCard,children:[i.jsxs("div",{className:On.exportCardRow,children:[i.jsxs("div",{className:On.exportCardMeta,children:[i.jsx("strong",{children:p.name}),i.jsx("span",{className:On.exportModeBadge,children:d6[p.mode]??p.mode})]}),i.jsxs("div",{className:On.exportCardActions,children:[i.jsxs("button",{type:"button",className:On.cancel,onClick:()=>m&&window.open(m,"_blank","noopener,noreferrer"),disabled:!m,title:m?"Open RSS feed":"Set public base URL to open RSS","aria-label":`Open RSS feed for ${p.name}`,children:[i.jsx(Ss,{size:16,"aria-hidden":!0}),"RSS"]}),!t&&i.jsxs(i.Fragment,{children:[i.jsxs("button",{type:"button",className:On.cancel,onClick:()=>a(p.id),disabled:b,"aria-label":`Test connection for ${p.name}`,children:[i.jsx($F,{size:16,"aria-hidden":!0}),b?"Testing...":"Test"]}),i.jsxs("button",{type:"button",className:On.cancel,onClick:()=>o(p),"aria-label":`Edit ${p.name}`,children:[i.jsx(Tj,{size:16,"aria-hidden":!0}),"Edit"]}),i.jsx("button",{type:"button",className:On.exportDeleteBtn,onClick:()=>u(p),disabled:c,"aria-label":`Delete ${p.name}`,children:i.jsx(Wl,{size:16,"aria-hidden":!0})})]})]})]}),n.variables===p.id&&n.isSuccess&&((_=n.data)==null?void 0:_.ok)===!0&&i.jsx("p",{className:`${On.success} ${On.exportResult}`,children:"Connection OK."}),n.variables===p.id&&n.isSuccess&&((j=n.data)==null?void 0:j.ok)===!1&&i.jsx("p",{className:`${On.error} ${On.exportResult}`,children:((w=n.data)==null?void 0:w.error)||"Test failed"}),n.isError&&n.variables===p.id&&i.jsx("p",{className:`${On.error} ${On.exportResult}`,children:(y=n.error)==null?void 0:y.message})]},p.id)})})}const Ie={...ae,...vb};function Mre({open:e,formMode:t,initial:r,onSubmitCreate:n,onSubmitUpdate:a,error:o}){const u=(r==null?void 0:r.mode)??"S3",[c,p]=v.useState(u),[h,f]=v.useState((r==null?void 0:r.name)??""),[m,b]=v.useState((r==null?void 0:r.public_base_url)??""),[_,j]=v.useState(()=>({bucket:"",prefix:"",region:"auto",endpoint_url:"",access_key_id:"",secret_access_key:"",host:"",port:21,username:"",password:"",path:"",secure:!1,private_key:"",url:"",api_url:"",api_key:"",gateway_url:"",share:"",domain:""})),w=t==="edit",y=v.useRef(null),x=(k,R)=>j(D=>({...D,[k]:R})),S=k=>_[k]??"";pi(y,String(S("private_key")),{minHeight:60}),v.useEffect(()=>{if(!e)return;const k=(r==null?void 0:r.mode)??"S3";p(k),f((r==null?void 0:r.name)??""),b((r==null?void 0:r.public_base_url)??"");const R=t==="edit",D=k==="SFTP"?22:21;j({bucket:(r==null?void 0:r.bucket)??"",prefix:(r==null?void 0:r.prefix)??"",region:(r==null?void 0:r.region)??"auto",endpoint_url:(r==null?void 0:r.endpoint_url)??"",access_key_id:"",secret_access_key:"",host:"",port:R?"":D,username:"",password:"",path:"",secure:!1,private_key:"",url:"",api_url:"",api_key:"",gateway_url:"",share:"",domain:""})},[e,r,t]);const T=()=>{const k=h.trim(),R=m.trim()||void 0;switch(c){case"S3":return{mode:"S3",name:k,bucket:String(S("bucket")).trim(),prefix:String(S("prefix")).trim(),region:String(S("region")).trim(),endpoint_url:String(S("endpoint_url")).trim()||null,access_key_id:String(S("access_key_id")).trim(),secret_access_key:String(S("secret_access_key")).trim(),public_base_url:R??null};case"FTP":return{mode:"FTP",name:k,host:String(S("host")).trim(),port:Number(S("port"))||21,username:String(S("username")).trim(),password:String(S("password")).trim(),path:String(S("path")).trim(),secure:!!S("secure"),public_base_url:R??null};case"SFTP":return{mode:"SFTP",name:k,host:String(S("host")).trim(),port:Number(S("port"))||22,username:String(S("username")).trim(),password:String(S("password")).trim()||void 0,private_key:String(S("private_key")).trim()||void 0,path:String(S("path")).trim(),public_base_url:R??null};case"WebDAV":return{mode:"WebDAV",name:k,url:String(S("url")).trim(),username:String(S("username")).trim(),password:String(S("password")).trim(),path:String(S("path")).trim(),public_base_url:R??null};case"IPFS":return{mode:"IPFS",name:k,api_url:String(S("api_url")).trim(),api_key:String(S("api_key")).trim()||void 0,username:String(S("username")).trim()||void 0,password:String(S("password")).trim()||void 0,path:String(S("path")).trim(),gateway_url:String(S("gateway_url")).trim()||null,public_base_url:R??null};case"SMB":{const D=S("port");return{mode:"SMB",name:k,host:String(S("host")).trim(),port:D!==""&&D!==void 0&&Number(D)>0?Number(D):void 0,share:String(S("share")).trim(),username:String(S("username")).trim(),password:String(S("password")).trim(),domain:String(S("domain")).trim(),path:String(S("path")).trim(),public_base_url:R??null}}default:return{mode:"S3",name:k,bucket:"",prefix:"",region:"",endpoint_url:null,access_key_id:"",secret_access_key:""}}},N=()=>{const k={mode:c,name:h.trim(),public_base_url:m.trim()||null,endpoint_url:null};if(c==="S3"){String(S("bucket")).trim()&&(k.bucket=String(S("bucket")).trim()),String(S("region")).trim()&&(k.region=String(S("region")).trim());const R=String(S("endpoint_url")).trim();k.endpoint_url=R||null,(String(S("access_key_id")).trim()||String(S("secret_access_key")).trim())&&(k.access_key_id=String(S("access_key_id")).trim(),k.secret_access_key=String(S("secret_access_key")).trim()),String(S("prefix")).trim()!==void 0&&(k.prefix=String(S("prefix")).trim())}else{String(S("host")).trim()&&(k.host=String(S("host")).trim());const R=S("port");if(R!==""&&R!==void 0&&Number(R)>0&&(k.port=Number(R)),String(S("username")).trim()&&(k.username=String(S("username")).trim()),String(S("password")).trim()&&(k.password=String(S("password")).trim()),String(S("path")).trim()!==void 0&&(k.path=String(S("path")).trim()),c==="FTP"&&(k.secure=!!S("secure")),c==="SFTP"&&String(S("private_key")).trim()&&(k.private_key=String(S("private_key")).trim()),c==="WebDAV"&&String(S("url")).trim()&&(k.url=String(S("url")).trim()),c==="IPFS"){String(S("api_url")).trim()&&(k.api_url=String(S("api_url")).trim()),String(S("api_key")).trim()&&(k.api_key=String(S("api_key")).trim()),String(S("username")).trim()&&(k.username=String(S("username")).trim()),String(S("password")).trim()&&(k.password=String(S("password")).trim());const D=String(S("gateway_url")).trim();k.gateway_url=D||null}if(c==="SMB"){const D=S("port");D!==""&&D!==void 0&&Number(D)>0&&(k.port=Number(D)),String(S("share")).trim()&&(k.share=String(S("share")).trim()),String(S("domain")).trim()&&(k.domain=String(S("domain")).trim())}}return k},A=k=>{k.preventDefault(),t==="create"?n(T()):r!=null&&r.id&&a(r.id,N())},P=w?"(Leave blank to keep existing)":"";return i.jsx("div",{children:i.jsxs("form",{id:"add-delivery-form",className:Ie.addExportForm,onSubmit:A,children:[i.jsxs("label",{className:Ie.label,children:["Name",i.jsx("input",{className:Ie.input,value:h,onChange:k=>f(k.target.value),placeholder:"Production",required:!0})]}),i.jsxs("label",{className:Ie.label,children:["Public base URL (optional)",i.jsx("input",{className:Ie.input,type:"url",value:m,onChange:k=>b(k.target.value),placeholder:"https://cdn.example.com"})]}),i.jsxs("div",{className:Ie.label,children:["Destination type",i.jsx("div",{className:`${Ie.statusToggle} ${Ie.exportModeToggle}`,role:"group","aria-label":"Export destination type",children:Object.entries(d6).map(([k,R])=>i.jsx("button",{type:"button",className:c===k?Ie.statusToggleActive:Ie.statusToggleBtn,onClick:()=>{k!==c&&(p(k),j({bucket:"",prefix:"",region:"auto",endpoint_url:"",access_key_id:"",secret_access_key:"",host:"",port:k==="SMB"?"":k==="SFTP"?22:21,username:"",password:"",path:"",secure:!1,private_key:"",url:"",api_url:"",api_key:"",gateway_url:"",share:"",domain:""}))},children:R},k))})]}),c==="S3"&&i.jsxs(i.Fragment,{children:[i.jsxs("label",{className:Ie.label,children:["Bucket",i.jsx("input",{className:Ie.input,value:String(S("bucket")),onChange:k=>x("bucket",k.target.value),placeholder:P,required:!w})]}),i.jsxs("label",{className:Ie.label,children:["Prefix (e.g. podcasts/my-show/)",i.jsx("input",{className:Ie.input,value:String(S("prefix")),onChange:k=>x("prefix",k.target.value),placeholder:w?P:void 0})]}),i.jsxs("label",{className:Ie.label,children:["Region",i.jsx("input",{className:Ie.input,value:String(S("region")),onChange:k=>x("region",k.target.value),placeholder:P,required:!w})]}),i.jsxs("label",{className:Ie.label,children:["Endpoint URL (optional, for R2 or other S3-compatible)",i.jsx("input",{className:Ie.input,type:"url",value:String(S("endpoint_url")),onChange:k=>x("endpoint_url",k.target.value),placeholder:w?P:"https://..."})]}),i.jsxs("label",{className:Ie.label,children:["Access Key ID",i.jsx("input",{className:Ie.input,type:"text",value:String(S("access_key_id")),onChange:k=>x("access_key_id",k.target.value),placeholder:P,required:!w})]}),i.jsxs("label",{className:Ie.label,children:["Secret Access Key",i.jsx("input",{className:Ie.input,type:"password",value:String(S("secret_access_key")),onChange:k=>x("secret_access_key",k.target.value),placeholder:P,required:!w})]})]}),(c==="FTP"||c==="SFTP")&&i.jsxs(i.Fragment,{children:[i.jsxs("label",{className:Ie.label,children:["Host",i.jsx("input",{className:Ie.input,value:String(S("host")),onChange:k=>x("host",k.target.value),placeholder:w?P:"ftp.example.com",required:!w})]}),i.jsxs("label",{className:Ie.label,children:["Port",i.jsx("input",{className:Ie.input,type:"number",value:S("port")===""||S("port")===void 0?"":String(S("port")),onChange:k=>x("port",k.target.value===""?"":parseInt(k.target.value,10)||0),placeholder:w?P:void 0,min:1,max:65535})]}),i.jsxs("label",{className:Ie.label,children:["Username",i.jsx("input",{className:Ie.input,value:String(S("username")),onChange:k=>x("username",k.target.value),placeholder:w?P:void 0,required:!w})]}),i.jsxs("label",{className:Ie.label,children:["Password",i.jsx("input",{className:Ie.input,type:"password",value:String(S("password")),onChange:k=>x("password",k.target.value),placeholder:P,required:!w})]}),c==="SFTP"&&i.jsxs("label",{className:Ie.label,children:["Private key (optional, alternative to password)",i.jsx("textarea",{ref:y,className:Ie.input,rows:2,value:String(S("private_key")),onChange:k=>x("private_key",k.target.value),placeholder:P,style:{overflow:"hidden",resize:"none"}})]}),i.jsxs("label",{className:Ie.label,children:["Path",i.jsx("input",{className:Ie.input,value:String(S("path")),onChange:k=>x("path",k.target.value),placeholder:w?P:"/podcasts/my-show"})]}),c==="FTP"&&i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:!!S("secure"),onChange:k=>x("secure",k.target.checked)}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Use TLS (FTPS)"})]})]}),c==="WebDAV"&&i.jsxs(i.Fragment,{children:[i.jsxs("label",{className:Ie.label,children:["WebDAV URL",i.jsx("input",{className:Ie.input,type:"url",value:String(S("url")),onChange:k=>x("url",k.target.value),placeholder:w?P:"https://...",required:!w})]}),i.jsxs("label",{className:Ie.label,children:["Username",i.jsx("input",{className:Ie.input,value:String(S("username")),onChange:k=>x("username",k.target.value),placeholder:w?P:void 0,required:!w})]}),i.jsxs("label",{className:Ie.label,children:["Password",i.jsx("input",{className:Ie.input,type:"password",value:String(S("password")),onChange:k=>x("password",k.target.value),placeholder:P,required:!w})]}),i.jsxs("label",{className:Ie.label,children:["Path",i.jsx("input",{className:Ie.input,value:String(S("path")),onChange:k=>x("path",k.target.value),placeholder:w?P:"/remote/path"})]})]}),c==="IPFS"&&i.jsxs(i.Fragment,{children:[i.jsxs("label",{className:Ie.label,children:["IPFS API URL",i.jsx("input",{className:Ie.input,type:"url",value:String(S("api_url")),onChange:k=>x("api_url",k.target.value),placeholder:w?P:"http://127.0.0.1:5001",required:!w})]}),i.jsxs("label",{className:Ie.label,children:["API key (optional)",i.jsx("input",{className:Ie.input,type:"password",value:String(S("api_key")),onChange:k=>x("api_key",k.target.value),placeholder:P})]}),i.jsxs("label",{className:Ie.label,children:["Username (for Basic auth, e.g. Caddy)",i.jsx("input",{className:Ie.input,value:String(S("username")),onChange:k=>x("username",k.target.value),placeholder:w?P:void 0})]}),i.jsxs("label",{className:Ie.label,children:["Password (for Basic auth)",i.jsx("input",{className:Ie.input,type:"password",value:String(S("password")),onChange:k=>x("password",k.target.value),placeholder:P})]}),i.jsxs("label",{className:Ie.label,children:["Gateway URL (for enclosure URLs, e.g. https://ipfs.io/ipfs/)",i.jsx("input",{className:Ie.input,type:"url",value:String(S("gateway_url")),onChange:k=>x("gateway_url",k.target.value),placeholder:w?P:"https://ipfs.io/ipfs/"})]}),i.jsxs("label",{className:Ie.label,children:["Path",i.jsx("input",{className:Ie.input,value:String(S("path")),onChange:k=>x("path",k.target.value),placeholder:w?P:"/deploy"})]})]}),c==="SMB"&&i.jsxs(i.Fragment,{children:[i.jsxs("label",{className:Ie.label,children:["Host",i.jsx("input",{className:Ie.input,value:String(S("host")),onChange:k=>x("host",k.target.value),placeholder:w?P:"server",required:!w})]}),i.jsxs("label",{className:Ie.label,children:["Port (optional, default 445)",i.jsx("input",{className:Ie.input,type:"number",value:S("port")===""||S("port")===void 0?"":String(S("port")),onChange:k=>x("port",k.target.value===""?"":parseInt(k.target.value,10)||0),placeholder:w?P:void 0,min:1,max:65535})]}),i.jsxs("label",{className:Ie.label,children:["Share name",i.jsx("input",{className:Ie.input,value:String(S("share")),onChange:k=>x("share",k.target.value),placeholder:w?P:"podcasts",required:!w})]}),i.jsxs("label",{className:Ie.label,children:["Username",i.jsx("input",{className:Ie.input,value:String(S("username")),onChange:k=>x("username",k.target.value),placeholder:w?P:void 0,required:!w})]}),i.jsxs("label",{className:Ie.label,children:["Password",i.jsx("input",{className:Ie.input,type:"password",value:String(S("password")),onChange:k=>x("password",k.target.value),placeholder:P,required:!w})]}),i.jsxs("label",{className:Ie.label,children:["Domain (optional)",i.jsx("input",{className:Ie.input,value:String(S("domain")),onChange:k=>x("domain",k.target.value),placeholder:w?P:"WORKGROUP"})]}),i.jsxs("label",{className:Ie.label,children:["Path",i.jsx("input",{className:Ie.input,value:String(S("path")),onChange:k=>x("path",k.target.value),placeholder:w?P:"/subfolder"})]})]}),o&&i.jsx("p",{className:Ie.error,children:o})]})})}const pa=ae;function Lre({isOpen:e,onClose:t,editingExport:r,formMode:n,isSaving:a,error:o,onSubmitCreate:u,onSubmitUpdate:c}){return i.jsx(ur,{open:e,onOpenChange:p=>!a&&!p&&t(),children:i.jsxs(br,{children:[i.jsx(dr,{className:pa.dialogOverlay}),i.jsxs(fr,{className:`${pa.dialogContent} ${pa.dialogContentWide} ${pa.dialogContentScrollable} ${pa.dialogShowDetailsGrid}`,children:[i.jsxs("div",{className:pa.dialogHeaderRow,children:[i.jsx(pr,{className:pa.dialogTitle,children:r?"Edit Delivery":"Add Delivery"}),i.jsx(pt,{asChild:!0,children:i.jsx("button",{type:"button",className:pa.dialogClose,"aria-label":"Close",disabled:a,children:i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":"true"})})})]}),i.jsxs(Nr,{className:pa.dialogDescription,children:[r?"Update the destination settings.":"Choose a destination type and enter connection details."," Credentials are stored encrypted and cannot be viewed after saving."]}),i.jsx("div",{className:pa.dialogBodyScroll,children:i.jsx(Mre,{open:e,formMode:n,initial:r,onSubmitCreate:u,onSubmitUpdate:c,error:o})}),i.jsxs("div",{className:`${pa.dialogFooter} ${pa.dialogFooterCancelLeft}`,children:[i.jsx(pt,{asChild:!0,children:i.jsx("button",{type:"button",className:pa.cancel,onClick:t,disabled:a,"aria-label":"Cancel",children:"Cancel"})}),i.jsx("button",{type:"submit",form:"add-delivery-form",className:pa.submit,disabled:a,"aria-label":"Save export",children:a?"Saving...":r?"Save":"Add"})]})]})]})})}const no=ae;function Ire({export:e,isOpen:t,onClose:r,onConfirm:n,isPending:a}){return i.jsx(ur,{open:t,onOpenChange:o=>!o&&r(),children:i.jsxs(br,{children:[i.jsx(dr,{className:no.dialogOverlay}),i.jsxs(fr,{className:no.dialogContent,children:[i.jsxs("div",{className:no.dialogHeaderRow,children:[i.jsx(pr,{className:no.dialogTitle,children:"Remove delivery?"}),i.jsx(pt,{asChild:!0,children:i.jsx("button",{type:"button",className:no.dialogClose,"aria-label":"Close",children:i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":"true"})})})]}),i.jsx(Nr,{className:no.dialogDescription,children:e?`This will permanently remove "${e.name}". This cannot be undone.`:"This will permanently remove this destination. This cannot be undone."}),i.jsxs("div",{className:no.dialogActions,children:[i.jsx(pt,{asChild:!0,children:i.jsx("button",{type:"button",className:no.cancel,"aria-label":"Cancel",children:"Cancel"})}),i.jsx("button",{type:"button",className:no.dialogConfirmRemove,onClick:()=>e&&n(e.id),disabled:a,"aria-label":"Confirm remove delivery",children:a?"Removing...":"Remove"})]})]})]})})}const pp={...ae,...vb};function $re({results:e,error:t,isSuccess:r,isError:n}){return!r&&!n?null:i.jsxs("div",{className:pp.deployAllRow,children:[r&&e&&i.jsx("div",{className:pp.deployAllResults,children:e.map(a=>i.jsxs("p",{className:a.status==="success"?pp.success:pp.error,children:[a.name,": ",a.status==="success"?`Uploaded ${a.uploaded} file(s)${a.skipped&&a.skipped>0?`, ${a.skipped} unchanged`:""}.`:(a.errors??["Failed"]).join("; ")]},a.export_id))}),n&&i.jsx("p",{className:pp.error,children:t==null?void 0:t.message})]})}const ao={...ae,...vb};function Bre({podcastId:e,readOnly:t=!1}){var D,I,q;const r=Lt(),{data:n=[]}=Oe({queryKey:["exports",e],queryFn:()=>mre(e)}),[a,o]=v.useState(null),[u,c]=v.useState(!1),[p,h]=v.useState(!1),[f,m]=v.useState(null),[b,_]=v.useState(null),j=Ue({mutationFn:z=>gre(e,z),onSuccess:()=>{r.invalidateQueries({queryKey:["exports",e]}),h(!1),m(null)}}),w=Ue({mutationFn:z=>vre(z.exportId,z.body),onSuccess:()=>{r.invalidateQueries({queryKey:["exports",e]}),h(!1),m(null)}}),y=Ue({mutationFn:z=>yre(z),onSuccess:()=>{o(null),r.invalidateQueries({queryKey:["exports",e]})},onError:()=>o(null)}),x=Ue({mutationFn:()=>bre(e),onSuccess:()=>c(!1),onError:()=>c(!1)}),S=Ue({mutationFn:z=>_re(z),onSuccess:()=>{r.invalidateQueries({queryKey:["exports",e]}),_(null)}}),T=f?n.find(z=>z.id===f):void 0,N=j.isPending||w.isPending,A=()=>{m(null),h(!0)},P=z=>{m(z.id),h(!0)},k=z=>{o(z),y.mutate(z)},R=()=>{c(!0),x.mutate()};return i.jsxs("div",{className:ao.card,children:[i.jsxs("div",{className:ao.exportHeader,children:[i.jsxs("div",{className:ao.exportTitle,children:[i.jsx(_F,{size:18,strokeWidth:2,"aria-hidden":"true"}),i.jsx("h2",{className:ao.sectionTitle,children:"Podcast Delivery"})]}),!t&&i.jsxs("div",{className:ao.exportHeaderActions,children:[i.jsxs("button",{type:"button",className:ao.gearBtn,onClick:A,"aria-label":"Add delivery destination",children:[i.jsx(Yr,{size:16,strokeWidth:2,"aria-hidden":"true"}),"Add Delivery"]}),n.length>0&&i.jsxs("button",{type:"button",className:ao.deployBtn,onClick:R,disabled:u,"aria-label":"Deploy to all destinations",children:[i.jsx(yF,{size:16,"aria-hidden":!0}),u?"Deploying...":"Deploy"]})]})]}),i.jsx("p",{className:ao.pdCardSectionSub,children:"Deploy your RSS feed and episode audio files to one or more destinations. Credentials are stored encrypted and cannot be viewed after saving."}),n.length===0?i.jsx("p",{className:ao.pdCardEmptyState,children:"No delivery destinations configured. Add one to get started."}):i.jsx(Dre,{exports:n,readOnly:t,testingId:a,testMutation:y,onTest:k,onEdit:P,onDelete:_,isDeleting:S.isPending}),!t&&n.length>0&&i.jsx($re,{results:(D=x.data)==null?void 0:D.results,error:x.error,isSuccess:x.isSuccess,isError:x.isError}),i.jsx(Lre,{isOpen:p,onClose:()=>{h(!1),m(null)},editingExport:T,formMode:T?"edit":"create",isSaving:N,error:j.isError?(I=j.error)==null?void 0:I.message:w.isError?(q=w.error)==null?void 0:q.message:void 0,onSubmitCreate:z=>j.mutate(z),onSubmitUpdate:(z,M)=>w.mutate({exportId:z,body:M})}),i.jsx(Ire,{export:b,isOpen:!!b,onClose:()=>_(null),onConfirm:z=>S.mutate(z),isPending:S.isPending})]})}const zre="_collabForm_1bd34_4",Fre="_collabFormInputWrap_1bd34_12",qre="_input_1bd34_17",Ure="_collabFormActions_1bd34_26",Hre="_collabFormInput_1bd34_12",Wre="_roleSelect_1bd34_64",Kre="_collabLimitCard_1bd34_74",Gre="_collabError_1bd34_85",Vre="_collabEmptyState_1bd34_105",Yre="_statusToggle_1bd34_113",Qre="_statusToggleBtn_1bd34_121",Xre="_statusToggleActive_1bd34_122",Zre="_collabMetaWrap_1bd34_150",Jre="_collabRoleIcon_1bd34_157",ene="_collabCardActions_1bd34_165",tne="_collabDeleteBtn_1bd34_178",rne="_invitePlatformBtn_1bd34_204",rC={collabForm:zre,collabFormInputWrap:Fre,input:qre,collabFormActions:Ure,collabFormInput:Hre,roleSelect:Wre,collabLimitCard:Kre,collabError:Gre,collabEmptyState:Vre,statusToggle:Yre,statusToggleBtn:Qre,statusToggleActive:Xre,collabMetaWrap:Zre,collabRoleIcon:Jre,collabCardActions:ene,collabDeleteBtn:tne,invitePlatformBtn:rne},Pi={...ae,...rC};function nne({podcastId:e,atLimit:t,limitValue:r,onSuccess:n}){const a=Lt(),[o,u]=v.useState(""),[c,p]=v.useState("editor"),[h,f]=v.useState(null),[m,b]=v.useState(null),[_,j]=v.useState(!1),w=Ue({mutationFn:T=>nQ(e,T),onSuccess:()=>{a.invalidateQueries({queryKey:["collaborators",e]}),a.invalidateQueries({queryKey:["podcasts"]}),u(""),f(null),b(null),n()},onError:T=>{var N,A;T instanceof s6&&((N=T.data)==null?void 0:N.code)==="USER_NOT_FOUND"&&((A=T.data)!=null&&A.email)?(b(T.data.email),f("This person is not on the platform yet.")):(f(T instanceof Error?T.message:"Failed to add collaborator"),b(null))}}),y=Ue({mutationFn:T=>sQ({email:T}),onSuccess:()=>{b(null),j(!1)},onError:()=>j(!1)});function x(T){T.preventDefault(),f(null),b(null);const N=o.trim().toLowerCase();N&&w.mutate({email:N,role:c})}function S(){m&&(j(!0),y.mutate(m))}return t?i.jsxs("div",{className:Pi.collabLimitCard,role:"status",children:["This show has reached its collaborator limit (",r,"). Remove someone to invite another."]}):i.jsxs(i.Fragment,{children:[i.jsxs("form",{onSubmit:x,className:Pi.collabForm,children:[i.jsx("div",{className:Pi.collabFormInputWrap,children:i.jsx("input",{type:"email",placeholder:"Email",value:o,onChange:T=>u(T.target.value),className:Pi.collabFormInput,required:!0})}),i.jsxs("div",{className:Pi.collabFormActions,children:[i.jsx("div",{className:Pi.statusToggle,role:"group","aria-label":"Role",children:["view","editor","manager"].map(T=>i.jsx("button",{type:"button",className:c===T?Pi.statusToggleActive:Pi.statusToggleBtn,onClick:()=>p(T),"aria-pressed":c===T,"aria-label":T.charAt(0).toUpperCase()+T.slice(1),children:T.charAt(0).toUpperCase()+T.slice(1)},T))}),i.jsxs("button",{type:"submit",className:Pi.gearBtn,disabled:w.isPending,"aria-label":"Add collaborator",children:[i.jsx(fh,{size:16,strokeWidth:2,"aria-hidden":!0}),w.isPending?"Adding...":"Add"]})]})]}),h&&i.jsxs("div",{className:Pi.collabError,children:[i.jsx("p",{children:h}),m&&i.jsx("button",{type:"button",className:Pi.invitePlatformBtn,onClick:S,disabled:y.isPending||_,children:y.isPending||_?"Sending...":"Invite them to join the platform"})]})]})}const Ai={...ae,...rC},ane={owner:CF,manager:Tq,editor:Tj,view:AF},ine=14;function sne({collaborators:e,podcastId:t,onRemove:r,isRemoving:n}){const a=Lt();return i.jsx("ul",{className:Ai.exportList,children:e.map(o=>{const u=ane[o.role];return i.jsx("li",{className:Ai.exportCard,children:i.jsxs("div",{className:Ai.exportCardRow,children:[i.jsx("div",{className:Ai.exportCardMeta,children:i.jsxs("div",{className:Ai.collabMetaWrap,children:[u&&i.jsx("span",{className:Ai.collabRoleIcon,"aria-hidden":!0,children:i.jsx(u,{size:ine})}),i.jsx("strong",{children:o.email})]})}),i.jsxs("div",{className:Ai.collabCardActions,children:[i.jsx("div",{className:Ai.statusToggle,role:"group","aria-label":`Role for ${o.email}`,children:["view","editor","manager"].map(c=>i.jsx("button",{type:"button",className:o.role===c?Ai.statusToggleActive:Ai.statusToggleBtn,onClick:()=>{c!==o.role&&aQ(t,o.user_id,{role:c}).then(()=>{a.invalidateQueries({queryKey:["collaborators",t]})})},"aria-pressed":o.role===c,"aria-label":c.charAt(0).toUpperCase()+c.slice(1),children:c.charAt(0).toUpperCase()+c.slice(1)},c))}),i.jsx("button",{type:"button",className:Ai.collabDeleteBtn,onClick:()=>r({user_id:o.user_id,email:o.email}),disabled:n,"aria-label":`Remove ${o.email}`,children:i.jsx(Wl,{size:16,"aria-hidden":!0})})]})]})},o.user_id)})})}const io=ae;function one({collaborator:e,isOpen:t,onClose:r,onConfirm:n,isPending:a}){return i.jsx(ur,{open:t,onOpenChange:o=>!o&&r(),children:i.jsxs(br,{children:[i.jsx(dr,{className:io.dialogOverlay}),i.jsxs(fr,{className:io.dialogContent,children:[i.jsxs("div",{className:io.dialogHeaderRow,children:[i.jsx(pr,{className:io.dialogTitle,children:"Remove collaborator?"}),i.jsx(pt,{asChild:!0,children:i.jsx("button",{type:"button",className:io.dialogClose,"aria-label":"Close",children:i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":"true"})})})]}),i.jsx(Nr,{className:io.dialogDescription,children:e?`This will remove ${e.email} from this show. They will lose access.`:"This will remove this collaborator from this show."}),i.jsxs("div",{className:io.dialogActions,children:[i.jsx(pt,{asChild:!0,children:i.jsx("button",{type:"button",className:io.cancel,"aria-label":"Cancel",children:"Cancel"})}),i.jsx("button",{type:"button",className:io.dialogConfirmRemove,onClick:()=>e&&n(e.user_id),disabled:a,"aria-label":"Confirm remove collaborator",children:a?"Removing...":"Remove"})]})]})]})})}const vc={...ae,...rC};function lne({podcastId:e,effectiveMaxCollaborators:t}){const r=Lt(),{data:n,isLoading:a}=Oe({queryKey:["collaborators",e],queryFn:()=>rQ(e).then(f=>f.collaborators),enabled:!!e}),o=n??[],u=t!=null&&t>0&&o.length>=t,[c,p]=v.useState(null),h=Ue({mutationFn:f=>iQ(e,f),onSuccess:()=>{r.invalidateQueries({queryKey:["collaborators",e]}),r.invalidateQueries({queryKey:["podcasts"]}),p(null)}});return i.jsxs("div",{className:vc.card,children:[i.jsx("div",{className:vc.exportHeader,children:i.jsxs("div",{className:vc.exportTitle,children:[i.jsx(Aj,{size:18,strokeWidth:2,"aria-hidden":"true"}),i.jsx("h2",{className:vc.sectionTitle,children:"Collaborators"})]})}),i.jsx("p",{className:vc.pdCardSectionSub,children:"Invite others to this show. View: read-only. Editor: edit segments and build the episode. Manager: edit metadata, episodes, and exports."}),i.jsx(nne,{podcastId:e,atLimit:u,limitValue:t,onSuccess:()=>{}}),a?i.jsx("p",{className:vc.pdCardEmptyState,children:"Loading..."}):o.length===0?i.jsx("p",{className:vc.pdCardEmptyState,children:"No collaborators yet. Add someone by email above."}):i.jsxs(i.Fragment,{children:[i.jsx(sne,{collaborators:o,podcastId:e,onRemove:p,isRemoving:h.isPending}),i.jsx(one,{collaborator:c,isOpen:!!c,onClose:()=>p(null),onConfirm:f=>h.mutate(f),isPending:h.isPending})]})]})}const cne="_tokenForm_19kjj_4",une="_collabForm_19kjj_5",dne="_tokenFormInputWrap_19kjj_13",fne="_collabFormInputWrap_19kjj_14",pne="_tokenFormInput_19kjj_13",hne="_tokenFormActions_19kjj_51",mne="_toggle_19kjj_58",gne="_createTokenBtn_19kjj_67",vne="_tokenActionBtn_19kjj_95",yne="_tokenExtendForm_19kjj_123",bne="_tokenExtendInput_19kjj_130",_ne="_tokenExtendActions_19kjj_151",xne="_tokenExtendSave_19kjj_157",wne="_tokenExtendCancel_19kjj_182",Sne="_tokenCreatedHeader_19kjj_232",jne="_tokenCreatedContent_19kjj_237",Cne="_tokenCreatedActions_19kjj_241",kne="_tokenCreatedCopyBtn_19kjj_245",Nne="_tokenCreatedDismissBtn_19kjj_250",Ene="_tokenControls_19kjj_256",Tne="_tokenSearchWrapper_19kjj_266",Pne="_tokenSearchIcon_19kjj_272",Ane="_tokenSearchInput_19kjj_281",Rne="_tokenSortToggle_19kjj_303",One="_tokenSortBtn_19kjj_311",Dne="_tokenSortBtnActive_19kjj_312",Mne="_tokenPaginationWrap_19kjj_344",Lne="_tokenPaginationMeta_19kjj_351",Ine="_tokenPagination_19kjj_344",$ne="_tokenPageBtn_19kjj_366",Bne="_tokenPageInfo_19kjj_388",zne="_tokenCardMeta_19kjj_394",Fne="_tokenCardMetaRow_19kjj_401",qne="_tokenMetaText_19kjj_410",Une="_tokenCardActions_19kjj_416",Hne="_tokenDeleteBtn_19kjj_424",Wne="_tokenCreatedCard_19kjj_450",Kne="_tokenCreatedTitle_19kjj_474",Gne="_tokenUrl_19kjj_481",Vne="_subscriberDisabledBody_19kjj_543",Yne="_subscriberDisabledMessage_19kjj_548",Qne="_subscriberDisabledActions_19kjj_554",Xne="_subscriberInfoBtn_19kjj_561",Zne="_subscriberEnableBtn_19kjj_583",Jne="_subscriberDialogConfirmBtn_19kjj_610",eae="_subscriberDialogCancelBtn_19kjj_637",tae="_subscriberInfoBody_19kjj_660",rae="_tokenMuted_19kjj_676",nae="_tokenNoMatch_19kjj_682",aae="_tokenNoMatchText_19kjj_691",za={tokenForm:cne,collabForm:une,tokenFormInputWrap:dne,collabFormInputWrap:fne,tokenFormInput:pne,tokenFormActions:hne,toggle:mne,createTokenBtn:gne,tokenActionBtn:vne,tokenExtendForm:yne,tokenExtendInput:bne,tokenExtendActions:_ne,tokenExtendSave:xne,tokenExtendCancel:wne,tokenCreatedHeader:Sne,tokenCreatedContent:jne,tokenCreatedActions:Cne,tokenCreatedCopyBtn:kne,tokenCreatedDismissBtn:Nne,tokenControls:Ene,tokenSearchWrapper:Tne,tokenSearchIcon:Pne,tokenSearchInput:Ane,tokenSortToggle:Rne,tokenSortBtn:One,tokenSortBtnActive:Dne,tokenPaginationWrap:Mne,tokenPaginationMeta:Lne,tokenPagination:Ine,tokenPageBtn:$ne,tokenPageInfo:Bne,tokenCardMeta:zne,tokenCardMetaRow:Fne,tokenMetaText:qne,tokenCardActions:Une,tokenDeleteBtn:Hne,tokenCreatedCard:Wne,tokenCreatedTitle:Kne,tokenUrl:Gne,subscriberDisabledBody:Vne,subscriberDisabledMessage:Yne,subscriberDisabledActions:Qne,subscriberInfoBtn:Xne,subscriberEnableBtn:Zne,subscriberDialogConfirmBtn:Jne,subscriberDialogCancelBtn:eae,subscriberInfoBody:tae,tokenMuted:rae,tokenNoMatch:nae,tokenNoMatchText:aae},vl={...ae,...za};function iae({isOpen:e,onClose:t}){return i.jsx(ur,{open:e,onOpenChange:t,children:i.jsxs(br,{children:[i.jsx(dr,{className:vl.dialogOverlay}),i.jsxs(fr,{className:vl.dialogContent,"aria-describedby":"subscriber-info-desc",children:[i.jsxs("div",{className:vl.dialogHeaderRow,children:[i.jsx(pr,{className:vl.dialogTitle,children:"How subscriber feeds work"}),i.jsx(pt,{asChild:!0,children:i.jsx("button",{type:"button",className:vl.dialogClose,"aria-label":"Close",children:i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":"true"})})})]}),i.jsxs("div",{id:"subscriber-info-desc",className:vl.subscriberInfoBody,children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Subscriber-only feeds"})," let you share a private RSS feed with specific people. Each subscriber gets a unique feed URL that only they can use."]}),i.jsxs("p",{children:["You create ",i.jsx("strong",{children:"tokens"})," (one per subscriber or group). For each token you get a secret feed link. Share that link with the subscriber-they add it to their podcast app like any other feed. The feed can include ",i.jsx("strong",{children:"subscriber-only episodes"})," that you mark in the episode editor; those episodes do not appear in your public feed or on the public show page."]}),i.jsxs("p",{children:["You can set optional ",i.jsx("strong",{children:"valid from"})," and ",i.jsx("strong",{children:"valid until"})," dates to limit when a token works, and you can ",i.jsx("strong",{children:"disable"})," or ",i.jsx("strong",{children:"delete"})," tokens anytime. Disabled tokens stop working; deleted tokens are removed. The raw token is only shown once when you create it-copy the feed URL then."]}),i.jsx("p",{children:"Enable subscriptions above to create tokens and start sharing a private feed."})]}),i.jsx("div",{className:vl.dialogActions,children:i.jsx(pt,{asChild:!0,children:i.jsx("button",{type:"button",className:vl.subscriberDialogConfirmBtn,"aria-label":"Close",children:"Got it"})})})]})]})})}const yl={...ae,...za};function sae({token:e,baseUrl:t,onDismiss:r,copied:n,onCopy:a}){return i.jsx("div",{className:yl.tokenCreatedCard,role:"status",children:i.jsxs("div",{className:yl.tokenCreatedHeader,children:[i.jsxs("div",{className:yl.tokenCreatedContent,children:[i.jsx("p",{className:yl.tokenCreatedTitle,children:"Token created. Copy the feed URL now - it won't be shown again."}),i.jsxs("code",{className:yl.tokenUrl,children:[t,"/private/",e.slice(0,12),"..."]})]}),i.jsxs("div",{className:yl.tokenCreatedActions,children:[i.jsxs("button",{type:"button",className:yl.tokenCreatedCopyBtn,onClick:()=>a(e),"aria-label":"Copy full feed URL",children:[n?i.jsx(Nj,{size:16,"aria-hidden":!0}):i.jsx(dh,{size:16,"aria-hidden":!0}),n?"Copied":"Copy feed URL"]}),i.jsxs("button",{type:"button",className:yl.tokenCreatedDismissBtn,onClick:r,children:[i.jsx(Nt,{size:16,"aria-hidden":!0}),"Dismiss"]})]})]})})}function $d(e){const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0"),a=String(e.getHours()).padStart(2,"0"),o=String(e.getMinutes()).padStart(2,"0");return`${t}-${r}-${n}T${a}:${o}`}const bl={...ae,...za};function oae({podcastId:e,atLimit:t,limitValue:r,onSuccess:n}){const a=Lt(),[o,u]=v.useState(""),[c,p]=v.useState(""),[h,f]=v.useState(!0),[m,b]=v.useState(()=>{const w=new Date(Date.now()+31536e6);return $d(w)}),_=Ue({mutationFn:w=>uQ(e,w),onSuccess:w=>{a.invalidateQueries({queryKey:["subscriber-tokens",e]}),a.invalidateQueries({queryKey:["subscriber-tokens-count",e]}),n(w.token),u(""),p(""),f(!0);const y=new Date(Date.now()+365*24*60*60*1e3);b($d(y))}}),j=w=>{if(w.preventDefault(),!o.trim())return;const y=c.trim()?new Date(c).toISOString():void 0,x=h&&m.trim()?new Date(m).toISOString():void 0;_.mutate({name:o.trim(),...y?{valid_from:y}:{},...x?{valid_until:x}:{}})};return i.jsxs("form",{className:bl.tokenForm,onSubmit:j,children:[i.jsx("div",{className:bl.tokenFormInputWrap,children:i.jsx("input",{type:"text",placeholder:"Token name (e.g. Subscriber name)",value:o,onChange:w=>u(w.target.value),className:bl.tokenFormInput,disabled:t,required:!0})}),i.jsxs("div",{className:bl.tokenFormActions,"data-expires":h,children:[i.jsxs("label",{className:"toggle",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx("input",{type:"checkbox",checked:h,disabled:t,onChange:w=>f(w.target.checked)}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{style:{fontSize:"0.875rem",fontWeight:500},children:"Expires"})]}),h&&i.jsx("input",{type:"datetime-local",placeholder:"Valid until",disabled:t,value:m,onChange:w=>b(w.target.value),className:bl.tokenFormInput}),i.jsxs("button",{type:"submit",className:bl.createTokenBtn,disabled:_.isPending||t,title:t?`You're at max subscriber tokens for this show (${r})`:void 0,children:[i.jsx(Yr,{size:16,strokeWidth:2,"aria-hidden":!0}),_.isPending?"Creating...":"Create Token"]})]}),_.isError&&i.jsx("p",{className:bl.error,children:_.error.message}),t&&i.jsxs("p",{className:bl.error,children:["You're at max subscriber tokens for this show (",r,"). Delete a token to create a new one."]})]})}const so={...ae,...za};function f6({searchQuery:e,onSearchChange:t,sortNewestFirst:r,onSortChange:n,totalCount:a}){return a===0?null:i.jsxs("div",{className:so.tokenControls,children:[i.jsxs("div",{className:so.tokenSearchWrapper,children:[i.jsx(Pj,{className:so.tokenSearchIcon,size:18,strokeWidth:2,"aria-hidden":!0}),i.jsx("input",{type:"search",className:so.tokenSearchInput,placeholder:"Search by name...",value:e,onChange:o=>t(o.target.value),"aria-label":"Search tokens"})]}),i.jsxs("div",{className:so.tokenSortToggle,role:"group","aria-label":"Sort order",children:[i.jsxs("button",{type:"button",className:r?so.tokenSortBtnActive:so.tokenSortBtn,"aria-label":"Sort newest first",onClick:()=>n(!0),children:[i.jsx(Vd,{size:16,strokeWidth:2,"aria-hidden":!0}),"Newest"]}),i.jsxs("button",{type:"button",className:r?so.tokenSortBtn:so.tokenSortBtnActive,"aria-label":"Sort oldest first",onClick:()=>n(!1),children:[i.jsx(Yd,{size:16,strokeWidth:2,"aria-hidden":!0}),"Oldest"]})]})]})}const Dn={...ae,...za};function p6({name:e,status:t,metaText:r,readOnly:n,extendEditing:a,extendValue:o,onExtendValueChange:u,onExtendSave:c,onExtendCancel:p,onExtendClick:h,onEnableDisable:f,enableDisableDisabled:m,onRevoke:b,revokeDisabled:_,updatePending:j,revokeLabel:w="Revoke"}){const y=t==="expired"?"Expired":t==="disabled"?"Disabled":"Active",x=t==="active"?Dn.statusBadgeActive:Dn.statusBadgeDisabledDanger;return i.jsx("li",{className:Dn.exportCard,children:i.jsxs("div",{className:Dn.exportCardRow,children:[i.jsxs("div",{className:Dn.tokenCardMeta,children:[i.jsx("strong",{children:e}),i.jsxs("div",{className:Dn.tokenCardMetaRow,children:[i.jsx("span",{className:x,children:y}),i.jsx("span",{className:Dn.tokenMetaText,children:r})]})]}),!n&&i.jsx("div",{className:Dn.tokenCardActions,children:a?i.jsxs("div",{className:Dn.tokenExtendForm,children:[i.jsx("input",{type:"datetime-local",value:o,onChange:S=>u(S.target.value),className:Dn.tokenExtendInput}),i.jsxs("div",{className:Dn.tokenExtendActions,children:[i.jsx("button",{type:"button",className:Dn.tokenExtendSave,onClick:c,disabled:j,children:"Save"}),i.jsx("button",{type:"button",className:Dn.tokenExtendCancel,onClick:p,children:"Cancel"})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("button",{type:"button",className:Dn.tokenActionBtn,onClick:h,"aria-label":"Extend",children:[i.jsx(cF,{size:16,"aria-hidden":!0}),"Extend"]}),i.jsxs("button",{type:"button",className:Dn.tokenActionBtn,onClick:f,disabled:m,"aria-label":m?"Expired token cannot be modified":t==="disabled"||t==="expired"?"Enable":"Disable",title:m?"Expired tokens cannot be enabled or disabled. Extend the expiration date first.":void 0,children:[t==="disabled"||t==="expired"?i.jsx(xq,{size:16,"aria-hidden":!0}):i.jsx(oF,{size:16,"aria-hidden":!0}),t==="disabled"||t==="expired"?"Enable":"Disable"]}),i.jsx("button",{type:"button",className:Dn.tokenDeleteBtn,onClick:b,disabled:_,"aria-label":`${w} ${e}`,children:i.jsx(Wl,{size:16,"aria-hidden":!0})})]})})]})})}const lae={...ae,...za};function nA(e){return e.valid_until!=null&&new Date(e.valid_until)<new Date?"expired":e.disabled?"disabled":"active"}function cae(e){const t=[`Created ${new Date(e.created_at).toLocaleDateString()}`];return e.valid_until&&t.push(`Expires ${new Date(e.valid_until).toLocaleDateString()}`),e.last_used_at&&t.push(`Last used ${new Date(e.last_used_at).toLocaleDateString()}`),t.join("  ")}function uae({tokens:e,podcastId:t,readOnly:r,onDelete:n}){const a=Lt(),[o,u]=v.useState(null),[c,p]=v.useState(""),h=Ue({mutationFn:({tokenId:f,body:m})=>dQ(t,f,m),onSuccess:()=>{a.invalidateQueries({queryKey:["subscriber-tokens",t]}),u(null),p("")}});return i.jsx("ul",{className:lae.exportList,children:e.map(f=>i.jsx(p6,{name:f.name,status:nA(f),metaText:cae(f),readOnly:r,extendEditing:o===f.id,extendValue:c,onExtendValueChange:p,onExtendSave:()=>{if(c.trim()){const m=new Date(c).toISOString();h.mutate({tokenId:f.id,body:{valid_until:m}})}},onExtendCancel:()=>{u(null),p("")},onExtendClick:()=>{u(f.id);const m=new Date(Date.now()+365*24*60*60*1e3);p($d(m))},onEnableDisable:()=>h.mutate({tokenId:f.id,body:{disabled:!f.disabled}}),enableDisableDisabled:h.isPending||nA(f)==="expired",onRevoke:()=>n(f),revokeDisabled:!1,updatePending:h.isPending,revokeLabel:"Delete"},f.id))})}const ad={...ae,...za};function h6({page:e,totalPages:t,rangeStart:r,rangeEnd:n,totalTokens:a,onPageChange:o,itemLabel:u="token"}){if(t<=1)return null;const c=a===1?u:`${u}s`;return i.jsxs("div",{className:ad.tokenPaginationWrap,children:[i.jsxs("p",{className:ad.tokenPaginationMeta,children:["Showing ",r,"",n," of ",a," ",c]}),i.jsxs("div",{className:ad.tokenPagination,children:[i.jsx("button",{type:"button",className:ad.tokenPageBtn,onClick:()=>{const p=Math.max(1,e-1);p!==e&&o(p)},disabled:e<=1,"aria-label":"Previous page",children:"Previous"}),i.jsxs("span",{className:ad.tokenPageInfo,children:["Page ",e," of ",t]}),i.jsx("button",{type:"button",className:ad.tokenPageBtn,onClick:()=>{const p=Math.min(t,e+1);p!==e&&o(p)},disabled:e>=t,"aria-label":"Next page",children:"Next"})]})]})}const oo={...ae,...za};function dae({token:e,isOpen:t,onClose:r,onConfirm:n,isPending:a}){return i.jsx(ur,{open:t,onOpenChange:o=>!o&&r(),children:i.jsxs(br,{children:[i.jsx(dr,{className:oo.dialogOverlay}),i.jsxs(fr,{className:oo.dialogContent,children:[i.jsxs("div",{className:oo.dialogHeaderRow,children:[i.jsx(pr,{className:oo.dialogTitle,children:"Delete token?"}),i.jsx(pt,{asChild:!0,children:i.jsx("button",{type:"button",className:oo.dialogClose,"aria-label":"Close",children:i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":"true"})})})]}),i.jsx(Nr,{className:oo.dialogDescription,children:e?`This will permanently delete the token "${e.name}". Subscribers using this feed URL will no longer be able to access the feed. This cannot be undone.`:"This will permanently delete this token. This cannot be undone."}),i.jsxs("div",{className:oo.dialogActions,children:[i.jsx(pt,{asChild:!0,children:i.jsx("button",{type:"button",className:oo.subscriberDialogCancelBtn,"aria-label":"Cancel",children:"Cancel"})}),i.jsx("button",{type:"button",className:oo.dialogConfirmRemove,onClick:()=>{e&&(n(e.id),r())},disabled:a,"aria-label":"Confirm delete token",children:a?"Deleting...":"Delete"})]})]})]})})}const ha={...ae,...za};function fae({podcastId:e,podcastSlug:t,readOnly:r,subscriberOnlyFeedEnabled:n,effectiveMaxSubscriberTokens:a}){const o=Lt(),[u,c]=v.useState(!1),[p,h]=v.useState(""),[f,m]=v.useState(""),[b,_]=v.useState(!0),[j,w]=v.useState(1),[y,x]=v.useState(null),[S,T]=v.useState(null),[N,A]=v.useState(!1),P=10,k=v.useRef(null),R=v.useRef(!0),D=v.useRef(void 0);v.useEffect(()=>{if(p.trim()===""){m(""),w(1);return}const xe=window.setTimeout(()=>{m(p.trim()),w(1)},300);return()=>window.clearTimeout(xe)},[p]),v.useEffect(()=>{w(1)},[b]),v.useEffect(()=>{D.current!==void 0&&D.current!==j&&(R.current=!1),D.current=j},[j]);const{data:I,isLoading:q}=Oe({queryKey:["subscriber-tokens",e,j,f,b],queryFn:()=>JP(e,{limit:P,offset:(j-1)*P,q:f||void 0,sort:b?"newest":"oldest"}),enabled:!!e&&n});v.useEffect(()=>{if(R.current||q)return;R.current=!0;const xe=k.current,He=requestAnimationFrame(()=>{xe==null||xe.scrollIntoView({behavior:"smooth",block:"start"})});return()=>cancelAnimationFrame(He)},[j,q]);const z=(I==null?void 0:I.tokens)??[],M=(I==null?void 0:I.total)??0,F=Math.max(1,Math.ceil(M/P)),B=Math.max(1,Math.min(j,F)),O=M===0?0:(B-1)*P+1,$=(B-1)*P+z.length;v.useEffect(()=>{I!=null&&M>0&&w(xe=>xe>F?Math.max(1,F):xe)},[F,I,M]);const{data:K}=Oe({queryKey:["subscriber-tokens-count",e],queryFn:()=>JP(e,{limit:1,offset:0}),enabled:!!e&&n}),V=(K==null?void 0:K.total)??0,Q=a!=null&&a>0&&V>=a,U=Ue({mutationFn:()=>Jj(e,{subscriber_only_feed_enabled:1}),onSuccess:()=>{o.invalidateQueries({queryKey:["podcast",e]})}}),X=Ue({mutationFn:xe=>fQ(e,xe),onSuccess:()=>{o.invalidateQueries({queryKey:["subscriber-tokens",e]}),o.invalidateQueries({queryKey:["subscriber-tokens-count",e]})}}),ee=typeof window<"u"?`${window.location.origin}/api/public/podcasts/${encodeURIComponent(t)}`:"";function te(xe){const He=`${ee}/private/${encodeURIComponent(xe)}/rss`;navigator.clipboard.writeText(He).then(()=>{A(!0),setTimeout(()=>A(!1),2e3)})}function me(xe){h(xe)}function Ce(xe){_(xe)}return i.jsxs("div",{className:ha.card,children:[i.jsx("div",{className:ha.exportHeader,children:i.jsxs("div",{className:ha.exportTitle,children:[i.jsx(KM,{size:18,strokeWidth:2,"aria-hidden":"true"}),i.jsx("h2",{ref:k,className:ha.sectionTitle,children:"Subscriber Tokens"})]})}),n?i.jsxs(i.Fragment,{children:[i.jsx("p",{className:ha.pdCardSectionSub,children:"Create tokens for private RSS feeds. Each token gets a unique feed URL that includes subscriber-only episodes. Share the URL only with the intended subscriber. Disabled and read-only users cannot create or delete tokens."}),!r&&i.jsx(oae,{podcastId:e,atLimit:Q,limitValue:a,onSuccess:x}),y&&i.jsx(sae,{token:y,baseUrl:ee,onDismiss:()=>x(null),copied:N,onCopy:te}),i.jsx(f6,{searchQuery:p,onSearchChange:me,sortNewestFirst:b,onSortChange:Ce,totalCount:V}),q?i.jsx("p",{className:ha.pdCardEmptyState,children:"Loading..."}):V===0?i.jsx("p",{className:ha.pdCardEmptyState,children:"No subscriber tokens yet. Create one above to share a private feed URL."}):M===0?i.jsx("div",{className:ha.tokenNoMatch,children:i.jsx("p",{className:ha.tokenNoMatchText,children:"No tokens match your search."})}):i.jsxs(i.Fragment,{children:[i.jsx(uae,{tokens:z,podcastId:e,readOnly:r,onDelete:T}),i.jsx(h6,{page:B,totalPages:F,rangeStart:O,rangeEnd:$,totalTokens:M,onPageChange:w})]}),i.jsx(dae,{token:S,isOpen:!!S,onClose:()=>T(null),onConfirm:xe=>X.mutate(xe),isPending:X.isPending})]}):i.jsxs("div",{className:ha.subscriberDisabledBody,children:[i.jsx("p",{className:ha.subscriberDisabledMessage,children:"Subscriptions is currently disabled."}),i.jsxs("div",{className:ha.subscriberDisabledActions,children:[i.jsx("button",{type:"button",className:ha.subscriberInfoBtn,onClick:()=>c(!0),"aria-label":"More info about subscriber feature",children:"More Info"}),i.jsx("button",{type:"button",className:ha.subscriberEnableBtn,onClick:()=>U.mutate(),disabled:U.isPending,"aria-label":"Enable subscriptions for this show",children:U.isPending?"Enabling...":"Enable"})]}),i.jsx(iae,{isOpen:u,onClose:()=>c(!1)})]})]})}const pae="_page_1jltr_3",hae="_error_1jltr_8",mae={page:pae,error:hae},K1={...ae,...mae};function gae(){const{id:e}=bi(),{data:t,isLoading:r,isFetching:n,isError:a}=Oe({queryKey:["podcast",e],queryFn:()=>fu(e),enabled:!!e}),{data:o}=Oe({queryKey:["me"],queryFn:_i}),{data:u}=Oe({queryKey:["publicConfig",typeof window<"u"?window.location.host:""],queryFn:cu,staleTime:1e4}),c=(u==null?void 0:u.public_feeds_enabled)!==!1,p=ou(o==null?void 0:o.user),h=t==null?void 0:t.my_role,f=h==="owner"||h==="manager",[m,b]=v.useState(!1),[_,j]=v.useState(!1);if(!e)return null;if(r||!t&&n)return i.jsx(ba,{});if(a||!t)return i.jsx("p",{className:K1.error,children:"Podcast not found."});const w=[{label:"Home",href:"/"},{label:t.title,mobileLabel:"Podcast"}];return i.jsxs("div",{className:K1.page,children:[i.jsx(tf,{items:w}),i.jsxs("div",{className:K1.card,children:[i.jsx(bte,{podcast:t,readOnly:p,canManageShow:f,onEditClick:()=>b(!0),onLinksClick:()=>j(!0),centerTitle:!0}),i.jsx(_te,{podcast:t,publicFeedsEnabled:c})]}),m&&i.jsx(c6,{open:!0,podcastId:e,onClose:()=>b(!1)}),_&&i.jsx(zee,{open:!0,podcastId:e,onClose:()=>j(!1)}),i.jsx(xte,{podcast:t}),i.jsx(hre,{podcastId:e,myRole:h}),f&&i.jsx(lne,{podcastId:e,effectiveMaxCollaborators:(t==null?void 0:t.effective_max_collaborators)??void 0}),f&&i.jsx(Bre,{podcastId:e,readOnly:p}),f&&i.jsx(fae,{podcastId:e,podcastSlug:t.slug,readOnly:p,subscriberOnlyFeedEnabled:(t==null?void 0:t.subscriber_only_feed_enabled)===1,effectiveMaxSubscriberTokens:(t==null?void 0:t.effective_max_subscriber_tokens)??void 0})]})}function m6(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=m6(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Mt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=m6(e))&&(n&&(n+=" "),n+=t);return n}var vae=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function nC(e){if(typeof e!="string")return!1;var t=vae;return t.includes(e)}var yae=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],bae=new Set(yae);function g6(e){return typeof e!="string"?!1:bae.has(e)}function v6(e){return typeof e=="string"&&e.startsWith("data-")}function Jn(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(g6(r)||v6(r))&&(t[r]=e[r]);return t}function Zc(e){if(e==null)return null;if(v.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Jn(t)}return typeof e=="object"&&!Array.isArray(e)?Jn(e):null}function zn(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(g6(r)||v6(r)||nC(r))&&(t[r]=e[r]);return t}function _ae(e){return e==null?null:v.isValidElement(e)?zn(e.props):typeof e=="object"&&!Array.isArray(e)?zn(e):null}var xae=["children","width","height","viewBox","className","style","title","desc"];function yS(){return yS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yS.apply(null,arguments)}function wae(e,t){if(e==null)return{};var r,n,a=Sae(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Sae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var aC=v.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:o,className:u,style:c,title:p,desc:h}=e,f=wae(e,xae),m=o||{width:n,height:a,x:0,y:0},b=Mt("recharts-surface",u);return v.createElement("svg",yS({},zn(f),{className:b,width:n,height:a,style:c,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),v.createElement("title",null,p),v.createElement("desc",null,h),r)}),jae=["children","className"];function bS(){return bS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bS.apply(null,arguments)}function Cae(e,t){if(e==null)return{};var r,n,a=kae(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function kae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Lr=v.forwardRef((e,t)=>{var{children:r,className:n}=e,a=Cae(e,jae),o=Mt("recharts-layer",n);return v.createElement("g",bS({className:o},zn(a),{ref:t}),r)}),y6=v.createContext(null),Nae=()=>v.useContext(y6);function cr(e){return function(){return e}}const b6=Math.cos,ry=Math.sin,Wi=Math.sqrt,ny=Math.PI,yb=2*ny,_S=Math.PI,xS=2*_S,Cc=1e-6,Eae=xS-Cc;function _6(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Tae(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return _6;const r=10**t;return function(n){this._+=n[0];for(let a=1,o=n.length;a<o;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class Pae{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?_6:Tae(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,o,u){this._append`C${+t},${+r},${+n},${+a},${this._x1=+o},${this._y1=+u}`}arcTo(t,r,n,a,o){if(t=+t,r=+r,n=+n,a=+a,o=+o,o<0)throw new Error(`negative radius: ${o}`);let u=this._x1,c=this._y1,p=n-t,h=a-r,f=u-t,m=c-r,b=f*f+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(b>Cc)if(!(Math.abs(m*p-h*f)>Cc)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let _=n-u,j=a-c,w=p*p+h*h,y=_*_+j*j,x=Math.sqrt(w),S=Math.sqrt(b),T=o*Math.tan((_S-Math.acos((w+b-y)/(2*x*S)))/2),N=T/S,A=T/x;Math.abs(N-1)>Cc&&this._append`L${t+N*f},${r+N*m}`,this._append`A${o},${o},0,0,${+(m*_>f*j)},${this._x1=t+A*p},${this._y1=r+A*h}`}}arc(t,r,n,a,o,u){if(t=+t,r=+r,n=+n,u=!!u,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(a),p=n*Math.sin(a),h=t+c,f=r+p,m=1^u,b=u?a-o:o-a;this._x1===null?this._append`M${h},${f}`:(Math.abs(this._x1-h)>Cc||Math.abs(this._y1-f)>Cc)&&this._append`L${h},${f}`,n&&(b<0&&(b=b%xS+xS),b>Eae?this._append`A${n},${n},0,1,${m},${t-c},${r-p}A${n},${n},0,1,${m},${this._x1=h},${this._y1=f}`:b>Cc&&this._append`A${n},${n},0,${+(b>=_S)},${m},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function iC(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Pae(t)}function sC(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function x6(e){this._context=e}x6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function bb(e){return new x6(e)}function w6(e){return e[0]}function S6(e){return e[1]}function j6(e,t){var r=cr(!0),n=null,a=bb,o=null,u=iC(c);e=typeof e=="function"?e:e===void 0?w6:cr(e),t=typeof t=="function"?t:t===void 0?S6:cr(t);function c(p){var h,f=(p=sC(p)).length,m,b=!1,_;for(n==null&&(o=a(_=u())),h=0;h<=f;++h)!(h<f&&r(m=p[h],h,p))===b&&((b=!b)?o.lineStart():o.lineEnd()),b&&o.point(+e(m,h,p),+t(m,h,p));if(_)return o=null,_+""||null}return c.x=function(p){return arguments.length?(e=typeof p=="function"?p:cr(+p),c):e},c.y=function(p){return arguments.length?(t=typeof p=="function"?p:cr(+p),c):t},c.defined=function(p){return arguments.length?(r=typeof p=="function"?p:cr(!!p),c):r},c.curve=function(p){return arguments.length?(a=p,n!=null&&(o=a(n)),c):a},c.context=function(p){return arguments.length?(p==null?n=o=null:o=a(n=p),c):n},c}function Vg(e,t,r){var n=null,a=cr(!0),o=null,u=bb,c=null,p=iC(h);e=typeof e=="function"?e:e===void 0?w6:cr(+e),t=typeof t=="function"?t:cr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?S6:cr(+r);function h(m){var b,_,j,w=(m=sC(m)).length,y,x=!1,S,T=new Array(w),N=new Array(w);for(o==null&&(c=u(S=p())),b=0;b<=w;++b){if(!(b<w&&a(y=m[b],b,m))===x)if(x=!x)_=b,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),j=b-1;j>=_;--j)c.point(T[j],N[j]);c.lineEnd(),c.areaEnd()}x&&(T[b]=+e(y,b,m),N[b]=+t(y,b,m),c.point(n?+n(y,b,m):T[b],r?+r(y,b,m):N[b]))}if(S)return c=null,S+""||null}function f(){return j6().defined(a).curve(u).context(o)}return h.x=function(m){return arguments.length?(e=typeof m=="function"?m:cr(+m),n=null,h):e},h.x0=function(m){return arguments.length?(e=typeof m=="function"?m:cr(+m),h):e},h.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:cr(+m),h):n},h.y=function(m){return arguments.length?(t=typeof m=="function"?m:cr(+m),r=null,h):t},h.y0=function(m){return arguments.length?(t=typeof m=="function"?m:cr(+m),h):t},h.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:cr(+m),h):r},h.lineX0=h.lineY0=function(){return f().x(e).y(t)},h.lineY1=function(){return f().x(e).y(r)},h.lineX1=function(){return f().x(n).y(t)},h.defined=function(m){return arguments.length?(a=typeof m=="function"?m:cr(!!m),h):a},h.curve=function(m){return arguments.length?(u=m,o!=null&&(c=u(o)),h):u},h.context=function(m){return arguments.length?(m==null?o=c=null:c=u(o=m),h):o},h}class C6{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Aae(e){return new C6(e,!0)}function Rae(e){return new C6(e,!1)}const oC={draw(e,t){const r=Wi(t/ny);e.moveTo(r,0),e.arc(0,0,r,0,yb)}},Oae={draw(e,t){const r=Wi(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},k6=Wi(1/3),Dae=k6*2,Mae={draw(e,t){const r=Wi(t/Dae),n=r*k6;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Lae={draw(e,t){const r=Wi(t),n=-r/2;e.rect(n,n,r,r)}},Iae=.8908130915292852,N6=ry(ny/10)/ry(7*ny/10),$ae=ry(yb/10)*N6,Bae=-b6(yb/10)*N6,zae={draw(e,t){const r=Wi(t*Iae),n=$ae*r,a=Bae*r;e.moveTo(0,-r),e.lineTo(n,a);for(let o=1;o<5;++o){const u=yb*o/5,c=b6(u),p=ry(u);e.lineTo(p*r,-c*r),e.lineTo(c*n-p*a,p*n+c*a)}e.closePath()}},G1=Wi(3),Fae={draw(e,t){const r=-Wi(t/(G1*3));e.moveTo(0,r*2),e.lineTo(-G1*r,-r),e.lineTo(G1*r,-r),e.closePath()}},ni=-.5,ai=Wi(3)/2,wS=1/Wi(12),qae=(wS/2+1)*3,Uae={draw(e,t){const r=Wi(t/qae),n=r/2,a=r*wS,o=n,u=r*wS+r,c=-o,p=u;e.moveTo(n,a),e.lineTo(o,u),e.lineTo(c,p),e.lineTo(ni*n-ai*a,ai*n+ni*a),e.lineTo(ni*o-ai*u,ai*o+ni*u),e.lineTo(ni*c-ai*p,ai*c+ni*p),e.lineTo(ni*n+ai*a,ni*a-ai*n),e.lineTo(ni*o+ai*u,ni*u-ai*o),e.lineTo(ni*c+ai*p,ni*p-ai*c),e.closePath()}};function Hae(e,t){let r=null,n=iC(a);e=typeof e=="function"?e:cr(e||oC),t=typeof t=="function"?t:cr(t===void 0?64:+t);function a(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return a.type=function(o){return arguments.length?(e=typeof o=="function"?o:cr(o),a):e},a.size=function(o){return arguments.length?(t=typeof o=="function"?o:cr(+o),a):t},a.context=function(o){return arguments.length?(r=o??null,a):r},a}function ay(){}function iy(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function E6(e){this._context=e}E6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:iy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:iy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Wae(e){return new E6(e)}function T6(e){this._context=e}T6.prototype={areaStart:ay,areaEnd:ay,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:iy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Kae(e){return new T6(e)}function P6(e){this._context=e}P6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:iy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Gae(e){return new P6(e)}function A6(e){this._context=e}A6.prototype={areaStart:ay,areaEnd:ay,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Vae(e){return new A6(e)}function aA(e){return e<0?-1:1}function iA(e,t,r){var n=e._x1-e._x0,a=t-e._x1,o=(e._y1-e._y0)/(n||a<0&&-0),u=(r-e._y1)/(a||n<0&&-0),c=(o*a+u*n)/(n+a);return(aA(o)+aA(u))*Math.min(Math.abs(o),Math.abs(u),.5*Math.abs(c))||0}function sA(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function V1(e,t,r){var n=e._x0,a=e._y0,o=e._x1,u=e._y1,c=(o-n)/3;e._context.bezierCurveTo(n+c,a+c*t,o-c,u-c*r,o,u)}function sy(e){this._context=e}sy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:V1(this,this._t0,sA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,V1(this,sA(this,r=iA(this,e,t)),r);break;default:V1(this,this._t0,r=iA(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function R6(e){this._context=new O6(e)}(R6.prototype=Object.create(sy.prototype)).point=function(e,t){sy.prototype.point.call(this,t,e)};function O6(e){this._context=e}O6.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,o){this._context.bezierCurveTo(t,e,n,r,o,a)}};function Yae(e){return new sy(e)}function Qae(e){return new R6(e)}function D6(e){this._context=e}D6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=oA(e),a=oA(t),o=0,u=1;u<r;++o,++u)this._context.bezierCurveTo(n[0][o],a[0][o],n[1][o],a[1][o],e[u],t[u]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function oA(e){var t,r=e.length-1,n,a=new Array(r),o=new Array(r),u=new Array(r);for(a[0]=0,o[0]=2,u[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,o[t]=4,u[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,o[r-1]=7,u[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/o[t-1],o[t]-=n,u[t]-=n*u[t-1];for(a[r-1]=u[r-1]/o[r-1],t=r-2;t>=0;--t)a[t]=(u[t]-a[t+1])/o[t];for(o[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-a[t+1];return[a,o]}function Xae(e){return new D6(e)}function _b(e,t){this._context=e,this._t=t}_b.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Zae(e){return new _b(e,.5)}function Jae(e){return new _b(e,0)}function eie(e){return new _b(e,1)}function Jc(e,t){if((u=e.length)>1)for(var r=1,n,a,o=e[t[0]],u,c=o.length;r<u;++r)for(a=o,o=e[t[r]],n=0;n<c;++n)o[n][1]+=o[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function SS(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function tie(e,t){return e[t]}function rie(e){const t=[];return t.key=e,t}function nie(){var e=cr([]),t=SS,r=Jc,n=tie;function a(o){var u=Array.from(e.apply(this,arguments),rie),c,p=u.length,h=-1,f;for(const m of o)for(c=0,++h;c<p;++c)(u[c][h]=[0,+n(m,u[c].key,h,o)]).data=m;for(c=0,f=sC(t(u));c<p;++c)u[f[c]].index=c;return r(u,f),u}return a.keys=function(o){return arguments.length?(e=typeof o=="function"?o:cr(Array.from(o)),a):e},a.value=function(o){return arguments.length?(n=typeof o=="function"?o:cr(+o),a):n},a.order=function(o){return arguments.length?(t=o==null?SS:typeof o=="function"?o:cr(Array.from(o)),a):t},a.offset=function(o){return arguments.length?(r=o??Jc,a):r},a}function aie(e,t){if((n=e.length)>0){for(var r,n,a=0,o=e[0].length,u;a<o;++a){for(u=r=0;r<n;++r)u+=e[r][a][1]||0;if(u)for(r=0;r<n;++r)e[r][a][1]/=u}Jc(e,t)}}function iie(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,o=n.length;r<o;++r){for(var u=0,c=0;u<a;++u)c+=e[u][r][1]||0;n[r][1]+=n[r][0]=-c/2}Jc(e,t)}}function sie(e,t){if(!(!((u=e.length)>0)||!((o=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,o,u;n<o;++n){for(var c=0,p=0,h=0;c<u;++c){for(var f=e[t[c]],m=f[n][1]||0,b=f[n-1][1]||0,_=(m-b)/2,j=0;j<c;++j){var w=e[t[j]],y=w[n][1]||0,x=w[n-1][1]||0;_+=y-x}p+=m,h+=_*m}a[n-1][1]+=a[n-1][0]=r,p&&(r-=h/p)}a[n-1][1]+=a[n-1][0]=r,Jc(e,t)}}var Y1={},Q1={},lA;function oie(){return lA||(lA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(Q1)),Q1}var X1={},cA;function M6(){return cA||(cA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(X1)),X1}var Z1={},uA;function lC(){return uA||(uA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(Z1)),Z1}var J1={},ex={},dA;function lie(){return dA||(dA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(ex)),ex}var fA;function cC(){return fA||(fA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lie(),r=lC();function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const o=[],u=a.length;if(u===0)return o;let c=0,p="",h="",f=!1;for(a.charCodeAt(0)===46&&(o.push(""),c++);c<u;){const m=a[c];h?m==="\\"&&c+1<u?(c++,p+=a[c]):m===h?h="":p+=m:f?m==='"'||m==="'"?h=m:m==="]"?(f=!1,o.push(p),p=""):p+=m:m==="["?(f=!0,p&&(o.push(p),p="")):m==="."?p&&(o.push(p),p=""):p+=m,c++}return p&&o.push(p),o}e.toPath=n})(J1)),J1}var pA;function uC(){return pA||(pA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oie(),r=M6(),n=lC(),a=cC();function o(c,p,h){if(c==null)return h;switch(typeof p){case"string":{if(t.isUnsafeProperty(p))return h;const f=c[p];return f===void 0?r.isDeepKey(p)?o(c,a.toPath(p),h):h:f}case"number":case"symbol":{typeof p=="number"&&(p=n.toKey(p));const f=c[p];return f===void 0?h:f}default:{if(Array.isArray(p))return u(c,p,h);if(Object.is(p==null?void 0:p.valueOf(),-0)?p="-0":p=String(p),t.isUnsafeProperty(p))return h;const f=c[p];return f===void 0?h:f}}}function u(c,p,h){if(p.length===0)return h;let f=c;for(let m=0;m<p.length;m++){if(f==null||t.isUnsafeProperty(p[m]))return h;f=f[p[m]]}return f===void 0?h:f}e.get=o})(Y1)),Y1}var tx,hA;function cie(){return hA||(hA=1,tx=uC().get),tx}var uie=cie();const eu=Ts(uie);var die=4;function Il(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:die,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function Dr(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((a,o,u)=>{var c=r[u-1];return typeof c=="string"?a+c+o:c!==void 0?a+Il(c)+o:a+o},"")}var yn=e=>e===0?0:e>0?1:-1,qi=e=>typeof e=="number"&&e!=+e,tu=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Me=e=>(typeof e=="number"||e instanceof Number)&&!qi(e),js=e=>Me(e)||typeof e=="string",fie=0,yh=e=>{var t=++fie;return"".concat(e||"").concat(t)},Bn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Me(t)&&typeof t!="string")return n;var o;if(tu(t)){if(r==null)return n;var u=t.indexOf("%");o=r*parseFloat(t.slice(0,u))/100}else o=+t;return qi(o)&&(o=n),a&&r!=null&&o>r&&(o=r),o},L6=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function Gt(e,t,r){return Me(e)&&Me(t)?Il(e+r*(t-e)):t}function I6(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):eu(n,t))===r)}var kr=e=>e===null||typeof e>"u",Yh=e=>kr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function va(e){return e!=null}function Gl(){}var pie=["type","size","sizeType"];function jS(){return jS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jS.apply(null,arguments)}function mA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mA(Object(r),!0).forEach(function(n){hie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hie(e,t,r){return(t=mie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mie(e){var t=gie(e,"string");return typeof t=="symbol"?t:t+""}function gie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vie(e,t){if(e==null)return{};var r,n,a=yie(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function yie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $6={symbolCircle:oC,symbolCross:Oae,symbolDiamond:Mae,symbolSquare:Lae,symbolStar:zae,symbolTriangle:Fae,symbolWye:Uae},bie=Math.PI/180,_ie=e=>{var t="symbol".concat(Yh(e));return $6[t]||oC},xie=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*bie;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},wie=(e,t)=>{$6["symbol".concat(Yh(e))]=t},dC=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=vie(e,pie),o=gA(gA({},a),{},{type:t,size:r,sizeType:n}),u="circle";typeof t=="string"&&(u=t);var c=()=>{var b=_ie(u),_=Hae().type(b).size(xie(r,n,u)),j=_();if(j!==null)return j},{className:p,cx:h,cy:f}=o,m=zn(o);return Me(h)&&Me(f)&&Me(r)?v.createElement("path",jS({},m,{className:Mt("recharts-symbols",p),transform:"translate(".concat(h,", ").concat(f,")"),d:c()})):null};dC.registerSymbol=wie;var B6=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,fC=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(v.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{nC(a)&&(n[a]=(o=>r[a](r,o)))}),n},Sie=(e,t,r)=>n=>(e(t,r,n),null),Qh=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var o=e[a];nC(a)&&typeof o=="function"&&(n||(n={}),n[a]=Sie(o,t,r))}),n};function vA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jie(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vA(Object(r),!0).forEach(function(n){Cie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cie(e,t,r){return(t=kie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kie(e){var t=Nie(e,"string");return typeof t=="symbol"?t:t+""}function Nie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ir(e,t){var r=jie({},e),n=t,a=Object.keys(t),o=a.reduce((u,c)=>(u[c]===void 0&&n[c]!==void 0&&(u[c]=n[c]),u),r);return o}function oy(){return oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oy.apply(null,arguments)}function yA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Eie(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yA(Object(r),!0).forEach(function(n){Tie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tie(e,t,r){return(t=Pie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pie(e){var t=Aie(e,"string");return typeof t=="symbol"?t:t+""}function Aie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var li=32,Rie={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function Oie(e){var{data:t,iconType:r,inactiveColor:n}=e,a=li/2,o=li/6,u=li/3,c=t.inactive?n:t.color,p=r??t.type;if(p==="none")return null;if(p==="plainline"){var h;return v.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:(h=t.payload)===null||h===void 0?void 0:h.strokeDasharray,x1:0,y1:a,x2:li,y2:a,className:"recharts-legend-icon"})}if(p==="line")return v.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(u,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*u,",").concat(a,`
            H`).concat(li,"M").concat(2*u,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(u,",").concat(a),className:"recharts-legend-icon"});if(p==="rect")return v.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(li/8,"h").concat(li,"v").concat(li*3/4,"h").concat(-li,"z"),className:"recharts-legend-icon"});if(v.isValidElement(t.legendIcon)){var f=Eie({},t);return delete f.legendIcon,v.cloneElement(t.legendIcon,f)}return v.createElement(dC,{fill:c,cx:a,cy:a,size:li,sizeType:"diameter",type:p})}function Die(e){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:o,iconType:u}=e,c={x:0,y:0,width:li,height:li},p={display:n==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((f,m)=>{var b=f.formatter||a,_=Mt({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:f.inactive});if(f.type==="none")return null;var j=f.inactive?o:f.color,w=b?b(f.value,f,m):f.value;return v.createElement("li",oy({className:_,style:p,key:"legend-item-".concat(m)},Qh(e,f,m)),v.createElement(aC,{width:r,height:r,viewBox:c,style:h,"aria-label":"".concat(w," legend icon")},v.createElement(Oie,{data:f,iconType:u,inactiveColor:o})),v.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},w))})}var Mie=e=>{var t=Ir(e,Rie),{payload:r,layout:n,align:a}=t;if(!r||!r.length)return null;var o={padding:0,margin:0,textAlign:n==="horizontal"?a:"left"};return v.createElement("ul",{className:"recharts-default-legend",style:o},v.createElement(Die,oy({},t,{payload:r})))},rx={},nx={},bA;function Lie(){return bA||(bA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let o=0;o<r.length;o++){const u=r[o],c=n(u,o,r);a.has(c)||a.set(c,u)}return Array.from(a.values())}e.uniqBy=t})(nx)),nx}var ax={},_A;function Iie(){return _A||(_A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return function(...a){return r.apply(this,a.slice(0,n))}}e.ary=t})(ax)),ax}var ix={},xA;function z6(){return xA||(xA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(ix)),ix}var sx={},ox={},lx={},wA;function $ie(){return wA||(wA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(lx)),lx}var SA;function pC(){return SA||(SA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$ie();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(ox)),ox}var cx={},jA;function Bie(){return jA||(jA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(cx)),cx}var CA;function zie(){return CA||(CA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pC(),r=Bie();function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(sx)),sx}var ux={},dx={},kA;function Fie(){return kA||(kA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uC();function r(n){return function(a){return t.get(a,n)}}e.property=r})(dx)),dx}var fx={},px={},hx={},mx={},NA;function F6(){return NA||(NA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(mx)),mx}var gx={},EA;function q6(){return EA||(EA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(gx)),gx}var vx={},TA;function U6(){return TA||(TA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.isEqualsSameValueZero=t})(vx)),vx}var PA;function qie(){return PA||(PA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F6(),r=q6(),n=U6();function a(f,m,b){return typeof b!="function"?a(f,m,()=>{}):o(f,m,function _(j,w,y,x,S,T){const N=b(j,w,y,x,S,T);return N!==void 0?!!N:o(j,w,_,T)},new Map)}function o(f,m,b,_){if(m===f)return!0;switch(typeof m){case"object":return u(f,m,b,_);case"function":return Object.keys(m).length>0?o(f,{...m},b,_):n.isEqualsSameValueZero(f,m);default:return t.isObject(f)?typeof m=="string"?m==="":!0:n.isEqualsSameValueZero(f,m)}}function u(f,m,b,_){if(m==null)return!0;if(Array.isArray(m))return p(f,m,b,_);if(m instanceof Map)return c(f,m,b,_);if(m instanceof Set)return h(f,m,b,_);const j=Object.keys(m);if(f==null||r.isPrimitive(f))return j.length===0;if(j.length===0)return!0;if(_!=null&&_.has(m))return _.get(m)===f;_==null||_.set(m,f);try{for(let w=0;w<j.length;w++){const y=j[w];if(!r.isPrimitive(f)&&!(y in f)||m[y]===void 0&&f[y]!==void 0||m[y]===null&&f[y]!==null||!b(f[y],m[y],y,f,m,_))return!1}return!0}finally{_==null||_.delete(m)}}function c(f,m,b,_){if(m.size===0)return!0;if(!(f instanceof Map))return!1;for(const[j,w]of m.entries()){const y=f.get(j);if(b(y,w,j,f,m,_)===!1)return!1}return!0}function p(f,m,b,_){if(m.length===0)return!0;if(!Array.isArray(f))return!1;const j=new Set;for(let w=0;w<m.length;w++){const y=m[w];let x=!1;for(let S=0;S<f.length;S++){if(j.has(S))continue;const T=f[S];let N=!1;if(b(T,y,w,f,m,_)&&(N=!0),N){j.add(S),x=!0;break}}if(!x)return!1}return!0}function h(f,m,b,_){return m.size===0?!0:f instanceof Set?p([...f],[...m],b,_):!1}e.isMatchWith=a,e.isSetMatch=h})(hx)),hx}var AA;function H6(){return AA||(AA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qie();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(px)),px}var yx={},bx={},_x={},RA;function Uie(){return RA||(RA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(_x)),_x}var xx={},OA;function hC(){return OA||(OA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(xx)),xx}var wx={},DA;function W6(){return DA||(DA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",o="[object Arguments]",u="[object Symbol]",c="[object Date]",p="[object Map]",h="[object Set]",f="[object Array]",m="[object Function]",b="[object ArrayBuffer]",_="[object Object]",j="[object Error]",w="[object DataView]",y="[object Uint8Array]",x="[object Uint8ClampedArray]",S="[object Uint16Array]",T="[object Uint32Array]",N="[object BigUint64Array]",A="[object Int8Array]",P="[object Int16Array]",k="[object Int32Array]",R="[object BigInt64Array]",D="[object Float32Array]",I="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=b,e.arrayTag=f,e.bigInt64ArrayTag=R,e.bigUint64ArrayTag=N,e.booleanTag=a,e.dataViewTag=w,e.dateTag=c,e.errorTag=j,e.float32ArrayTag=D,e.float64ArrayTag=I,e.functionTag=m,e.int16ArrayTag=P,e.int32ArrayTag=k,e.int8ArrayTag=A,e.mapTag=p,e.numberTag=n,e.objectTag=_,e.regexpTag=t,e.setTag=h,e.stringTag=r,e.symbolTag=u,e.uint16ArrayTag=S,e.uint32ArrayTag=T,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=x})(wx)),wx}var Sx={},MA;function Hie(){return MA||(MA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Sx)),Sx}var LA;function K6(){return LA||(LA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Uie(),r=hC(),n=W6(),a=q6(),o=Hie();function u(f,m){return c(f,void 0,f,new Map,m)}function c(f,m,b,_=new Map,j=void 0){const w=j==null?void 0:j(f,m,b,_);if(w!==void 0)return w;if(a.isPrimitive(f))return f;if(_.has(f))return _.get(f);if(Array.isArray(f)){const y=new Array(f.length);_.set(f,y);for(let x=0;x<f.length;x++)y[x]=c(f[x],x,b,_,j);return Object.hasOwn(f,"index")&&(y.index=f.index),Object.hasOwn(f,"input")&&(y.input=f.input),y}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const y=new RegExp(f.source,f.flags);return y.lastIndex=f.lastIndex,y}if(f instanceof Map){const y=new Map;_.set(f,y);for(const[x,S]of f)y.set(x,c(S,x,b,_,j));return y}if(f instanceof Set){const y=new Set;_.set(f,y);for(const x of f)y.add(c(x,void 0,b,_,j));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(o.isTypedArray(f)){const y=new(Object.getPrototypeOf(f)).constructor(f.length);_.set(f,y);for(let x=0;x<f.length;x++)y[x]=c(f[x],x,b,_,j);return y}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const y=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return _.set(f,y),p(y,f,b,_,j),y}if(typeof File<"u"&&f instanceof File){const y=new File([f],f.name,{type:f.type});return _.set(f,y),p(y,f,b,_,j),y}if(typeof Blob<"u"&&f instanceof Blob){const y=new Blob([f],{type:f.type});return _.set(f,y),p(y,f,b,_,j),y}if(f instanceof Error){const y=new f.constructor;return _.set(f,y),y.message=f.message,y.name=f.name,y.stack=f.stack,y.cause=f.cause,p(y,f,b,_,j),y}if(f instanceof Boolean){const y=new Boolean(f.valueOf());return _.set(f,y),p(y,f,b,_,j),y}if(f instanceof Number){const y=new Number(f.valueOf());return _.set(f,y),p(y,f,b,_,j),y}if(f instanceof String){const y=new String(f.valueOf());return _.set(f,y),p(y,f,b,_,j),y}if(typeof f=="object"&&h(f)){const y=Object.create(Object.getPrototypeOf(f));return _.set(f,y),p(y,f,b,_,j),y}return f}function p(f,m,b=f,_,j){const w=[...Object.keys(m),...t.getSymbols(m)];for(let y=0;y<w.length;y++){const x=w[y],S=Object.getOwnPropertyDescriptor(f,x);(S==null||S.writable)&&(f[x]=c(m[x],x,b,_,j))}}function h(f){switch(r.getTag(f)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=u,e.cloneDeepWithImpl=c,e.copyProperties=p})(bx)),bx}var IA;function Wie(){return IA||(IA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K6();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(yx)),yx}var $A;function Kie(){return $A||($A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H6(),r=Wie();function n(a){return a=r.cloneDeep(a),o=>t.isMatch(o,a)}e.matches=n})(fx)),fx}var jx={},Cx={},kx={},BA;function Gie(){return BA||(BA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K6(),r=hC(),n=W6();function a(o,u){return t.cloneDeepWith(o,(c,p,h,f)=>{const m=u==null?void 0:u(c,p,h,f);if(m!==void 0)return m;if(typeof o=="object"){if(r.getTag(o)===n.objectTag&&typeof o.constructor!="function"){const b={};return f.set(o,b),t.copyProperties(b,o,h,f),b}switch(Object.prototype.toString.call(o)){case n.numberTag:case n.stringTag:case n.booleanTag:{const b=new o.constructor(o==null?void 0:o.valueOf());return t.copyProperties(b,o),b}case n.argumentsTag:{const b={};return t.copyProperties(b,o),b.length=o.length,b[Symbol.iterator]=o[Symbol.iterator],b}default:return}}})}e.cloneDeepWith=a})(kx)),kx}var zA;function Vie(){return zA||(zA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gie();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(Cx)),Cx}var Nx={},Ex={},FA;function G6(){return FA||(FA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Ex)),Ex}var Tx={},qA;function Yie(){return qA||(qA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hC();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Tx)),Tx}var UA;function Qie(){return UA||(UA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=M6(),r=G6(),n=Yie(),a=cC();function o(u,c){let p;if(Array.isArray(c)?p=c:typeof c=="string"&&t.isDeepKey(c)&&(u==null?void 0:u[c])==null?p=a.toPath(c):p=[c],p.length===0)return!1;let h=u;for(let f=0;f<p.length;f++){const m=p[f];if((h==null||!Object.hasOwn(h,m))&&!((Array.isArray(h)||n.isArguments(h))&&r.isIndex(m)&&m<h.length))return!1;h=h[m]}return!0}e.has=o})(Nx)),Nx}var HA;function Xie(){return HA||(HA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H6(),r=lC(),n=Vie(),a=uC(),o=Qie();function u(c,p){switch(typeof c){case"object":{Object.is(c==null?void 0:c.valueOf(),-0)&&(c="-0");break}case"number":{c=r.toKey(c);break}}return p=n.cloneDeep(p),function(h){const f=a.get(h,c);return f===void 0?o.has(h,c):p===void 0?f===void 0:t.isMatch(f,p)}}e.matchesProperty=u})(jx)),jx}var WA;function Zie(){return WA||(WA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z6(),r=Fie(),n=Kie(),a=Xie();function o(u){if(u==null)return t.identity;switch(typeof u){case"function":return u;case"object":return Array.isArray(u)&&u.length===2?a.matchesProperty(u[0],u[1]):n.matches(u);case"string":case"symbol":case"number":return r.property(u)}}e.iteratee=o})(ux)),ux}var KA;function Jie(){return KA||(KA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lie(),r=Iie(),n=z6(),a=zie(),o=Zie();function u(c,p=n.identity){return a.isArrayLikeObject(c)?t.uniqBy(Array.from(c),r.ary(o.iteratee(p),1)):[]}e.uniqBy=u})(rx)),rx}var Px,GA;function ese(){return GA||(GA=1,Px=Jie().uniqBy),Px}var tse=ese();const VA=Ts(tse);function V6(e,t,r){return t===!0?VA(e,r):typeof t=="function"?VA(e,t):e}var Ax={exports:{}},Rx={},Ox={exports:{}},Dx={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YA;function rse(){if(YA)return Dx;YA=1;var e=Kd();function t(m,b){return m===b&&(m!==0||1/m===1/b)||m!==m&&b!==b}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,o=e.useLayoutEffect,u=e.useDebugValue;function c(m,b){var _=b(),j=n({inst:{value:_,getSnapshot:b}}),w=j[0].inst,y=j[1];return o(function(){w.value=_,w.getSnapshot=b,p(w)&&y({inst:w})},[m,_,b]),a(function(){return p(w)&&y({inst:w}),m(function(){p(w)&&y({inst:w})})},[m]),u(_),_}function p(m){var b=m.getSnapshot;m=m.value;try{var _=b();return!r(m,_)}catch{return!0}}function h(m,b){return b()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return Dx.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,Dx}var QA;function nse(){return QA||(QA=1,Ox.exports=rse()),Ox.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XA;function ase(){if(XA)return Rx;XA=1;var e=Kd(),t=nse();function r(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,o=e.useRef,u=e.useEffect,c=e.useMemo,p=e.useDebugValue;return Rx.useSyncExternalStoreWithSelector=function(h,f,m,b,_){var j=o(null);if(j.current===null){var w={hasValue:!1,value:null};j.current=w}else w=j.current;j=c(function(){function x(P){if(!S){if(S=!0,T=P,P=b(P),_!==void 0&&w.hasValue){var k=w.value;if(_(k,P))return N=k}return N=P}if(k=N,n(T,P))return k;var R=b(P);return _!==void 0&&_(k,R)?(T=P,k):(T=P,N=R)}var S=!1,T,N,A=m===void 0?null:m;return[function(){return x(f())},A===null?void 0:function(){return x(A())}]},[f,m,b,_]);var y=a(h,j[0],j[1]);return u(function(){w.hasValue=!0,w.value=y},[y]),p(y),y},Rx}var ZA;function ise(){return ZA||(ZA=1,Ax.exports=ase()),Ax.exports}var sse=ise(),mC=v.createContext(null),ose=e=>e,hr=()=>{var e=v.useContext(mC);return e?e.store.dispatch:ose},Pv=()=>{},lse=()=>Pv,cse=(e,t)=>e===t;function ze(e){var t=v.useContext(mC),r=v.useMemo(()=>t?n=>{if(n!=null)return e(n)}:Pv,[t,e]);return sse.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:lse,t?t.store.getState:Pv,t?t.store.getState:Pv,r,cse)}function use(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function dse(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function fse(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var JA=e=>Array.isArray(e)?e:[e];function pse(e){const t=Array.isArray(e[0])?e[0]:e;return fse(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function hse(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var mse=class{constructor(e){this.value=e}deref(){return this.value}},gse=typeof WeakRef<"u"?WeakRef:mse,vse=0,eR=1;function Yg(){return{s:vse,v:void 0,o:null,p:null}}function Y6(e,t={}){let r=Yg();const{resultEqualityCheck:n}=t;let a,o=0;function u(){var m;let c=r;const{length:p}=arguments;for(let b=0,_=p;b<_;b++){const j=arguments[b];if(typeof j=="function"||typeof j=="object"&&j!==null){let w=c.o;w===null&&(c.o=w=new WeakMap);const y=w.get(j);y===void 0?(c=Yg(),w.set(j,c)):c=y}else{let w=c.p;w===null&&(c.p=w=new Map);const y=w.get(j);y===void 0?(c=Yg(),w.set(j,c)):c=y}}const h=c;let f;if(c.s===eR)f=c.v;else if(f=e.apply(null,arguments),o++,n){const b=((m=a==null?void 0:a.deref)==null?void 0:m.call(a))??a;b!=null&&n(b,f)&&(f=b,o!==0&&o--),a=typeof f=="object"&&f!==null||typeof f=="function"?new gse(f):f}return h.s=eR,h.v=f,f}return u.clearCache=()=>{r=Yg(),u.resetResultsCount()},u.resultsCount=()=>o,u.resetResultsCount=()=>{o=0},u}function yse(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let o=0,u=0,c,p={},h=a.pop();typeof h=="object"&&(p=h,h=a.pop()),use(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const f={...r,...p},{memoize:m,memoizeOptions:b=[],argsMemoize:_=Y6,argsMemoizeOptions:j=[]}=f,w=JA(b),y=JA(j),x=pse(a),S=m(function(){return o++,h.apply(null,arguments)},...w),T=_(function(){u++;const A=hse(x,arguments);return c=S.apply(null,A),c},...y);return Object.assign(T,{resultFunc:h,memoizedResultFunc:S,dependencies:x,dependencyRecomputations:()=>u,resetDependencyRecomputations:()=>{u=0},lastResult:()=>c,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:m,argsMemoize:_})};return Object.assign(n,{withTypes:()=>n}),n}var ce=yse(Y6),bse=Object.assign((e,t=ce)=>{dse(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(o=>e[o]);return t(n,(...o)=>o.reduce((u,c,p)=>(u[r[p]]=c,u),{}))},{withTypes:()=>bse}),Mx={},Lx={},Ix={},tR;function _se(){return tR||(tR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,o)=>{if(n!==a){const u=t(n),c=t(a);if(u===c&&u===0){if(n<a)return o==="desc"?1:-1;if(n>a)return o==="desc"?-1:1}return o==="desc"?c-u:u-c}return 0};e.compareValues=r})(Ix)),Ix}var $x={},Bx={},rR;function Q6(){return rR||(rR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Bx)),Bx}var nR;function xse(){return nR||(nR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Q6(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(o,u){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(n.test(o)||!r.test(o))||u!=null&&Object.hasOwn(u,o)}e.isKey=a})($x)),$x}var aR;function wse(){return aR||(aR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_se(),r=xse(),n=cC();function a(o,u,c,p){if(o==null)return[];c=p?void 0:c,Array.isArray(o)||(o=Object.values(o)),Array.isArray(u)||(u=u==null?[null]:[u]),u.length===0&&(u=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(_=>String(_));const h=(_,j)=>{let w=_;for(let y=0;y<j.length&&w!=null;++y)w=w[j[y]];return w},f=(_,j)=>j==null||_==null?j:typeof _=="object"&&"key"in _?Object.hasOwn(j,_.key)?j[_.key]:h(j,_.path):typeof _=="function"?_(j):Array.isArray(_)?h(j,_):typeof j=="object"?j[_]:j,m=u.map(_=>(Array.isArray(_)&&_.length===1&&(_=_[0]),_==null||typeof _=="function"||Array.isArray(_)||r.isKey(_)?_:{key:_,path:n.toPath(_)}));return o.map(_=>({original:_,criteria:m.map(j=>f(j,_))})).slice().sort((_,j)=>{for(let w=0;w<m.length;w++){const y=t.compareValues(_.criteria[w],j.criteria[w],c[w]);if(y!==0)return y}return 0}).map(_=>_.original)}e.orderBy=a})(Lx)),Lx}var zx={},iR;function Sse(){return iR||(iR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],o=Math.floor(n),u=(c,p)=>{for(let h=0;h<c.length;h++){const f=c[h];Array.isArray(f)&&p<o?u(f,p+1):a.push(f)}};return u(r,0),a}e.flatten=t})(zx)),zx}var Fx={},sR;function X6(){return sR||(sR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=G6(),r=pC(),n=F6(),a=U6();function o(u,c,p){return n.isObject(p)&&(typeof c=="number"&&r.isArrayLike(p)&&t.isIndex(c)&&c<p.length||typeof c=="string"&&c in p)?a.isEqualsSameValueZero(p[c],u):!1}e.isIterateeCall=o})(Fx)),Fx}var oR;function jse(){return oR||(oR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wse(),r=Sse(),n=X6();function a(o,...u){const c=u.length;return c>1&&n.isIterateeCall(o,u[0],u[1])?u=[]:c>2&&n.isIterateeCall(u[0],u[1],u[2])&&(u=[u[0]]),t.orderBy(o,r.flatten(u),["asc"])}e.sortBy=a})(Mx)),Mx}var qx,lR;function Cse(){return lR||(lR=1,qx=jse().sortBy),qx}var kse=Cse();const xb=Ts(kse);var Z6=e=>e.legend.settings,Nse=e=>e.legend.size,Ese=e=>e.legend.payload,Tse=ce([Ese,Z6],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?xb(n,r):n});function Pse(){return ze(Tse)}var Qg=1;function J6(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=v.useState({height:0,left:0,top:0,width:0}),n=v.useCallback(a=>{if(a!=null){var o=a.getBoundingClientRect(),u={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(u.height-t.height)>Qg||Math.abs(u.left-t.left)>Qg||Math.abs(u.top-t.top)>Qg||Math.abs(u.width-t.width)>Qg)&&r({height:u.height,left:u.left,top:u.top,width:u.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function En(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Ase=typeof Symbol=="function"&&Symbol.observable||"@@observable",cR=Ase,Ux=()=>Math.random().toString(36).substring(7).split("").join("."),Rse={INIT:`@@redux/INIT${Ux()}`,REPLACE:`@@redux/REPLACE${Ux()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ux()}`},ly=Rse;function gC(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function e5(e,t,r){if(typeof e!="function")throw new Error(En(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(En(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(En(1));return r(e5)(e,t)}let n=e,a=t,o=new Map,u=o,c=0,p=!1;function h(){u===o&&(u=new Map,o.forEach((y,x)=>{u.set(x,y)}))}function f(){if(p)throw new Error(En(3));return a}function m(y){if(typeof y!="function")throw new Error(En(4));if(p)throw new Error(En(5));let x=!0;h();const S=c++;return u.set(S,y),function(){if(x){if(p)throw new Error(En(6));x=!1,h(),u.delete(S),o=null}}}function b(y){if(!gC(y))throw new Error(En(7));if(typeof y.type>"u")throw new Error(En(8));if(typeof y.type!="string")throw new Error(En(17));if(p)throw new Error(En(9));try{p=!0,a=n(a,y)}finally{p=!1}return(o=u).forEach(S=>{S()}),y}function _(y){if(typeof y!="function")throw new Error(En(10));n=y,b({type:ly.REPLACE})}function j(){const y=m;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(En(11));function S(){const N=x;N.next&&N.next(f())}return S(),{unsubscribe:y(S)}},[cR](){return this}}}return b({type:ly.INIT}),{dispatch:b,subscribe:m,getState:f,replaceReducer:_,[cR]:j}}function Ose(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:ly.INIT})>"u")throw new Error(En(12));if(typeof r(void 0,{type:ly.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(En(13))})}function t5(e){const t=Object.keys(e),r={};for(let o=0;o<t.length;o++){const u=t[o];typeof e[u]=="function"&&(r[u]=e[u])}const n=Object.keys(r);let a;try{Ose(r)}catch(o){a=o}return function(u={},c){if(a)throw a;let p=!1;const h={};for(let f=0;f<n.length;f++){const m=n[f],b=r[m],_=u[m],j=b(_,c);if(typeof j>"u")throw c&&c.type,new Error(En(14));h[m]=j,p=p||j!==_}return p=p||n.length!==Object.keys(u).length,p?h:u}}function cy(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function Dse(...e){return t=>(r,n)=>{const a=t(r,n);let o=()=>{throw new Error(En(15))};const u={getState:a.getState,dispatch:(p,...h)=>o(p,...h)},c=e.map(p=>p(u));return o=cy(...c)(a.dispatch),{...a,dispatch:o}}}function r5(e){return gC(e)&&"type"in e&&typeof e.type=="string"}var n5=Symbol.for("immer-nothing"),uR=Symbol.for("immer-draftable"),ea=Symbol.for("immer-state");function Ii(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Da=Object,Bd=Da.getPrototypeOf,uy="constructor",wb="prototype",CS="configurable",dy="enumerable",Av="writable",bh="value",Po=e=>!!e&&!!e[ea];function Ui(e){var t;return e?a5(e)||jb(e)||!!e[uR]||!!((t=e[uy])!=null&&t[uR])||Cb(e)||kb(e):!1}var Mse=Da[wb][uy].toString(),dR=new WeakMap;function a5(e){if(!e||!vC(e))return!1;const t=Bd(e);if(t===null||t===Da[wb])return!0;const r=Da.hasOwnProperty.call(t,uy)&&t[uy];if(r===Object)return!0;if(!md(r))return!1;let n=dR.get(r);return n===void 0&&(n=Function.toString.call(r),dR.set(r,n)),n===Mse}function Sb(e,t,r=!0){Xh(e)===0?(r?Reflect.ownKeys(e):Da.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Xh(e){const t=e[ea];return t?t.type_:jb(e)?1:Cb(e)?2:kb(e)?3:0}var fR=(e,t,r=Xh(e))=>r===2?e.has(t):Da[wb].hasOwnProperty.call(e,t),kS=(e,t,r=Xh(e))=>r===2?e.get(t):e[t],fy=(e,t,r,n=Xh(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function Lse(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var jb=Array.isArray,Cb=e=>e instanceof Map,kb=e=>e instanceof Set,vC=e=>typeof e=="object",md=e=>typeof e=="function",Hx=e=>typeof e=="boolean";function Ise(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var vo=e=>e.copy_||e.base_,yC=e=>e.modified_?e.copy_:e.base_;function NS(e,t){if(Cb(e))return new Map(e);if(kb(e))return new Set(e);if(jb(e))return Array[wb].slice.call(e);const r=a5(e);if(t===!0||t==="class_only"&&!r){const n=Da.getOwnPropertyDescriptors(e);delete n[ea];let a=Reflect.ownKeys(n);for(let o=0;o<a.length;o++){const u=a[o],c=n[u];c[Av]===!1&&(c[Av]=!0,c[CS]=!0),(c.get||c.set)&&(n[u]={[CS]:!0,[Av]:!0,[dy]:c[dy],[bh]:e[u]})}return Da.create(Bd(e),n)}else{const n=Bd(e);if(n!==null&&r)return{...e};const a=Da.create(n);return Da.assign(a,e)}}function bC(e,t=!1){return Nb(e)||Po(e)||!Ui(e)||(Xh(e)>1&&Da.defineProperties(e,{set:Xg,add:Xg,clear:Xg,delete:Xg}),Da.freeze(e),t&&Sb(e,(r,n)=>{bC(n,!0)},!1)),e}function $se(){Ii(2)}var Xg={[bh]:$se};function Nb(e){return e===null||!vC(e)?!0:Da.isFrozen(e)}var py="MapSet",ES="Patches",pR="ArrayMethods",i5={};function ru(e){const t=i5[e];return t||Ii(0,e),t}var hR=e=>!!i5[e],_h,s5=()=>_h,Bse=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:hR(py)?ru(py):void 0,arrayMethodsPlugin_:hR(pR)?ru(pR):void 0});function mR(e,t){t&&(e.patchPlugin_=ru(ES),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function TS(e){PS(e),e.drafts_.forEach(zse),e.drafts_=null}function PS(e){e===_h&&(_h=e.parent_)}var gR=e=>_h=Bse(_h,e);function zse(e){const t=e[ea];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function vR(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[ea].modified_&&(TS(t),Ii(4)),Ui(e)&&(e=yR(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[ea].base_,e,t)}else e=yR(t,r);return Fse(t,e,!0),TS(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==n5?e:void 0}function yR(e,t){if(Nb(t))return t;const r=t[ea];if(!r)return hy(t,e.handledSet_,e);if(!Eb(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);c5(r,e)}return r.copy_}function Fse(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&bC(t,r)}function o5(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Eb=(e,t)=>e.scope_===t,qse=[];function l5(e,t,r,n){const a=vo(e),o=e.type_;if(n!==void 0&&kS(a,n,o)===t){fy(a,n,r,o);return}if(!e.draftLocations_){const c=e.draftLocations_=new Map;Sb(a,(p,h)=>{if(Po(h)){const f=c.get(h)||[];f.push(p),c.set(h,f)}})}const u=e.draftLocations_.get(t)??qse;for(const c of u)fy(a,c,r,o)}function Use(e,t,r){e.callbacks_.push(function(a){var c;const o=t;if(!o||!Eb(o,a))return;(c=a.mapSetPlugin_)==null||c.fixSetContents(o);const u=yC(o);l5(e,o.draft_??o,u,r),c5(o,a)})}function c5(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:a}=t;if(a){const o=a.getPath(e);o&&a.generatePatches_(e,o,t)}o5(e)}}function Hse(e,t,r){const{scope_:n}=e;if(Po(r)){const a=r[ea];Eb(a,n)&&a.callbacks_.push(function(){Rv(e);const u=yC(a);l5(e,r,u,t)})}else Ui(r)&&e.callbacks_.push(function(){const o=vo(e);e.type_===3?o.has(r)&&hy(r,n.handledSet_,n):kS(o,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&hy(kS(e.copy_,t,e.type_),n.handledSet_,n)})}function hy(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Po(e)||t.has(e)||!Ui(e)||Nb(e)||(t.add(e),Sb(e,(n,a)=>{if(Po(a)){const o=a[ea];if(Eb(o,r)){const u=yC(o);fy(e,n,u,e.type_),o5(o)}}else Ui(a)&&hy(a,t,r)})),e}function Wse(e,t){const r=jb(e),n={type_:r?1:0,scope_:t?t.scope_:s5(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,o=my;r&&(a=[n],o=xh);const{revoke:u,proxy:c}=Proxy.revocable(a,o);return n.draft_=c,n.revoke_=u,[c,n]}var my={get(e,t){if(t===ea)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r!=null&&r.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const a=vo(e);if(!fR(a,t,e.type_))return Kse(e,a,t);const o=a[t];if(e.finalized_||!Ui(o)||n&&e.operationMethod&&(r!=null&&r.isMutatingArrayMethod(e.operationMethod))&&Ise(t))return o;if(o===Wx(e.base_,t)){Rv(e);const u=e.type_===1?+t:t,c=RS(e.scope_,o,e,u);return e.copy_[u]=c}return o},has(e,t){return t in vo(e)},ownKeys(e){return Reflect.ownKeys(vo(e))},set(e,t,r){const n=u5(vo(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Wx(vo(e),t),o=a==null?void 0:a[ea];if(o&&o.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(Lse(r,a)&&(r!==void 0||fR(e.base_,t,e.type_)))return!0;Rv(e),AS(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),Hse(e,t,r)),!0},deleteProperty(e,t){return Rv(e),Wx(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),AS(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=vo(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Av]:!0,[CS]:e.type_!==1||t!=="length",[dy]:n[dy],[bh]:r[t]}},defineProperty(){Ii(11)},getPrototypeOf(e){return Bd(e.base_)},setPrototypeOf(){Ii(12)}},xh={};for(let e in my){let t=my[e];xh[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}xh.deleteProperty=function(e,t){return xh.set.call(this,e,t,void 0)};xh.set=function(e,t,r){return my.set.call(this,e[0],t,r,e[0])};function Wx(e,t){const r=e[ea];return(r?vo(r):e)[t]}function Kse(e,t,r){var a;const n=u5(t,r);return n?bh in n?n[bh]:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function u5(e,t){if(!(t in e))return;let r=Bd(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Bd(r)}}function AS(e){e.modified_||(e.modified_=!0,e.parent_&&AS(e.parent_))}function Rv(e){e.copy_||(e.assigned_=new Map,e.copy_=NS(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Gse=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(md(r)&&!md(n)){const u=n;n=r;const c=this;return function(h=u,...f){return c.produce(h,m=>n.call(this,m,...f))}}md(n)||Ii(6),a!==void 0&&!md(a)&&Ii(7);let o;if(Ui(r)){const u=gR(this),c=RS(u,r,void 0);let p=!0;try{o=n(c),p=!1}finally{p?TS(u):PS(u)}return mR(u,a),vR(o,u)}else if(!r||!vC(r)){if(o=n(r),o===void 0&&(o=r),o===n5&&(o=void 0),this.autoFreeze_&&bC(o,!0),a){const u=[],c=[];ru(ES).generateReplacementPatches_(r,o,{patches_:u,inversePatches_:c}),a(u,c)}return o}else Ii(1,r)},this.produceWithPatches=(r,n)=>{if(md(r))return(c,...p)=>this.produceWithPatches(c,h=>r(h,...p));let a,o;return[this.produce(r,n,(c,p)=>{a=c,o=p}),a,o]},Hx(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Hx(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Hx(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Ui(t)||Ii(8),Po(t)&&(t=zi(t));const r=gR(this),n=RS(r,t,void 0);return n[ea].isManual_=!0,PS(r),n}finishDraft(t,r){const n=t&&t[ea];(!n||!n.isManual_)&&Ii(9);const{scope_:a}=n;return mR(a,r),vR(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const o=r[n];if(o.path.length===0&&o.op==="replace"){t=o.value;break}}n>-1&&(r=r.slice(n+1));const a=ru(ES).applyPatches_;return Po(t)?a(t,r):this.produce(t,o=>a(o,r))}};function RS(e,t,r,n){const[a,o]=Cb(t)?ru(py).proxyMap_(t,r):kb(t)?ru(py).proxySet_(t,r):Wse(t,r);return((r==null?void 0:r.scope_)??s5()).drafts_.push(a),o.callbacks_=(r==null?void 0:r.callbacks_)??[],o.key_=n,r&&n!==void 0?Use(r,o,n):o.callbacks_.push(function(p){var f;(f=p.mapSetPlugin_)==null||f.fixSetContents(o);const{patchPlugin_:h}=p;o.modified_&&h&&h.generatePatches_(o,[],p)}),a}function zi(e){return Po(e)||Ii(10,e),d5(e)}function d5(e){if(!Ui(e)||Nb(e))return e;const t=e[ea];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=NS(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=NS(e,!0);return Sb(r,(a,o)=>{fy(r,a,d5(o))},n),t&&(t.finalized_=!1),r}var Vse=new Gse,f5=Vse.produce;function p5(e){return({dispatch:r,getState:n})=>a=>o=>typeof o=="function"?o(r,n,e):a(o)}var Yse=p5(),Qse=p5,Xse=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?cy:cy.apply(null,arguments)};function mi(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(Ma(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>r5(n)&&n.type===e,r}var h5=class rh extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,rh.prototype)}static get[Symbol.species](){return rh}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new rh(...t[0].concat(this)):new rh(...t.concat(this))}};function bR(e){return Ui(e)?f5(e,()=>{}):e}function Zg(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function Zse(e){return typeof e=="boolean"}var Jse=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:o=!0}=t??{};let u=new h5;return r&&(Zse(r)?u.push(Yse):u.push(Qse(r.extraArgument))),u},m5="RTK_autoBatch",Sr=()=>e=>({payload:e,meta:{[m5]:!0}}),_R=e=>t=>{setTimeout(t,e)},g5=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,o=!1,u=!1;const c=new Set,p=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:_R(10):e.type==="callback"?e.queueNotification:_R(e.timeout),h=()=>{u=!1,o&&(o=!1,c.forEach(f=>f()))};return Object.assign({},n,{subscribe(f){const m=()=>a&&f(),b=n.subscribe(m);return c.add(f),()=>{b(),c.delete(f)}},dispatch(f){var m;try{return a=!((m=f==null?void 0:f.meta)!=null&&m[m5]),o=!a,o&&(u||(u=!0,p(h))),n.dispatch(f)}finally{a=!0}}})},eoe=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new h5(e);return n&&a.push(g5(typeof n=="object"?n:void 0)),a};function toe(e){const t=Jse(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:o=void 0,enhancers:u=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(gC(r))c=t5(r);else throw new Error(Ma(1));let p;typeof n=="function"?p=n(t):p=t();let h=cy;a&&(h=Xse({trace:!1,...typeof a=="object"&&a}));const f=Dse(...p),m=eoe(f);let b=typeof u=="function"?u(m):m();const _=h(...b);return e5(c,o,_)}function v5(e){const t={},r=[];let n;const a={addCase(o,u){const c=typeof o=="string"?o:o.type;if(!c)throw new Error(Ma(28));if(c in t)throw new Error(Ma(29));return t[c]=u,a},addAsyncThunk(o,u){return u.pending&&(t[o.pending.type]=u.pending),u.rejected&&(t[o.rejected.type]=u.rejected),u.fulfilled&&(t[o.fulfilled.type]=u.fulfilled),u.settled&&r.push({matcher:o.settled,reducer:u.settled}),a},addMatcher(o,u){return r.push({matcher:o,reducer:u}),a},addDefaultCase(o){return n=o,a}};return e(a),[t,r,n]}function roe(e){return typeof e=="function"}function noe(e,t){let[r,n,a]=v5(t),o;if(roe(e))o=()=>bR(e());else{const c=bR(e);o=()=>c}function u(c=o(),p){let h=[r[p.type],...n.filter(({matcher:f})=>f(p)).map(({reducer:f})=>f)];return h.filter(f=>!!f).length===0&&(h=[a]),h.reduce((f,m)=>{if(m)if(Po(f)){const _=m(f,p);return _===void 0?f:_}else{if(Ui(f))return f5(f,b=>m(b,p));{const b=m(f,p);if(b===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return f},c)}return u.getInitialState=o,u}var aoe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",ioe=(e=21)=>{let t="",r=e;for(;r--;)t+=aoe[Math.random()*64|0];return t},soe=Symbol.for("rtk-slice-createasyncthunk");function ooe(e,t){return`${e}/${t}`}function loe({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[soe];return function(a){const{name:o,reducerPath:u=o}=a;if(!o)throw new Error(Ma(11));const c=(typeof a.reducers=="function"?a.reducers(uoe()):a.reducers)||{},p=Object.keys(c),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(N,A){const P=typeof N=="string"?N:N.type;if(!P)throw new Error(Ma(12));if(P in h.sliceCaseReducersByType)throw new Error(Ma(13));return h.sliceCaseReducersByType[P]=A,f},addMatcher(N,A){return h.sliceMatchers.push({matcher:N,reducer:A}),f},exposeAction(N,A){return h.actionCreators[N]=A,f},exposeCaseReducer(N,A){return h.sliceCaseReducersByName[N]=A,f}};p.forEach(N=>{const A=c[N],P={reducerName:N,type:ooe(o,N),createNotation:typeof a.reducers=="function"};foe(A)?hoe(P,A,f,t):doe(P,A,f)});function m(){const[N={},A=[],P=void 0]=typeof a.extraReducers=="function"?v5(a.extraReducers):[a.extraReducers],k={...N,...h.sliceCaseReducersByType};return noe(a.initialState,R=>{for(let D in k)R.addCase(D,k[D]);for(let D of h.sliceMatchers)R.addMatcher(D.matcher,D.reducer);for(let D of A)R.addMatcher(D.matcher,D.reducer);P&&R.addDefaultCase(P)})}const b=N=>N,_=new Map,j=new WeakMap;let w;function y(N,A){return w||(w=m()),w(N,A)}function x(){return w||(w=m()),w.getInitialState()}function S(N,A=!1){function P(R){let D=R[N];return typeof D>"u"&&A&&(D=Zg(j,P,x)),D}function k(R=b){const D=Zg(_,A,()=>new WeakMap);return Zg(D,R,()=>{const I={};for(const[q,z]of Object.entries(a.selectors??{}))I[q]=coe(z,R,()=>Zg(j,R,x),A);return I})}return{reducerPath:N,getSelectors:k,get selectors(){return k(P)},selectSlice:P}}const T={name:o,reducer:y,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:x,...S(u),injectInto(N,{reducerPath:A,...P}={}){const k=A??u;return N.inject({reducerPath:k,reducer:y},P),{...T,...S(k,!0)}}};return T}}function coe(e,t,r,n){function a(o,...u){let c=t(o);return typeof c>"u"&&n&&(c=r()),e(c,...u)}return a.unwrapped=e,a}var _a=loe();function uoe(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function doe({type:e,reducerName:t,createNotation:r},n,a){let o,u;if("reducer"in n){if(r&&!poe(n))throw new Error(Ma(17));o=n.reducer,u=n.prepare}else o=n;a.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,u?mi(e,u):mi(e))}function foe(e){return e._reducerDefinitionType==="asyncThunk"}function poe(e){return e._reducerDefinitionType==="reducerWithPrepare"}function hoe({type:e,reducerName:t},r,n,a){if(!a)throw new Error(Ma(18));const{payloadCreator:o,fulfilled:u,pending:c,rejected:p,settled:h,options:f}=r,m=a(e,o,f);n.exposeAction(t,m),u&&n.addCase(m.fulfilled,u),c&&n.addCase(m.pending,c),p&&n.addCase(m.rejected,p),h&&n.addMatcher(m.settled,h),n.exposeCaseReducer(t,{fulfilled:u||Jg,pending:c||Jg,rejected:p||Jg,settled:h||Jg})}function Jg(){}var moe="task",y5="listener",b5="completed",_C="cancelled",goe=`task-${_C}`,voe=`task-${b5}`,OS=`${y5}-${_C}`,yoe=`${y5}-${b5}`,Tb=class{constructor(e){Y(this,"name","TaskAbortError");Y(this,"message");this.code=e,this.message=`${moe} ${_C} (reason: ${e})`}},xC=(e,t)=>{if(typeof e!="function")throw new TypeError(Ma(32))},gy=()=>{},_5=(e,t=gy)=>(e.catch(t),e),x5=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Hc=e=>{if(e.aborted)throw new Tb(e.reason)};function w5(e,t){let r=gy;return new Promise((n,a)=>{const o=()=>a(new Tb(e.reason));if(e.aborted){o();return}r=x5(e,o),t.finally(()=>r()).then(n,a)}).finally(()=>{r=gy})}var boe=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Tb?"cancelled":"rejected",error:r}}finally{t==null||t()}},vy=e=>t=>_5(w5(e,t).then(r=>(Hc(e),r))),S5=e=>{const t=vy(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:xd}=Object,xR={},Pb="listenerMiddleware",_oe=(e,t)=>{const r=n=>x5(e,()=>n.abort(e.reason));return(n,a)=>{xC(n);const o=new AbortController;r(o);const u=boe(async()=>{Hc(e),Hc(o.signal);const c=await n({pause:vy(o.signal),delay:S5(o.signal),signal:o.signal});return Hc(o.signal),c},()=>o.abort(voe));return a!=null&&a.autoJoin&&t.push(u.catch(gy)),{result:vy(e)(u),cancel(){o.abort(goe)}}}},xoe=(e,t)=>{const r=async(n,a)=>{Hc(t);let o=()=>{};const c=[new Promise((p,h)=>{let f=e({predicate:n,effect:(m,b)=>{b.unsubscribe(),p([m,b.getState(),b.getOriginalState()])}});o=()=>{f(),h()}})];a!=null&&c.push(new Promise(p=>setTimeout(p,a,null)));try{const p=await w5(t,Promise.race(c));return Hc(t),p}finally{o()}};return(n,a)=>_5(r(n,a))},j5=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:o}=e;if(t)a=mi(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(Ma(21));return xC(o),{predicate:a,type:t,effect:o}},C5=xd(e=>{const{type:t,predicate:r,effect:n}=j5(e);return{id:ioe(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Ma(22))}}},{withTypes:()=>C5}),wR=(e,t)=>{const{type:r,effect:n,predicate:a}=j5(t);return Array.from(e.values()).find(o=>(typeof r=="string"?o.type===r:o.predicate===a)&&o.effect===n)},DS=e=>{e.pending.forEach(t=>{t.abort(OS)})},woe=(e,t)=>()=>{for(const r of t.keys())DS(r);e.clear()},SR=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},k5=xd(mi(`${Pb}/add`),{withTypes:()=>k5}),Soe=mi(`${Pb}/removeAll`),N5=xd(mi(`${Pb}/remove`),{withTypes:()=>N5}),joe=(...e)=>{console.error(`${Pb}/error`,...e)},Zh=(e={})=>{const t=new Map,r=new Map,n=_=>{const j=r.get(_)??0;r.set(_,j+1)},a=_=>{const j=r.get(_)??1;j===1?r.delete(_):r.set(_,j-1)},{extra:o,onError:u=joe}=e;xC(u);const c=_=>(_.unsubscribe=()=>t.delete(_.id),t.set(_.id,_),j=>{_.unsubscribe(),j!=null&&j.cancelActive&&DS(_)}),p=_=>{const j=wR(t,_)??C5(_);return c(j)};xd(p,{withTypes:()=>p});const h=_=>{const j=wR(t,_);return j&&(j.unsubscribe(),_.cancelActive&&DS(j)),!!j};xd(h,{withTypes:()=>h});const f=async(_,j,w,y)=>{const x=new AbortController,S=xoe(p,x.signal),T=[];try{_.pending.add(x),n(_),await Promise.resolve(_.effect(j,xd({},w,{getOriginalState:y,condition:(N,A)=>S(N,A).then(Boolean),take:S,delay:S5(x.signal),pause:vy(x.signal),extra:o,signal:x.signal,fork:_oe(x.signal,T),unsubscribe:_.unsubscribe,subscribe:()=>{t.set(_.id,_)},cancelActiveListeners:()=>{_.pending.forEach((N,A,P)=>{N!==x&&(N.abort(OS),P.delete(N))})},cancel:()=>{x.abort(OS),_.pending.delete(x)},throwIfCancelled:()=>{Hc(x.signal)}})))}catch(N){N instanceof Tb||SR(u,N,{raisedBy:"effect"})}finally{await Promise.all(T),x.abort(yoe),a(_),_.pending.delete(x)}},m=woe(t,r);return{middleware:_=>j=>w=>{if(!r5(w))return j(w);if(k5.match(w))return p(w.payload);if(Soe.match(w)){m();return}if(N5.match(w))return h(w.payload);let y=_.getState();const x=()=>{if(y===xR)throw new Error(Ma(23));return y};let S;try{if(S=j(w),t.size>0){const T=_.getState(),N=Array.from(t.values());for(const A of N){let P=!1;try{P=A.predicate(w,T,y)}catch(k){P=!1,SR(u,k,{raisedBy:"predicate"})}P&&f(A,w,_,x)}}}finally{y=xR}return S},startListening:p,stopListening:h,clearListeners:m}};function Ma(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Coe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},E5=_a({name:"chartLayout",initialState:Coe,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,o;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(o=t.payload.left)!==null&&o!==void 0?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:koe,setLayout:Noe,setChartSize:Eoe,setScale:Toe}=E5.actions,Poe=E5.reducer;function T5(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function bt(e){return Number.isFinite(e)}function Cs(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function jR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jR(Object(r),!0).forEach(function(n){Aoe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Aoe(e,t,r){return(t=Roe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Roe(e){var t=Ooe(e,"string");return typeof t=="symbol"?t:t+""}function Ooe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vt(e,t,r){return kr(e)||kr(t)?r:js(t)?eu(e,t,r):typeof t=="function"?t(e):r}var Doe=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:o,verticalAlign:u,layout:c}=t;if((c==="vertical"||c==="horizontal"&&u==="middle")&&o!=="center"&&Me(e[o]))return vd(vd({},e),{},{[o]:e[o]+(n||0)});if((c==="horizontal"||c==="vertical"&&o==="center")&&u!=="middle"&&Me(e[u]))return vd(vd({},e),{},{[u]:e[u]+(a||0)})}return e},Ki=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",P5=(e,t,r,n)=>{if(n)return e.map(c=>c.coordinate);var a,o,u=e.map(c=>(c.coordinate===t&&(a=!0),c.coordinate===r&&(o=!0),c.coordinate));return a||u.push(t),o||u.push(r),u},A5=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:o,scale:u,realScaleType:c,isCategorical:p,categoricalDomain:h,tickCount:f,ticks:m,niceTicks:b,axisType:_}=e;if(!u)return null;var j=c==="scaleBand"&&u.bandwidth?u.bandwidth()/2:2,w=a==="category"&&u.bandwidth?u.bandwidth()/j:0;if(w=_==="angleAxis"&&o&&o.length>=2?yn(o[0]-o[1])*2*w:w,m||b){var y=(m||b||[]).map((x,S)=>{var T=n?n.indexOf(x):x,N=u.map(T);return bt(N)?{coordinate:N+w,value:x,offset:w,index:S}:null}).filter(va);return y}return p&&h?h.map((x,S)=>{var T=u.map(x);return bt(T)?{coordinate:T+w,value:x,index:S,offset:w}:null}).filter(va):u.ticks&&f!=null?u.ticks(f).map((x,S)=>{var T=u.map(x);return bt(T)?{coordinate:T+w,value:x,index:S,offset:w}:null}).filter(va):u.domain().map((x,S)=>{var T=u.map(x);return bt(T)?{coordinate:T+w,value:n?n[x]:x,index:S,offset:w}:null}).filter(va)},Moe=(e,t)=>{if(!t||t.length!==2||!Me(t[0])||!Me(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!Me(e[0])||e[0]<r)&&(a[0]=r),(!Me(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},Loe=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var o=0,u=0,c=0;c<r;++c){var p=e[c],h=p==null?void 0:p[a];if(h!=null){var f=h[1],m=h[0],b=qi(f)?m:f;b>=0?(h[0]=o,o+=b,h[1]=o):(h[0]=u,u+=b,h[1]=u)}}}},Ioe=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var o=0,u=0;u<r;++u){var c=e[u],p=c==null?void 0:c[a];if(p!=null){var h=qi(p[1])?p[0]:p[1];h>=0?(p[0]=o,o+=h,p[1]=o):(p[0]=0,p[1]=0)}}}},$oe={sign:Loe,expand:aie,none:Jc,silhouette:iie,wiggle:sie,positive:Ioe},Boe=(e,t,r)=>{var n,a=(n=$oe[r])!==null&&n!==void 0?n:Jc,o=nie().keys(t).value((c,p)=>Number(Vt(c,p,0))).order(SS).offset(a),u=o(e);return u.forEach((c,p)=>{c.forEach((h,f)=>{var m=Vt(e[f],t[p],0);Array.isArray(m)&&m.length===2&&Me(m[0])&&Me(m[1])&&(h[0]=m[0],h[1]=m[1])})}),u};function R5(e){return e==null?void 0:String(e)}function yy(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:o,dataKey:u}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!kr(a[t.dataKey])){var c=I6(r,"value",a[t.dataKey]);if(c)return c.coordinate+n/2}return r!=null&&r[o]?r[o].coordinate+n/2:null}var p=Vt(a,kr(u)?t.dataKey:u),h=t.scale.map(p);return Me(h)?h:null}var CR=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:o,index:u}=e;if(t.type==="category")return r[u]?r[u].coordinate+n:null;var c=Vt(o,t.dataKey,t.scale.domain()[u]);if(kr(c))return null;var p=t.scale.map(c);return Me(p)?p-a/2+n:null},zoe=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},Foe=e=>{var t=e.flat(2).filter(Me);return[Math.min(...t),Math.max(...t)]},qoe=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Uoe=(e,t,r)=>{if(e!=null)return qoe(Object.keys(e).reduce((n,a)=>{var o=e[a];if(!o)return n;var{stackedData:u}=o,c=u.reduce((p,h)=>{var f=T5(h,t,r),m=Foe(f);return!bt(m[0])||!bt(m[1])?p:[Math.min(p[0],m[0]),Math.max(p[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],n[0]),Math.max(c[1],n[1])]},[1/0,-1/0]))},kR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,NR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ql=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=xb(t,f=>f.coordinate),o=1/0,u=1,c=a.length;u<c;u++){var p=a[u],h=a[u-1];o=Math.min(((p==null?void 0:p.coordinate)||0)-((h==null?void 0:h.coordinate)||0),o)}return o===1/0?0:o}return r?void 0:0};function ER(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:o}=e;return vd(vd({},t),{},{dataKey:r,payload:n,value:a,name:o})}function Vl(e,t){if(e)return String(e);if(typeof t=="string")return t}var Hoe=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},Woe=(e,t)=>t==="centric"?e.angle:e.radius,$o=e=>e.layout.width,Bo=e=>e.layout.height,Koe=e=>e.layout.scale,O5=e=>e.layout.margin,Ab=ce(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Rb=ce(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),D5="data-recharts-item-index",M5="data-recharts-item-id",Jh=60;function TR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ev(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TR(Object(r),!0).forEach(function(n){Goe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Goe(e,t,r){return(t=Voe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Voe(e){var t=Yoe(e,"string");return typeof t=="symbol"?t:t+""}function Yoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qoe=e=>e.brush.height;function Xoe(e){var t=Rb(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Jh;return r+a}return r},0)}function Zoe(e){var t=Rb(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Jh;return r+a}return r},0)}function Joe(e){var t=Ab(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function ele(e){var t=Ab(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var an=ce([$o,Bo,O5,Qoe,Xoe,Zoe,Joe,ele,Z6,Nse],(e,t,r,n,a,o,u,c,p,h)=>{var f={left:(r.left||0)+a,right:(r.right||0)+o},m={top:(r.top||0)+u,bottom:(r.bottom||0)+c},b=ev(ev({},m),f),_=b.bottom;b.bottom+=n,b=Doe(b,p,h);var j=e-b.left-b.right,w=t-b.top-b.bottom;return ev(ev({brushBottom:_},b),{},{width:Math.max(j,0),height:Math.max(w,0)})}),tle=ce(an,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),wC=ce($o,Bo,(e,t)=>({x:0,y:0,width:e,height:t})),rle=v.createContext(null),bn=()=>v.useContext(rle)!=null,Ob=e=>e.brush,Db=ce([Ob,an,O5],(e,t,r)=>({height:e.height,x:Me(e.x)?e.x:t.left,y:Me(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:Me(e.width)?e.width:t.width})),Kx={},Gx={},Vx={},PR;function nle(){return PR||(PR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:o}={}){let u,c=null;const p=o!=null&&o.includes("leading"),h=o==null||o.includes("trailing"),f=()=>{c!==null&&(r.apply(u,c),u=void 0,c=null)},m=()=>{h&&f(),w()};let b=null;const _=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,m()},n)},j=()=>{b!==null&&(clearTimeout(b),b=null)},w=()=>{j(),u=void 0,c=null},y=()=>{f()},x=function(...S){if(a!=null&&a.aborted)return;u=this,c=S;const T=b==null;_(),p&&T&&f()};return x.schedule=_,x.cancel=w,x.flush=y,a==null||a.addEventListener("abort",w,{once:!0}),x}e.debounce=t})(Vx)),Vx}var AR;function ale(){return AR||(AR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nle();function r(n,a=0,o={}){typeof o!="object"&&(o={});const{leading:u=!1,trailing:c=!0,maxWait:p}=o,h=Array(2);u&&(h[0]="leading"),c&&(h[1]="trailing");let f,m=null;const b=t.debounce(function(...w){f=n.apply(this,w),m=null},a,{edges:h}),_=function(...w){return p!=null&&(m===null&&(m=Date.now()),Date.now()-m>=p)?(f=n.apply(this,w),m=Date.now(),b.cancel(),b.schedule(),f):(b.apply(this,w),f)},j=()=>(b.flush(),f);return _.cancel=b.cancel,_.flush=j,_}e.debounce=r})(Gx)),Gx}var RR;function ile(){return RR||(RR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ale();function r(n,a=0,o={}){const{leading:u=!0,trailing:c=!0}=o;return t.debounce(n,a,{leading:u,maxWait:a,trailing:c})}e.throttle=r})(Kx)),Kx}var Yx,OR;function sle(){return OR||(OR=1,Yx=ile().throttle),Yx}var ole=sle();const lle=Ts(ole);var by=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=0;console.warn(r.replace(/%s/g,()=>a[u++]))}},ys={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},L5=(e,t,r)=>{var{width:n=ys.width,height:a=ys.height,aspect:o,maxHeight:u}=r,c=tu(n)?e:Number(n),p=tu(a)?t:Number(a);return o&&o>0&&(c?p=c/o:p&&(c=p*o),u&&p!=null&&p>u&&(p=u)),{calculatedWidth:c,calculatedHeight:p}},cle={width:0,height:0,overflow:"visible"},ule={width:0,overflowX:"visible"},dle={height:0,overflowY:"visible"},fle={},ple=e=>{var{width:t,height:r}=e,n=tu(t),a=tu(r);return n&&a?cle:n?ule:a?dle:fle};function hle(e){var{width:t,height:r,aspect:n}=e,a=t,o=r;return a===void 0&&o===void 0?(a=ys.width,o=ys.height):a===void 0?a=n&&n>0?void 0:ys.width:o===void 0&&(o=n&&n>0?void 0:ys.height),{width:a,height:o}}function MS(){return MS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},MS.apply(null,arguments)}function DR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function MR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DR(Object(r),!0).forEach(function(n){mle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mle(e,t,r){return(t=gle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gle(e){var t=vle(e,"string");return typeof t=="symbol"?t:t+""}function vle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var I5=v.createContext(ys.initialDimension);function yle(e){return Cs(e.width)&&Cs(e.height)}function $5(e){var{children:t,width:r,height:n}=e,a=v.useMemo(()=>({width:r,height:n}),[r,n]);return yle(a)?v.createElement(I5.Provider,{value:a},t):null}var SC=()=>v.useContext(I5),ble=v.forwardRef((e,t)=>{var{aspect:r,initialDimension:n=ys.initialDimension,width:a,height:o,minWidth:u=ys.minWidth,minHeight:c,maxHeight:p,children:h,debounce:f=ys.debounce,id:m,className:b,onResize:_,style:j={}}=e,w=v.useRef(null),y=v.useRef();y.current=_,v.useImperativeHandle(t,()=>w.current);var[x,S]=v.useState({containerWidth:n.width,containerHeight:n.height}),T=v.useCallback((R,D)=>{S(I=>{var q=Math.round(R),z=Math.round(D);return I.containerWidth===q&&I.containerHeight===z?I:{containerWidth:q,containerHeight:z}})},[]);v.useEffect(()=>{if(w.current==null||typeof ResizeObserver>"u")return Gl;var R=z=>{var M,F=z[0];if(F!=null){var{width:B,height:O}=F.contentRect;T(B,O),(M=y.current)===null||M===void 0||M.call(y,B,O)}};f>0&&(R=lle(R,f,{trailing:!0,leading:!1}));var D=new ResizeObserver(R),{width:I,height:q}=w.current.getBoundingClientRect();return T(I,q),D.observe(w.current),()=>{D.disconnect()}},[T,f]);var{containerWidth:N,containerHeight:A}=x;by(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:P,calculatedHeight:k}=L5(N,A,{width:a,height:o,aspect:r,maxHeight:p});return by(P!=null&&P>0||k!=null&&k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,k,a,o,u,c,r),v.createElement("div",{id:m?"".concat(m):void 0,className:Mt("recharts-responsive-container",b),style:MR(MR({},j),{},{width:a,height:o,minWidth:u,minHeight:c,maxHeight:p}),ref:w},v.createElement("div",{style:ple({width:a,height:o})},v.createElement($5,{width:P,height:k},h)))}),hp=v.forwardRef((e,t)=>{var r=SC();if(Cs(r.width)&&Cs(r.height))return e.children;var{width:n,height:a}=hle({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:o,calculatedHeight:u}=L5(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return Me(o)&&Me(u)?v.createElement($5,{width:o,height:u},e.children):v.createElement(ble,MS({},e,{width:n,height:a,ref:t}))});function jC(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Mb=()=>{var e,t=bn(),r=ze(tle),n=ze(Db),a=(e=ze(Ob))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},_le={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},B5=()=>{var e;return(e=ze(an))!==null&&e!==void 0?e:_le},CC=()=>ze($o),kC=()=>ze(Bo),xle=()=>ze(e=>e.layout.margin),Rt=e=>e.layout.layoutType,Yl=()=>ze(Rt),NC=()=>{var e=Yl();if(e==="horizontal"||e==="vertical")return e},z5=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},wle=()=>{var e=Yl();return e!==void 0},em=e=>{var t=hr(),r=bn(),{width:n,height:a}=e,o=SC(),u=n,c=a;return o&&(u=o.width>0?o.width:n,c=o.height>0?o.height:a),v.useEffect(()=>{!r&&Cs(u)&&Cs(c)&&t(Eoe({width:u,height:c}))},[t,r,u,c]),null},F5=Symbol.for("immer-nothing"),LR=Symbol.for("immer-draftable"),La=Symbol.for("immer-state");function $i(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var wh=Object.getPrototypeOf;function zd(e){return!!e&&!!e[La]}function nu(e){var t;return e?q5(e)||Array.isArray(e)||!!e[LR]||!!((t=e.constructor)!=null&&t[LR])||tm(e)||Ib(e):!1}var Sle=Object.prototype.constructor.toString(),IR=new WeakMap;function q5(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=IR.get(r);return n===void 0&&(n=Function.toString.call(r),IR.set(r,n)),n===Sle}function _y(e,t,r=!0){Lb(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Lb(e){const t=e[La];return t?t.type_:Array.isArray(e)?1:tm(e)?2:Ib(e)?3:0}function LS(e,t){return Lb(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function U5(e,t,r){const n=Lb(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function jle(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function tm(e){return e instanceof Map}function Ib(e){return e instanceof Set}function kc(e){return e.copy_||e.base_}function IS(e,t){if(tm(e))return new Map(e);if(Ib(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=q5(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[La];let a=Reflect.ownKeys(n);for(let o=0;o<a.length;o++){const u=a[o],c=n[u];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(n[u]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[u]})}return Object.create(wh(e),n)}else{const n=wh(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function EC(e,t=!1){return $b(e)||zd(e)||!nu(e)||(Lb(e)>1&&Object.defineProperties(e,{set:tv,add:tv,clear:tv,delete:tv}),Object.freeze(e),t&&Object.values(e).forEach(r=>EC(r,!0))),e}function Cle(){$i(2)}var tv={value:Cle};function $b(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var kle={};function au(e){const t=kle[e];return t||$i(0,e),t}var Sh;function H5(){return Sh}function Nle(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function $R(e,t){t&&(au("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function $S(e){BS(e),e.drafts_.forEach(Ele),e.drafts_=null}function BS(e){e===Sh&&(Sh=e.parent_)}function BR(e){return Sh=Nle(Sh,e)}function Ele(e){const t=e[La];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function zR(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[La].modified_&&($S(t),$i(4)),nu(e)&&(e=xy(t,e),t.parent_||wy(t,e)),t.patches_&&au("Patches").generateReplacementPatches_(r[La].base_,e,t.patches_,t.inversePatches_)):e=xy(t,r,[]),$S(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==F5?e:void 0}function xy(e,t,r){if($b(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[La];if(!a)return _y(t,(o,u)=>FR(e,a,t,o,u,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return wy(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const o=a.copy_;let u=o,c=!1;a.type_===3&&(u=new Set(o),o.clear(),c=!0),_y(u,(p,h)=>FR(e,a,o,p,h,r,c),n),wy(e,o,!1),r&&e.patches_&&au("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function FR(e,t,r,n,a,o,u){if(a==null||typeof a!="object"&&!u)return;const c=$b(a);if(!(c&&!u)){if(zd(a)){const p=o&&t&&t.type_!==3&&!LS(t.assigned_,n)?o.concat(n):void 0,h=xy(e,a,p);if(U5(r,n,h),zd(h))e.canAutoFreeze_=!1;else return}else u&&r.add(a);if(nu(a)&&!c){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&c)return;xy(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(tm(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&wy(e,a)}}}function wy(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&EC(t,r)}function Tle(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:H5(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,o=TC;r&&(a=[n],o=jh);const{revoke:u,proxy:c}=Proxy.revocable(a,o);return n.draft_=c,n.revoke_=u,c}var TC={get(e,t){if(t===La)return e;const r=kc(e);if(!LS(r,t))return Ple(e,r,t);const n=r[t];return e.finalized_||!nu(n)?n:n===Qx(e.base_,t)?(Xx(e),e.copy_[t]=FS(n,e)):n},has(e,t){return t in kc(e)},ownKeys(e){return Reflect.ownKeys(kc(e))},set(e,t,r){const n=W5(kc(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Qx(kc(e),t),o=a==null?void 0:a[La];if(o&&o.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(jle(r,a)&&(r!==void 0||LS(e.base_,t)))return!0;Xx(e),zS(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Qx(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Xx(e),zS(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=kc(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){$i(11)},getPrototypeOf(e){return wh(e.base_)},setPrototypeOf(){$i(12)}},jh={};_y(TC,(e,t)=>{jh[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});jh.deleteProperty=function(e,t){return jh.set.call(this,e,t,void 0)};jh.set=function(e,t,r){return TC.set.call(this,e[0],t,r,e[0])};function Qx(e,t){const r=e[La];return(r?kc(r):e)[t]}function Ple(e,t,r){var a;const n=W5(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function W5(e,t){if(!(t in e))return;let r=wh(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=wh(r)}}function zS(e){e.modified_||(e.modified_=!0,e.parent_&&zS(e.parent_))}function Xx(e){e.copy_||(e.copy_=IS(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Ale=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const o=r;r=t;const u=this;return function(p=o,...h){return u.produce(p,f=>r.call(this,f,...h))}}typeof r!="function"&&$i(6),n!==void 0&&typeof n!="function"&&$i(7);let a;if(nu(t)){const o=BR(this),u=FS(t,void 0);let c=!0;try{a=r(u),c=!1}finally{c?$S(o):BS(o)}return $R(o,n),zR(a,o)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===F5&&(a=void 0),this.autoFreeze_&&EC(a,!0),n){const o=[],u=[];au("Patches").generateReplacementPatches_(t,a,o,u),n(o,u)}return a}else $i(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(u,...c)=>this.produceWithPatches(u,p=>t(p,...c));let n,a;return[this.produce(t,r,(u,c)=>{n=u,a=c}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){nu(e)||$i(8),zd(e)&&(e=Rle(e));const t=BR(this),r=FS(e,void 0);return r[La].isManual_=!0,BS(t),r}finishDraft(e,t){const r=e&&e[La];(!r||!r.isManual_)&&$i(9);const{scope_:n}=r;return $R(n,t),zR(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=au("Patches").applyPatches_;return zd(e)?n(e,t):this.produce(e,a=>n(a,t))}};function FS(e,t){const r=tm(e)?au("MapSet").proxyMap_(e,t):Ib(e)?au("MapSet").proxySet_(e,t):Tle(e,t);return(t?t.scope_:H5()).drafts_.push(r),r}function Rle(e){return zd(e)||$i(10,e),K5(e)}function K5(e){if(!nu(e)||$b(e))return e;const t=e[La];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=IS(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=IS(e,!0);return _y(r,(a,o)=>{U5(r,a,K5(o))},n),t&&(t.finalized_=!1),r}var Ole=new Ale;Ole.produce;var Dle={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},G5=_a({name:"legend",initialState:Dle,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Sr()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=zi(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:Sr()},removeLegendPayload:{reducer(e,t){var r=zi(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Sr()}}}),{setLegendSize:qR,setLegendSettings:Mle,addLegendPayload:V5,replaceLegendPayload:Y5,removeLegendPayload:Q5}=G5.actions,Lle=G5.reducer,Ile=["contextPayload"];function qS(){return qS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qS.apply(null,arguments)}function UR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UR(Object(r),!0).forEach(function(n){$le(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $le(e,t,r){return(t=Ble(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ble(e){var t=zle(e,"string");return typeof t=="symbol"?t:t+""}function zle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fle(e,t){if(e==null)return{};var r,n,a=qle(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function qle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ule(e){return e.value}function Hle(e){var{contextPayload:t}=e,r=Fle(e,Ile),n=V6(t,e.payloadUniqBy,Ule),a=Fd(Fd({},r),{},{payload:n});return v.isValidElement(e.content)?v.cloneElement(e.content,a):typeof e.content=="function"?v.createElement(e.content,a):v.createElement(Mie,a)}function Wle(e,t,r,n,a,o){var{layout:u,align:c,verticalAlign:p}=t,h,f;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(c==="center"&&u==="vertical"?h={left:((n||0)-o.width)/2}:h=c==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(p==="middle"?f={top:((a||0)-o.height)/2}:f=p==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Fd(Fd({},h),f)}function Kle(e){var t=hr();return v.useEffect(()=>{t(Mle(e))},[t,e]),null}function Gle(e){var t=hr();return v.useEffect(()=>(t(qR(e)),()=>{t(qR({width:0,height:0}))}),[t,e]),null}function Vle(e,t,r,n){return e==="vertical"&&t!=null?{height:t}:e==="horizontal"?{width:r||n}:null}var Yle={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function mo(e){var t=Ir(e,Yle),r=Pse(),n=Nae(),a=xle(),{width:o,height:u,wrapperStyle:c,portal:p}=t,[h,f]=J6([r]),m=CC(),b=kC();if(m==null||b==null)return null;var _=m-((a==null?void 0:a.left)||0)-((a==null?void 0:a.right)||0),j=Vle(t.layout,u,o,_),w=p?c:Fd(Fd({position:"absolute",width:(j==null?void 0:j.width)||o||"auto",height:(j==null?void 0:j.height)||u||"auto"},Wle(c,t,a,m,b,h)),c),y=p??n;if(y==null||r==null)return null;var x=v.createElement("div",{className:"recharts-legend-wrapper",style:w,ref:f},v.createElement(Kle,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!p&&v.createElement(Gle,{width:h.width,height:h.height}),v.createElement(Hle,qS({},t,j,{margin:a,chartWidth:m,chartHeight:b,contextPayload:r})));return Uh.createPortal(x,y)}mo.displayName="Legend";function US(){return US=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},US.apply(null,arguments)}function HR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HR(Object(r),!0).forEach(function(n){Qle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qle(e,t,r){return(t=Xle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xle(e){var t=Zle(e,"string");return typeof t=="symbol"?t:t+""}function Zle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jle(e){return Array.isArray(e)&&js(e[0])&&js(e[1])?e.join(" ~ "):e}var id={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},ece=e=>{var{separator:t=id.separator,contentStyle:r,itemStyle:n,labelStyle:a=id.labelStyle,payload:o,formatter:u,itemSorter:c,wrapperClassName:p,labelClassName:h,label:f,labelFormatter:m,accessibilityLayer:b=id.accessibilityLayer}=e,_=()=>{if(o&&o.length){var A={padding:0,margin:0},P=(c?xb(o,c):o).map((k,R)=>{if(k.type==="none")return null;var D=k.formatter||u||Jle,{value:I,name:q}=k,z=I,M=q;if(D){var F=D(I,q,k,R,o);if(Array.isArray(F))[z,M]=F;else if(F!=null)z=F;else return null}var B=mp(mp({},id.itemStyle),{},{color:k.color||id.itemStyle.color},n);return v.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(R),style:B},js(M)?v.createElement("span",{className:"recharts-tooltip-item-name"},M):null,js(M)?v.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,v.createElement("span",{className:"recharts-tooltip-item-value"},z),v.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return v.createElement("ul",{className:"recharts-tooltip-item-list",style:A},P)}return null},j=mp(mp({},id.contentStyle),r),w=mp({margin:0},a),y=!kr(f),x=y?f:"",S=Mt("recharts-default-tooltip",p),T=Mt("recharts-tooltip-label",h);y&&m&&o!==void 0&&o!==null&&(x=m(f,o));var N=b?{role:"status","aria-live":"assertive"}:{};return v.createElement("div",US({className:S,style:j},N),v.createElement("p",{className:T,style:w},v.isValidElement(x)?x:"".concat(x)),_())},gp="recharts-tooltip-wrapper",tce={visibility:"hidden"};function rce(e){var{coordinate:t,translateX:r,translateY:n}=e;return Mt(gp,{["".concat(gp,"-right")]:Me(r)&&t&&Me(t.x)&&r>=t.x,["".concat(gp,"-left")]:Me(r)&&t&&Me(t.x)&&r<t.x,["".concat(gp,"-bottom")]:Me(n)&&t&&Me(t.y)&&n>=t.y,["".concat(gp,"-top")]:Me(n)&&t&&Me(t.y)&&n<t.y})}function WR(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offset:a,position:o,reverseDirection:u,tooltipDimension:c,viewBox:p,viewBoxDimension:h}=e;if(o&&Me(o[n]))return o[n];var f=r[n]-c-(a>0?a:0),m=r[n]+a;if(t[n])return u[n]?f:m;var b=p[n];if(b==null)return 0;if(u[n]){var _=f,j=b;return _<j?Math.max(m,b):Math.max(f,b)}if(h==null)return 0;var w=m+c,y=b+h;return w>y?Math.max(f,b):Math.max(m,b)}function nce(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function ace(e){var{allowEscapeViewBox:t,coordinate:r,offsetTop:n,offsetLeft:a,position:o,reverseDirection:u,tooltipBox:c,useTranslate3d:p,viewBox:h}=e,f,m,b;return c.height>0&&c.width>0&&r?(m=WR({allowEscapeViewBox:t,coordinate:r,key:"x",offset:a,position:o,reverseDirection:u,tooltipDimension:c.width,viewBox:h,viewBoxDimension:h.width}),b=WR({allowEscapeViewBox:t,coordinate:r,key:"y",offset:n,position:o,reverseDirection:u,tooltipDimension:c.height,viewBox:h,viewBoxDimension:h.height}),f=nce({translateX:m,translateY:b,useTranslate3d:p})):f=tce,{cssProperties:f,cssClasses:rce({translateX:m,translateY:b,coordinate:r})}}function KR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KR(Object(r),!0).forEach(function(n){HS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HS(e,t,r){return(t=ice(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ice(e){var t=sce(e,"string");return typeof t=="symbol"?t:t+""}function sce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class oce extends v.PureComponent{constructor(){super(...arguments),HS(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),HS(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:o,coordinate:u,hasPayload:c,isAnimationActive:p,offset:h,position:f,reverseDirection:m,useTranslate3d:b,viewBox:_,wrapperStyle:j,lastBoundingBox:w,innerRef:y,hasPortalFromProps:x}=this.props,S=typeof h=="number"?h:h.x,T=typeof h=="number"?h:h.y,{cssClasses:N,cssProperties:A}=ace({allowEscapeViewBox:r,coordinate:u,offsetLeft:S,offsetTop:T,position:f,reverseDirection:m,tooltipBox:{height:w.height,width:w.width},useTranslate3d:b,viewBox:_}),P=x?{}:rv(rv({transition:p&&t?"transform ".concat(n,"ms ").concat(a):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&c?"visible":"hidden",position:"absolute",top:0,left:0}),k=rv(rv({},P),{},{visibility:!this.state.dismissed&&t&&c?"visible":"hidden"},j);return v.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:N,style:k,ref:y},o)}}var X5=()=>{var e;return(e=ze(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function WS(){return WS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},WS.apply(null,arguments)}function GR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function VR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GR(Object(r),!0).forEach(function(n){lce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lce(e,t,r){return(t=cce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cce(e){var t=uce(e,"string");return typeof t=="symbol"?t:t+""}function uce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YR={curveBasisClosed:Kae,curveBasisOpen:Gae,curveBasis:Wae,curveBumpX:Aae,curveBumpY:Rae,curveLinearClosed:Vae,curveLinear:bb,curveMonotoneX:Yae,curveMonotoneY:Qae,curveNatural:Xae,curveStep:Zae,curveStepAfter:eie,curveStepBefore:Jae},Sy=e=>bt(e.x)&&bt(e.y),QR=e=>e.base!=null&&Sy(e.base)&&Sy(e),vp=e=>e.x,yp=e=>e.y,dce=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Yh(e));if((r==="curveMonotone"||r==="curveBump")&&t){var n=YR["".concat(r).concat(t==="vertical"?"Y":"X")];if(n)return n}return YR[r]||bb},XR={connectNulls:!1,type:"linear"},fce=e=>{var{type:t=XR.type,points:r=[],baseLine:n,layout:a,connectNulls:o=XR.connectNulls}=e,u=dce(t,a),c=o?r.filter(Sy):r;if(Array.isArray(n)){var p,h=r.map((j,w)=>VR(VR({},j),{},{base:n[w]}));a==="vertical"?p=Vg().y(yp).x1(vp).x0(j=>j.base.x):p=Vg().x(vp).y1(yp).y0(j=>j.base.y);var f=p.defined(QR).curve(u),m=o?h.filter(QR):h;return f(m)}var b;a==="vertical"&&Me(n)?b=Vg().y(yp).x1(vp).x0(n):Me(n)?b=Vg().x(vp).y1(yp).y0(n):b=j6().x(vp).y(yp);var _=b.defined(Sy).curve(u);return _(c)},wd=e=>{var{className:t,points:r,path:n,pathRef:a}=e,o=Yl();if((!r||!r.length)&&!n)return null;var u={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||o,connectNulls:e.connectNulls},c=r&&r.length?fce(u):n;return v.createElement("path",WS({},Jn(e),fC(e),{className:Mt("recharts-curve",t),d:c===null?void 0:c,ref:a}))},pce=["x","y","top","left","width","height","className"];function KS(){return KS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KS.apply(null,arguments)}function ZR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hce(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZR(Object(r),!0).forEach(function(n){mce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mce(e,t,r){return(t=gce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gce(e){var t=vce(e,"string");return typeof t=="symbol"?t:t+""}function vce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yce(e,t){if(e==null)return{};var r,n,a=bce(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function bce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var _ce=(e,t,r,n,a,o)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(o,",").concat(t,"h").concat(r),xce=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:o=0,height:u=0,className:c}=e,p=yce(e,pce),h=hce({x:t,y:r,top:n,left:a,width:o,height:u},p);return!Me(t)||!Me(r)||!Me(o)||!Me(u)||!Me(n)||!Me(a)?null:v.createElement("path",KS({},zn(h),{className:Mt("recharts-cross",c),d:_ce(t,r,o,u,n,a)}))};function wce(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function JR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JR(Object(r),!0).forEach(function(n){Sce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sce(e,t,r){return(t=jce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jce(e){var t=Cce(e,"string");return typeof t=="symbol"?t:t+""}function Cce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kce=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Z5=(e,t,r)=>e.map(n=>"".concat(kce(n)," ").concat(t,"ms ").concat(r)).join(","),Nce=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),Ch=(e,t)=>Object.keys(t).reduce((r,n)=>eO(eO({},r),{},{[n]:e(n,t[n])}),{});function tO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tO(Object(r),!0).forEach(function(n){Ece(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ece(e,t,r){return(t=Tce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tce(e){var t=Pce(e,"string");return typeof t=="symbol"?t:t+""}function Pce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jy=(e,t,r)=>e+(t-e)*r,GS=e=>{var{from:t,to:r}=e;return t!==r},J5=(e,t,r)=>{var n=Ch((a,o)=>{if(GS(o)){var[u,c]=e(o.from,o.to,o.velocity);return tn(tn({},o),{},{from:u,velocity:c})}return o},t);return r<1?Ch((a,o)=>GS(o)&&n[a]!=null?tn(tn({},o),{},{velocity:jy(o.velocity,n[a].velocity,r),from:jy(o.from,n[a].from,r)}):o,t):J5(e,n,r-1)};function Ace(e,t,r,n,a,o){var u,c=n.reduce((b,_)=>tn(tn({},b),{},{[_]:{from:e[_],velocity:0,to:t[_]}}),{}),p=()=>Ch((b,_)=>_.from,c),h=()=>!Object.values(c).filter(GS).length,f=null,m=b=>{u||(u=b);var _=b-u,j=_/r.dt;c=J5(r,c,j),a(tn(tn(tn({},e),t),p())),u=b,h()||(f=o.setTimeout(m))};return()=>(f=o.setTimeout(m),()=>{var b;(b=f)===null||b===void 0||b()})}function Rce(e,t,r,n,a,o,u){var c=null,p=a.reduce((m,b)=>{var _=e[b],j=t[b];return _==null||j==null?m:tn(tn({},m),{},{[b]:[_,j]})},{}),h,f=m=>{h||(h=m);var b=(m-h)/n,_=Ch((w,y)=>jy(...y,r(b)),p);if(o(tn(tn(tn({},e),t),_)),b<1)c=u.setTimeout(f);else{var j=Ch((w,y)=>jy(...y,r(1)),p);o(tn(tn(tn({},e),t),j))}};return()=>(c=u.setTimeout(f),()=>{var m;(m=c)===null||m===void 0||m()})}const Oce=(e,t,r,n,a,o)=>{var u=Nce(e,t);return r==null?()=>(a(tn(tn({},e),t)),()=>{}):r.isStepper===!0?Ace(e,t,r,u,a,o):Rce(e,t,r,n,u,a,o)};var Cy=1e-4,e8=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],t8=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),rO=(e,t)=>r=>{var n=e8(e,t);return t8(n,r)},Dce=(e,t)=>r=>{var n=e8(e,t),a=[...n.map((o,u)=>o*u).slice(1),0];return t8(a,r)},Mce=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var a=n.map(o=>parseFloat(o));return[a[0],a[1],a[2],a[3]]},Lce=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=Mce(r[0]);if(a)return a}}return r.length===4?r:[0,0,1,1]},Ice=(e,t,r,n)=>{var a=rO(e,r),o=rO(t,n),u=Dce(e,r),c=h=>h>1?1:h<0?0:h,p=h=>{for(var f=h>1?1:h,m=f,b=0;b<8;++b){var _=a(m)-f,j=u(m);if(Math.abs(_-f)<Cy||j<Cy)return o(m);m=c(m-_/j)}return o(m)};return p.isStepper=!1,p},nO=function(){return Ice(...Lce(...arguments))},$ce=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,o=(u,c,p)=>{var h=-(u-c)*r,f=p*n,m=p+(h-f)*a/1e3,b=p*a/1e3+u;return Math.abs(b-c)<Cy&&Math.abs(m)<Cy?[c,0]:[b,m]};return o.isStepper=!0,o.dt=a,o},Bce=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return nO(e);case"spring":return $ce();default:if(e.split("(")[0]==="cubic-bezier")return nO(e)}return typeof e=="function"?e:null};function zce(e){var t,r=()=>null,n=!1,a=null,o=u=>{if(!n){if(Array.isArray(u)){if(!u.length)return;var c=u,[p,...h]=c;if(typeof p=="number"){a=e.setTimeout(o.bind(null,h),p);return}o(p),a=e.setTimeout(o.bind(null,h));return}typeof u=="string"&&(t=u,r(t)),typeof u=="object"&&(t=u,r(t)),typeof u=="function"&&u()}};return{stop:()=>{n=!0},start:u=>{n=!1,a&&(a(),a=null),o(u)},subscribe:u=>(r=u,()=>{r=()=>null}),getTimeoutController:()=>e}}class Fce{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,o=u=>{u-n>=r?t(u):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(o))};return a=requestAnimationFrame(o),()=>{a!=null&&cancelAnimationFrame(a)}}}function qce(){return zce(new Fce)}var Uce=v.createContext(qce);function Hce(e,t){var r=v.useContext(Uce);return v.useMemo(()=>t??r(e),[e,t,r])}var Wce=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),rm={isSsr:Wce()},Kce={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},aO={t:0},Zx={t:1};function rf(e){var t=Ir(e,Kce),{isActive:r,canBegin:n,duration:a,easing:o,begin:u,onAnimationEnd:c,onAnimationStart:p,children:h}=t,f=r==="auto"?!rm.isSsr:r,m=Hce(t.animationId,t.animationManager),[b,_]=v.useState(f?aO:Zx),j=v.useRef(null);return v.useEffect(()=>{f||_(Zx)},[f]),v.useEffect(()=>{if(!f||!n)return Gl;var w=Oce(aO,Zx,Bce(o),a,_,m.getTimeoutController()),y=()=>{j.current=w()};return m.start([p,u,y,a,c]),()=>{m.stop(),j.current&&j.current(),c()}},[f,n,a,o,u,p,c,m]),h(b.t)}function nf(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=v.useRef(yh(t)),n=v.useRef(e);return n.current!==e&&(r.current=yh(t),n.current=e),r.current}var Gce=["radius"],Vce=["radius"],iO,sO,oO,lO,cO,uO,dO,fO,pO,hO;function mO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mO(Object(r),!0).forEach(function(n){Yce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yce(e,t,r){return(t=Qce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qce(e){var t=Xce(e,"string");return typeof t=="symbol"?t:t+""}function Xce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ky(){return ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ky.apply(null,arguments)}function vO(e,t){if(e==null)return{};var r,n,a=Zce(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Zce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ns(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var yO=(e,t,r,n,a)=>{var o=Il(r),u=Il(n),c=Math.min(Math.abs(o)/2,Math.abs(u)/2),p=u>=0?1:-1,h=o>=0?1:-1,f=u>=0&&o>=0||u<0&&o<0?1:0,m;if(c>0&&Array.isArray(a)){for(var b=[0,0,0,0],_=0,j=4;_<j;_++){var w,y=(w=a[_])!==null&&w!==void 0?w:0;b[_]=y>c?c:y}m=Dr(iO||(iO=ns(["M",",",""])),e,t+p*b[0]),b[0]>0&&(m+=Dr(sO||(sO=ns(["A ",",",",0,0,",",",",",""])),b[0],b[0],f,e+h*b[0],t)),m+=Dr(oO||(oO=ns(["L ",",",""])),e+r-h*b[1],t),b[1]>0&&(m+=Dr(lO||(lO=ns(["A ",",",",0,0,",`,
        `,",",""])),b[1],b[1],f,e+r,t+p*b[1])),m+=Dr(cO||(cO=ns(["L ",",",""])),e+r,t+n-p*b[2]),b[2]>0&&(m+=Dr(uO||(uO=ns(["A ",",",",0,0,",`,
        `,",",""])),b[2],b[2],f,e+r-h*b[2],t+n)),m+=Dr(dO||(dO=ns(["L ",",",""])),e+h*b[3],t+n),b[3]>0&&(m+=Dr(fO||(fO=ns(["A ",",",",0,0,",`,
        `,",",""])),b[3],b[3],f,e,t+n-p*b[3])),m+="Z"}else if(c>0&&a===+a&&a>0){var x=Math.min(c,a);m=Dr(pO||(pO=ns(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+p*x,x,x,f,e+h*x,t,e+r-h*x,t,x,x,f,e+r,t+p*x,e+r,t+n-p*x,x,x,f,e+r-h*x,t+n,e+h*x,t+n,x,x,f,e,t+n-p*x)}else m=Dr(hO||(hO=ns(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return m},bO={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},r8=e=>{var t=Ir(e,bO),r=v.useRef(null),[n,a]=v.useState(-1);v.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var $=r.current.getTotalLength();$&&a($)}catch{}},[]);var{x:o,y:u,width:c,height:p,radius:h,className:f}=t,{animationEasing:m,animationDuration:b,animationBegin:_,isAnimationActive:j,isUpdateAnimationActive:w}=t,y=v.useRef(c),x=v.useRef(p),S=v.useRef(o),T=v.useRef(u),N=v.useMemo(()=>({x:o,y:u,width:c,height:p,radius:h}),[o,u,c,p,h]),A=nf(N,"rectangle-");if(o!==+o||u!==+u||c!==+c||p!==+p||c===0||p===0)return null;var P=Mt("recharts-rectangle",f);if(!w){var k=zn(t),{radius:R}=k,D=vO(k,Gce);return v.createElement("path",ky({},D,{x:Il(o),y:Il(u),width:Il(c),height:Il(p),radius:typeof h=="number"?h:void 0,className:P,d:yO(o,u,c,p,h)}))}var I=y.current,q=x.current,z=S.current,M=T.current,F="0px ".concat(n===-1?1:n,"px"),B="".concat(n,"px 0px"),O=Z5(["strokeDasharray"],b,typeof m=="string"?m:bO.animationEasing);return v.createElement(rf,{animationId:A,key:A,canBegin:n>0,duration:b,easing:m,isActive:w,begin:_},$=>{var K=Gt(I,c,$),V=Gt(q,p,$),Q=Gt(z,o,$),U=Gt(M,u,$);r.current&&(y.current=K,x.current=V,S.current=Q,T.current=U);var X;j?$>0?X={transition:O,strokeDasharray:B}:X={strokeDasharray:F}:X={strokeDasharray:B};var ee=zn(t),{radius:te}=ee,me=vO(ee,Vce);return v.createElement("path",ky({},me,{radius:typeof h=="number"?h:void 0,className:P,d:yO(Q,U,K,V,h),ref:r,style:gO(gO({},X),t.style)}))})};function _O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_O(Object(r),!0).forEach(function(n){Jce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_O(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jce(e,t,r){return(t=eue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eue(e){var t=tue(e,"string");return typeof t=="symbol"?t:t+""}function tue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ny=Math.PI/180,rue=e=>e*180/Math.PI,Qr=(e,t,r,n)=>({x:e+Math.cos(-Ny*n)*r,y:t+Math.sin(-Ny*n)*r}),n8=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},nue=(e,t)=>{var{x:r,y:n}=e,{x:a,y:o}=t;return Math.sqrt((r-a)**2+(n-o)**2)},aue=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:o}=t,u=nue({x:r,y:n},{x:a,y:o});if(u<=0)return{radius:u,angle:0};var c=(r-a)/u,p=Math.acos(c);return n>o&&(p=2*Math.PI-p),{radius:u,angle:rue(p),angleInRadian:p}},iue=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),o=Math.min(n,a);return{startAngle:t-o*360,endAngle:r-o*360}},sue=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),o=Math.floor(n/360),u=Math.min(a,o);return e+u*360},oue=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:o}=aue({x:r,y:n},t),{innerRadius:u,outerRadius:c}=t;if(a<u||a>c||a===0)return null;var{startAngle:p,endAngle:h}=iue(t),f=o,m;if(p<=h){for(;f>h;)f-=360;for(;f<p;)f+=360;m=f>=p&&f<=h}else{for(;f>p;)f-=360;for(;f<h;)f+=360;m=f>=h&&f<=p}return m?xO(xO({},t),{},{radius:a,angle:sue(f,t)}):null};function a8(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:o}=e,u=Qr(t,r,n,a),c=Qr(t,r,n,o);return{points:[u,c],cx:t,cy:r,radius:n,startAngle:a,endAngle:o}}var wO,SO,jO,CO,kO,NO,EO;function VS(){return VS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},VS.apply(null,arguments)}function Ac(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var lue=(e,t)=>{var r=yn(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},nv=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:o,isExternal:u,cornerRadius:c,cornerIsExternal:p}=e,h=c*(u?1:-1)+n,f=Math.asin(c/h)/Ny,m=p?a:a+o*f,b=Qr(t,r,h,m),_=Qr(t,r,n,m),j=p?a-o*f:a,w=Qr(t,r,h*Math.cos(f*Ny),j);return{center:b,circleTangency:_,lineTangency:w,theta:f}},i8=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:o,endAngle:u}=e,c=lue(o,u),p=o+c,h=Qr(t,r,a,o),f=Qr(t,r,a,p),m=Dr(wO||(wO=Ac(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),h.x,h.y,a,a,+(Math.abs(c)>180),+(o>p),f.x,f.y);if(n>0){var b=Qr(t,r,n,o),_=Qr(t,r,n,p);m+=Dr(SO||(SO=Ac(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),_.x,_.y,n,n,+(Math.abs(c)>180),+(o<=p),b.x,b.y)}else m+=Dr(jO||(jO=Ac(["L ",","," Z"])),t,r);return m},cue=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:o,forceCornerRadius:u,cornerIsExternal:c,startAngle:p,endAngle:h}=e,f=yn(h-p),{circleTangency:m,lineTangency:b,theta:_}=nv({cx:t,cy:r,radius:a,angle:p,sign:f,cornerRadius:o,cornerIsExternal:c}),{circleTangency:j,lineTangency:w,theta:y}=nv({cx:t,cy:r,radius:a,angle:h,sign:-f,cornerRadius:o,cornerIsExternal:c}),x=c?Math.abs(p-h):Math.abs(p-h)-_-y;if(x<0)return u?Dr(CO||(CO=Ac(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),b.x,b.y,o,o,o*2,o,o,-o*2):i8({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:p,endAngle:h});var S=Dr(kO||(kO=Ac(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),b.x,b.y,o,o,+(f<0),m.x,m.y,a,a,+(x>180),+(f<0),j.x,j.y,o,o,+(f<0),w.x,w.y);if(n>0){var{circleTangency:T,lineTangency:N,theta:A}=nv({cx:t,cy:r,radius:n,angle:p,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),{circleTangency:P,lineTangency:k,theta:R}=nv({cx:t,cy:r,radius:n,angle:h,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),D=c?Math.abs(p-h):Math.abs(p-h)-A-R;if(D<0&&o===0)return"".concat(S,"L").concat(t,",").concat(r,"Z");S+=Dr(NO||(NO=Ac(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),k.x,k.y,o,o,+(f<0),P.x,P.y,n,n,+(D>180),+(f>0),T.x,T.y,o,o,+(f<0),N.x,N.y)}else S+=Dr(EO||(EO=Ac(["L",",","Z"])),t,r);return S},uue={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},s8=e=>{var t=Ir(e,uue),{cx:r,cy:n,innerRadius:a,outerRadius:o,cornerRadius:u,forceCornerRadius:c,cornerIsExternal:p,startAngle:h,endAngle:f,className:m}=t;if(o<a||h===f)return null;var b=Mt("recharts-sector",m),_=o-a,j=Bn(u,_,0,!0),w;return j>0&&Math.abs(h-f)<360?w=cue({cx:r,cy:n,innerRadius:a,outerRadius:o,cornerRadius:Math.min(j,_/2),forceCornerRadius:c,cornerIsExternal:p,startAngle:h,endAngle:f}):w=i8({cx:r,cy:n,innerRadius:a,outerRadius:o,startAngle:h,endAngle:f}),v.createElement("path",VS({},zn(t),{className:b,d:w}))};function due(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(B6(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:o,outerRadius:u,angle:c}=t,p=Qr(n,a,o,c),h=Qr(n,a,u,c);return[{x:p.x,y:p.y},{x:h.x,y:h.y}]}return a8(t)}}var Jx={},ew={},tw={},TO;function fue(){return TO||(TO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Q6();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(tw)),tw}var PO;function pue(){return PO||(PO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fue();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(ew)),ew}var AO;function hue(){return AO||(AO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=X6(),r=pue();function n(a,o,u){u&&typeof u!="number"&&t.isIterateeCall(a,o,u)&&(o=u=void 0),a=r.toFinite(a),o===void 0?(o=a,a=0):o=r.toFinite(o),u=u===void 0?a<o?1:-1:r.toFinite(u);const c=Math.max(Math.ceil((o-a)/(u||1)),0),p=new Array(c);for(let h=0;h<c;h++)p[h]=a,a+=u;return p}e.range=n})(Jx)),Jx}var rw,RO;function mue(){return RO||(RO=1,rw=hue().range),rw}var gue=mue();const o8=Ts(gue);function zl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function vue(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function PC(e){let t,r,n;e.length!==2?(t=zl,r=(c,p)=>zl(e(c),p),n=(c,p)=>e(c)-p):(t=e===zl||e===vue?e:yue,r=e,n=e);function a(c,p,h=0,f=c.length){if(h<f){if(t(p,p)!==0)return f;do{const m=h+f>>>1;r(c[m],p)<0?h=m+1:f=m}while(h<f)}return h}function o(c,p,h=0,f=c.length){if(h<f){if(t(p,p)!==0)return f;do{const m=h+f>>>1;r(c[m],p)<=0?h=m+1:f=m}while(h<f)}return h}function u(c,p,h=0,f=c.length){const m=a(c,p,h,f-1);return m>h&&n(c[m-1],p)>-n(c[m],p)?m-1:m}return{left:a,center:u,right:o}}function yue(){return 0}function l8(e){return e===null?NaN:+e}function*bue(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const _ue=PC(zl),nm=_ue.right;PC(l8).center;class OO extends Map{constructor(t,r=Sue){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(DO(this,t))}has(t){return super.has(DO(this,t))}set(t,r){return super.set(xue(this,t),r)}delete(t){return super.delete(wue(this,t))}}function DO({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function xue({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function wue({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Sue(e){return e!==null&&typeof e=="object"?e.valueOf():e}function jue(e=zl){if(e===zl)return c8;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function c8(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Cue=Math.sqrt(50),kue=Math.sqrt(10),Nue=Math.sqrt(2);function Ey(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),o=n/Math.pow(10,a),u=o>=Cue?10:o>=kue?5:o>=Nue?2:1;let c,p,h;return a<0?(h=Math.pow(10,-a)/u,c=Math.round(e*h),p=Math.round(t*h),c/h<e&&++c,p/h>t&&--p,h=-h):(h=Math.pow(10,a)*u,c=Math.round(e/h),p=Math.round(t/h),c*h<e&&++c,p*h>t&&--p),p<c&&.5<=r&&r<2?Ey(e,t,r*2):[c,p,h]}function YS(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,o,u]=n?Ey(t,e,r):Ey(e,t,r);if(!(o>=a))return[];const c=o-a+1,p=new Array(c);if(n)if(u<0)for(let h=0;h<c;++h)p[h]=(o-h)/-u;else for(let h=0;h<c;++h)p[h]=(o-h)*u;else if(u<0)for(let h=0;h<c;++h)p[h]=(a+h)/-u;else for(let h=0;h<c;++h)p[h]=(a+h)*u;return p}function QS(e,t,r){return t=+t,e=+e,r=+r,Ey(e,t,r)[2]}function XS(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?QS(t,e,r):QS(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function MO(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function LO(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function u8(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?c8:jue(a);n>r;){if(n-r>600){const p=n-r+1,h=t-r+1,f=Math.log(p),m=.5*Math.exp(2*f/3),b=.5*Math.sqrt(f*m*(p-m)/p)*(h-p/2<0?-1:1),_=Math.max(r,Math.floor(t-h*m/p+b)),j=Math.min(n,Math.floor(t+(p-h)*m/p+b));u8(e,t,_,j,a)}const o=e[t];let u=r,c=n;for(bp(e,r,t),a(e[n],o)>0&&bp(e,r,n);u<c;){for(bp(e,u,c),++u,--c;a(e[u],o)<0;)++u;for(;a(e[c],o)>0;)--c}a(e[r],o)===0?bp(e,r,c):(++c,bp(e,c,n)),c<=t&&(r=c+1),t<=c&&(n=c-1)}return e}function bp(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Eue(e,t,r){if(e=Float64Array.from(bue(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return LO(e);if(t>=1)return MO(e);var n,a=(n-1)*t,o=Math.floor(a),u=MO(u8(e,o).subarray(0,o+1)),c=LO(e.subarray(o+1));return u+(c-u)*(a-o)}}function Tue(e,t,r=l8){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,o=Math.floor(a),u=+r(e[o],o,e),c=+r(e[o+1],o+1,e);return u+(c-u)*(a-o)}}function Pue(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(a);++n<a;)o[n]=e+n*r;return o}function xi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function zo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const ZS=Symbol("implicit");function AC(){var e=new OO,t=[],r=[],n=ZS;function a(o){let u=e.get(o);if(u===void 0){if(n!==ZS)return n;e.set(o,u=t.push(o)-1)}return r[u%r.length]}return a.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new OO;for(const u of o)e.has(u)||e.set(u,t.push(u)-1);return a},a.range=function(o){return arguments.length?(r=Array.from(o),a):r.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return AC(t,r).unknown(n)},xi.apply(a,arguments),a}function RC(){var e=AC().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,o,u,c=!1,p=0,h=0,f=.5;delete e.unknown;function m(){var b=t().length,_=a<n,j=_?a:n,w=_?n:a;o=(w-j)/Math.max(1,b-p+h*2),c&&(o=Math.floor(o)),j+=(w-j-o*(b-p))*f,u=o*(1-p),c&&(j=Math.round(j),u=Math.round(u));var y=Pue(b).map(function(x){return j+o*x});return r(_?y.reverse():y)}return e.domain=function(b){return arguments.length?(t(b),m()):t()},e.range=function(b){return arguments.length?([n,a]=b,n=+n,a=+a,m()):[n,a]},e.rangeRound=function(b){return[n,a]=b,n=+n,a=+a,c=!0,m()},e.bandwidth=function(){return u},e.step=function(){return o},e.round=function(b){return arguments.length?(c=!!b,m()):c},e.padding=function(b){return arguments.length?(p=Math.min(1,h=+b),m()):p},e.paddingInner=function(b){return arguments.length?(p=Math.min(1,b),m()):p},e.paddingOuter=function(b){return arguments.length?(h=+b,m()):h},e.align=function(b){return arguments.length?(f=Math.max(0,Math.min(1,b)),m()):f},e.copy=function(){return RC(t(),[n,a]).round(c).paddingInner(p).paddingOuter(h).align(f)},xi.apply(m(),arguments)}function d8(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return d8(t())},e}function Aue(){return d8(RC.apply(null,arguments).paddingInner(1))}function OC(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function f8(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function am(){}var kh=.7,Ty=1/kh,Sd="\\s*([+-]?\\d+)\\s*",Nh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ws="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Rue=/^#([0-9a-f]{3,8})$/,Oue=new RegExp(`^rgb\\(${Sd},${Sd},${Sd}\\)$`),Due=new RegExp(`^rgb\\(${ws},${ws},${ws}\\)$`),Mue=new RegExp(`^rgba\\(${Sd},${Sd},${Sd},${Nh}\\)$`),Lue=new RegExp(`^rgba\\(${ws},${ws},${ws},${Nh}\\)$`),Iue=new RegExp(`^hsl\\(${Nh},${ws},${ws}\\)$`),$ue=new RegExp(`^hsla\\(${Nh},${ws},${ws},${Nh}\\)$`),IO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};OC(am,Eh,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:$O,formatHex:$O,formatHex8:Bue,formatHsl:zue,formatRgb:BO,toString:BO});function $O(){return this.rgb().formatHex()}function Bue(){return this.rgb().formatHex8()}function zue(){return p8(this).formatHsl()}function BO(){return this.rgb().formatRgb()}function Eh(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Rue.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?zO(t):r===3?new ya(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?av(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?av(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Oue.exec(e))?new ya(t[1],t[2],t[3],1):(t=Due.exec(e))?new ya(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Mue.exec(e))?av(t[1],t[2],t[3],t[4]):(t=Lue.exec(e))?av(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Iue.exec(e))?UO(t[1],t[2]/100,t[3]/100,1):(t=$ue.exec(e))?UO(t[1],t[2]/100,t[3]/100,t[4]):IO.hasOwnProperty(e)?zO(IO[e]):e==="transparent"?new ya(NaN,NaN,NaN,0):null}function zO(e){return new ya(e>>16&255,e>>8&255,e&255,1)}function av(e,t,r,n){return n<=0&&(e=t=r=NaN),new ya(e,t,r,n)}function Fue(e){return e instanceof am||(e=Eh(e)),e?(e=e.rgb(),new ya(e.r,e.g,e.b,e.opacity)):new ya}function JS(e,t,r,n){return arguments.length===1?Fue(e):new ya(e,t,r,n??1)}function ya(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}OC(ya,JS,f8(am,{brighter(e){return e=e==null?Ty:Math.pow(Ty,e),new ya(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?kh:Math.pow(kh,e),new ya(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ya(Wc(this.r),Wc(this.g),Wc(this.b),Py(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:FO,formatHex:FO,formatHex8:que,formatRgb:qO,toString:qO}));function FO(){return`#${Rc(this.r)}${Rc(this.g)}${Rc(this.b)}`}function que(){return`#${Rc(this.r)}${Rc(this.g)}${Rc(this.b)}${Rc((isNaN(this.opacity)?1:this.opacity)*255)}`}function qO(){const e=Py(this.opacity);return`${e===1?"rgb(":"rgba("}${Wc(this.r)}, ${Wc(this.g)}, ${Wc(this.b)}${e===1?")":`, ${e})`}`}function Py(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Wc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Rc(e){return e=Wc(e),(e<16?"0":"")+e.toString(16)}function UO(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Bi(e,t,r,n)}function p8(e){if(e instanceof Bi)return new Bi(e.h,e.s,e.l,e.opacity);if(e instanceof am||(e=Eh(e)),!e)return new Bi;if(e instanceof Bi)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),o=Math.max(t,r,n),u=NaN,c=o-a,p=(o+a)/2;return c?(t===o?u=(r-n)/c+(r<n)*6:r===o?u=(n-t)/c+2:u=(t-r)/c+4,c/=p<.5?o+a:2-o-a,u*=60):c=p>0&&p<1?0:u,new Bi(u,c,p,e.opacity)}function Uue(e,t,r,n){return arguments.length===1?p8(e):new Bi(e,t,r,n??1)}function Bi(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}OC(Bi,Uue,f8(am,{brighter(e){return e=e==null?Ty:Math.pow(Ty,e),new Bi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?kh:Math.pow(kh,e),new Bi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new ya(nw(e>=240?e-240:e+120,a,n),nw(e,a,n),nw(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Bi(HO(this.h),iv(this.s),iv(this.l),Py(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Py(this.opacity);return`${e===1?"hsl(":"hsla("}${HO(this.h)}, ${iv(this.s)*100}%, ${iv(this.l)*100}%${e===1?")":`, ${e})`}`}}));function HO(e){return e=(e||0)%360,e<0?e+360:e}function iv(e){return Math.max(0,Math.min(1,e||0))}function nw(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const DC=e=>()=>e;function Hue(e,t){return function(r){return e+r*t}}function Wue(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Kue(e){return(e=+e)==1?h8:function(t,r){return r-t?Wue(t,r,e):DC(isNaN(t)?r:t)}}function h8(e,t){var r=t-e;return r?Hue(e,r):DC(isNaN(e)?t:e)}const WO=(function e(t){var r=Kue(t);function n(a,o){var u=r((a=JS(a)).r,(o=JS(o)).r),c=r(a.g,o.g),p=r(a.b,o.b),h=h8(a.opacity,o.opacity);return function(f){return a.r=u(f),a.g=c(f),a.b=p(f),a.opacity=h(f),a+""}}return n.gamma=e,n})(1);function Gue(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(o){for(a=0;a<r;++a)n[a]=e[a]*(1-o)+t[a]*o;return n}}function Vue(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Yue(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),o=new Array(r),u;for(u=0;u<n;++u)a[u]=af(e[u],t[u]);for(;u<r;++u)o[u]=t[u];return function(c){for(u=0;u<n;++u)o[u]=a[u](c);return o}}function Que(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Ay(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Xue(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=af(e[a],t[a]):n[a]=t[a];return function(o){for(a in r)n[a]=r[a](o);return n}}var ej=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,aw=new RegExp(ej.source,"g");function Zue(e){return function(){return e}}function Jue(e){return function(t){return e(t)+""}}function ede(e,t){var r=ej.lastIndex=aw.lastIndex=0,n,a,o,u=-1,c=[],p=[];for(e=e+"",t=t+"";(n=ej.exec(e))&&(a=aw.exec(t));)(o=a.index)>r&&(o=t.slice(r,o),c[u]?c[u]+=o:c[++u]=o),(n=n[0])===(a=a[0])?c[u]?c[u]+=a:c[++u]=a:(c[++u]=null,p.push({i:u,x:Ay(n,a)})),r=aw.lastIndex;return r<t.length&&(o=t.slice(r),c[u]?c[u]+=o:c[++u]=o),c.length<2?p[0]?Jue(p[0].x):Zue(t):(t=p.length,function(h){for(var f=0,m;f<t;++f)c[(m=p[f]).i]=m.x(h);return c.join("")})}function af(e,t){var r=typeof t,n;return t==null||r==="boolean"?DC(t):(r==="number"?Ay:r==="string"?(n=Eh(t))?(t=n,WO):ede:t instanceof Eh?WO:t instanceof Date?Que:Vue(t)?Gue:Array.isArray(t)?Yue:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Xue:Ay)(e,t)}function MC(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function tde(e,t){t===void 0&&(t=e,e=af);for(var r=0,n=t.length-1,a=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(a,a=t[++r]);return function(u){var c=Math.max(0,Math.min(n-1,Math.floor(u*=n)));return o[c](u-c)}}function rde(e){return function(){return e}}function Ry(e){return+e}var KO=[0,1];function Zn(e){return e}function tj(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:rde(isNaN(t)?NaN:.5)}function nde(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function ade(e,t,r){var n=e[0],a=e[1],o=t[0],u=t[1];return a<n?(n=tj(a,n),o=r(u,o)):(n=tj(n,a),o=r(o,u)),function(c){return o(n(c))}}function ide(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),o=new Array(n),u=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++u<n;)a[u]=tj(e[u],e[u+1]),o[u]=r(t[u],t[u+1]);return function(c){var p=nm(e,c,1,n)-1;return o[p](a[p](c))}}function im(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Bb(){var e=KO,t=KO,r=af,n,a,o,u=Zn,c,p,h;function f(){var b=Math.min(e.length,t.length);return u!==Zn&&(u=nde(e[0],e[b-1])),c=b>2?ide:ade,p=h=null,m}function m(b){return b==null||isNaN(b=+b)?o:(p||(p=c(e.map(n),t,r)))(n(u(b)))}return m.invert=function(b){return u(a((h||(h=c(t,e.map(n),Ay)))(b)))},m.domain=function(b){return arguments.length?(e=Array.from(b,Ry),f()):e.slice()},m.range=function(b){return arguments.length?(t=Array.from(b),f()):t.slice()},m.rangeRound=function(b){return t=Array.from(b),r=MC,f()},m.clamp=function(b){return arguments.length?(u=b?!0:Zn,f()):u!==Zn},m.interpolate=function(b){return arguments.length?(r=b,f()):r},m.unknown=function(b){return arguments.length?(o=b,m):o},function(b,_){return n=b,a=_,f()}}function LC(){return Bb()(Zn,Zn)}function sde(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Oy(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function qd(e){return e=Oy(Math.abs(e)),e?e[1]:NaN}function ode(e,t){return function(r,n){for(var a=r.length,o=[],u=0,c=e[0],p=0;a>0&&c>0&&(p+c+1>n&&(c=Math.max(1,n-p)),o.push(r.substring(a-=c,a+c)),!((p+=c+1)>n));)c=e[u=(u+1)%e.length];return o.reverse().join(t)}}function lde(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var cde=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Th(e){if(!(t=cde.exec(e)))throw new Error("invalid format: "+e);var t;return new IC({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Th.prototype=IC.prototype;function IC(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}IC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ude(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Dy;function dde(e,t){var r=Oy(e,t);if(!r)return Dy=void 0,e.toPrecision(t);var n=r[0],a=r[1],o=a-(Dy=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,u=n.length;return o===u?n:o>u?n+new Array(o-u+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Oy(e,Math.max(0,t+o-1))[0]}function GO(e,t){var r=Oy(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const VO={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:sde,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>GO(e*100,t),r:GO,s:dde,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function YO(e){return e}var QO=Array.prototype.map,XO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function fde(e){var t=e.grouping===void 0||e.thousands===void 0?YO:ode(QO.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?YO:lde(QO.call(e.numerals,String)),u=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"":e.minus+"",p=e.nan===void 0?"NaN":e.nan+"";function h(m,b){m=Th(m);var _=m.fill,j=m.align,w=m.sign,y=m.symbol,x=m.zero,S=m.width,T=m.comma,N=m.precision,A=m.trim,P=m.type;P==="n"?(T=!0,P="g"):VO[P]||(N===void 0&&(N=12),A=!0,P="g"),(x||_==="0"&&j==="=")&&(x=!0,_="0",j="=");var k=(b&&b.prefix!==void 0?b.prefix:"")+(y==="$"?r:y==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():""),R=(y==="$"?n:/[%p]/.test(P)?u:"")+(b&&b.suffix!==void 0?b.suffix:""),D=VO[P],I=/[defgprs%]/.test(P);N=N===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function q(z){var M=k,F=R,B,O,$;if(P==="c")F=D(z)+F,z="";else{z=+z;var K=z<0||1/z<0;if(z=isNaN(z)?p:D(Math.abs(z),N),A&&(z=ude(z)),K&&+z==0&&w!=="+"&&(K=!1),M=(K?w==="("?w:c:w==="-"||w==="("?"":w)+M,F=(P==="s"&&!isNaN(z)&&Dy!==void 0?XO[8+Dy/3]:"")+F+(K&&w==="("?")":""),I){for(B=-1,O=z.length;++B<O;)if($=z.charCodeAt(B),48>$||$>57){F=($===46?a+z.slice(B+1):z.slice(B))+F,z=z.slice(0,B);break}}}T&&!x&&(z=t(z,1/0));var V=M.length+z.length+F.length,Q=V<S?new Array(S-V+1).join(_):"";switch(T&&x&&(z=t(Q+z,Q.length?S-F.length:1/0),Q=""),j){case"<":z=M+z+F+Q;break;case"=":z=M+Q+z+F;break;case"^":z=Q.slice(0,V=Q.length>>1)+M+z+F+Q.slice(V);break;default:z=Q+M+z+F;break}return o(z)}return q.toString=function(){return m+""},q}function f(m,b){var _=Math.max(-8,Math.min(8,Math.floor(qd(b)/3)))*3,j=Math.pow(10,-_),w=h((m=Th(m),m.type="f",m),{suffix:XO[8+_/3]});return function(y){return w(j*y)}}return{format:h,formatPrefix:f}}var sv,$C,m8;pde({thousands:",",grouping:[3],currency:["$",""]});function pde(e){return sv=fde(e),$C=sv.format,m8=sv.formatPrefix,sv}function hde(e){return Math.max(0,-qd(Math.abs(e)))}function mde(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(qd(t)/3)))*3-qd(Math.abs(e)))}function gde(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,qd(t)-qd(e))+1}function g8(e,t,r,n){var a=XS(e,t,r),o;switch(n=Th(n??",f"),n.type){case"s":{var u=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=mde(a,u))&&(n.precision=o),m8(n,u)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=gde(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=hde(a))&&(n.precision=o-(n.type==="%")*2);break}}return $C(n)}function Ql(e){var t=e.domain;return e.ticks=function(r){var n=t();return YS(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return g8(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,o=n.length-1,u=n[a],c=n[o],p,h,f=10;for(c<u&&(h=u,u=c,c=h,h=a,a=o,o=h);f-- >0;){if(h=QS(u,c,r),h===p)return n[a]=u,n[o]=c,t(n);if(h>0)u=Math.floor(u/h)*h,c=Math.ceil(c/h)*h;else if(h<0)u=Math.ceil(u*h)/h,c=Math.floor(c*h)/h;else break;p=h}return e},e}function v8(){var e=LC();return e.copy=function(){return im(e,v8())},xi.apply(e,arguments),Ql(e)}function y8(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Ry),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return y8(e).unknown(t)},e=arguments.length?Array.from(e,Ry):[0,1],Ql(r)}function b8(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],o=e[n],u;return o<a&&(u=r,r=n,n=u,u=a,a=o,o=u),e[r]=t.floor(a),e[n]=t.ceil(o),e}function ZO(e){return Math.log(e)}function JO(e){return Math.exp(e)}function vde(e){return-Math.log(-e)}function yde(e){return-Math.exp(-e)}function bde(e){return isFinite(e)?+("1e"+e):e<0?0:e}function _de(e){return e===10?bde:e===Math.E?Math.exp:t=>Math.pow(e,t)}function xde(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function e3(e){return(t,r)=>-e(-t,r)}function BC(e){const t=e(ZO,JO),r=t.domain;let n=10,a,o;function u(){return a=xde(n),o=_de(n),r()[0]<0?(a=e3(a),o=e3(o),e(vde,yde)):e(ZO,JO),t}return t.base=function(c){return arguments.length?(n=+c,u()):n},t.domain=function(c){return arguments.length?(r(c),u()):r()},t.ticks=c=>{const p=r();let h=p[0],f=p[p.length-1];const m=f<h;m&&([h,f]=[f,h]);let b=a(h),_=a(f),j,w;const y=c==null?10:+c;let x=[];if(!(n%1)&&_-b<y){if(b=Math.floor(b),_=Math.ceil(_),h>0){for(;b<=_;++b)for(j=1;j<n;++j)if(w=b<0?j/o(-b):j*o(b),!(w<h)){if(w>f)break;x.push(w)}}else for(;b<=_;++b)for(j=n-1;j>=1;--j)if(w=b>0?j/o(-b):j*o(b),!(w<h)){if(w>f)break;x.push(w)}x.length*2<y&&(x=YS(h,f,y))}else x=YS(b,_,Math.min(_-b,y)).map(o);return m?x.reverse():x},t.tickFormat=(c,p)=>{if(c==null&&(c=10),p==null&&(p=n===10?"s":","),typeof p!="function"&&(!(n%1)&&(p=Th(p)).precision==null&&(p.trim=!0),p=$C(p)),c===1/0)return p;const h=Math.max(1,n*c/t.ticks().length);return f=>{let m=f/o(Math.round(a(f)));return m*n<n-.5&&(m*=n),m<=h?p(f):""}},t.nice=()=>r(b8(r(),{floor:c=>o(Math.floor(a(c))),ceil:c=>o(Math.ceil(a(c)))})),t}function _8(){const e=BC(Bb()).domain([1,10]);return e.copy=()=>im(e,_8()).base(e.base()),xi.apply(e,arguments),e}function t3(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function r3(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function zC(e){var t=1,r=e(t3(t),r3(t));return r.constant=function(n){return arguments.length?e(t3(t=+n),r3(t)):t},Ql(r)}function x8(){var e=zC(Bb());return e.copy=function(){return im(e,x8()).constant(e.constant())},xi.apply(e,arguments)}function n3(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function wde(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Sde(e){return e<0?-e*e:e*e}function FC(e){var t=e(Zn,Zn),r=1;function n(){return r===1?e(Zn,Zn):r===.5?e(wde,Sde):e(n3(r),n3(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Ql(t)}function qC(){var e=FC(Bb());return e.copy=function(){return im(e,qC()).exponent(e.exponent())},xi.apply(e,arguments),e}function jde(){return qC.apply(null,arguments).exponent(.5)}function a3(e){return Math.sign(e)*e*e}function Cde(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function w8(){var e=LC(),t=[0,1],r=!1,n;function a(o){var u=Cde(e(o));return isNaN(u)?n:r?Math.round(u):u}return a.invert=function(o){return e.invert(a3(o))},a.domain=function(o){return arguments.length?(e.domain(o),a):e.domain()},a.range=function(o){return arguments.length?(e.range((t=Array.from(o,Ry)).map(a3)),a):t.slice()},a.rangeRound=function(o){return a.range(o).round(!0)},a.round=function(o){return arguments.length?(r=!!o,a):r},a.clamp=function(o){return arguments.length?(e.clamp(o),a):e.clamp()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return w8(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},xi.apply(a,arguments),Ql(a)}function S8(){var e=[],t=[],r=[],n;function a(){var u=0,c=Math.max(1,t.length);for(r=new Array(c-1);++u<c;)r[u-1]=Tue(e,u/c);return o}function o(u){return u==null||isNaN(u=+u)?n:t[nm(r,u)]}return o.invertExtent=function(u){var c=t.indexOf(u);return c<0?[NaN,NaN]:[c>0?r[c-1]:e[0],c<r.length?r[c]:e[e.length-1]]},o.domain=function(u){if(!arguments.length)return e.slice();e=[];for(let c of u)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(zl),a()},o.range=function(u){return arguments.length?(t=Array.from(u),a()):t.slice()},o.unknown=function(u){return arguments.length?(n=u,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return S8().domain(e).range(t).unknown(n)},xi.apply(o,arguments)}function j8(){var e=0,t=1,r=1,n=[.5],a=[0,1],o;function u(p){return p!=null&&p<=p?a[nm(n,p,0,r)]:o}function c(){var p=-1;for(n=new Array(r);++p<r;)n[p]=((p+1)*t-(p-r)*e)/(r+1);return u}return u.domain=function(p){return arguments.length?([e,t]=p,e=+e,t=+t,c()):[e,t]},u.range=function(p){return arguments.length?(r=(a=Array.from(p)).length-1,c()):a.slice()},u.invertExtent=function(p){var h=a.indexOf(p);return h<0?[NaN,NaN]:h<1?[e,n[0]]:h>=r?[n[r-1],t]:[n[h-1],n[h]]},u.unknown=function(p){return arguments.length&&(o=p),u},u.thresholds=function(){return n.slice()},u.copy=function(){return j8().domain([e,t]).range(a).unknown(o)},xi.apply(Ql(u),arguments)}function C8(){var e=[.5],t=[0,1],r,n=1;function a(o){return o!=null&&o<=o?t[nm(e,o,0,n)]:r}return a.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(o){var u=t.indexOf(o);return[e[u-1],e[u]]},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return C8().domain(e).range(t).unknown(r)},xi.apply(a,arguments)}const iw=new Date,sw=new Date;function sn(e,t,r,n){function a(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=o=>(e(o=new Date(+o)),o),a.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),a.round=o=>{const u=a(o),c=a.ceil(o);return o-u<c-o?u:c},a.offset=(o,u)=>(t(o=new Date(+o),u==null?1:Math.floor(u)),o),a.range=(o,u,c)=>{const p=[];if(o=a.ceil(o),c=c==null?1:Math.floor(c),!(o<u)||!(c>0))return p;let h;do p.push(h=new Date(+o)),t(o,c),e(o);while(h<o&&o<u);return p},a.filter=o=>sn(u=>{if(u>=u)for(;e(u),!o(u);)u.setTime(u-1)},(u,c)=>{if(u>=u)if(c<0)for(;++c<=0;)for(;t(u,-1),!o(u););else for(;--c>=0;)for(;t(u,1),!o(u););}),r&&(a.count=(o,u)=>(iw.setTime(+o),sw.setTime(+u),e(iw),e(sw),Math.floor(r(iw,sw))),a.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(n?u=>n(u)%o===0:u=>a.count(0,u)%o===0):a)),a}const My=sn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);My.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?sn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):My);My.range;const So=1e3,fi=So*60,jo=fi*60,Ao=jo*24,UC=Ao*7,i3=Ao*30,ow=Ao*365,Oc=sn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*So)},(e,t)=>(t-e)/So,e=>e.getUTCSeconds());Oc.range;const HC=sn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*So)},(e,t)=>{e.setTime(+e+t*fi)},(e,t)=>(t-e)/fi,e=>e.getMinutes());HC.range;const WC=sn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*fi)},(e,t)=>(t-e)/fi,e=>e.getUTCMinutes());WC.range;const KC=sn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*So-e.getMinutes()*fi)},(e,t)=>{e.setTime(+e+t*jo)},(e,t)=>(t-e)/jo,e=>e.getHours());KC.range;const GC=sn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*jo)},(e,t)=>(t-e)/jo,e=>e.getUTCHours());GC.range;const sm=sn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*fi)/Ao,e=>e.getDate()-1);sm.range;const zb=sn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ao,e=>e.getUTCDate()-1);zb.range;const k8=sn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ao,e=>Math.floor(e/Ao));k8.range;function pu(e){return sn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*fi)/UC)}const Fb=pu(0),Ly=pu(1),kde=pu(2),Nde=pu(3),Ud=pu(4),Ede=pu(5),Tde=pu(6);Fb.range;Ly.range;kde.range;Nde.range;Ud.range;Ede.range;Tde.range;function hu(e){return sn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/UC)}const qb=hu(0),Iy=hu(1),Pde=hu(2),Ade=hu(3),Hd=hu(4),Rde=hu(5),Ode=hu(6);qb.range;Iy.range;Pde.range;Ade.range;Hd.range;Rde.range;Ode.range;const VC=sn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());VC.range;const YC=sn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());YC.range;const Ro=sn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ro.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:sn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ro.range;const Oo=sn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Oo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:sn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Oo.range;function N8(e,t,r,n,a,o){const u=[[Oc,1,So],[Oc,5,5*So],[Oc,15,15*So],[Oc,30,30*So],[o,1,fi],[o,5,5*fi],[o,15,15*fi],[o,30,30*fi],[a,1,jo],[a,3,3*jo],[a,6,6*jo],[a,12,12*jo],[n,1,Ao],[n,2,2*Ao],[r,1,UC],[t,1,i3],[t,3,3*i3],[e,1,ow]];function c(h,f,m){const b=f<h;b&&([h,f]=[f,h]);const _=m&&typeof m.range=="function"?m:p(h,f,m),j=_?_.range(h,+f+1):[];return b?j.reverse():j}function p(h,f,m){const b=Math.abs(f-h)/m,_=PC(([,,y])=>y).right(u,b);if(_===u.length)return e.every(XS(h/ow,f/ow,m));if(_===0)return My.every(Math.max(XS(h,f,m),1));const[j,w]=u[b/u[_-1][2]<u[_][2]/b?_-1:_];return j.every(w)}return[c,p]}const[Dde,Mde]=N8(Oo,YC,qb,k8,GC,WC),[Lde,Ide]=N8(Ro,VC,Fb,sm,KC,HC);function lw(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function cw(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function _p(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function $de(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,o=e.days,u=e.shortDays,c=e.months,p=e.shortMonths,h=xp(a),f=wp(a),m=xp(o),b=wp(o),_=xp(u),j=wp(u),w=xp(c),y=wp(c),x=xp(p),S=wp(p),T={a:$,A:K,b:V,B:Q,c:null,d:d3,e:d3,f:ofe,g:vfe,G:bfe,H:afe,I:ife,j:sfe,L:E8,m:lfe,M:cfe,p:U,q:X,Q:h3,s:m3,S:ufe,u:dfe,U:ffe,V:pfe,w:hfe,W:mfe,x:null,X:null,y:gfe,Y:yfe,Z:_fe,"%":p3},N={a:ee,A:te,b:me,B:Ce,c:null,d:f3,e:f3,f:jfe,g:Dfe,G:Lfe,H:xfe,I:wfe,j:Sfe,L:P8,m:Cfe,M:kfe,p:xe,q:He,Q:h3,s:m3,S:Nfe,u:Efe,U:Tfe,V:Pfe,w:Afe,W:Rfe,x:null,X:null,y:Ofe,Y:Mfe,Z:Ife,"%":p3},A={a:I,A:q,b:z,B:M,c:F,d:c3,e:c3,f:efe,g:l3,G:o3,H:u3,I:u3,j:Qde,L:Jde,m:Yde,M:Xde,p:D,q:Vde,Q:rfe,s:nfe,S:Zde,u:Ude,U:Hde,V:Wde,w:qde,W:Kde,x:B,X:O,y:l3,Y:o3,Z:Gde,"%":tfe};T.x=P(r,T),T.X=P(n,T),T.c=P(t,T),N.x=P(r,N),N.X=P(n,N),N.c=P(t,N);function P(re,Pe){return function(Ne){var ge=[],_t=-1,Ge=0,lt=re.length,at,Ve,_e;for(Ne instanceof Date||(Ne=new Date(+Ne));++_t<lt;)re.charCodeAt(_t)===37&&(ge.push(re.slice(Ge,_t)),(Ve=s3[at=re.charAt(++_t)])!=null?at=re.charAt(++_t):Ve=at==="e"?" ":"0",(_e=Pe[at])&&(at=_e(Ne,Ve)),ge.push(at),Ge=_t+1);return ge.push(re.slice(Ge,_t)),ge.join("")}}function k(re,Pe){return function(Ne){var ge=_p(1900,void 0,1),_t=R(ge,re,Ne+="",0),Ge,lt;if(_t!=Ne.length)return null;if("Q"in ge)return new Date(ge.Q);if("s"in ge)return new Date(ge.s*1e3+("L"in ge?ge.L:0));if(Pe&&!("Z"in ge)&&(ge.Z=0),"p"in ge&&(ge.H=ge.H%12+ge.p*12),ge.m===void 0&&(ge.m="q"in ge?ge.q:0),"V"in ge){if(ge.V<1||ge.V>53)return null;"w"in ge||(ge.w=1),"Z"in ge?(Ge=cw(_p(ge.y,0,1)),lt=Ge.getUTCDay(),Ge=lt>4||lt===0?Iy.ceil(Ge):Iy(Ge),Ge=zb.offset(Ge,(ge.V-1)*7),ge.y=Ge.getUTCFullYear(),ge.m=Ge.getUTCMonth(),ge.d=Ge.getUTCDate()+(ge.w+6)%7):(Ge=lw(_p(ge.y,0,1)),lt=Ge.getDay(),Ge=lt>4||lt===0?Ly.ceil(Ge):Ly(Ge),Ge=sm.offset(Ge,(ge.V-1)*7),ge.y=Ge.getFullYear(),ge.m=Ge.getMonth(),ge.d=Ge.getDate()+(ge.w+6)%7)}else("W"in ge||"U"in ge)&&("w"in ge||(ge.w="u"in ge?ge.u%7:"W"in ge?1:0),lt="Z"in ge?cw(_p(ge.y,0,1)).getUTCDay():lw(_p(ge.y,0,1)).getDay(),ge.m=0,ge.d="W"in ge?(ge.w+6)%7+ge.W*7-(lt+5)%7:ge.w+ge.U*7-(lt+6)%7);return"Z"in ge?(ge.H+=ge.Z/100|0,ge.M+=ge.Z%100,cw(ge)):lw(ge)}}function R(re,Pe,Ne,ge){for(var _t=0,Ge=Pe.length,lt=Ne.length,at,Ve;_t<Ge;){if(ge>=lt)return-1;if(at=Pe.charCodeAt(_t++),at===37){if(at=Pe.charAt(_t++),Ve=A[at in s3?Pe.charAt(_t++):at],!Ve||(ge=Ve(re,Ne,ge))<0)return-1}else if(at!=Ne.charCodeAt(ge++))return-1}return ge}function D(re,Pe,Ne){var ge=h.exec(Pe.slice(Ne));return ge?(re.p=f.get(ge[0].toLowerCase()),Ne+ge[0].length):-1}function I(re,Pe,Ne){var ge=_.exec(Pe.slice(Ne));return ge?(re.w=j.get(ge[0].toLowerCase()),Ne+ge[0].length):-1}function q(re,Pe,Ne){var ge=m.exec(Pe.slice(Ne));return ge?(re.w=b.get(ge[0].toLowerCase()),Ne+ge[0].length):-1}function z(re,Pe,Ne){var ge=x.exec(Pe.slice(Ne));return ge?(re.m=S.get(ge[0].toLowerCase()),Ne+ge[0].length):-1}function M(re,Pe,Ne){var ge=w.exec(Pe.slice(Ne));return ge?(re.m=y.get(ge[0].toLowerCase()),Ne+ge[0].length):-1}function F(re,Pe,Ne){return R(re,t,Pe,Ne)}function B(re,Pe,Ne){return R(re,r,Pe,Ne)}function O(re,Pe,Ne){return R(re,n,Pe,Ne)}function $(re){return u[re.getDay()]}function K(re){return o[re.getDay()]}function V(re){return p[re.getMonth()]}function Q(re){return c[re.getMonth()]}function U(re){return a[+(re.getHours()>=12)]}function X(re){return 1+~~(re.getMonth()/3)}function ee(re){return u[re.getUTCDay()]}function te(re){return o[re.getUTCDay()]}function me(re){return p[re.getUTCMonth()]}function Ce(re){return c[re.getUTCMonth()]}function xe(re){return a[+(re.getUTCHours()>=12)]}function He(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var Pe=P(re+="",T);return Pe.toString=function(){return re},Pe},parse:function(re){var Pe=k(re+="",!1);return Pe.toString=function(){return re},Pe},utcFormat:function(re){var Pe=P(re+="",N);return Pe.toString=function(){return re},Pe},utcParse:function(re){var Pe=k(re+="",!0);return Pe.toString=function(){return re},Pe}}}var s3={"-":"",_:" ",0:"0"},_n=/^\s*\d+/,Bde=/^%/,zde=/[\\^$*+?|[\]().{}]/g;function Wt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",o=a.length;return n+(o<r?new Array(r-o+1).join(t)+a:a)}function Fde(e){return e.replace(zde,"\\$&")}function xp(e){return new RegExp("^(?:"+e.map(Fde).join("|")+")","i")}function wp(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function qde(e,t,r){var n=_n.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Ude(e,t,r){var n=_n.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Hde(e,t,r){var n=_n.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Wde(e,t,r){var n=_n.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Kde(e,t,r){var n=_n.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function o3(e,t,r){var n=_n.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function l3(e,t,r){var n=_n.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Gde(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Vde(e,t,r){var n=_n.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Yde(e,t,r){var n=_n.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function c3(e,t,r){var n=_n.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Qde(e,t,r){var n=_n.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function u3(e,t,r){var n=_n.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Xde(e,t,r){var n=_n.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Zde(e,t,r){var n=_n.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Jde(e,t,r){var n=_n.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function efe(e,t,r){var n=_n.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function tfe(e,t,r){var n=Bde.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function rfe(e,t,r){var n=_n.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function nfe(e,t,r){var n=_n.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function d3(e,t){return Wt(e.getDate(),t,2)}function afe(e,t){return Wt(e.getHours(),t,2)}function ife(e,t){return Wt(e.getHours()%12||12,t,2)}function sfe(e,t){return Wt(1+sm.count(Ro(e),e),t,3)}function E8(e,t){return Wt(e.getMilliseconds(),t,3)}function ofe(e,t){return E8(e,t)+"000"}function lfe(e,t){return Wt(e.getMonth()+1,t,2)}function cfe(e,t){return Wt(e.getMinutes(),t,2)}function ufe(e,t){return Wt(e.getSeconds(),t,2)}function dfe(e){var t=e.getDay();return t===0?7:t}function ffe(e,t){return Wt(Fb.count(Ro(e)-1,e),t,2)}function T8(e){var t=e.getDay();return t>=4||t===0?Ud(e):Ud.ceil(e)}function pfe(e,t){return e=T8(e),Wt(Ud.count(Ro(e),e)+(Ro(e).getDay()===4),t,2)}function hfe(e){return e.getDay()}function mfe(e,t){return Wt(Ly.count(Ro(e)-1,e),t,2)}function gfe(e,t){return Wt(e.getFullYear()%100,t,2)}function vfe(e,t){return e=T8(e),Wt(e.getFullYear()%100,t,2)}function yfe(e,t){return Wt(e.getFullYear()%1e4,t,4)}function bfe(e,t){var r=e.getDay();return e=r>=4||r===0?Ud(e):Ud.ceil(e),Wt(e.getFullYear()%1e4,t,4)}function _fe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Wt(t/60|0,"0",2)+Wt(t%60,"0",2)}function f3(e,t){return Wt(e.getUTCDate(),t,2)}function xfe(e,t){return Wt(e.getUTCHours(),t,2)}function wfe(e,t){return Wt(e.getUTCHours()%12||12,t,2)}function Sfe(e,t){return Wt(1+zb.count(Oo(e),e),t,3)}function P8(e,t){return Wt(e.getUTCMilliseconds(),t,3)}function jfe(e,t){return P8(e,t)+"000"}function Cfe(e,t){return Wt(e.getUTCMonth()+1,t,2)}function kfe(e,t){return Wt(e.getUTCMinutes(),t,2)}function Nfe(e,t){return Wt(e.getUTCSeconds(),t,2)}function Efe(e){var t=e.getUTCDay();return t===0?7:t}function Tfe(e,t){return Wt(qb.count(Oo(e)-1,e),t,2)}function A8(e){var t=e.getUTCDay();return t>=4||t===0?Hd(e):Hd.ceil(e)}function Pfe(e,t){return e=A8(e),Wt(Hd.count(Oo(e),e)+(Oo(e).getUTCDay()===4),t,2)}function Afe(e){return e.getUTCDay()}function Rfe(e,t){return Wt(Iy.count(Oo(e)-1,e),t,2)}function Ofe(e,t){return Wt(e.getUTCFullYear()%100,t,2)}function Dfe(e,t){return e=A8(e),Wt(e.getUTCFullYear()%100,t,2)}function Mfe(e,t){return Wt(e.getUTCFullYear()%1e4,t,4)}function Lfe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Hd(e):Hd.ceil(e),Wt(e.getUTCFullYear()%1e4,t,4)}function Ife(){return"+0000"}function p3(){return"%"}function h3(e){return+e}function m3(e){return Math.floor(+e/1e3)}var sd,R8,O8;$fe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function $fe(e){return sd=$de(e),R8=sd.format,sd.parse,O8=sd.utcFormat,sd.utcParse,sd}function Bfe(e){return new Date(e)}function zfe(e){return e instanceof Date?+e:+new Date(+e)}function QC(e,t,r,n,a,o,u,c,p,h){var f=LC(),m=f.invert,b=f.domain,_=h(".%L"),j=h(":%S"),w=h("%I:%M"),y=h("%I %p"),x=h("%a %d"),S=h("%b %d"),T=h("%B"),N=h("%Y");function A(P){return(p(P)<P?_:c(P)<P?j:u(P)<P?w:o(P)<P?y:n(P)<P?a(P)<P?x:S:r(P)<P?T:N)(P)}return f.invert=function(P){return new Date(m(P))},f.domain=function(P){return arguments.length?b(Array.from(P,zfe)):b().map(Bfe)},f.ticks=function(P){var k=b();return e(k[0],k[k.length-1],P??10)},f.tickFormat=function(P,k){return k==null?A:h(k)},f.nice=function(P){var k=b();return(!P||typeof P.range!="function")&&(P=t(k[0],k[k.length-1],P??10)),P?b(b8(k,P)):f},f.copy=function(){return im(f,QC(e,t,r,n,a,o,u,c,p,h))},f}function Ffe(){return xi.apply(QC(Lde,Ide,Ro,VC,Fb,sm,KC,HC,Oc,R8).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function qfe(){return xi.apply(QC(Dde,Mde,Oo,YC,qb,zb,GC,WC,Oc,O8).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ub(){var e=0,t=1,r,n,a,o,u=Zn,c=!1,p;function h(m){return m==null||isNaN(m=+m)?p:u(a===0?.5:(m=(o(m)-r)*a,c?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([e,t]=m,r=o(e=+e),n=o(t=+t),a=r===n?0:1/(n-r),h):[e,t]},h.clamp=function(m){return arguments.length?(c=!!m,h):c},h.interpolator=function(m){return arguments.length?(u=m,h):u};function f(m){return function(b){var _,j;return arguments.length?([_,j]=b,u=m(_,j),h):[u(0),u(1)]}}return h.range=f(af),h.rangeRound=f(MC),h.unknown=function(m){return arguments.length?(p=m,h):p},function(m){return o=m,r=m(e),n=m(t),a=r===n?0:1/(n-r),h}}function Xl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function D8(){var e=Ql(Ub()(Zn));return e.copy=function(){return Xl(e,D8())},zo.apply(e,arguments)}function M8(){var e=BC(Ub()).domain([1,10]);return e.copy=function(){return Xl(e,M8()).base(e.base())},zo.apply(e,arguments)}function L8(){var e=zC(Ub());return e.copy=function(){return Xl(e,L8()).constant(e.constant())},zo.apply(e,arguments)}function XC(){var e=FC(Ub());return e.copy=function(){return Xl(e,XC()).exponent(e.exponent())},zo.apply(e,arguments)}function Ufe(){return XC.apply(null,arguments).exponent(.5)}function I8(){var e=[],t=Zn;function r(n){if(n!=null&&!isNaN(n=+n))return t((nm(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(zl),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,o)=>Eue(e,o/n))},r.copy=function(){return I8(t).domain(e)},zo.apply(r,arguments)}function Hb(){var e=0,t=.5,r=1,n=1,a,o,u,c,p,h=Zn,f,m=!1,b;function _(w){return isNaN(w=+w)?b:(w=.5+((w=+f(w))-o)*(n*w<n*o?c:p),h(m?Math.max(0,Math.min(1,w)):w))}_.domain=function(w){return arguments.length?([e,t,r]=w,a=f(e=+e),o=f(t=+t),u=f(r=+r),c=a===o?0:.5/(o-a),p=o===u?0:.5/(u-o),n=o<a?-1:1,_):[e,t,r]},_.clamp=function(w){return arguments.length?(m=!!w,_):m},_.interpolator=function(w){return arguments.length?(h=w,_):h};function j(w){return function(y){var x,S,T;return arguments.length?([x,S,T]=y,h=tde(w,[x,S,T]),_):[h(0),h(.5),h(1)]}}return _.range=j(af),_.rangeRound=j(MC),_.unknown=function(w){return arguments.length?(b=w,_):b},function(w){return f=w,a=w(e),o=w(t),u=w(r),c=a===o?0:.5/(o-a),p=o===u?0:.5/(u-o),n=o<a?-1:1,_}}function $8(){var e=Ql(Hb()(Zn));return e.copy=function(){return Xl(e,$8())},zo.apply(e,arguments)}function B8(){var e=BC(Hb()).domain([.1,1,10]);return e.copy=function(){return Xl(e,B8()).base(e.base())},zo.apply(e,arguments)}function z8(){var e=zC(Hb());return e.copy=function(){return Xl(e,z8()).constant(e.constant())},zo.apply(e,arguments)}function ZC(){var e=FC(Hb());return e.copy=function(){return Xl(e,ZC()).exponent(e.exponent())},zo.apply(e,arguments)}function Hfe(){return ZC.apply(null,arguments).exponent(.5)}const nh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:RC,scaleDiverging:$8,scaleDivergingLog:B8,scaleDivergingPow:ZC,scaleDivergingSqrt:Hfe,scaleDivergingSymlog:z8,scaleIdentity:y8,scaleImplicit:ZS,scaleLinear:v8,scaleLog:_8,scaleOrdinal:AC,scalePoint:Aue,scalePow:qC,scaleQuantile:S8,scaleQuantize:j8,scaleRadial:w8,scaleSequential:D8,scaleSequentialLog:M8,scaleSequentialPow:XC,scaleSequentialQuantile:I8,scaleSequentialSqrt:Ufe,scaleSequentialSymlog:L8,scaleSqrt:jde,scaleSymlog:x8,scaleThreshold:C8,scaleTime:Ffe,scaleUtc:qfe,tickFormat:g8},Symbol.toStringTag,{value:"Module"}));var Fo=e=>e.chartData,Wb=ce([Fo],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),JC=(e,t,r,n)=>n?Wb(e):Fo(e),F8=(e,t,r)=>r?Wb(e):Fo(e);function Do(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(bt(t)&&bt(r))return!0}return!1}function g3(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function q8(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,o;if(bt(r))a=r;else if(typeof r=="function")return;if(bt(n))o=n;else if(typeof n=="function")return;var u=[a,o];if(Do(u))return u}}function Wfe(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Do(n))return g3(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,o]=e,u,c;if(a==="auto")t!=null&&(u=Math.min(...t));else if(Me(a))u=a;else if(typeof a=="function")try{t!=null&&(u=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&kR.test(a)){var p=kR.exec(a);if(p==null||p[1]==null||t==null)u=void 0;else{var h=+p[1];u=t[0]-h}}else u=t==null?void 0:t[0];if(o==="auto")t!=null&&(c=Math.max(...t));else if(Me(o))c=o;else if(typeof o=="function")try{t!=null&&(c=o(t==null?void 0:t[1]))}catch{}else if(typeof o=="string"&&NR.test(o)){var f=NR.exec(o);if(f==null||f[1]==null||t==null)c=void 0;else{var m=+f[1];c=t[1]+m}}else c=t==null?void 0:t[1];var b=[u,c];if(Do(b))return t==null?b:g3(b,t,r)}}}var sf=1e9,Kfe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},tk,jr=!0,gi="[DecimalError] ",Kc=gi+"Invalid argument: ",ek=gi+"Exponent out of range: ",of=Math.floor,Nc=Math.pow,Gfe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Oa,vn=1e7,yr=7,U8=9007199254740991,$y=of(U8/yr),$e={};$e.absoluteValue=$e.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};$e.comparedTo=$e.cmp=function(e){var t,r,n,a,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===a?0:n>a^o.s<0?1:-1};$e.decimalPlaces=$e.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*yr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};$e.dividedBy=$e.div=function(e){return ko(this,new this.constructor(e))};$e.dividedToIntegerBy=$e.idiv=function(e){var t=this,r=t.constructor;return or(ko(t,new r(e),0,1),r.precision)};$e.equals=$e.eq=function(e){return!this.cmp(e)};$e.exponent=function(){return Xr(this)};$e.greaterThan=$e.gt=function(e){return this.cmp(e)>0};$e.greaterThanOrEqualTo=$e.gte=function(e){return this.cmp(e)>=0};$e.isInteger=$e.isint=function(){return this.e>this.d.length-2};$e.isNegative=$e.isneg=function(){return this.s<0};$e.isPositive=$e.ispos=function(){return this.s>0};$e.isZero=function(){return this.s===0};$e.lessThan=$e.lt=function(e){return this.cmp(e)<0};$e.lessThanOrEqualTo=$e.lte=function(e){return this.cmp(e)<1};$e.logarithm=$e.log=function(e){var t,r=this,n=r.constructor,a=n.precision,o=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Oa))throw Error(gi+"NaN");if(r.s<1)throw Error(gi+(r.s?"NaN":"-Infinity"));return r.eq(Oa)?new n(0):(jr=!1,t=ko(Ph(r,o),Ph(e,o),o),jr=!0,or(t,a))};$e.minus=$e.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?K8(t,e):H8(t,(e.s=-e.s,e))};$e.modulo=$e.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(gi+"NaN");return r.s?(jr=!1,t=ko(r,e,0,1).times(e),jr=!0,r.minus(t)):or(new n(r),a)};$e.naturalExponential=$e.exp=function(){return W8(this)};$e.naturalLogarithm=$e.ln=function(){return Ph(this)};$e.negated=$e.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};$e.plus=$e.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?H8(t,e):K8(t,(e.s=-e.s,e))};$e.precision=$e.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Kc+e);if(t=Xr(a)+1,n=a.d.length-1,r=n*yr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};$e.squareRoot=$e.sqrt=function(){var e,t,r,n,a,o,u,c=this,p=c.constructor;if(c.s<1){if(!c.s)return new p(0);throw Error(gi+"NaN")}for(e=Xr(c),jr=!1,a=Math.sqrt(+c),a==0||a==1/0?(t=bs(c.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=of((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new p(t)):n=new p(a.toString()),r=p.precision,a=u=r+3;;)if(o=n,n=o.plus(ko(c,o,u+2)).times(.5),bs(o.d).slice(0,u)===(t=bs(n.d)).slice(0,u)){if(t=t.slice(u-3,u+1),a==u&&t=="4999"){if(or(o,r+1,0),o.times(o).eq(c)){n=o;break}}else if(t!="9999")break;u+=4}return jr=!0,or(n,r)};$e.times=$e.mul=function(e){var t,r,n,a,o,u,c,p,h,f=this,m=f.constructor,b=f.d,_=(e=new m(e)).d;if(!f.s||!e.s)return new m(0);for(e.s*=f.s,r=f.e+e.e,p=b.length,h=_.length,p<h&&(o=b,b=_,_=o,u=p,p=h,h=u),o=[],u=p+h,n=u;n--;)o.push(0);for(n=h;--n>=0;){for(t=0,a=p+n;a>n;)c=o[a]+_[n]*b[a-n-1]+t,o[a--]=c%vn|0,t=c/vn|0;o[a]=(o[a]+t)%vn|0}for(;!o[--u];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,jr?or(e,m.precision):e};$e.toDecimalPlaces=$e.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ks(e,0,sf),t===void 0?t=n.rounding:ks(t,0,8),or(r,e+Xr(r)+1,t))};$e.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=iu(n,!0):(ks(e,0,sf),t===void 0?t=a.rounding:ks(t,0,8),n=or(new a(n),e+1,t),r=iu(n,!0,e+1)),r};$e.toFixed=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?iu(a):(ks(e,0,sf),t===void 0?t=o.rounding:ks(t,0,8),n=or(new o(a),e+Xr(a)+1,t),r=iu(n.abs(),!1,e+Xr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};$e.toInteger=$e.toint=function(){var e=this,t=e.constructor;return or(new t(e),Xr(e)+1,t.rounding)};$e.toNumber=function(){return+this};$e.toPower=$e.pow=function(e){var t,r,n,a,o,u,c=this,p=c.constructor,h=12,f=+(e=new p(e));if(!e.s)return new p(Oa);if(c=new p(c),!c.s){if(e.s<1)throw Error(gi+"Infinity");return c}if(c.eq(Oa))return c;if(n=p.precision,e.eq(Oa))return or(c,n);if(t=e.e,r=e.d.length-1,u=t>=r,o=c.s,u){if((r=f<0?-f:f)<=U8){for(a=new p(Oa),t=Math.ceil(n/yr+4),jr=!1;r%2&&(a=a.times(c),y3(a.d,t)),r=of(r/2),r!==0;)c=c.times(c),y3(c.d,t);return jr=!0,e.s<0?new p(Oa).div(a):or(a,n)}}else if(o<0)throw Error(gi+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,c.s=1,jr=!1,a=e.times(Ph(c,n+h)),jr=!0,a=W8(a),a.s=o,a};$e.toPrecision=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?(r=Xr(a),n=iu(a,r<=o.toExpNeg||r>=o.toExpPos)):(ks(e,1,sf),t===void 0?t=o.rounding:ks(t,0,8),a=or(new o(a),e,t),r=Xr(a),n=iu(a,e<=r||r<=o.toExpNeg,e)),n};$e.toSignificantDigits=$e.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ks(e,1,sf),t===void 0?t=n.rounding:ks(t,0,8)),or(new n(r),e,t)};$e.toString=$e.valueOf=$e.val=$e.toJSON=$e[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Xr(e),r=e.constructor;return iu(e,t<=r.toExpNeg||t>=r.toExpPos)};function H8(e,t){var r,n,a,o,u,c,p,h,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),jr?or(t,m):t;if(p=e.d,h=t.d,u=e.e,a=t.e,p=p.slice(),o=u-a,o){for(o<0?(n=p,o=-o,c=h.length):(n=h,a=u,c=p.length),u=Math.ceil(m/yr),c=u>c?u+1:c+1,o>c&&(o=c,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(c=p.length,o=h.length,c-o<0&&(o=c,n=h,h=p,p=n),r=0;o;)r=(p[--o]=p[o]+h[o]+r)/vn|0,p[o]%=vn;for(r&&(p.unshift(r),++a),c=p.length;p[--c]==0;)p.pop();return t.d=p,t.e=a,jr?or(t,m):t}function ks(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Kc+e)}function bs(e){var t,r,n,a=e.length-1,o="",u=e[0];if(a>0){for(o+=u,t=1;t<a;t++)n=e[t]+"",r=yr-n.length,r&&(o+=Cl(r)),o+=n;u=e[t],n=u+"",r=yr-n.length,r&&(o+=Cl(r))}else if(u===0)return"0";for(;u%10===0;)u/=10;return o+u}var ko=(function(){function e(n,a){var o,u=0,c=n.length;for(n=n.slice();c--;)o=n[c]*a+u,n[c]=o%vn|0,u=o/vn|0;return u&&n.unshift(u),n}function t(n,a,o,u){var c,p;if(o!=u)p=o>u?1:-1;else for(c=p=0;c<o;c++)if(n[c]!=a[c]){p=n[c]>a[c]?1:-1;break}return p}function r(n,a,o){for(var u=0;o--;)n[o]-=u,u=n[o]<a[o]?1:0,n[o]=u*vn+n[o]-a[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,o,u){var c,p,h,f,m,b,_,j,w,y,x,S,T,N,A,P,k,R,D=n.constructor,I=n.s==a.s?1:-1,q=n.d,z=a.d;if(!n.s)return new D(n);if(!a.s)throw Error(gi+"Division by zero");for(p=n.e-a.e,k=z.length,A=q.length,_=new D(I),j=_.d=[],h=0;z[h]==(q[h]||0);)++h;if(z[h]>(q[h]||0)&&--p,o==null?S=o=D.precision:u?S=o+(Xr(n)-Xr(a))+1:S=o,S<0)return new D(0);if(S=S/yr+2|0,h=0,k==1)for(f=0,z=z[0],S++;(h<A||f)&&S--;h++)T=f*vn+(q[h]||0),j[h]=T/z|0,f=T%z|0;else{for(f=vn/(z[0]+1)|0,f>1&&(z=e(z,f),q=e(q,f),k=z.length,A=q.length),N=k,w=q.slice(0,k),y=w.length;y<k;)w[y++]=0;R=z.slice(),R.unshift(0),P=z[0],z[1]>=vn/2&&++P;do f=0,c=t(z,w,k,y),c<0?(x=w[0],k!=y&&(x=x*vn+(w[1]||0)),f=x/P|0,f>1?(f>=vn&&(f=vn-1),m=e(z,f),b=m.length,y=w.length,c=t(m,w,b,y),c==1&&(f--,r(m,k<b?R:z,b))):(f==0&&(c=f=1),m=z.slice()),b=m.length,b<y&&m.unshift(0),r(w,m,y),c==-1&&(y=w.length,c=t(z,w,k,y),c<1&&(f++,r(w,k<y?R:z,y))),y=w.length):c===0&&(f++,w=[0]),j[h++]=f,c&&w[0]?w[y++]=q[N]||0:(w=[q[N]],y=1);while((N++<A||w[0]!==void 0)&&S--)}return j[0]||j.shift(),_.e=p,or(_,u?o+Xr(_)+1:o)}})();function W8(e,t){var r,n,a,o,u,c,p=0,h=0,f=e.constructor,m=f.precision;if(Xr(e)>16)throw Error(ek+Xr(e));if(!e.s)return new f(Oa);for(jr=!1,c=m,u=new f(.03125);e.abs().gte(.1);)e=e.times(u),h+=5;for(n=Math.log(Nc(2,h))/Math.LN10*2+5|0,c+=n,r=a=o=new f(Oa),f.precision=c;;){if(a=or(a.times(e),c),r=r.times(++p),u=o.plus(ko(a,r,c)),bs(u.d).slice(0,c)===bs(o.d).slice(0,c)){for(;h--;)o=or(o.times(o),c);return f.precision=m,t==null?(jr=!0,or(o,m)):o}o=u}}function Xr(e){for(var t=e.e*yr,r=e.d[0];r>=10;r/=10)t++;return t}function uw(e,t,r){if(t>e.LN10.sd())throw jr=!0,r&&(e.precision=r),Error(gi+"LN10 precision limit exceeded");return or(new e(e.LN10),t)}function Cl(e){for(var t="";e--;)t+="0";return t}function Ph(e,t){var r,n,a,o,u,c,p,h,f,m=1,b=10,_=e,j=_.d,w=_.constructor,y=w.precision;if(_.s<1)throw Error(gi+(_.s?"NaN":"-Infinity"));if(_.eq(Oa))return new w(0);if(t==null?(jr=!1,h=y):h=t,_.eq(10))return t==null&&(jr=!0),uw(w,h);if(h+=b,w.precision=h,r=bs(j),n=r.charAt(0),o=Xr(_),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)_=_.times(e),r=bs(_.d),n=r.charAt(0),m++;o=Xr(_),n>1?(_=new w("0."+r),o++):_=new w(n+"."+r.slice(1))}else return p=uw(w,h+2,y).times(o+""),_=Ph(new w(n+"."+r.slice(1)),h-b).plus(p),w.precision=y,t==null?(jr=!0,or(_,y)):_;for(c=u=_=ko(_.minus(Oa),_.plus(Oa),h),f=or(_.times(_),h),a=3;;){if(u=or(u.times(f),h),p=c.plus(ko(u,new w(a),h)),bs(p.d).slice(0,h)===bs(c.d).slice(0,h))return c=c.times(2),o!==0&&(c=c.plus(uw(w,h+2,y).times(o+""))),c=ko(c,new w(m),h),w.precision=y,t==null?(jr=!0,or(c,y)):c;c=p,a+=2}}function v3(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=of(r/yr),e.d=[],n=(r+1)%yr,r<0&&(n+=yr),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=yr;n<a;)e.d.push(+t.slice(n,n+=yr));t=t.slice(n),n=yr-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),jr&&(e.e>$y||e.e<-$y))throw Error(ek+r)}else e.s=0,e.e=0,e.d=[0];return e}function or(e,t,r){var n,a,o,u,c,p,h,f,m=e.d;for(u=1,o=m[0];o>=10;o/=10)u++;if(n=t-u,n<0)n+=yr,a=t,h=m[f=0];else{if(f=Math.ceil((n+1)/yr),o=m.length,f>=o)return e;for(h=o=m[f],u=1;o>=10;o/=10)u++;n%=yr,a=n-yr+u}if(r!==void 0&&(o=Nc(10,u-a-1),c=h/o%10|0,p=t<0||m[f+1]!==void 0||h%o,p=r<4?(c||p)&&(r==0||r==(e.s<0?3:2)):c>5||c==5&&(r==4||p||r==6&&(n>0?a>0?h/Nc(10,u-a):0:m[f-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return p?(o=Xr(e),m.length=1,t=t-o-1,m[0]=Nc(10,(yr-t%yr)%yr),e.e=of(-t/yr)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(n==0?(m.length=f,o=1,f--):(m.length=f+1,o=Nc(10,yr-n),m[f]=a>0?(h/Nc(10,u-a)%Nc(10,a)|0)*o:0),p)for(;;)if(f==0){(m[0]+=o)==vn&&(m[0]=1,++e.e);break}else{if(m[f]+=o,m[f]!=vn)break;m[f--]=0,o=1}for(n=m.length;m[--n]===0;)m.pop();if(jr&&(e.e>$y||e.e<-$y))throw Error(ek+Xr(e));return e}function K8(e,t){var r,n,a,o,u,c,p,h,f,m,b=e.constructor,_=b.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new b(e),jr?or(t,_):t;if(p=e.d,m=t.d,n=t.e,h=e.e,p=p.slice(),u=h-n,u){for(f=u<0,f?(r=p,u=-u,c=m.length):(r=m,n=h,c=p.length),a=Math.max(Math.ceil(_/yr),c)+2,u>a&&(u=a,r.length=1),r.reverse(),a=u;a--;)r.push(0);r.reverse()}else{for(a=p.length,c=m.length,f=a<c,f&&(c=a),a=0;a<c;a++)if(p[a]!=m[a]){f=p[a]<m[a];break}u=0}for(f&&(r=p,p=m,m=r,t.s=-t.s),c=p.length,a=m.length-c;a>0;--a)p[c++]=0;for(a=m.length;a>u;){if(p[--a]<m[a]){for(o=a;o&&p[--o]===0;)p[o]=vn-1;--p[o],p[a]+=vn}p[a]-=m[a]}for(;p[--c]===0;)p.pop();for(;p[0]===0;p.shift())--n;return p[0]?(t.d=p,t.e=n,jr?or(t,_):t):new b(0)}function iu(e,t,r){var n,a=Xr(e),o=bs(e.d),u=o.length;return t?(r&&(n=r-u)>0?o=o.charAt(0)+"."+o.slice(1)+Cl(n):u>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(a<0?"e":"e+")+a):a<0?(o="0."+Cl(-a-1)+o,r&&(n=r-u)>0&&(o+=Cl(n))):a>=u?(o+=Cl(a+1-u),r&&(n=r-a-1)>0&&(o=o+"."+Cl(n))):((n=a+1)<u&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-u)>0&&(a+1===u&&(o+="."),o+=Cl(n))),e.s<0?"-"+o:o}function y3(e,t){if(e.length>t)return e.length=t,!0}function G8(e){var t,r,n;function a(o){var u=this;if(!(u instanceof a))return new a(o);if(u.constructor=a,o instanceof a){u.s=o.s,u.e=o.e,u.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Kc+o);if(o>0)u.s=1;else if(o<0)o=-o,u.s=-1;else{u.s=0,u.e=0,u.d=[0];return}if(o===~~o&&o<1e7){u.e=0,u.d=[o];return}return v3(u,o.toString())}else if(typeof o!="string")throw Error(Kc+o);if(o.charCodeAt(0)===45?(o=o.slice(1),u.s=-1):u.s=1,Gfe.test(o))v3(u,o);else throw Error(Kc+o)}if(a.prototype=$e,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=G8,a.config=a.set=Vfe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function Vfe(e){if(!e||typeof e!="object")throw Error(gi+"Object expected");var t,r,n,a=["precision",1,sf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(of(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Kc+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Kc+r+": "+n);return this}var tk=G8(Kfe);Oa=new tk(1);const Zt=tk;function V8(e){var t;return e===0?t=1:t=Math.floor(new Zt(e).abs().log(10).toNumber())+1,t}function Y8(e,t,r){for(var n=new Zt(e),a=0,o=[];n.lt(t)&&a<1e5;)o.push(n.toNumber()),n=n.add(r),a++;return o}var Q8=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},X8=(e,t,r)=>{if(e.lte(0))return new Zt(0);var n=V8(e.toNumber()),a=new Zt(10).pow(n),o=e.div(a),u=n!==1?.05:.1,c=new Zt(Math.ceil(o.div(u).toNumber())).add(r).mul(u),p=c.mul(a);return t?new Zt(p.toNumber()):new Zt(Math.ceil(p.toNumber()))},Yfe=(e,t,r)=>{var n=new Zt(1),a=new Zt(e);if(!a.isint()&&r){var o=Math.abs(e);o<1?(n=new Zt(10).pow(V8(e)-1),a=new Zt(Math.floor(a.div(n).toNumber())).mul(n)):o>1&&(a=new Zt(Math.floor(e)))}else e===0?a=new Zt(Math.floor((t-1)/2)):r||(a=new Zt(Math.floor(e)));for(var u=Math.floor((t-1)/2),c=[],p=0;p<t;p++)c.push(a.add(new Zt(p-u).mul(n)).toNumber());return c},Z8=function(t,r,n,a){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Zt(0),tickMin:new Zt(0),tickMax:new Zt(0)};var u=X8(new Zt(r).sub(t).div(n-1),a,o),c;t<=0&&r>=0?c=new Zt(0):(c=new Zt(t).add(r).div(2),c=c.sub(new Zt(c).mod(u)));var p=Math.ceil(c.sub(t).div(u).toNumber()),h=Math.ceil(new Zt(r).sub(c).div(u).toNumber()),f=p+h+1;return f>n?Z8(t,r,n,a,o+1):(f<n&&(h=r>0?h+(n-f):h,p=r>0?p:p+(n-f)),{step:u,tickMin:c.sub(new Zt(p).mul(u)),tickMax:c.add(new Zt(h).mul(u))})},Qfe=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,u=Math.max(a,2),[c,p]=Q8([r,n]);if(c===-1/0||p===1/0){var h=p===1/0?[c,...Array(a-1).fill(1/0)]:[...Array(a-1).fill(-1/0),p];return r>n?h.reverse():h}if(c===p)return Yfe(c,a,o);var{step:f,tickMin:m,tickMax:b}=Z8(c,p,u,o,0),_=Y8(m,b.add(new Zt(.1).mul(f)),f);return r>n?_.reverse():_},Xfe=function(t,r){var[n,a]=t,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[u,c]=Q8([n,a]);if(u===-1/0||c===1/0)return[n,a];if(u===c)return[u];var p=Math.max(r,2),h=X8(new Zt(c).sub(u).div(p-1),o,0),f=[...Y8(new Zt(u),new Zt(c),h),c];return o===!1&&(f=f.map(m=>Math.round(m))),n>a?f.reverse():f},J8=e=>e.rootProps.maxBarSize,Zfe=e=>e.rootProps.barGap,eI=e=>e.rootProps.barCategoryGap,Jfe=e=>e.rootProps.barSize,om=e=>e.rootProps.stackOffset,tI=e=>e.rootProps.reverseStackOrder,rk=e=>e.options.chartName,nk=e=>e.rootProps.syncId,rI=e=>e.rootProps.syncMethod,ak=e=>e.options.eventEmitter,epe=e=>e.rootProps.baseValue,Fr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},yc={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},as={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},Kb=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function Gb(e,t,r){if(r!=="auto")return r;if(e!=null)return Ki(e,t)?"category":"number"}function b3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function By(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b3(Object(r),!0).forEach(function(n){tpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tpe(e,t,r){return(t=rpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rpe(e){var t=npe(e,"string");return typeof t=="symbol"?t:t+""}function npe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _3={allowDataOverflow:yc.allowDataOverflow,allowDecimals:yc.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:yc.angleAxisId,includeHidden:!1,name:void 0,reversed:yc.reversed,scale:yc.scale,tick:yc.tick,tickCount:void 0,ticks:void 0,type:yc.type,unit:void 0},x3={allowDataOverflow:as.allowDataOverflow,allowDecimals:as.allowDecimals,allowDuplicatedCategory:as.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:as.radiusAxisId,includeHidden:as.includeHidden,name:void 0,reversed:as.reversed,scale:as.scale,tick:as.tick,tickCount:as.tickCount,ticks:void 0,type:as.type,unit:void 0},ape=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},ik=ce([ape,z5],(e,t)=>{var r;if(e!=null)return e;var n=(r=Gb(t,"angleAxis",_3.type))!==null&&r!==void 0?r:"category";return By(By({},_3),{},{type:n})}),ipe=(e,t)=>e.polarAxis.radiusAxis[t],sk=ce([ipe,z5],(e,t)=>{var r;if(e!=null)return e;var n=(r=Gb(t,"radiusAxis",x3.type))!==null&&r!==void 0?r:"category";return By(By({},x3),{},{type:n})}),Vb=e=>e.polarOptions,ok=ce([$o,Bo,an],n8),nI=ce([Vb,ok],(e,t)=>{if(e!=null)return Bn(e.innerRadius,t,0)}),aI=ce([Vb,ok],(e,t)=>{if(e!=null)return Bn(e.outerRadius,t,t*.8)}),spe=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},iI=ce([Vb],spe);ce([ik,iI],Kb);var sI=ce([ok,nI,aI],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});ce([sk,sI],Kb);var oI=ce([Rt,Vb,nI,aI,$o,Bo],(e,t,r,n,a,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:u,cy:c,startAngle:p,endAngle:h}=t;return{cx:Bn(u,a,a/2),cy:Bn(c,o,o/2),innerRadius:r,outerRadius:n,startAngle:p,endAngle:h,clockWise:!1}}}),Er=(e,t)=>t,lm=(e,t,r)=>r;function Yb(e){return e==null?void 0:e.id}function lI(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:o}=r,u=new Map;return e.forEach(c=>{var p,h=(p=c.data)!==null&&p!==void 0?p:n;if(!(h==null||h.length===0)){var f=Yb(c);h.forEach((m,b)=>{var _=o==null||a?b:String(Vt(m,o,null)),j=Vt(m,c.dataKey,0),w;u.has(_)?w=u.get(_):w={},Object.assign(w,{[f]:j}),u.set(_,w)})}}),Array.from(u.values())}function Qb(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Xb=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Zb(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function ope(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var xn=e=>{var t=Rt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},lf=e=>e.tooltip.settings.axisId;function lpe(e){if(e in nh)return nh[e]();var t="scale".concat(Yh(e));if(t in nh)return nh[t]()}function w3(e){var t=e.ticks,r=e.bandwidth,n=e.range(),a=[Math.min(...n),Math.max(...n)];return{domain:()=>e.domain(),range:(function(o){function u(){return o.apply(this,arguments)}return u.toString=function(){return o.toString()},u})(()=>a),rangeMin:()=>a[0],rangeMax:()=>a[1],isInRange(o){var u=a[0],c=a[1];return u<=c?o>=u&&o<=c:o>=c&&o<=u},bandwidth:r?()=>r.call(e):void 0,ticks:t?o=>t.call(e,o):void 0,map:(o,u)=>{var c=e(o);if(c!=null){if(e.bandwidth&&u!==null&&u!==void 0&&u.position){var p=e.bandwidth();switch(u.position){case"middle":c+=p/2;break;case"end":c+=p;break}}return c}}}}function S3(e,t,r){if(typeof e=="function")return w3(e.copy().domain(t).range(r));if(e!=null){var n=lpe(e);if(n!=null)return n.domain(t).range(r),w3(n)}}var cI=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!Do(t)){for(var r,n,a=0;a<t.length;a++){var o=t[a];bt(o)&&((r===void 0||o<r)&&(r=o),(n===void 0||o>n)&&(n=o))}return r!==void 0&&n!==void 0?[r,n]:void 0}return t}default:return t}};function j3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j3(Object(r),!0).forEach(function(n){cpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cpe(e,t,r){return(t=upe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function upe(e){var t=dpe(e,"string");return typeof t=="symbol"?t:t+""}function dpe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rj=[0,"auto"],hn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},uI=(e,t)=>e.cartesianAxis.xAxis[t],qo=(e,t)=>{var r=uI(e,t);return r??hn},mn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:rj,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Jh},dI=(e,t)=>e.cartesianAxis.yAxis[t],Uo=(e,t)=>{var r=dI(e,t);return r??mn},fpe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},lk=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??fpe},$r=(e,t,r)=>{switch(t){case"xAxis":return qo(e,r);case"yAxis":return Uo(e,r);case"zAxis":return lk(e,r);case"angleAxis":return ik(e,r);case"radiusAxis":return sk(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},ppe=(e,t,r)=>{switch(t){case"xAxis":return qo(e,r);case"yAxis":return Uo(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},cf=(e,t,r)=>{switch(t){case"xAxis":return qo(e,r);case"yAxis":return Uo(e,r);case"angleAxis":return ik(e,r);case"radiusAxis":return sk(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},fI=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function ck(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var cm=e=>e.graphicalItems.cartesianItems,hpe=ce([Er,lm],ck),uk=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),um=ce([cm,$r,hpe],uk,{memoizeOptions:{resultEqualityCheck:Zb}}),pI=ce([um],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Qb)),hI=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),mpe=ce([um],hI),dk=e=>e.map(t=>t.data).filter(Boolean).flat(1),gpe=ce([um],dk,{memoizeOptions:{resultEqualityCheck:Zb}}),fk=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},pk=ce([gpe,JC],fk),hk=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Vt(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:Vt(a,n)}))):e.map(n=>({value:n})),Jb=ce([pk,$r,um],hk);function mI(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Ov(e){if(js(e)||e instanceof Date){var t=Number(e);if(bt(t))return t}}function C3(e){if(Array.isArray(e)){var t=[Ov(e[0]),Ov(e[1])];return Do(t)?t:void 0}var r=Ov(e);if(r!=null)return[r,r]}function Mo(e){return e.map(Ov).filter(va)}function vpe(e,t,r){return!r||typeof t!="number"||qi(t)?[]:r.length?Mo(r.flatMap(n=>{var a=Vt(e,n.dataKey),o,u;if(Array.isArray(a)?[o,u]=a:o=u=a,!(!bt(o)||!bt(u)))return[t-o,t+u]})):[]}var on=e=>{var t=xn(e),r=lf(e);return cf(e,t,r)},dm=ce([on],e=>e==null?void 0:e.dataKey),ype=ce([pI,JC,on],lI),gI=(e,t,r,n)=>{var a={},o=t.reduce((u,c)=>{if(c.stackId==null)return u;var p=u[c.stackId];return p==null&&(p=[]),p.push(c),u[c.stackId]=p,u},a);return Object.fromEntries(Object.entries(o).map(u=>{var[c,p]=u,h=n?[...p].reverse():p,f=h.map(Yb);return[c,{stackedData:Boe(e,f,r),graphicalItems:h}]}))},Fy=ce([ype,pI,om,tI],gI),vI=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:o}=t;if(n==null&&r!=="zAxis"){var u=Uoe(e,a,o);if(!(u!=null&&u[0]===0&&u[1]===0))return u}},bpe=ce([$r],e=>e.allowDataOverflow),mk=e=>{var t;if(e==null||!("domain"in e))return rj;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Mo(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:rj},gk=ce([$r],mk),vk=ce([gk,bpe],q8),_pe=ce([Fy,Fo,Er,vk],vI,{memoizeOptions:{resultEqualityCheck:Xb}}),e_=e=>e.errorBars,xpe=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>mI(r,n)),qy=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var o=a.flat(),u=Math.min(...o),c=Math.max(...o);return[u,c]}},yk=(e,t,r,n,a)=>{var o,u;if(r.length>0&&e.forEach(c=>{r.forEach(p=>{var h,f,m=(h=n[p.id])===null||h===void 0?void 0:h.filter(x=>mI(a,x)),b=Vt(c,(f=t.dataKey)!==null&&f!==void 0?f:p.dataKey),_=vpe(c,b,m);if(_.length>=2){var j=Math.min(..._),w=Math.max(..._);(o==null||j<o)&&(o=j),(u==null||w>u)&&(u=w)}var y=C3(b);y!=null&&(o=o==null?y[0]:Math.min(o,y[0]),u=u==null?y[1]:Math.max(u,y[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(c=>{var p=C3(Vt(c,t.dataKey));p!=null&&(o=o==null?p[0]:Math.min(o,p[0]),u=u==null?p[1]:Math.max(u,p[1]))}),bt(o)&&bt(u))return[o,u]},wpe=ce([pk,$r,mpe,e_,Er],yk,{memoizeOptions:{resultEqualityCheck:Xb}});function Spe(e){var{value:t}=e;if(js(t)||t instanceof Date)return t}var jpe=(e,t,r)=>{var n=e.map(Spe).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&L6(n))?o8(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},yI=e=>e.referenceElements.dots,uf=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),Cpe=ce([yI,Er,lm],uf),bI=e=>e.referenceElements.areas,kpe=ce([bI,Er,lm],uf),_I=e=>e.referenceElements.lines,Npe=ce([_I,Er,lm],uf),xI=(e,t)=>{if(e!=null){var r=Mo(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},Epe=ce(Cpe,Er,xI),wI=(e,t)=>{if(e!=null){var r=Mo(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},Tpe=ce([kpe,Er],wI);function Ppe(e){var t;if(e.x!=null)return Mo([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Mo(r)}function Ape(e){var t;if(e.y!=null)return Mo([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Mo(r)}var SI=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?Ppe(n):Ape(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},Rpe=ce([Npe,Er],SI),Ope=ce(Epe,Rpe,Tpe,(e,t,r)=>qy(e,r,t)),bk=(e,t,r,n,a,o,u,c)=>{if(r!=null)return r;var p=u==="vertical"&&c==="xAxis"||u==="horizontal"&&c==="yAxis",h=p?qy(n,o,a):qy(o,a);return Wfe(t,h,e.allowDataOverflow)},Dpe=ce([$r,gk,vk,_pe,wpe,Ope,Rt,Er],bk,{memoizeOptions:{resultEqualityCheck:Xb}}),Mpe=[0,1],_k=(e,t,r,n,a,o,u)=>{if(!((e==null||r==null||r.length===0)&&u===void 0)){var{dataKey:c,type:p}=e,h=Ki(t,o);if(h&&c==null){var f;return o8(0,(f=r==null?void 0:r.length)!==null&&f!==void 0?f:0)}return p==="category"?jpe(n,e,h):a==="expand"?Mpe:u}},xk=ce([$r,Rt,pk,Jb,om,Er,Dpe],_k);function Lpe(e){return e in nh}var jI=(e,t,r)=>{if(e!=null){var{scale:n,type:a}=e;if(n==="auto")return a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!t)?"point":a==="category"?"band":"linear";if(typeof n=="string"){var o="scale".concat(Yh(n));return Lpe(o)?o:"point"}}},Zl=ce([$r,fI,rk],jI);function wk(e,t,r,n){if(!(r==null||n==null))return typeof e.scale=="function"?S3(e.scale,r,n):S3(t,r,n)}var Sk=(e,t,r)=>{var n=mk(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Do(e))return Qfe(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Do(e))return Xfe(e,t.tickCount,t.allowDecimals)}},jk=ce([xk,cf,Zl],Sk),Ck=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Do(t)&&Array.isArray(r)&&r.length>0){var a,o,u=t[0],c=(a=r[0])!==null&&a!==void 0?a:0,p=t[1],h=(o=r[r.length-1])!==null&&o!==void 0?o:0;return[Math.min(u,c),Math.max(p,h)]}return t},Ipe=ce([$r,xk,jk,Er],Ck),$pe=ce(Jb,$r,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Mo(e.map(m=>m.value))).sort((m,b)=>m-b),a=n[0],o=n[n.length-1];if(a==null||o==null)return 1/0;var u=o-a;if(u===0)return 1/0;for(var c=0;c<n.length-1;c++){var p=n[c],h=n[c+1];if(!(p==null||h==null)){var f=h-p;r=Math.min(r,f)}}return r/u}}),CI=ce($pe,Rt,eI,an,(e,t,r,n,a)=>a,(e,t,r,n,a)=>{if(!bt(e))return 0;var o=t==="vertical"?n.height:n.width;if(a==="gap")return e*o/2;if(a==="no-gap"){var u=Bn(r,e*o),c=e*o/2;return c-u-(c-u)/o*u}return 0}),Bpe=(e,t,r)=>{var n=qo(e,t);return n==null||typeof n.padding!="string"?0:CI(e,"xAxis",t,r,n.padding)},zpe=(e,t,r)=>{var n=Uo(e,t);return n==null||typeof n.padding!="string"?0:CI(e,"yAxis",t,r,n.padding)},Fpe=ce(qo,Bpe,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),qpe=ce(Uo,zpe,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),Upe=ce([an,Fpe,Db,Ob,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:o}=n;return a?[o.left,r.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),Hpe=ce([an,Rt,qpe,Db,Ob,(e,t,r)=>r],(e,t,r,n,a,o)=>{var{padding:u}=a;return o?[n.height-u.bottom,u.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),fm=(e,t,r,n)=>{var a;switch(t){case"xAxis":return Upe(e,r,n);case"yAxis":return Hpe(e,r,n);case"zAxis":return(a=lk(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return iI(e);case"radiusAxis":return sI(e,r);default:return}},kI=ce([$r,fm],Kb),Wpe=ce([Zl,Ipe],cI),t_=ce([$r,Zl,Wpe,kI],wk);ce([um,e_,Er],xpe);function NI(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var r_=(e,t)=>t,n_=(e,t,r)=>r,Kpe=ce(Ab,r_,n_,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(NI)),Gpe=ce(Rb,r_,n_,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(NI)),EI=(e,t)=>({width:e.width,height:t.height}),Vpe=(e,t)=>{var r=typeof t.width=="number"?t.width:Jh;return{width:r,height:e.height}},TI=ce(an,qo,EI),Ype=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},Qpe=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},Xpe=ce(Bo,an,Kpe,r_,n_,(e,t,r,n,a)=>{var o={},u;return r.forEach(c=>{var p=EI(t,c);u==null&&(u=Ype(t,n,e));var h=n==="top"&&!a||n==="bottom"&&a;o[c.id]=u-Number(h)*p.height,u+=(h?-1:1)*p.height}),o}),Zpe=ce($o,an,Gpe,r_,n_,(e,t,r,n,a)=>{var o={},u;return r.forEach(c=>{var p=Vpe(t,c);u==null&&(u=Qpe(t,n,e));var h=n==="left"&&!a||n==="right"&&a;o[c.id]=u-Number(h)*p.width,u+=(h?-1:1)*p.width}),o}),Jpe=(e,t)=>{var r=qo(e,t);if(r!=null)return Xpe(e,r.orientation,r.mirror)},ehe=ce([an,qo,Jpe,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),the=(e,t)=>{var r=Uo(e,t);if(r!=null)return Zpe(e,r.orientation,r.mirror)},rhe=ce([an,Uo,the,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),PI=ce(an,Uo,(e,t)=>{var r=typeof t.width=="number"?t.width:Jh;return{width:r,height:e.height}}),k3=(e,t,r)=>{switch(t){case"xAxis":return TI(e,r).width;case"yAxis":return PI(e,r).height;default:return}},AI=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:o,dataKey:u}=r,c=Ki(e,n),p=t.map(h=>h.value);if(u&&c&&o==="category"&&a&&L6(p))return p}},kk=ce([Rt,Jb,$r,Er],AI),RI=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:o}=r,u=Ki(e,n);if(u&&(a==="number"||o!=="auto"))return t.map(c=>c.value)}},Nk=ce([Rt,Jb,cf,Er],RI),N3=ce([Rt,ppe,Zl,t_,kk,Nk,fm,jk,Er],(e,t,r,n,a,o,u,c,p)=>{if(t!=null){var h=Ki(e,p);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:p,categoricalDomain:o,duplicateDomain:a,isCategorical:h,niceTicks:c,range:u,realScaleType:r,scale:n}}}),nhe=(e,t,r,n,a,o,u,c,p)=>{if(!(t==null||n==null)){var h=Ki(e,p),{type:f,ticks:m,tickCount:b}=t,_=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,j=f==="category"&&n.bandwidth?n.bandwidth()/_:0;j=p==="angleAxis"&&o!=null&&o.length>=2?yn(o[0]-o[1])*2*j:j;var w=m||a;return w?w.map((y,x)=>{var S=u?u.indexOf(y):y,T=n.map(S);return bt(T)?{index:x,coordinate:T+j,value:y,offset:j}:null}).filter(va):h&&c?c.map((y,x)=>{var S=n.map(y);return bt(S)?{coordinate:S+j,value:y,index:x,offset:j}:null}).filter(va):n.ticks?n.ticks(b).map((y,x)=>{var S=n.map(y);return bt(S)?{coordinate:S+j,value:y,index:x,offset:j}:null}).filter(va):n.domain().map((y,x)=>{var S=n.map(y);return bt(S)?{coordinate:S+j,value:u?u[y]:y,index:x,offset:j}:null}).filter(va)}},OI=ce([Rt,cf,Zl,t_,jk,fm,kk,Nk,Er],nhe),ahe=(e,t,r,n,a,o,u)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var c=Ki(e,u),{tickCount:p}=t,h=0;return h=u==="angleAxis"&&(n==null?void 0:n.length)>=2?yn(n[0]-n[1])*2*h:h,c&&o?o.map((f,m)=>{var b=r.map(f);return bt(b)?{coordinate:b+h,value:f,index:m,offset:h}:null}).filter(va):r.ticks?r.ticks(p).map((f,m)=>{var b=r.map(f);return bt(b)?{coordinate:b+h,value:f,index:m,offset:h}:null}).filter(va):r.domain().map((f,m)=>{var b=r.map(f);return bt(b)?{coordinate:b+h,value:a?a[f]:f,index:m,offset:h}:null}).filter(va)}},Ns=ce([Rt,cf,t_,fm,kk,Nk,Er],ahe),Es=ce($r,t_,(e,t)=>{if(!(e==null||t==null))return zy(zy({},e),{},{scale:t})}),ihe=ce([$r,Zl,xk,kI],wk);ce((e,t,r)=>lk(e,r),ihe,(e,t)=>{if(!(e==null||t==null))return zy(zy({},e),{},{scale:t})});var she=ce([Rt,Ab,Rb],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),DI=e=>e.options.defaultTooltipEventType,MI=e=>e.options.validateTooltipEventTypes;function LI(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Ek(e,t){var r=DI(e),n=MI(e);return LI(t,r,n)}function ohe(e){return ze(t=>Ek(t,e))}var II=(e,t)=>{var r,n=Number(t);if(!(qi(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},lhe=e=>e.tooltip.settings,Nl={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},che={itemInteraction:{click:Nl,hover:Nl},axisInteraction:{click:Nl,hover:Nl},keyboardInteraction:Nl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},$I=_a({name:"tooltip",initialState:che,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Sr()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=zi(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:Sr()},removeTooltipEntrySettings:{reducer(e,t){var r=zi(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Sr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:uhe,replaceTooltipEntrySettings:dhe,removeTooltipEntrySettings:fhe,setTooltipSettingsState:phe,setActiveMouseOverItemIndex:BI,mouseLeaveItem:hhe,mouseLeaveChart:zI,setActiveClickItemIndex:mhe,setMouseOverAxisIndex:FI,setMouseClickAxisIndex:ghe,setSyncInteraction:nj,setKeyboardInteraction:aj}=$I.actions,vhe=$I.reducer;function E3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ov(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E3(Object(r),!0).forEach(function(n){yhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yhe(e,t,r){return(t=bhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bhe(e){var t=_he(e,"string");return typeof t=="symbol"?t:t+""}function _he(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xhe(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function whe(e){return e.index!=null}var qI=(e,t,r,n)=>{if(t==null)return Nl;var a=xhe(e,t,r);if(a==null)return Nl;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(whe(a)){if(o)return ov(ov({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return ov(ov({},Nl),{},{coordinate:a.coordinate})};function She(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function jhe(e,t){var r=She(e),n=t[0],a=t[1];if(r===void 0)return!1;var o=Math.min(n,a),u=Math.max(n,a);return r>=o&&r<=u}function Che(e,t,r){if(r==null||t==null)return!0;var n=Vt(e,t);return n==null||!Do(r)?!0:jhe(n,r)}var Tk=(e,t,r,n)=>{var a=e==null?void 0:e.index;if(a==null)return null;var o=Number(a);if(!bt(o))return a;var u=0,c=1/0;t.length>0&&(c=t.length-1);var p=Math.max(u,Math.min(o,c)),h=t[p];return h==null||Che(h,r,n)?String(p):null},UI=(e,t,r,n,a,o,u)=>{if(o!=null){var c=u[0],p=c==null?void 0:c.getPosition(o);if(p!=null)return p;var h=a==null?void 0:a[Number(o)];if(h)switch(r){case"horizontal":return{x:h.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:h.coordinate}}}},HI=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(r==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&n!=null){var o=e.tooltipItemPayloads[0];return o!=null?[o]:[]}return e.tooltipItemPayloads.filter(u=>{var c;return((c=u.settings)===null||c===void 0?void 0:c.graphicalItemId)===a})},WI=e=>e.options.tooltipPayloadSearcher,df=e=>e.tooltip;function T3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function P3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T3(Object(r),!0).forEach(function(n){khe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function khe(e,t,r){return(t=Nhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nhe(e){var t=Ehe(e,"string");return typeof t=="symbol"?t:t+""}function Ehe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function The(e,t){return e??t}var KI=(e,t,r,n,a,o,u)=>{if(!(t==null||o==null)){var{chartData:c,computedData:p,dataStartIndex:h,dataEndIndex:f}=r,m=[];return e.reduce((b,_)=>{var j,{dataDefinedOnItem:w,settings:y}=_,x=The(w,c),S=Array.isArray(x)?T5(x,h,f):x,T=(j=y==null?void 0:y.dataKey)!==null&&j!==void 0?j:n,N=y==null?void 0:y.nameKey,A;if(n&&Array.isArray(S)&&!Array.isArray(S[0])&&u==="axis"?A=I6(S,n,a):A=o(S,t,p,N),Array.isArray(A))A.forEach(k=>{var R=P3(P3({},y),{},{name:k.name,unit:k.unit,color:void 0,fill:void 0});b.push(ER({tooltipEntrySettings:R,dataKey:k.dataKey,payload:k.payload,value:Vt(k.payload,k.dataKey),name:k.name}))});else{var P;b.push(ER({tooltipEntrySettings:y,dataKey:T,payload:A,value:Vt(A,T),name:(P=Vt(A,N))!==null&&P!==void 0?P:y==null?void 0:y.name}))}return b},m)}},Pk=ce([on,fI,rk],jI),Phe=ce([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Ahe=ce([xn,lf],ck),ff=ce([Phe,on,Ahe],uk,{memoizeOptions:{resultEqualityCheck:Zb}}),Rhe=ce([ff],e=>e.filter(Qb)),Ohe=ce([ff],dk,{memoizeOptions:{resultEqualityCheck:Zb}}),pf=ce([Ohe,Fo],fk),Dhe=ce([Rhe,Fo,on],lI),Ak=ce([pf,on,ff],hk),GI=ce([on],mk),Mhe=ce([on],e=>e.allowDataOverflow),VI=ce([GI,Mhe],q8),Lhe=ce([ff],e=>e.filter(Qb)),Ihe=ce([Dhe,Lhe,om,tI],gI),$he=ce([Ihe,Fo,xn,VI],vI),Bhe=ce([ff],hI),zhe=ce([pf,on,Bhe,e_,xn],yk,{memoizeOptions:{resultEqualityCheck:Xb}}),Fhe=ce([yI,xn,lf],uf),qhe=ce([Fhe,xn],xI),Uhe=ce([bI,xn,lf],uf),Hhe=ce([Uhe,xn],wI),Whe=ce([_I,xn,lf],uf),Khe=ce([Whe,xn],SI),Ghe=ce([qhe,Khe,Hhe],qy),Vhe=ce([on,GI,VI,$he,zhe,Ghe,Rt,xn],bk),pm=ce([on,Rt,pf,Ak,om,xn,Vhe],_k),Yhe=ce([pm,on,Pk],Sk),Qhe=ce([on,pm,Yhe,xn],Ck),YI=e=>{var t=xn(e),r=lf(e),n=!1;return fm(e,t,r,n)},QI=ce([on,YI],Kb),XI=ce([on,Pk,Qhe,QI],wk),Xhe=ce([Rt,Ak,on,xn],AI),Zhe=ce([Rt,Ak,on,xn],RI),Jhe=(e,t,r,n,a,o,u,c)=>{if(t){var{type:p}=t,h=Ki(e,c);if(n){var f=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,m=p==="category"&&n.bandwidth?n.bandwidth()/f:0;return m=c==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?yn(a[0]-a[1])*2*m:m,h&&u?u.map((b,_)=>{var j=n.map(b);return bt(j)?{coordinate:j+m,value:b,index:_,offset:m}:null}).filter(va):n.domain().map((b,_)=>{var j=n.map(b);return bt(j)?{coordinate:j+m,value:o?o[b]:b,index:_,offset:m}:null}).filter(va)}}},Ho=ce([Rt,on,Pk,XI,YI,Xhe,Zhe,xn],Jhe),Rk=ce([DI,MI,lhe],(e,t,r)=>LI(r.shared,e,t)),ZI=e=>e.tooltip.settings.trigger,Ok=e=>e.tooltip.settings.defaultIndex,hm=ce([df,Rk,ZI,Ok],qI),Ul=ce([hm,pf,dm,pm],Tk),JI=ce([Ho,Ul],II),Dk=ce([hm],e=>{if(e)return e.dataKey}),eme=ce([hm],e=>{if(e)return e.graphicalItemId}),e$=ce([df,Rk,ZI,Ok],HI),tme=ce([$o,Bo,Rt,an,Ho,Ok,e$],UI),rme=ce([hm,tme],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),nme=ce([hm],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),ame=ce([e$,Ul,Fo,dm,JI,WI,Rk],KI),ime=ce([ame],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function A3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function R3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A3(Object(r),!0).forEach(function(n){sme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sme(e,t,r){return(t=ome(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ome(e){var t=lme(e,"string");return typeof t=="symbol"?t:t+""}function lme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cme=()=>ze(on),ume=()=>{var e=cme(),t=ze(Ho),r=ze(XI);return ql(!e||!r?void 0:R3(R3({},e),{},{scale:r}),t)};function O3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function od(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O3(Object(r),!0).forEach(function(n){dme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dme(e,t,r){return(t=fme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fme(e){var t=pme(e,"string");return typeof t=="symbol"?t:t+""}function pme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hme=(e,t,r,n)=>{var a=t.find(o=>o&&o.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},mme=(e,t,r,n)=>{var a=t.find(h=>h&&h.index===r);if(a){if(e==="centric"){var o=a.coordinate,{radius:u}=n;return od(od(od({},n),Qr(n.cx,n.cy,u,o)),{},{angle:o,radius:u})}var c=a.coordinate,{angle:p}=n;return od(od(od({},n),Qr(n.cx,n.cy,c,p)),{},{angle:p,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function gme(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var t$=(e,t,r,n,a)=>{var o,u=(o=t==null?void 0:t.length)!==null&&o!==void 0?o:0;if(u<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var c=0;c<u;c++){var p,h,f,m,b,_=c>0?(p=r[c-1])===null||p===void 0?void 0:p.coordinate:(h=r[u-1])===null||h===void 0?void 0:h.coordinate,j=(f=r[c])===null||f===void 0?void 0:f.coordinate,w=c>=u-1?(m=r[0])===null||m===void 0?void 0:m.coordinate:(b=r[c+1])===null||b===void 0?void 0:b.coordinate,y=void 0;if(!(_==null||j==null||w==null))if(yn(j-_)!==yn(w-j)){var x=[];if(yn(w-j)===yn(a[1]-a[0])){y=w;var S=j+a[1]-a[0];x[0]=Math.min(S,(S+_)/2),x[1]=Math.max(S,(S+_)/2)}else{y=_;var T=w+a[1]-a[0];x[0]=Math.min(j,(T+j)/2),x[1]=Math.max(j,(T+j)/2)}var N=[Math.min(j,(y+j)/2),Math.max(j,(y+j)/2)];if(e>N[0]&&e<=N[1]||e>=x[0]&&e<=x[1]){var A;return(A=r[c])===null||A===void 0?void 0:A.index}}else{var P=Math.min(_,w),k=Math.max(_,w);if(e>(P+j)/2&&e<=(k+j)/2){var R;return(R=r[c])===null||R===void 0?void 0:R.index}}}else if(t)for(var D=0;D<u;D++){var I=t[D];if(I!=null){var q=t[D+1],z=t[D-1];if(D===0&&q!=null&&e<=(I.coordinate+q.coordinate)/2||D===u-1&&z!=null&&e>(I.coordinate+z.coordinate)/2||D>0&&D<u-1&&z!=null&&q!=null&&e>(I.coordinate+z.coordinate)/2&&e<=(I.coordinate+q.coordinate)/2)return I.index}}return-1},r$=()=>ze(rk),Mk=(e,t)=>t,n$=(e,t,r)=>r,Lk=(e,t,r,n)=>n,vme=ce(Ho,e=>xb(e,t=>t.coordinate)),Ik=ce([df,Mk,n$,Lk],qI),$k=ce([Ik,pf,dm,pm],Tk),yme=(e,t,r)=>{if(t!=null){var n=df(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},a$=ce([df,Mk,n$,Lk],HI),Uy=ce([$o,Bo,Rt,an,Ho,Lk,a$],UI),bme=ce([Ik,Uy],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),i$=ce([Ho,$k],II),_me=ce([a$,$k,Fo,dm,i$,WI,Mk],KI),xme=ce([Ik,$k],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),wme=(e,t,r,n,a,o,u)=>{if(!(!e||!r||!n||!a)&&gme(e,u)){var c=Hoe(e,t),p=t$(c,o,a,r,n),h=hme(t,a,p,e);return{activeIndex:String(p),activeCoordinate:h}}},Sme=(e,t,r,n,a,o,u)=>{if(!(!e||!n||!a||!o||!r)){var c=oue(e,r);if(c){var p=Woe(c,t),h=t$(p,u,o,n,a),f=mme(t,o,h,c);return{activeIndex:String(h),activeCoordinate:f}}}},jme=(e,t,r,n,a,o,u,c)=>{if(!(!e||!t||!n||!a||!o))return t==="horizontal"||t==="vertical"?wme(e,t,n,a,o,u,c):Sme(e,t,r,n,a,o,u)},Cme=ce(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),kme=ce(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Fr)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:ope}});function D3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function M3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D3(Object(r),!0).forEach(function(n){Nme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nme(e,t,r){return(t=Eme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eme(e){var t=Tme(e,"string");return typeof t=="symbol"?t:t+""}function Tme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pme={},Ame={zIndexMap:Object.values(Fr).reduce((e,t)=>M3(M3({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),Pme)},Rme=new Set(Object.values(Fr));function Ome(e){return Rme.has(e)}var s$=_a({name:"zIndex",initialState:Ame,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Sr()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!Ome(r)&&delete e.zIndexMap[r])},prepare:Sr()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:a?void 0:n,panoramaElement:a?n:void 0}},prepare:Sr()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:Sr()}}}),{registerZIndexPortal:Dme,unregisterZIndexPortal:Mme,registerZIndexPortalElement:Lme,unregisterZIndexPortalElement:Ime}=s$.actions,$me=s$.reducer;function ta(e){var{zIndex:t,children:r}=e,n=wle(),a=n&&t!==void 0&&t!==0,o=bn(),u=hr();v.useLayoutEffect(()=>a?(u(Dme({zIndex:t})),()=>{u(Mme({zIndex:t}))}):Gl,[u,t,a]);var c=ze(p=>Cme(p,t,o));return a?c?Uh.createPortal(r,c):null:r}function ij(){return ij=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ij.apply(null,arguments)}function L3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L3(Object(r),!0).forEach(function(n){Bme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bme(e,t,r){return(t=zme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zme(e){var t=Fme(e,"string");return typeof t=="symbol"?t:t+""}function Fme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qme(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return v.isValidElement(t)?v.cloneElement(t,n):v.createElement(r,n)}function Ume(e){var t,{coordinate:r,payload:n,index:a,offset:o,tooltipAxisBandSize:u,layout:c,cursor:p,tooltipEventType:h,chartName:f}=e,m=r,b=n,_=a;if(!p||!m||f!=="ScatterChart"&&h!=="axis")return null;var j,w,y;if(f==="ScatterChart")j=m,w=xce,y=Fr.cursorLine;else if(f==="BarChart")j=wce(c,m,o,u),w=r8,y=Fr.cursorRectangle;else if(c==="radial"&&B6(m)){var{cx:x,cy:S,radius:T,startAngle:N,endAngle:A}=a8(m);j={cx:x,cy:S,startAngle:N,endAngle:A,innerRadius:T,outerRadius:T},w=s8,y=Fr.cursorLine}else j={points:due(c,m,o)},w=wd,y=Fr.cursorLine;var P=typeof p=="object"&&"className"in p?p.className:void 0,k=lv(lv(lv(lv({stroke:"#ccc",pointerEvents:"none"},o),j),Zc(p)),{},{payload:b,payloadIndex:_,className:Mt("recharts-tooltip-cursor",P)});return v.createElement(ta,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:y},v.createElement(qme,{cursor:p,cursorComp:w,cursorProps:k}))}function Hme(e){var t=ume(),r=B5(),n=Yl(),a=r$();return t==null||r==null||n==null||a==null?null:v.createElement(Ume,ij({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var o$=v.createContext(null),Wme=()=>v.useContext(o$),dw={exports:{}},I3;function Kme(){return I3||(I3=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(p,h,f){this.fn=p,this.context=h,this.once=f||!1}function o(p,h,f,m,b){if(typeof f!="function")throw new TypeError("The listener must be a function");var _=new a(f,m||p,b),j=r?r+h:h;return p._events[j]?p._events[j].fn?p._events[j]=[p._events[j],_]:p._events[j].push(_):(p._events[j]=_,p._eventsCount++),p}function u(p,h){--p._eventsCount===0?p._events=new n:delete p._events[h]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var h=[],f,m;if(this._eventsCount===0)return h;for(m in f=this._events)t.call(f,m)&&h.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(f)):h},c.prototype.listeners=function(h){var f=r?r+h:h,m=this._events[f];if(!m)return[];if(m.fn)return[m.fn];for(var b=0,_=m.length,j=new Array(_);b<_;b++)j[b]=m[b].fn;return j},c.prototype.listenerCount=function(h){var f=r?r+h:h,m=this._events[f];return m?m.fn?1:m.length:0},c.prototype.emit=function(h,f,m,b,_,j){var w=r?r+h:h;if(!this._events[w])return!1;var y=this._events[w],x=arguments.length,S,T;if(y.fn){switch(y.once&&this.removeListener(h,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,f),!0;case 3:return y.fn.call(y.context,f,m),!0;case 4:return y.fn.call(y.context,f,m,b),!0;case 5:return y.fn.call(y.context,f,m,b,_),!0;case 6:return y.fn.call(y.context,f,m,b,_,j),!0}for(T=1,S=new Array(x-1);T<x;T++)S[T-1]=arguments[T];y.fn.apply(y.context,S)}else{var N=y.length,A;for(T=0;T<N;T++)switch(y[T].once&&this.removeListener(h,y[T].fn,void 0,!0),x){case 1:y[T].fn.call(y[T].context);break;case 2:y[T].fn.call(y[T].context,f);break;case 3:y[T].fn.call(y[T].context,f,m);break;case 4:y[T].fn.call(y[T].context,f,m,b);break;default:if(!S)for(A=1,S=new Array(x-1);A<x;A++)S[A-1]=arguments[A];y[T].fn.apply(y[T].context,S)}}return!0},c.prototype.on=function(h,f,m){return o(this,h,f,m,!1)},c.prototype.once=function(h,f,m){return o(this,h,f,m,!0)},c.prototype.removeListener=function(h,f,m,b){var _=r?r+h:h;if(!this._events[_])return this;if(!f)return u(this,_),this;var j=this._events[_];if(j.fn)j.fn===f&&(!b||j.once)&&(!m||j.context===m)&&u(this,_);else{for(var w=0,y=[],x=j.length;w<x;w++)(j[w].fn!==f||b&&!j[w].once||m&&j[w].context!==m)&&y.push(j[w]);y.length?this._events[_]=y.length===1?y[0]:y:u(this,_)}return this},c.prototype.removeAllListeners=function(h){var f;return h?(f=r?r+h:h,this._events[f]&&u(this,f)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,e.exports=c})(dw)),dw.exports}var Gme=Kme();const Vme=Ts(Gme);var Ah=new Vme,sj="recharts.syncEvent.tooltip",$3="recharts.syncEvent.brush",a_=(e,t)=>{if(t&&Array.isArray(e)){var r=Number.parseInt(t,10);if(!qi(r))return e[r]}},Yme={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},l$=_a({name:"options",initialState:Yme,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Qme=l$.reducer,{createEventEmitter:Xme}=l$.actions;function Zme(e){return e.tooltip.syncInteraction}var Jme={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},c$=_a({name:"chartData",initialState:Jme,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:B3,setDataStartEndIndexes:ege,setComputedData:l6e}=c$.actions,tge=c$.reducer,rge=["x","y"];function z3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ld(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z3(Object(r),!0).forEach(function(n){nge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nge(e,t,r){return(t=age(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function age(e){var t=ige(e,"string");return typeof t=="symbol"?t:t+""}function ige(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sge(e,t){if(e==null)return{};var r,n,a=oge(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function oge(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function lge(){var e=ze(nk),t=ze(ak),r=hr(),n=ze(rI),a=ze(Ho),o=Yl(),u=Mb(),c=ze(p=>p.rootProps.className);v.useEffect(()=>{if(e==null)return Gl;var p=(h,f,m)=>{if(t!==m&&e===h){if(n==="index"){var b;if(u&&f!==null&&f!==void 0&&(b=f.payload)!==null&&b!==void 0&&b.coordinate&&f.payload.sourceViewBox){var _=f.payload.coordinate,{x:j,y:w}=_,y=sge(_,rge),{x,y:S,width:T,height:N}=f.payload.sourceViewBox,A=ld(ld({},y),{},{x:u.x+(T?(j-x)/T:0)*u.width,y:u.y+(N?(w-S)/N:0)*u.height});r(ld(ld({},f),{},{payload:ld(ld({},f.payload),{},{coordinate:A})}))}else r(f);return}if(a!=null){var P;if(typeof n=="function"){var k={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},R=n(a,k);P=a[R]}else n==="value"&&(P=a.find(O=>String(O.value)===f.payload.label));var{coordinate:D}=f.payload;if(P==null||f.payload.active===!1||D==null||u==null){r(nj({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:I,y:q}=D,z=Math.min(I,u.x+u.width),M=Math.min(q,u.y+u.height),F={x:o==="horizontal"?P.coordinate:z,y:o==="horizontal"?M:P.coordinate},B=nj({active:f.payload.active,coordinate:F,dataKey:f.payload.dataKey,index:String(P.index),label:f.payload.label,sourceViewBox:f.payload.sourceViewBox,graphicalItemId:f.payload.graphicalItemId});r(B)}}};return Ah.on(sj,p),()=>{Ah.off(sj,p)}},[c,r,t,e,n,a,o,u])}function cge(){var e=ze(nk),t=ze(ak),r=hr();v.useEffect(()=>{if(e==null)return Gl;var n=(a,o,u)=>{t!==u&&e===a&&r(ege(o))};return Ah.on($3,n),()=>{Ah.off($3,n)}},[r,t,e])}function uge(){var e=hr();v.useEffect(()=>{e(Xme())},[e]),lge(),cge()}function dge(e,t,r,n,a,o){var u=ze(_=>yme(_,e,t)),c=ze(ak),p=ze(nk),h=ze(rI),f=ze(Zme),m=f==null?void 0:f.active,b=Mb();v.useEffect(()=>{if(!m&&p!=null&&c!=null){var _=nj({active:o,coordinate:r,dataKey:u,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:b,graphicalItemId:void 0});Ah.emit(sj,p,_,c)}},[m,r,u,a,n,c,p,h,o,b])}function F3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function q3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F3(Object(r),!0).forEach(function(n){fge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fge(e,t,r){return(t=pge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pge(e){var t=hge(e,"string");return typeof t=="symbol"?t:t+""}function hge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mge(e){return e.dataKey}function gge(e,t){return v.isValidElement(e)?v.cloneElement(e,t):typeof e=="function"?v.createElement(e,t):v.createElement(ece,t)}var U3=[],vge={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function is(e){var t,r,n=Ir(e,vge),{active:a,allowEscapeViewBox:o,animationDuration:u,animationEasing:c,content:p,filterNull:h,isAnimationActive:f,offset:m,payloadUniqBy:b,position:_,reverseDirection:j,useTranslate3d:w,wrapperStyle:y,cursor:x,shared:S,trigger:T,defaultIndex:N,portal:A,axisId:P}=n,k=hr(),R=typeof N=="number"?String(N):N;v.useEffect(()=>{k(phe({shared:S,trigger:T,axisId:P,active:a,defaultIndex:R}))},[k,S,T,P,a,R]);var D=Mb(),I=X5(),q=ohe(S),{activeIndex:z,isActive:M}=(t=ze(xe=>xme(xe,q,T,R)))!==null&&t!==void 0?t:{},F=ze(xe=>_me(xe,q,T,R)),B=ze(xe=>i$(xe,q,T,R)),O=ze(xe=>bme(xe,q,T,R)),$=F,K=Wme(),V=(r=a??M)!==null&&r!==void 0?r:!1,[Q,U]=J6([$,V]),X=q==="axis"?B:void 0;dge(q,T,O,X,z,V);var ee=A??K;if(ee==null||D==null||q==null)return null;var te=$??U3;V||(te=U3),h&&te.length&&(te=V6(te.filter(xe=>xe.value!=null&&(xe.hide!==!0||n.includeHidden)),b,mge));var me=te.length>0,Ce=v.createElement(oce,{allowEscapeViewBox:o,animationDuration:u,animationEasing:c,isAnimationActive:f,active:V,coordinate:O,hasPayload:me,offset:m,position:_,reverseDirection:j,useTranslate3d:w,viewBox:D,wrapperStyle:y,lastBoundingBox:Q,innerRef:U,hasPortalFromProps:!!A},gge(p,q3(q3({},n),{},{payload:te,label:X,active:V,activeIndex:z,coordinate:O,accessibilityLayer:I})));return v.createElement(v.Fragment,null,Uh.createPortal(Ce,ee),V&&v.createElement(Hme,{cursor:x,tooltipEventType:q,coordinate:O,payload:te,index:z}))}var mm=e=>null;mm.displayName="Cell";function yge(e,t,r){return(t=bge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bge(e){var t=_ge(e,"string");return typeof t=="symbol"?t:t+""}function _ge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class xge{constructor(t){yge(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function H3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wge(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H3(Object(r),!0).forEach(function(n){Sge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sge(e,t,r){return(t=jge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jge(e){var t=Cge(e,"string");return typeof t=="symbol"?t:t+""}function Cge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kge={cacheSize:2e3,enableCache:!0},u$=wge({},kge),W3=new xge(u$.cacheSize),Nge={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},K3="recharts_measurement_span";function Ege(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",o=t.fontStyle||"",u=t.letterSpacing||"",c=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(o,"|").concat(u,"|").concat(c)}var G3=(e,t)=>{try{var r=document.getElementById(K3);r||(r=document.createElement("span"),r.setAttribute("id",K3),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Nge,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},ch=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||rm.isSsr)return{width:0,height:0};if(!u$.enableCache)return G3(t,r);var n=Ege(t,r),a=W3.get(n);if(a)return a;var o=G3(t,r);return W3.set(n,o),o},d$;function Tge(e,t,r){return(t=Pge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pge(e){var t=Age(e,"string");return typeof t=="symbol"?t:t+""}function Age(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var V3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Y3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Rge=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Oge=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Dge={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Mge=["cm","mm","pt","pc","in","Q","px"];function Lge(e){return Mge.includes(e)}var yd="NaN";function Ige(e,t){return e*Dge[t]}class Tn{static parse(t){var r,[,n,a]=(r=Oge.exec(t))!==null&&r!==void 0?r:[];return n==null?Tn.NaN:new Tn(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,qi(t)&&(this.unit=""),r!==""&&!Rge.test(r)&&(this.num=NaN,this.unit=""),Lge(r)&&(this.num=Ige(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Tn(NaN,""):new Tn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Tn(NaN,""):new Tn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Tn(NaN,""):new Tn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Tn(NaN,""):new Tn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return qi(this.num)}}d$=Tn;Tge(Tn,"NaN",new d$(NaN,""));function f$(e){if(e==null||e.includes(yd))return yd;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,o]=(r=V3.exec(t))!==null&&r!==void 0?r:[],u=Tn.parse(n??""),c=Tn.parse(o??""),p=a==="*"?u.multiply(c):u.divide(c);if(p.isNaN())return yd;t=t.replace(V3,p.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,[,f,m,b]=(h=Y3.exec(t))!==null&&h!==void 0?h:[],_=Tn.parse(f??""),j=Tn.parse(b??""),w=m==="+"?_.add(j):_.subtract(j);if(w.isNaN())return yd;t=t.replace(Y3,w.toString())}return t}var Q3=/\(([^()]*)\)/;function $ge(e){for(var t=e,r;(r=Q3.exec(t))!=null;){var[,n]=r;t=t.replace(Q3,f$(n))}return t}function Bge(e){var t=e.replace(/\s+/g,"");return t=$ge(t),t=f$(t),t}function zge(e){try{return Bge(e)}catch{return yd}}function fw(e){var t=zge(e.slice(5,-1));return t===yd?"":t}var Fge=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],qge=["dx","dy","angle","className","breakAll"];function oj(){return oj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oj.apply(null,arguments)}function X3(e,t){if(e==null)return{};var r,n,a=Uge(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Uge(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var p$=/[ \f\n\r\t\v\u2028\u2029]+/,h$=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];kr(t)||(r?a=t.toString().split(""):a=t.toString().split(p$));var o=a.map(c=>({word:c,width:ch(c,n).width})),u=r?0:ch("",n).width;return{wordsWithComputedWidth:o,spaceWidth:u}}catch{return null}};function Hge(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var m$=(e,t,r,n)=>e.reduce((a,o)=>{var{word:u,width:c}=o,p=a[a.length-1];if(p&&c!=null&&(t==null||n||p.width+c+r<Number(t)))p.words.push(u),p.width+=c+r;else{var h={words:[u],width:c};a.push(h)}return a},[]),g$=e=>e.reduce((t,r)=>t.width>r.width?t:r),Wge="",Z3=(e,t,r,n,a,o,u,c)=>{var p=e.slice(0,t),h=h$({breakAll:r,style:n,children:p+Wge});if(!h)return[!1,[]];var f=m$(h.wordsWithComputedWidth,o,u,c),m=f.length>a||g$(f).width>Number(o);return[m,f]},Kge=(e,t,r,n,a)=>{var{maxLines:o,children:u,style:c,breakAll:p}=e,h=Me(o),f=String(u),m=m$(t,n,r,a);if(!h||a)return m;var b=m.length>o||g$(m).width>Number(n);if(!b)return m;for(var _=0,j=f.length-1,w=0,y;_<=j&&w<=f.length-1;){var x=Math.floor((_+j)/2),S=x-1,[T,N]=Z3(f,S,p,c,o,n,r,a),[A]=Z3(f,x,p,c,o,n,r,a);if(!T&&!A&&(_=x+1),T&&A&&(j=x-1),!T&&A){y=N;break}w++}return y||m},J3=e=>{var t=kr(e)?[]:e.toString().split(p$);return[{words:t,width:void 0}]},Gge=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:o,maxLines:u}=e;if((t||r)&&!rm.isSsr){var c,p,h=h$({breakAll:o,children:n,style:a});if(h){var{wordsWithComputedWidth:f,spaceWidth:m}=h;c=f,p=m}else return J3(n);return Kge({breakAll:o,children:n,maxLines:u,style:a},c,p,t,!!r)}return J3(n)},v$="#808080",Vge={angle:0,breakAll:!1,capHeight:"0.71em",fill:v$,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},i_=v.forwardRef((e,t)=>{var r=Ir(e,Vge),{x:n,y:a,lineHeight:o,capHeight:u,fill:c,scaleToFit:p,textAnchor:h,verticalAnchor:f}=r,m=X3(r,Fge),b=v.useMemo(()=>Gge({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:p,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,p,m.style,m.width]),{dx:_,dy:j,angle:w,className:y,breakAll:x}=m,S=X3(m,qge);if(!js(n)||!js(a)||b.length===0)return null;var T=Number(n)+(Me(_)?_:0),N=Number(a)+(Me(j)?j:0);if(!bt(T)||!bt(N))return null;var A;switch(f){case"start":A=fw("calc(".concat(u,")"));break;case"middle":A=fw("calc(".concat((b.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:A=fw("calc(".concat(b.length-1," * -").concat(o,")"));break}var P=[],k=b[0];if(p&&k!=null){var R=k.width,{width:D}=m;P.push("scale(".concat(Me(D)&&Me(R)?D/R:1,")"))}return w&&P.push("rotate(".concat(w,", ").concat(T,", ").concat(N,")")),P.length&&(S.transform=P.join(" ")),v.createElement("text",oj({},zn(S),{ref:t,x:T,y:N,className:Mt("recharts-text",y),textAnchor:h,fill:c.includes("url")?v$:c}),b.map((I,q)=>{var z=I.words.join(x?"":" ");return v.createElement("tspan",{x:T,dy:q===0?A:o,key:"".concat(z,"-").concat(q)},z)}))});i_.displayName="Text";function eD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ss(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eD(Object(r),!0).forEach(function(n){Yge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yge(e,t,r){return(t=Qge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qge(e){var t=Xge(e,"string");return typeof t=="symbol"?t:t+""}function Xge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zge=e=>{var{viewBox:t,position:r,offset:n=0,parentViewBox:a}=e,{x:o,y:u,height:c,upperWidth:p,lowerWidth:h}=jC(t),f=o,m=o+(p-h)/2,b=(f+m)/2,_=(p+h)/2,j=f+p/2,w=c>=0?1:-1,y=w*n,x=w>0?"end":"start",S=w>0?"start":"end",T=p>=0?1:-1,N=T*n,A=T>0?"end":"start",P=T>0?"start":"end",k=a;if(r==="top"){var R={x:f+p/2,y:u-y,horizontalAnchor:"middle",verticalAnchor:x};return k&&(R.height=Math.max(u-k.y,0),R.width=p),R}if(r==="bottom"){var D={x:m+h/2,y:u+c+y,horizontalAnchor:"middle",verticalAnchor:S};return k&&(D.height=Math.max(k.y+k.height-(u+c),0),D.width=h),D}if(r==="left"){var I={x:b-N,y:u+c/2,horizontalAnchor:A,verticalAnchor:"middle"};return k&&(I.width=Math.max(I.x-k.x,0),I.height=c),I}if(r==="right"){var q={x:b+_+N,y:u+c/2,horizontalAnchor:P,verticalAnchor:"middle"};return k&&(q.width=Math.max(k.x+k.width-q.x,0),q.height=c),q}var z=k?{width:_,height:c}:{};return r==="insideLeft"?ss({x:b+N,y:u+c/2,horizontalAnchor:P,verticalAnchor:"middle"},z):r==="insideRight"?ss({x:b+_-N,y:u+c/2,horizontalAnchor:A,verticalAnchor:"middle"},z):r==="insideTop"?ss({x:f+p/2,y:u+y,horizontalAnchor:"middle",verticalAnchor:S},z):r==="insideBottom"?ss({x:m+h/2,y:u+c-y,horizontalAnchor:"middle",verticalAnchor:x},z):r==="insideTopLeft"?ss({x:f+N,y:u+y,horizontalAnchor:P,verticalAnchor:S},z):r==="insideTopRight"?ss({x:f+p-N,y:u+y,horizontalAnchor:A,verticalAnchor:S},z):r==="insideBottomLeft"?ss({x:m+N,y:u+c-y,horizontalAnchor:P,verticalAnchor:x},z):r==="insideBottomRight"?ss({x:m+h-N,y:u+c-y,horizontalAnchor:A,verticalAnchor:x},z):r&&typeof r=="object"&&(Me(r.x)||tu(r.x))&&(Me(r.y)||tu(r.y))?ss({x:o+Bn(r.x,_),y:u+Bn(r.y,c),horizontalAnchor:"end",verticalAnchor:"end"},z):ss({x:j,y:u+c/2,horizontalAnchor:"middle",verticalAnchor:"middle"},z)},Jge=["labelRef"],eve=["content"];function tD(e,t){if(e==null)return{};var r,n,a=tve(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tve(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function rD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ah(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rD(Object(r),!0).forEach(function(n){rve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rve(e,t,r){return(t=nve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nve(e){var t=ave(e,"string");return typeof t=="symbol"?t:t+""}function ave(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wo(){return wo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wo.apply(null,arguments)}var y$=v.createContext(null),ive=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:o,height:u,children:c}=e,p=v.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:o,height:u}),[t,r,n,a,o,u]);return v.createElement(y$.Provider,{value:p},c)},b$=()=>{var e=v.useContext(y$),t=Mb();return e||(t?jC(t):void 0)},sve=v.createContext(null),ove=()=>{var e=v.useContext(sve),t=ze(oI);return e||t},lve=e=>{var{value:t,formatter:r}=e,n=kr(e.children)?t:e.children;return typeof r=="function"?r(n):n},Bk=e=>e!=null&&typeof e=="function",cve=(e,t)=>{var r=yn(t-e),n=Math.min(Math.abs(t-e),360);return r*n},uve=(e,t,r,n,a)=>{var{offset:o,className:u}=e,{cx:c,cy:p,innerRadius:h,outerRadius:f,startAngle:m,endAngle:b,clockWise:_}=a,j=(h+f)/2,w=cve(m,b),y=w>=0?1:-1,x,S;switch(t){case"insideStart":x=m+y*o,S=_;break;case"insideEnd":x=b-y*o,S=!_;break;case"end":x=b+y*o,S=_;break;default:throw new Error("Unsupported position ".concat(t))}S=w<=0?S:!S;var T=Qr(c,p,j,x),N=Qr(c,p,j,x+(S?1:-1)*359),A="M".concat(T.x,",").concat(T.y,`
    A`).concat(j,",").concat(j,",0,1,").concat(S?0:1,`,
    `).concat(N.x,",").concat(N.y),P=kr(e.id)?yh("recharts-radial-line-"):e.id;return v.createElement("text",wo({},n,{dominantBaseline:"central",className:Mt("recharts-radial-bar-label",u)}),v.createElement("defs",null,v.createElement("path",{id:P,d:A})),v.createElement("textPath",{xlinkHref:"#".concat(P)},r))},dve=(e,t,r)=>{var{cx:n,cy:a,innerRadius:o,outerRadius:u,startAngle:c,endAngle:p}=e,h=(c+p)/2;if(r==="outside"){var{x:f,y:m}=Qr(n,a,u+t,h);return{x:f,y:m,textAnchor:f>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var b=(o+u)/2,{x:_,y:j}=Qr(n,a,b,h);return{x:_,y:j,textAnchor:"middle",verticalAnchor:"middle"}},Dv=e=>e!=null&&"cx"in e&&Me(e.cx),fve={angle:0,offset:5,zIndex:Fr.label,position:"middle",textBreakAll:!1};function pve(e){if(!Dv(e))return e;var{cx:t,cy:r,outerRadius:n}=e,a=n*2;return{x:t-n,y:r-n,width:a,upperWidth:a,lowerWidth:a,height:a}}function kl(e){var t=Ir(e,fve),{viewBox:r,parentViewBox:n,position:a,value:o,children:u,content:c,className:p="",textBreakAll:h,labelRef:f}=t,m=ove(),b=b$(),_=a==="center"?b:m??b,j,w,y;r==null?j=_:Dv(r)?j=r:j=jC(r);var x=pve(j);if(!j||kr(o)&&kr(u)&&!v.isValidElement(c)&&typeof c!="function")return null;var S=ah(ah({},t),{},{viewBox:j});if(v.isValidElement(c)){var{labelRef:T}=S,N=tD(S,Jge);return v.cloneElement(c,N)}if(typeof c=="function"){var{content:A}=S,P=tD(S,eve);if(w=v.createElement(c,P),v.isValidElement(w))return w}else w=lve(t);var k=zn(t);if(Dv(j)){if(a==="insideStart"||a==="insideEnd"||a==="end")return uve(t,a,w,k,j);y=dve(j,t.offset,t.position)}else{if(!x)return null;var R=Zge({viewBox:x,position:a,offset:t.offset,parentViewBox:Dv(n)?void 0:n});y=ah(ah({x:R.x,y:R.y,textAnchor:R.horizontalAnchor,verticalAnchor:R.verticalAnchor},R.width!==void 0?{width:R.width}:{}),R.height!==void 0?{height:R.height}:{})}return v.createElement(ta,{zIndex:t.zIndex},v.createElement(i_,wo({ref:f,className:Mt("recharts-label",p)},k,y,{textAnchor:Hge(k.textAnchor)?k.textAnchor:y.textAnchor,breakAll:h}),w))}kl.displayName="Label";var hve=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?v.createElement(kl,wo({key:"label-implicit"},n)):js(e)?v.createElement(kl,wo({key:"label-implicit",value:e},n)):v.isValidElement(e)?e.type===kl?v.cloneElement(e,ah({key:"label-implicit"},n)):v.createElement(kl,wo({key:"label-implicit",content:e},n)):Bk(e)?v.createElement(kl,wo({key:"label-implicit",content:e},n)):e&&typeof e=="object"?v.createElement(kl,wo({},e,{key:"label-implicit"},n)):null};function mve(e){var{label:t,labelRef:r}=e,n=b$();return hve(t,n,r)||null}var pw={},hw={},nD;function gve(){return nD||(nD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(hw)),hw}var mw={},aD;function vve(){return aD||(aD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(mw)),mw}var iD;function yve(){return iD||(iD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gve(),r=vve(),n=pC();function a(o){if(n.isArrayLike(o))return t.last(r.toArray(o))}e.last=a})(pw)),pw}var gw,sD;function bve(){return sD||(sD=1,gw=yve().last),gw}var _ve=bve();const xve=Ts(_ve);var wve=["valueAccessor"],Sve=["dataKey","clockWise","id","textBreakAll","zIndex"];function Hy(){return Hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hy.apply(null,arguments)}function oD(e,t){if(e==null)return{};var r,n,a=jve(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function jve(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Cve=e=>Array.isArray(e.value)?xve(e.value):e.value,_$=v.createContext(void 0),zk=_$.Provider,x$=v.createContext(void 0),kve=x$.Provider;function Nve(){return v.useContext(_$)}function Eve(){return v.useContext(x$)}function Mv(e){var{valueAccessor:t=Cve}=e,r=oD(e,wve),{dataKey:n,clockWise:a,id:o,textBreakAll:u,zIndex:c}=r,p=oD(r,Sve),h=Nve(),f=Eve(),m=h||f;return!m||!m.length?null:v.createElement(ta,{zIndex:c??Fr.label},v.createElement(Lr,{className:"recharts-label-list"},m.map((b,_)=>{var j,w=kr(n)?t(b,_):Vt(b.payload,n),y=kr(o)?{}:{id:"".concat(o,"-").concat(_)};return v.createElement(kl,Hy({key:"label-".concat(_)},zn(b),p,y,{fill:(j=r.fill)!==null&&j!==void 0?j:b.fill,parentViewBox:b.parentViewBox,value:w,textBreakAll:u,viewBox:b.viewBox,index:_,zIndex:0}))})))}Mv.displayName="LabelList";function s_(e){var{label:t}=e;return t?t===!0?v.createElement(Mv,{key:"labelList-implicit"}):v.isValidElement(t)||Bk(t)?v.createElement(Mv,{key:"labelList-implicit",content:t}):typeof t=="object"?v.createElement(Mv,Hy({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function lj(){return lj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lj.apply(null,arguments)}var w$=e=>{var{cx:t,cy:r,r:n,className:a}=e,o=Mt("recharts-dot",a);return Me(t)&&Me(r)&&Me(n)?v.createElement("circle",lj({},Jn(e),fC(e),{className:o,cx:t,cy:r,r:n})):null},S$=e=>e.graphicalItems.polarItems,Tve=ce([Er,lm],ck),o_=ce([S$,$r,Tve],uk),Pve=ce([o_],dk),l_=ce([Pve,Wb],fk),Ave=ce([l_,$r,o_],hk);ce([l_,$r,o_],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var o,u=Vt(n,(o=t.dataKey)!==null&&o!==void 0?o:a.dataKey);return{value:u,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Vt(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var lD=()=>{},Rve=ce([l_,$r,o_,e_,Er],yk),Ove=ce([$r,gk,vk,lD,Rve,lD,Rt,Er],bk),j$=ce([$r,Rt,l_,Ave,om,Er,Ove],_k),Dve=ce([j$,cf,Zl],Sk),Mve=ce([$r,j$,Dve,Er],Ck);ce([Zl,Mve],cI);var Lve={radiusAxis:{},angleAxis:{}},C$=_a({name:"polarAxis",initialState:Lve,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:c6e,removeRadiusAxis:u6e,addAngleAxis:d6e,removeAngleAxis:f6e}=C$.actions,Ive=C$.reducer;function k$(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}function cD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cD(Object(r),!0).forEach(function(n){$ve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $ve(e,t,r){return(t=Bve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bve(e){var t=zve(e,"string");return typeof t=="symbol"?t:t+""}function zve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fve=(e,t)=>t,Fk=ce([S$,Fve],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),qve=[],qk=(e,t,r)=>(r==null?void 0:r.length)===0?qve:r,N$=ce([Wb,Fk,qk],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(o=>uD(uD({},t.presentationProps),o.props))),a!=null)return a}}),Uve=ce([N$,Fk,qk],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var o,u=Vt(n,t.nameKey,t.name),c;return r!=null&&(o=r[a])!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.fill?c=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?c=n.fill:c=t.fill,{value:Vl(u,t.dataKey),color:c,payload:n,type:t.legendType}})}),Hve=ce([N$,Fk,qk,an],(e,t,r,n)=>{if(!(t==null||e==null))return Wye({offset:n,pieSettings:t,displayedData:e,cells:r})}),vw={exports:{}},ir={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dD;function Wve(){if(dD)return ir;dD=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),_=Symbol.for("react.client.reference");function j(w){if(typeof w=="object"&&w!==null){var y=w.$$typeof;switch(y){case e:switch(w=w.type,w){case r:case a:case n:case p:case h:case b:return w;default:switch(w=w&&w.$$typeof,w){case u:case c:case m:case f:return w;case o:return w;default:return y}}case t:return y}}}return ir.ContextConsumer=o,ir.ContextProvider=u,ir.Element=e,ir.ForwardRef=c,ir.Fragment=r,ir.Lazy=m,ir.Memo=f,ir.Portal=t,ir.Profiler=a,ir.StrictMode=n,ir.Suspense=p,ir.SuspenseList=h,ir.isContextConsumer=function(w){return j(w)===o},ir.isContextProvider=function(w){return j(w)===u},ir.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===e},ir.isForwardRef=function(w){return j(w)===c},ir.isFragment=function(w){return j(w)===r},ir.isLazy=function(w){return j(w)===m},ir.isMemo=function(w){return j(w)===f},ir.isPortal=function(w){return j(w)===t},ir.isProfiler=function(w){return j(w)===a},ir.isStrictMode=function(w){return j(w)===n},ir.isSuspense=function(w){return j(w)===p},ir.isSuspenseList=function(w){return j(w)===h},ir.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===r||w===a||w===n||w===p||w===h||typeof w=="object"&&w!==null&&(w.$$typeof===m||w.$$typeof===f||w.$$typeof===u||w.$$typeof===o||w.$$typeof===c||w.$$typeof===_||w.getModuleId!==void 0)},ir.typeOf=j,ir}var fD;function Kve(){return fD||(fD=1,vw.exports=Wve()),vw.exports}var Gve=Kve(),pD=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",hD=null,yw=null,E$=e=>{if(e===hD&&Array.isArray(yw))return yw;var t=[];return v.Children.forEach(e,r=>{kr(r)||(Gve.isFragment(r)?t=t.concat(E$(r.props.children)):t.push(r))}),yw=t,hD=e,t};function Uk(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>pD(a)):n=[pD(t)],E$(e).forEach(a=>{var o=eu(a,"type.displayName")||eu(a,"type.name");o&&n.indexOf(o)!==-1&&r.push(a)}),r}var Hk=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,bw={},mD;function Vve(){return mD||(mD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const o=r[Symbol.toStringTag];return o==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${o}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(bw)),bw}var _w,gD;function Yve(){return gD||(gD=1,_w=Vve().isPlainObject),_w}var Qve=Yve();const Xve=Ts(Qve);var vD,yD,bD,_D,xD;function wD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function SD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wD(Object(r),!0).forEach(function(n){Zve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zve(e,t,r){return(t=Jve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jve(e){var t=eye(e,"string");return typeof t=="symbol"?t:t+""}function eye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wy(){return Wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wy.apply(null,arguments)}function Sp(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var jD=(e,t,r,n,a)=>{var o=r-n,u;return u=Dr(vD||(vD=Sp(["M ",",",""])),e,t),u+=Dr(yD||(yD=Sp(["L ",",",""])),e+r,t),u+=Dr(bD||(bD=Sp(["L ",",",""])),e+r-o/2,t+a),u+=Dr(_D||(_D=Sp(["L ",",",""])),e+r-o/2-n,t+a),u+=Dr(xD||(xD=Sp(["L ",","," Z"])),e,t),u},tye={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},rye=e=>{var t=Ir(e,tye),{x:r,y:n,upperWidth:a,lowerWidth:o,height:u,className:c}=t,{animationEasing:p,animationDuration:h,animationBegin:f,isUpdateAnimationActive:m}=t,b=v.useRef(null),[_,j]=v.useState(-1),w=v.useRef(a),y=v.useRef(o),x=v.useRef(u),S=v.useRef(r),T=v.useRef(n),N=nf(e,"trapezoid-");if(v.useEffect(()=>{if(b.current&&b.current.getTotalLength)try{var F=b.current.getTotalLength();F&&j(F)}catch{}},[]),r!==+r||n!==+n||a!==+a||o!==+o||u!==+u||a===0&&o===0||u===0)return null;var A=Mt("recharts-trapezoid",c);if(!m)return v.createElement("g",null,v.createElement("path",Wy({},zn(t),{className:A,d:jD(r,n,a,o,u)})));var P=w.current,k=y.current,R=x.current,D=S.current,I=T.current,q="0px ".concat(_===-1?1:_,"px"),z="".concat(_,"px 0px"),M=Z5(["strokeDasharray"],h,p);return v.createElement(rf,{animationId:N,key:N,canBegin:_>0,duration:h,easing:p,isActive:m,begin:f},F=>{var B=Gt(P,a,F),O=Gt(k,o,F),$=Gt(R,u,F),K=Gt(D,r,F),V=Gt(I,n,F);b.current&&(w.current=B,y.current=O,x.current=$,S.current=K,T.current=V);var Q=F>0?{transition:M,strokeDasharray:z}:{strokeDasharray:q};return v.createElement("path",Wy({},zn(t),{className:A,d:jD(K,V,B,O,$),ref:b,style:SD(SD({},Q),t.style)}))})},nye=["option","shapeType","activeClassName"];function aye(e,t){if(e==null)return{};var r,n,a=iye(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function iye(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function CD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ky(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CD(Object(r),!0).forEach(function(n){sye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sye(e,t,r){return(t=oye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oye(e){var t=lye(e,"string");return typeof t=="symbol"?t:t+""}function lye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cye(e,t){return Ky(Ky({},t),e)}function uye(e,t){return e==="symbols"}function kD(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return v.createElement(r8,r);case"trapezoid":return v.createElement(rye,r);case"sector":return v.createElement(s8,r);case"symbols":if(uye(t))return v.createElement(dC,r);break;case"curve":return v.createElement(wd,r);default:return null}}function dye(e){return v.isValidElement(e)?e.props:e}function Wk(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,a=aye(e,nye),o;if(v.isValidElement(t))o=v.cloneElement(t,Ky(Ky({},a),dye(t)));else if(typeof t=="function")o=t(a,a.index);else if(Xve(t)&&typeof t!="boolean"){var u=cye(t,a);o=v.createElement(kD,{shapeType:r,elementProps:u})}else{var c=a;o=v.createElement(kD,{shapeType:r,elementProps:c})}return a.isActive?v.createElement(Lr,{className:n},o):o}var Kk=(e,t,r)=>{var n=hr();return(a,o)=>u=>{e==null||e(a,o,u),n(BI({activeIndex:String(o),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},Gk=e=>{var t=hr();return(r,n)=>a=>{e==null||e(r,n,a),t(hhe())}},Vk=(e,t,r)=>{var n=hr();return(a,o)=>u=>{e==null||e(a,o,u),n(mhe({activeIndex:String(o),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function c_(e){var{tooltipEntrySettings:t}=e,r=hr(),n=bn(),a=v.useRef(null);return v.useLayoutEffect(()=>{n||(a.current===null?r(uhe(t)):a.current!==t&&r(dhe({prev:a.current,next:t})),a.current=t)},[t,r,n]),v.useLayoutEffect(()=>()=>{a.current&&(r(fhe(a.current)),a.current=null)},[r]),null}function Yk(e){var{legendPayload:t}=e,r=hr(),n=bn(),a=v.useRef(null);return v.useLayoutEffect(()=>{n||(a.current===null?r(V5(t)):a.current!==t&&r(Y5({prev:a.current,next:t})),a.current=t)},[r,n,t]),v.useLayoutEffect(()=>()=>{a.current&&(r(Q5(a.current)),a.current=null)},[r]),null}function fye(e){var{legendPayload:t}=e,r=hr(),n=ze(Rt),a=v.useRef(null);return v.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(a.current===null?r(V5(t)):a.current!==t&&r(Y5({prev:a.current,next:t})),a.current=t)},[r,n,t]),v.useLayoutEffect(()=>()=>{a.current&&(r(Q5(a.current)),a.current=null)},[r]),null}var xw,pye=()=>{var[e]=v.useState(()=>yh("uid-"));return e},hye=(xw=xj.useId)!==null&&xw!==void 0?xw:pye;function mye(e,t){var r=hye();return t||(e?"".concat(e,"-").concat(r):r)}var gye=v.createContext(void 0),u_=e=>{var{id:t,type:r,children:n}=e,a=mye("recharts-".concat(r),t);return v.createElement(gye.Provider,{value:a},n(a))},vye={cartesianItems:[],polarItems:[]},T$=_a({name:"graphicalItems",initialState:vye,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Sr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=zi(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:Sr()},removeCartesianGraphicalItem:{reducer(e,t){var r=zi(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Sr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Sr()},removePolarGraphicalItem:{reducer(e,t){var r=zi(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Sr()}}}),{addCartesianGraphicalItem:yye,replaceCartesianGraphicalItem:bye,removeCartesianGraphicalItem:_ye,addPolarGraphicalItem:xye,removePolarGraphicalItem:wye}=T$.actions,Sye=T$.reducer,jye=e=>{var t=hr(),r=v.useRef(null);return v.useLayoutEffect(()=>{r.current===null?t(yye(e)):r.current!==e&&t(bye({prev:r.current,next:e})),r.current=e},[t,e]),v.useLayoutEffect(()=>()=>{r.current&&(t(_ye(r.current)),r.current=null)},[t]),null},Qk=v.memo(jye);function Cye(e){var t=hr();return v.useLayoutEffect(()=>(t(xye(e)),()=>{t(wye(e))}),[t,e]),null}var kye=["key"],Nye=["onMouseEnter","onClick","onMouseLeave"],Eye=["id"],Tye=["id"];function ND(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ND(Object(r),!0).forEach(function(n){Pye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ND(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pye(e,t,r){return(t=Aye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Aye(e){var t=Rye(e,"string");return typeof t=="symbol"?t:t+""}function Rye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hl(){return Hl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hl.apply(null,arguments)}function d_(e,t){if(e==null)return{};var r,n,a=Oye(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Oye(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Dye(e){var t=v.useMemo(()=>Uk(e.children,mm),[e.children]),r=ze(n=>Uve(n,e.id,t));return r==null?null:v.createElement(fye,{legendPayload:r})}var Mye=v.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:o,fill:u,name:c,hide:p,tooltipType:h,id:f}=e,m={dataDefinedOnItem:n.map(b=>b.tooltipPayload),getPosition:b=>{var _;return(_=n[Number(b)])===null||_===void 0?void 0:_.tooltipPosition},settings:{stroke:a,strokeWidth:o,fill:u,dataKey:t,nameKey:r,name:Vl(c,t),hide:p,type:h,color:u,unit:"",graphicalItemId:f}};return v.createElement(c_,{tooltipEntrySettings:m})}),Lye=(e,t)=>e>t?"start":e<t?"end":"middle",Iye=(e,t,r)=>Bn(typeof t=="function"?t(e):t,r,r*.8),$ye=(e,t,r)=>{var{top:n,left:a,width:o,height:u}=t,c=n8(o,u),p=a+Bn(e.cx,o,o/2),h=n+Bn(e.cy,u,u/2),f=Bn(e.innerRadius,c,0),m=Iye(r,e.outerRadius,c),b=e.maxRadius||Math.sqrt(o*o+u*u)/2;return{cx:p,cy:h,innerRadius:f,outerRadius:m,maxRadius:b}},Bye=(e,t)=>{var r=yn(t-e),n=Math.min(Math.abs(t-e),360);return r*n},zye=(e,t)=>{if(v.isValidElement(e))return v.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Mt("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,a=d_(t,kye);return v.createElement(wd,Hl({},a,{type:"linear",className:r}))},Fye=(e,t,r)=>{if(v.isValidElement(e))return v.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),v.isValidElement(n)))return n;var a=Mt("recharts-pie-label-text",k$(e));return v.createElement(i_,Hl({},t,{alignmentBaseline:"middle",className:a}),n)};function qye(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:o,dataKey:u}=r;if(!n||!a||!t)return null;var c=Jn(r),p=Zc(a),h=Zc(o),f=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,m=t.map((b,_)=>{var j=(b.startAngle+b.endAngle)/2,w=Qr(b.cx,b.cy,b.outerRadius+f,j),y=Mr(Mr(Mr(Mr({},c),b),{},{stroke:"none"},p),{},{index:_,textAnchor:Lye(w.x,b.cx)},w),x=Mr(Mr(Mr(Mr({},c),b),{},{fill:"none",stroke:b.fill},h),{},{index:_,points:[Qr(b.cx,b.cy,b.outerRadius,j),w],key:"line"});return v.createElement(ta,{zIndex:Fr.label,key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(_)},v.createElement(Lr,null,o&&zye(o,x),Fye(a,y,Vt(b,u))))});return v.createElement(Lr,{className:"recharts-pie-labels"},m)}function Uye(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?v.createElement(s_,{label:a}):v.createElement(qye,{sectors:t,props:r,showLabels:n})}function Hye(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a,shape:o,id:u}=e,c=ze(Ul),p=ze(Dk),h=ze(eme),{onMouseEnter:f,onClick:m,onMouseLeave:b}=a,_=d_(a,Nye),j=Kk(f,a.dataKey,u),w=Gk(b),y=Vk(m,a.dataKey,u);return t==null||t.length===0?null:v.createElement(v.Fragment,null,t.map((x,S)=>{if((x==null?void 0:x.startAngle)===0&&(x==null?void 0:x.endAngle)===0&&t.length!==1)return null;var T=h==null||h===u,N=String(S)===c&&(p==null||a.dataKey===p)&&T,A=c?n:null,P=r&&N?r:A,k=Mr(Mr({},x),{},{stroke:x.stroke,tabIndex:-1,[D5]:S,[M5]:u});return v.createElement(Lr,Hl({key:"sector-".concat(x==null?void 0:x.startAngle,"-").concat(x==null?void 0:x.endAngle,"-").concat(x.midAngle,"-").concat(S),tabIndex:-1,className:"recharts-pie-sector"},Qh(_,x,S),{onMouseEnter:j(x,S),onMouseLeave:w(x,S),onClick:y(x,S)}),v.createElement(Wk,Hl({option:o??P,index:S,shapeType:"sector",isActive:N},k)))}))}function Wye(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:o}=e,{cornerRadius:u,startAngle:c,endAngle:p,dataKey:h,nameKey:f,tooltipType:m}=r,b=Math.abs(r.minAngle),_=Bye(c,p),j=Math.abs(_),w=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,y=n.filter(P=>Vt(P,h,0)!==0).length,x=(j>=360?y:y-1)*w,S=j-y*b-x,T=n.reduce((P,k)=>{var R=Vt(k,h,0);return P+(Me(R)?R:0)},0),N;if(T>0){var A;N=n.map((P,k)=>{var R=Vt(P,h,0),D=Vt(P,f,k),I=$ye(r,o,P),q=(Me(R)?R:0)/T,z,M=Mr(Mr({},P),a&&a[k]&&a[k].props);k?z=A.endAngle+yn(_)*w*(R!==0?1:0):z=c;var F=z+yn(_)*((R!==0?b:0)+q*S),B=(z+F)/2,O=(I.innerRadius+I.outerRadius)/2,$=[{name:D,value:R,payload:M,dataKey:h,type:m,graphicalItemId:r.id}],K=Qr(I.cx,I.cy,O,B);return A=Mr(Mr(Mr(Mr({},r.presentationProps),{},{percent:q,cornerRadius:typeof u=="string"?parseFloat(u):u,name:D,tooltipPayload:$,midAngle:B,middleRadius:O,tooltipPosition:K},M),I),{},{value:R,dataKey:h,startAngle:z,endAngle:F,payload:M,paddingAngle:yn(_)*w}),A})}return N}function Kye(e){var{showLabels:t,sectors:r,children:n}=e,a=v.useMemo(()=>!t||!r?[]:r.map(o=>({value:o.value,payload:o.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:o.cx,cy:o.cy,innerRadius:o.innerRadius,outerRadius:o.outerRadius,startAngle:o.startAngle,endAngle:o.endAngle,clockWise:!1},fill:o.fill})),[r,t]);return v.createElement(kve,{value:t?a:void 0},n)}function Gye(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:a,isAnimationActive:o,animationBegin:u,animationDuration:c,animationEasing:p,activeShape:h,inactiveShape:f,onAnimationStart:m,onAnimationEnd:b}=t,_=nf(t,"recharts-pie-"),j=r.current,[w,y]=v.useState(!1),x=v.useCallback(()=>{typeof b=="function"&&b(),y(!1)},[b]),S=v.useCallback(()=>{typeof m=="function"&&m(),y(!0)},[m]);return v.createElement(Kye,{showLabels:!w,sectors:a},v.createElement(rf,{animationId:_,begin:u,duration:c,isActive:o,easing:p,onAnimationStart:S,onAnimationEnd:x,key:_},T=>{var N,A=[],P=a&&a[0],k=(N=P==null?void 0:P.startAngle)!==null&&N!==void 0?N:0;return a==null||a.forEach((R,D)=>{var I=j&&j[D],q=D>0?eu(R,"paddingAngle",0):0;if(I){var z=Gt(I.endAngle-I.startAngle,R.endAngle-R.startAngle,T),M=Mr(Mr({},R),{},{startAngle:k+q,endAngle:k+z+q});A.push(M),k=M.endAngle}else{var{endAngle:F,startAngle:B}=R,O=Gt(0,F-B,T),$=Mr(Mr({},R),{},{startAngle:k+q,endAngle:k+O+q});A.push($),k=$.endAngle}}),r.current=A,v.createElement(Lr,null,v.createElement(Hye,{sectors:A,activeShape:h,inactiveShape:f,allOtherPieProps:t,shape:t.shape,id:n}))}),v.createElement(Uye,{showLabels:!w,sectors:a,props:t}),t.children)}var Vye={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Fr.area};function Yye(e){var{id:t}=e,r=d_(e,Eye),{hide:n,className:a,rootTabIndex:o}=e,u=v.useMemo(()=>Uk(e.children,mm),[e.children]),c=ze(f=>Hve(f,t,u)),p=v.useRef(null),h=Mt("recharts-pie",a);return n||c==null?(p.current=null,v.createElement(Lr,{tabIndex:o,className:h})):v.createElement(ta,{zIndex:e.zIndex},v.createElement(Mye,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:c,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),v.createElement(Lr,{tabIndex:o,className:h},v.createElement(Gye,{props:Mr(Mr({},r),{},{sectors:c}),previousSectorsRef:p,id:t})))}function P$(e){var t=Ir(e,Vye),{id:r}=t,n=d_(t,Tye),a=Jn(n);return v.createElement(u_,{id:r,type:"pie"},o=>v.createElement(v.Fragment,null,v.createElement(Cye,{type:"pie",id:o,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),v.createElement(Dye,Hl({},n,{id:o})),v.createElement(Yye,Hl({},n,{id:o}))))}P$.displayName="Pie";var Qye=["points"];function ED(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ww(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ED(Object(r),!0).forEach(function(n){Xye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ED(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xye(e,t,r){return(t=Zye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zye(e){var t=Jye(e,"string");return typeof t=="symbol"?t:t+""}function Jye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gy(){return Gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gy.apply(null,arguments)}function ebe(e,t){if(e==null)return{};var r,n,a=tbe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tbe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function rbe(e){var{option:t,dotProps:r,className:n}=e;if(v.isValidElement(t))return v.cloneElement(t,r);if(typeof t=="function")return t(r);var a=Mt(n,typeof t!="boolean"?t.className:""),o=r??{},{points:u}=o,c=ebe(o,Qye);return v.createElement(w$,Gy({},c,{className:a}))}function nbe(e,t){return e==null?!1:t?!0:e.length===1}function A$(e){var{points:t,dot:r,className:n,dotClassName:a,dataKey:o,baseProps:u,needClip:c,clipPathId:p,zIndex:h=Fr.scatter}=e;if(!nbe(t,r))return null;var f=Hk(r),m=_ae(r),b=t.map((j,w)=>{var y,x,S=ww(ww(ww({r:3},u),m),{},{index:w,cx:(y=j.x)!==null&&y!==void 0?y:void 0,cy:(x=j.y)!==null&&x!==void 0?x:void 0,dataKey:o,value:j.value,payload:j.payload,points:t});return v.createElement(rbe,{key:"dot-".concat(w),option:r,dotProps:S,className:a})}),_={};return c&&p!=null&&(_.clipPath="url(#clipPath-".concat(f?"":"dots-").concat(p,")")),v.createElement(ta,{zIndex:h},v.createElement(Lr,Gy({className:n},_),b))}function TD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TD(Object(r),!0).forEach(function(n){abe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function abe(e,t,r){return(t=ibe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ibe(e){var t=sbe(e,"string");return typeof t=="symbol"?t:t+""}function sbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var R$=0,obe={xAxis:{},yAxis:{},zAxis:{}},O$=_a({name:"cartesianAxis",initialState:obe,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Sr()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Sr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Sr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Sr()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Sr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Sr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Sr()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Sr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Sr()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var o,u=a.widthHistory||[];if(u.length===3&&u[0]===u[2]&&n===u[1]&&n!==a.width&&Math.abs(n-((o=u[0])!==null&&o!==void 0?o:0))<=1)return;var c=[...u,n].slice(-3);e.yAxis[r]=PD(PD({},a),{},{width:n,widthHistory:c})}}}}),{addXAxis:lbe,replaceXAxis:cbe,removeXAxis:ube,addYAxis:dbe,replaceYAxis:fbe,removeYAxis:pbe,addZAxis:p6e,replaceZAxis:h6e,removeZAxis:m6e,updateYAxisWidth:hbe}=O$.actions,mbe=O$.reducer,gbe=ce([an],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),vbe=ce([gbe,$o,Bo],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),f_=()=>ze(vbe),ybe=()=>ze(ime);function AD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AD(Object(r),!0).forEach(function(n){bbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bbe(e,t,r){return(t=_be(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _be(e){var t=xbe(e,"string");return typeof t=="symbol"?t:t+""}function xbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wbe=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:o,clipPath:u}=e;if(a===!1||t.x==null||t.y==null)return null;var c={index:r,dataKey:o,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},p=Sw(Sw(Sw({},c),Zc(a)),fC(a)),h;return v.isValidElement(a)?h=v.cloneElement(a,p):typeof a=="function"?h=a(p):h=v.createElement(w$,p),v.createElement(Lr,{className:"recharts-active-dot",clipPath:u},h)};function cj(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a,clipPath:o,zIndex:u=Fr.activeDot}=e,c=ze(Ul),p=ybe();if(t==null||p==null)return null;var h=t.find(f=>p.includes(f.payload));return kr(h)?null:v.createElement(ta,{zIndex:u},v.createElement(wbe,{point:h,childIndex:Number(c),mainColor:r,dataKey:a,activeDot:n,clipPath:o}))}var RD=(e,t,r)=>{var n=r??e;if(!kr(n))return Bn(n,t,0)},Sbe=(e,t,r)=>{var n={},a=e.filter(Qb),o=e.filter(h=>h.stackId==null),u=a.reduce((h,f)=>{var m=h[f.stackId];return m==null&&(m=[]),m.push(f),h[f.stackId]=m,h},n),c=Object.entries(u).map(h=>{var f,[m,b]=h,_=b.map(w=>w.dataKey),j=RD(t,r,(f=b[0])===null||f===void 0?void 0:f.barSize);return{stackId:m,dataKeys:_,barSize:j}}),p=o.map(h=>{var f=[h.dataKey].filter(b=>b!=null),m=RD(t,r,h.barSize);return{stackId:void 0,dataKeys:f,barSize:m}});return[...c,...p]};function OD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OD(Object(r),!0).forEach(function(n){jbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jbe(e,t,r){return(t=Cbe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cbe(e){var t=kbe(e,"string");return typeof t=="symbol"?t:t+""}function kbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nbe(e,t,r,n,a){var o,u=n.length;if(!(u<1)){var c=Bn(e,r,0,!0),p,h=[];if(bt((o=n[0])===null||o===void 0?void 0:o.barSize)){var f=!1,m=r/u,b=n.reduce((S,T)=>S+(T.barSize||0),0);b+=(u-1)*c,b>=r&&(b-=(u-1)*c,c=0),b>=r&&m>0&&(f=!0,m*=.9,b=u*m);var _=(r-b)/2>>0,j={offset:_-c,size:0};p=n.reduce((S,T)=>{var N,A={stackId:T.stackId,dataKeys:T.dataKeys,position:{offset:j.offset+j.size+c,size:f?m:(N=T.barSize)!==null&&N!==void 0?N:0}},P=[...S,A];return j=A.position,P},h)}else{var w=Bn(t,r,0,!0);r-2*w-(u-1)*c<=0&&(c=0);var y=(r-2*w-(u-1)*c)/u;y>1&&(y>>=0);var x=bt(a)?Math.min(y,a):y;p=n.reduce((S,T,N)=>[...S,{stackId:T.stackId,dataKeys:T.dataKeys,position:{offset:w+(y+c)*N+(y-x)/2,size:x}}],h)}return p}}var Ebe=(e,t,r,n,a,o,u)=>{var c=kr(u)?t:u,p=Nbe(r,n,a!==o?a:o,e,c);return a!==o&&p!=null&&(p=p.map(h=>cv(cv({},h),{},{position:cv(cv({},h.position),{},{offset:h.position.offset-a/2})}))),p},Tbe=(e,t)=>{var r=Yb(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:o}=a;if(o)return o.find(u=>u.key===r)}}}},Pbe=(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}};function Abe(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&bt(e.zIndex)?e.zIndex:t}var D$=e=>{var{chartData:t}=e,r=hr(),n=bn();return v.useEffect(()=>n?()=>{}:(r(B3(t)),()=>{r(B3(void 0))}),[t,r,n]),null},DD={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},M$=_a({name:"brush",initialState:DD,reducers:{setBrushSettings(e,t){return t.payload==null?DD:t.payload}}}),{setBrushSettings:g6e}=M$.actions,Rbe=M$.reducer;function Obe(e){return(e%180+180)%180}var Dbe=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Obe(a),u=o*Math.PI/180,c=Math.atan(n/r),p=u>c&&u<Math.PI-c?n/Math.sin(u):r/Math.cos(u);return Math.abs(p)},Mbe={dots:[],areas:[],lines:[]},L$=_a({name:"referenceElements",initialState:Mbe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=zi(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=zi(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=zi(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:v6e,removeDot:y6e,addArea:b6e,removeArea:_6e,addLine:x6e,removeLine:w6e}=L$.actions,Lbe=L$.reducer,Ibe=v.createContext(void 0),$be=e=>{var{children:t}=e,[r]=v.useState("".concat(yh("recharts"),"-clip")),n=f_();if(n==null)return null;var{x:a,y:o,width:u,height:c}=n;return v.createElement(Ibe.Provider,{value:r},v.createElement("defs",null,v.createElement("clipPath",{id:r},v.createElement("rect",{x:a,y:o,height:c,width:u}))),t)};function I$(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var a=e[n];a!==void 0&&r.push(a)}return r}function Bbe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Dbe(n,r)}function zbe(e,t,r){var n=r==="width",{x:a,y:o,width:u,height:c}=e;return t===1?{start:n?a:o,end:n?a+u:o+c}:{start:n?a+u:o+c,end:n?a:o}}function Rh(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var o=r();return e*(t-e*o/2-n)>=0&&e*(t+e*o/2-a)<=0}function Fbe(e,t){return I$(e,t+1)}function qbe(e,t,r,n,a){for(var o=(n||[]).slice(),{start:u,end:c}=t,p=0,h=1,f=u,m=function(){var j=n==null?void 0:n[p];if(j===void 0)return{v:I$(n,h)};var w=p,y,x=()=>(y===void 0&&(y=r(j,w)),y),S=j.coordinate,T=p===0||Rh(e,S,x,f,c);T||(p=0,f=u,h+=1),T&&(f=S+e*(x()/2+a),p+=h)},b;h<=o.length;)if(b=m(),b)return b.v;return[]}function Ube(e,t,r,n,a){var o=(n||[]).slice(),u=o.length;if(u===0)return[];for(var{start:c,end:p}=t,h=1;h<=u;h++){for(var f=(u-1)%h,m=c,b=!0,_=function(){var N=n[w];if(N==null)return 0;var A=w,P,k=()=>(P===void 0&&(P=r(N,A)),P),R=N.coordinate,D=w===f||Rh(e,R,k,m,p);if(!D)return b=!1,1;D&&(m=R+e*(k()/2+a))},j,w=f;w<u&&(j=_(),!(j!==0&&j===1));w+=h);if(b){for(var y=[],x=f;x<u;x+=h){var S=n[x];S!=null&&y.push(S)}return y}}return[]}function MD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function In(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MD(Object(r),!0).forEach(function(n){Hbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hbe(e,t,r){return(t=Wbe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wbe(e){var t=Kbe(e,"string");return typeof t=="symbol"?t:t+""}function Kbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gbe(e,t,r,n,a){for(var o=(n||[]).slice(),u=o.length,{start:c}=t,{end:p}=t,h=function(b){var _=o[b];if(_==null)return 1;var j=_,w,y=()=>(w===void 0&&(w=r(_,b)),w);if(b===u-1){var x=e*(j.coordinate+e*y()/2-p);o[b]=j=In(In({},j),{},{tickCoord:x>0?j.coordinate-x*e:j.coordinate})}else o[b]=j=In(In({},j),{},{tickCoord:j.coordinate});if(j.tickCoord!=null){var S=Rh(e,j.tickCoord,y,c,p);S&&(p=j.tickCoord-e*(y()/2+a),o[b]=In(In({},j),{},{isShow:!0}))}},f=u-1;f>=0;f--)h(f);return o}function Vbe(e,t,r,n,a,o){var u=(n||[]).slice(),c=u.length,{start:p,end:h}=t;if(o){var f=n[c-1];if(f!=null){var m=r(f,c-1),b=e*(f.coordinate+e*m/2-h);if(u[c-1]=f=In(In({},f),{},{tickCoord:b>0?f.coordinate-b*e:f.coordinate}),f.tickCoord!=null){var _=Rh(e,f.tickCoord,()=>m,p,h);_&&(h=f.tickCoord-e*(m/2+a),u[c-1]=In(In({},f),{},{isShow:!0}))}}}for(var j=o?c-1:c,w=function(S){var T=u[S];if(T==null)return 1;var N=T,A,P=()=>(A===void 0&&(A=r(T,S)),A);if(S===0){var k=e*(N.coordinate-e*P()/2-p);u[S]=N=In(In({},N),{},{tickCoord:k<0?N.coordinate-k*e:N.coordinate})}else u[S]=N=In(In({},N),{},{tickCoord:N.coordinate});if(N.tickCoord!=null){var R=Rh(e,N.tickCoord,P,p,h);R&&(p=N.tickCoord+e*(P()/2+a),u[S]=In(In({},N),{},{isShow:!0}))}},y=0;y<j;y++)w(y);return u}function Xk(e,t,r){var{tick:n,ticks:a,viewBox:o,minTickGap:u,orientation:c,interval:p,tickFormatter:h,unit:f,angle:m}=e;if(!a||!a.length||!n)return[];if(Me(p)||rm.isSsr){var b;return(b=Fbe(a,Me(p)?p:0))!==null&&b!==void 0?b:[]}var _=[],j=c==="top"||c==="bottom"?"width":"height",w=f&&j==="width"?ch(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=(A,P)=>{var k=typeof h=="function"?h(A.value,P):A.value;return j==="width"?Bbe(ch(k,{fontSize:t,letterSpacing:r}),w,m):ch(k,{fontSize:t,letterSpacing:r})[j]},x=a[0],S=a[1],T=a.length>=2&&x!=null&&S!=null?yn(S.coordinate-x.coordinate):1,N=zbe(o,T,j);return p==="equidistantPreserveStart"?qbe(T,N,y,a,u):p==="equidistantPreserveEnd"?Ube(T,N,y,a,u):(p==="preserveStart"||p==="preserveStartEnd"?_=Vbe(T,N,y,a,u,p==="preserveStartEnd"):_=Gbe(T,N,y,a,u),_.filter(A=>A.isShow))}var Ybe=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:o=0}=e,u=0;if(t){Array.from(t).forEach(f=>{if(f){var m=f.getBoundingClientRect();m.width>u&&(u=m.width)}});var c=r?r.getBoundingClientRect().width:0,p=a+o,h=u+p+c+(r?n:0);return Math.round(h)}return 0},Qbe=["axisLine","width","height","className","hide","ticks","axisType"];function Xbe(e,t){if(e==null)return{};var r,n,a=Zbe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Zbe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function su(){return su=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},su.apply(null,arguments)}function LD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Or(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LD(Object(r),!0).forEach(function(n){Jbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jbe(e,t,r){return(t=e_e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e_e(e){var t=t_e(e,"string");return typeof t=="symbol"?t:t+""}function t_e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var No={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Fr.axis};function r_e(e){var{x:t,y:r,width:n,height:a,orientation:o,mirror:u,axisLine:c,otherSvgProps:p}=e;if(!c)return null;var h=Or(Or(Or({},p),Jn(c)),{},{fill:"none"});if(o==="top"||o==="bottom"){var f=+(o==="top"&&!u||o==="bottom"&&u);h=Or(Or({},h),{},{x1:t,y1:r+f*a,x2:t+n,y2:r+f*a})}else{var m=+(o==="left"&&!u||o==="right"&&u);h=Or(Or({},h),{},{x1:t+m*n,y1:r,x2:t+m*n,y2:r+a})}return v.createElement("line",su({},h,{className:Mt("recharts-cartesian-axis-line",eu(c,"className"))}))}function n_e(e,t,r,n,a,o,u,c,p){var h,f,m,b,_,j,w=c?-1:1,y=e.tickSize||u,x=Me(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":h=f=e.coordinate,b=r+ +!c*a,m=b-w*y,j=m-w*p,_=x;break;case"left":m=b=e.coordinate,f=t+ +!c*n,h=f-w*y,_=h-w*p,j=x;break;case"right":m=b=e.coordinate,f=t+ +c*n,h=f+w*y,_=h+w*p,j=x;break;default:h=f=e.coordinate,b=r+ +c*a,m=b+w*y,j=m+w*p,_=x;break}return{line:{x1:h,y1:m,x2:f,y2:b},tick:{x:_,y:j}}}function a_e(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function i_e(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function s_e(e){var{option:t,tickProps:r,value:n}=e,a,o=Mt(r.className,"recharts-cartesian-axis-tick-value");if(v.isValidElement(t))a=v.cloneElement(t,Or(Or({},r),{},{className:o}));else if(typeof t=="function")a=t(Or(Or({},r),{},{className:o}));else{var u="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(u=Mt(u,k$(t))),a=v.createElement(i_,su({},r,{className:u}),n)}return a}var o_e=v.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:o,tickFormatter:u,unit:c,padding:p,tickTextProps:h,orientation:f,mirror:m,x:b,y:_,width:j,height:w,tickSize:y,tickMargin:x,fontSize:S,letterSpacing:T,getTicksConfig:N,events:A,axisType:P}=e,k=Xk(Or(Or({},N),{},{ticks:r}),S,T),R=a_e(f,m),D=i_e(f,m),I=Jn(N),q=Zc(n),z={};typeof a=="object"&&(z=a);var M=Or(Or({},I),{},{fill:"none"},z),F=k.map($=>Or({entry:$},n_e($,b,_,j,w,f,y,m,x))),B=F.map($=>{var{entry:K,line:V}=$;return v.createElement(Lr,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(K.value,"-").concat(K.coordinate,"-").concat(K.tickCoord)},a&&v.createElement("line",su({},M,V,{className:Mt("recharts-cartesian-axis-tick-line",eu(a,"className"))})))}),O=F.map(($,K)=>{var V,Q,{entry:U,tick:X}=$,ee=Or(Or(Or(Or({verticalAnchor:D},I),{},{textAnchor:R,stroke:"none",fill:o},X),{},{index:K,payload:U,visibleTicksCount:k.length,tickFormatter:u,padding:p},h),{},{angle:(V=(Q=h==null?void 0:h.angle)!==null&&Q!==void 0?Q:I.angle)!==null&&V!==void 0?V:0}),te=Or(Or({},ee),q);return v.createElement(Lr,su({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(U.value,"-").concat(U.coordinate,"-").concat(U.tickCoord)},Qh(A,U,K)),n&&v.createElement(s_e,{option:n,tickProps:te,value:"".concat(typeof u=="function"?u(U.value,K):U.value).concat(c||"")}))});return v.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(P,"-ticks")},O.length>0&&v.createElement(ta,{zIndex:Fr.label},v.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(P,"-tick-labels"),ref:t},O)),B.length>0&&v.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(P,"-tick-lines")},B))}),l_e=v.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:o,hide:u,ticks:c,axisType:p}=e,h=Xbe(e,Qbe),[f,m]=v.useState(""),[b,_]=v.useState(""),j=v.useRef(null);v.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var y;return Ybe({ticks:j.current,label:(y=e.labelRef)===null||y===void 0?void 0:y.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var w=v.useCallback(y=>{if(y){var x=y.getElementsByClassName("recharts-cartesian-axis-tick-value");j.current=x;var S=x[0];if(S){var T=window.getComputedStyle(S),N=T.fontSize,A=T.letterSpacing;(N!==f||A!==b)&&(m(N),_(A))}}},[f,b]);return u||n!=null&&n<=0||a!=null&&a<=0?null:v.createElement(ta,{zIndex:e.zIndex},v.createElement(Lr,{className:Mt("recharts-cartesian-axis",o)},v.createElement(r_e,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Jn(e)}),v.createElement(o_e,{ref:w,axisType:p,events:h,fontSize:f,getTicksConfig:e,height:e.height,letterSpacing:b,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:c,unit:e.unit,width:e.width,x:e.x,y:e.y}),v.createElement(ive,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},v.createElement(mve,{label:e.label,labelRef:e.labelRef}),e.children)))}),Zk=v.forwardRef((e,t)=>{var r=Ir(e,No);return v.createElement(l_e,su({},r,{ref:t}))});Zk.displayName="CartesianAxis";var c_e=["x1","y1","x2","y2","key"],u_e=["offset"],d_e=["xAxisId","yAxisId"],f_e=["xAxisId","yAxisId"];function ID(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ID(Object(r),!0).forEach(function(n){p_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ID(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p_e(e,t,r){return(t=h_e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h_e(e){var t=m_e(e,"string");return typeof t=="symbol"?t:t+""}function m_e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dc(){return Dc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dc.apply(null,arguments)}function Vy(e,t){if(e==null)return{};var r,n,a=g_e(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function g_e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var v_e=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:o,height:u,ry:c}=e;return v.createElement("rect",{x:n,y:a,ry:c,width:o,height:u,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function $$(e){var{option:t,lineItemProps:r}=e,n;if(v.isValidElement(t))n=v.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:o,y1:u,x2:c,y2:p,key:h}=r,f=Vy(r,c_e),m=(a=Jn(f))!==null&&a!==void 0?a:{},{offset:b}=m,_=Vy(m,u_e);n=v.createElement("line",Dc({},_,{x1:o,y1:u,x2:c,y2:p,fill:"none",key:h}))}return n}function y_e(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:o,yAxisId:u}=e,c=Vy(e,d_e),p=a.map((h,f)=>{var m=$n($n({},c),{},{x1:t,y1:h,x2:t+r,y2:h,key:"line-".concat(f),index:f});return v.createElement($$,{key:"line-".concat(f),option:n,lineItemProps:m})});return v.createElement("g",{className:"recharts-cartesian-grid-horizontal"},p)}function b_e(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:o,yAxisId:u}=e,c=Vy(e,f_e),p=a.map((h,f)=>{var m=$n($n({},c),{},{x1:h,y1:t,x2:h,y2:t+r,key:"line-".concat(f),index:f});return v.createElement($$,{option:n,lineItemProps:m,key:"line-".concat(f)})});return v.createElement("g",{className:"recharts-cartesian-grid-vertical"},p)}function __e(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:o,height:u,horizontalPoints:c,horizontal:p=!0}=e;if(!p||!t||!t.length||c==null)return null;var h=c.map(m=>Math.round(m+a-a)).sort((m,b)=>m-b);a!==h[0]&&h.unshift(0);var f=h.map((m,b)=>{var _=h[b+1],j=_==null,w=j?a+u-m:_-m;if(w<=0)return null;var y=b%t.length;return v.createElement("rect",{key:"react-".concat(b),y:m,x:n,height:w,width:o,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function x_e(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:o,width:u,height:c,verticalPoints:p}=e;if(!t||!r||!r.length)return null;var h=p.map(m=>Math.round(m+a-a)).sort((m,b)=>m-b);a!==h[0]&&h.unshift(0);var f=h.map((m,b)=>{var _=h[b+1],j=_==null,w=j?a+u-m:_-m;if(w<=0)return null;var y=b%r.length;return v.createElement("rect",{key:"react-".concat(b),x:m,y:o,width:w,height:c,stroke:"none",fill:r[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var w_e=(e,t)=>{var{xAxis:r,width:n,height:a,offset:o}=e;return P5(Xk($n($n($n({},No),r),{},{ticks:A5(r),viewBox:{x:0,y:0,width:n,height:a}})),o.left,o.left+o.width,t)},S_e=(e,t)=>{var{yAxis:r,width:n,height:a,offset:o}=e;return P5(Xk($n($n($n({},No),r),{},{ticks:A5(r),viewBox:{x:0,y:0,width:n,height:a}})),o.top,o.top+o.height,t)},j_e={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Fr.grid};function cs(e){var t=CC(),r=kC(),n=B5(),a=$n($n({},Ir(e,j_e)),{},{x:Me(e.x)?e.x:n.left,y:Me(e.y)?e.y:n.top,width:Me(e.width)?e.width:n.width,height:Me(e.height)?e.height:n.height}),{xAxisId:o,yAxisId:u,x:c,y:p,width:h,height:f,syncWithTicks:m,horizontalValues:b,verticalValues:_}=a,j=bn(),w=ze(D=>N3(D,"xAxis",o,j)),y=ze(D=>N3(D,"yAxis",u,j));if(!Cs(h)||!Cs(f)||!Me(c)||!Me(p))return null;var x=a.verticalCoordinatesGenerator||w_e,S=a.horizontalCoordinatesGenerator||S_e,{horizontalPoints:T,verticalPoints:N}=a;if((!T||!T.length)&&typeof S=="function"){var A=b&&b.length,P=S({yAxis:y?$n($n({},y),{},{ticks:A?b:y.ticks}):void 0,width:t??h,height:r??f,offset:n},A?!0:m);by(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(T=P)}if((!N||!N.length)&&typeof x=="function"){var k=_&&_.length,R=x({xAxis:w?$n($n({},w),{},{ticks:k?_:w.ticks}):void 0,width:t??h,height:r??f,offset:n},k?!0:m);by(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof R,"]")),Array.isArray(R)&&(N=R)}return v.createElement(ta,{zIndex:a.zIndex},v.createElement("g",{className:"recharts-cartesian-grid"},v.createElement(v_e,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),v.createElement(__e,Dc({},a,{horizontalPoints:T})),v.createElement(x_e,Dc({},a,{verticalPoints:N})),v.createElement(y_e,Dc({},a,{offset:n,horizontalPoints:T,xAxis:w,yAxis:y})),v.createElement(b_e,Dc({},a,{offset:n,verticalPoints:N,xAxis:w,yAxis:y}))))}cs.displayName="CartesianGrid";var C_e={},B$=_a({name:"errorBars",initialState:C_e,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(o=>o.dataKey===n.dataKey&&o.direction===n.direction?a:o))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:S6e,replaceErrorBar:j6e,removeErrorBar:C6e}=B$.actions,k_e=B$.reducer,N_e=["children"];function E_e(e,t){if(e==null)return{};var r,n,a=T_e(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function T_e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var P_e={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},A_e=v.createContext(P_e);function z$(e){var{children:t}=e,r=E_e(e,N_e);return v.createElement(A_e.Provider,{value:r},t)}function p_(e,t){var r,n,a=ze(h=>qo(h,e)),o=ze(h=>Uo(h,t)),u=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:hn.allowDataOverflow,c=(n=o==null?void 0:o.allowDataOverflow)!==null&&n!==void 0?n:mn.allowDataOverflow,p=u||c;return{needClip:p,needClipX:u,needClipY:c}}function Jk(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=f_(),{needClipX:o,needClipY:u,needClip:c}=p_(t,r);if(!c||!a)return null;var{x:p,y:h,width:f,height:m}=a;return v.createElement("clipPath",{id:"clipPath-".concat(n)},v.createElement("rect",{x:o?p:p-f/2,y:u?h:h-m/2,width:o?f:f*2,height:u?m:m*2}))}var F$=(e,t,r,n)=>Es(e,"xAxis",t,n),q$=(e,t,r,n)=>Ns(e,"xAxis",t,n),U$=(e,t,r,n)=>Es(e,"yAxis",r,n),H$=(e,t,r,n)=>Ns(e,"yAxis",r,n),R_e=ce([Rt,F$,U$,q$,H$],(e,t,r,n,a)=>Ki(e,"xAxis")?ql(t,n,!1):ql(r,a,!1)),O_e=(e,t,r,n,a)=>a;function D_e(e){return e.type==="line"}var M_e=ce([cm,O_e],(e,t)=>e.filter(D_e).find(r=>r.id===t)),L_e=ce([Rt,F$,U$,q$,H$,M_e,R_e,JC],(e,t,r,n,a,o,u,c)=>{var{chartData:p,dataStartIndex:h,dataEndIndex:f}=c;if(!(o==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||u==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:m,data:b}=o,_;if(b!=null&&b.length>0?_=b:_=p==null?void 0:p.slice(h,f+1),_!=null)return _0e({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:m,bandSize:u,displayedData:_})}});function W$(e){var t=Zc(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:o}=t,u=Number(a),c=Number(o);return(Number.isNaN(u)||u<0)&&(u=r),(Number.isNaN(c)||c<0)&&(c=n),{r:u,strokeWidth:c}}return{r,strokeWidth:n}}var jw={exports:{}},Cw={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $D;function I_e(){if($D)return Cw;$D=1;var e=Kd();function t(p,h){return p===h&&(p!==0||1/p===1/h)||p!==p&&h!==h}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=e.useRef,o=e.useEffect,u=e.useMemo,c=e.useDebugValue;return Cw.useSyncExternalStoreWithSelector=function(p,h,f,m,b){var _=a(null);if(_.current===null){var j={hasValue:!1,value:null};_.current=j}else j=_.current;_=u(function(){function y(A){if(!x){if(x=!0,S=A,A=m(A),b!==void 0&&j.hasValue){var P=j.value;if(b(P,A))return T=P}return T=A}if(P=T,r(S,A))return P;var k=m(A);return b!==void 0&&b(P,k)?(S=A,P):(S=A,T=k)}var x=!1,S,T,N=f===void 0?null:f;return[function(){return y(h())},N===null?void 0:function(){return y(N())}]},[h,f,m,b]);var w=n(p,_[0],_[1]);return o(function(){j.hasValue=!0,j.value=w},[w]),c(w),w},Cw}var BD;function $_e(){return BD||(BD=1,jw.exports=I_e()),jw.exports}$_e();function B_e(e){e()}function z_e(){let e=null,t=null;return{clear(){e=null,t=null},notify(){B_e(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var zD={notify(){},get:()=>[]};function F_e(e,t){let r,n=zD,a=0,o=!1;function u(w){f();const y=n.subscribe(w);let x=!1;return()=>{x||(x=!0,y(),m())}}function c(){n.notify()}function p(){j.onStateChange&&j.onStateChange()}function h(){return o}function f(){a++,r||(r=e.subscribe(p),n=z_e())}function m(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=zD)}function b(){o||(o=!0,f())}function _(){o&&(o=!1,m())}const j={addNestedSub:u,notifyNestedSubs:c,handleChangeWrapper:p,isSubscribed:h,trySubscribe:b,tryUnsubscribe:_,getListeners:()=>n};return j}var q_e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",U_e=q_e(),H_e=()=>typeof navigator<"u"&&navigator.product==="ReactNative",W_e=H_e(),K_e=()=>U_e||W_e?v.useLayoutEffect:v.useEffect,G_e=K_e();function FD(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function V_e(e,t){if(FD(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!FD(e[r[a]],t[r[a]]))return!1;return!0}var kw=Symbol.for("react-redux-context"),Nw=typeof globalThis<"u"?globalThis:{};function Y_e(){if(!v.createContext)return{};const e=Nw[kw]??(Nw[kw]=new Map);let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}var Q_e=Y_e();function X_e(e){const{children:t,context:r,serverState:n,store:a}=e,o=v.useMemo(()=>{const p=F_e(a);return{store:a,subscription:p,getServerState:n?()=>n:void 0}},[a,n]),u=v.useMemo(()=>a.getState(),[a]);G_e(()=>{const{subscription:p}=o;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),u!==a.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[o,u]);const c=r||Q_e;return v.createElement(c.Provider,{value:o},t)}var Z_e=X_e,J_e=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function e0e(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function gm(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(J_e.has(n)){if(e[n]==null&&t[n]==null)continue;if(!V_e(e[n],t[n]))return!1}else if(!e0e(e[n],t[n]))return!1;return!0}var t0e=["id"],r0e=["type","layout","connectNulls","needClip","shape"],n0e=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Oh(){return Oh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oh.apply(null,arguments)}function qD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qD(Object(r),!0).forEach(function(n){a0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a0e(e,t,r){return(t=i0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i0e(e){var t=s0e(e,"string");return typeof t=="symbol"?t:t+""}function s0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e2(e,t){if(e==null)return{};var r,n,a=o0e(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function o0e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var l0e=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:o}=e;return[{inactive:o,dataKey:t,type:a,color:n,value:Vl(r,t),payload:e}]},c0e=v.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:o,name:u,hide:c,unit:p,tooltipType:h,id:f}=e,m={dataDefinedOnItem:r,getPosition:Gl,settings:{stroke:n,strokeWidth:a,fill:o,dataKey:t,nameKey:void 0,name:Vl(u,t),hide:c,type:h,color:n,unit:p,graphicalItemId:f}};return v.createElement(c_,{tooltipEntrySettings:m})}),K$=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function u0e(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var d0e=(e,t,r)=>{var n=r.reduce((_,j)=>_+j);if(!n)return K$(t,e);for(var a=Math.floor(e/n),o=e%n,u=t-e,c=[],p=0,h=0;p<r.length;h+=(f=r[p])!==null&&f!==void 0?f:0,++p){var f,m=r[p];if(m!=null&&h+m>o){c=[...r.slice(0,p),o-h];break}}var b=c.length%2===0?[0,u]:[u];return[...u0e(r,a),...c,...b].map(_=>"".concat(_,"px")).join(", ")};function f0e(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:o,needClip:u}=n,{id:c}=n,p=e2(n,t0e),h=Jn(p);return v.createElement(A$,{points:r,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:o,baseProps:h,needClip:u,clipPathId:t})}function p0e(e){var{showLabels:t,children:r,points:n}=e,a=v.useMemo(()=>n==null?void 0:n.map(o=>{var u,c,p={x:(u=o.x)!==null&&u!==void 0?u:0,y:(c=o.y)!==null&&c!==void 0?c:0,width:0,lowerWidth:0,upperWidth:0,height:0};return gs(gs({},p),{},{value:o.value,payload:o.payload,viewBox:p,parentViewBox:void 0,fill:void 0})}),[n]);return v.createElement(zk,{value:t?a:void 0},r)}function UD(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:o}=e,{type:u,layout:c,connectNulls:p,needClip:h,shape:f}=o,m=e2(o,r0e),b=gs(gs({},zn(m)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(t,")"):void 0,points:n,type:u,layout:c,connectNulls:p,strokeDasharray:a??o.strokeDasharray});return v.createElement(v.Fragment,null,(n==null?void 0:n.length)>1&&v.createElement(Wk,Oh({shapeType:"curve",option:f},b,{pathRef:r})),v.createElement(f0e,{points:n,clipPathId:t,props:o}))}function h0e(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function m0e(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:o}=e,{points:u,strokeDasharray:c,isAnimationActive:p,animationBegin:h,animationDuration:f,animationEasing:m,animateNewValues:b,width:_,height:j,onAnimationEnd:w,onAnimationStart:y}=r,x=a.current,S=nf(u,"recharts-line-"),T=v.useRef(S),[N,A]=v.useState(!1),P=!N,k=v.useCallback(()=>{typeof w=="function"&&w(),A(!1)},[w]),R=v.useCallback(()=>{typeof y=="function"&&y(),A(!0)},[y]),D=h0e(n.current),I=v.useRef(0);T.current!==S&&(I.current=o.current,T.current=S);var q=I.current;return v.createElement(p0e,{points:u,showLabels:P},r.children,v.createElement(rf,{animationId:S,begin:h,duration:f,isActive:p,easing:m,onAnimationEnd:k,onAnimationStart:R,key:S},z=>{var M=Gt(q,D+q,z),F=Math.min(M,D),B;if(p)if(c){var O="".concat(c).split(/[,\s]+/gim).map(V=>parseFloat(V));B=d0e(F,D,O)}else B=K$(D,F);else B=c==null?void 0:String(c);if(z>0&&D>0&&(a.current=u,o.current=Math.max(o.current,F)),x){var $=x.length/u.length,K=z===1?u:u.map((V,Q)=>{var U=Math.floor(Q*$);if(x[U]){var X=x[U];return gs(gs({},V),{},{x:Gt(X.x,V.x,z),y:Gt(X.y,V.y,z)})}return b?gs(gs({},V),{},{x:Gt(_*2,V.x,z),y:Gt(j/2,V.y,z)}):gs(gs({},V),{},{x:V.x,y:V.y})});return a.current=K,v.createElement(UD,{props:r,points:K,clipPathId:t,pathRef:n,strokeDasharray:B})}return v.createElement(UD,{props:r,points:u,clipPathId:t,pathRef:n,strokeDasharray:B})}),v.createElement(s_,{label:r.label}))}function g0e(e){var{clipPathId:t,props:r}=e,n=v.useRef(null),a=v.useRef(0),o=v.useRef(null);return v.createElement(m0e,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:o})}var v0e=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:Vt(e.payload,t)}};class y0e extends v.Component{render(){var{hide:t,dot:r,points:n,className:a,xAxisId:o,yAxisId:u,top:c,left:p,width:h,height:f,id:m,needClip:b,zIndex:_}=this.props;if(t)return null;var j=Mt("recharts-line",a),w=m,{r:y,strokeWidth:x}=W$(r),S=Hk(r),T=y*2+x,N=b?"url(#clipPath-".concat(S?"":"dots-").concat(w,")"):void 0;return v.createElement(ta,{zIndex:_},v.createElement(Lr,{className:j},b&&v.createElement("defs",null,v.createElement(Jk,{clipPathId:w,xAxisId:o,yAxisId:u}),!S&&v.createElement("clipPath",{id:"clipPath-dots-".concat(w)},v.createElement("rect",{x:p-T/2,y:c-T/2,width:h+T,height:f+T}))),v.createElement(z$,{xAxisId:o,yAxisId:u,data:n,dataPointFormatter:v0e,errorBarOffset:0},v.createElement(g0e,{props:this.props,clipPathId:w}))),v.createElement(cj,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:N}))}}var G$={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Fr.line,type:"linear"};function b0e(e){var t=Ir(e,G$),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:o,animationEasing:u,connectNulls:c,dot:p,hide:h,isAnimationActive:f,label:m,legendType:b,xAxisId:_,yAxisId:j,id:w}=t,y=e2(t,n0e),{needClip:x}=p_(_,j),S=f_(),T=Yl(),N=bn(),A=ze(I=>L_e(I,_,j,N,w));if(T!=="horizontal"&&T!=="vertical"||A==null||S==null)return null;var{height:P,width:k,x:R,y:D}=S;return v.createElement(y0e,Oh({},y,{id:w,connectNulls:c,dot:p,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:o,animationEasing:u,isAnimationActive:f,hide:h,label:m,legendType:b,xAxisId:_,yAxisId:j,points:A,layout:T,height:P,width:k,left:R,top:D,needClip:x}))}function _0e(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:o,dataKey:u,bandSize:c,displayedData:p}=e;return p.map((h,f)=>{var m=Vt(h,u);if(t==="horizontal"){var b=yy({axis:r,ticks:a,bandSize:c,entry:h,index:f}),_=kr(m)?null:n.scale.map(m);return{x:b,y:_??null,value:m,payload:h}}var j=kr(m)?null:r.scale.map(m),w=yy({axis:n,ticks:o,bandSize:c,entry:h,index:f});return j==null||w==null?null:{x:j,y:w,value:m,payload:h}}).filter(Boolean)}function x0e(e){var t=Ir(e,G$),r=bn();return v.createElement(u_,{id:t.id,type:"line"},n=>v.createElement(v.Fragment,null,v.createElement(Yk,{legendPayload:l0e(t)}),v.createElement(c0e,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),v.createElement(Qk,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),v.createElement(b0e,Oh({},t,{id:n}))))}var ih=v.memo(x0e,gm);ih.displayName="Line";function Rs(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:R$}function Os(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:R$}var V$=(e,t,r)=>Es(e,"xAxis",Rs(e,t),r),Y$=(e,t,r)=>Ns(e,"xAxis",Rs(e,t),r),Q$=(e,t,r)=>Es(e,"yAxis",Os(e,t),r),X$=(e,t,r)=>Ns(e,"yAxis",Os(e,t),r),w0e=ce([Rt,V$,Q$,Y$,X$],(e,t,r,n,a)=>Ki(e,"xAxis")?ql(t,n,!1):ql(r,a,!1)),S0e=(e,t)=>t,Z$=ce([cm,S0e],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),J$=e=>{var t=Rt(e),r=Ki(t,"xAxis");return r?"yAxis":"xAxis"},j0e=(e,t)=>{var r=J$(e);return r==="yAxis"?Os(e,t):Rs(e,t)},C0e=(e,t,r)=>Fy(e,J$(e),j0e(e,t),r),k0e=ce([Z$,C0e],(e,t)=>{var r;if(!(e==null||t==null)){var{stackId:n}=e,a=Yb(e);if(!(n==null||a==null)){var o=(r=t[n])===null||r===void 0?void 0:r.stackedData,u=o==null?void 0:o.find(c=>c.key===a);if(u!=null)return u.map(c=>[c[0],c[1]])}}}),N0e=ce([Rt,V$,Q$,Y$,X$,k0e,F8,w0e,Z$,epe],(e,t,r,n,a,o,u,c,p,h)=>{var{chartData:f,dataStartIndex:m,dataEndIndex:b}=u;if(!(p==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||a==null||n.length===0||a.length===0||c==null)){var{data:_}=p,j;if(_&&_.length>0?j=_:j=f==null?void 0:f.slice(m,b+1),j!=null)return K0e({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataStartIndex:m,areaSettings:p,stackedData:o,displayedData:j,chartBaseValue:h,bandSize:c})}}),E0e=["id"],T0e=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Gc(){return Gc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gc.apply(null,arguments)}function e7(e,t){if(e==null)return{};var r,n,a=P0e(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function P0e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function HD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HD(Object(r),!0).forEach(function(n){A0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A0e(e,t,r){return(t=R0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R0e(e){var t=O0e(e,"string");return typeof t=="symbol"?t:t+""}function O0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yy(e,t){return e&&e!=="none"?e:t}var D0e=e=>{var{dataKey:t,name:r,stroke:n,fill:a,legendType:o,hide:u}=e;return[{inactive:u,dataKey:t,type:o,color:Yy(n,a),value:Vl(r,t),payload:e}]},M0e=v.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:o,name:u,hide:c,unit:p,tooltipType:h,id:f}=e,m={dataDefinedOnItem:r,getPosition:Gl,settings:{stroke:n,strokeWidth:a,fill:o,dataKey:t,nameKey:void 0,name:Vl(u,t),hide:c,type:h,color:Yy(n,o),unit:p,graphicalItemId:f}};return v.createElement(c_,{tooltipEntrySettings:m})});function L0e(e){var{clipPathId:t,points:r,props:n}=e,{needClip:a,dot:o,dataKey:u}=n,c=Jn(n);return v.createElement(A$,{points:r,dot:o,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:u,baseProps:c,needClip:a,clipPathId:t})}function I0e(e){var{showLabels:t,children:r,points:n}=e,a=n.map(o=>{var u,c,p={x:(u=o.x)!==null&&u!==void 0?u:0,y:(c=o.y)!==null&&c!==void 0?c:0,width:0,lowerWidth:0,upperWidth:0,height:0};return bd(bd({},p),{},{value:o.value,payload:o.payload,parentViewBox:void 0,viewBox:p,fill:void 0})});return v.createElement(zk,{value:t?a:void 0},r)}function WD(e){var{points:t,baseLine:r,needClip:n,clipPathId:a,props:o}=e,{layout:u,type:c,stroke:p,connectNulls:h,isRange:f}=o,{id:m}=o,b=e7(o,E0e),_=Jn(b),j=zn(b);return v.createElement(v.Fragment,null,(t==null?void 0:t.length)>1&&v.createElement(Lr,{clipPath:n?"url(#clipPath-".concat(a,")"):void 0},v.createElement(wd,Gc({},j,{id:m,points:t,connectNulls:h,type:c,baseLine:r,layout:u,stroke:"none",className:"recharts-area-area"})),p!=="none"&&v.createElement(wd,Gc({},_,{className:"recharts-area-curve",layout:u,type:c,connectNulls:h,fill:"none",points:t})),p!=="none"&&f&&v.createElement(wd,Gc({},_,{className:"recharts-area-curve",layout:u,type:c,connectNulls:h,fill:"none",points:r}))),v.createElement(L0e,{points:t,props:b,clipPathId:a}))}function $0e(e){var t,r,{alpha:n,baseLine:a,points:o,strokeWidth:u}=e,c=(t=o[0])===null||t===void 0?void 0:t.y,p=(r=o[o.length-1])===null||r===void 0?void 0:r.y;if(!bt(c)||!bt(p))return null;var h=n*Math.abs(c-p),f=Math.max(...o.map(m=>m.x||0));return Me(a)?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(...a.map(m=>m.x||0),f)),Me(f)?v.createElement("rect",{x:0,y:c<p?c:c-h,width:f+(u?parseInt("".concat(u),10):1),height:Math.floor(h)}):null}function B0e(e){var t,r,{alpha:n,baseLine:a,points:o,strokeWidth:u}=e,c=(t=o[0])===null||t===void 0?void 0:t.x,p=(r=o[o.length-1])===null||r===void 0?void 0:r.x;if(!bt(c)||!bt(p))return null;var h=n*Math.abs(c-p),f=Math.max(...o.map(m=>m.y||0));return Me(a)?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(...a.map(m=>m.y||0),f)),Me(f)?v.createElement("rect",{x:c<p?c:c-h,y:0,width:h,height:Math.floor(f+(u?parseInt("".concat(u),10):1))}):null}function z0e(e){var{alpha:t,layout:r,points:n,baseLine:a,strokeWidth:o}=e;return r==="vertical"?v.createElement($0e,{alpha:t,points:n,baseLine:a,strokeWidth:o}):v.createElement(B0e,{alpha:t,points:n,baseLine:a,strokeWidth:o})}function F0e(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:o}=e,{points:u,baseLine:c,isAnimationActive:p,animationBegin:h,animationDuration:f,animationEasing:m,onAnimationStart:b,onAnimationEnd:_}=n,j=v.useMemo(()=>({points:u,baseLine:c}),[u,c]),w=nf(j,"recharts-area-"),y=NC(),[x,S]=v.useState(!1),T=!x,N=v.useCallback(()=>{typeof _=="function"&&_(),S(!1)},[_]),A=v.useCallback(()=>{typeof b=="function"&&b(),S(!0)},[b]);if(y==null)return null;var P=a.current,k=o.current;return v.createElement(I0e,{showLabels:T,points:u},n.children,v.createElement(rf,{animationId:w,begin:h,duration:f,isActive:p,easing:m,onAnimationEnd:N,onAnimationStart:A,key:w},R=>{if(P){var D=P.length/u.length,I=R===1?u:u.map((z,M)=>{var F=Math.floor(M*D);if(P[F]){var B=P[F];return bd(bd({},z),{},{x:Gt(B.x,z.x,R),y:Gt(B.y,z.y,R)})}return z}),q;return Me(c)?q=Gt(k,c,R):kr(c)||qi(c)?q=Gt(k,0,R):q=c.map((z,M)=>{var F=Math.floor(M*D);if(Array.isArray(k)&&k[F]){var B=k[F];return bd(bd({},z),{},{x:Gt(B.x,z.x,R),y:Gt(B.y,z.y,R)})}return z}),R>0&&(a.current=I,o.current=q),v.createElement(WD,{points:I,baseLine:q,needClip:t,clipPathId:r,props:n})}return R>0&&(a.current=u,o.current=c),v.createElement(Lr,null,p&&v.createElement("defs",null,v.createElement("clipPath",{id:"animationClipPath-".concat(r)},v.createElement(z0e,{alpha:R,points:u,baseLine:c,layout:y,strokeWidth:n.strokeWidth}))),v.createElement(Lr,{clipPath:"url(#animationClipPath-".concat(r,")")},v.createElement(WD,{points:u,baseLine:c,needClip:t,clipPathId:r,props:n})))}),v.createElement(s_,{label:n.label}))}function q0e(e){var{needClip:t,clipPathId:r,props:n}=e,a=v.useRef(null),o=v.useRef();return v.createElement(F0e,{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:o})}class U0e extends v.PureComponent{render(){var{hide:t,dot:r,points:n,className:a,top:o,left:u,needClip:c,xAxisId:p,yAxisId:h,width:f,height:m,id:b,baseLine:_,zIndex:j}=this.props;if(t)return null;var w=Mt("recharts-area",a),y=b,{r:x,strokeWidth:S}=W$(r),T=Hk(r),N=x*2+S,A=c?"url(#clipPath-".concat(T?"":"dots-").concat(y,")"):void 0;return v.createElement(ta,{zIndex:j},v.createElement(Lr,{className:w},c&&v.createElement("defs",null,v.createElement(Jk,{clipPathId:y,xAxisId:p,yAxisId:h}),!T&&v.createElement("clipPath",{id:"clipPath-dots-".concat(y)},v.createElement("rect",{x:u-N/2,y:o-N/2,width:f+N,height:m+N}))),v.createElement(q0e,{needClip:c,clipPathId:y,props:this.props})),v.createElement(cj,{points:n,mainColor:Yy(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:A}),this.props.isRange&&Array.isArray(_)&&v.createElement(cj,{points:_,mainColor:Yy(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:A}))}}var t7={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Fr.area};function H0e(e){var t,r=Ir(e,t7),{activeDot:n,animationBegin:a,animationDuration:o,animationEasing:u,connectNulls:c,dot:p,fill:h,fillOpacity:f,hide:m,isAnimationActive:b,legendType:_,stroke:j,xAxisId:w,yAxisId:y}=r,x=e7(r,T0e),S=Yl(),T=r$(),{needClip:N}=p_(w,y),A=bn(),{points:P,isRange:k,baseLine:R}=(t=ze(F=>N0e(F,e.id,A)))!==null&&t!==void 0?t:{},D=f_();if(S!=="horizontal"&&S!=="vertical"||D==null||T!=="AreaChart"&&T!=="ComposedChart")return null;var{height:I,width:q,x:z,y:M}=D;return!P||!P.length?null:v.createElement(U0e,Gc({},x,{activeDot:n,animationBegin:a,animationDuration:o,animationEasing:u,baseLine:R,connectNulls:c,dot:p,fill:h,fillOpacity:f,height:I,hide:m,layout:S,isAnimationActive:b==="auto"?!rm.isSsr:b,isRange:k,legendType:_,needClip:N,points:P,stroke:j,width:q,left:z,top:M,xAxisId:w,yAxisId:y}))}var W0e=(e,t,r,n,a)=>{var o=r??t;if(Me(o))return o;var u=e==="horizontal"?a:n,c=u.scale.domain();if(u.type==="number"){var p=Math.max(c[0],c[1]),h=Math.min(c[0],c[1]);return o==="dataMin"?h:o==="dataMax"||p<0?p:Math.max(Math.min(c[0],c[1]),0)}return o==="dataMin"?c[0]:o==="dataMax"?c[1]:c[0]};function K0e(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:a,layout:o,chartBaseValue:u,xAxis:c,yAxis:p,displayedData:h,dataStartIndex:f,xAxisTicks:m,yAxisTicks:b,bandSize:_}=e,j=a&&a.length,w=W0e(o,u,r,c,p),y=o==="horizontal",x=!1,S=h.map((N,A)=>{var P,k,R,D;if(j)D=a[f+A];else{var I=Vt(N,n);Array.isArray(I)?(D=I,x=!0):D=[w,I]}var q=(P=(k=D)===null||k===void 0?void 0:k[1])!==null&&P!==void 0?P:null,z=q==null||j&&!t&&Vt(N,n)==null;if(y){var M;return{x:yy({axis:c,ticks:m,bandSize:_,entry:N,index:A}),y:z?null:(M=p.scale.map(q))!==null&&M!==void 0?M:null,value:D,payload:N}}return{x:z?null:(R=c.scale.map(q))!==null&&R!==void 0?R:null,y:yy({axis:p,ticks:b,bandSize:_,entry:N,index:A}),value:D,payload:N}}),T;return j||x?T=S.map(N=>{var A,P=Array.isArray(N.value)?N.value[0]:null;if(y){var k;return{x:N.x,y:P!=null&&N.y!=null&&(k=p.scale.map(P))!==null&&k!==void 0?k:null,payload:N.payload}}return{x:P!=null&&(A=c.scale.map(P))!==null&&A!==void 0?A:null,y:N.y,payload:N.payload}}):T=y?p.scale.map(w):c.scale.map(w),{points:S,baseLine:T??0,isRange:x}}function G0e(e){var t=Ir(e,t7),r=bn();return v.createElement(u_,{id:t.id,type:"area"},n=>v.createElement(v.Fragment,null,v.createElement(Yk,{legendPayload:D0e(t)}),v.createElement(M0e,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),v.createElement(Qk,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:R5(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),v.createElement(H0e,Gc({},t,{id:n}))))}var sh=v.memo(G0e,gm);sh.displayName="Area";var V0e="Invariant failed";function Y0e(e,t){throw new Error(V0e)}function uj(){return uj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uj.apply(null,arguments)}function Qy(e){return v.createElement(Wk,uj({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var Q0e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(Me(t))return t;var o=Me(n)||kr(n);return o?t(n,a):(o||Y0e(),r)}},X0e=(e,t,r)=>r,Z0e=(e,t)=>t,vm=ce([cm,Z0e],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),J0e=ce([vm],e=>e==null?void 0:e.maxBarSize),e1e=(e,t,r,n)=>n,t1e=ce([Rt,cm,Rs,Os,X0e],(e,t,r,n,a)=>t.filter(o=>e==="horizontal"?o.xAxisId===r:o.yAxisId===n).filter(o=>o.isPanorama===a).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),r1e=(e,t,r)=>{var n=Rt(e),a=Rs(e,t),o=Os(e,t);if(!(a==null||o==null))return n==="horizontal"?Fy(e,"yAxis",o,r):Fy(e,"xAxis",a,r)},n1e=(e,t)=>{var r=Rt(e),n=Rs(e,t),a=Os(e,t);if(!(n==null||a==null))return r==="horizontal"?k3(e,"xAxis",n):k3(e,"yAxis",a)},a1e=ce([t1e,Jfe,n1e],Sbe),i1e=(e,t,r)=>{var n,a,o=vm(e,t);if(o==null)return 0;var u=Rs(e,t),c=Os(e,t);if(u==null||c==null)return 0;var p=Rt(e),h=J8(e),{maxBarSize:f}=o,m=kr(f)?h:f,b,_;return p==="horizontal"?(b=Es(e,"xAxis",u,r),_=Ns(e,"xAxis",u,r)):(b=Es(e,"yAxis",c,r),_=Ns(e,"yAxis",c,r)),(n=(a=ql(b,_,!0))!==null&&a!==void 0?a:m)!==null&&n!==void 0?n:0},r7=(e,t,r)=>{var n=Rt(e),a=Rs(e,t),o=Os(e,t);if(!(a==null||o==null)){var u,c;return n==="horizontal"?(u=Es(e,"xAxis",a,r),c=Ns(e,"xAxis",a,r)):(u=Es(e,"yAxis",o,r),c=Ns(e,"yAxis",o,r)),ql(u,c)}},s1e=ce([a1e,J8,Zfe,eI,i1e,r7,J0e],Ebe),o1e=(e,t,r)=>{var n=Rs(e,t);if(n!=null)return Es(e,"xAxis",n,r)},l1e=(e,t,r)=>{var n=Os(e,t);if(n!=null)return Es(e,"yAxis",n,r)},c1e=(e,t,r)=>{var n=Rs(e,t);if(n!=null)return Ns(e,"xAxis",n,r)},u1e=(e,t,r)=>{var n=Os(e,t);if(n!=null)return Ns(e,"yAxis",n,r)},d1e=ce([s1e,vm],Pbe),f1e=ce([r1e,vm],Tbe),p1e=ce([an,wC,o1e,l1e,c1e,u1e,d1e,Rt,F8,r7,f1e,vm,e1e],(e,t,r,n,a,o,u,c,p,h,f,m,b)=>{var{chartData:_,dataStartIndex:j,dataEndIndex:w}=p;if(!(m==null||u==null||t==null||c!=="horizontal"&&c!=="vertical"||r==null||n==null||a==null||o==null||h==null)){var{data:y}=m,x;if(y!=null&&y.length>0?x=y:x=_==null?void 0:_.slice(j,w+1),x!=null)return F1e({layout:c,barSettings:m,pos:u,parentViewBox:t,bandSize:h,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:o,stackedData:f,displayedData:x,offset:e,cells:b,dataStartIndex:j})}}),h1e=["index"];function dj(){return dj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dj.apply(null,arguments)}function m1e(e,t){if(e==null)return{};var r,n,a=g1e(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function g1e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var n7=v.createContext(void 0),v1e=e=>{var t=v.useContext(n7);if(t!=null)return t.stackId;if(e!=null)return R5(e)},y1e=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),b1e=e=>{var t=v.useContext(n7);if(t!=null){var{stackId:r}=t;return"url(#".concat(y1e(r,e),")")}},a7=e=>{var{index:t}=e,r=m1e(e,h1e),n=b1e(t);return v.createElement(Lr,dj({className:"recharts-bar-stack-layer",clipPath:n},r))},_1e=["onMouseEnter","onMouseLeave","onClick"],x1e=["value","background","tooltipPosition"],w1e=["id"],S1e=["onMouseEnter","onClick","onMouseLeave"];function Lo(){return Lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lo.apply(null,arguments)}function KD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KD(Object(r),!0).forEach(function(n){j1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j1e(e,t,r){return(t=C1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C1e(e){var t=k1e(e,"string");return typeof t=="symbol"?t:t+""}function k1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xy(e,t){if(e==null)return{};var r,n,a=N1e(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function N1e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var E1e=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:o}=e;return[{inactive:o,dataKey:t,type:a,color:n,value:Vl(r,t),payload:e}]},T1e=v.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:o,hide:u,unit:c,tooltipType:p,id:h}=e,f={dataDefinedOnItem:void 0,getPosition:Gl,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:Vl(o,t),hide:u,type:p,color:a,unit:c,graphicalItemId:h}};return v.createElement(c_,{tooltipEntrySettings:f})});function P1e(e){var t=ze(Ul),{data:r,dataKey:n,background:a,allOtherBarProps:o}=e,{onMouseEnter:u,onMouseLeave:c,onClick:p}=o,h=Xy(o,_1e),f=Kk(u,n,o.id),m=Gk(c),b=Vk(p,n,o.id);if(!a||r==null)return null;var _=Zc(a);return v.createElement(ta,{zIndex:Abe(a,Fr.barBackground)},r.map((j,w)=>{var{value:y,background:x,tooltipPosition:S}=j,T=Xy(j,x1e);if(!x)return null;var N=f(j,w),A=m(j,w),P=b(j,w),k=Qn(Qn(Qn(Qn(Qn({option:a,isActive:String(w)===t},T),{},{fill:"#eee"},x),_),Qh(h,j,w)),{},{onMouseEnter:N,onMouseLeave:A,onClick:P,dataKey:n,index:w,className:"recharts-bar-background-rectangle"});return v.createElement(Qy,Lo({key:"background-bar-".concat(w)},k))}))}function A1e(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(o=>{var u={x:o.x,y:o.y,width:o.width,lowerWidth:o.width,upperWidth:o.width,height:o.height};return Qn(Qn({},u),{},{value:o.value,payload:o.payload,parentViewBox:o.parentViewBox,viewBox:u,fill:o.fill})});return v.createElement(zk,{value:t?a:void 0},r)}function R1e(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:o,dataKey:u}=e,c=ze(Ul),p=ze(Dk),h=r&&String(o)===c&&(p==null||u===p),f=h?r:t;return h?v.createElement(ta,{zIndex:Fr.activeBar},v.createElement(a7,{index:o},v.createElement(Qy,Lo({},n,{name:String(n.name)},a,{isActive:h,option:f,index:o,dataKey:u})))):v.createElement(Qy,Lo({},n,{name:String(n.name)},a,{isActive:h,option:f,index:o,dataKey:u}))}function O1e(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:o}=e;return v.createElement(Qy,Lo({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:o}))}function D1e(e){var t,{data:r,props:n}=e,a=(t=Jn(n))!==null&&t!==void 0?t:{},{id:o}=a,u=Xy(a,w1e),{shape:c,dataKey:p,activeBar:h}=n,{onMouseEnter:f,onClick:m,onMouseLeave:b}=n,_=Xy(n,S1e),j=Kk(f,p,o),w=Gk(b),y=Vk(m,p,o);return r?v.createElement(v.Fragment,null,r.map((x,S)=>v.createElement(a7,Lo({index:S,key:"rectangle-".concat(x==null?void 0:x.x,"-").concat(x==null?void 0:x.y,"-").concat(x==null?void 0:x.value,"-").concat(S),className:"recharts-bar-rectangle"},Qh(_,x,S),{onMouseEnter:j(x,S),onMouseLeave:w(x,S),onClick:y(x,S)}),h?v.createElement(R1e,{shape:c,activeBar:h,baseProps:u,entry:x,index:S,dataKey:p}):v.createElement(O1e,{shape:c,baseProps:u,entry:x,index:S,dataKey:p})))):null}function M1e(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:o,animationBegin:u,animationDuration:c,animationEasing:p,onAnimationEnd:h,onAnimationStart:f}=t,m=r.current,b=nf(t,"recharts-bar-"),[_,j]=v.useState(!1),w=!_,y=v.useCallback(()=>{typeof h=="function"&&h(),j(!1)},[h]),x=v.useCallback(()=>{typeof f=="function"&&f(),j(!0)},[f]);return v.createElement(A1e,{showLabels:w,rects:n},v.createElement(rf,{animationId:b,begin:u,duration:c,isActive:o,easing:p,onAnimationEnd:y,onAnimationStart:x,key:b},S=>{var T=S===1?n:n==null?void 0:n.map((N,A)=>{var P=m&&m[A];if(P)return Qn(Qn({},N),{},{x:Gt(P.x,N.x,S),y:Gt(P.y,N.y,S),width:Gt(P.width,N.width,S),height:Gt(P.height,N.height,S)});if(a==="horizontal"){var k=Gt(0,N.height,S),R=Gt(N.stackedBarStart,N.y,S);return Qn(Qn({},N),{},{y:R,height:k})}var D=Gt(0,N.width,S),I=Gt(N.stackedBarStart,N.x,S);return Qn(Qn({},N),{},{width:D,x:I})});return S>0&&(r.current=T??null),T==null?null:v.createElement(Lr,null,v.createElement(D1e,{props:t,data:T}))}),v.createElement(s_,{label:t.label}),t.children)}function L1e(e){var t=v.useRef(null);return v.createElement(M1e,{previousRectanglesRef:t,props:e})}var i7=0,I1e=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Vt(e,t)}};class $1e extends v.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:o,yAxisId:u,needClip:c,background:p,id:h}=this.props;if(t||r==null)return null;var f=Mt("recharts-bar",a),m=h;return v.createElement(Lr,{className:f,id:h},c&&v.createElement("defs",null,v.createElement(Jk,{clipPathId:m,xAxisId:o,yAxisId:u})),v.createElement(Lr,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(m,")"):void 0},v.createElement(P1e,{data:r,dataKey:n,background:p,allOtherBarProps:this.props}),v.createElement(L1e,this.props)))}}var B1e={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:i7,xAxisId:0,yAxisId:0,zIndex:Fr.bar};function z1e(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:o,activeBar:u,animationBegin:c,animationDuration:p,animationEasing:h,isAnimationActive:f}=e,{needClip:m}=p_(t,r),b=Yl(),_=bn(),j=Uk(e.children,mm),w=ze(S=>p1e(S,e.id,_,j));if(b!=="vertical"&&b!=="horizontal")return null;var y,x=w==null?void 0:w[0];return x==null||x.height==null||x.width==null?y=0:y=b==="vertical"?x.height/2:x.width/2,v.createElement(z$,{xAxisId:t,yAxisId:r,data:w,dataPointFormatter:I1e,errorBarOffset:y},v.createElement($1e,Lo({},e,{layout:b,needClip:m,data:w,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:o,activeBar:u,animationBegin:c,animationDuration:p,animationEasing:h,isAnimationActive:f})))}function F1e(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:o,xAxis:u,yAxis:c,xAxisTicks:p,yAxisTicks:h,stackedData:f,displayedData:m,offset:b,cells:_,parentViewBox:j,dataStartIndex:w}=e,y=t==="horizontal"?c:u,x=f?y.scale.domain():null,S=zoe({numericAxis:y}),T=y.scale.map(S);return m.map((N,A)=>{var P,k,R,D,I,q;if(f){var z=f[A+w];if(z==null)return null;P=Moe(z,x)}else P=Vt(N,r),Array.isArray(P)||(P=[S,P]);var M=Q0e(n,i7)(P[1],A);if(t==="horizontal"){var F,B=c.scale.map(P[0]),O=c.scale.map(P[1]);if(B==null||O==null)return null;k=CR({axis:u,ticks:p,bandSize:o,offset:a.offset,entry:N,index:A}),R=(F=O??B)!==null&&F!==void 0?F:void 0,D=a.size;var $=B-O;if(I=qi($)?0:$,q={x:k,y:b.top,width:D,height:b.height},Math.abs(M)>0&&Math.abs(I)<Math.abs(M)){var K=yn(I||M)*(Math.abs(M)-Math.abs(I));R-=K,I+=K}}else{var V=u.scale.map(P[0]),Q=u.scale.map(P[1]);if(V==null||Q==null)return null;if(k=V,R=CR({axis:c,ticks:h,bandSize:o,offset:a.offset,entry:N,index:A}),D=Q-V,I=a.size,q={x:b.left,y:R,width:b.width,height:I},Math.abs(M)>0&&Math.abs(D)<Math.abs(M)){var U=yn(D||M)*(Math.abs(M)-Math.abs(D));D+=U}}if(k==null||R==null||D==null||I==null)return null;var X=Qn(Qn({},N),{},{stackedBarStart:T,x:k,y:R,width:D,height:I,value:f?P:P[1],payload:N,background:q,tooltipPosition:{x:k+D/2,y:R+I/2},parentViewBox:j},_&&_[A]&&_[A].props);return X}).filter(Boolean)}function q1e(e){var t=Ir(e,B1e),r=v1e(t.stackId),n=bn();return v.createElement(u_,{id:t.id,type:"bar"},a=>v.createElement(v.Fragment,null,v.createElement(Yk,{legendPayload:E1e(t)}),v.createElement(T1e,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),v.createElement(Qk,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),v.createElement(ta,{zIndex:t.zIndex},v.createElement(z1e,Lo({},t,{id:a})))))}var us=v.memo(q1e,gm);us.displayName="Bar";var U1e=["domain","range"],H1e=["domain","range"];function GD(e,t){if(e==null)return{};var r,n,a=W1e(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function W1e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function VD(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function s7(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=GD(e,U1e),{domain:o,range:u}=t,c=GD(t,H1e);return!VD(r,o)||!VD(n,u)?!1:gm(a,c)}var K1e=["type"],G1e=["dangerouslySetInnerHTML","ticks","scale"],V1e=["id","scale"];function fj(){return fj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fj.apply(null,arguments)}function YD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function QD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YD(Object(r),!0).forEach(function(n){Y1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y1e(e,t,r){return(t=Q1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q1e(e){var t=X1e(e,"string");return typeof t=="symbol"?t:t+""}function X1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pj(e,t){if(e==null)return{};var r,n,a=Z1e(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Z1e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function J1e(e){var t=hr(),r=v.useRef(null),n=NC(),{type:a}=e,o=pj(e,K1e),u=Gb(n,"xAxis",a),c=v.useMemo(()=>{if(u!=null)return QD(QD({},o),{},{type:u})},[o,u]);return v.useLayoutEffect(()=>{c!=null&&(r.current===null?t(lbe(c)):r.current!==c&&t(cbe({prev:r.current,next:c})),r.current=c)},[c,t]),v.useLayoutEffect(()=>()=>{r.current&&(t(ube(r.current)),r.current=null)},[t]),null}var exe=e=>{var{xAxisId:t,className:r}=e,n=ze(wC),a=bn(),o="xAxis",u=ze(x=>OI(x,o,t,a)),c=ze(x=>TI(x,t)),p=ze(x=>ehe(x,t)),h=ze(x=>uI(x,t));if(c==null||p==null||h==null)return null;var{dangerouslySetInnerHTML:f,ticks:m,scale:b}=e,_=pj(e,G1e),{id:j,scale:w}=h,y=pj(h,V1e);return v.createElement(Zk,fj({},_,y,{x:p.x,y:p.y,width:c.width,height:c.height,className:Mt("recharts-".concat(o," ").concat(o),r),viewBox:n,ticks:u,axisType:o}))},txe={allowDataOverflow:hn.allowDataOverflow,allowDecimals:hn.allowDecimals,allowDuplicatedCategory:hn.allowDuplicatedCategory,angle:hn.angle,axisLine:No.axisLine,height:hn.height,hide:!1,includeHidden:hn.includeHidden,interval:hn.interval,label:!1,minTickGap:hn.minTickGap,mirror:hn.mirror,orientation:hn.orientation,padding:hn.padding,reversed:hn.reversed,scale:hn.scale,tick:hn.tick,tickCount:hn.tickCount,tickLine:No.tickLine,tickSize:No.tickSize,type:hn.type,xAxisId:0},rxe=e=>{var t=Ir(e,txe);return v.createElement(v.Fragment,null,v.createElement(J1e,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),v.createElement(exe,t))},ds=v.memo(rxe,s7);ds.displayName="XAxis";var nxe=["type"],axe=["dangerouslySetInnerHTML","ticks","scale"],ixe=["id","scale"];function hj(){return hj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hj.apply(null,arguments)}function XD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ZD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XD(Object(r),!0).forEach(function(n){sxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sxe(e,t,r){return(t=oxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oxe(e){var t=lxe(e,"string");return typeof t=="symbol"?t:t+""}function lxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mj(e,t){if(e==null)return{};var r,n,a=cxe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cxe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function uxe(e){var t=hr(),r=v.useRef(null),n=NC(),{type:a}=e,o=mj(e,nxe),u=Gb(n,"yAxis",a),c=v.useMemo(()=>{if(u!=null)return ZD(ZD({},o),{},{type:u})},[u,o]);return v.useLayoutEffect(()=>{c!=null&&(r.current===null?t(dbe(c)):r.current!==c&&t(fbe({prev:r.current,next:c})),r.current=c)},[c,t]),v.useLayoutEffect(()=>()=>{r.current&&(t(pbe(r.current)),r.current=null)},[t]),null}function dxe(e){var{yAxisId:t,className:r,width:n,label:a}=e,o=v.useRef(null),u=v.useRef(null),c=ze(wC),p=bn(),h=hr(),f="yAxis",m=ze(P=>PI(P,t)),b=ze(P=>rhe(P,t)),_=ze(P=>OI(P,f,t,p)),j=ze(P=>dI(P,t));if(v.useLayoutEffect(()=>{if(!(n!=="auto"||!m||Bk(a)||v.isValidElement(a)||j==null)){var P=o.current;if(P){var k=P.getCalculatedWidth();Math.round(m.width)!==Math.round(k)&&h(hbe({id:t,width:k}))}}},[_,m,h,a,t,n,j]),m==null||b==null||j==null)return null;var{dangerouslySetInnerHTML:w,ticks:y,scale:x}=e,S=mj(e,axe),{id:T,scale:N}=j,A=mj(j,ixe);return v.createElement(Zk,hj({},S,A,{ref:o,labelRef:u,x:b.x,y:b.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:m.width,height:m.height,className:Mt("recharts-".concat(f," ").concat(f),r),viewBox:c,ticks:_,axisType:f}))}var fxe={allowDataOverflow:mn.allowDataOverflow,allowDecimals:mn.allowDecimals,allowDuplicatedCategory:mn.allowDuplicatedCategory,angle:mn.angle,axisLine:No.axisLine,hide:!1,includeHidden:mn.includeHidden,interval:mn.interval,label:!1,minTickGap:mn.minTickGap,mirror:mn.mirror,orientation:mn.orientation,padding:mn.padding,reversed:mn.reversed,scale:mn.scale,tick:mn.tick,tickCount:mn.tickCount,tickLine:No.tickLine,tickSize:No.tickSize,type:mn.type,width:mn.width,yAxisId:0},pxe=e=>{var t=Ir(e,fxe);return v.createElement(v.Fragment,null,v.createElement(uxe,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),v.createElement(dxe,t))},fs=v.memo(pxe,s7);fs.displayName="YAxis";var hxe=(e,t)=>t,t2=ce([hxe,Rt,oI,xn,QI,Ho,vme,an],jme),r2=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},o7=mi("mouseClick"),l7=Zh();l7.startListening({actionCreator:o7,effect:(e,t)=>{var r=e.payload,n=t2(t.getState(),r2(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(ghe({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var gj=mi("mouseMove"),c7=Zh(),uv=null;c7.startListening({actionCreator:gj,effect:(e,t)=>{var r=e.payload;uv!==null&&cancelAnimationFrame(uv);var n=r2(r);uv=requestAnimationFrame(()=>{var a=t.getState(),o=Ek(a,a.tooltip.settings.shared);if(o==="axis"){var u=t2(a,n);(u==null?void 0:u.activeIndex)!=null?t.dispatch(FI({activeIndex:u.activeIndex,activeDataKey:void 0,activeCoordinate:u.activeCoordinate})):t.dispatch(zI())}uv=null})}});function mxe(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var JD={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},u7=_a({name:"rootProps",initialState:JD,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:JD.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),gxe=u7.reducer,{updateOptions:vxe}=u7.actions,yxe=null,bxe={updatePolarOptions:(e,t)=>t.payload},d7=_a({name:"polarOptions",initialState:yxe,reducers:bxe}),{updatePolarOptions:_xe}=d7.actions,xxe=d7.reducer,f7=mi("keyDown"),p7=mi("focus"),n2=Zh();n2.startListening({actionCreator:f7,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var u=Tk(a,pf(r),dm(r),pm(r)),c=u==null?-1:Number(u);if(!(!Number.isFinite(c)||c<0)){var p=Ho(r);if(o==="Enter"){var h=Uy(r,"axis","hover",String(a.index));t.dispatch(aj({active:!a.active,activeIndex:a.index,activeCoordinate:h}));return}var f=she(r),m=f==="left-to-right"?1:-1,b=o==="ArrowRight"?1:-1,_=c+b*m;if(!(p==null||_>=p.length||_<0)){var j=Uy(r,"axis","hover",String(_));t.dispatch(aj({active:!0,activeIndex:_.toString(),activeCoordinate:j}))}}}}}});n2.startListening({actionCreator:p7,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var o="0",u=Uy(r,"axis","hover",String(o));t.dispatch(aj({active:!0,activeIndex:o,activeCoordinate:u}))}}}});var oi=mi("externalEvent"),h7=Zh(),Ew=new Map;h7.startListening({actionCreator:oi,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,o=Ew.get(a);o!==void 0&&cancelAnimationFrame(o);var u=requestAnimationFrame(()=>{try{var c=t.getState(),p={activeCoordinate:rme(c),activeDataKey:Dk(c),activeIndex:Ul(c),activeLabel:JI(c),activeTooltipIndex:Ul(c),isTooltipActive:nme(c)};r(p,n)}finally{Ew.delete(a)}});Ew.set(a,u)}}});var wxe=ce([df],e=>e.tooltipItemPayloads),Sxe=ce([wxe,(e,t)=>t,(e,t,r)=>r],(e,t,r)=>{if(t!=null){var n=e.find(o=>o.settings.graphicalItemId===r);if(n!=null){var{getPosition:a}=n;if(a!=null)return a(t)}}}),m7=mi("touchMove"),g7=Zh();g7.startListening({actionCreator:m7,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=Ek(n,n.tooltip.settings.shared);if(a==="axis"){var o=r.touches[0];if(o==null)return;var u=t2(n,r2({clientX:o.clientX,clientY:o.clientY,currentTarget:r.currentTarget}));(u==null?void 0:u.activeIndex)!=null&&t.dispatch(FI({activeIndex:u.activeIndex,activeDataKey:void 0,activeCoordinate:u.activeCoordinate}))}else if(a==="item"){var c,p=r.touches[0];if(document.elementFromPoint==null||p==null)return;var h=document.elementFromPoint(p.clientX,p.clientY);if(!h||!h.getAttribute)return;var f=h.getAttribute(D5),m=(c=h.getAttribute(M5))!==null&&c!==void 0?c:void 0,b=ff(n).find(w=>w.id===m);if(f==null||b==null||m==null)return;var{dataKey:_}=b,j=Sxe(n,f,m);t.dispatch(BI({activeDataKey:_,activeIndex:f,activeCoordinate:j,activeGraphicalItemId:m}))}}}});var jxe=t5({brush:Rbe,cartesianAxis:mbe,chartData:tge,errorBars:k_e,graphicalItems:Sye,layout:Poe,legend:Lle,options:Qme,polarAxis:Ive,polarOptions:xxe,referenceElements:Lbe,rootProps:gxe,tooltip:vhe,zIndex:$me}),Cxe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return toe({reducer:jxe,preloadedState:t,middleware:n=>{var a;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([l7.middleware,c7.middleware,n2.middleware,h7.middleware,g7.middleware])},enhancers:n=>{var a=n;return typeof n=="function"&&(a=n()),a.concat(g5({type:"raf"}))},devTools:{serialize:{replacer:mxe},name:"recharts-".concat(r)}})};function v7(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=bn(),o=v.useRef(null);if(a)return r;o.current==null&&(o.current=Cxe(t,n));var u=mC;return v.createElement(Z_e,{context:u,store:o.current},r)}function kxe(e){var{layout:t,margin:r}=e,n=hr(),a=bn();return v.useEffect(()=>{a||(n(Noe(t)),n(koe(r)))},[n,a,t,r]),null}var y7=v.memo(kxe,gm);function b7(e){var t=hr();return v.useEffect(()=>{t(vxe(e))},[t,e]),null}function e4(e){var{zIndex:t,isPanorama:r}=e,n=v.useRef(null),a=hr();return v.useLayoutEffect(()=>(n.current&&a(Lme({zIndex:t,element:n.current,isPanorama:r})),()=>{a(Ime({zIndex:t,isPanorama:r}))}),[a,t,r]),v.createElement("g",{tabIndex:-1,ref:n})}function t4(e){var{children:t,isPanorama:r}=e,n=ze(kme);if(!n||n.length===0)return t;var a=n.filter(u=>u<0),o=n.filter(u=>u>0);return v.createElement(v.Fragment,null,a.map(u=>v.createElement(e4,{key:u,zIndex:u,isPanorama:r})),t,o.map(u=>v.createElement(e4,{key:u,zIndex:u,isPanorama:r})))}var Nxe=["children"];function Exe(e,t){if(e==null)return{};var r,n,a=Txe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Txe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Zy(){return Zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zy.apply(null,arguments)}var Pxe={width:"100%",height:"100%",display:"block"},Axe=v.forwardRef((e,t)=>{var r=CC(),n=kC(),a=X5();if(!Cs(r)||!Cs(n))return null;var{children:o,otherAttributes:u,title:c,desc:p}=e,h,f;return u!=null&&(typeof u.tabIndex=="number"?h=u.tabIndex:h=a?0:void 0,typeof u.role=="string"?f=u.role:f=a?"application":void 0),v.createElement(aC,Zy({},u,{title:c,desc:p,role:f,tabIndex:h,width:r,height:n,style:Pxe,ref:t}),o)}),Rxe=e=>{var{children:t}=e,r=ze(Db);if(!r)return null;var{width:n,height:a,y:o,x:u}=r;return v.createElement(aC,{width:n,height:a,x:u,y:o},t)},r4=v.forwardRef((e,t)=>{var{children:r}=e,n=Exe(e,Nxe),a=bn();return a?v.createElement(Rxe,null,v.createElement(t4,{isPanorama:!0},r)):v.createElement(Axe,Zy({ref:t},n),v.createElement(t4,{isPanorama:!1},r))});function Oxe(){var e=hr(),[t,r]=v.useState(null),n=ze(Koe);return v.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),o=a.width/t.offsetWidth;bt(o)&&o!==n&&e(Toe(o))}},[t,e,n]),r}function n4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dxe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n4(Object(r),!0).forEach(function(n){Mxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mxe(e,t,r){return(t=Lxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lxe(e){var t=Ixe(e,"string");return typeof t=="symbol"?t:t+""}function Ixe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fl(){return Fl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fl.apply(null,arguments)}var $xe=()=>(uge(),null);function Jy(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Bxe=v.forwardRef((e,t)=>{var r,n,a=v.useRef(null),[o,u]=v.useState({containerWidth:Jy((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Jy((n=e.style)===null||n===void 0?void 0:n.height)}),c=v.useCallback((h,f)=>{u(m=>{var b=Math.round(h),_=Math.round(f);return m.containerWidth===b&&m.containerHeight===_?m:{containerWidth:b,containerHeight:_}})},[]),p=v.useCallback(h=>{if(typeof t=="function"&&t(h),h!=null&&typeof ResizeObserver<"u"){var{width:f,height:m}=h.getBoundingClientRect();c(f,m);var b=j=>{var w=j[0];if(w!=null){var{width:y,height:x}=w.contentRect;c(y,x)}},_=new ResizeObserver(b);_.observe(h),a.current=_}},[t,c]);return v.useEffect(()=>()=>{var h=a.current;h!=null&&h.disconnect()},[c]),v.createElement(v.Fragment,null,v.createElement(em,{width:o.containerWidth,height:o.containerHeight}),v.createElement("div",Fl({ref:p},e)))}),zxe=v.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,o]=v.useState({containerWidth:Jy(r),containerHeight:Jy(n)}),u=v.useCallback((p,h)=>{o(f=>{var m=Math.round(p),b=Math.round(h);return f.containerWidth===m&&f.containerHeight===b?f:{containerWidth:m,containerHeight:b}})},[]),c=v.useCallback(p=>{if(typeof t=="function"&&t(p),p!=null){var{width:h,height:f}=p.getBoundingClientRect();u(h,f)}},[t,u]);return v.createElement(v.Fragment,null,v.createElement(em,{width:a.containerWidth,height:a.containerHeight}),v.createElement("div",Fl({ref:c},e)))}),Fxe=v.forwardRef((e,t)=>{var{width:r,height:n}=e;return v.createElement(v.Fragment,null,v.createElement(em,{width:r,height:n}),v.createElement("div",Fl({ref:t},e)))}),qxe=v.forwardRef((e,t)=>{var{width:r,height:n}=e;return typeof r=="string"||typeof n=="string"?v.createElement(zxe,Fl({},e,{ref:t})):typeof r=="number"&&typeof n=="number"?v.createElement(Fxe,Fl({},e,{width:r,height:n,ref:t})):v.createElement(v.Fragment,null,v.createElement(em,{width:r,height:n}),v.createElement("div",Fl({ref:t},e)))});function Uxe(e){return e?Bxe:qxe}var Hxe=v.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:o,onContextMenu:u,onDoubleClick:c,onMouseDown:p,onMouseEnter:h,onMouseLeave:f,onMouseMove:m,onMouseUp:b,onTouchEnd:_,onTouchMove:j,onTouchStart:w,style:y,width:x,responsive:S,dispatchTouchEvents:T=!0}=e,N=v.useRef(null),A=hr(),[P,k]=v.useState(null),[R,D]=v.useState(null),I=Oxe(),q=SC(),z=(q==null?void 0:q.width)>0?q.width:x,M=(q==null?void 0:q.height)>0?q.height:a,F=v.useCallback(re=>{I(re),typeof t=="function"&&t(re),k(re),D(re),re!=null&&(N.current=re)},[I,t,k,D]),B=v.useCallback(re=>{A(o7(re)),A(oi({handler:o,reactEvent:re}))},[A,o]),O=v.useCallback(re=>{A(gj(re)),A(oi({handler:h,reactEvent:re}))},[A,h]),$=v.useCallback(re=>{A(zI()),A(oi({handler:f,reactEvent:re}))},[A,f]),K=v.useCallback(re=>{A(gj(re)),A(oi({handler:m,reactEvent:re}))},[A,m]),V=v.useCallback(()=>{A(p7())},[A]),Q=v.useCallback(re=>{A(f7(re.key))},[A]),U=v.useCallback(re=>{A(oi({handler:u,reactEvent:re}))},[A,u]),X=v.useCallback(re=>{A(oi({handler:c,reactEvent:re}))},[A,c]),ee=v.useCallback(re=>{A(oi({handler:p,reactEvent:re}))},[A,p]),te=v.useCallback(re=>{A(oi({handler:b,reactEvent:re}))},[A,b]),me=v.useCallback(re=>{A(oi({handler:w,reactEvent:re}))},[A,w]),Ce=v.useCallback(re=>{T&&A(m7(re)),A(oi({handler:j,reactEvent:re}))},[A,T,j]),xe=v.useCallback(re=>{A(oi({handler:_,reactEvent:re}))},[A,_]),He=Uxe(S);return v.createElement(o$.Provider,{value:P},v.createElement(y6.Provider,{value:R},v.createElement(He,{width:z??(y==null?void 0:y.width),height:M??(y==null?void 0:y.height),className:Mt("recharts-wrapper",n),style:Dxe({position:"relative",cursor:"default",width:z,height:M},y),onClick:B,onContextMenu:U,onDoubleClick:X,onFocus:V,onKeyDown:Q,onMouseDown:ee,onMouseEnter:O,onMouseLeave:$,onMouseMove:K,onMouseUp:te,onTouchEnd:xe,onTouchMove:Ce,onTouchStart:me,ref:F},v.createElement($xe,null),r)))}),Wxe=["width","height","responsive","children","className","style","compact","title","desc"];function Kxe(e,t){if(e==null)return{};var r,n,a=Gxe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Gxe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var _7=v.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:o,className:u,style:c,compact:p,title:h,desc:f}=e,m=Kxe(e,Wxe),b=Jn(m);return p?v.createElement(v.Fragment,null,v.createElement(em,{width:r,height:n}),v.createElement(r4,{otherAttributes:b,title:h,desc:f},o)):v.createElement(Hxe,{className:u,style:c,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},v.createElement(r4,{otherAttributes:b,title:h,desc:f,ref:t},v.createElement($be,null,o)))});function vj(){return vj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vj.apply(null,arguments)}var Vxe={top:5,right:5,bottom:5,left:5},Yxe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Vxe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},a2=v.forwardRef(function(t,r){var n,a=Ir(t.categoricalChartProps,Yxe),{chartName:o,defaultTooltipEventType:u,validateTooltipEventTypes:c,tooltipPayloadSearcher:p,categoricalChartProps:h}=t,f={chartName:o,defaultTooltipEventType:u,validateTooltipEventTypes:c,tooltipPayloadSearcher:p,eventEmitter:void 0};return v.createElement(v7,{preloadedState:{options:f},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:o},v.createElement(D$,{chartData:h.data}),v.createElement(y7,{layout:a.layout,margin:a.margin}),v.createElement(b7,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),v.createElement(_7,vj({},a,{ref:r})))}),Qxe=["axis"],a4=v.forwardRef((e,t)=>v.createElement(a2,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Qxe,tooltipPayloadSearcher:a_,categoricalChartProps:e,ref:t})),Xxe=["axis","item"],jp=v.forwardRef((e,t)=>v.createElement(a2,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Xxe,tooltipPayloadSearcher:a_,categoricalChartProps:e,ref:t}));function Zxe(e){var t=hr();return v.useEffect(()=>{t(_xe(e))},[t,e]),null}var Jxe=["layout"];function yj(){return yj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yj.apply(null,arguments)}function ewe(e,t){if(e==null)return{};var r,n,a=twe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function twe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var rwe={top:5,right:5,bottom:5,left:5},x7={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:rwe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},nwe=v.forwardRef(function(t,r){var n,a=Ir(t.categoricalChartProps,x7),{layout:o}=a,u=ewe(a,Jxe),{chartName:c,defaultTooltipEventType:p,validateTooltipEventTypes:h,tooltipPayloadSearcher:f}=t,m={chartName:c,defaultTooltipEventType:p,validateTooltipEventTypes:h,tooltipPayloadSearcher:f,eventEmitter:void 0};return v.createElement(v7,{preloadedState:{options:m},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:c},v.createElement(D$,{chartData:a.data}),v.createElement(y7,{layout:o,margin:a.margin}),v.createElement(b7,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),v.createElement(Zxe,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),v.createElement(_7,yj({},u,{ref:r})))});function i4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function s4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i4(Object(r),!0).forEach(function(n){awe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function awe(e,t,r){return(t=iwe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iwe(e){var t=swe(e,"string");return typeof t=="symbol"?t:t+""}function swe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var owe=["item"],lwe=s4(s4({},x7),{},{layout:"centric",startAngle:0,endAngle:360}),cwe=v.forwardRef((e,t)=>{var r=Ir(e,lwe);return v.createElement(nwe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:owe,tooltipPayloadSearcher:a_,categoricalChartProps:r,ref:t})}),uwe=["axis"],o4=v.forwardRef((e,t)=>v.createElement(a2,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:uwe,tooltipPayloadSearcher:a_,categoricalChartProps:e,ref:t}));const dwe="_wrap_9qoli_1",fwe="_card_9qoli_6",pwe="_cardHeader_9qoli_25",hwe="_cardTitle_9qoli_34",mwe="_sectionTitle_9qoli_43",gwe="_sectionSub_9qoli_50",vwe="_cardFooter_9qoli_57",ywe="_summary_9qoli_66",bwe="_summaryItem_9qoli_77",_we="_summaryCount_9qoli_85",xwe="_tableWrap_9qoli_91",wwe="_table_9qoli_91",Swe="_tableEqualColumns_9qoli_102",jwe="_num_9qoli_144",Cwe="_episodeLink_9qoli_154",kwe="_empty_9qoli_164",Nwe="_analyticsTabs_9qoli_200",Ewe="_analyticsTab_9qoli_200",Twe="_analyticsTabActive_9qoli_228",Pwe="_chartContainer_9qoli_276",Ee={wrap:dwe,card:fwe,cardHeader:pwe,cardTitle:hwe,sectionTitle:mwe,sectionSub:gwe,cardFooter:vwe,summary:ywe,summaryItem:bwe,summaryCount:_we,tableWrap:xwe,table:wwe,tableEqualColumns:Swe,num:jwe,episodeLink:Cwe,empty:kwe,analyticsTabs:Nwe,analyticsTab:Ewe,analyticsTabActive:Twe,chartContainer:Pwe},Jr={human:"var(--accent)",bot:"#e6a030",feed:"#0dcaf0",requests:"#0d6efd",listens:"#198754"},l4=["#0dcaf0","#0d6efd","#198754","#e6a030","#6f42c1","#fd7e14","#6c757d"];function Awe(){const e=new Date;e.setUTCDate(e.getUTCDate()-1);const t=new Date(e);return t.setUTCDate(t.getUTCDate()-13),{start_date:t.toISOString().slice(0,10),end_date:e.toISOString().slice(0,10)}}function Rwe(e){let t=0,r=0;for(const n of e.rss_daily)t+=n.bot_count,r+=n.human_count;return{bot:t,human:r,total:t+r}}function Owe(e){const t={};for(const r of e.episodes)t[r.id]={requestsBot:0,requestsHuman:0,listensBot:0,listensHuman:0};for(const r of e.episode_daily){const n=t[r.episode_id];n&&(n.requestsBot+=r.bot_count,n.requestsHuman+=r.human_count)}for(const r of e.episode_listens_daily){const n=t[r.episode_id];n&&(n.listensBot+=r.bot_count,n.listensHuman+=r.human_count)}return t}function Dwe(e){const t={};for(const r of e.episode_location_daily){const n=t[r.location]??{bot:0,human:0};n.bot+=r.bot_count,n.human+=r.human_count,t[r.location]=n}return Object.entries(t).map(([r,n])=>({location:r,...n,total:n.bot+n.human})).sort((r,n)=>n.total-r.total)}function go(e){return new Date(e+"T00:00:00Z").toLocaleDateString(void 0,{month:"short",day:"numeric"})}function cd(e){return typeof e=="string"?go(e):String(e??"")}const dn={tick:{fill:"var(--text-muted)",fontSize:11},axisLine:{stroke:"var(--border)"},tickLine:{stroke:"var(--border)"}},os={background:"var(--bg-elevated)",border:"1px solid var(--border)",borderRadius:8};function Cp({options:e,value:t,onChange:r,labels:n}){return i.jsx("div",{className:Ee.analyticsTabs,role:"tablist",children:e.map(a=>i.jsx("button",{type:"button",role:"tab","aria-selected":t===a,className:t===a?Ee.analyticsTabActive:Ee.analyticsTab,onClick:()=>r(a),children:n[a]},a))})}function Mwe(){const{id:e}=bi(),[t,r]=v.useState("line"),[n,a]=v.useState("line"),[o,u]=v.useState("bar"),[c,p]=v.useState("bar"),[h,f]=v.useState("pie"),[m,b]=v.useState(!1);v.useEffect(()=>{const B=window.matchMedia("(max-width: 480px)"),O=()=>b(B.matches);return O(),B.addEventListener("change",O),()=>B.removeEventListener("change",O)},[]);const _=m?{top:8,right:4,left:0,bottom:8}:{top:8,right:8,left:8,bottom:8},j=m?72:120,w=v.useMemo(()=>Awe(),[]),{data:y,isLoading:x}=Oe({queryKey:["podcast",e],queryFn:()=>fu(e),enabled:!!e}),{data:S,isLoading:T}=Oe({queryKey:["podcast-analytics",e,w.start_date,w.end_date],queryFn:()=>JY(e,w),enabled:!!e}),N=v.useMemo(()=>S?Owe(S):{},[S]),A=v.useMemo(()=>S?Dwe(S):[],[S]),P=v.useMemo(()=>{if(!S)return[];const B={};for(const O of S.rss_daily)B[O.stat_date]={stat_date:O.stat_date,feed:O.human_count+O.bot_count,requests:0,listens:0};for(const O of S.episode_daily)B[O.stat_date]||(B[O.stat_date]={stat_date:O.stat_date,feed:0,requests:0,listens:0}),B[O.stat_date].requests+=O.human_count+O.bot_count;for(const O of S.episode_listens_daily)B[O.stat_date]||(B[O.stat_date]={stat_date:O.stat_date,feed:0,requests:0,listens:0}),B[O.stat_date].listens+=O.human_count+O.bot_count;return Object.values(B).sort((O,$)=>O.stat_date.localeCompare($.stat_date))},[S]),k=v.useMemo(()=>S?[...S.rss_daily].sort((B,O)=>B.stat_date.localeCompare(O.stat_date)).map(B=>({stat_date:B.stat_date,People:B.human_count,Apps:B.bot_count,total:B.human_count+B.bot_count})):[],[S]),R=v.useMemo(()=>S?S.episodes.map(B=>{const O=N[B.id]??{requestsHuman:0,requestsBot:0};return{id:B.id,name:B.title.length>30?B.title.slice(0,27)+"...":B.title,fullName:B.title,requests:O.requestsHuman+O.requestsBot,People:O.requestsHuman,Apps:O.requestsBot}}).sort((B,O)=>O.requests-B.requests):[],[S,N]),D=v.useMemo(()=>S?S.episodes.map(B=>{const O=N[B.id]??{listensHuman:0,listensBot:0};return{id:B.id,name:B.title.length>30?B.title.slice(0,27)+"...":B.title,fullName:B.title,listens:O.listensHuman+O.listensBot,People:O.listensHuman,Apps:O.listensBot}}).sort((B,O)=>O.listens-B.listens):[],[S,N]),I=v.useMemo(()=>A.map(B=>({name:B.location,value:B.total})),[A]),q=P.length>0||k.length>0||R.some(B=>B.requests>0)||D.some(B=>B.listens>0)||I.length>0;if(!e)return null;if(x||!y)return i.jsx(ba,{});if(T&&!S)return i.jsx(ba,{});const z=[{label:"Home",href:"/"},{label:y.title,href:`/podcasts/${e}`,mobileLabel:"Podcast"},{label:"Analytics"}],M=S?Rwe(S):{bot:0,human:0,total:0},F=(B,O,$)=>{if(B.length===0)return i.jsx("p",{className:Ee.empty,children:"No data in the last 2 weeks."});const K={data:B,margin:_};return $==="line"?i.jsxs(a4,{...K,children:[i.jsx(cs,{strokeDasharray:"3 3",stroke:"var(--border)"}),i.jsx(ds,{dataKey:"stat_date",tickFormatter:go,...dn}),i.jsx(fs,{tickFormatter:V=>V>=1e3?`${V/1e3}k`:String(V),...dn}),i.jsx(is,{contentStyle:os,labelFormatter:cd}),i.jsx(mo,{}),O.map(V=>i.jsx(ih,{type:"monotone",dataKey:V.key,name:V.name,stroke:V.color,strokeWidth:2,dot:{r:3}},V.key))]}):$==="area"?i.jsxs(o4,{...K,children:[i.jsx(cs,{strokeDasharray:"3 3",stroke:"var(--border)"}),i.jsx(ds,{dataKey:"stat_date",tickFormatter:go,...dn}),i.jsx(fs,{tickFormatter:V=>V>=1e3?`${V/1e3}k`:String(V),...dn}),i.jsx(is,{contentStyle:os,labelFormatter:cd}),i.jsx(mo,{}),O.map(V=>i.jsx(sh,{type:"monotone",dataKey:V.key,name:V.name,stackId:"1",stroke:V.color,fill:V.color,fillOpacity:.5,strokeWidth:2},V.key))]}):$==="bar"?i.jsxs(jp,{...K,barCategoryGap:"10%",children:[i.jsx(cs,{strokeDasharray:"3 3",stroke:"var(--border)"}),i.jsx(ds,{dataKey:"stat_date",tickFormatter:go,...dn}),i.jsx(fs,{tickFormatter:V=>V>=1e3?`${V/1e3}k`:String(V),...dn}),i.jsx(is,{contentStyle:os,labelFormatter:cd}),i.jsx(mo,{}),O.map(V=>i.jsx(us,{dataKey:V.key,name:V.name,fill:V.color,radius:[4,4,0,0],stackId:"1"},V.key))]}):null};return i.jsxs("div",{className:Ee.wrap,children:[i.jsx(tf,{items:z}),i.jsxs("div",{className:Ee.card,children:[i.jsx("div",{className:Ee.cardHeader,children:i.jsxs("h1",{className:Ee.cardTitle,children:[i.jsx(HM,{size:24,strokeWidth:2,"aria-hidden":!0,style:{marginRight:"0.5rem",verticalAlign:"middle"}}),"Analytics"]})}),i.jsx("p",{className:Ee.sectionSub,children:"See how your show is doing over the last 2 weeks: feed check-ins, episode plays, and where listeners are from."}),i.jsx("p",{className:Ee.sectionSub,children:"Numbers include both people and automated apps (e.g. podcast players)."})]}),!q&&i.jsx("div",{className:Ee.card,children:i.jsx("p",{className:Ee.empty,children:"No data in the last 2 weeks."})}),q&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:Ee.card,children:[i.jsxs("h2",{className:Ee.sectionTitle,children:[i.jsx(GF,{size:18,strokeWidth:2,"aria-hidden":!0,style:{marginRight:"0.5rem",verticalAlign:"middle"}}),"Overview"]}),i.jsx(Cp,{options:["line","area","bar","table"],value:t,onChange:r,labels:{line:"Line",area:"Area",bar:"Bar",table:"Table"}}),t==="table"?i.jsx("div",{className:Ee.tableWrap,children:i.jsxs("table",{className:`${Ee.table} ${Ee.tableEqualColumns}`,children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Date"}),i.jsx("th",{className:Ee.num,children:"Feed Check-Ins"}),i.jsx("th",{className:Ee.num,children:"Episode Requests"}),i.jsx("th",{className:Ee.num,children:"Listens"})]})}),i.jsx("tbody",{children:[...P].reverse().map(B=>i.jsxs("tr",{children:[i.jsx("td",{children:go(B.stat_date)}),i.jsx("td",{className:Ee.num,children:B.feed}),i.jsx("td",{className:Ee.num,children:B.requests}),i.jsx("td",{className:Ee.num,children:B.listens})]},B.stat_date))})]})}):i.jsx("div",{className:Ee.chartContainer,children:i.jsx(hp,{width:"100%",height:300,children:P.length===0?i.jsx("p",{className:Ee.empty,children:"No data in the last 2 weeks."}):t==="line"?i.jsxs(a4,{data:P,margin:_,children:[i.jsx(cs,{strokeDasharray:"3 3",stroke:"var(--border)"}),i.jsx(ds,{dataKey:"stat_date",tickFormatter:go,...dn}),i.jsx(fs,{tickFormatter:B=>B>=1e3?`${B/1e3}k`:String(B),...dn}),i.jsx(is,{contentStyle:os,labelFormatter:cd}),i.jsx(mo,{}),i.jsx(ih,{type:"monotone",dataKey:"feed",name:"Feed Check-Ins",stroke:Jr.feed,strokeWidth:2,dot:{r:3}}),i.jsx(ih,{type:"monotone",dataKey:"requests",name:"Episode Requests",stroke:Jr.requests,strokeWidth:2,dot:{r:3}}),i.jsx(ih,{type:"monotone",dataKey:"listens",name:"Listens",stroke:Jr.listens,strokeWidth:2,dot:{r:3}})]}):t==="area"?i.jsxs(o4,{data:P,margin:_,children:[i.jsx(cs,{strokeDasharray:"3 3",stroke:"var(--border)"}),i.jsx(ds,{dataKey:"stat_date",tickFormatter:go,...dn}),i.jsx(fs,{tickFormatter:B=>B>=1e3?`${B/1e3}k`:String(B),...dn}),i.jsx(is,{contentStyle:os,labelFormatter:cd}),i.jsx(mo,{}),i.jsx(sh,{type:"monotone",dataKey:"feed",name:"Feed Check-Ins",stackId:"1",stroke:Jr.feed,fill:Jr.feed,fillOpacity:.5,strokeWidth:2}),i.jsx(sh,{type:"monotone",dataKey:"requests",name:"Episode Requests",stackId:"1",stroke:Jr.requests,fill:Jr.requests,fillOpacity:.5,strokeWidth:2}),i.jsx(sh,{type:"monotone",dataKey:"listens",name:"Listens",stackId:"1",stroke:Jr.listens,fill:Jr.listens,fillOpacity:.5,strokeWidth:2})]}):i.jsxs(jp,{data:P,margin:_,barCategoryGap:"10%",children:[i.jsx(cs,{strokeDasharray:"3 3",stroke:"var(--border)"}),i.jsx(ds,{dataKey:"stat_date",tickFormatter:go,...dn}),i.jsx(fs,{tickFormatter:B=>B>=1e3?`${B/1e3}k`:String(B),...dn}),i.jsx(is,{contentStyle:os,labelFormatter:cd}),i.jsx(mo,{}),i.jsx(us,{dataKey:"feed",name:"Feed Check-Ins",fill:Jr.feed,radius:[4,4,0,0],stackId:"1"}),i.jsx(us,{dataKey:"requests",name:"Episode Requests",fill:Jr.requests,radius:[4,4,0,0],stackId:"1"}),i.jsx(us,{dataKey:"listens",name:"Listens",fill:Jr.listens,radius:[4,4,0,0],stackId:"1"})]})})}),i.jsxs("p",{className:Ee.cardFooter,children:[i.jsx("strong",{children:"Feed Check-Ins:"})," Times your RSS feed was requested (e.g. by podcast apps checking for new episodes)."," ",i.jsx("strong",{children:"Episode Requests:"})," Times an episode audio file was requested."," ",i.jsx("strong",{children:"Listens:"})," Plays of 250 KB or more (estimated listeners)."]})]}),i.jsxs("div",{className:Ee.card,children:[i.jsxs("h2",{className:Ee.sectionTitle,children:[i.jsx(Ss,{size:18,strokeWidth:2,"aria-hidden":!0,style:{marginRight:"0.5rem",verticalAlign:"middle"}}),"Feed Check-Ins"]}),i.jsxs("div",{className:Ee.summary,children:[i.jsxs("span",{className:Ee.summaryItem,children:[i.jsx("span",{className:Ee.summaryCount,children:M.total})," ",i.jsx("span",{className:Ee.summaryLabel,children:"Total"})]}),i.jsxs("span",{className:Ee.summaryItem,children:[i.jsx("span",{className:Ee.summaryCount,children:M.human})," ",i.jsx("span",{className:Ee.summaryLabel,children:"People"})]}),i.jsxs("span",{className:Ee.summaryItem,children:[i.jsx("span",{className:Ee.summaryCount,children:M.bot})," ",i.jsx("span",{className:Ee.summaryLabel,children:"Apps"})]})]}),i.jsx(Cp,{options:["line","area","bar","table"],value:n,onChange:a,labels:{line:"Line",area:"Area",bar:"Bar",table:"Table"}}),n==="table"?i.jsx("div",{className:Ee.tableWrap,children:i.jsxs("table",{className:`${Ee.table} ${Ee.tableEqualColumns}`,children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Date"}),i.jsx("th",{className:Ee.num,children:"People"}),i.jsx("th",{className:Ee.num,children:"Apps"}),i.jsx("th",{className:Ee.num,children:"Total"})]})}),i.jsx("tbody",{children:[...k].reverse().map(B=>i.jsxs("tr",{children:[i.jsx("td",{children:go(B.stat_date)}),i.jsx("td",{className:Ee.num,children:B.People}),i.jsx("td",{className:Ee.num,children:B.Apps}),i.jsx("td",{className:Ee.num,children:B.total})]},B.stat_date))})]})}):i.jsx("div",{className:Ee.chartContainer,children:i.jsx(hp,{width:"100%",height:300,children:F(k,[{key:"People",name:"People",color:Jr.human},{key:"Apps",name:"Apps",color:Jr.bot}],n)})})]}),i.jsxs("div",{className:Ee.card,children:[i.jsxs("h2",{className:Ee.sectionTitle,children:[i.jsx(ZF,{size:18,strokeWidth:2,"aria-hidden":!0,style:{marginRight:"0.5rem",verticalAlign:"middle"}}),"Episode Requests"]}),i.jsx(Cp,{options:["bar","table"],value:o,onChange:u,labels:{bar:"Bar",table:"Table"}}),o==="table"?i.jsx("div",{className:Ee.tableWrap,children:i.jsxs("table",{className:Ee.table,children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Episode"}),i.jsx("th",{className:Ee.num,children:"People"}),i.jsx("th",{className:Ee.num,children:"Apps"}),i.jsx("th",{className:Ee.num,children:"Total"})]})}),i.jsx("tbody",{children:R.map(B=>i.jsxs("tr",{children:[i.jsx("td",{children:i.jsx(Ye,{to:`/episodes/${B.id}`,className:Ee.episodeLink,children:B.fullName})}),i.jsx("td",{className:Ee.num,children:B.People}),i.jsx("td",{className:Ee.num,children:B.Apps}),i.jsx("td",{className:Ee.num,children:B.requests})]},B.id))})]})}):i.jsx("div",{className:Ee.chartContainer,children:i.jsx(hp,{width:"100%",height:300,children:R.length===0?i.jsx("p",{className:Ee.empty,children:"No episode data in the last 2 weeks."}):i.jsxs(jp,{data:R,layout:"vertical",margin:_,barCategoryGap:"8%",children:[i.jsx(cs,{strokeDasharray:"3 3",stroke:"var(--border)",horizontal:!1}),i.jsx(ds,{type:"number",...dn}),i.jsx(fs,{type:"category",dataKey:"name",width:j,...dn,tickLine:!1}),i.jsx(is,{contentStyle:os,formatter:B=>[B??0,""],labelFormatter:(B,O)=>{var $,K;return((K=($=O==null?void 0:O[0])==null?void 0:$.payload)==null?void 0:K.fullName)??""}}),i.jsx(mo,{}),i.jsx(us,{dataKey:"People",name:"People",fill:Jr.human,radius:[0,4,4,0],stackId:"1"}),i.jsx(us,{dataKey:"Apps",name:"Apps",fill:Jr.bot,radius:[0,4,4,0],stackId:"1"})]})})})]}),i.jsxs("div",{className:Ee.card,children:[i.jsxs("h2",{className:Ee.sectionTitle,children:[i.jsx(EF,{size:18,strokeWidth:2,"aria-hidden":!0,style:{marginRight:"0.5rem",verticalAlign:"middle"}}),"Listens"]}),i.jsx(Cp,{options:["bar","table"],value:c,onChange:p,labels:{bar:"Bar",table:"Table"}}),c==="table"?i.jsx("div",{className:Ee.tableWrap,children:i.jsxs("table",{className:Ee.table,children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Episode"}),i.jsx("th",{className:Ee.num,children:"People"}),i.jsx("th",{className:Ee.num,children:"Apps"}),i.jsx("th",{className:Ee.num,children:"Total"})]})}),i.jsx("tbody",{children:D.map(B=>i.jsxs("tr",{children:[i.jsx("td",{children:i.jsx(Ye,{to:`/episodes/${B.id}`,className:Ee.episodeLink,children:B.fullName})}),i.jsx("td",{className:Ee.num,children:B.People}),i.jsx("td",{className:Ee.num,children:B.Apps}),i.jsx("td",{className:Ee.num,children:B.listens})]},B.id))})]})}):i.jsx("div",{className:Ee.chartContainer,children:i.jsx(hp,{width:"100%",height:300,children:D.length===0?i.jsx("p",{className:Ee.empty,children:"No listen data in the last 2 weeks."}):i.jsxs(jp,{data:D,layout:"vertical",margin:_,barCategoryGap:"8%",children:[i.jsx(cs,{strokeDasharray:"3 3",stroke:"var(--border)",horizontal:!1}),i.jsx(ds,{type:"number",...dn}),i.jsx(fs,{type:"category",dataKey:"name",width:j,...dn,tickLine:!1}),i.jsx(is,{contentStyle:os,formatter:B=>[B??0,""],labelFormatter:(B,O)=>{var $,K;return((K=($=O==null?void 0:O[0])==null?void 0:$.payload)==null?void 0:K.fullName)??""}}),i.jsx(mo,{}),i.jsx(us,{dataKey:"People",name:"People",fill:Jr.human,radius:[0,4,4,0],stackId:"1"}),i.jsx(us,{dataKey:"Apps",name:"Apps",fill:Jr.bot,radius:[0,4,4,0],stackId:"1"})]})})})]}),i.jsxs("div",{className:Ee.card,children:[i.jsxs("h2",{className:Ee.sectionTitle,children:[i.jsx(iq,{size:18,strokeWidth:2,"aria-hidden":!0,style:{marginRight:"0.5rem",verticalAlign:"middle"}}),"Requests by Location"]}),i.jsx(Cp,{options:["pie","bar","table"],value:h,onChange:f,labels:{pie:"Pie",bar:"Bar",table:"Table"}}),h==="table"?i.jsx("div",{className:Ee.tableWrap,children:i.jsxs("table",{className:Ee.table,children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Location"}),i.jsx("th",{className:Ee.num,children:"People"}),i.jsx("th",{className:Ee.num,children:"Apps"}),i.jsx("th",{className:Ee.num,children:"Total"})]})}),i.jsx("tbody",{children:A.map(B=>i.jsxs("tr",{children:[i.jsx("td",{children:B.location}),i.jsx("td",{className:Ee.num,children:B.human}),i.jsx("td",{className:Ee.num,children:B.bot}),i.jsx("td",{className:Ee.num,children:B.total})]},B.location))})]})}):i.jsx("div",{className:Ee.chartContainer,children:i.jsx(hp,{width:"100%",height:300,children:I.length===0?i.jsx("p",{className:Ee.empty,children:"No location data in the last 2 weeks."}):h==="pie"?i.jsxs(cwe,{children:[i.jsx(P$,{data:I,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:100,label:({name:B,percent:O})=>`${B} ${((O??0)*100).toFixed(0)}%`,children:I.map((B,O)=>i.jsx(mm,{fill:l4[O%l4.length]},O))}),i.jsx(is,{contentStyle:os,formatter:B=>[B??0,"Requests"]})]}):i.jsxs(jp,{data:A,layout:"vertical",margin:_,barCategoryGap:"8%",children:[i.jsx(cs,{strokeDasharray:"3 3",stroke:"var(--border)",horizontal:!1}),i.jsx(ds,{type:"number",...dn}),i.jsx(fs,{type:"category",dataKey:"location",width:j,...dn,tickLine:!1}),i.jsx(is,{contentStyle:os}),i.jsx(us,{dataKey:"total",name:"Requests",fill:Jr.requests,radius:[0,4,4,0]})]})})})]})]})]})}const Lwe="/api";function Iwe(e){return Et(`/podcasts/${e}/episodes`).then(t=>t.episodes)}function $we(e){return Et(`/episodes/${e}`)}function Bwe(e,t){return nn(`/podcasts/${e}/episodes`,t)}function zwe(e,t){return Kl(`/episodes/${e}`,t)}async function Fwe(e,t,r){const n=new FormData;n.append("file",r);const a=await fetch(`${Lwe}/podcasts/${e}/episodes/${t}/artwork`,{method:"POST",credentials:"include",headers:Jt(),body:n});if(!a.ok){const o=await a.json().catch(()=>({error:a.statusText}));throw new Error(o.error??a.statusText)}return a.json()}function qwe(e,t){return Et(`/podcasts/${e}/episodes/${t}/cast`)}function Uwe(e,t,r){return qH(`/podcasts/${e}/episodes/${t}/cast`,{cast_ids:r})}const Hwe="_wrap_27pxs_1",Wwe="_card_27pxs_6",Kwe="_cardHeader_27pxs_14",Gwe="_cardTitle_27pxs_23",Vwe="_newBtn_27pxs_32",Ywe="_newBtnDisabled_27pxs_51",Qwe="_summary_27pxs_60",Xwe="_summaryItem_27pxs_71",Zwe="_summaryCount_27pxs_79",Jwe="_muted_27pxs_86",eSe="_empty_27pxs_92",tSe="_emptyLink_27pxs_103",rSe="_emptyLinkDisabled_27pxs_119",nSe="_list_27pxs_128",aSe="_item_27pxs_137",iSe="_itemSubscriberOnly_27pxs_141",sSe="_itemLink_27pxs_141",oSe="_itemChevron_27pxs_168",lSe="_itemContent_27pxs_171",cSe="_itemTitleRow_27pxs_185",uSe="_itemTitleLockGold_27pxs_196",dSe="_itemTitle_27pxs_185",fSe="_itemMeta_27pxs_208",pSe="_itemStatus_27pxs_215",hSe="_itemMetaItem_27pxs_227",ot={wrap:Hwe,card:Wwe,cardHeader:Kwe,cardTitle:Gwe,newBtn:Vwe,newBtnDisabled:Ywe,summary:Qwe,summaryItem:Xwe,summaryCount:Zwe,muted:Jwe,empty:eSe,emptyLink:tSe,emptyLinkDisabled:rSe,list:nSe,item:aSe,itemSubscriberOnly:iSe,itemLink:sSe,itemChevron:oSe,itemContent:lSe,itemTitleRow:cSe,itemTitleLockGold:uSe,itemTitle:dSe,itemMeta:fSe,itemStatus:pSe,itemMetaItem:hSe};function mSe(){const{id:e}=bi(),{data:t,isLoading:r}=Oe({queryKey:["podcast",e],queryFn:()=>fu(e),enabled:!!e}),{data:n=[],isLoading:a}=Oe({queryKey:["episodes",e],queryFn:()=>Iwe(e),enabled:!!e}),o=(t==null?void 0:t.max_episodes)??null,u=Number((t==null?void 0:t.episode_count)??n.length),c=o!=null&&o>0&&u>=Number(o),{data:p}=Oe({queryKey:["me"],queryFn:_i}),h=ou(p==null?void 0:p.user),f=t==null?void 0:t.my_role,m=f==="owner"||f==="manager",b=n.filter(y=>y.status==="published").length,_=n.filter(y=>y.status==="scheduled").length,j=n.filter(y=>y.status==="draft").length;if(!e)return null;if(r)return i.jsx(ba,{});const w=[{label:"Home",href:"/"},{label:(t==null?void 0:t.title)??"Show",href:`/podcasts/${e}`,mobileLabel:"Podcast"},{label:"Episodes"}];return i.jsxs("div",{className:ot.wrap,children:[i.jsx(tf,{items:w}),i.jsxs("div",{className:ot.card,children:[i.jsxs("div",{className:ot.cardHeader,children:[i.jsx("h1",{className:ot.cardTitle,children:"Episodes"}),h?i.jsxs("span",{className:`${ot.newBtn} ${ot.newBtnDisabled}`,title:"Read-only account",children:[i.jsx(Yr,{size:18,strokeWidth:2.5,"aria-hidden":!0}),"New Episode"]}):m?c?i.jsxs("span",{className:`${ot.newBtn} ${ot.newBtnDisabled}`,title:"You're at max episodes for this show",children:[i.jsx(Yr,{size:18,strokeWidth:2.5,"aria-hidden":!0}),"New Episode"]}):i.jsxs(Ye,{to:`/podcasts/${e}/episodes/new`,className:ot.newBtn,children:[i.jsx(Yr,{size:18,strokeWidth:2.5,"aria-hidden":!0}),"New Episode"]}):i.jsxs("span",{className:`${ot.newBtn} ${ot.newBtnDisabled}`,title:"Only managers and the owner can create episodes",children:[i.jsx(Yr,{size:18,strokeWidth:2.5,"aria-hidden":!0}),"New Episode"]})]}),i.jsxs("div",{className:ot.summary,children:[i.jsxs("span",{className:ot.summaryItem,children:[i.jsx("span",{className:ot.summaryCount,children:b}),i.jsx("span",{className:ot.summaryLabel,children:"Published"})]}),i.jsxs("span",{className:ot.summaryItem,children:[i.jsx("span",{className:ot.summaryCount,children:_}),i.jsx("span",{className:ot.summaryLabel,children:"Scheduled"})]}),i.jsxs("span",{className:ot.summaryItem,children:[i.jsx("span",{className:ot.summaryCount,children:j}),i.jsx("span",{className:ot.summaryLabel,children:"Draft"})]})]}),a&&i.jsx("p",{className:ot.muted,children:i.jsx(GK,{label:"Loading episodes"})}),!a&&n.length===0&&i.jsxs("div",{className:ot.empty,children:[i.jsx("p",{children:"No episodes yet."}),h?i.jsx("span",{className:`${ot.emptyLink} ${ot.emptyLinkDisabled}`,title:"Read-only account",children:"Create first episode"}):m?c?i.jsx("span",{className:`${ot.emptyLink} ${ot.emptyLinkDisabled}`,title:"You're at max episodes for this show",children:"Create first episode"}):i.jsx(Ye,{to:`/podcasts/${e}/episodes/new`,className:ot.emptyLink,children:"Create first episode"}):i.jsx("span",{className:`${ot.emptyLink} ${ot.emptyLinkDisabled}`,title:"Only managers and the owner can create episodes",children:"Create first episode"})]}),!a&&n.length>0&&i.jsx("ul",{className:ot.list,children:n.map(y=>{const x=y.subscriber_only===1;return i.jsx("li",{className:x?`${ot.item} ${ot.itemSubscriberOnly}`:ot.item,children:i.jsxs(Ye,{to:`/episodes/${y.id}`,className:ot.itemLink,"aria-label":`Open ${y.title}`,children:[i.jsxs("div",{className:ot.itemContent,children:[i.jsxs("div",{className:ot.itemTitleRow,children:[x&&i.jsx(Ps,{size:14,strokeWidth:2.5,className:ot.itemTitleLockGold,"aria-label":"Subscriber only"}),i.jsx("span",{className:ot.itemTitle,children:y.title})]}),i.jsxs("div",{className:ot.itemMeta,children:[i.jsx("span",{className:ot.itemStatus,children:y.status}),(y.season_number!=null||y.episode_number!=null)&&i.jsxs("span",{className:ot.itemMetaItem,children:["S",y.season_number??"?"," E",y.episode_number??"?"]}),y.audio_final_path&&i.jsx("span",{className:ot.itemMetaItem,children:" Audio"})]})]}),i.jsx(Qd,{className:ot.itemChevron,size:20,strokeWidth:2,"aria-hidden":!0})]})},y.id)})})]})]})}function gSe(){var x;const{id:e}=bi(),t=yi(),r=Lt(),{data:n}=Oe({queryKey:["podcast",e],queryFn:()=>fu(e),enabled:!!e}),a=(n==null?void 0:n.max_episodes)??null,o=Number((n==null?void 0:n.episode_count)??0),u=a!=null&&a>0&&o>=Number(a),{data:c}=Oe({queryKey:["me"],queryFn:_i}),p=ou(c==null?void 0:c.user);v.useEffect(()=>{p&&e&&t(`/podcasts/${e}/episodes`,{replace:!0})},[p,e,t]);const[h,f]=v.useState(""),[m,b]=v.useState(""),_=v.useRef(null);pi(_,m,{minHeight:80});const j=Ue({mutationFn:()=>{const S=e;if(!S)throw new Error("Missing podcast id");return Bwe(S,{title:h||"",description:m||"",status:"draft",guid_is_permalink:0})},onSuccess:S=>{r.invalidateQueries({queryKey:["episodes",e]}),r.invalidateQueries({queryKey:["podcast",e]}),t(`/episodes/${S.id}`)}});function w(S){S.preventDefault(),!p&&j.mutate()}if(!e)return null;const y=[{label:"Home",href:"/"},{label:(n==null?void 0:n.title)??"Show",href:`/podcasts/${e}`,mobileLabel:"Podcast"},{label:"Episodes",href:`/podcasts/${e}/episodes`},{label:"New episode",hideOnMobile:!0}];return i.jsxs("div",{className:kt.page,children:[i.jsx(tf,{items:y}),i.jsxs("header",{className:kt.hero,children:[i.jsxs("h1",{className:kt.heroTitle,children:["New Episode",i.jsx("span",{className:kt.heroTitleAccent,children:"Add an episode to your show"})]}),i.jsx("p",{className:kt.heroSub,children:"Give your episode a title. You can add a description, audio, and schedule in the editor after creating it."})]}),i.jsx("div",{className:kt.card,children:i.jsxs("form",{onSubmit:w,className:kt.form,children:[i.jsxs("label",{className:kt.label,children:["Title",i.jsx("input",{type:"text",value:h,onChange:S=>f(S.target.value),className:kt.input,placeholder:"e.g. Episode 1: Getting started",required:!0})]}),i.jsxs("label",{className:kt.label,children:["Description",i.jsx("textarea",{ref:_,value:m,onChange:S=>b(S.target.value),className:kt.textarea,rows:2,style:{overflow:"hidden",resize:"none"},placeholder:"What's this episode about? (optional)"})]}),u&&i.jsxs("p",{className:kt.error,role:"alert",children:["This show has reached its limit of ",a," episode",a===1?"":"s",". You cannot create more."]}),j.isError&&i.jsx("p",{className:kt.error,role:"alert",children:(x=j.error)==null?void 0:x.message}),i.jsxs("div",{className:kt.actions,children:[i.jsxs("button",{type:"button",className:kt.cancel,onClick:()=>t(-1),"aria-label":"Cancel creating episode",children:[i.jsx(qM,{size:18,strokeWidth:2,"aria-hidden":!0}),"Cancel"]}),i.jsxs("button",{type:"submit",className:kt.submit,disabled:j.isPending||u||p,"aria-label":"Create episode",children:[i.jsx(Yr,{size:18,strokeWidth:2.5,"aria-hidden":!0}),j.isPending?"Creating...":"Create Episode"]})]})]})})]})}const qr="/api";function vSe(e){return fetch(`${qr}/episodes/${e}/segments`,{method:"GET",credentials:"include"}).then(t=>t.ok?t.json():t.json().then(r=>{throw new Error(r.error??t.statusText)}))}function ySe(e,t,r){const n=new FormData;return r!=null&&r.trim()&&n.append("name",r.trim()),n.append("file",t),fetch(`${qr}/episodes/${e}/segments`,{method:"POST",credentials:"include",headers:Jt(),body:n}).then(a=>a.ok?a.json():a.json().then(o=>{throw new Error(o.error??a.statusText)}))}function bSe(e,t,r){return fetch(`${qr}/episodes/${e}/segments`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",...Jt()},body:JSON.stringify({type:"reusable",reusable_asset_id:t,name:void 0})}).then(n=>n.ok?n.json():n.json().then(a=>{throw new Error(a.error??n.statusText)}))}function _Se(e,t){return fetch(`${qr}/episodes/${e}/segments/reorder`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json",...Jt()},body:JSON.stringify({segment_ids:t})}).then(r=>r.ok?r.json():r.json().then(n=>{throw new Error(n.error??r.statusText)}))}function xSe(e,t,r){return fetch(`${qr}/episodes/${e}/segments/${t}`,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json",...Jt()},body:JSON.stringify(r)}).then(n=>n.ok?n.json():n.json().then(a=>{throw new Error(a.error??n.statusText)}))}function Lv(e,t,r){const n=`${qr}/episodes/${e}/segments/${t}/stream`;return r?`${n}?v=${encodeURIComponent(r)}`:n}function wSe(e,t){return`${qr}/episodes/${e}/segments/${t}/waveform`}function dv(e,t){return fetch(`${qr}/episodes/${e}/segments/${t}/transcript`,{credentials:"include"}).then(r=>r.ok?r.json():r.json().then(n=>{throw new Error(n.error??r.statusText)}))}function SSe(e,t,r){const n=new URL(`${qr}/episodes/${e}/segments/${t}/transcript`,window.location.origin);return n.searchParams.set("regenerate","true"),fetch(n.toString(),{method:"POST",credentials:"include",headers:Jt()}).then(a=>a.ok?a.json():a.json().then(o=>{throw new Error(o.error??a.statusText)}))}function jSe(e,t){return fetch(`${qr}/episodes/${e}/segments/${t}`,{method:"DELETE",credentials:"include",headers:Jt()}).then(r=>{if(!r.ok)return r.json().then(n=>{throw new Error(n.error??r.statusText)})})}function CSe(e,t,r){return fetch(`${qr}/episodes/${e}/segments/${t}/transcript`,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json",...Jt()},body:JSON.stringify({text:r})}).then(n=>n.ok?n.json():n.json().then(a=>{throw new Error(a.error??n.statusText)}))}function kSe(e){return fetch(`${qr}/episodes/${e}/transcript`,{credentials:"include"}).then(t=>t.ok?t.json():t.json().then(r=>{throw new Error(r.error??t.statusText)}))}function NSe(e){return fetch(`${qr}/episodes/${e}/generate-transcript`,{method:"POST",credentials:"include",headers:Jt()}).then(t=>{if(!(t.status===202||t.status===409)&&!t.ok)return t.json().then(r=>{throw new Error(r.error??t.statusText)})})}function ESe(e){return fetch(`${qr}/episodes/${e}/transcript-status`,{credentials:"include"}).then(t=>t.ok?t.json():t.json().then(r=>{throw new Error(r.error??t.statusText)}))}function TSe(e,t){return fetch(`${qr}/episodes/${e}/transcript`,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json",...Jt()},body:JSON.stringify({text:t})}).then(r=>r.ok?r.json():r.json().then(n=>{throw new Error(n.error??r.statusText)}))}function w7(e,t,r){const n=new URL(`${qr}/episodes/${e}/segments/${t}/transcript`,window.location.origin);return typeof r=="number"&&n.searchParams.set("entryIndex",String(r)),fetch(n.toString(),{method:"DELETE",credentials:"include",headers:Jt()}).then(a=>a.ok?a.status===204?{}:a.json():a.json().then(o=>{throw new Error(o.error??a.statusText)}))}function PSe(e,t,r,n){const a={};return r!==void 0&&(a.start_sec=r),n!==void 0&&(a.end_sec=n),fetch(`${qr}/episodes/${e}/segments/${t}/trim`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",...Jt()},body:JSON.stringify(a)}).then(o=>{if(!o.ok)return o.json().then(u=>{throw new Error(u.error??o.statusText)})})}function ASe(e,t,r,n){const a={};return a.threshold_seconds=r,a.silence_threshold=n,fetch(`${qr}/episodes/${e}/segments/${t}/remove-silence`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",...Jt()},body:JSON.stringify(a)}).then(o=>{if(!o.ok)return o.json().then(u=>{throw new Error(u.error??o.statusText)})})}function RSe(e,t,r=-25){return fetch(`${qr}/episodes/${e}/segments/${t}/noise-suppression`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",...Jt()},body:JSON.stringify({nf:r})}).then(n=>{if(!n.ok)return n.json().then(a=>{throw new Error(a.error??n.statusText)})})}function OSe(e){return fetch(`${qr}/episodes/${e}/render`,{method:"POST",credentials:"include",headers:Jt()}).then(async t=>{const r=await t.json().catch(()=>({}));if(t.status===202)return{status:"building"};if(t.status===409)return{status:"already_building",message:r.message??"A build is already in progress."};if(!t.ok)throw new Error(r.error??t.statusText);return r})}function c4(e){return fetch(`${qr}/episodes/${e}/render-status`,{method:"GET",credentials:"include"}).then(t=>t.ok?t.json():t.json().then(r=>{throw new Error(r.error??t.statusText)}))}function DSe(){return Et("/asr/available")}function S7(e){if(!e)return"";const t=Math.floor(e/3600),r=Math.floor(e%3600/60),n=e%60;return t>0?`${t}:${String(r).padStart(2,"0")}:${String(n).padStart(2,"0")}`:`${r}:${String(n).padStart(2,"0")}`}function u4(e){if(e==null||!Number.isFinite(e))return"00:00";const t=Math.ceil(e),r=Math.floor(t/3600),n=Math.floor(t%3600/60),a=t%60;return r>0?`${String(r).padStart(2,"0")}:${String(n).padStart(2,"0")}:${String(a).padStart(2,"0")}`:`${String(n).padStart(2,"0")}:${String(a).padStart(2,"0")}`}function ym(e){if(!e||typeof e!="string")return null;const t=e.trim();if(!t)return null;const n=/Z$|[+-]\d{2}:?\d{2}$/.test(t)?t:t.replace(/Z?$/,"").replace(" ","T")+"Z",a=new Date(n);return Number.isFinite(a.getTime())?a:null}function h_(e){const t=ym(e);if(!t)return"";try{return t.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})}catch{return""}}function i2(e){const t=ym(e);if(!t)return"";try{return t.toLocaleString(void 0,{dateStyle:"medium",timeStyle:"short"})}catch{return""}}function MSe(e){const t=ym(e);if(!t)return"";try{return t.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})}catch{return""}}function s2(e,t){return e!=null&&t!=null?`S${e} E${t}`:e!=null?`S${e}`:t!=null?`E${t}`:""}function LSe(e,t){return e!=null&&t!=null?`Season ${e} Episode ${t}`:e!=null?`Season ${e}`:t!=null?`Episode ${t}`:""}function Tw(e){return{title:e.title,slug:e.slug||eb(e.title),description:e.description??"",subtitle:e.subtitle??"",summary:e.summary??"",contentEncoded:e.content_encoded??"",guid:e.guid??"",artworkUrl:e.artwork_url??"",seasonNumber:e.season_number!=null?String(e.season_number):"",episodeNumber:e.episode_number!=null?String(e.episode_number):"",status:e.status,publishAt:e.publish_at?BSe(e.publish_at):"",explicit:!!e.explicit,episodeType:e.episode_type||"full",episodeLink:e.episode_link??"",guidIsPermalink:e.guid_is_permalink===1,subscriberOnly:!!e.subscriber_only}}function ISe(e){var t,r,n,a;return{title:e.title,slug:e.slug||eb(e.title),description:e.description,subtitle:((t=e.subtitle)==null?void 0:t.trim())||null,summary:((r=e.summary)==null?void 0:r.trim())||null,content_encoded:((n=e.contentEncoded)==null?void 0:n.trim())||null,guid:((a=e.guid)==null?void 0:a.trim())||void 0,season_number:e.seasonNumber===""?null:parseInt(e.seasonNumber,10),episode_number:e.episodeNumber===""?null:parseInt(e.episodeNumber,10),episode_type:e.episodeType||"full",status:e.status,artwork_url:e.artworkUrl===""?null:e.artworkUrl,explicit:e.explicit?1:0,publish_at:e.publishAt?new Date(e.publishAt).toISOString():null,episode_link:e.episodeLink||null,guid_is_permalink:e.guidIsPermalink?1:0,subscriber_only:e.subscriberOnly?1:0}}function eb(e){return e.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"").replace(/-+/g,"-").replace(/^-|-$/g,"")}function jd(e){if(!Number.isFinite(e)||e<0)return"0:00";const t=Math.floor(e/60),r=Math.floor(e%60);return`${t}:${String(r).padStart(2,"0")}`}function $Se(e){const t=ym(e);if(!t)return e;try{return t.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})}catch{return e}}function BSe(e){const t=ym(e);if(!t)return"";const r=n=>n.toString().padStart(2,"0");return`${t.getFullYear()}-${r(t.getMonth()+1)}-${r(t.getDate())}T${r(t.getHours())}:${r(t.getMinutes())}:${r(t.getSeconds())}`}var j7={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},d4=di.createContext&&di.createContext(j7),zSe=["attr","size","title"];function FSe(e,t){if(e==null)return{};var r=qSe(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function tb(){return tb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tb.apply(this,arguments)}function f4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f4(Object(r),!0).forEach(function(n){USe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function USe(e,t,r){return t=HSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HSe(e){var t=WSe(e,"string");return typeof t=="symbol"?t:t+""}function WSe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C7(e){return e&&e.map((t,r)=>di.createElement(t.tag,rb({key:r},t.attr),C7(t.child)))}function Gi(e){return t=>di.createElement(KSe,tb({attr:rb({},e.attr)},t),C7(e.child))}function KSe(e){var t=r=>{var{attr:n,size:a,title:o}=e,u=FSe(e,zSe),c=a||r.size||"1em",p;return r.className&&(p=r.className),e.className&&(p=(p?p+" ":"")+e.className),di.createElement("svg",tb({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,u,{className:p,style:rb(rb({color:e.color||r.color},r.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),o&&di.createElement("title",null,o),e.children)};return d4!==void 0?di.createElement(d4.Consumer,null,r=>t(r)):t(j7)}function GSe(e){return Gi({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M14.8454 9.4083c-1.3907 1.0194-3.405 1.563-5.1424 1.563a9.333 9.333 0 0 1-6.2768-2.3835c-.1313-.117-.0143-.277.1415-.1846a12.693 12.693 0 0 0 6.285 1.6574c1.5384 0 3.2348-.318 4.7917-.9764.2359-.0985.4328.1538.203.324h-.002zm.5784-.6564c-.1784-.2257-1.1753-.1087-1.6225-.0554-.1374.0164-.158-.1026-.0349-.1867.796-.5558 2.0984-.3958 2.2502-.2092.1539.1867-.041 1.4872-.7856 2.1087-.1149.0964-.2236.0451-.1723-.082.1682-.4165.5436-1.3498.3651-1.5754zm-1.5917-4.1702v-.5394c0-.082.0615-.1375.1374-.1375h2.4348c.078 0 .1395.0554.1395.1354v.4636c0 .078-.0656.1805-.1846.3405L15.0997 6.635c.4677-.0102.9641.0595 1.3887.2974.0964.0534.123.1334.1292.2113v.5744c0 .082-.0882.1723-.1784.123a2.8163 2.8163 0 0 0-2.5723.0062c-.0861.0451-.1743-.0451-.1743-.1251v-.5477c0-.0882.002-.238.0902-.3713l1.4626-2.0881h-1.2718c-.078 0-.1415-.0534-.1436-.1354l.002.002zm4.808-.7466c1.0995 0 1.6944.9395 1.6944 2.1333 0 1.1528-.6564 2.0676-1.6943 2.0676-1.079 0-1.6656-.9395-1.6656-2.1087 0-1.1774.5948-2.0922 1.6656-2.0922zm.0062.7713c-.5456 0-.5805.7384-.5805 1.202 0 .4615-.0061 1.4481.5744 1.4481.5743 0 .601-.7958.601-1.282 0-.318-.0144-.6994-.1108-1.001-.082-.2625-.2482-.3671-.4841-.3671zm-6.008 3.3414c-.0493.041-.1395.0451-.1744.0164-.2543-.1949-.4246-.4923-.4246-.4923-.4061.4123-.6954.5374-1.2225.5374-.6215 0-1.1077-.3835-1.1077-1.1486a1.2512 1.2512 0 0 1 .7897-1.2041c.402-.1764.9641-.2072 1.3928-.2564 0 0 .0349-.4615-.0902-.6297a.521.521 0 0 0-.4164-.1908c-.2728 0-.5395.1477-.5928.4328-.0144.082-.0739.1518-.1395.1436L9.945 5.08a.1292.1292 0 0 1-.1108-.1537c.1641-.8657.9498-1.1282 1.6554-1.1282.361 0 .8307.0964 1.1158.3671.359.3344.3262.7795.3262 1.2677v1.1487c0 .3446.1436.4964.279.681.0471.0677.0574.1477-.002.197-.1519.125-.5703.4881-.5703.4881zm-.7467-1.7969v-.16c-.5353 0-1.1015.115-1.1015.7426 0 .318.1662.5333.4513.5333.2051 0 .3938-.1272.5128-.3344.1436-.2564.1374-.4943.1374-.7815zM2.9278 7.948c-.0472.041-.1375.045-.1723.0163-.2544-.1949-.4246-.4923-.4246-.4923-.4082.4123-.6954.5374-1.2226.5374-.6235 0-1.1076-.3835-1.1076-1.1486a1.2512 1.2512 0 0 1 .7897-1.2041c.402-.1764.964-.2072 1.3928-.2564 0 0 .0348-.4615-.0903-.6297a.521.521 0 0 0-.4164-.1908c-.2748 0-.5395.1477-.5928.4328-.0143.082-.0759.1518-.1395.1436L.2345 5.08a.1292.1292 0 0 1-.1087-.1537c.162-.8657.9497-1.1282 1.6553-1.1282.361 0 .8308.0964 1.1159.3671.359.3344.324.7795.324 1.2677v1.1487c0 .3446.1437.4964.279.681.0472.0677.0575.1477-.002.197-.1518.125-.5702.4881-.5702.4881zm-.7446-1.797v-.16c-.5354 0-1.1015.115-1.1015.7426 0 .318.164.5333.4512.5333.2052 0 .3939-.1272.5128-.3344.1436-.2564.1375-.4943.1375-.7815zm2.9127-.3343v2.002a.1379.1379 0 0 1-.1395.1374H4.218a.1374.1374 0 0 1-.1395-.1374v-3.766a.1379.1379 0 0 1 .1395-.1375h.6913a.1374.1374 0 0 1 .1374.1374v.482h.0143c.1805-.4758.519-.6994.9744-.6994.4636 0 .7528.2236.962.6995a1.0523 1.0523 0 0 1 1.0215-.6995c.3118 0 .6502.1272.8574.4143.236.318.1867.7795.1867 1.1857v2.3855c0 .076-.0636.1354-.1436.1354H8.181a.1374.1374 0 0 1-.1334-.1354v-2.004c0-.16.0144-.558-.0205-.7077-.0554-.2564-.2215-.3282-.4369-.3282a.4923.4923 0 0 0-.441.3118c-.076.1908-.0698.5087-.0698.724v2.0041c0 .076-.0635.1354-.1435.1354h-.7385a.1374.1374 0 0 1-.1333-.1354v-2.004c0-.4226.0677-1.042-.4574-1.042-.5334 0-.5128.603-.5128 1.042h.002zm16.8077 2.002a.1374.1374 0 0 1-.1374.1374h-.7405a.1374.1374 0 0 1-.1374-.1374v-3.766a.1374.1374 0 0 1 .1374-.1375h.683c.0821 0 .1396.0636.1396.1067v.5764h.0143c.2051-.517.4964-.7631 1.0092-.7631.3323 0 .6564.119.8636.4451.1928.3036.1928.8123.1928 1.1774V7.837a.1395.1395 0 0 1-.1415.119h-.7426a.1395.1395 0 0 1-.1313-.119V5.552c0-.763-.2933-.7856-.4635-.7856-.197 0-.357.1538-.4246.2953a1.7025 1.7025 0 0 0-.1231.722l.002 2.0349zM.1914 20.0582c-.1271 0-.1907-.0615-.1907-.1907v-4.4491c0-.1272.0636-.1908.1907-.1908H.616c.0616 0 .1129.0144.1477.039.0349.0246.0595.0738.0718.1436l.0575.3035c.6133-.4184 1.2102-.6276 1.7907-.6276.5948 0 .9969.2256 1.2081.6769.6318-.4513 1.2636-.677 1.8954-.677.441 0 .7794.1231 1.0153.3693.236.2502.3549.603.3549 1.0584v3.3538c0 .1271-.0656.1907-.1928.1907h-.5641c-.1272 0-.1928-.0615-.1928-.1907v-3.085c0-.318-.0616-.5539-.1805-.7057-.1231-.1538-.3139-.2297-.5744-.2297-.4677 0-.9353.1436-1.4092.4307a.997.997 0 0 1 .0103.1416v3.448c0 .1272-.0636.1908-.1908.1908H3.297c-.1272 0-.1908-.0615-.1908-.1907v-3.085c0-.318-.0615-.5539-.1825-.7057-.1231-.1538-.3139-.2297-.5744-.2297-.4861 0-.9517.1395-1.399.4205v3.5999c0 .1271-.0615.1907-.1907.1907H.1914zm9.731.1436c-.4533 0-.8-.1272-1.044-.3815-.242-.2544-.3631-.6133-.3631-1.0769v-3.321c0-.1292.0615-.1927.1908-.1927h.564c.1293 0 .1929.0635.1929.1907v3.0215c0 .3425.0656.5948.201.7569.1333.162.3487.242.642.242.4595 0 .923-.1518 1.3887-.4574v-3.565c0-.1272.0615-.1908.1908-.1908h.564c.1293 0 .1929.0636.1929.1908v4.4511c0 .1252-.0636.1887-.1928.1887h-.4103c-.0636 0-.1149-.0123-.1497-.0369-.0349-.0266-.0575-.0738-.0718-.1436l-.0657-.3323c-.5948.437-1.204.6564-1.8297.6564zm5.4399 0c-.5374 0-1.0195-.0882-1.4461-.2666a.3754.3754 0 0 1-.158-.1047c-.0287-.039-.043-.0984-.043-.1805v-.2687c0-.1148.0369-.1723.1148-.1723.0452 0 .1231.0205.238.0575.4225.1333.8615.199 1.3128.199.3138 0 .5517-.0616.7138-.1806.164-.121.244-.2954.244-.523a.4923.4923 0 0 0-.1476-.3734 1.606 1.606 0 0 0-.5415-.285l-.8144-.3037c-.7097-.2605-1.0625-.7056-1.0625-1.3333 0-.4143.16-.7487.484-1.001.3221-.2543.7447-.3815 1.2677-.3815a3.487 3.487 0 0 1 1.2164.2195c.076.0246.1313.0574.1641.0985.0308.041.0472.1025.0472.1846v.2584c0 .1149-.041.1723-.123.1723a.8615.8615 0 0 1-.2216-.0472 3.5495 3.5495 0 0 0-1.0359-.1538c-.6112 0-.919.2072-.919.6195 0 .164.0514.2953.154.3897.1025.0964.3035.201.603.3159l.7466.2872c.3774.1436.6482.318.8144.519.1661.1989.2482.4574.2482.7753 0 .4513-.1682.8102-.5067 1.0769-.3385.2666-.7877.4-1.3497.4v.002zm3.0645-.1436c-.1272 0-.1928-.0615-.1928-.1907v-4.4491c0-.1272.0656-.1908.1928-.1908h.5641c.1272 0 .1928.0636.1928.1908v4.4511c0 .1251-.0656.1887-.1928.1887h-.564zm.2872-5.688c-.1846 0-.3303-.0513-.437-.1559a.558.558 0 0 1-.1579-.4143c0-.1724.0534-.3098.158-.4144a.5907.5907 0 0 1 .4369-.158c.1846 0 .3282.0534.4349.158.1066.1026.1579.242.1579.4144 0 .1702-.0513.3076-.158.4143-.1046.1026-.2502.1559-.4348.1559zm4.002 5.7926c-.7529 0-1.3293-.2133-1.7272-.642-.4-.4307-.599-1.0502-.599-1.8625 0-.8061.2052-1.4318.6175-1.8728.4102-.441.9948-.6625 1.7476-.6625.3446 0 .683.0615 1.0154.1825.0697.0247.119.0554.1477.0944s.043.1026.043.1908v.2564c0 .1271-.041.1907-.123.1907-.0329 0-.082-.0082-.1539-.0287a2.8307 2.8307 0 0 0-.7959-.1128c-.5353 0-.923.1333-1.1589.404s-.3528.6996-.3528 1.2924v.123c0 .5764.119 1.001.359 1.2718.24.2687.6174.404 1.1343.404.2666 0 .5538-.043.8615-.1332.0718-.0206.119-.0288.1436-.0288.082 0 .1251.0636.1251.1908v.2585c0 .082-.0123.1435-.039.1805-.0246.0369-.0759.0718-.1518.1025-.3138.1354-.6769.201-1.0933.201z"},child:[]}]})(e)}function VSe(e){return Gi({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5.34 0A5.328 5.328 0 000 5.34v13.32A5.328 5.328 0 005.34 24h13.32A5.328 5.328 0 0024 18.66V5.34A5.328 5.328 0 0018.66 0zm6.525 2.568c2.336 0 4.448.902 6.056 2.587 1.224 1.272 1.912 2.619 2.264 4.392.12.59.12 2.2.007 2.864a8.506 8.506 0 01-3.24 5.296c-.608.46-2.096 1.261-2.336 1.261-.088 0-.096-.091-.056-.46.072-.592.144-.715.48-.856.536-.224 1.448-.874 2.008-1.435a7.644 7.644 0 002.008-3.536c.208-.824.184-2.656-.048-3.504-.728-2.696-2.928-4.792-5.624-5.352-.784-.16-2.208-.16-3 0-2.728.56-4.984 2.76-5.672 5.528-.184.752-.184 2.584 0 3.336.456 1.832 1.64 3.512 3.192 4.512.304.2.672.408.824.472.336.144.408.264.472.856.04.36.03.464-.056.464-.056 0-.464-.176-.896-.384l-.04-.03c-2.472-1.216-4.056-3.274-4.632-6.012-.144-.706-.168-2.392-.03-3.04.36-1.74 1.048-3.1 2.192-4.304 1.648-1.737 3.768-2.656 6.128-2.656zm.134 2.81c.409.004.803.04 1.106.106 2.784.62 4.76 3.408 4.376 6.174-.152 1.114-.536 2.03-1.216 2.88-.336.43-1.152 1.15-1.296 1.15-.023 0-.048-.272-.048-.603v-.605l.416-.496c1.568-1.878 1.456-4.502-.256-6.224-.664-.67-1.432-1.064-2.424-1.246-.64-.118-.776-.118-1.448-.008-1.02.167-1.81.562-2.512 1.256-1.72 1.704-1.832 4.342-.264 6.222l.413.496v.608c0 .336-.027.608-.06.608-.03 0-.264-.16-.512-.36l-.034-.011c-.832-.664-1.568-1.842-1.872-2.997-.184-.698-.184-2.024.008-2.72.504-1.878 1.888-3.335 3.808-4.019.41-.145 1.133-.22 1.814-.211zm-.13 2.99c.31 0 .62.06.844.178.488.253.888.745 1.04 1.259.464 1.578-1.208 2.96-2.72 2.254h-.015c-.712-.331-1.096-.956-1.104-1.77 0-.733.408-1.371 1.112-1.745.224-.117.534-.176.844-.176zm-.011 4.728c.988-.004 1.706.349 1.97.97.198.464.124 1.932-.218 4.302-.232 1.656-.36 2.074-.68 2.356-.44.39-1.064.498-1.656.288h-.003c-.716-.257-.87-.605-1.164-2.644-.341-2.37-.416-3.838-.218-4.302.262-.616.974-.966 1.97-.97z"},child:[]}]})(e)}function YSe(e){return Gi({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 0c-.29 0-.58.068-.812.206L2.417 5.392c-.46.272-.804.875-.804 1.408v10.4c0 .533.344 1.135.804 1.407l8.77 5.187c.465.275 1.162.275 1.626 0l8.77-5.187c.46-.272.804-.874.804-1.407V6.8c0-.533-.344-1.136-.804-1.408L12.813.206A1.618 1.618 0 0012 0zm-.85 8.304c.394 0 .714.303.714.676v2.224c0 .207.191.375.427.375s.428-.168.428-.375V9.57c0-.373.32-.675.713-.675.394 0 .712.302.712.675v4.713c0 .374-.318.676-.712.676-.394 0-.713-.302-.713-.676v-1.31c0-.206-.192-.374-.428-.374s-.427.168-.427.374v1.226c0 .374-.32.676-.713.676-.394 0-.713-.302-.713-.676v-1.667c0-.207-.192-.375-.428-.375-.235 0-.427.168-.427.375v3.31c0 .373-.319.676-.712.676-.394 0-.713-.303-.713-.676v-2.427c0-.206-.191-.374-.428-.374-.235 0-.427.168-.427.374v.178a.71.71 0 01-.712.708.71.71 0 01-.713-.708v-2.123a.71.71 0 01.713-.708.71.71 0 01.712.708v.178c0 .206.192.373.427.373.237 0 .428-.167.428-.373v-1.53c0-.374.32-.676.713-.676.393 0 .712.303.712.676v.646c0 .206.192.374.427.374.236 0 .428-.168.428-.374V8.98c0-.373.319-.676.713-.676zm4.562 2.416c.393 0 .713.302.713.676v2.691c0 .374-.32.676-.713.676-.394 0-.712-.303-.712-.676v-2.691c0-.374.319-.676.712-.676zm2.28 1.368c.395 0 .713.303.713.676v.67c0 .374-.318.676-.712.676-.394 0-.713-.302-.713-.675v-.67c0-.374.32-.677.713-.677Z"},child:[]}]})(e)}function k7(e){return Gi({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9.101 23.691v-7.98H6.627v-3.667h2.474v-1.58c0-4.085 1.848-5.978 5.858-5.978.401 0 .955.042 1.468.103a8.68 8.68 0 0 1 1.141.195v3.325a8.623 8.623 0 0 0-.653-.036 26.805 26.805 0 0 0-.733-.009c-.707 0-1.259.096-1.675.309a1.686 1.686 0 0 0-.679.622c-.258.42-.374.995-.374 1.752v1.297h3.919l-.386 2.103-.287 1.564h-3.246v8.245C19.396 23.238 24 18.179 24 12.044c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.628 3.874 10.35 9.101 11.647Z"},child:[]}]})(e)}function QSe(e){return Gi({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M7.0301.084c-1.2768.0602-2.1487.264-2.911.5634-.7888.3075-1.4575.72-2.1228 1.3877-.6652.6677-1.075 1.3368-1.3802 2.127-.2954.7638-.4956 1.6365-.552 2.914-.0564 1.2775-.0689 1.6882-.0626 4.947.0062 3.2586.0206 3.6671.0825 4.9473.061 1.2765.264 2.1482.5635 2.9107.308.7889.72 1.4573 1.388 2.1228.6679.6655 1.3365 1.0743 2.1285 1.38.7632.295 1.6361.4961 2.9134.552 1.2773.056 1.6884.069 4.9462.0627 3.2578-.0062 3.668-.0207 4.9478-.0814 1.28-.0607 2.147-.2652 2.9098-.5633.7889-.3086 1.4578-.72 2.1228-1.3881.665-.6682 1.0745-1.3378 1.3795-2.1284.2957-.7632.4966-1.636.552-2.9124.056-1.2809.0692-1.6898.063-4.948-.0063-3.2583-.021-3.6668-.0817-4.9465-.0607-1.2797-.264-2.1487-.5633-2.9117-.3084-.7889-.72-1.4568-1.3876-2.1228C21.2982 1.33 20.628.9208 19.8378.6165 19.074.321 18.2017.1197 16.9244.0645 15.6471.0093 15.236-.005 11.977.0014 8.718.0076 8.31.0215 7.0301.0839m.1402 21.6932c-1.17-.0509-1.8053-.2453-2.2287-.408-.5606-.216-.96-.4771-1.3819-.895-.422-.4178-.6811-.8186-.9-1.378-.1644-.4234-.3624-1.058-.4171-2.228-.0595-1.2645-.072-1.6442-.079-4.848-.007-3.2037.0053-3.583.0607-4.848.05-1.169.2456-1.805.408-2.2282.216-.5613.4762-.96.895-1.3816.4188-.4217.8184-.6814 1.3783-.9003.423-.1651 1.0575-.3614 2.227-.4171 1.2655-.06 1.6447-.072 4.848-.079 3.2033-.007 3.5835.005 4.8495.0608 1.169.0508 1.8053.2445 2.228.408.5608.216.96.4754 1.3816.895.4217.4194.6816.8176.9005 1.3787.1653.4217.3617 1.056.4169 2.2263.0602 1.2655.0739 1.645.0796 4.848.0058 3.203-.0055 3.5834-.061 4.848-.051 1.17-.245 1.8055-.408 2.2294-.216.5604-.4763.96-.8954 1.3814-.419.4215-.8181.6811-1.3783.9-.4224.1649-1.0577.3617-2.2262.4174-1.2656.0595-1.6448.072-4.8493.079-3.2045.007-3.5825-.006-4.848-.0608M16.953 5.5864A1.44 1.44 0 1 0 18.39 4.144a1.44 1.44 0 0 0-1.437 1.4424M5.8385 12.012c.0067 3.4032 2.7706 6.1557 6.173 6.1493 3.4026-.0065 6.157-2.7701 6.1506-6.1733-.0065-3.4032-2.771-6.1565-6.174-6.1498-3.403.0067-6.156 2.771-6.1496 6.1738M8 12.0077a4 4 0 1 1 4.008 3.9921A3.9996 3.9996 0 0 1 8 12.0077"},child:[]}]})(e)}function XSe(e){return Gi({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5.0056.0056c-.2362.0208-.4667.1034-.6462.2366C1.7274 2.2537.1728 4.9759.2924 8.289c.1197 3.1949 1.6743 6.2709 4.067 8.0458.2393.1183.4795.2366.7188.2366.3589 0 .7172-.1182.9564-.4732.4786-.5917.3594-1.3013-.2388-1.6563-1.9142-1.3016-3.1105-3.7863-3.1105-6.1529 0-2.4848 1.0767-4.6157 3.1105-6.154.5982-.355.5977-1.183.2388-1.6562-.2243-.3698-.6353-.508-1.029-.4732Zm13.7533 0c-.314.0295-.613.1774-.7924.4732-.3589.4733-.3593 1.3012.2389 1.6562 2.0338 1.5383 3.1105 3.6692 3.1105 6.154 0 2.3666-1.1964 4.8513-3.1105 6.153-.5982.355-.7174 1.0645-.2389 1.6562.2393.355.5987.4732.9576.4732.2393 0 .4784-.1183.7176-.2366 2.5124-1.775 4.067-4.851 4.067-8.0458.1077-3.3131-1.435-6.0353-4.067-8.0468-.2392-.1775-.5687-.2662-.8828-.2366ZM16.4944 3.558c-.3065.0118-.609.1395-.8303.3761-.4546.4733-.4183 1.2307.0602 1.6686 1.5314 1.408 1.6627 3.7978-.0122 5.3716-.4666.4615-.4904 1.2075-.0357 1.6808.4546.4733 1.2078.4965 1.6863.0469 2.7158-2.5559 2.4881-6.5196-.0122-8.827-.2393-.2248-.5495-.3288-.856-.317zm-8.9933.0067c-.305-.0118-.6167.0914-.856.3103-2.5004 2.3074-2.7269 6.2711-.0111 8.827.4785.4496 1.2317.4264 1.6863-.0469.4547-.4733.4306-1.2189-.048-1.6685-1.6749-1.5738-1.5316-3.9647-.0122-5.3728.4785-.4496.5148-1.194.0602-1.6674-.2153-.2426-.514-.3699-.8192-.3817Zm4.499 2.1496a2.5714 2.5714 0 0 0-2.5715 2.5714 2.5714 2.5714 0 0 0 1.193 2.1696L7.7144 24h2.5246l2.8772-13.4018a2.5714 2.5714 0 0 0 1.4553-2.3125A2.5714 2.5714 0 0 0 12 5.7143Z"},child:[]}]})(e)}function ZSe(e){return Gi({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 0C5.373 0 0 5.373 0 12c0 3.314 1.343 6.314 3.515 8.485l-2.286 2.286C.775 23.225 1.097 24 1.738 24H12c6.627 0 12-5.373 12-12S18.627 0 12 0Zm4.388 3.199c1.104 0 1.999.895 1.999 1.999 0 1.105-.895 2-1.999 2-.946 0-1.739-.657-1.947-1.539v.002c-1.147.162-2.032 1.15-2.032 2.341v.007c1.776.067 3.4.567 4.686 1.363.473-.363 1.064-.58 1.707-.58 1.547 0 2.802 1.254 2.802 2.802 0 1.117-.655 2.081-1.601 2.531-.088 3.256-3.637 5.876-7.997 5.876-4.361 0-7.905-2.617-7.998-5.87-.954-.447-1.614-1.415-1.614-2.538 0-1.548 1.255-2.802 2.803-2.802.645 0 1.239.218 1.712.585 1.275-.79 2.881-1.291 4.64-1.365v-.01c0-1.663 1.263-3.034 2.88-3.207.188-.911.993-1.595 1.959-1.595Zm-8.085 8.376c-.784 0-1.459.78-1.506 1.797-.047 1.016.64 1.429 1.426 1.429.786 0 1.371-.369 1.418-1.385.047-1.017-.553-1.841-1.338-1.841Zm7.406 0c-.786 0-1.385.824-1.338 1.841.047 1.017.634 1.385 1.418 1.385.785 0 1.473-.413 1.426-1.429-.046-1.017-.721-1.797-1.506-1.797Zm-3.703 4.013c-.974 0-1.907.048-2.77.135-.147.015-.241.168-.183.305.483 1.154 1.622 1.964 2.953 1.964 1.33 0 2.47-.81 2.953-1.964.057-.137-.037-.29-.184-.305-.863-.087-1.795-.135-2.769-.135Z"},child:[]}]})(e)}function JSe(e){return Gi({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.419 1.56-.299.421-1.02.599-1.559.3z"},child:[]}]})(e)}function eje(e){return Gi({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z"},child:[]}]})(e)}function N7(e){return Gi({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"},child:[]}]})(e)}function tje(e){return Gi({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"},child:[]}]})(e)}const rje="_overlay_1wtnz_1",nje="_dialog_1wtnz_22",aje="_header_1wtnz_33",ije="_title_1wtnz_40",sje="_closeButton_1wtnz_47",oje="_actions_1wtnz_70",lje="_actionBtn_1wtnz_76",cje="_actionBtnCopied_1wtnz_103",uje="_embedSection_1wtnz_112",dje="_embedHint_1wtnz_118",fje="_embedCode_1wtnz_124",pje="_copyBtn_1wtnz_141",hje="_backLink_1wtnz_166",fn={overlay:rje,dialog:nje,header:aje,title:ije,closeButton:sje,actions:oje,actionBtn:lje,actionBtnCopied:cje,embedSection:uje,embedHint:dje,embedCode:fje,copyBtn:pje,backLink:hje};function mje(e,t){const r=new URLSearchParams;r.set("url",e),t&&r.set("text",t),window.open(`https://twitter.com/intent/tweet?${r.toString()}`,"_blank","noopener,noreferrer,width=550,height=420")}function gje(e){window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(e)}`,"_blank","noopener,noreferrer,width=550,height=420")}function vje(e,t){const r=new URLSearchParams;r.set("url",e),t&&r.set("title",t),window.open(`https://www.reddit.com/submit?${r.toString()}`,"_blank","noopener,noreferrer,width=550,height=420")}function o2({open:e,onOpenChange:t,url:r,title:n,embedCode:a}){const[o,u]=v.useState(null),[c,p]=v.useState(!1);if(v.useEffect(()=>{e||(p(!1),u(null))},[e]),!e)return null;const h=async()=>{try{await navigator.clipboard.writeText(r),u("link"),setTimeout(()=>u(null),2e3)}catch{u(null)}},f=async()=>{if(a)try{await navigator.clipboard.writeText(a),u("embed"),setTimeout(()=>u(null),2e3)}catch{u(null)}},m=()=>{p(!1),u(null)};return i.jsx("div",{className:fn.overlay,onClick:()=>t(!1),children:i.jsxs("div",{className:fn.dialog,onClick:b=>b.stopPropagation(),role:"dialog","aria-modal":"true","aria-labelledby":"share-dialog-title",children:[i.jsxs("div",{className:fn.header,children:[i.jsx("h3",{id:"share-dialog-title",className:fn.title,children:c?"Embed":"Share"}),i.jsx("button",{type:"button",className:fn.closeButton,onClick:()=>t(!1),"aria-label":"Close",children:i.jsx(Nt,{size:20,strokeWidth:2})})]}),c?i.jsxs("div",{className:fn.embedSection,children:[i.jsx("p",{className:fn.embedHint,children:"Copy this code to embed the player on your site."}),i.jsx("textarea",{className:fn.embedCode,value:a??"",readOnly:!0,rows:4,"aria-label":"Embed code"}),i.jsxs("button",{type:"button",className:fn.copyBtn,onClick:f,children:[i.jsx(dh,{size:18,strokeWidth:2,"aria-hidden":!0}),o==="embed"?"Copied!":"Copy code"]}),i.jsx("button",{type:"button",className:fn.backLink,onClick:m,children:"Back to share options"})]}):i.jsx(i.Fragment,{children:i.jsxs("div",{className:fn.actions,children:[i.jsx("button",{type:"button",className:fn.actionBtn,onClick:()=>{mje(r,n),t(!1)},"aria-label":"Share on X",title:"Share on X",children:i.jsx(N7,{size:22,"aria-hidden":!0})}),i.jsx("button",{type:"button",className:fn.actionBtn,onClick:()=>{gje(r),t(!1)},"aria-label":"Share on Facebook",title:"Share on Facebook",children:i.jsx(k7,{size:22,"aria-hidden":!0})}),i.jsx("button",{type:"button",className:fn.actionBtn,onClick:()=>{vje(r,n),t(!1)},"aria-label":"Share on Reddit",title:"Share on Reddit",children:i.jsx(ZSe,{size:22,"aria-hidden":!0})}),i.jsx("button",{type:"button",className:o==="link"?`${fn.actionBtn} ${fn.actionBtnCopied}`:fn.actionBtn,onClick:h,"aria-label":o==="link"?"Copied":"Copy link",title:o==="link"?"Copied":"Copy link",children:o==="link"?i.jsx(Nj,{size:22,strokeWidth:2,"aria-hidden":!0}):i.jsx(dh,{size:22,strokeWidth:2,"aria-hidden":!0})}),a!=null&&i.jsx("button",{type:"button",className:fn.actionBtn,onClick:()=>p(!0),"aria-label":"Embed",title:"Embed",children:i.jsx(wF,{size:22,strokeWidth:2,"aria-hidden":!0})})]})})]})})}const yje="_page_ebdrg_1",bje="_hero_ebdrg_6",_je="_heroTitle_ebdrg_10",xje="_heroActions_ebdrg_17",wje="_cardHeader_ebdrg_26",Sje="_cardTitle_ebdrg_35",jje="_cardDescription_ebdrg_44",Cje="_editTabs_ebdrg_58",kje="_editTab_ebdrg_58",Nje="_editTabActive_ebdrg_84",Eje="_secondaryBtn_ebdrg_102",Tje="_card_ebdrg_26",Pje="_showMeta_ebdrg_128",Aje="_showMetaItem_ebdrg_135",Rje="_showMetaLabel_ebdrg_141",Oje="_showMetaValue_ebdrg_149",Dje="_episodeSummaryDesc_ebdrg_155",Mje="_form_ebdrg_163",Lje="_labelHint_ebdrg_169",Ije="_label_ebdrg_169",$je="_input_ebdrg_186",Bje="_textarea_ebdrg_187",zje="_select_ebdrg_188",Fje="_sectionCard_ebdrg_218",qje="_sectionsPanel_ebdrg_226",Uje="_sectionsPanelHeader_ebdrg_230",Hje="_sectionTitle_ebdrg_234",Wje="_sectionSub_ebdrg_241",Kje="_addSectionRow_ebdrg_247",Gje="_addSectionChoiceRow_ebdrg_254",Vje="_addSectionChoiceBtn_ebdrg_261",Yje="_addSectionChoiceBtnPrimary_ebdrg_283",Qje="_addSectionChoiceBtnDisabled_ebdrg_296",Xje="_buildBtn_ebdrg_297",Zje="_transcriptGenerateBtn_ebdrg_307",Jje="_libraryChooseFileBtn_ebdrg_311",eCe="_addBtn_ebdrg_317",tCe="_segmentList_ebdrg_336",rCe="_segmentBlock_ebdrg_345",nCe="_segmentBlockTop_ebdrg_355",aCe="_segmentWaveformRow_ebdrg_361",iCe="_segmentWaveformTrack_ebdrg_369",sCe="_segmentIcon_ebdrg_374",oCe="_segmentBody_ebdrg_387",lCe="_segmentName_ebdrg_392",cCe="_segmentNameInput_ebdrg_398",uCe="_segmentMeta_ebdrg_428",dCe="_segmentProgressTrack_ebdrg_435",fCe="_segmentProgressFill_ebdrg_455",pCe="_waveformTrack_ebdrg_462",hCe="_waveformCanvas_ebdrg_482",mCe="_segmentActions_ebdrg_490",gCe="_segmentBtn_ebdrg_508",vCe="_segmentBtnDanger_ebdrg_531",yCe="_generateBar_ebdrg_543",bCe="_generateBarHeader_ebdrg_568",_Ce="_generateBarTitle_ebdrg_572",xCe="_generateBarSub_ebdrg_579",wCe="_generateBarPlayback_ebdrg_586",SCe="_generateBarWaveform_ebdrg_594",jCe="_generateBarProgressPlaceholder_ebdrg_600",CCe="_generateBarInner_ebdrg_608",kCe="_generateBarActionsWrap_ebdrg_614",NCe="_generateBarBuildNotice_ebdrg_621",ECe="_generateBarBuildNoticeIcon_ebdrg_633",TCe="_generateBarActions_ebdrg_614",PCe="_renderRow_ebdrg_647",ACe="_renderCard_ebdrg_653",RCe="_renderHeader_ebdrg_664",OCe="_renderTitle_ebdrg_671",DCe="_renderSub_ebdrg_678",MCe="_renderActions_ebdrg_684",LCe="_renderBtnSecondary_ebdrg_692",ICe="_renderBtnPrimary_ebdrg_718",$Ce="_generateBarTranscriptBtn_ebdrg_746",BCe="_generateBarGenerateTranscriptBtn_ebdrg_776",zCe="_renderDownload_ebdrg_804",FCe="_renderBtn_ebdrg_692",qCe="_actions_ebdrg_823",UCe="_cancel_ebdrg_832",HCe="_submit_ebdrg_846",WCe="_callErrorBanner_ebdrg_865",KCe="_callErrorBannerDismiss_ebdrg_878",GCe="_error_ebdrg_894",VCe="_rateLimitError_ebdrg_904",YCe="_success_ebdrg_908",QCe="_recordOverlay_ebdrg_919",XCe="_recordCard_ebdrg_932",ZCe="_recordTitle_ebdrg_947",JCe="_recordSub_ebdrg_954",eke="_recordMobileNote_ebdrg_960",tke="_recordLabel_ebdrg_967",rke="_optional_ebdrg_977",nke="_recordNameInput_ebdrg_983",ake="_recordBtn_ebdrg_1000",ike="_record_ebdrg_919",ske="_stop_ebdrg_1021",oke="_recordTime_ebdrg_1030",lke="_recordLevelWrap_ebdrg_1038",cke="_recordLevelBar_ebdrg_1042",uke="_recordLevelFill_ebdrg_1051",dke="_recordLevelHint_ebdrg_1058",fke="_recordPlaybackWrap_ebdrg_1069",pke="_recordPlaybackRow_ebdrg_1074",hke="_recordPlaybackInfo_ebdrg_1080",mke="_recordPlayback_ebdrg_1069",gke="_recordChoiceRow_ebdrg_1092",vke="_recordChoiceBtn_ebdrg_1099",yke="_recordChoiceBtnSecondary_ebdrg_1117",bke="_recordChoiceBtnPrimary_ebdrg_1126",_ke="_recordActions_ebdrg_1143",xke="_recordFooterRow_ebdrg_1149",wke="_libraryClose_ebdrg_1158",Ske="_recordFooterRight_ebdrg_1162",jke="_recordFooterPrimaryBtn_ebdrg_1170",Cke="_libraryOverlay_ebdrg_1196",kke="_libraryCard_ebdrg_1207",Nke="_libraryCardBodyScroll_ebdrg_1227",Eke="_libraryList_ebdrg_1251",Tke="_libraryTitle_ebdrg_1257",Pke="_librarySub_ebdrg_1264",Ake="_libraryFilters_ebdrg_1270",Rke="_librarySortToggle_ebdrg_1296",Oke="_librarySortBtn_ebdrg_1303",Dke="_librarySortBtnActive_ebdrg_1304",Mke="_libraryItem_ebdrg_1356",Lke="_libraryUploadForm_ebdrg_1372",Ike="_libraryPendingFile_ebdrg_1380",$ke="_libraryUploadActions_ebdrg_1387",Bke="_libraryItemName_ebdrg_1394",zke="_libraryItemTag_ebdrg_1406",Fke="_libraryItemContent_ebdrg_1418",qke="_libraryItemMeta_ebdrg_1423",Uke="_libraryItemDate_ebdrg_1429",Hke="_libraryPagination_ebdrg_1433",Wke="_libraryPaginationLabel_ebdrg_1444",Kke="_libraryPaginationBtns_ebdrg_1449",Gke="_libraryPageBtn_ebdrg_1454",Vke="_libraryEmpty_ebdrg_1472",Yke="_audioSection_ebdrg_1495",Qke="_dialogOverlay_ebdrg_1510",Xke="_fadeIn_ebdrg_1",Zke="_dialogContent_ebdrg_1517",Jke="_dialogContentWide_ebdrg_1532",e2e="_dialogHeaderRow_ebdrg_1536",t2e="_dialogTitle_ebdrg_1539",r2e="_dialogActions_ebdrg_1542",n2e="_dialogContentScrollable_ebdrg_1547",a2e="_dialogDetailsGrid_ebdrg_1554",i2e="_dialogDescription_ebdrg_1555",s2e="_dialogBodyScroll_ebdrg_1558",o2e="_dialogFooter_ebdrg_1562",l2e="_episodeDetailsDialog_ebdrg_1574",c2e="_segmentTranscriptDialog_ebdrg_1586",u2e="_formSectionTitle_ebdrg_1590",d2e="_advancedSection_ebdrg_1604",f2e="_advancedToggle_ebdrg_1607",p2e="_advancedFields_ebdrg_1622",h2e="_dialogClose_ebdrg_1646",m2e="_statusToggle_ebdrg_1712",g2e="_statusToggleBtn_ebdrg_1720",v2e="_statusToggleActive_ebdrg_1721",y2e="_transcriptToggleWrap_ebdrg_1745",b2e="_transcriptToggle_ebdrg_1745",_2e="_transcriptToggleBtn_ebdrg_1756",x2e="_transcriptToggleActive_ebdrg_1757",w2e="_transcriptAsk_ebdrg_1778",S2e="_transcriptAskForm_ebdrg_1783",j2e="_transcriptAskInput_ebdrg_1787",C2e="_transcriptAskSubmit_ebdrg_1801",k2e="_transcriptAskResponse_ebdrg_1818",N2e="_transcriptEdit_ebdrg_1830",E2e="_transcriptEditForm_ebdrg_1835",T2e="_transcriptEditGroup_ebdrg_1840",P2e="_transcriptEditLabel_ebdrg_1845",A2e="_transcriptEditInput_ebdrg_1853",R2e="_transcriptEditActions_ebdrg_1865",O2e="_transcriptEditPreviewBtn_ebdrg_1870",D2e="_transcriptEditBtn_ebdrg_1893",M2e="_transcriptCards_ebdrg_1926",L2e="_transcriptCard_ebdrg_1926",I2e="_transcriptCardText_ebdrg_1936",$2e="_transcriptCardFooter_ebdrg_1944",B2e="_transcriptCardTimeControls_ebdrg_1955",z2e="_transcriptCardTimeGroup_ebdrg_1960",F2e="_transcriptCardTimeButtons_ebdrg_1965",q2e="_transcriptCardTimeBtn_ebdrg_1969",U2e="_transcriptCardTimeLabel_ebdrg_1992",H2e="_transcriptCardFooterActions_ebdrg_1996",W2e="_transcriptCardBtn_ebdrg_2002",K2e="_transcriptText_ebdrg_2024",G2e="_transcriptViewActions_ebdrg_2039",V2e="_episodeTranscriptDialog_ebdrg_2047",Y2e="_episodeTranscriptBody_ebdrg_2052",Q2e="_episodeTranscriptStatus_ebdrg_2065",X2e="_episodeTranscriptErrorWrap_ebdrg_2069",Z2e="_episodeTranscriptError_ebdrg_2069",J2e="_episodeTranscriptDialogActions_ebdrg_2094",eNe="_dialogConfirmRemove_ebdrg_2097",tNe="_detailsSummaryCard_ebdrg_2120",rNe="_detailsSummaryCardSubscriberOnly_ebdrg_2134",nNe="_detailsSummaryRow_ebdrg_2138",aNe="_detailsSummaryArtwork_ebdrg_2146",iNe="_detailsSummaryMain_ebdrg_2155",sNe="_detailsSummaryTitleRow_ebdrg_2160",oNe="_detailsSummaryTitleLock_ebdrg_2166",lNe="_detailsSummaryTitle_ebdrg_2160",cNe="_detailsSummaryMeta_ebdrg_2179",uNe="_detailsSummaryEditBtn_ebdrg_2185",dNe="_detailsSummaryActions_ebdrg_2213",fNe="_detailsSummaryShareBtn_ebdrg_2220",W={page:yje,hero:bje,heroTitle:_je,heroActions:xje,cardHeader:wje,cardTitle:Sje,cardDescription:jje,editTabs:Cje,editTab:kje,editTabActive:Nje,secondaryBtn:Eje,card:Tje,showMeta:Pje,showMetaItem:Aje,showMetaLabel:Rje,showMetaValue:Oje,episodeSummaryDesc:Dje,form:Mje,labelHint:Lje,label:Ije,input:$je,textarea:Bje,select:zje,sectionCard:Fje,sectionsPanel:qje,sectionsPanelHeader:Uje,sectionTitle:Hje,sectionSub:Wje,addSectionRow:Kje,addSectionChoiceRow:Gje,addSectionChoiceBtn:Vje,addSectionChoiceBtnPrimary:Yje,addSectionChoiceBtnDisabled:Qje,buildBtn:Xje,transcriptGenerateBtn:Zje,libraryChooseFileBtn:Jje,addBtn:eCe,segmentList:tCe,segmentBlock:rCe,segmentBlockTop:nCe,segmentWaveformRow:aCe,segmentWaveformTrack:iCe,segmentIcon:sCe,segmentBody:oCe,segmentName:lCe,segmentNameInput:cCe,segmentMeta:uCe,segmentProgressTrack:dCe,segmentProgressFill:fCe,waveformTrack:pCe,waveformCanvas:hCe,segmentActions:mCe,segmentBtn:gCe,segmentBtnDanger:vCe,generateBar:yCe,generateBarHeader:bCe,generateBarTitle:_Ce,generateBarSub:xCe,generateBarPlayback:wCe,generateBarWaveform:SCe,generateBarProgressPlaceholder:jCe,generateBarInner:CCe,generateBarActionsWrap:kCe,generateBarBuildNotice:NCe,generateBarBuildNoticeIcon:ECe,generateBarActions:TCe,renderRow:PCe,renderCard:ACe,renderHeader:RCe,renderTitle:OCe,renderSub:DCe,renderActions:MCe,renderBtnSecondary:LCe,renderBtnPrimary:ICe,generateBarTranscriptBtn:$Ce,generateBarGenerateTranscriptBtn:BCe,renderDownload:zCe,renderBtn:FCe,actions:qCe,cancel:UCe,submit:HCe,callErrorBanner:WCe,callErrorBannerDismiss:KCe,error:GCe,rateLimitError:VCe,success:YCe,recordOverlay:QCe,recordCard:XCe,recordTitle:ZCe,recordSub:JCe,recordMobileNote:eke,recordLabel:tke,optional:rke,recordNameInput:nke,recordBtn:ake,record:ike,stop:ske,recordTime:oke,recordLevelWrap:lke,recordLevelBar:cke,recordLevelFill:uke,recordLevelHint:dke,recordPlaybackWrap:fke,recordPlaybackRow:pke,recordPlaybackInfo:hke,recordPlayback:mke,recordChoiceRow:gke,recordChoiceBtn:vke,recordChoiceBtnSecondary:yke,recordChoiceBtnPrimary:bke,recordActions:_ke,recordFooterRow:xke,libraryClose:wke,recordFooterRight:Ske,recordFooterPrimaryBtn:jke,libraryOverlay:Cke,libraryCard:kke,libraryCardBodyScroll:Nke,libraryList:Eke,libraryTitle:Tke,librarySub:Pke,libraryFilters:Ake,librarySortToggle:Rke,librarySortBtn:Oke,librarySortBtnActive:Dke,libraryItem:Mke,libraryUploadForm:Lke,libraryPendingFile:Ike,libraryUploadActions:$ke,libraryItemName:Bke,libraryItemTag:zke,libraryItemContent:Fke,libraryItemMeta:qke,libraryItemDate:Uke,libraryPagination:Hke,libraryPaginationLabel:Wke,libraryPaginationBtns:Kke,libraryPageBtn:Gke,libraryEmpty:Vke,audioSection:Yke,dialogOverlay:Qke,fadeIn:Xke,dialogContent:Zke,dialogContentWide:Jke,dialogHeaderRow:e2e,dialogTitle:t2e,dialogActions:r2e,dialogContentScrollable:n2e,dialogDetailsGrid:a2e,dialogDescription:i2e,dialogBodyScroll:s2e,dialogFooter:o2e,episodeDetailsDialog:l2e,segmentTranscriptDialog:c2e,formSectionTitle:u2e,advancedSection:d2e,advancedToggle:f2e,advancedFields:p2e,dialogClose:h2e,statusToggle:m2e,statusToggleBtn:g2e,statusToggleActive:v2e,transcriptToggleWrap:y2e,transcriptToggle:b2e,transcriptToggleBtn:_2e,transcriptToggleActive:x2e,transcriptAsk:w2e,transcriptAskForm:S2e,transcriptAskInput:j2e,transcriptAskSubmit:C2e,transcriptAskResponse:k2e,transcriptEdit:N2e,transcriptEditForm:E2e,transcriptEditGroup:T2e,transcriptEditLabel:P2e,transcriptEditInput:A2e,transcriptEditActions:R2e,transcriptEditPreviewBtn:O2e,transcriptEditBtn:D2e,transcriptCards:M2e,transcriptCard:L2e,transcriptCardText:I2e,transcriptCardFooter:$2e,transcriptCardTimeControls:B2e,transcriptCardTimeGroup:z2e,transcriptCardTimeButtons:F2e,transcriptCardTimeBtn:q2e,transcriptCardTimeLabel:U2e,transcriptCardFooterActions:H2e,transcriptCardBtn:W2e,transcriptText:K2e,transcriptViewActions:G2e,episodeTranscriptDialog:V2e,episodeTranscriptBody:Y2e,episodeTranscriptStatus:Q2e,episodeTranscriptErrorWrap:X2e,episodeTranscriptError:Z2e,episodeTranscriptDialogActions:J2e,dialogConfirmRemove:eNe,detailsSummaryCard:tNe,detailsSummaryCardSubscriberOnly:rNe,detailsSummaryRow:nNe,detailsSummaryArtwork:aNe,detailsSummaryMain:iNe,detailsSummaryTitleRow:sNe,detailsSummaryTitleLock:oNe,detailsSummaryTitle:lNe,detailsSummaryMeta:cNe,detailsSummaryEditBtn:uNe,detailsSummaryActions:dNe,detailsSummaryShareBtn:fNe};function pNe({title:e,status:t,seasonNumber:r,episodeNumber:n,artworkUrl:a,onEditClick:o,subscriberOnly:u,shareUrl:c,shareTitle:p,embedCode:h,onStartGroupCall:f}){const[m,b]=v.useState(!1),_=[t];(r!=null||n!=null)&&_.push(`S${r??"?"} E${n??"?"}`);const j=u===1,w=o!=null||c!=null||f!=null;return i.jsxs("div",{className:j?`${W.detailsSummaryCard} ${W.detailsSummaryCardSubscriberOnly}`:W.detailsSummaryCard,children:[i.jsxs("div",{className:W.detailsSummaryRow,children:[a?i.jsx("img",{src:a,alt:"",className:W.detailsSummaryArtwork}):null,i.jsxs("div",{className:W.detailsSummaryMain,children:[i.jsxs("div",{className:W.detailsSummaryTitleRow,children:[j&&i.jsx(Ps,{size:16,strokeWidth:2.5,className:W.detailsSummaryTitleLock,"aria-label":"Subscriber only"}),i.jsx("h2",{className:W.detailsSummaryTitle,children:e||"Untitled episode"})]}),i.jsx("p",{className:W.detailsSummaryMeta,children:_.join("  ")})]})]}),w&&i.jsxs("div",{className:W.detailsSummaryActions,children:[f!=null&&i.jsxs("button",{type:"button",className:W.detailsSummaryEditBtn,onClick:f,"aria-label":"Start group call",children:[i.jsx(Aj,{size:18,strokeWidth:2,"aria-hidden":!0}),"Start Group Call"]}),o!=null&&i.jsxs("button",{type:"button",className:W.detailsSummaryEditBtn,onClick:o,"aria-label":"Edit episode details",children:[i.jsx(Yv,{size:18,strokeWidth:2,"aria-hidden":!0}),"Edit Details"]}),c!=null&&i.jsx("button",{type:"button",className:W.detailsSummaryShareBtn,onClick:()=>b(!0),"aria-label":"Share",title:"Share",children:i.jsx(sb,{size:18,strokeWidth:2,"aria-hidden":!0})})]}),c!=null&&i.jsx(o2,{open:m,onOpenChange:b,url:c,title:p,embedCode:h})]})}const rt={...W,...ae};function hNe(e){if(!e)return"";const t=e.trim();if(!t)return"";if(t.startsWith("/")&&!t.startsWith("//"))return t;try{const r=typeof window<"u"?window.location.origin:"https://x",n=new URL(t,r),a=n.protocol.toLowerCase();if(a==="https:"||a==="http:"||a==="blob:")return n.href}catch{}return""}function mNe({form:e,setForm:t,descriptionTextareaRef:r,slugDisabled:n,onSave:a,isSaving:o,saveError:u,saveSuccess:c,coverImageConfig:p}){const h=p,f=o||((h==null?void 0:h.uploadArtworkPending)??!1),[m,b]=v.useState(!1),_=v.useRef(null),j=v.useRef(null);pi(r,e.description,{minHeight:80}),pi(_,e.summary??"",{minHeight:60}),pi(j,e.contentEncoded??"",{minHeight:80});function w(y){y.preventDefault(),a()}return i.jsxs("form",{id:"episode-details-form",onSubmit:w,className:rt.form,children:[u&&i.jsx("p",{className:rt.error,children:u}),c&&i.jsx("p",{className:rt.success,children:"Saved."}),i.jsx("h3",{className:rt.formSectionTitle,children:"Basics"}),i.jsxs("label",{className:rt.label,children:["Title",i.jsx("input",{type:"text",value:e.title,onChange:y=>{const x=y.target.value;t(S=>({...S,title:x,...!S.slug||S.slug===eb(S.title)?{slug:eb(x)}:{}}))},className:rt.input,placeholder:"e.g. Episode 1: Getting Started",required:!0})]}),i.jsxs("label",{className:rt.label,children:["Slug",i.jsx("span",{className:rt.labelHint,children:"Used in URLs - lowercase, numbers, hyphens only"}),i.jsx("input",{type:"text",value:e.slug,onChange:y=>t(x=>({...x,slug:y.target.value})),className:rt.input,placeholder:"e.g. episode-1-getting-started",pattern:"[a-z0-9\\-]+",required:!0,disabled:n})]}),i.jsxs("label",{className:rt.label,children:["Description",i.jsx("textarea",{ref:r,value:e.description,onChange:y=>t(x=>({...x,description:y.target.value})),className:rt.textarea,rows:2,style:{overflow:"hidden",resize:"none"},placeholder:"What this episode is about. Shown in podcast apps."})]}),i.jsxs("label",{className:rt.label,children:["Subtitle",i.jsx("input",{type:"text",value:e.subtitle,onChange:y=>t(x=>({...x,subtitle:y.target.value})),className:rt.input,placeholder:"e.g. One line summary for app listings"})]}),i.jsxs("label",{className:rt.label,children:["Summary",i.jsx("textarea",{ref:_,value:e.summary,onChange:y=>t(x=>({...x,summary:y.target.value})),className:rt.textarea,rows:2,style:{overflow:"hidden",resize:"none"},placeholder:"Extended description for podcast apps (optional)"})]}),i.jsx("h3",{className:rt.formSectionTitle,children:"Cover image"}),i.jsxs("label",{className:rt.label,children:["Cover image",h?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:rt.statusToggle,role:"group","aria-label":"Cover image source",children:[i.jsx("button",{type:"button",className:h.coverMode==="url"?rt.statusToggleActive:rt.statusToggleBtn,onClick:()=>h.setCoverMode("url"),"aria-pressed":h.coverMode==="url","aria-label":"Cover image from URL",children:"URL"}),i.jsx("button",{type:"button",className:h.coverMode==="upload"?rt.statusToggleActive:rt.statusToggleBtn,onClick:()=>h.setCoverMode("upload"),"aria-pressed":h.coverMode==="upload","aria-label":"Upload cover image",children:"Upload"})]}),h.coverMode==="url"&&i.jsxs(i.Fragment,{children:[i.jsx("input",{type:"url",value:e.artworkUrl,onChange:y=>t(x=>({...x,artworkUrl:y.target.value})),className:rt.input,placeholder:"e.g. https://myshow.com/episode-cover.jpg",style:{marginTop:"0.5rem"}}),i.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginTop:"0.25rem",marginLeft:"0"},children:"Public URL for the episode cover (optional)"})]}),h.coverMode==="upload"&&i.jsxs(i.Fragment,{children:[i.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/webp",className:rt.input,style:{marginTop:"0.5rem"},onChange:y=>{var S;const x=(S=y.target.files)==null?void 0:S[0];x&&h.setPendingArtworkFile(x)},disabled:f,"aria-label":"Choose cover image"},h.coverUploadKey),h.pendingArtworkFile&&i.jsxs("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginTop:"0.25rem",margin:"0.25rem 0 0 0"},children:[h.pendingArtworkFile.name," will be uploaded when you save."]}),i.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginTop:"0.25rem",marginLeft:"0"},children:"JPG, PNG or WebP, max 5MB. Uploads when you click Save."})]}),(h.coverMode==="url"?h.debouncedArtworkUrl&&(h.debouncedArtworkUrl.startsWith("http://")||h.debouncedArtworkUrl.startsWith("https://")):h.pendingArtworkFile||h.artworkFilename)&&i.jsx("p",{style:{marginTop:"0.75rem",marginBottom:0,display:"flex",justifyContent:"center"},children:i.jsx("img",{src:hNe(h.coverMode==="url"?h.debouncedArtworkUrl:h.pendingArtworkPreviewUrl??(h.artworkFilename?`/api/podcasts/${h.podcastId}/episodes/${h.episodeId}/artwork/${encodeURIComponent(h.artworkFilename)}`:"")),alt:"Cover preview",style:{maxWidth:"160px",maxHeight:"160px",borderRadius:"8px",border:"1px solid var(--border)",objectFit:"cover"}},h.coverMode==="url"?`url-${h.debouncedArtworkUrl}`:`upload-${h.artworkFilename??""}-${!!h.pendingArtworkPreviewUrl}`)})]}):i.jsxs(i.Fragment,{children:[i.jsx("input",{type:"url",value:e.artworkUrl,onChange:y=>t(x=>({...x,artworkUrl:y.target.value})),className:rt.input,placeholder:"e.g. https://myshow.com/episode-cover.jpg"}),i.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginTop:"0.25rem",marginLeft:"0"},children:"URL for the episode cover image (optional)"})]})]}),i.jsx("h3",{className:rt.formSectionTitle,children:"Publish & visibility"}),i.jsxs("label",{className:rt.label,children:["Status",i.jsx("div",{className:rt.statusToggle,role:"group","aria-label":"Episode status",children:["draft","scheduled","published"].map(y=>i.jsx("button",{type:"button",className:e.status===y?rt.statusToggleActive:rt.statusToggleBtn,onClick:()=>t(x=>({...x,status:y})),"aria-pressed":e.status===y,"aria-label":`Status: ${y.charAt(0).toUpperCase()+y.slice(1)}`,children:y.charAt(0).toUpperCase()+y.slice(1)},y))})]}),i.jsxs("label",{className:rt.label,children:["Publish at (optional)",i.jsx("input",{type:"datetime-local",value:e.publishAt,onChange:y=>t(x=>({...x,publishAt:y.target.value})),className:rt.input})]}),i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:e.explicit,onChange:y=>t(x=>({...x,explicit:y.target.checked}))}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Explicit"})]}),i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:e.subscriberOnly,onChange:y=>t(x=>({...x,subscriberOnly:y.target.checked}))}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Subscriber Only"})]}),i.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",margin:"-0.25rem 0 0.5rem 0"},children:"Subscriber-only episodes are omitted from the public RSS and episode list; they appear only in tokenized subscriber feeds."}),i.jsx("h3",{className:rt.formSectionTitle,children:"Optional details"}),i.jsxs("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap"},children:[i.jsxs("label",{className:rt.label,style:{flex:"1 1 80px"},children:["Season",i.jsx("input",{type:"number",min:0,value:e.seasonNumber,onChange:y=>t(x=>({...x,seasonNumber:y.target.value})),className:rt.input,placeholder:"e.g. 1"})]}),i.jsxs("label",{className:rt.label,style:{flex:"1 1 80px"},children:["Episode",i.jsx("input",{type:"number",min:0,value:e.episodeNumber,onChange:y=>t(x=>({...x,episodeNumber:y.target.value})),className:rt.input,placeholder:"e.g. 1"})]})]}),i.jsxs("label",{className:rt.label,children:["Episode type",i.jsxs("select",{value:e.episodeType||"full",onChange:y=>t(x=>({...x,episodeType:y.target.value})),className:rt.input,children:[i.jsx("option",{value:"full",children:"Full"}),i.jsx("option",{value:"trailer",children:"Trailer"}),i.jsx("option",{value:"bonus",children:"Bonus"})]})]}),i.jsxs("label",{className:rt.label,children:["Episode link",i.jsx("input",{type:"url",value:e.episodeLink,onChange:y=>t(x=>({...x,episodeLink:y.target.value})),className:rt.input,placeholder:"e.g. https://myshow.com/episodes/1"}),i.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginTop:"0.25rem",marginLeft:"0"},children:"URL to this episode's web page (optional)"})]}),i.jsxs("div",{className:rt.advancedSection,children:[i.jsxs("button",{type:"button",className:rt.advancedToggle,onClick:()=>b(y=>!y),"aria-expanded":m,"aria-controls":"episode-details-advanced-fields",children:[m?i.jsx(lS,{size:18,"aria-hidden":!0}):i.jsx(Qd,{size:18,"aria-hidden":!0}),i.jsx("span",{children:"More options"})]}),m&&i.jsxs("div",{id:"episode-details-advanced-fields",className:rt.advancedFields,children:[i.jsxs("label",{className:rt.label,children:["Full show notes (HTML)",i.jsx("textarea",{ref:j,value:e.contentEncoded,onChange:y=>t(x=>({...x,contentEncoded:y.target.value})),className:rt.textarea,rows:2,style:{overflow:"hidden",resize:"none"},placeholder:"e.g. <p>Full transcript or show notes</p>"}),i.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",margin:"0.25rem 0 0 0"},children:"Optional. Shown in apps that support full show notes."})]}),i.jsxs("label",{className:rt.label,children:["GUID",i.jsx("input",{type:"text",value:e.guid,onChange:y=>t(x=>({...x,guid:y.target.value})),className:rt.input,placeholder:"Leave blank to auto-generate"}),i.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginTop:"0.25rem",marginLeft:"0"},children:"Unique ID for this episode. Only change if you need to keep an existing ID."})]}),i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:e.guidIsPermalink,onChange:y=>t(x=>({...x,guidIsPermalink:y.target.checked}))}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"GUID is permalink"})]})]})]})]})}const E7="/api";function gNe(e,t="final"){return`${E7}/episodes/${e}/download?type=${t}`}function vNe(e){return`${E7}/episodes/${e}/final-waveform`}const yNe=32,bNe=3;function _Ne(e){return 2**(e-1)}function Pw(e,t){return typeof document>"u"?t:getComputedStyle(document.documentElement).getPropertyValue(e).trim()||t}function hf({data:e,durationSec:t,currentTime:r,onSeek:n,onPlayPause:a,className:o}){const u=v.useRef(null),c=v.useRef(null),p=v.useCallback(()=>{const m=c.current,b=u.current;if(!m||!b||!e.data.length)return;const _=e.bits??8,j=Math.max(1,e.channels??1),w=typeof e.length=="number"&&e.length>=0?e.length:Math.floor(e.data.length/(2*j));if(w<=0)return;const y=_Ne(_),x=window.devicePixelRatio??1,S=b.clientWidth,T=yNe;m.width=Math.round(S*x),m.height=Math.round(T*x),m.style.width=`${S}px`,m.style.height=`${T}px`;const N=m.getContext("2d");if(!N)return;N.scale(x,x);const A=T/2,P=S/w,k=Math.max(bNe,P+.5),R=t>0?Math.min(1,Math.max(0,r/t)):0,D=Pw("--bg-elevated","#1e293b"),I=Pw("--accent","#0ea5e9"),q=Pw("--text-muted","#94a3b8");N.fillStyle=D,N.fillRect(0,0,S,T);for(let M=0;M<w;M++){const F=M*2*j,B=e.data[F]??0,O=e.data[F+1]??0,$=B/y,K=O/y,V=M/w*S,Q=A-K*A,U=A-$*A,X=Math.min(Q,U),ee=Math.max(1,Math.abs(U-Q)),te=M/w<=R;N.fillStyle=te?I:q,N.fillRect(V,X,k,ee)}const z=R*S;N.strokeStyle=I,N.lineWidth=2,N.beginPath(),N.moveTo(z,0),N.lineTo(z,T),N.stroke()},[e,t,r]);v.useEffect(()=>{p();const m=u.current;if(!m)return;const b=new ResizeObserver(p);return b.observe(m),()=>b.disconnect()},[p]);function h(m){const b=u.current;if(!b||t<=0)return;const _=b.getBoundingClientRect(),j=Math.max(0,Math.min(1,(m.clientX-_.left)/_.width));n(j*t)}function f(m){m.key!==" "||!a||(m.preventDefault(),a())}return i.jsx("div",{ref:u,className:o??W.waveformTrack,onClick:h,onKeyDown:f,tabIndex:a!=null?0:void 0,role:"progressbar","aria-valuenow":Math.round(r),"aria-valuemin":0,"aria-valuemax":t,"aria-label":"Playback position",children:i.jsx("canvas",{ref:c,className:W.waveformCanvas})})}function xNe({episodeId:e,segmentCount:t,onBuild:r,isBuilding:n,buildMessage:a,hasFinalAudio:o,finalDurationSec:u,finalUpdatedAt:c,readOnly:p=!1,onFinalPlayStart:h,pauseAndResetRef:f,hasTranscript:m=!1,onOpenTranscript:b,onGenerateTranscript:_,error:j,canGenerateTranscript:w=!0}){const y=v.useRef(null),[x,S]=v.useState(null),[T,N]=v.useState(!1),[A,P]=v.useState(0),[k,R]=v.useState(!1),D=o&&e?`${vNe(e)}${c?`?v=${encodeURIComponent(c)}`:""}`:"",I=o&&e?`${gNe(e,"final")}${c?`&v=${encodeURIComponent(c)}`:""}`:"";v.useEffect(()=>{if(!o||!e||u<=0){S(null);return}let M=!1;return fetch(D,{credentials:"include"}).then(F=>F.ok?F.json():null).then(F=>{var B;!M&&((B=F==null?void 0:F.data)!=null&&B.length)?S(F):M||S(null)}).catch(()=>{M||S(null)}),()=>{M=!0}},[e,o,u,D]),v.useEffect(()=>{const M=y.current;if(!M)return;const F=()=>N(!0),B=()=>N(!1),O=()=>{N(!1),M.currentTime=0,P(0)},$=()=>P(M.currentTime),K=()=>P(M.currentTime);return M.addEventListener("play",F),M.addEventListener("pause",B),M.addEventListener("ended",O),M.addEventListener("timeupdate",$),M.addEventListener("loadedmetadata",K),()=>{M.removeEventListener("play",F),M.removeEventListener("pause",B),M.removeEventListener("ended",O),M.removeEventListener("timeupdate",$),M.removeEventListener("loadedmetadata",K)}},[u]),v.useEffect(()=>{if(f)return f.current=()=>{const M=y.current;M&&(M.pause(),M.currentTime=0,P(0))},()=>{f.current=null}},[f]);function q(){const M=y.current;M&&(T?(M.pause(),N(!1)):(h==null||h(),M.src=I,N(!0),M.play().catch(()=>N(!1))))}const z=u>0?u:0;return i.jsxs("div",{className:W.generateBar,children:[i.jsxs("div",{className:W.generateBarHeader,children:[i.jsx("h2",{className:W.generateBarTitle,children:"Generate Final Episode"}),i.jsx("p",{className:W.generateBarSub,children:"Build the final MP3 from your sections. When done, you can play it here or download it for your feed."})]}),j&&i.jsx("p",{className:W.error,style:{marginTop:0,marginBottom:"1.25rem"},role:"alert",children:j}),o&&z>0&&i.jsxs("div",{className:W.generateBarPlayback,children:[i.jsx("button",{type:"button",className:W.segmentBtn,onClick:q,title:T?"Pause":"Play","aria-label":T?"Pause final episode":"Play final episode",children:T?i.jsx(_s,{size:18,"aria-hidden":!0}):i.jsx(xs,{size:18,"aria-hidden":!0})}),x?i.jsx(hf,{data:x,durationSec:z,currentTime:A,onSeek:M=>{const F=y.current;F&&(F.currentTime=M,P(M))},className:W.generateBarWaveform}):i.jsx("div",{className:W.generateBarProgressPlaceholder})]}),i.jsx("audio",{ref:y,style:{display:"none"}}),i.jsx("div",{className:W.generateBarInner,children:i.jsxs("div",{className:W.generateBarActionsWrap,children:[a&&i.jsxs("div",{className:W.generateBarBuildNotice,role:"status",children:[i.jsx(Mq,{size:18,strokeWidth:2,"aria-hidden":!0,className:W.generateBarBuildNoticeIcon}),i.jsx("span",{children:a})]}),i.jsxs("div",{className:W.generateBarActions,children:[i.jsxs("button",{type:"button",className:W.renderBtnPrimary,onClick:r,disabled:t===0||n||p,title:p?"Read-only account":void 0,"aria-label":p?"Make Final Episode (read-only)":n?"Building...":"Make Final Episode",children:[i.jsx(OF,{size:20,strokeWidth:2,"aria-hidden":!0}),i.jsx("span",{children:n?"Building...":"Make Final Episode"})]}),(m||o&&!n)&&(b||_)&&i.jsx("button",{type:"button",className:m?W.generateBarTranscriptBtn:W.generateBarGenerateTranscriptBtn,onClick:m?b:async()=>{if(!(!_||!w)){R(!0);try{await _()}finally{R(!1)}}},disabled:n||!m&&(k||!w),title:n?"Transcript available after build finishes":m?"View Episode Transcript":k?"Generating transcript":"Generate transcript from final audio","aria-label":n?"Transcript (disabled while building)":m?"View Episode Transcript":k?"Generating transcript":"Generate Transcript",children:m?i.jsxs(i.Fragment,{children:[i.jsx(Ej,{size:18,strokeWidth:2,"aria-hidden":!0}),i.jsx("span",{children:"Transcript"})]}):i.jsxs(i.Fragment,{children:[i.jsx(MF,{size:18,strokeWidth:2,"aria-hidden":!0}),i.jsx("span",{children:k?"Generating":"Generate Transcript"})]})}),o&&I&&!n&&i.jsx("a",{href:I,download:!0,className:W.renderDownload,children:"Download Final Audio"})]})]})})]})}const vr={...ae,...Vh},_l=5;function wNe({podcastId:e,episodeId:t,canAssign:r}){var P;const n=Lt(),[a,o]=v.useState(""),u=tC(a),[c,p]=v.useState("newest"),[h,f]=v.useState(0),{data:m}=Oe({queryKey:["cast",e,{limit:1}],queryFn:()=>Tv(e,{limit:1}),enabled:!!e}),{data:b}=Oe({queryKey:["episode-cast",e,t],queryFn:()=>qwe(e,t),enabled:!!e&&!!t}),_=(b==null?void 0:b.cast)??[],{data:j,isLoading:w}=Oe({queryKey:["cast",e,{limit:_l,offset:h,q:u,sort:c,episode_id:t}],queryFn:()=>Tv(e,{limit:_l,offset:h,q:u.trim()||void 0,sort:c,episode_id:t}),enabled:!!e&&!!t}),y=(j==null?void 0:j.cast)??[],x=(j==null?void 0:j.total)??0,S=Ue({mutationFn:({castIds:k})=>Uwe(e,t,k),onSuccess:(k,{addedId:R,shouldGoBackPage:D})=>{D&&f(I=>Math.max(0,I-_l)),n.invalidateQueries({queryKey:["episode-cast",e,t]}),n.invalidateQueries({queryKey:["cast",e]}),R&&n.setQueriesData({queryKey:["cast",e],predicate:I=>{var z;return((z=I.queryKey[2])==null?void 0:z.episode_id)===t}},I=>I&&{cast:I.cast.filter(z=>z.id!==R),total:Math.max(0,I.total-1)})}}),T=k=>{if(!r)return;const R=[..._.map(I=>I.id),k.id],D=h>0&&y.length===1;S.mutate({castIds:R,addedId:k.id,shouldGoBackPage:D})},N=k=>{if(!r)return;const R=_.filter(D=>D.id!==k.id).map(D=>D.id);S.mutate({castIds:R})},A=()=>{!r||x===0||Tv(e,{limit:100,offset:0,sort:c,episode_id:t}).then(({cast:k})=>{const R=k.filter(D=>D.role==="host").map(D=>D.id);R.length>0&&S.mutate({castIds:[..._.map(D=>D.id),...R],addedId:void 0})})};return((m==null?void 0:m.total)??0)===0&&m!==void 0?null:i.jsxs("div",{className:vr.card,children:[i.jsxs("div",{className:`${vr.exportHeader} ${vr.castSectionHeader}`,children:[i.jsx("h2",{className:vr.sectionTitle,children:"Cast"}),r&&i.jsxs("button",{type:"button",className:vr.gearBtn,onClick:A,disabled:S.isPending,children:[i.jsx(fh,{size:14}),"Quick Add All Hosts"]})]}),_.length>0&&i.jsxs("div",{className:vr.castChipsWrap,children:[i.jsx("h3",{className:vr.dialogSectionTitle,style:{marginTop:0},children:"Assigned"}),i.jsx("div",{className:vr.castChips,children:_.map(k=>i.jsx(vS,{member:k,podcastId:e,variant:"chip",children:r&&i.jsx("button",{type:"button",className:vr.castChipRemove,onClick:()=>N(k),"aria-label":`Remove ${k.name}`,children:i.jsx(Nt,{size:14})})},k.id))})]}),r&&i.jsxs("div",{children:[i.jsxs("div",{className:vr.castSearchWrap,children:[i.jsx("input",{type:"search",value:a,onChange:k=>{o(k.target.value),f(0)},placeholder:"Search by name...",className:vr.castSearchInput,"aria-label":"Search cast"}),i.jsxs("div",{className:vr.statusToggle,role:"group","aria-label":"Sort order",children:[i.jsx("button",{type:"button",className:c==="newest"?vr.statusToggleActive:vr.statusToggleBtn,onClick:()=>{p("newest"),f(0)},"aria-pressed":c==="newest",children:"Newest"}),i.jsx("button",{type:"button",className:c==="oldest"?vr.statusToggleActive:vr.statusToggleBtn,onClick:()=>{p("oldest"),f(0)},"aria-pressed":c==="oldest",children:"Oldest"})]})]}),w?i.jsx("p",{className:vr.castEmpty,children:"Loading..."}):y.length>0?i.jsx("ul",{className:vr.castList,children:y.map(k=>i.jsx(vS,{member:k,podcastId:e,children:i.jsxs("button",{type:"button",className:vr.gearBtn,onClick:()=>T(k),disabled:S.isPending,"aria-label":`Add ${k.name}`,children:[i.jsx(fh,{size:14}),"Add"]})},k.id))}):i.jsx("p",{className:vr.pdCardEmptyState,children:a.trim()?"No results match your search.":"All show cast members are assigned."}),x>_l&&i.jsxs("div",{className:vr.castPagination,children:[i.jsx("button",{type:"button",className:vr.castPaginationBtn,onClick:()=>f(k=>Math.max(0,k-_l)),disabled:h===0,"aria-label":"Previous page",children:i.jsx(WM,{size:16})}),i.jsxs("span",{className:vr.castPaginationLabel,children:[h+1,"",Math.min(h+_l,x)," of ",x]}),i.jsx("button",{type:"button",className:vr.castPaginationBtn,onClick:()=>f(k=>k+_l),disabled:h+_l>=x,"aria-label":"Next page",children:i.jsx(Qd,{size:16})})]})]}),S.isError&&i.jsx("p",{className:vr.error,style:{marginTop:"0.5rem"},children:((P=S.error)==null?void 0:P.message)??"Failed to update cast"})]})}function SNe({episodeId:e,segment:t,index:r,total:n,onMoveUp:a,onMoveDown:o,onDeleteRequest:u,onUpdateName:c,isDeleting:p,onPlayRequest:h,onMoreInfo:f,registerPause:m,unregisterPause:b,readOnly:_=!1}){const j=v.useRef(null),w=v.useRef(null),y=v.useRef(null),[x,S]=v.useState(!1),[T,N]=v.useState(0),A=t.duration_sec??0,P=t.type==="recorded",k=P?"Recorded section":t.asset_name??"Library clip",[R,D]=v.useState(t.name??""),[I,q]=v.useState(null);v.useEffect(()=>{D(t.name??"")},[t.name]),v.useEffect(()=>{if(!e||!t.id||A<=0){q(null);return}let O=!1;return fetch(wSe(e,t.id),{credentials:"include"}).then($=>$.ok?$.json():null).then($=>{var K;!O&&((K=$==null?void 0:$.data)!=null&&K.length)?q($):O||q(null)}).catch(()=>{O||q(null)}),()=>{O=!0}},[e,t.id,t.audio_path,A]),v.useEffect(()=>{y.current=null},[e,t.id,t.audio_path]);function z(){const O=R.trim(),$=(t.name??"").trim();O!==$&&c(t.id,O||null)}function M(){const O=j.current;O&&(x?(O.pause(),S(!1)):(h(t.id),y.current!==t.id&&(y.current=t.id,O.src=Lv(e,t.id,t.audio_path)),S(!0),O.play().catch(()=>S(!1))))}v.useEffect(()=>(m(t.id,()=>{const O=j.current;O&&(O.pause(),O.currentTime=0,N(0))}),()=>b(t.id)),[t.id,m,b]);function F(O){const $=j.current,K=w.current;if(!$||!K||A<=0)return;const V=K.getBoundingClientRect();let U=Math.max(0,Math.min(1,(O.clientX-V.left)/V.width))*A;Number.isFinite($.duration)&&$.duration>0&&(U=Math.min(U,$.duration)),$.currentTime=U,N(U)}v.useEffect(()=>{const O=j.current;if(!O)return;const $=()=>S(!0),K=()=>S(!1),V=()=>{S(!1),O.currentTime=0,N(0)},Q=()=>N(O.currentTime),U=()=>N(O.currentTime);return O.addEventListener("play",$),O.addEventListener("pause",K),O.addEventListener("ended",V),O.addEventListener("timeupdate",Q),O.addEventListener("loadedmetadata",U),()=>{O.removeEventListener("play",$),O.removeEventListener("pause",K),O.removeEventListener("ended",V),O.removeEventListener("timeupdate",Q),O.removeEventListener("loadedmetadata",U)}},[A]);const B=A>0?Math.min(1,T/A):0;return i.jsxs("li",{className:W.segmentBlock,children:[i.jsxs("div",{className:W.segmentBlockTop,children:[i.jsx("span",{className:W.segmentIcon,title:P?"Recorded":"From library",children:P?i.jsx(Id,{size:18,strokeWidth:2,"aria-hidden":!0}):i.jsx(Vv,{size:18,strokeWidth:2,"aria-hidden":!0})}),i.jsxs("div",{className:W.segmentBody,children:[i.jsx("input",{type:"text",className:W.segmentNameInput,value:R,onChange:O=>D(O.target.value),onBlur:z,placeholder:k,"aria-label":"Section name",readOnly:_}),i.jsxs("div",{className:W.segmentMeta,children:[jd(Math.floor(T))," / ",jd(t.duration_sec)]})]}),i.jsx("audio",{ref:j,style:{display:"none"}}),!_&&i.jsxs("div",{className:W.segmentActions,children:[i.jsx("button",{type:"button",className:W.segmentBtn,onClick:f,title:"More info","aria-label":"Show more information",children:i.jsx(HF,{size:18,"aria-hidden":!0})}),i.jsx("button",{type:"button",className:W.segmentBtn,onClick:a,disabled:r===0,title:"Move up","aria-label":"Move segment up",children:""}),i.jsx("button",{type:"button",className:W.segmentBtn,onClick:o,disabled:r===n-1,title:"Move down","aria-label":"Move segment down",children:""}),i.jsx("button",{type:"button",className:`${W.segmentBtn} ${W.segmentBtnDanger}`,onClick:u,disabled:p,title:"Remove","aria-label":"Remove segment",children:i.jsx(Wl,{size:18,"aria-hidden":!0})})]})]}),A>0&&i.jsxs("div",{className:W.segmentWaveformRow,children:[i.jsx("button",{type:"button",className:W.segmentBtn,onClick:M,title:x?"Pause":"Play","aria-label":x?"Pause segment":"Play segment",children:x?i.jsx(_s,{size:18,"aria-hidden":!0}):i.jsx(xs,{size:18,"aria-hidden":!0})}),I?i.jsx(hf,{data:I,durationSec:A,currentTime:T,onSeek:O=>{const $=j.current;$&&($.currentTime=O,N(O))},onPlayPause:M,className:`${W.waveformTrack} ${W.segmentWaveformTrack}`}):i.jsx("div",{ref:w,className:W.segmentProgressTrack,onClick:F,role:"progressbar","aria-valuenow":Math.round(T),"aria-valuemin":0,"aria-valuemax":A,"aria-label":"Playback position",children:i.jsx("div",{className:W.segmentProgressFill,style:{width:`${B*100}%`}})})]})]})}function jNe({episodeId:e,segments:t,segmentsLoading:r,onAddRecord:n,onAddLibrary:a,recordDisabled:o=!1,recordDisabledMessage:u,readOnly:c=!1,onMoveUp:p,onMoveDown:h,onDeleteRequest:f,onUpdateSegmentName:m,isDeletingSegment:b,deletingSegmentId:_,onSegmentPlayRequest:j,onSegmentMoreInfo:w,registerSegmentPause:y,unregisterSegmentPause:x}){return i.jsxs("div",{className:W.sectionsPanel,children:[i.jsxs("header",{className:W.sectionsPanelHeader,children:[i.jsx("h2",{className:W.sectionTitle,children:"Build Your Episode"}),i.jsx("p",{className:W.sectionSub,children:"Add sections in order: record new audio or insert from your library. Then build the final MP3."})]}),i.jsxs("div",{className:W.addSectionChoiceRow,children:[o||c?i.jsxs("span",{className:`${W.addSectionChoiceBtn} ${W.addSectionChoiceBtnPrimary} ${W.addSectionChoiceBtnDisabled}`,title:c?"Read-only account":u,"aria-label":c?"Record new section (read-only)":u??"Record new section (disabled)",children:[i.jsx(Id,{size:24,strokeWidth:2,"aria-hidden":!0}),i.jsx("span",{children:"Record New Section"})]}):i.jsxs("button",{type:"button",className:`${W.addSectionChoiceBtn} ${W.addSectionChoiceBtnPrimary}`,onClick:n,"aria-label":"Record new section",children:[i.jsx(Id,{size:24,strokeWidth:2,"aria-hidden":!0}),i.jsx("span",{children:"Record New Section"})]}),c?i.jsxs("span",{className:`${W.addSectionChoiceBtn} ${W.addSectionChoiceBtnDisabled}`,title:"Read-only account","aria-label":"Insert from library (read-only)",children:[i.jsx(Vv,{size:24,strokeWidth:2,"aria-hidden":!0}),i.jsx("span",{children:"Insert from library"})]}):i.jsxs("button",{type:"button",className:W.addSectionChoiceBtn,onClick:a,"aria-label":"Insert from library",children:[i.jsx(Vv,{size:24,strokeWidth:2,"aria-hidden":!0}),i.jsx("span",{children:"Insert from library"})]})]}),o&&u&&i.jsx("p",{className:W.sectionSub,style:{marginTop:"0.25rem"},children:u}),r?i.jsx("p",{className:W.sectionSub,children:"Loading sections..."}):t.length===0?i.jsx("p",{className:W.sectionSub,children:"No sections yet. Record or add from library above."}):i.jsx("ul",{className:W.segmentList,children:t.map((S,T)=>i.jsx(SNe,{episodeId:e,segment:S,index:T,total:t.length,onMoveUp:()=>p(T),onMoveDown:()=>h(T),onDeleteRequest:()=>f(S.id),onUpdateName:m,isDeleting:b&&_===S.id,onPlayRequest:j,onMoreInfo:()=>w(S.id),registerPause:y,unregisterPause:x,readOnly:c},S.id))})]})}function CNe({onClose:e,onAdd:t,isAdding:r,error:n}){const[a,o]=v.useState(!1),[u,c]=v.useState(0),[p,h]=v.useState(null),[f,m]=v.useState(null),[b,_]=v.useState(""),[j,w]=v.useState(!1),[y,x]=v.useState(null),[S,T]=v.useState(0),[N,A]=v.useState(0),[P,k]=v.useState(!1),[R,D]=v.useState(!1),[I,q]=v.useState(null),[z,M]=v.useState(0),[F,B]=v.useState(!1),O=v.useRef(!1),$=v.useRef(null),K=v.useRef(null),V=v.useRef([]),Q=v.useRef(null),U=v.useRef(null),X=v.useRef(null),ee=v.useRef(null),te=v.useRef(null),me=v.useRef(null),Ce=v.useRef(null),xe=v.useRef(null),He=v.useRef(null),re=v.useRef(null),Pe=v.useRef(null),Ne=v.useRef(null),ge=!!(p||f);function _t(){He.current&&(He.current.release().catch(()=>{}),He.current=null)}v.useEffect(()=>{const Ae=window.matchMedia("(max-width: 768px)");w(Ae.matches);const it=()=>w(Ae.matches);return Ae.addEventListener("change",it),()=>Ae.removeEventListener("change",it)},[]),v.useEffect(()=>()=>{var Ae,it;Q.current&&clearInterval(Q.current),Ne.current!=null&&cancelAnimationFrame(Ne.current),((Ae=re.current)==null?void 0:Ae.state)!=="closed"&&((it=re.current)==null||it.close()),$.current&&$.current.getTracks().forEach(nt=>nt.stop()),_t()},[]),v.useEffect(()=>{const Ae=setTimeout(()=>{!a&&!ge&&te.current?te.current.focus():a&&me.current?me.current.focus():ge&&Ce.current&&Ce.current.focus()},0);return()=>clearTimeout(Ae)},[a,ge]),v.useEffect(()=>{if(!ee.current)return;function it(nt){const ut=ee.current;if(!ut)return;if(nt.key==="Escape"){nt.preventDefault(),!a&&!ge?e():(q("close"),D(!0));return}if(nt.key!=="Tab")return;const mt=Array.from(ut.querySelectorAll('button:not([disabled]), [href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"])')).filter(tr=>{const ln=window.getComputedStyle(tr);return ln.display!=="none"&&ln.visibility!=="hidden"&&ln.opacity!=="0"});if(mt.length===0)return;const Tt=mt[0],Ot=mt[mt.length-1],lr=document.activeElement;nt.shiftKey?(lr===Tt||!ut.contains(lr))&&(nt.preventDefault(),Ot==null||Ot.focus()):(lr===Ot||!ut.contains(lr))&&(nt.preventDefault(),Tt==null||Tt.focus())}return document.addEventListener("keydown",it),()=>document.removeEventListener("keydown",it)},[a,ge,e]),v.useEffect(()=>{if(p){const Ae=URL.createObjectURL(p);return x(Ae),A(u),T(0),()=>URL.revokeObjectURL(Ae)}if(f){const Ae=URL.createObjectURL(f);return x(Ae),A(0),T(0),()=>URL.revokeObjectURL(Ae)}x(null),T(0),A(0),k(!1)},[p,u,f]),v.useEffect(()=>{const Ae=U.current;if(!Ae||!y)return;const it=()=>T(Number.isFinite(Ae.currentTime)?Ae.currentTime:0),nt=()=>{const Ot=Ae.duration;Number.isFinite(Ot)&&Ot>0&&A(Ot)},ut=()=>k(!0),mt=()=>k(!1),Tt=()=>{k(!1),T(Number.isFinite(Ae.currentTime)?Ae.currentTime:0)};return Ae.addEventListener("timeupdate",it),Ae.addEventListener("loadedmetadata",nt),Ae.addEventListener("play",ut),Ae.addEventListener("pause",mt),Ae.addEventListener("ended",Tt),()=>{Ae.removeEventListener("timeupdate",it),Ae.removeEventListener("loadedmetadata",nt),Ae.removeEventListener("play",ut),Ae.removeEventListener("pause",mt),Ae.removeEventListener("ended",Tt)}},[y]);function Ge(Ae){const it=window.AudioContext||window.webkitAudioContext,nt=new it;re.current=nt;const ut=nt.createMediaStreamSource(Ae),mt=nt.createAnalyser();mt.fftSize=256,mt.smoothingTimeConstant=.7,mt.minDecibels=-60,mt.maxDecibels=-10,ut.connect(mt),Pe.current=mt;const Tt=new Uint8Array(mt.frequencyBinCount);nt.resume().catch(()=>{});const Ot=5;function lr(){const tr=re.current,ln=Pe.current;if(tr&&ln&&tr.state==="running"){ln.getByteFrequencyData(Tt);let wa=0;for(let aa=0;aa<Tt.length;aa++)Tt[aa]>wa&&(wa=Tt[aa]);M(Math.min(100,Math.round(wa/255*100))),wa>=Ot&&!O.current&&(O.current=!0,B(!0))}Ne.current=requestAnimationFrame(lr)}Ne.current=requestAnimationFrame(lr)}function lt(){var Ae,it;Ne.current!=null&&(cancelAnimationFrame(Ne.current),Ne.current=null),((Ae=re.current)==null?void 0:Ae.state)!=="closed"&&((it=re.current)==null||it.close(),re.current=null),Pe.current=null,M(0),O.current=!1,B(!1)}async function at(){var Ae;try{const it=await navigator.mediaDevices.getUserMedia({audio:!0});$.current=it,V.current=[],Ge(it);const nt=new MediaRecorder(it);K.current=nt,nt.ondataavailable=ut=>{ut.data.size&&V.current.push(ut.data)},nt.onstop=()=>{var mt;lt();const ut=new Blob(V.current,{type:nt.mimeType||"audio/webm"});h(ut),(mt=$.current)==null||mt.getTracks().forEach(Tt=>Tt.stop()),$.current=null},nt.start(1e3),o(!0),c(0),h(null),m(null),O.current=!1,B(!1),Q.current=setInterval(()=>c(ut=>ut+1),1e3);try{"wakeLock"in navigator&&typeof((Ae=navigator.wakeLock)==null?void 0:Ae.request)=="function"&&(He.current=await navigator.wakeLock.request("screen"))}catch{}}catch(it){console.error(it),alert("Could not access microphone.")}}function Ve(){K.current&&a&&(K.current.stop(),Q.current&&(clearInterval(Q.current),Q.current=null),_t(),o(!1))}function _e(){if(f){t(f,b.trim()||null);return}if(!p)return;const Ae=p.type.includes("webm")?"webm":p.type.includes("ogg")?"ogg":"webm",it=new File([p],`recording.${Ae}`,{type:p.type});t(it,b.trim()||null)}function We(Ae){var nt;const it=(nt=Ae.target.files)==null?void 0:nt[0];it&&(m(it),_(it.name.replace(/\.[^.]+$/,"")),h(null),xe.current&&(xe.current.value=""))}function er(){m(null),xe.current&&(xe.current.value="")}function ht(){const Ae=U.current;Ae&&(P?Ae.pause():Ae.play().catch(()=>{}))}function qa(Ae){const it=U.current,nt=X.current;if(!it||!nt||N<=0)return;const ut=nt.getBoundingClientRect(),mt=Math.max(0,Math.min(1,(Ae.clientX-ut.left)/ut.width));it.currentTime=mt*N,T(mt*N)}const Pn=N>0?Math.min(1,S/N):0;function It(){!a&&!ge?e():(q("close"),D(!0))}function Fn(){q("discard_preview"),D(!0)}function ra(){I==="close"?(D(!1),q(null),e()):I==="discard_preview"&&(D(!1),q(null),h(null),c(0),er())}function na(){D(!1),q(null)}return i.jsxs("div",{className:W.recordOverlay,onClick:Ae=>Ae.target===Ae.currentTarget&&It(),children:[i.jsxs("div",{ref:ee,className:W.recordCard,onClick:Ae=>Ae.stopPropagation(),role:"dialog","aria-modal":"true","aria-labelledby":"record-title",children:[i.jsxs("div",{className:W.dialogHeaderRow,children:[i.jsx("h3",{id:"record-title",className:W.dialogTitle,children:"Record A Section"}),i.jsx("button",{type:"button",className:W.dialogClose,onClick:It,"aria-label":"Close",children:i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":"true"})})]}),i.jsx("p",{className:W.recordSub,children:"Use your microphone or upload audio. To begin, click the red record button below."}),!a&&!ge&&i.jsxs(i.Fragment,{children:[i.jsx("button",{ref:te,type:"button",className:`${W.recordBtn} ${W.record}`,onClick:at,"aria-label":"Start recording",children:""}),j&&i.jsx("p",{className:W.recordMobileNote,children:"Please do not navigate away from this page or the recording may be stopped or lost. Please record for less than 30 minutes to avoid issues."}),!j&&i.jsx("p",{className:W.recordMobileNote,children:"Please do not navigate away from this page or the recording may be stopped or lost."}),i.jsxs("button",{type:"button",className:`${W.addSectionChoiceBtn} ${W.addSectionChoiceBtnPrimary} ${W.libraryChooseFileBtn}`,style:{width:"100%",marginTop:"0.75rem"},onClick:()=>{var Ae;return(Ae=xe.current)==null?void 0:Ae.click()},"aria-label":"Choose file to upload",children:[i.jsx(Qv,{size:24,strokeWidth:2,"aria-hidden":!0}),i.jsx("span",{children:"Choose File to Upload"})]}),i.jsx("input",{ref:xe,type:"file",accept:"audio/mpeg,audio/mp3,audio/wav,audio/wave,audio/x-wav,audio/mp4,audio/webm,audio/ogg,.mp3,.wav,.m4a,.webm,.ogg",style:{display:"none"},onChange:We})]}),a&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:W.recordTime,children:jd(u)}),i.jsxs("div",{className:W.recordLevelWrap,"aria-live":"polite","aria-label":"Microphone level",children:[i.jsx("div",{className:W.recordLevelBar,role:"presentation",children:i.jsx("div",{className:W.recordLevelFill,style:{width:`${z}%`}})}),!F&&i.jsx("p",{className:W.recordLevelHint,children:z<2?"No input - check if microphone is muted":"Microphone active"})]}),i.jsx("button",{ref:me,type:"button",className:`${W.recordBtn} ${W.stop}`,onClick:Ve,"aria-label":"Stop recording",children:""})]}),ge&&!a&&i.jsxs(i.Fragment,{children:[i.jsxs("label",{className:W.recordLabel,children:["Section name (optional)",i.jsx("input",{type:"text",className:W.recordNameInput,value:b,onChange:Ae=>_(Ae.target.value),placeholder:"e.g. Intro, Ad read"})]}),y&&i.jsxs("div",{className:W.recordPlaybackWrap,children:[i.jsx("audio",{ref:U,src:y,preload:"metadata",style:{display:"none"}},y),i.jsxs("div",{className:W.recordPlaybackRow,children:[i.jsx("button",{type:"button",className:W.segmentBtn,onClick:ht,title:P?"Pause":"Play","aria-label":P?"Pause playback":"Play playback",children:P?i.jsx(_s,{size:18,"aria-hidden":!0}):i.jsx(xs,{size:18,"aria-hidden":!0})}),i.jsxs("div",{className:W.recordPlaybackInfo,children:[i.jsxs("div",{className:W.segmentMeta,children:[jd(Math.floor(S))," / ",jd(Math.floor(N))]}),i.jsx("div",{ref:X,className:W.segmentProgressTrack,onClick:qa,role:"progressbar","aria-valuenow":Math.round(S),"aria-valuemin":0,"aria-valuemax":Math.round(N),"aria-label":"Playback position",children:i.jsx("div",{className:W.segmentProgressFill,style:{width:`${Pn*100}%`}})})]})]})]}),p&&i.jsxs("button",{type:"button",className:`${W.recordChoiceBtn} ${W.recordChoiceBtnSecondary}`,style:{width:"100%",marginTop:"0.5rem"},onClick:Fn,"aria-label":"Record again",children:[i.jsx(ib,{size:24,strokeWidth:2,"aria-hidden":!0}),i.jsx("span",{children:"Record again"})]}),f&&i.jsxs("button",{type:"button",className:W.recordChoiceBtn,style:{width:"100%",marginTop:"0.5rem"},onClick:Fn,"aria-label":"Choose different file",children:[i.jsx(Qv,{size:24,strokeWidth:2,"aria-hidden":!0}),i.jsx("span",{children:"Choose different file"})]}),i.jsxs("div",{className:W.recordFooterRow,children:[i.jsx("button",{ref:Ce,type:"button",className:W.libraryClose,onClick:It,"aria-label":"Cancel",children:"Cancel"}),i.jsxs("button",{type:"button",className:W.recordFooterPrimaryBtn,onClick:_e,disabled:r,"aria-label":r?"Adding to episode":"Add to episode",children:[i.jsx(gF,{size:18,strokeWidth:2,"aria-hidden":!0}),i.jsx("span",{children:r?"Adding...":"Add to episode"})]})]})]}),!ge&&!a&&i.jsx("div",{className:W.recordFooterRow,children:i.jsx("button",{ref:Ce,type:"button",className:W.libraryClose,onClick:It,"aria-label":"Cancel",children:"Cancel"})}),n&&i.jsx("p",{className:W.error,style:{marginTop:"0.5rem"},children:n})]}),i.jsx(ur,{open:R,onOpenChange:Ae=>!Ae&&na(),children:i.jsxs(br,{children:[i.jsx(dr,{className:W.dialogOverlay}),i.jsxs(fr,{className:W.dialogContent,children:[i.jsxs("div",{className:W.dialogHeaderRow,children:[i.jsx(pr,{className:W.dialogTitle,children:I==="discard_preview"?"Discard recording or upload?":"Discard recording?"}),i.jsx(pt,{asChild:!0,children:i.jsx("button",{type:"button",className:W.dialogClose,onClick:na,"aria-label":"Close",children:i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":"true"})})})]}),i.jsx(Nr,{className:W.dialogDescription,children:I==="discard_preview"?"Your recording or upload will not be saved.":"Your recording will not be saved."}),i.jsxs("div",{className:W.dialogActions,children:[i.jsx(pt,{asChild:!0,children:i.jsx("button",{type:"button",className:W.cancel,onClick:na,"aria-label":"Stay and continue",children:"Stay"})}),i.jsx("button",{type:"button",className:W.dialogConfirmRemove,onClick:ra,"aria-label":"Discard",children:"Discard"})]})]})]})})]})}const wi="/api";function T7(){return fetch(`${wi}/library`,{method:"GET",credentials:"include"}).then(e=>e.ok?e.json():e.json().then(t=>{throw new Error(t.error??e.statusText)}))}function kNe(e){return fetch(`${wi}/library/user/${e}`,{method:"GET",credentials:"include"}).then(t=>t.ok?t.json():t.json().then(r=>{throw new Error(r.error??t.statusText)}))}function NNe(e){return fetch(`${wi}/library/import-pixabay`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",...Jt()},body:JSON.stringify({url:e})}).then(t=>t.ok?t.json():t.json().then(r=>{throw new Error(r.error??t.statusText)}))}function P7(e,t,r,n,a){const o=new FormData;return o.append("name",t),r&&o.append("tag",r),n&&o.append("copyright",n),a&&o.append("license",a),o.append("file",e),fetch(`${wi}/library`,{method:"POST",credentials:"include",headers:Jt(),body:o}).then(c=>c.ok?c.json():c.json().then(p=>{throw new Error(p.error??c.statusText)}))}function ENe(e,t){return fetch(`${wi}/library/${e}`,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json",...Jt()},body:JSON.stringify(t)}).then(r=>r.ok?r.json():r.json().then(n=>{throw new Error(n.error??r.statusText)}))}function TNe(e,t,r){return fetch(`${wi}/library/user/${e}/${t}`,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json",...Jt()},body:JSON.stringify(r)}).then(n=>n.ok?n.json():n.json().then(a=>{throw new Error(a.error??n.statusText)}))}function PNe(e){return fetch(`${wi}/library/${e}`,{method:"DELETE",credentials:"include",headers:Jt()}).then(t=>{if(!t.ok)return t.json().then(r=>{throw new Error(r.error??t.statusText)})})}function ANe(e,t){return fetch(`${wi}/library/user/${e}/${t}`,{method:"DELETE",credentials:"include",headers:Jt()}).then(r=>{if(!r.ok)return r.json().then(n=>{throw new Error(n.error??r.statusText)})})}function p4(e){return`${wi}/library/${e}/stream`}function h4(e,t){return`${wi}/library/user/${e}/${t}/stream`}function RNe(e){return`${wi}/library/${e}/waveform`}function ONe(e,t){return`${wi}/library/user/${e}/${t}/waveform`}const Aw=["Ad","Intro","Outro","Bumper","Other"],Rw=10,DNe=[];function MNe({onClose:e,onSelect:t,isAdding:r,error:n}){var X;const a=Lt(),[o,u]=v.useState(null),[c,p]=v.useState(""),[h,f]=v.useState(""),[m,b]=v.useState(""),[_,j]=v.useState(""),[w,y]=v.useState(""),[x,S]=v.useState(""),[T,N]=v.useState(""),[A,P]=v.useState(!0),[k,R]=v.useState(1),D=v.useRef(null),{data:I,isLoading:q}=Oe({queryKey:["library"],queryFn:()=>T7()}),z=Ue({mutationFn:({file:ee,name:te,tag:me,copyright:Ce,license:xe})=>P7(ee,te,me||void 0,Ce||void 0,xe||void 0),onSuccess:()=>{a.invalidateQueries({queryKey:["library"]}),u(null),p(""),f(""),b(""),j(""),y(""),D.current&&(D.current.value="")}}),M=v.useMemo(()=>(I==null?void 0:I.assets)??DNe,[I==null?void 0:I.assets]),F=v.useMemo(()=>{const ee=new Set(Aw),te=new Set;return M.forEach(me=>{me.tag&&te.add(me.tag)}),[...Aw.filter(me=>me!=="Other"),...Array.from(te).filter(me=>!ee.has(me)).sort()]},[M]),B=v.useMemo(()=>{const ee=T.trim().toLowerCase();let te=M.filter(me=>!(x&&me.tag!==x||ee&&!me.name.toLowerCase().includes(ee)));return te=[...te].sort((me,Ce)=>{const xe=new Date(me.created_at).getTime(),He=new Date(Ce.created_at).getTime();return A?He-xe:xe-He}),te},[M,x,T,A]),O=Math.max(1,Math.ceil(B.length/Rw)),$=Math.max(1,Math.min(k,O)),K=v.useMemo(()=>B.slice(($-1)*Rw,$*Rw),[B,$]);v.useEffect(()=>{R(ee=>ee>O?Math.max(1,O):ee)},[O]);function V(ee){var me;const te=(me=ee.target.files)==null?void 0:me[0];te&&(u(te),p(te.name.replace(/\.[^.]+$/,"")),f(""))}function Q(){if(!o)return;const ee=c.trim()||o.name.replace(/\.[^.]+$/,""),te=h==="Other"?w.trim()||null:h||null,me=m.trim()||null,Ce=_.trim()||null;z.mutate({file:o,name:ee,tag:te,copyright:me,license:Ce})}function U(){u(null),p(""),f(""),b(""),j(""),y(""),D.current&&(D.current.value="")}return i.jsx("div",{className:W.libraryOverlay,onClick:ee=>ee.target===ee.currentTarget&&e(),children:i.jsxs("div",{className:W.libraryCard,onClick:ee=>ee.stopPropagation(),children:[i.jsx("h3",{className:W.libraryTitle,children:"Insert from library"}),i.jsx("p",{className:W.librarySub,children:"Reusable clips (ads, intros, outros) you can use in any episode."}),i.jsxs("div",{className:W.libraryCardBodyScroll,children:[o?i.jsxs("div",{className:W.libraryUploadForm,children:[i.jsx("p",{className:W.libraryPendingFile,children:o.name}),i.jsxs("label",{className:W.recordLabel,children:["Name",i.jsx("input",{type:"text",className:W.recordNameInput,placeholder:"e.g. Mid-roll ad, Show intro",value:c,onChange:ee=>p(ee.target.value)})]}),i.jsxs("label",{className:W.recordLabel,children:["Tag",i.jsxs("select",{className:W.select,value:h,onChange:ee=>f(ee.target.value),children:[i.jsx("option",{value:"",children:"None"}),Aw.map(ee=>i.jsx("option",{value:ee,children:ee},ee))]})]}),h==="Other"&&i.jsxs("label",{className:W.recordLabel,children:["Custom tag",i.jsx("input",{type:"text",className:W.recordNameInput,placeholder:"e.g. Promo, Transition",value:w,onChange:ee=>y(ee.target.value)})]}),i.jsxs("label",{className:W.recordLabel,children:[i.jsxs("span",{children:["Copyright ",i.jsx("span",{className:W.optional,children:"(optional)"})]}),i.jsx("input",{type:"text",className:W.recordNameInput,placeholder:"e.g. 2026 Acme Media",value:m,onChange:ee=>b(ee.target.value)})]}),i.jsxs("label",{className:W.recordLabel,children:[i.jsxs("span",{children:["License ",i.jsx("span",{className:W.optional,children:"(optional)"})]}),i.jsx("input",{type:"text",className:W.recordNameInput,placeholder:"e.g. CC BY 4.0, All rights reserved",value:_,onChange:ee=>j(ee.target.value)})]}),i.jsxs("div",{className:W.libraryUploadActions,children:[i.jsx("button",{type:"button",className:W.cancel,onClick:U,"aria-label":"Cancel adding to library",children:"Cancel"}),i.jsx("button",{type:"button",className:W.submit,onClick:Q,disabled:z.isPending,"aria-label":"Add file to library",children:z.isPending?"Adding...":"Add to Library"})]})]}):i.jsxs("button",{type:"button",className:`${W.addSectionChoiceBtn} ${W.addSectionChoiceBtnPrimary} ${W.libraryChooseFileBtn}`,style:{width:"100%",marginBottom:"1rem"},onClick:()=>{var ee;return(ee=D.current)==null?void 0:ee.click()},"aria-label":"Choose file to add to library",children:[i.jsx(Qv,{size:24,strokeWidth:2,"aria-hidden":!0}),i.jsx("span",{children:"Choose file to add to Library"})]}),i.jsx("input",{ref:D,type:"file",accept:"audio/mpeg,audio/mp3,audio/wav,audio/wave,audio/x-wav,audio/mp4,audio/webm,audio/ogg,.mp3,.wav,.m4a,.webm,.ogg",style:{display:"none"},onChange:V}),z.isError&&i.jsx("p",{className:W.error,style:{marginBottom:"0.5rem"},children:(X=z.error)==null?void 0:X.message}),!o&&!q&&M.length>0&&i.jsxs("div",{className:W.libraryFilters,children:[i.jsx("input",{type:"search",className:W.input,placeholder:"Search by name...",value:T,onChange:ee=>{N(ee.target.value),R(1)},"aria-label":"Filter by name"}),i.jsxs("select",{className:W.select,value:x,onChange:ee=>{S(ee.target.value),R(1)},"aria-label":"Filter by tag",children:[i.jsx("option",{value:"",children:"All tags"}),F.map(ee=>i.jsx("option",{value:ee,children:ee},ee))]}),i.jsxs("div",{className:W.librarySortToggle,role:"group","aria-label":"Sort order",children:[i.jsx("button",{type:"button",className:A?W.librarySortBtnActive:W.librarySortBtn,onClick:()=>{P(!0),R(1)},title:"Newest first","aria-label":"Newest first",children:i.jsx(Vd,{size:16,"aria-hidden":!0})}),i.jsx("button",{type:"button",className:A?W.librarySortBtn:W.librarySortBtnActive,onClick:()=>{P(!1),R(1)},title:"Oldest first","aria-label":"Oldest first",children:i.jsx(Yd,{size:16,"aria-hidden":!0})})]})]}),!o&&(q?i.jsx("p",{className:W.libraryEmpty,children:"Loading..."}):M.length===0?i.jsx("p",{className:W.libraryEmpty,children:"No library clips yet. Choose a file above to add one."}):B.length===0?i.jsx("p",{className:W.libraryEmpty,children:"No clips match your filters."}):i.jsxs(i.Fragment,{children:[i.jsx("ul",{className:W.libraryList,children:K.map(ee=>i.jsx("li",{className:W.libraryItem,onClick:()=>!r&&t(ee.id),children:i.jsxs("div",{className:W.libraryItemContent,children:[i.jsxs("div",{className:W.libraryItemName,children:[ee.name,ee.tag&&i.jsx("span",{className:W.libraryItemTag,children:ee.tag})]}),i.jsxs("div",{className:W.libraryItemMeta,children:[jd(ee.duration_sec),i.jsxs("span",{className:W.libraryItemDate,children:["  ",$Se(ee.created_at)]})]})]})},ee.id))}),O>1&&i.jsxs("div",{className:W.libraryPagination,children:[i.jsxs("span",{className:W.libraryPaginationLabel,children:["Page ",$," of ",O]}),i.jsxs("div",{className:W.libraryPaginationBtns,children:[i.jsx("button",{type:"button",className:W.libraryPageBtn,onClick:()=>R(ee=>Math.max(1,ee-1)),disabled:$<=1,"aria-label":"Previous page",children:""}),i.jsx("button",{type:"button",className:W.libraryPageBtn,onClick:()=>R(ee=>Math.min(O,ee+1)),disabled:$>=O,"aria-label":"Next page",children:""})]})]})]})),n&&i.jsx("p",{className:W.error,style:{marginTop:"0.5rem"},children:n})]}),i.jsx("button",{type:"button",className:W.libraryClose,onClick:e,"aria-label":"Close library",children:"Close"})]})})}function LNe({open:e,onOpenChange:t,description:r,onConfirm:n,isDeleting:a}){return i.jsx(ur,{open:e,onOpenChange:o=>!o&&t(!1),children:i.jsxs(br,{children:[i.jsx(dr,{className:W.dialogOverlay}),i.jsxs(fr,{className:W.dialogContent,children:[i.jsxs("div",{className:W.dialogHeaderRow,children:[i.jsx(pr,{className:W.dialogTitle,children:"Remove section?"}),i.jsx(pt,{asChild:!0,children:i.jsx("button",{type:"button",className:W.dialogClose,"aria-label":"Close",children:i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":"true"})})})]}),i.jsx(Nr,{className:W.dialogDescription,children:r}),i.jsxs("div",{className:W.dialogActions,children:[i.jsx(pt,{asChild:!0,children:i.jsx("button",{type:"button",className:W.cancel,"aria-label":"Cancel removing section",children:"Cancel"})}),i.jsx("button",{type:"button",className:W.dialogConfirmRemove,onClick:()=>{n(),t(!1)},disabled:a,"aria-label":"Confirm remove section",children:a?"Removing...":"Remove"})]})]})]})})}function INe({open:e,onOpenChange:t,onConfirm:r,isDeleting:n}){const a=u=>{u.stopPropagation(),t(!1)},o=u=>{u||t(!1)};return i.jsx(ur,{open:e,onOpenChange:o,modal:!0,children:i.jsxs(br,{children:[i.jsx(dr,{className:W.dialogOverlay}),i.jsxs(fr,{className:W.dialogContent,onEscapeKeyDown:u=>{u.preventDefault(),t(!1)},onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[i.jsxs("div",{className:W.dialogHeaderRow,children:[i.jsx(pr,{className:W.dialogTitle,children:"Delete transcript segment?"}),i.jsx(pt,{asChild:!0,children:i.jsx("button",{type:"button",className:W.dialogClose,"aria-label":"Close",children:i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":"true"})})})]}),i.jsx(Nr,{className:W.dialogDescription,children:"This will remove the segment from both the audio file and transcript. This cannot be undone."}),i.jsxs("div",{className:W.dialogActions,children:[i.jsx("button",{type:"button",className:W.cancel,onClick:a,"aria-label":"Cancel deleting transcript segment",children:"Cancel"}),i.jsx("button",{type:"button",className:W.dialogConfirmRemove,onClick:r,disabled:n,"aria-label":"Confirm delete transcript segment",children:n?"Deleting...":"Delete"})]})]})]})})}function $Ne(){return Et("/llm/available")}function BNe(e,t){return Ba("/llm/ask",{method:"POST",json:{transcript:e,question:t}})}function zNe({episodeId:e,segmentId:t,segmentName:r,segmentDuration:n,segmentAudioPath:a,asrAvailable:o,ownerCanTranscribe:u=!0,onClose:c,onDeleteEntry:p}){function h(pe){return(pe||"").toLowerCase().includes("too many requests")}const[f,m]=v.useState(null),[b,_]=v.useState(!0),[j,w]=v.useState(!1),[y,x]=v.useState(null),[S,T]=v.useState(!1),[N,A]=v.useState("view"),[P,k]=v.useState(""),[R,D]=v.useState(""),[I,q]=v.useState(!1),[z,M]=v.useState(null),[F,B]=v.useState(!1),[O,$]=v.useState(!1),[K,V]=v.useState(!1),[Q,U]=v.useState(null),[X,ee]=v.useState(!1),[te,me]=v.useState(!1),[Ce,xe]=v.useState(!1),[He,re]=v.useState(!1),Pe=v.useRef(null),Ne=v.useRef(null),[ge,_t]=v.useState(""),[Ge,lt]=v.useState(null),[at,Ve]=v.useState(null),[_e,We]=v.useState(null),er=v.useRef(null),ht=v.useRef(null),qa=Lt(),{data:Pn}=Oe({queryKey:["settings","llm-available"],queryFn:()=>$Ne()}),It=(Pn==null?void 0:Pn.available)??!1,Fn=Ue({mutationFn:({transcript:pe,question:Se})=>BNe(pe,Se),onSuccess:pe=>{lt(pe.response),Ve(null)},onError:pe=>{lt(null),Ve(pe instanceof Error?pe.message:"Failed to get response")}}),ra=Ue({mutationFn:pe=>w7(e,t,pe),onSuccess:pe=>{pe.text!==void 0?m(pe.text):(m(null),w(!0)),qa.invalidateQueries({queryKey:["segments",e]})}});function na(pe){p?p(pe):ra.mutate(pe)}v.useEffect(()=>{_(!0),w(!1),x(null),m(null),A("view"),_t(""),lt(null),Ve(null),We(null),k(""),D(""),M(null),B(!1),$(!1);const pe=er.current;pe&&(pe.pause(),pe.src="",ht.current&&(pe.removeEventListener("timeupdate",ht.current),ht.current=null));const Se=Pe.current,gt=Ne.current;return Se&&(Se.pause(),Se.src="",gt&&(Se.removeEventListener("timeupdate",gt),Ne.current=null)),dv(e,t).then(Re=>{m(Re.text),w(!1)}).catch(Re=>{(Re==null?void 0:Re.message)==="Transcript not found"?w(!0):x((Re==null?void 0:Re.message)??"Failed to load transcript")}).finally(()=>_(!1)),()=>{Se&&(Se.pause(),Se.src="",gt&&(Se.removeEventListener("timeupdate",gt),Ne.current=null))}},[e,t]),v.useEffect(()=>{if(N==="edit"){const pe=er.current;pe&&(pe.pause(),pe.src="",ht.current&&(pe.removeEventListener("timeupdate",ht.current),ht.current=null));const Se=Pe.current;Se&&(Se.pause(),Se.src="",Ne.current&&(Se.removeEventListener("timeupdate",Ne.current),Ne.current=null)),k(""),D(""),M(null),B(!1),$(!1),We(null)}},[N]);function Ae(){T(!0),x(null),SSe(e,t).then(pe=>{m(pe.text),w(!1)}).catch(pe=>x((pe==null?void 0:pe.message)??"Failed to generate transcript")).finally(()=>T(!1))}function it(pe){return!pe||!pe.includes("-->")?pe:ut(pe).map(gt=>gt.text).join(" ")}function nt(pe){pe.preventDefault();const Se=ge.trim();if(!Se)return;const gt=f?it(f):"";Fn.mutate({transcript:gt,question:Se})}function ut(pe){var Re;const Se=[],gt=pe.split(/\n\s*\n/).filter(ne=>ne.trim());for(const ne of gt){const Fe=ne.trim().split(`
`);if(Fe.length<3)continue;const le=(Re=Fe[1])==null?void 0:Re.trim();if(!le||!le.includes("-->"))continue;const[Te,Je]=le.split("-->").map(St=>St.trim()),$t=Fe.slice(2).join(`
`).trim();Te&&Je&&$t&&Se.push({start:Te,end:Je,text:$t})}return Se}function mt(pe){const gt=pe.replace(",",".").split(":");if(gt.length===3){const Re=parseInt(gt[0]||"0",10),ne=gt[1]||"00",Fe=gt[2]||"00.000";return Re===0?`${ne}:${Fe}`:`${String(Re).padStart(2,"0")}:${ne}:${Fe}`}return pe}function Tt(pe){const gt=pe.replace(",",".").split(":");if(gt.length!==3)return 0;const Re=parseFloat(gt[0]||"0"),ne=parseFloat(gt[1]||"0"),Fe=parseFloat(gt[2]||"0");return Re*3600+ne*60+Fe}function Ot(pe){const Se=Math.floor(pe/3600),gt=Math.floor(pe%3600/60),Re=Math.floor(pe%60),ne=Math.floor(pe%1*1e3);return`${String(Se).padStart(2,"0")}:${String(gt).padStart(2,"0")}:${String(Re).padStart(2,"0")},${String(ne).padStart(3,"0")}`}function lr(pe,Se,gt){if(!Sa)return;const Re=Sa[pe];if(!Re)return;const ne=Se?Re.start:Re.end,Fe=Tt(ne),le=Math.max(0,Fe+gt/1e3),Te=Ot(le),Je=[...Sa];Se?Je[pe]={...Re,start:Te}:Je[pe]={...Re,end:Te};const $t=Je.map((St,_r)=>`${_r+1}
${St.start} --> ${St.end}
${St.text}
`).join(`
`);CSe(e,t,$t).then(()=>{m($t)}).catch(St=>{console.error("Failed to update transcript:",St),m(f)})}function tr(pe){pe.preventDefault()}function ln(pe){const Se=Pe.current;if(!Se)return;const Re=parseFloat(pe?P:R);if(Number.isNaN(Re)||Re<0){M("Invalid time value");return}const ne=n;if(pe)if(F)Se.pause(),B(!1),Ne.current&&(Se.removeEventListener("timeupdate",Ne.current),Ne.current=null);else{O&&(Se.pause(),$(!1)),Ne.current&&Se.removeEventListener("timeupdate",Ne.current),B(!0),$(!1),M(null);const Fe=()=>{(Se.currentTime-Re>=10||Se.currentTime>=ne)&&(Se.pause(),B(!1),Se.removeEventListener("timeupdate",Fe),Ne.current=null)};Ne.current=Fe,Se.pause(),Se.currentTime=0;const le=Lv(e,t,a);Se.src=le,Se.load();const Te=()=>{const St=Se.currentTime;if(Math.abs(St-Re)>.5){console.warn(`Seek to ${Re} failed, actual time is ${St}, retrying...`),setTimeout(()=>{Se.currentTime=Re},100);return}Se.addEventListener("timeupdate",Fe),Se.play().catch(()=>{B(!1),Se.removeEventListener("timeupdate",Fe),Ne.current=null})},Je=()=>{try{if(Se.seekable.length>0){const St=Se.seekable.end(0),_r=Math.min(Re,St);if(_r<Se.seekable.start(0)){setTimeout(Je,100);return}Se.currentTime=_r,Se.addEventListener("seeked",Te,{once:!0})}else setTimeout(Je,100)}catch(St){console.error("Failed to seek audio:",St),B(!1),Ne.current=null}},$t=()=>{Je()};Se.addEventListener("canplay",$t,{once:!0})}else if(O)Se.pause(),$(!1),Ne.current&&(Se.removeEventListener("timeupdate",Ne.current),Ne.current=null);else{F&&(Se.pause(),B(!1)),Ne.current&&Se.removeEventListener("timeupdate",Ne.current),$(!0),B(!1),M(null);const Fe=ne-Re,le=Math.max(0,Fe-10),Te=()=>{(Se.currentTime>=Fe||Se.currentTime>=ne)&&(Se.pause(),$(!1),Se.removeEventListener("timeupdate",Te),Ne.current=null)};Ne.current=Te;const Je=()=>{Se.currentTime=le,Se.addEventListener("timeupdate",Te),Se.play().catch(()=>{$(!1),Se.removeEventListener("timeupdate",Te),Ne.current=null})};Se.addEventListener("loadedmetadata",Je,{once:!0}),Se.src=Lv(e,t,a),Se.readyState>=2&&Je()}}function wa(pe){const gt=parseFloat(pe?P:R);if(Number.isNaN(gt)||gt<0){M("Invalid time value");return}U({isStart:pe,timeSec:gt}),V(!0)}function aa(){if(!Q)return;const{isStart:pe,timeSec:Se}=Q;V(!1),q(!0),M(null);const Re=pe?void 0:n-Se;PSe(e,t,pe?Se:void 0,Re).then(()=>(k(""),D(""),qa.invalidateQueries({queryKey:["segments",e]}),dv(e,t).then(ne=>{m(ne.text??null),w(ne.text==null)}).catch(()=>{m(null),w(!0)}))).catch(ne=>{M((ne==null?void 0:ne.message)??"Failed to trim audio")}).finally(()=>{q(!1),U(null)})}function Qi(){me(!0)}function Si(){re(!0)}function Xi(){re(!1),xe(!0),M(null),RSe(e,t,-45).then(()=>(qa.invalidateQueries({queryKey:["segments",e]}),dv(e,t).then(pe=>{m(pe.text??null),w(pe.text==null)}).catch(()=>{m(null),w(!0)}))).catch(pe=>{M((pe==null?void 0:pe.message)??"Failed to apply noise suppression")}).finally(()=>{xe(!1)})}function ia(){me(!1),ee(!0),M(null),ASe(e,t,1.5,-55).then(()=>(k(""),D(""),qa.invalidateQueries({queryKey:["segments",e]}),dv(e,t).then(pe=>{m(pe.text??null),w(pe.text==null)}).catch(()=>{m(null),w(!0)}))).catch(pe=>{M((pe==null?void 0:pe.message)??"Failed to remove silence")}).finally(()=>{ee(!1)})}function ji(pe,Se,gt){var le;const Re=er.current;if(!Re)return;const ne=Tt(Se),Fe=Tt(gt);if(_e===pe)Re.pause(),We(null),ht.current&&(Re.removeEventListener("timeupdate",ht.current),ht.current=null);else{_e!==null&&(Re.pause(),ht.current&&(Re.removeEventListener("timeupdate",ht.current),ht.current=null)),We(pe);const Te=()=>{Re.currentTime>=Fe&&(Re.pause(),We(null),ht.current&&(Re.removeEventListener("timeupdate",ht.current),ht.current=null))};ht.current=Te,Re.addEventListener("timeupdate",Te),Re.src=Lv(e,t,a);const Je=()=>{ht.current&&(Re.removeEventListener("timeupdate",ht.current),ht.current=null),We(null)},$t=()=>{Re.play().catch(Je)},St=/^((?!chrome|android).)*safari|iPhone|iPad|Macintosh/i.test(navigator.userAgent)||((le=navigator.vendor)==null?void 0:le.includes("Apple")),_r=()=>{let Zi=ne;if(Re.seekable.length>0){const Ci=Re.seekable.end(0);Zi=Math.min(ne,Ci)}if(St){const Ci=Re.volume;Re.volume=0,Re.play().catch(()=>{Re.volume=Ci,Je()});const mu=()=>{Re.removeEventListener("playing",mu),Re.currentTime=Zi,Re.volume=Ci};Re.addEventListener("playing",mu,{once:!0})}else{let Ci=!1;const mu=setTimeout(()=>{!Ci&&Re.paused&&$t()},800),jm=()=>{Ci=!0,clearTimeout(mu),Re.removeEventListener("seeked",jm),$t()};Re.addEventListener("seeked",jm,{once:!0}),Re.currentTime=Zi}},Ur=()=>{Re.removeEventListener("loadeddata",Ur),Re.removeEventListener("canplay",Ur),_r()};Re.addEventListener("loadeddata",Ur),Re.addEventListener("canplay",Ur),Re.readyState>=2&&Ur()}}v.useEffect(()=>{const pe=er.current;if(!pe)return;const Se=()=>{pe.paused&&_e!==null&&(We(null),ht.current&&(pe.removeEventListener("timeupdate",ht.current),ht.current=null))};return pe.addEventListener("pause",Se),()=>{pe.removeEventListener("pause",Se)}},[_e]);const sa=!b&&f!=null&&f.trim()!=="",Ko=o||It,Sa=f&&f.includes("-->")?ut(f):null;return v.useEffect(()=>{!o&&N==="view"&&A("edit")},[o,N]),v.useEffect(()=>{!o&&!It&&N!=="edit"&&A("edit")},[o,It,N]),v.useEffect(()=>{N==="ask"&&(!It||!sa)&&A(o?"view":"edit")},[N,It,o,sa]),i.jsx(ur,{open:!0,onOpenChange:pe=>!pe&&c(),children:i.jsxs(br,{children:[i.jsx(dr,{className:W.dialogOverlay}),i.jsxs(fr,{className:`${W.dialogContent} ${W.dialogContentWide} ${W.segmentTranscriptDialog}`,"aria-describedby":void 0,children:[i.jsxs("div",{className:W.dialogHeaderRow,children:[i.jsx(pr,{className:W.dialogTitle,children:r}),i.jsx(pt,{asChild:!0,children:i.jsx("button",{type:"button",className:W.dialogClose,"aria-label":"Close",children:i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":"true"})})})]}),i.jsx("div",{className:W.dialogBodyScroll,children:i.jsxs("div",{className:W.dialogDescription,children:[Ko&&i.jsx("div",{className:W.transcriptToggleWrap,children:i.jsxs("div",{className:W.transcriptToggle,role:"tablist","aria-label":"Transcript mode",children:[o&&i.jsx("button",{type:"button",role:"tab","aria-selected":N==="view","aria-label":"View transcript",className:N==="view"?W.transcriptToggleActive:W.transcriptToggleBtn,onClick:()=>A("view"),children:"View"}),It&&sa&&i.jsx("button",{type:"button",role:"tab","aria-selected":N==="ask","aria-label":"Ask questions about transcript",className:N==="ask"?W.transcriptToggleActive:W.transcriptToggleBtn,onClick:()=>A("ask"),children:"Ask"}),o&&i.jsx("button",{type:"button",role:"tab","aria-selected":N==="edit","aria-label":"Edit transcript",className:N==="edit"?W.transcriptToggleActive:W.transcriptToggleBtn,onClick:()=>A("edit"),children:"Edit"})]})}),b&&i.jsx("p",{children:"Loading..."}),!b&&f!=null&&N==="view"&&i.jsxs(i.Fragment,{children:[Sa?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:W.transcriptCards,children:Sa.map((pe,Se)=>i.jsxs("div",{className:W.transcriptCard,children:[i.jsx("div",{className:W.transcriptCardText,children:pe.text}),i.jsxs("div",{className:W.transcriptCardFooter,children:[i.jsxs("div",{className:W.transcriptCardTimeControls,children:[i.jsxs("div",{className:W.transcriptCardTimeGroup,children:[i.jsxs("div",{className:W.transcriptCardTimeButtons,children:[i.jsx("button",{type:"button",className:W.transcriptCardTimeBtn,onClick:()=>lr(Se,!0,-200),title:"Subtract 200ms from start","aria-label":`Subtract 200ms from start time of segment ${Se+1}`,children:i.jsx(jP,{size:12,"aria-hidden":!0})}),i.jsx("button",{type:"button",className:W.transcriptCardTimeBtn,onClick:()=>lr(Se,!0,200),title:"Add 200ms to start","aria-label":`Add 200ms to start time of segment ${Se+1}`,children:i.jsx(Yr,{size:12,"aria-hidden":!0})})]}),i.jsxs("span",{className:W.transcriptCardTimeLabel,children:["Start: ",mt(pe.start)]})]}),i.jsxs("div",{className:W.transcriptCardTimeGroup,children:[i.jsxs("div",{className:W.transcriptCardTimeButtons,children:[i.jsx("button",{type:"button",className:W.transcriptCardTimeBtn,onClick:()=>lr(Se,!1,-200),title:"Subtract 200ms from end","aria-label":`Subtract 200ms from end time of segment ${Se+1}`,children:i.jsx(jP,{size:12,"aria-hidden":!0})}),i.jsx("button",{type:"button",className:W.transcriptCardTimeBtn,onClick:()=>lr(Se,!1,200),title:"Add 200ms to end","aria-label":`Add 200ms to end time of segment ${Se+1}`,children:i.jsx(Yr,{size:12,"aria-hidden":!0})})]}),i.jsxs("span",{className:W.transcriptCardTimeLabel,children:["End: ",mt(pe.end)]})]})]}),i.jsxs("div",{className:W.transcriptCardFooterActions,children:[i.jsx("button",{type:"button",className:W.transcriptCardBtn,onClick:()=>ji(Se,pe.start,pe.end),title:_e===Se?"Pause":"Play","aria-label":_e===Se?`Pause transcript segment ${Se+1}`:`Play transcript segment ${Se+1}`,children:_e===Se?i.jsx(_s,{size:14,"aria-hidden":!0}):i.jsx(xs,{size:14,"aria-hidden":!0})}),i.jsx("button",{type:"button",className:W.transcriptCardBtn,onClick:()=>na(Se),disabled:ra.isPending,title:"Delete this segment","aria-label":`Delete transcript segment ${Se+1}`,children:i.jsx(Wl,{size:14,"aria-hidden":!0})})]})]})]},Se))}),i.jsx("audio",{ref:er,style:{display:"none"}})]}):i.jsx("pre",{className:W.transcriptText,children:f||"(empty)"}),y&&i.jsx("p",{className:`${W.error} ${h(y)?W.rateLimitError:""}`,children:y})]}),!b&&f!=null&&N==="ask"&&i.jsxs("div",{className:W.transcriptAsk,children:[i.jsxs("form",{onSubmit:nt,className:W.transcriptAskForm,children:[i.jsx("input",{type:"text",className:W.transcriptAskInput,placeholder:"Ask something about this transcript...",value:ge,onChange:pe=>_t(pe.target.value),disabled:Fn.isPending,"aria-label":"Question"}),i.jsx("button",{type:"submit",className:W.transcriptAskSubmit,disabled:Fn.isPending||!ge.trim(),"aria-label":"Submit question",children:Fn.isPending?"...":"Submit"})]}),at&&i.jsx("p",{className:`${W.error} ${h(at)?W.rateLimitError:""}`,children:at}),Ge!=null&&i.jsx("div",{className:W.transcriptAskResponse,children:Ge})]}),!b&&N==="edit"&&i.jsxs("div",{className:W.transcriptEdit,children:[i.jsxs("form",{onSubmit:tr,className:W.transcriptEditForm,children:[i.jsxs("div",{className:W.transcriptEditGroup,children:[i.jsxs("label",{className:W.transcriptEditLabel,children:["Trim start (seconds)",i.jsx("input",{type:"number",step:"0.001",min:"0",className:W.transcriptEditInput,placeholder:"0.000",value:P,onChange:pe=>k(pe.target.value),disabled:I||F||O,"aria-label":"Trim start time"})]}),i.jsxs("div",{className:W.transcriptEditActions,children:[i.jsx("button",{type:"button",className:W.transcriptEditPreviewBtn,onClick:()=>ln(!0),disabled:I||!P.trim()||O,title:"Preview 10 seconds from trim start","aria-label":F?"Pause preview":"Preview 10 seconds from trim start",children:F?i.jsx(_s,{size:14,"aria-hidden":!0}):i.jsx(xs,{size:14,"aria-hidden":!0})}),i.jsx("button",{type:"button",className:W.transcriptEditBtn,onClick:()=>wa(!0),disabled:I||!P.trim()||F||O,"aria-label":"Trim start of segment",children:I?"Trimming...":"Trim Start"})]})]}),i.jsxs("div",{className:W.transcriptEditGroup,children:[i.jsxs("label",{className:W.transcriptEditLabel,children:["Trim end (seconds to remove)",i.jsx("input",{type:"number",step:"0.001",min:"0",className:W.transcriptEditInput,placeholder:"0.000",value:R,onChange:pe=>D(pe.target.value),disabled:I||F||O,"aria-label":"Seconds to trim from end"})]}),i.jsxs("div",{className:W.transcriptEditActions,children:[i.jsx("button",{type:"button",className:W.transcriptEditPreviewBtn,onClick:()=>ln(!1),disabled:I||!R.trim()||F,title:"Preview last 10 seconds before trim end","aria-label":O?"Pause preview":"Preview last 10 seconds before trim end",children:O?i.jsx(_s,{size:14,"aria-hidden":!0}):i.jsx(xs,{size:14,"aria-hidden":!0})}),i.jsx("button",{type:"button",className:W.transcriptEditBtn,onClick:()=>wa(!1),disabled:I||!R.trim()||F||O,"aria-label":"Trim end of segment",children:I?"Trimming...":"Trim End"})]})]}),z&&i.jsx("p",{className:`${W.error} ${h(z)?W.rateLimitError:""}`,children:z}),i.jsxs("div",{className:W.transcriptEditGroup,children:[i.jsx("button",{type:"button",className:W.transcriptEditBtn,onClick:Qi,disabled:I||X||Ce||F||O,style:{width:"100%",marginTop:"0.5rem"},"aria-label":"Remove silence from segment",children:X?"Removing Silence...":"Remove Silence"}),i.jsx("button",{type:"button",className:W.transcriptEditBtn,onClick:Si,disabled:I||X||Ce||F||O,style:{width:"100%",marginTop:"0.5rem"},"aria-label":"Apply noise suppression to segment",children:Ce?"Applying...":"Noise Suppression"})]})]}),i.jsx("audio",{ref:Pe,style:{display:"none"}})]}),i.jsx(ur,{open:K,onOpenChange:pe=>{pe||(V(!1),U(null))},children:i.jsxs(br,{children:[i.jsx(dr,{className:W.dialogOverlay}),i.jsxs(fr,{className:W.dialogContent,onEscapeKeyDown:pe=>{pe.stopPropagation()},onPointerDownOutside:pe=>{pe.preventDefault()},onInteractOutside:pe=>{pe.preventDefault()},children:[i.jsxs("div",{className:W.dialogHeaderRow,children:[i.jsx(pr,{className:W.dialogTitle,children:"Confirm Trim"}),i.jsx(pt,{asChild:!0,children:i.jsx("button",{type:"button",className:W.dialogClose,"aria-label":"Close",children:i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":"true"})})})]}),i.jsx(Nr,{className:W.dialogDescription,children:Q!=null&&Q.isStart?`Are you sure you want to trim ${Q.timeSec.toFixed(3)} seconds from the start? This will update the audio file.`:`Are you sure you want to trim ${(Q==null?void 0:Q.timeSec.toFixed(3))??0} seconds from the end? This will update the audio file.`}),i.jsxs("div",{className:W.dialogActions,children:[i.jsx("button",{type:"button",className:W.cancel,onClick:pe=>{pe.stopPropagation(),V(!1),U(null)},"aria-label":"Cancel trim operation",children:"Cancel"}),i.jsx("button",{type:"button",className:W.dialogConfirmRemove,onClick:pe=>{pe.stopPropagation(),aa()},disabled:I,"aria-label":"Confirm trim operation",children:I?"Trimming...":"Confirm"})]})]})]})}),i.jsx(ur,{open:te,onOpenChange:pe=>{pe||me(!1)},children:i.jsxs(br,{children:[i.jsx(dr,{className:W.dialogOverlay}),i.jsxs(fr,{className:W.dialogContent,onEscapeKeyDown:pe=>{pe.stopPropagation()},onPointerDownOutside:pe=>{pe.preventDefault()},onInteractOutside:pe=>{pe.preventDefault()},children:[i.jsxs("div",{className:W.dialogHeaderRow,children:[i.jsx(pr,{className:W.dialogTitle,children:"Remove Silence"}),i.jsx(pt,{asChild:!0,children:i.jsx("button",{type:"button",className:W.dialogClose,"aria-label":"Close",children:i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":"true"})})})]}),i.jsx(Nr,{className:W.dialogDescription,children:"Are you sure you want to remove all silence periods longer than 2 seconds? This will update the audio file."}),i.jsxs("div",{className:W.dialogActions,children:[i.jsx("button",{type:"button",className:W.cancel,onClick:pe=>{pe.stopPropagation(),me(!1)},"aria-label":"Cancel removing silence",children:"Cancel"}),i.jsx("button",{type:"button",className:W.dialogConfirmRemove,onClick:pe=>{pe.stopPropagation(),ia()},disabled:X,"aria-label":"Confirm remove silence",children:X?"Removing...":"Confirm"})]})]})]})}),i.jsx(ur,{open:He,onOpenChange:pe=>{pe||re(!1)},children:i.jsxs(br,{children:[i.jsx(dr,{className:W.dialogOverlay}),i.jsxs(fr,{className:W.dialogContent,onEscapeKeyDown:pe=>{pe.stopPropagation()},onPointerDownOutside:pe=>{pe.preventDefault()},onInteractOutside:pe=>{pe.preventDefault()},children:[i.jsxs("div",{className:W.dialogHeaderRow,children:[i.jsx(pr,{className:W.dialogTitle,children:"Noise Suppression"}),i.jsx(pt,{asChild:!0,children:i.jsx("button",{type:"button",className:W.dialogClose,"aria-label":"Close",children:i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":"true"})})})]}),i.jsx(Nr,{className:W.dialogDescription,children:"Apply FFT-based noise suppression to reduce background noise? This will update the audio file. Transcript timings are unchanged."}),i.jsxs("div",{className:W.dialogActions,children:[i.jsx("button",{type:"button",className:W.cancel,onClick:pe=>{pe.stopPropagation(),re(!1)},"aria-label":"Cancel noise suppression",children:"Cancel"}),i.jsx("button",{type:"button",className:W.dialogConfirmRemove,onClick:pe=>{pe.stopPropagation(),Xi()},disabled:Ce,"aria-label":"Confirm noise suppression",children:Ce?"Applying...":"Confirm"})]})]})]})}),!b&&j&&f==null&&N==="view"&&i.jsxs(i.Fragment,{children:[o&&i.jsxs("button",{type:"button",className:`${W.addSectionChoiceBtn} ${W.addSectionChoiceBtnPrimary} ${W.transcriptGenerateBtn}`,onClick:Ae,disabled:S||!u,"aria-label":S?"Generating transcript":"Generate transcript",children:[i.jsx(Ej,{size:24,strokeWidth:2,"aria-hidden":!0}),i.jsx("span",{children:S?"Generating...":"Generate transcript"})]}),y&&i.jsx("p",{className:`${W.error} ${h(y)?W.rateLimitError:""}`,children:y})]}),!b&&!j&&f==null&&y&&i.jsx("p",{className:`${W.error} ${h(y)?W.rateLimitError:""}`,children:y})]})}),i.jsxs("div",{className:W.dialogActions,children:[!b&&f!=null&&N==="view"&&i.jsx("button",{type:"button",className:W.cancel,onClick:Ae,disabled:S||!o||!u,style:{marginRight:"auto"},"aria-label":"Generate new transcript",children:S?"Generating...":"New Transcript"}),i.jsx(pt,{asChild:!0,children:i.jsx("button",{type:"button",className:W.cancel,"aria-label":"Close transcript",children:"Close"})})]})]})]})})}function FNe({episodeId:e,onClose:t,canEdit:r}){const[n,a]=v.useState(null),[o,u]=v.useState(""),[c,p]=v.useState(!0),h=v.useRef(null);pi(h,o,{minHeight:200});const[f,m]=v.useState(null),b=Lt();v.useEffect(()=>{let x=!1;return p(!0),m(null),kSe(e).then(S=>{x||(a(S.text),u(S.text))}).catch(S=>{x||(m(S instanceof Error?S.message:"Failed to load transcript"),a(null),u(""))}).finally(()=>{x||p(!1)}),()=>{x=!0}},[e]);const _=Ue({mutationFn:x=>TSe(e,x),onSuccess:x=>{a(x.text),u(x.text),b.invalidateQueries({queryKey:["episode",e]}),t()}}),j=()=>{r&&_.mutate(o)},w=n!=null&&o!==n,y=_.isPending;return i.jsx(ur,{open:!0,onOpenChange:x=>!x&&t(),children:i.jsxs(br,{children:[i.jsx(dr,{className:W.dialogOverlay}),i.jsxs(fr,{className:`${W.dialogContent} ${W.dialogContentWide} ${W.episodeTranscriptDialog}`,"aria-describedby":"episode-transcript-description",children:[i.jsxs("div",{className:W.dialogHeaderRow,children:[i.jsx(pr,{className:W.dialogTitle,children:"Episode Transcript"}),i.jsx(pt,{asChild:!0,children:i.jsx("button",{type:"button",className:W.dialogClose,"aria-label":"Close",disabled:y,children:i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":!0})})})]}),i.jsx(Nr,{id:"episode-transcript-description",className:W.dialogDescription,children:r?"View and edit the transcript (SRT) for the final episode. Changes are saved to the file used for the public transcript.":"View the transcript for the final episode. Only owners and editors can edit."}),i.jsxs("div",{className:W.episodeTranscriptBody,children:[c&&i.jsx("p",{className:W.episodeTranscriptStatus,children:"Loading"}),f&&i.jsx("div",{className:W.episodeTranscriptErrorWrap,children:i.jsx("p",{className:W.episodeTranscriptError,role:"alert",children:f})}),!c&&!f&&i.jsxs(i.Fragment,{children:[r?i.jsx("textarea",{ref:h,className:W.transcriptText,value:o,onChange:x=>u(x.target.value),placeholder:"Transcript (SRT format)",spellCheck:!1,"aria-label":"Transcript text",rows:4,style:{overflow:"hidden",resize:"none"}}):i.jsx("pre",{className:W.transcriptText,children:n??"(empty)"}),r&&i.jsxs("div",{className:`${W.dialogActions} ${W.episodeTranscriptDialogActions}`,children:[i.jsx("button",{type:"button",className:W.cancel,onClick:t,disabled:y,"aria-label":"Cancel",children:"Cancel"}),i.jsx("button",{type:"button",className:W.submit,onClick:j,disabled:y||!w,"aria-label":"Save transcript",children:y?"Saving":"Save"})]})]})]})]})]})})}function qNe(e,t){return nn("/call/start",{episodeId:e,password:void 0})}function UNe(e){return Et(`/call/join-info/${encodeURIComponent(e)}`)}function HNe(e){return Et(`/call/session?episodeId=${encodeURIComponent(e)}`)}function A7(){return typeof window>"u"?"":`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/api/call/ws`}var Ow={},fv={exports:{}},Dw,m4;function WNe(){if(m4)return Dw;m4=1;var e=1e3,t=e*60,r=t*60,n=r*24,a=n*7,o=n*365.25;Dw=function(f,m){m=m||{};var b=typeof f;if(b==="string"&&f.length>0)return u(f);if(b==="number"&&isFinite(f))return m.long?p(f):c(f);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(f))};function u(f){if(f=String(f),!(f.length>100)){var m=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(f);if(m){var b=parseFloat(m[1]),_=(m[2]||"ms").toLowerCase();switch(_){case"years":case"year":case"yrs":case"yr":case"y":return b*o;case"weeks":case"week":case"w":return b*a;case"days":case"day":case"d":return b*n;case"hours":case"hour":case"hrs":case"hr":case"h":return b*r;case"minutes":case"minute":case"mins":case"min":case"m":return b*t;case"seconds":case"second":case"secs":case"sec":case"s":return b*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return b;default:return}}}}function c(f){var m=Math.abs(f);return m>=n?Math.round(f/n)+"d":m>=r?Math.round(f/r)+"h":m>=t?Math.round(f/t)+"m":m>=e?Math.round(f/e)+"s":f+"ms"}function p(f){var m=Math.abs(f);return m>=n?h(f,m,n,"day"):m>=r?h(f,m,r,"hour"):m>=t?h(f,m,t,"minute"):m>=e?h(f,m,e,"second"):f+" ms"}function h(f,m,b,_){var j=m>=b*1.5;return Math.round(f/b)+" "+_+(j?"s":"")}return Dw}var Mw,g4;function KNe(){if(g4)return Mw;g4=1;function e(t){n.debug=n,n.default=n,n.coerce=h,n.disable=c,n.enable=o,n.enabled=p,n.humanize=WNe(),n.destroy=f,Object.keys(t).forEach(m=>{n[m]=t[m]}),n.names=[],n.skips=[],n.formatters={};function r(m){let b=0;for(let _=0;_<m.length;_++)b=(b<<5)-b+m.charCodeAt(_),b|=0;return n.colors[Math.abs(b)%n.colors.length]}n.selectColor=r;function n(m){let b,_=null,j,w;function y(...x){if(!y.enabled)return;const S=y,T=Number(new Date),N=T-(b||T);S.diff=N,S.prev=b,S.curr=T,b=T,x[0]=n.coerce(x[0]),typeof x[0]!="string"&&x.unshift("%O");let A=0;x[0]=x[0].replace(/%([a-zA-Z%])/g,(k,R)=>{if(k==="%%")return"%";A++;const D=n.formatters[R];if(typeof D=="function"){const I=x[A];k=D.call(S,I),x.splice(A,1),A--}return k}),n.formatArgs.call(S,x),(S.log||n.log).apply(S,x)}return y.namespace=m,y.useColors=n.useColors(),y.color=n.selectColor(m),y.extend=a,y.destroy=n.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:()=>_!==null?_:(j!==n.namespaces&&(j=n.namespaces,w=n.enabled(m)),w),set:x=>{_=x}}),typeof n.init=="function"&&n.init(y),y}function a(m,b){const _=n(this.namespace+(typeof b>"u"?":":b)+m);return _.log=this.log,_}function o(m){n.save(m),n.namespaces=m,n.names=[],n.skips=[];const b=(typeof m=="string"?m:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const _ of b)_[0]==="-"?n.skips.push(_.slice(1)):n.names.push(_)}function u(m,b){let _=0,j=0,w=-1,y=0;for(;_<m.length;)if(j<b.length&&(b[j]===m[_]||b[j]==="*"))b[j]==="*"?(w=j,y=_,j++):(_++,j++);else if(w!==-1)j=w+1,y++,_=y;else return!1;for(;j<b.length&&b[j]==="*";)j++;return j===b.length}function c(){const m=[...n.names,...n.skips.map(b=>"-"+b)].join(",");return n.enable(""),m}function p(m){for(const b of n.skips)if(u(m,b))return!1;for(const b of n.names)if(u(m,b))return!0;return!1}function h(m){return m instanceof Error?m.stack||m.message:m}function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}return Mw=e,Mw}var v4;function m_(){return v4||(v4=1,(function(e,t){var r={};t.formatArgs=a,t.save=o,t.load=u,t.useColors=n,t.storage=c(),t.destroy=(()=>{let h=!1;return()=>{h||(h=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let h;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(h=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(h[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function a(h){if(h[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+h[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const f="color: "+this.color;h.splice(1,0,f,"color: inherit");let m=0,b=0;h[0].replace(/%[a-zA-Z%]/g,_=>{_!=="%%"&&(m++,_==="%c"&&(b=m))}),h.splice(b,0,f)}t.log=console.debug||console.log||(()=>{});function o(h){try{h?t.storage.setItem("debug",h):t.storage.removeItem("debug")}catch{}}function u(){let h;try{h=t.storage.getItem("debug")||t.storage.getItem("DEBUG")}catch{}return!h&&typeof process<"u"&&"env"in process&&(h=r.DEBUG),h}function c(){try{return localStorage}catch{}}e.exports=KNe()(t);const{formatters:p}=e.exports;p.j=function(h){try{return JSON.stringify(h)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}})(fv,fv.exports)),fv.exports}var Lw={},y4;function GNe(){return y4||(y4=1,Object.defineProperty(Lw,"__esModule",{value:!0})),Lw}var bc={},kp={},b4;function xa(){if(b4)return kp;b4=1,Object.defineProperty(kp,"__esModule",{value:!0}),kp.Logger=void 0;const e=m_(),t="mediasoup-client";class r{constructor(a){Y(this,"_debug");Y(this,"_warn");Y(this,"_error");a?(this._debug=(0,e.default)(`${t}:${a}`),this._warn=(0,e.default)(`${t}:WARN:${a}`),this._error=(0,e.default)(`${t}:ERROR:${a}`)):(this._debug=(0,e.default)(t),this._warn=(0,e.default)(`${t}:WARN`),this._error=(0,e.default)(`${t}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}}return kp.Logger=r,kp}var Np={},pv={exports:{}},_4;function VNe(){if(_4)return pv.exports;_4=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(A,P,k){return Function.prototype.apply.call(A,P,k)},r;e&&typeof e.ownKeys=="function"?r=e.ownKeys:Object.getOwnPropertySymbols?r=function(A){return Object.getOwnPropertyNames(A).concat(Object.getOwnPropertySymbols(A))}:r=function(A){return Object.getOwnPropertyNames(A)};function n(N){console&&console.warn&&console.warn(N)}var a=Number.isNaN||function(A){return A!==A};function o(){o.init.call(this)}pv.exports=o,pv.exports.once=x,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var u=10;function c(N){if(typeof N!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof N)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(N){if(typeof N!="number"||N<0||a(N))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+N+".");u=N}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(A){if(typeof A!="number"||A<0||a(A))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+A+".");return this._maxListeners=A,this};function p(N){return N._maxListeners===void 0?o.defaultMaxListeners:N._maxListeners}o.prototype.getMaxListeners=function(){return p(this)},o.prototype.emit=function(A){for(var P=[],k=1;k<arguments.length;k++)P.push(arguments[k]);var R=A==="error",D=this._events;if(D!==void 0)R=R&&D.error===void 0;else if(!R)return!1;if(R){var I;if(P.length>0&&(I=P[0]),I instanceof Error)throw I;var q=new Error("Unhandled error."+(I?" ("+I.message+")":""));throw q.context=I,q}var z=D[A];if(z===void 0)return!1;if(typeof z=="function")t(z,this,P);else for(var M=z.length,F=j(z,M),k=0;k<M;++k)t(F[k],this,P);return!0};function h(N,A,P,k){var R,D,I;if(c(P),D=N._events,D===void 0?(D=N._events=Object.create(null),N._eventsCount=0):(D.newListener!==void 0&&(N.emit("newListener",A,P.listener?P.listener:P),D=N._events),I=D[A]),I===void 0)I=D[A]=P,++N._eventsCount;else if(typeof I=="function"?I=D[A]=k?[P,I]:[I,P]:k?I.unshift(P):I.push(P),R=p(N),R>0&&I.length>R&&!I.warned){I.warned=!0;var q=new Error("Possible EventEmitter memory leak detected. "+I.length+" "+String(A)+" listeners added. Use emitter.setMaxListeners() to increase limit");q.name="MaxListenersExceededWarning",q.emitter=N,q.type=A,q.count=I.length,n(q)}return N}o.prototype.addListener=function(A,P){return h(this,A,P,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(A,P){return h(this,A,P,!0)};function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function m(N,A,P){var k={fired:!1,wrapFn:void 0,target:N,type:A,listener:P},R=f.bind(k);return R.listener=P,k.wrapFn=R,R}o.prototype.once=function(A,P){return c(P),this.on(A,m(this,A,P)),this},o.prototype.prependOnceListener=function(A,P){return c(P),this.prependListener(A,m(this,A,P)),this},o.prototype.removeListener=function(A,P){var k,R,D,I,q;if(c(P),R=this._events,R===void 0)return this;if(k=R[A],k===void 0)return this;if(k===P||k.listener===P)--this._eventsCount===0?this._events=Object.create(null):(delete R[A],R.removeListener&&this.emit("removeListener",A,k.listener||P));else if(typeof k!="function"){for(D=-1,I=k.length-1;I>=0;I--)if(k[I]===P||k[I].listener===P){q=k[I].listener,D=I;break}if(D<0)return this;D===0?k.shift():w(k,D),k.length===1&&(R[A]=k[0]),R.removeListener!==void 0&&this.emit("removeListener",A,q||P)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(A){var P,k,R;if(k=this._events,k===void 0)return this;if(k.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):k[A]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete k[A]),this;if(arguments.length===0){var D=Object.keys(k),I;for(R=0;R<D.length;++R)I=D[R],I!=="removeListener"&&this.removeAllListeners(I);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(P=k[A],typeof P=="function")this.removeListener(A,P);else if(P!==void 0)for(R=P.length-1;R>=0;R--)this.removeListener(A,P[R]);return this};function b(N,A,P){var k=N._events;if(k===void 0)return[];var R=k[A];return R===void 0?[]:typeof R=="function"?P?[R.listener||R]:[R]:P?y(R):j(R,R.length)}o.prototype.listeners=function(A){return b(this,A,!0)},o.prototype.rawListeners=function(A){return b(this,A,!1)},o.listenerCount=function(N,A){return typeof N.listenerCount=="function"?N.listenerCount(A):_.call(N,A)},o.prototype.listenerCount=_;function _(N){var A=this._events;if(A!==void 0){var P=A[N];if(typeof P=="function")return 1;if(P!==void 0)return P.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function j(N,A){for(var P=new Array(A),k=0;k<A;++k)P[k]=N[k];return P}function w(N,A){for(;A+1<N.length;A++)N[A]=N[A+1];N.pop()}function y(N){for(var A=new Array(N.length),P=0;P<A.length;++P)A[P]=N[P].listener||N[P];return A}function x(N,A){return new Promise(function(P,k){function R(I){N.removeListener(A,D),k(I)}function D(){typeof N.removeListener=="function"&&N.removeListener("error",R),P([].slice.call(arguments))}T(N,A,D,{once:!0}),A!=="error"&&S(N,R,{once:!0})})}function S(N,A,P){typeof N.on=="function"&&T(N,"error",A,P)}function T(N,A,P,k){if(typeof N.on=="function")k.once?N.once(A,P):N.on(A,P);else if(typeof N.addEventListener=="function")N.addEventListener(A,function R(D){k.once&&N.removeEventListener(A,R),P(D)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof N)}return pv.exports}var x4;function Fa(){if(x4)return Np;x4=1,Object.defineProperty(Np,"__esModule",{value:!0}),Np.EnhancedEventEmitter=void 0;const e=VNe(),t=xa(),r=new t.Logger("EnhancedEventEmitter");class n extends e.EventEmitter{constructor(){super(),this.setMaxListeners(1/0)}close(){super.removeAllListeners()}emit(o,...u){return super.emit(o,...u)}safeEmit(o,...u){try{return super.emit(o,...u)}catch(c){r.error("safeEmit() | event listener threw an error [eventName:%s]:%o",o,c);try{super.emit("listenererror",o,c)}catch{}return!!super.listenerCount(o)}}on(o,u){return super.on(o,u),this}off(o,u){return super.off(o,u),this}addListener(o,u){return super.on(o,u),this}prependListener(o,u){return super.prependListener(o,u),this}once(o,u){return super.once(o,u),this}prependOnceListener(o,u){return super.prependOnceListener(o,u),this}removeListener(o,u){return super.off(o,u),this}removeAllListeners(o){return super.removeAllListeners(o),this}listenerCount(o){return super.listenerCount(o)}listeners(o){return super.listeners(o)}rawListeners(o){return super.rawListeners(o)}}return Np.EnhancedEventEmitter=n,Np}var _c={},w4;function Vi(){if(w4)return _c;w4=1,Object.defineProperty(_c,"__esModule",{value:!0}),_c.InvalidStateError=_c.UnsupportedError=void 0;class e extends Error{constructor(n){super(n),this.name="UnsupportedError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,e):this.stack=new Error(n).stack}}_c.UnsupportedError=e;class t extends Error{constructor(n){super(n),this.name="InvalidStateError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,t):this.stack=new Error(n).stack}}return _c.InvalidStateError=t,_c}var ud={},S4;function mf(){if(S4)return ud;S4=1,Object.defineProperty(ud,"__esModule",{value:!0}),ud.clone=e,ud.generateRandomNumber=t,ud.deepFreeze=r;function e(n){if(n!==void 0)return Number.isNaN(n)?NaN:typeof structuredClone=="function"?structuredClone(n):JSON.parse(JSON.stringify(n))}function t(){return Math.round(Math.random()*1e7)}function r(n){const a=Reflect.ownKeys(n);for(const o of a){const u=n[o];(u&&typeof u=="object"||typeof u=="function")&&r(u)}return Object.freeze(n)}return ud}var Hn={},pn={},Ep={},j4;function YNe(){if(j4)return Ep;j4=1,Object.defineProperty(Ep,"__esModule",{value:!0}),Ep.Logger=void 0;const e=m_(),t="h264-profile-level-id";class r{constructor(a){Y(this,"_debug");Y(this,"_warn");Y(this,"_error");a?(this._debug=(0,e.default)(`${t}:${a}`),this._warn=(0,e.default)(`${t}:WARN:${a}`),this._error=(0,e.default)(`${t}:ERROR:${a}`)):(this._debug=(0,e.default)(t),this._warn=(0,e.default)(`${t}:WARN`),this._error=(0,e.default)(`${t}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}}return Ep.Logger=r,Ep}var C4;function QNe(){if(C4)return pn;C4=1,Object.defineProperty(pn,"__esModule",{value:!0}),pn.ProfileLevelId=pn.Level=pn.Profile=void 0,pn.parseProfileLevelId=f,pn.profileLevelIdToString=m,pn.profileToString=b,pn.levelToString=_,pn.parseSdpProfileLevelId=j,pn.isSameProfile=w,pn.isSameProfileAndLevel=y,pn.generateProfileLevelIdStringForAnswer=x,pn.supportedLevel=S;const e=YNe(),t=new e.Logger;var r;(function(k){k[k.ConstrainedBaseline=1]="ConstrainedBaseline",k[k.Baseline=2]="Baseline",k[k.Main=3]="Main",k[k.ConstrainedHigh=4]="ConstrainedHigh",k[k.High=5]="High",k[k.PredictiveHigh444=6]="PredictiveHigh444"})(r||(pn.Profile=r={}));var n;(function(k){k[k.L1_b=0]="L1_b",k[k.L1=10]="L1",k[k.L1_1=11]="L1_1",k[k.L1_2=12]="L1_2",k[k.L1_3=13]="L1_3",k[k.L2=20]="L2",k[k.L2_1=21]="L2_1",k[k.L2_2=22]="L2_2",k[k.L3=30]="L3",k[k.L3_1=31]="L3_1",k[k.L3_2=32]="L3_2",k[k.L4=40]="L4",k[k.L4_1=41]="L4_1",k[k.L4_2=42]="L4_2",k[k.L5=50]="L5",k[k.L5_1=51]="L5_1",k[k.L5_2=52]="L5_2"})(n||(pn.Level=n={}));class a{constructor(R,D){Y(this,"profile");Y(this,"level");this.profile=R,this.level=D}}pn.ProfileLevelId=a;const o=new a(r.ConstrainedBaseline,n.L3_1);class u{constructor(R){Y(this,"mask");Y(this,"masked_value");this.mask=~T("x",R),this.masked_value=T("1",R)}isMatch(R){return this.masked_value===(R&this.mask)}}class c{constructor(R,D,I){Y(this,"profile_idc");Y(this,"profile_iop");Y(this,"profile");this.profile_idc=R,this.profile_iop=D,this.profile=I}}const p=[new c(66,new u("x1xx0000"),r.ConstrainedBaseline),new c(77,new u("1xxx0000"),r.ConstrainedBaseline),new c(88,new u("11xx0000"),r.ConstrainedBaseline),new c(66,new u("x0xx0000"),r.Baseline),new c(88,new u("10xx0000"),r.Baseline),new c(77,new u("0x0x0000"),r.Main),new c(100,new u("00000000"),r.High),new c(100,new u("00001100"),r.ConstrainedHigh),new c(244,new u("00000000"),r.PredictiveHigh444)],h=[{max_macroblocks_per_second:1485,max_macroblock_frame_size:99,level:n.L1},{max_macroblocks_per_second:1485,max_macroblock_frame_size:99,level:n.L1_b},{max_macroblocks_per_second:3e3,max_macroblock_frame_size:396,level:n.L1_1},{max_macroblocks_per_second:6e3,max_macroblock_frame_size:396,level:n.L1_2},{max_macroblocks_per_second:11880,max_macroblock_frame_size:396,level:n.L1_3},{max_macroblocks_per_second:11880,max_macroblock_frame_size:396,level:n.L2},{max_macroblocks_per_second:19800,max_macroblock_frame_size:792,level:n.L2_1},{max_macroblocks_per_second:20250,max_macroblock_frame_size:1620,level:n.L2_2},{max_macroblocks_per_second:40500,max_macroblock_frame_size:1620,level:n.L3},{max_macroblocks_per_second:108e3,max_macroblock_frame_size:3600,level:n.L3_1},{max_macroblocks_per_second:216e3,max_macroblock_frame_size:5120,level:n.L3_2},{max_macroblocks_per_second:245760,max_macroblock_frame_size:8192,level:n.L4},{max_macroblocks_per_second:245760,max_macroblock_frame_size:8192,level:n.L4_1},{max_macroblocks_per_second:522240,max_macroblock_frame_size:8704,level:n.L4_2},{max_macroblocks_per_second:589824,max_macroblock_frame_size:22080,level:n.L5},{max_macroblocks_per_second:983040,max_macroblock_frame_size:36864,level:n.L5_1},{max_macroblocks_per_second:2073600,max_macroblock_frame_size:36864,level:n.L5_2}];function f(k){if(typeof k!="string"||k.length!==6)return;const D=parseInt(k,16);if(D===0)return;const I=D&255,q=D>>8&255,z=D>>16&255;let M;switch(I){case n.L1_1:{M=(q&16)!==0?n.L1_b:n.L1_1;break}case n.L1:case n.L1_2:case n.L1_3:case n.L2:case n.L2_1:case n.L2_2:case n.L3:case n.L3_1:case n.L3_2:case n.L4:case n.L4_1:case n.L4_2:case n.L5:case n.L5_1:case n.L5_2:{M=I;break}default:{t.warn(`parseProfileLevelId() | unrecognized level_idc [str:${k}, level_idc:${I}]`);return}}for(const F of p)if(z===F.profile_idc&&F.profile_iop.isMatch(q))return t.debug(`parseProfileLevelId() | result [str:${k}, profile:${F.profile}, level:${M}]`),new a(F.profile,M);t.warn(`parseProfileLevelId() | unrecognized profile_idc/profile_iop combination [str:${k}, profile_idc:${z}, profile_iop:${q}]`)}function m(k){if(k.level==n.L1_b)switch(k.profile){case r.ConstrainedBaseline:return"42f00b";case r.Baseline:return"42100b";case r.Main:return"4d100b";default:{t.warn(`profileLevelIdToString() | Level 1_b not is allowed for profile ${k.profile}`);return}}let R;switch(k.profile){case r.ConstrainedBaseline:{R="42e0";break}case r.Baseline:{R="4200";break}case r.Main:{R="4d00";break}case r.ConstrainedHigh:{R="640c";break}case r.High:{R="6400";break}case r.PredictiveHigh444:{R="f400";break}default:{t.warn(`profileLevelIdToString() | unrecognized profile ${k.profile}`);return}}let D=k.level.toString(16);return D.length===1&&(D=`0${D}`),`${R}${D}`}function b(k){switch(k){case r.ConstrainedBaseline:return"ConstrainedBaseline";case r.Baseline:return"Baseline";case r.Main:return"Main";case r.ConstrainedHigh:return"ConstrainedHigh";case r.High:return"High";case r.PredictiveHigh444:return"PredictiveHigh444";default:{t.warn(`profileToString() | unrecognized profile ${k}`);return}}}function _(k){switch(k){case n.L1_b:return"1b";case n.L1:return"1";case n.L1_1:return"1.1";case n.L1_2:return"1.2";case n.L1_3:return"1.3";case n.L2:return"2";case n.L2_1:return"2.1";case n.L2_2:return"2.2";case n.L3:return"3";case n.L3_1:return"3.1";case n.L3_2:return"3.2";case n.L4:return"4";case n.L4_1:return"4.1";case n.L4_2:return"4.2";case n.L5:return"5";case n.L5_1:return"5.1";case n.L5_2:return"5.2";default:{t.warn(`levelToString() | unrecognized level ${k}`);return}}}function j(k={}){const R=k["profile-level-id"];return R?f(R):o}function w(k={},R={}){const D=j(k),I=j(R);return!!(D&&I&&D.profile===I.profile)}function y(k={},R={}){const D=j(k),I=j(R);return!!(D&&I&&D.profile===I.profile&&D.level==I.level)}function x(k={},R={}){if(!k["profile-level-id"]&&!R["profile-level-id"]){t.warn("generateProfileLevelIdStringForAnswer() | profile-level-id missing in local and remote params");return}const D=j(k),I=j(R);if(!D)throw new TypeError("invalid local_profile_level_id");if(!I)throw new TypeError("invalid remote_profile_level_id");if(D.profile!==I.profile)throw new TypeError("H264 Profile mismatch");const q=P(k)&&P(R),z=D.level,M=I.level,F=A(z,M),B=q?z:F;return t.debug(`generateProfileLevelIdStringForAnswer() | result [profile:${D.profile}, level:${B}]`),m(new a(D.profile,B))}function S(k,R){for(let I=h.length-1;I>=0;--I){const q=h[I];if(q.max_macroblock_frame_size*256<=k&&q.max_macroblocks_per_second<=R*q.max_macroblock_frame_size)return t.debug(`supportedLevel() | result [max_frame_pixel_count:${k}, max_fps:${R}, level:${q.level}]`),q.level}t.warn(`supportedLevel() | no level supported [max_frame_pixel_count:${k}, max_fps:${R}]`)}function T(k,R){return+(R[0]===k)<<7|+(R[1]===k)<<6|+(R[2]===k)<<5|+(R[3]===k)<<4|+(R[4]===k)<<3|+(R[5]===k)<<2|+(R[6]===k)<<1|+(R[7]===k)<<0}function N(k,R){return k===n.L1_b?R!==n.L1&&R!==n.L1_b:R===n.L1_b?k!==n.L1:k<R}function A(k,R){return N(k,R)?k:R}function P(k={}){const R=k["level-asymmetry-allowed"];return R===!0||R===1||R==="1"}return pn}var k4;function Wo(){if(k4)return Hn;k4=1,Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.validateAndNormalizeRtpCapabilities=o,Hn.validateAndNormalizeRtpParameters=u,Hn.validateAndNormalizeSctpStreamParameters=c,Hn.validateSctpCapabilities=p,Hn.getExtendedRtpCapabilities=h,Hn.getRecvRtpCapabilities=f,Hn.getSendingRtpParameters=m,Hn.getSendingRemoteRtpParameters=b,Hn.reduceCodecs=_,Hn.generateProbatorRtpParameters=j,Hn.canSend=w,Hn.canReceive=y;const e=QNe(),t=mf(),r="probator",n=1234,a=127;function o(M){if(typeof M!="object")throw new TypeError("caps is not an object");if(M.codecs&&!Array.isArray(M.codecs))throw new TypeError("caps.codecs is not an array");M.codecs||(M.codecs=[]);for(const F of M.codecs)x(F);if(M.headerExtensions&&!Array.isArray(M.headerExtensions))throw new TypeError("caps.headerExtensions is not an array");M.headerExtensions||(M.headerExtensions=[]);for(const F of M.headerExtensions)T(F)}function u(M){if(typeof M!="object")throw new TypeError("params is not an object");if(M.mid&&typeof M.mid!="string")throw new TypeError("params.mid is not a string");if(!Array.isArray(M.codecs))throw new TypeError("missing params.codecs");for(const F of M.codecs)N(F);if(M.headerExtensions&&!Array.isArray(M.headerExtensions))throw new TypeError("params.headerExtensions is not an array");M.headerExtensions||(M.headerExtensions=[]);for(const F of M.headerExtensions)A(F);if(M.encodings&&!Array.isArray(M.encodings))throw new TypeError("params.encodings is not an array");M.encodings||(M.encodings=[]);for(const F of M.encodings)P(F);if(M.rtcp&&typeof M.rtcp!="object")throw new TypeError("params.rtcp is not an object");M.rtcp||(M.rtcp={}),k(M.rtcp)}function c(M){if(typeof M!="object")throw new TypeError("params is not an object");if(typeof M.streamId!="number")throw new TypeError("missing params.streamId");let F=!1;if(typeof M.ordered=="boolean"?F=!0:M.ordered=!0,M.maxPacketLifeTime&&typeof M.maxPacketLifeTime!="number")throw new TypeError("invalid params.maxPacketLifeTime");if(M.maxRetransmits&&typeof M.maxRetransmits!="number")throw new TypeError("invalid params.maxRetransmits");if(M.maxPacketLifeTime&&M.maxRetransmits)throw new TypeError("cannot provide both maxPacketLifeTime and maxRetransmits");if(F&&M.ordered&&(M.maxPacketLifeTime||M.maxRetransmits))throw new TypeError("cannot be ordered with maxPacketLifeTime or maxRetransmits");if(!F&&(M.maxPacketLifeTime||M.maxRetransmits)&&(M.ordered=!1),M.label&&typeof M.label!="string")throw new TypeError("invalid params.label");if(M.protocol&&typeof M.protocol!="string")throw new TypeError("invalid params.protocol")}function p(M){if(typeof M!="object")throw new TypeError("caps is not an object");if(!M.numStreams||typeof M.numStreams!="object")throw new TypeError("missing caps.numStreams");R(M.numStreams)}function h(M,F,B){const O={codecs:[],headerExtensions:[]};if(B)for(const $ of M.codecs??[]){if(D($))continue;const K=(F.codecs??[]).find(Q=>I(Q,$,{strict:!0,modify:!0}));if(!K)continue;const V={kind:$.kind,mimeType:$.mimeType,clockRate:$.clockRate,channels:$.channels,localPayloadType:$.preferredPayloadType,localRtxPayloadType:void 0,remotePayloadType:K.preferredPayloadType,remoteRtxPayloadType:void 0,localParameters:$.parameters??{},remoteParameters:K.parameters??{},rtcpFeedback:z($,K)};O.codecs.push(V)}else for(const $ of F.codecs??[]){if(D($))continue;const K=(M.codecs??[]).find(Q=>I(Q,$,{strict:!0,modify:!0}));if(!K)continue;const V={kind:K.kind,mimeType:K.mimeType,clockRate:K.clockRate,channels:K.channels,localPayloadType:K.preferredPayloadType,localRtxPayloadType:void 0,remotePayloadType:$.preferredPayloadType,remoteRtxPayloadType:void 0,localParameters:K.parameters??{},remoteParameters:$.parameters??{},rtcpFeedback:z(K,$)};O.codecs.push(V)}for(const $ of O.codecs){const K=M.codecs.find(Q=>{var U;return D(Q)&&((U=Q.parameters)==null?void 0:U.apt)===$.localPayloadType}),V=F.codecs.find(Q=>{var U;return D(Q)&&((U=Q.parameters)==null?void 0:U.apt)===$.remotePayloadType});K&&V&&($.localRtxPayloadType=K.preferredPayloadType,$.remoteRtxPayloadType=V.preferredPayloadType)}for(const $ of F.headerExtensions){const K=M.headerExtensions.find(Q=>q(Q,$));if(!K)continue;const V={kind:$.kind,uri:$.uri,sendId:K.preferredId,recvId:$.preferredId,encrypt:K.preferredEncrypt??!1,direction:"sendrecv"};switch($.direction){case"sendrecv":{V.direction="sendrecv";break}case"recvonly":{V.direction="sendonly";break}case"sendonly":{V.direction="recvonly";break}case"inactive":{V.direction="inactive";break}}O.headerExtensions.push(V)}return O}function f(M){const F={codecs:[],headerExtensions:[]};for(const B of M.codecs){const O={kind:B.kind,mimeType:B.mimeType,preferredPayloadType:B.remotePayloadType,clockRate:B.clockRate,channels:B.channels,parameters:B.localParameters,rtcpFeedback:B.rtcpFeedback};if(F.codecs.push(O),!B.remoteRtxPayloadType)continue;const $={kind:B.kind,mimeType:`${B.kind}/rtx`,preferredPayloadType:B.remoteRtxPayloadType,clockRate:B.clockRate,parameters:{apt:B.remotePayloadType},rtcpFeedback:[]};F.codecs.push($)}for(const B of M.headerExtensions){if(B.direction!=="sendrecv"&&B.direction!=="recvonly")continue;const O={kind:B.kind,uri:B.uri,preferredId:B.recvId,preferredEncrypt:B.encrypt??!1,direction:B.direction};F.headerExtensions.push(O)}return F}function m(M,F){const B={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const O of F.codecs){if(O.kind!==M)continue;const $={mimeType:O.mimeType,payloadType:O.localPayloadType,clockRate:O.clockRate,channels:O.channels,parameters:O.localParameters,rtcpFeedback:O.rtcpFeedback};if(B.codecs.push($),O.localRtxPayloadType){const K={mimeType:`${O.kind}/rtx`,payloadType:O.localRtxPayloadType,clockRate:O.clockRate,parameters:{apt:O.localPayloadType},rtcpFeedback:[]};B.codecs.push(K)}}for(const O of F.headerExtensions){if(O.kind&&O.kind!==M||O.direction!=="sendrecv"&&O.direction!=="sendonly")continue;const $={uri:O.uri,id:O.sendId,encrypt:O.encrypt,parameters:{}};B.headerExtensions.push($)}return B}function b(M,F){const B={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const O of F.codecs){if(O.kind!==M)continue;const $={mimeType:O.mimeType,payloadType:O.localPayloadType,clockRate:O.clockRate,channels:O.channels,parameters:O.remoteParameters,rtcpFeedback:O.rtcpFeedback};if(B.codecs.push($),O.localRtxPayloadType){const K={mimeType:`${O.kind}/rtx`,payloadType:O.localRtxPayloadType,clockRate:O.clockRate,parameters:{apt:O.localPayloadType},rtcpFeedback:[]};B.codecs.push(K)}}for(const O of F.headerExtensions){if(O.kind&&O.kind!==M||O.direction!=="sendrecv"&&O.direction!=="sendonly")continue;const $={uri:O.uri,id:O.sendId,encrypt:O.encrypt,parameters:{}};B.headerExtensions.push($)}if(B.headerExtensions.some(O=>O.uri==="http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"))for(const O of B.codecs)O.rtcpFeedback=(O.rtcpFeedback??[]).filter($=>$.type!=="goog-remb");else if(B.headerExtensions.some(O=>O.uri==="http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"))for(const O of B.codecs)O.rtcpFeedback=(O.rtcpFeedback??[]).filter($=>$.type!=="transport-cc");else for(const O of B.codecs)O.rtcpFeedback=(O.rtcpFeedback??[]).filter($=>$.type!=="transport-cc"&&$.type!=="goog-remb");return B}function _(M,F){const B=[];if(!F)B.push(M[0]),D(M[1])&&B.push(M[1]);else{for(let O=0;O<M.length;++O)if(I(M[O],F,{strict:!0})){B.push(M[O]),D(M[O+1])&&B.push(M[O+1]);break}if(B.length===0)throw new TypeError("no matching codec found")}return B}function j(M){M=t.clone(M),u(M);const F={mid:r,codecs:[],headerExtensions:[],encodings:[{ssrc:n}],rtcp:{cname:"probator"}};return F.codecs.push(M.codecs[0]),F.codecs[0].payloadType=a,F.headerExtensions=M.headerExtensions,F}function w(M,F){return(F.codecs??[]).some(B=>B.kind===M)}function y(M,F){if(u(M),M.codecs.length===0)return!1;const B=M.codecs[0];return(F.codecs??[]).some(O=>O.preferredPayloadType===B.payloadType)}function x(M){const F=new RegExp("^(audio|video)/(.+)","i");if(typeof M!="object")throw new TypeError("codec is not an object");if(!M.mimeType||typeof M.mimeType!="string")throw new TypeError("missing codec.mimeType");const B=F.exec(M.mimeType);if(!B)throw new TypeError("invalid codec.mimeType");if(M.kind=B[1].toLowerCase(),typeof M.preferredPayloadType!="number")throw new TypeError("missing codec.preferredPayloadType");if(typeof M.clockRate!="number")throw new TypeError("missing codec.clockRate");M.kind==="audio"?typeof M.channels!="number"&&(M.channels=1):delete M.channels,(!M.parameters||typeof M.parameters!="object")&&(M.parameters={});for(const O of Object.keys(M.parameters)){let $=M.parameters[O];if($===void 0&&(M.parameters[O]="",$=""),typeof $!="string"&&typeof $!="number")throw new TypeError(`invalid codec parameter [key:${O}s, value:${$}]`);if(O==="apt"&&typeof $!="number")throw new TypeError("invalid codec apt parameter")}(!M.rtcpFeedback||!Array.isArray(M.rtcpFeedback))&&(M.rtcpFeedback=[]);for(const O of M.rtcpFeedback)S(O)}function S(M){if(typeof M!="object")throw new TypeError("fb is not an object");if(!M.type||typeof M.type!="string")throw new TypeError("missing fb.type");(!M.parameter||typeof M.parameter!="string")&&(M.parameter="")}function T(M){if(typeof M!="object")throw new TypeError("ext is not an object");if(M.kind!=="audio"&&M.kind!=="video")throw new TypeError("invalid ext.kind");if(!M.uri||typeof M.uri!="string")throw new TypeError("missing ext.uri");if(typeof M.preferredId!="number")throw new TypeError("missing ext.preferredId");if(M.preferredEncrypt&&typeof M.preferredEncrypt!="boolean")throw new TypeError("invalid ext.preferredEncrypt");if(M.preferredEncrypt||(M.preferredEncrypt=!1),M.direction&&typeof M.direction!="string")throw new TypeError("invalid ext.direction");M.direction||(M.direction="sendrecv")}function N(M){const F=new RegExp("^(audio|video)/(.+)","i");if(typeof M!="object")throw new TypeError("codec is not an object");if(!M.mimeType||typeof M.mimeType!="string")throw new TypeError("missing codec.mimeType");const B=F.exec(M.mimeType);if(!B)throw new TypeError("invalid codec.mimeType");if(typeof M.payloadType!="number")throw new TypeError("missing codec.payloadType");if(typeof M.clockRate!="number")throw new TypeError("missing codec.clockRate");B[1].toLowerCase()==="audio"?typeof M.channels!="number"&&(M.channels=1):delete M.channels,(!M.parameters||typeof M.parameters!="object")&&(M.parameters={});for(const $ of Object.keys(M.parameters)){let K=M.parameters[$];if(K===void 0&&(M.parameters[$]="",K=""),typeof K!="string"&&typeof K!="number")throw new TypeError(`invalid codec parameter [key:${$}s, value:${K}]`);if($==="apt"&&typeof K!="number")throw new TypeError("invalid codec apt parameter")}(!M.rtcpFeedback||!Array.isArray(M.rtcpFeedback))&&(M.rtcpFeedback=[]);for(const $ of M.rtcpFeedback)S($)}function A(M){if(typeof M!="object")throw new TypeError("ext is not an object");if(!M.uri||typeof M.uri!="string")throw new TypeError("missing ext.uri");if(typeof M.id!="number")throw new TypeError("missing ext.id");if(M.encrypt&&typeof M.encrypt!="boolean")throw new TypeError("invalid ext.encrypt");M.encrypt||(M.encrypt=!1),(!M.parameters||typeof M.parameters!="object")&&(M.parameters={});for(const F of Object.keys(M.parameters)){let B=M.parameters[F];if(B===void 0&&(M.parameters[F]="",B=""),typeof B!="string"&&typeof B!="number")throw new TypeError("invalid header extension parameter")}}function P(M){if(typeof M!="object")throw new TypeError("encoding is not an object");if(M.ssrc&&typeof M.ssrc!="number")throw new TypeError("invalid encoding.ssrc");if(M.rid&&typeof M.rid!="string")throw new TypeError("invalid encoding.rid");if(M.rtx&&typeof M.rtx!="object")throw new TypeError("invalid encoding.rtx");if(M.rtx&&typeof M.rtx.ssrc!="number")throw new TypeError("missing encoding.rtx.ssrc");if((!M.dtx||typeof M.dtx!="boolean")&&(M.dtx=!1),M.scalabilityMode&&typeof M.scalabilityMode!="string")throw new TypeError("invalid encoding.scalabilityMode")}function k(M){if(typeof M!="object")throw new TypeError("rtcp is not an object");if(M.cname&&typeof M.cname!="string")throw new TypeError("invalid rtcp.cname");(!M.reducedSize||typeof M.reducedSize!="boolean")&&(M.reducedSize=!0)}function R(M){if(typeof M!="object")throw new TypeError("numStreams is not an object");if(typeof M.OS!="number")throw new TypeError("missing numStreams.OS");if(typeof M.MIS!="number")throw new TypeError("missing numStreams.MIS")}function D(M){return M?/.+\/rtx$/i.test(M.mimeType):!1}function I(M,F,{strict:B=!1,modify:O=!1}={}){const $=M.mimeType.toLowerCase(),K=F.mimeType.toLowerCase();if($!==K||M.clockRate!==F.clockRate||M.channels!==F.channels)return!1;switch($){case"video/h264":{if(B){const V=M.parameters["packetization-mode"]??0,Q=F.parameters["packetization-mode"]??0;if(V!==Q||!e.isSameProfile(M.parameters,F.parameters))return!1;let U;try{U=e.generateProfileLevelIdStringForAnswer(M.parameters,F.parameters)}catch{return!1}O&&(U?(M.parameters["profile-level-id"]=U,F.parameters["profile-level-id"]=U):(delete M.parameters["profile-level-id"],delete F.parameters["profile-level-id"]))}break}case"video/vp9":{if(B){const V=M.parameters["profile-id"]??0,Q=F.parameters["profile-id"]??0;if(V!==Q)return!1}break}}return!0}function q(M,F){return!(M.kind&&F.kind&&M.kind!==F.kind||M.uri!==F.uri)}function z(M,F){const B=[];for(const O of M.rtcpFeedback??[]){const $=(F.rtcpFeedback??[]).find(K=>K.type===O.type&&(K.parameter===O.parameter||!K.parameter&&!O.parameter));$&&B.push($)}return B}return Hn}var Tp={},Iw={},Pp={},Ap={},N4;function XNe(){if(N4)return Ap;N4=1,Object.defineProperty(Ap,"__esModule",{value:!0}),Ap.Logger=void 0;const e=m_(),t="awaitqueue";let r=class{constructor(a){Y(this,"_debug");Y(this,"_warn");Y(this,"_error");a?(this._debug=e(`${t}:${a}`),this._warn=e(`${t}:WARN:${a}`),this._error=e(`${t}:ERROR:${a}`)):(this._debug=e(t),this._warn=e(`${t}:WARN`),this._error=e(`${t}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}};return Ap.Logger=r,Ap}var xc={},E4;function R7(){if(E4)return xc;E4=1,Object.defineProperty(xc,"__esModule",{value:!0}),xc.AwaitQueueRemovedTaskError=xc.AwaitQueueStoppedError=void 0;class e extends Error{constructor(n){super(n??"queue stopped"),this.name="AwaitQueueStoppedError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,e)}}xc.AwaitQueueStoppedError=e;class t extends Error{constructor(n){super(n??"queue task removed"),this.name="AwaitQueueRemovedTaskError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}}return xc.AwaitQueueRemovedTaskError=t,xc}var T4;function ZNe(){if(T4)return Pp;T4=1,Object.defineProperty(Pp,"__esModule",{value:!0}),Pp.AwaitQueue=void 0;const e=XNe(),t=R7(),r=new e.Logger("AwaitQueue");let n=class{constructor(){Y(this,"pendingTasks",new Map);Y(this,"nextTaskId",0);r.debug("constructor()")}get size(){return this.pendingTasks.size}async push(o,u,c){if(u=u??o.name,r.debug(`push() [name:${u}, options:%o]`,c),typeof o!="function")throw new TypeError("given task is not a function");if(u)try{Object.defineProperty(o,"name",{value:u})}catch{}return new Promise((p,h)=>{if(u&&(c!=null&&c.removeOngoingTasksWithSameName))for(const m of this.pendingTasks.values())m.name===u&&m.reject(new t.AwaitQueueRemovedTaskError,{canExecuteNextTask:!1});const f={id:this.nextTaskId++,task:o,name:u,enqueuedAt:Date.now(),executedAt:void 0,completed:!1,resolve:m=>{if(f.completed)return;f.completed=!0,this.pendingTasks.delete(f.id),r.debug(`resolving task [name:${f.name}]`),p(m);const[b]=this.pendingTasks.values();b&&!b.executedAt&&this.execute(b)},reject:(m,{canExecuteNextTask:b})=>{if(!f.completed&&(f.completed=!0,this.pendingTasks.delete(f.id),r.debug(`rejecting task [name:${f.name}]: %s`,String(m)),h(m),b)){const[_]=this.pendingTasks.values();_&&!_.executedAt&&this.execute(_)}}};this.pendingTasks.set(f.id,f),this.pendingTasks.size===1&&this.execute(f)})}stop(){r.debug("stop()");for(const o of this.pendingTasks.values())r.debug(`stop() | stopping task [name:${o.name}]`),o.reject(new t.AwaitQueueStoppedError,{canExecuteNextTask:!1})}remove(o){r.debug(`remove() [taskIdx:${o}]`);const u=Array.from(this.pendingTasks.values())[o];if(!u){r.debug(`stop() | no task with given idx [taskIdx:${o}]`);return}u.reject(new t.AwaitQueueRemovedTaskError,{canExecuteNextTask:!0})}dump(){const o=Date.now();let u=0;return Array.from(this.pendingTasks.values()).map(c=>({idx:u++,task:c.task,name:c.name,enqueuedTime:c.executedAt?c.executedAt-c.enqueuedAt:o-c.enqueuedAt,executionTime:c.executedAt?o-c.executedAt:0}))}async execute(o){if(r.debug(`execute() [name:${o.name}]`),o.executedAt)throw new Error("task already being executed");o.executedAt=Date.now();try{const u=await o.task();o.resolve(u)}catch(u){o.reject(u,{canExecuteNextTask:!0})}}};return Pp.AwaitQueue=n,Pp}var P4;function JNe(){return P4||(P4=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AwaitQueueRemovedTaskError=e.AwaitQueueStoppedError=e.AwaitQueue=void 0;var t=ZNe();Object.defineProperty(e,"AwaitQueue",{enumerable:!0,get:function(){return t.AwaitQueue}});var r=R7();Object.defineProperty(e,"AwaitQueueStoppedError",{enumerable:!0,get:function(){return r.AwaitQueueStoppedError}}),Object.defineProperty(e,"AwaitQueueRemovedTaskError",{enumerable:!0,get:function(){return r.AwaitQueueRemovedTaskError}})})(Iw)),Iw}var Rp={},A4;function eEe(){if(A4)return Rp;A4=1,Object.defineProperty(Rp,"__esModule",{value:!0}),Rp.Producer=void 0;const e=xa(),t=Fa(),r=Vi(),n=new e.Logger("Producer");let a=class extends t.EnhancedEventEmitter{constructor({id:c,localId:p,rtpSender:h,track:f,rtpParameters:m,stopTracks:b,disableTrackOnPause:_,zeroRtpOnPause:j,appData:w}){super();Y(this,"_id");Y(this,"_localId");Y(this,"_closed",!1);Y(this,"_rtpSender");Y(this,"_track");Y(this,"_kind");Y(this,"_rtpParameters");Y(this,"_paused");Y(this,"_maxSpatialLayer");Y(this,"_stopTracks");Y(this,"_disableTrackOnPause");Y(this,"_zeroRtpOnPause");Y(this,"_appData");Y(this,"_observer",new t.EnhancedEventEmitter);n.debug("constructor()"),this._id=c,this._localId=p,this._rtpSender=h,this._track=f,this._kind=f.kind,this._rtpParameters=m,this._paused=_?!f.enabled:!1,this._maxSpatialLayer=void 0,this._stopTracks=b,this._disableTrackOnPause=_,this._zeroRtpOnPause=j,this._appData=w??{},this.onTrackEnded=this.onTrackEnded.bind(this),this.handleTrack()}get id(){return this._id}get localId(){return this._localId}get closed(){return this._closed}get kind(){return this._kind}get rtpSender(){return this._rtpSender}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get maxSpatialLayer(){return this._maxSpatialLayer}get appData(){return this._appData}set appData(c){this._appData=c}get observer(){return this._observer}close(){this._closed||(n.debug("close()"),this._closed=!0,this.destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"),super.close(),this._observer.close())}transportClosed(){this._closed||(n.debug("transportClosed()"),this._closed=!0,this.destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}async getStats(){if(this._closed)throw new r.InvalidStateError("closed");return new Promise((c,p)=>{this.safeEmit("@getstats",c,p)})}pause(){if(n.debug("pause()"),this._closed){n.error("pause() | Producer closed");return}this._paused=!0,this._track&&this._disableTrackOnPause&&(this._track.enabled=!1),this._zeroRtpOnPause&&new Promise((c,p)=>{this.safeEmit("@pause",c,p)}).catch(()=>{}),this._observer.safeEmit("pause")}resume(){if(n.debug("resume()"),this._closed){n.error("resume() | Producer closed");return}this._paused=!1,this._track&&this._disableTrackOnPause&&(this._track.enabled=!0),this._zeroRtpOnPause&&new Promise((c,p)=>{this.safeEmit("@resume",c,p)}).catch(()=>{}),this._observer.safeEmit("resume")}async replaceTrack({track:c}){if(n.debug("replaceTrack() [track:%o]",c),this._closed){if(c&&this._stopTracks)try{c.stop()}catch{}throw new r.InvalidStateError("closed")}else if((c==null?void 0:c.readyState)==="ended")throw new r.InvalidStateError("track ended");if(c===this._track){n.debug("replaceTrack() | same track, ignored");return}await new Promise((p,h)=>{this.safeEmit("@replacetrack",c,p,h)}),this.destroyTrack(),this._track=c,this._track&&this._disableTrackOnPause&&(this._paused?this._paused&&(this._track.enabled=!1):this._track.enabled=!0),this.handleTrack()}async setMaxSpatialLayer(c){if(this._closed)throw new r.InvalidStateError("closed");if(this._kind!=="video")throw new r.UnsupportedError("not a video Producer");if(typeof c!="number")throw new TypeError("invalid spatialLayer");c!==this._maxSpatialLayer&&(await new Promise((p,h)=>{this.safeEmit("@setmaxspatiallayer",c,p,h)}).catch(()=>{}),this._maxSpatialLayer=c)}async setRtpEncodingParameters(c){if(this._closed)throw new r.InvalidStateError("closed");if(typeof c!="object")throw new TypeError("invalid params");await new Promise((p,h)=>{this.safeEmit("@setrtpencodingparameters",c,p,h)})}onTrackEnded(){n.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}handleTrack(){this._track&&this._track.addEventListener("ended",this.onTrackEnded)}destroyTrack(){if(this._track)try{this._track.removeEventListener("ended",this.onTrackEnded),this._stopTracks&&this._track.stop()}catch{}}};return Rp.Producer=a,Rp}var Op={},R4;function tEe(){if(R4)return Op;R4=1,Object.defineProperty(Op,"__esModule",{value:!0}),Op.Consumer=void 0;const e=xa(),t=Fa(),r=Vi(),n=new e.Logger("Consumer");let a=class extends t.EnhancedEventEmitter{constructor({id:c,localId:p,producerId:h,rtpReceiver:f,track:m,rtpParameters:b,appData:_}){super();Y(this,"_id");Y(this,"_localId");Y(this,"_producerId");Y(this,"_closed",!1);Y(this,"_rtpReceiver");Y(this,"_track");Y(this,"_rtpParameters");Y(this,"_paused");Y(this,"_appData");Y(this,"_observer",new t.EnhancedEventEmitter);n.debug("constructor()"),this._id=c,this._localId=p,this._producerId=h,this._rtpReceiver=f,this._track=m,this._rtpParameters=b,this._paused=!m.enabled,this._appData=_??{},this.onTrackEnded=this.onTrackEnded.bind(this),this.handleTrack()}get id(){return this._id}get localId(){return this._localId}get producerId(){return this._producerId}get closed(){return this._closed}get kind(){return this._track.kind}get rtpReceiver(){return this._rtpReceiver}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get appData(){return this._appData}set appData(c){this._appData=c}get observer(){return this._observer}close(){this._closed||(n.debug("close()"),this._closed=!0,this.destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"),super.close(),this._observer.close())}transportClosed(){this._closed||(n.debug("transportClosed()"),this._closed=!0,this.destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}async getStats(){if(this._closed)throw new r.InvalidStateError("closed");return new Promise((c,p)=>{this.safeEmit("@getstats",c,p)})}pause(){if(n.debug("pause()"),this._closed){n.error("pause() | Consumer closed");return}if(this._paused){n.debug("pause() | Consumer is already paused");return}this._paused=!0,this._track.enabled=!1,this.emit("@pause"),this._observer.safeEmit("pause")}resume(){if(n.debug("resume()"),this._closed){n.error("resume() | Consumer closed");return}if(!this._paused){n.debug("resume() | Consumer is already resumed");return}this._paused=!1,this._track.enabled=!0,this.emit("@resume"),this._observer.safeEmit("resume")}onTrackEnded(){n.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}handleTrack(){this._track.addEventListener("ended",this.onTrackEnded)}destroyTrack(){try{this._track.removeEventListener("ended",this.onTrackEnded),this._track.stop()}catch{}}};return Op.Consumer=a,Op}var Dp={},O4;function rEe(){if(O4)return Dp;O4=1,Object.defineProperty(Dp,"__esModule",{value:!0}),Dp.DataProducer=void 0;const e=xa(),t=Fa(),r=Vi(),n=new e.Logger("DataProducer");let a=class extends t.EnhancedEventEmitter{constructor({id:c,dataChannel:p,sctpStreamParameters:h,appData:f}){super();Y(this,"_id");Y(this,"_dataChannel");Y(this,"_closed",!1);Y(this,"_sctpStreamParameters");Y(this,"_appData");Y(this,"_observer",new t.EnhancedEventEmitter);n.debug("constructor()"),this._id=c,this._dataChannel=p,this._sctpStreamParameters=h,this._appData=f??{},this.handleDataChannel()}get id(){return this._id}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get bufferedAmount(){return this._dataChannel.bufferedAmount}get bufferedAmountLowThreshold(){return this._dataChannel.bufferedAmountLowThreshold}set bufferedAmountLowThreshold(c){this._dataChannel.bufferedAmountLowThreshold=c}get appData(){return this._appData}set appData(c){this._appData=c}get observer(){return this._observer}close(){this._closed||(n.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"),super.close(),this._observer.close())}transportClosed(){this._closed||(n.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}send(c){if(n.debug("send()"),this._closed)throw new r.InvalidStateError("closed");this._dataChannel.send(c)}handleDataChannel(){this._dataChannel.addEventListener("open",()=>{this._closed||(n.debug('DataChannel "open" event'),this.safeEmit("open"))}),this._dataChannel.addEventListener("error",c=>{var h,f;if(this._closed)return;const p=c.error??new Error("unknown DataChannel error");((h=c.error)==null?void 0:h.errorDetail)==="sctp-failure"?n.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",(f=c.error)==null?void 0:f.sctpCauseCode,c.error.message):n.error('DataChannel "error" event: %o',p),this.safeEmit("error",p)}),this._dataChannel.addEventListener("close",()=>{this._closed||(n.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"),this._observer.safeEmit("close"))}),this._dataChannel.addEventListener("message",()=>{this._closed||n.warn('DataChannel "message" event in a DataProducer, message discarded')}),this._dataChannel.addEventListener("bufferedamountlow",()=>{this._closed||this.safeEmit("bufferedamountlow")})}};return Dp.DataProducer=a,Dp}var Mp={},D4;function nEe(){if(D4)return Mp;D4=1,Object.defineProperty(Mp,"__esModule",{value:!0}),Mp.DataConsumer=void 0;const e=xa(),t=Fa(),r=new e.Logger("DataConsumer");let n=class extends t.EnhancedEventEmitter{constructor({id:u,dataProducerId:c,dataChannel:p,sctpStreamParameters:h,appData:f}){super();Y(this,"_id");Y(this,"_dataProducerId");Y(this,"_dataChannel");Y(this,"_closed",!1);Y(this,"_sctpStreamParameters");Y(this,"_appData");Y(this,"_observer",new t.EnhancedEventEmitter);r.debug("constructor()"),this._id=u,this._dataProducerId=c,this._dataChannel=p,this._sctpStreamParameters=h,this._appData=f??{},this.handleDataChannel()}get id(){return this._id}get dataProducerId(){return this._dataProducerId}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get binaryType(){return this._dataChannel.binaryType}set binaryType(u){this._dataChannel.binaryType=u}get appData(){return this._appData}set appData(u){this._appData=u}get observer(){return this._observer}close(){this._closed||(r.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"),super.close(),this._observer.close())}transportClosed(){this._closed||(r.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}handleDataChannel(){this._dataChannel.addEventListener("open",()=>{this._closed||(r.debug('DataChannel "open" event'),this.safeEmit("open"))}),this._dataChannel.addEventListener("error",u=>{var p,h;if(this._closed)return;const c=u.error??new Error("unknown DataChannel error");((p=u.error)==null?void 0:p.errorDetail)==="sctp-failure"?r.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",(h=u.error)==null?void 0:h.sctpCauseCode,u.error.message):r.error('DataChannel "error" event: %o',c),this.safeEmit("error",c)}),this._dataChannel.addEventListener("close",()=>{this._closed||(r.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"),this._observer.safeEmit("close"))}),this._dataChannel.addEventListener("message",u=>{this._closed||this.safeEmit("message",u.data)})}};return Mp.DataConsumer=n,Mp}var M4;function aEe(){if(M4)return Tp;M4=1,Object.defineProperty(Tp,"__esModule",{value:!0}),Tp.Transport=void 0;const e=JNe(),t=xa(),r=Fa(),n=Vi(),a=mf(),o=Wo(),u=eEe(),c=tEe(),p=rEe(),h=nEe(),f=new t.Logger("Transport");class m{constructor(j){Y(this,"consumerOptions");Y(this,"promise");Y(this,"resolve");Y(this,"reject");this.consumerOptions=j,this.promise=new Promise((w,y)=>{this.resolve=w,this.reject=y})}}let b=class extends r.EnhancedEventEmitter{constructor({direction:w,id:y,iceParameters:x,iceCandidates:S,dtlsParameters:T,sctpParameters:N,iceServers:A,iceTransportPolicy:P,additionalSettings:k,appData:R,handlerFactory:D,getSendExtendedRtpCapabilities:I,recvRtpCapabilities:q,canProduceByKind:z}){super();Y(this,"_id");Y(this,"_closed",!1);Y(this,"_direction");Y(this,"_getSendExtendedRtpCapabilities");Y(this,"_recvRtpCapabilities");Y(this,"_canProduceByKind");Y(this,"_maxSctpMessageSize");Y(this,"_handler");Y(this,"_iceGatheringState","new");Y(this,"_connectionState","new");Y(this,"_appData");Y(this,"_producers",new Map);Y(this,"_consumers",new Map);Y(this,"_dataProducers",new Map);Y(this,"_dataConsumers",new Map);Y(this,"_probatorConsumerCreated",!1);Y(this,"_awaitQueue",new e.AwaitQueue);Y(this,"_pendingConsumerTasks",[]);Y(this,"_consumerCreationInProgress",!1);Y(this,"_pendingPauseConsumers",new Map);Y(this,"_consumerPauseInProgress",!1);Y(this,"_pendingResumeConsumers",new Map);Y(this,"_consumerResumeInProgress",!1);Y(this,"_pendingCloseConsumers",new Map);Y(this,"_consumerCloseInProgress",!1);Y(this,"_observer",new r.EnhancedEventEmitter);f.debug("constructor() [id:%s, direction:%s]",y,w),this._id=y,this._direction=w,this._getSendExtendedRtpCapabilities=I,this._recvRtpCapabilities=q,this._canProduceByKind=z,this._maxSctpMessageSize=N?N.maxMessageSize:null;const M=a.clone(k)??{};delete M.iceServers,delete M.iceTransportPolicy,delete M.bundlePolicy,delete M.rtcpMuxPolicy,this._handler=D.factory({direction:w,iceParameters:x,iceCandidates:S,dtlsParameters:T,sctpParameters:N,iceServers:A,iceTransportPolicy:P,additionalSettings:M,getSendExtendedRtpCapabilities:this._getSendExtendedRtpCapabilities}),this._appData=R??{},this.handleHandler()}get id(){return this._id}get closed(){return this._closed}get direction(){return this._direction}get handler(){return this._handler}get iceGatheringState(){return this._iceGatheringState}get connectionState(){return this._connectionState}get appData(){return this._appData}set appData(w){this._appData=w}get observer(){return this._observer}close(){if(!this._closed){f.debug("close()"),this._closed=!0,this._awaitQueue.stop(),this._handler.close(),this._connectionState="closed";for(const w of this._producers.values())w.transportClosed();this._producers.clear();for(const w of this._consumers.values())w.transportClosed();this._consumers.clear();for(const w of this._dataProducers.values())w.transportClosed();this._dataProducers.clear();for(const w of this._dataConsumers.values())w.transportClosed();this._dataConsumers.clear(),this._observer.safeEmit("close"),super.close(),this._observer.close()}}async getStats(){if(this._closed)throw new n.InvalidStateError("closed");return this._handler.getTransportStats()}async restartIce({iceParameters:w}){if(f.debug("restartIce()"),this._closed)throw new n.InvalidStateError("closed");if(!w)throw new TypeError("missing iceParameters");return this._awaitQueue.push(async()=>await this._handler.restartIce(w),"transport.restartIce()")}async updateIceServers({iceServers:w}={}){if(f.debug("updateIceServers()"),this._closed)throw new n.InvalidStateError("closed");if(!Array.isArray(w))throw new TypeError("missing iceServers");return this._awaitQueue.push(async()=>this._handler.updateIceServers(w),"transport.updateIceServers()")}async produce({track:w,streamId:y,encodings:x,codecOptions:S,headerExtensionOptions:T,codec:N,stopTracks:A=!0,disableTrackOnPause:P=!0,zeroRtpOnPause:k=!1,onRtpSender:R,appData:D={}}={}){if(f.debug("produce() [track:%o]",w),this._closed)throw new n.InvalidStateError("closed");if(w){if(this._direction!=="send")throw new n.UnsupportedError("not a sending Transport");if(this._canProduceByKind[w.kind]){if(w.readyState==="ended")throw new n.InvalidStateError("track ended");if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(this.listenerCount("produce")===0)throw new TypeError('no "produce" listener set into this transport');if(D&&typeof D!="object")throw new TypeError("if given, appData must be an object")}else throw new n.UnsupportedError(`cannot produce ${w.kind}`)}else throw new TypeError("missing track");return this._awaitQueue.push(async()=>{let I;if(x&&!Array.isArray(x))throw TypeError("encodings must be an array");(x==null?void 0:x.length)===0?I=void 0:x&&(I=x.map(F=>{const B={active:!0};return F.active===!1&&(B.active=!1),typeof F.dtx=="boolean"&&(B.dtx=F.dtx),typeof F.scalabilityMode=="string"&&(B.scalabilityMode=F.scalabilityMode),typeof F.scaleResolutionDownBy=="number"&&(B.scaleResolutionDownBy=F.scaleResolutionDownBy),typeof F.maxBitrate=="number"&&(B.maxBitrate=F.maxBitrate),typeof F.maxFramerate=="number"&&(B.maxFramerate=F.maxFramerate),typeof F.adaptivePtime=="boolean"&&(B.adaptivePtime=F.adaptivePtime),typeof F.priority=="string"&&(B.priority=F.priority),typeof F.networkPriority=="string"&&(B.networkPriority=F.networkPriority),B}));const{localId:q,rtpParameters:z,rtpSender:M}=await this._handler.send({track:w,streamId:y,encodings:I,codecOptions:S,headerExtensionOptions:T,codec:N,onRtpSender:R});try{o.validateAndNormalizeRtpParameters(z);const{id:F}=await new Promise((O,$)=>{this.safeEmit("produce",{kind:w.kind,rtpParameters:z,appData:D},O,$)}),B=new u.Producer({id:F,localId:q,rtpSender:M,track:w,rtpParameters:z,stopTracks:A,disableTrackOnPause:P,zeroRtpOnPause:k,appData:D});return this._producers.set(B.id,B),this.handleProducer(B),this._observer.safeEmit("newproducer",B),B}catch(F){throw this._handler.stopSending(q).catch(()=>{}),F}},"transport.produce()").catch(I=>{if(A)try{w.stop()}catch{}throw I})}async consume({id:w,producerId:y,kind:x,rtpParameters:S,streamId:T,onRtpReceiver:N,appData:A={}}){if(f.debug("consume()"),this._closed)throw new n.InvalidStateError("closed");if(this._direction!=="recv")throw new n.UnsupportedError("not a receiving Transport");if(typeof w!="string")throw new TypeError("missing id");if(typeof y!="string")throw new TypeError("missing producerId");if(x!=="audio"&&x!=="video")throw new TypeError(`invalid kind '${x}'`);if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(A&&typeof A!="object")throw new TypeError("if given, appData must be an object");const P=a.clone(S);if(!o.canReceive(P,this._recvRtpCapabilities))throw new n.UnsupportedError("cannot consume this Producer");const R=new m({id:w,producerId:y,kind:x,rtpParameters:P,streamId:T,onRtpReceiver:N,appData:A});return this._pendingConsumerTasks.push(R),queueMicrotask(()=>{this._closed||this._consumerCreationInProgress===!1&&this.createPendingConsumers()}),R.promise}async produceData({ordered:w=!0,maxPacketLifeTime:y,maxRetransmits:x,label:S="",protocol:T="",appData:N={}}={}){if(f.debug("produceData()"),this._closed)throw new n.InvalidStateError("closed");if(this._direction!=="send")throw new n.UnsupportedError("not a sending Transport");if(this._maxSctpMessageSize){if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(this.listenerCount("producedata")===0)throw new TypeError('no "producedata" listener set into this transport');if(N&&typeof N!="object")throw new TypeError("if given, appData must be an object")}else throw new n.UnsupportedError("SCTP not enabled by remote Transport");return(y||x)&&(w=!1),this._awaitQueue.push(async()=>{const{dataChannel:A,sctpStreamParameters:P}=await this._handler.sendDataChannel({ordered:w,maxPacketLifeTime:y,maxRetransmits:x,label:S,protocol:T});o.validateAndNormalizeSctpStreamParameters(P);const{id:k}=await new Promise((D,I)=>{this.safeEmit("producedata",{sctpStreamParameters:P,label:S,protocol:T,appData:N},D,I)}),R=new p.DataProducer({id:k,dataChannel:A,sctpStreamParameters:P,appData:N});return this._dataProducers.set(R.id,R),this.handleDataProducer(R),this._observer.safeEmit("newdataproducer",R),R},"transport.produceData()")}async consumeData({id:w,dataProducerId:y,sctpStreamParameters:x,label:S="",protocol:T="",appData:N={}}){if(f.debug("consumeData()"),this._closed)throw new n.InvalidStateError("closed");if(this._direction!=="recv")throw new n.UnsupportedError("not a receiving Transport");if(this._maxSctpMessageSize){if(typeof w!="string")throw new TypeError("missing id");if(typeof y!="string")throw new TypeError("missing dataProducerId");if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(N&&typeof N!="object")throw new TypeError("if given, appData must be an object")}else throw new n.UnsupportedError("SCTP not enabled by remote Transport");const A=a.clone(x);return o.validateAndNormalizeSctpStreamParameters(A),this._awaitQueue.push(async()=>{const{dataChannel:P}=await this._handler.receiveDataChannel({sctpStreamParameters:A,label:S,protocol:T}),k=new h.DataConsumer({id:w,dataProducerId:y,dataChannel:P,sctpStreamParameters:A,appData:N});return this._dataConsumers.set(k.id,k),this.handleDataConsumer(k),this._observer.safeEmit("newdataconsumer",k),k},"transport.consumeData()")}createPendingConsumers(){this._consumerCreationInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingConsumerTasks.length===0){f.debug("createPendingConsumers() | there is no Consumer to be created");return}const w=[...this._pendingConsumerTasks];this._pendingConsumerTasks=[];let y;const x=[];for(const S of w){const{id:T,kind:N,rtpParameters:A,streamId:P,onRtpReceiver:k}=S.consumerOptions;x.push({trackId:T,kind:N,rtpParameters:A,streamId:P,onRtpReceiver:k})}try{const S=await this._handler.receive(x);for(let T=0;T<S.length;++T){const N=w[T],A=S[T],{id:P,producerId:k,kind:R,rtpParameters:D,appData:I}=N.consumerOptions,{localId:q,rtpReceiver:z,track:M}=A,F=new c.Consumer({id:P,localId:q,producerId:k,rtpReceiver:z,track:M,rtpParameters:D,appData:I});this._consumers.set(F.id,F),this.handleConsumer(F),!this._probatorConsumerCreated&&!y&&R==="video"&&(y=F),this._observer.safeEmit("newconsumer",F),N.resolve(F)}}catch(S){for(const T of w)T.reject(S)}if(y)try{const S=o.generateProbatorRtpParameters(y.rtpParameters);await this._handler.receive([{trackId:"probator",kind:"video",rtpParameters:S}]),f.debug("createPendingConsumers() | Consumer for RTP probation created"),this._probatorConsumerCreated=!0}catch(S){f.error("createPendingConsumers() | failed to create Consumer for RTP probation:%o",S)}},"transport.createPendingConsumers()").then(()=>{this._consumerCreationInProgress=!1,this._pendingConsumerTasks.length>0&&this.createPendingConsumers()}).catch(()=>{})}pausePendingConsumers(){this._consumerPauseInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingPauseConsumers.size===0){f.debug("pausePendingConsumers() | there is no Consumer to be paused");return}const w=Array.from(this._pendingPauseConsumers.values());this._pendingPauseConsumers.clear();try{const y=w.map(x=>x.localId);await this._handler.pauseReceiving(y)}catch(y){f.error("pausePendingConsumers() | failed to pause Consumers:",y)}},"transport.pausePendingConsumers()").then(()=>{this._consumerPauseInProgress=!1,this._pendingPauseConsumers.size>0&&this.pausePendingConsumers()}).catch(()=>{})}resumePendingConsumers(){this._consumerResumeInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingResumeConsumers.size===0){f.debug("resumePendingConsumers() | there is no Consumer to be resumed");return}const w=Array.from(this._pendingResumeConsumers.values());this._pendingResumeConsumers.clear();try{const y=w.map(x=>x.localId);await this._handler.resumeReceiving(y)}catch(y){f.error("resumePendingConsumers() | failed to resume Consumers:",y)}},"transport.resumePendingConsumers()").then(()=>{this._consumerResumeInProgress=!1,this._pendingResumeConsumers.size>0&&this.resumePendingConsumers()}).catch(()=>{})}closePendingConsumers(){this._consumerCloseInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingCloseConsumers.size===0){f.debug("closePendingConsumers() | there is no Consumer to be closed");return}const w=Array.from(this._pendingCloseConsumers.values());this._pendingCloseConsumers.clear();try{await this._handler.stopReceiving(w.map(y=>y.localId))}catch(y){f.error("closePendingConsumers() | failed to close Consumers:",y)}},"transport.closePendingConsumers()").then(()=>{this._consumerCloseInProgress=!1,this._pendingCloseConsumers.size>0&&this.closePendingConsumers()}).catch(()=>{})}handleHandler(){const w=this._handler;w.on("@connect",({dtlsParameters:y},x,S)=>{if(this._closed){S(new n.InvalidStateError("closed"));return}this.safeEmit("connect",{dtlsParameters:y},x,S)}),w.on("@icegatheringstatechange",y=>{y!==this._iceGatheringState&&(f.debug("ICE gathering state changed to %s",y),this._iceGatheringState=y,this._closed||this.safeEmit("icegatheringstatechange",y))}),w.on("@icecandidateerror",y=>{f.warn(`ICE candidate error [url:${y.url}, localAddress:${y.address}, localPort:${y.port}]: ${y.errorCode} "${y.errorText}"`),this.safeEmit("icecandidateerror",y)}),w.on("@connectionstatechange",y=>{y!==this._connectionState&&(f.debug("connection state changed to %s",y),this._connectionState=y,this._closed||this.safeEmit("connectionstatechange",y))})}handleProducer(w){w.on("@close",()=>{this._producers.delete(w.id),!this._closed&&this._awaitQueue.push(async()=>await this._handler.stopSending(w.localId),"producer @close event").catch(y=>f.warn("producer.close() failed:%o",y))}),w.on("@pause",(y,x)=>{this._awaitQueue.push(async()=>await this._handler.pauseSending(w.localId),"producer @pause event").then(y).catch(x)}),w.on("@resume",(y,x)=>{this._awaitQueue.push(async()=>await this._handler.resumeSending(w.localId),"producer @resume event").then(y).catch(x)}),w.on("@replacetrack",(y,x,S)=>{this._awaitQueue.push(async()=>await this._handler.replaceTrack(w.localId,y),"producer @replacetrack event").then(x).catch(S)}),w.on("@setmaxspatiallayer",(y,x,S)=>{this._awaitQueue.push(async()=>await this._handler.setMaxSpatialLayer(w.localId,y),"producer @setmaxspatiallayer event").then(x).catch(S)}),w.on("@setrtpencodingparameters",(y,x,S)=>{this._awaitQueue.push(async()=>await this._handler.setRtpEncodingParameters(w.localId,y),"producer @setrtpencodingparameters event").then(x).catch(S)}),w.on("@getstats",(y,x)=>{if(this._closed)return x(new n.InvalidStateError("closed"));this._handler.getSenderStats(w.localId).then(y).catch(x)})}handleConsumer(w){w.on("@close",()=>{this._consumers.delete(w.id),this._pendingPauseConsumers.delete(w.id),this._pendingResumeConsumers.delete(w.id),!this._closed&&(this._pendingCloseConsumers.set(w.id,w),this._consumerCloseInProgress===!1&&this.closePendingConsumers())}),w.on("@pause",()=>{this._pendingResumeConsumers.has(w.id)&&this._pendingResumeConsumers.delete(w.id),this._pendingPauseConsumers.set(w.id,w),queueMicrotask(()=>{this._closed||this._consumerPauseInProgress===!1&&this.pausePendingConsumers()})}),w.on("@resume",()=>{this._pendingPauseConsumers.has(w.id)&&this._pendingPauseConsumers.delete(w.id),this._pendingResumeConsumers.set(w.id,w),queueMicrotask(()=>{this._closed||this._consumerResumeInProgress===!1&&this.resumePendingConsumers()})}),w.on("@getstats",(y,x)=>{if(this._closed)return x(new n.InvalidStateError("closed"));this._handler.getReceiverStats(w.localId).then(y).catch(x)})}handleDataProducer(w){w.on("@close",()=>{this._dataProducers.delete(w.id)})}handleDataConsumer(w){w.on("@close",()=>{this._dataConsumers.delete(w.id)})}};return Tp.Transport=b,Tp}var Lp={},Ri={},$w={},Bw={exports:{}},L4;function l2(){if(L4)return Bw.exports;L4=1;var e=Bw.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(t){return t.encoding?"rtpmap:%d %s/%s/%s":t.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(t){return t.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(t){return t.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(t){return"extmap:%d"+(t.direction?"/%s":"%v")+(t["encrypt-uri"]?" %s":"%v")+" %s"+(t.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(t){return t.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{push:"msid",reg:/^msid:([\w-]+)(?: ([\w-]+))?/,names:["id","appdata"],format:"msid:%s %s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(t){var r="candidate:%s %d %s %d %s %d typ %s";return r+=t.raddr!=null?" raddr %s rport %d":"%v%v",r+=t.tcptype!=null?" tcptype %s":"%v",t.generation!=null&&(r+=" generation %d"),r+=t["network-id"]!=null?" network-id %d":"%v",r+=t["network-cost"]!=null?" network-cost %d":"%v",r}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(t){var r="ssrc:%d";return t.attribute!=null&&(r+=" %s",t.value!=null&&(r+=":%s")),r}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(t){return t.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(t){return t.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(t){return"imageattr:%s %s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(t){return"simulcast:%s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(t){return"ts-refclk:%s"+(t.clksrcExt!=null?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(t){var r="mediaclk:";return r+=t.id!=null?"id=%s %s":"%v%s",r+=t.mediaClockValue!=null?"=%s":"",r+=t.rateNumerator!=null?" rate=%s":"",r+=t.rateDenominator!=null?"/%s":"",r}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};return Object.keys(e).forEach(function(t){var r=e[t];r.forEach(function(n){n.reg||(n.reg=/(.*)/),n.format||(n.format="%s")})}),Bw.exports}var I4;function iEe(){return I4||(I4=1,(function(e){var t=function(c){return String(Number(c))===c?Number(c):c},r=function(c,p,h,f){if(f&&!h)p[f]=t(c[1]);else for(var m=0;m<h.length;m+=1)c[m+1]!=null&&(p[h[m]]=t(c[m+1]))},n=function(c,p,h){var f=c.name&&c.names;c.push&&!p[c.push]?p[c.push]=[]:f&&!p[c.name]&&(p[c.name]={});var m=c.push?{}:f?p[c.name]:p;r(h.match(c.reg),m,c.names,c.name),c.push&&p[c.push].push(m)},a=l2(),o=RegExp.prototype.test.bind(/^([a-z])=(.*)/);e.parse=function(c){var p={},h=[],f=p;return c.split(/(\r\n|\r|\n)/).filter(o).forEach(function(m){var b=m[0],_=m.slice(2);b==="m"&&(h.push({rtp:[],fmtp:[]}),f=h[h.length-1]);for(var j=0;j<(a[b]||[]).length;j+=1){var w=a[b][j];if(w.reg.test(_))return n(w,f,_)}}),p.media=h,p};var u=function(c,p){var h=p.split(/=(.+)/,2);return h.length===2?c[h[0]]=t(h[1]):h.length===1&&p.length>1&&(c[h[0]]=void 0),c};e.parseParams=function(c){return c.split(/;\s?/).reduce(u,{})},e.parseFmtpConfig=e.parseParams,e.parsePayloads=function(c){return c.toString().split(" ").map(Number)},e.parseRemoteCandidates=function(c){for(var p=[],h=c.split(" ").map(t),f=0;f<h.length;f+=3)p.push({component:h[f],ip:h[f+1],port:h[f+2]});return p},e.parseImageAttributes=function(c){return c.split(" ").map(function(p){return p.substring(1,p.length-1).split(",").reduce(u,{})})},e.parseSimulcastStreamList=function(c){return c.split(";").map(function(p){return p.split(",").map(function(h){var f,m=!1;return h[0]!=="~"?f=t(h):(f=t(h.substring(1,h.length)),m=!0),{scid:f,paused:m}})})}})($w)),$w}var zw,$4;function sEe(){if($4)return zw;$4=1;var e=l2(),t=/%[sdv%]/g,r=function(u){var c=1,p=arguments,h=p.length;return u.replace(t,function(f){if(c>=h)return f;var m=p[c];switch(c+=1,f){case"%%":return"%";case"%s":return String(m);case"%d":return Number(m);case"%v":return""}})},n=function(u,c,p){var h=c.format instanceof Function?c.format(c.push?p:p[c.name]):c.format,f=[u+"="+h];if(c.names)for(var m=0;m<c.names.length;m+=1){var b=c.names[m];c.name?f.push(p[c.name][b]):f.push(p[c.names[m]])}else f.push(p[c.name]);return r.apply(null,f)},a=["v","o","s","i","u","e","p","c","b","t","r","z","a"],o=["i","c","b","a"];return zw=function(u,c){c=c||{},u.version==null&&(u.version=0),u.name==null&&(u.name=" "),u.media.forEach(function(m){m.payloads==null&&(m.payloads="")});var p=c.outerOrder||a,h=c.innerOrder||o,f=[];return p.forEach(function(m){e[m].forEach(function(b){b.name in u&&u[b.name]!=null?f.push(n(m,b,u)):b.push in u&&u[b.push]!=null&&u[b.push].forEach(function(_){f.push(n(m,b,_))})})}),u.media.forEach(function(m){f.push(n("m",e.m[0],m)),h.forEach(function(b){e[b].forEach(function(_){_.name in m&&m[_.name]!=null?f.push(n(b,_,m)):_.push in m&&m[_.push]!=null&&m[_.push].forEach(function(j){f.push(n(b,_,j))})})})}),f.join(`\r
`)+`\r
`},zw}var B4;function Jl(){if(B4)return Ri;B4=1;var e=iEe(),t=sEe(),r=l2();return Ri.grammar=r,Ri.write=t,Ri.parse=e.parse,Ri.parseParams=e.parseParams,Ri.parseFmtpConfig=e.parseFmtpConfig,Ri.parsePayloads=e.parsePayloads,Ri.parseRemoteCandidates=e.parseRemoteCandidates,Ri.parseImageAttributes=e.parseImageAttributes,Ri.parseSimulcastStreamList=e.parseSimulcastStreamList,Ri}var hv={},z4;function gf(){if(z4)return hv;z4=1,Object.defineProperty(hv,"__esModule",{value:!0}),hv.parse=t;const e=new RegExp("^[LS]([1-9]\\d{0,1})T([1-9]\\d{0,1})");function t(r){const n=e.exec(r??"");return n?{spatialLayers:Number(n[1]),temporalLayers:Number(n[2])}:{spatialLayers:1,temporalLayers:1}}return hv}var Ip={},lo={},F4;function oEe(){if(F4)return lo;F4=1,Object.defineProperty(lo,"__esModule",{value:!0}),lo.OfferMediaSection=lo.AnswerMediaSection=lo.MediaSection=void 0;const e=Jl(),t=mf();let r=class{constructor({iceParameters:c,iceCandidates:p,dtlsParameters:h}){Y(this,"_mediaObject");if(this._mediaObject={type:"",port:0,protocol:"",payloads:"",rtp:[],fmtp:[]},c&&this.setIceParameters(c),p){this._mediaObject.candidates=[];for(const f of p){const m={foundation:f.foundation,component:1,ip:f.address??f.ip,port:f.port,priority:f.priority,transport:f.protocol,type:f.type};f.tcpType&&(m.tcptype=f.tcpType),this._mediaObject.candidates.push(m)}this._mediaObject.endOfCandidates="end-of-candidates",this._mediaObject.iceOptions="renomination"}h&&this.setDtlsRole(h.role)}get mid(){return String(this._mediaObject.mid)}get closed(){return this._mediaObject.port===0}getObject(){return this._mediaObject}setIceParameters(c){this._mediaObject.iceUfrag=c.usernameFragment,this._mediaObject.icePwd=c.password}pause(){this._mediaObject.direction="inactive"}disable(){this.pause()}close(){this.disable(),this._mediaObject.port=0,delete this._mediaObject.candidates,delete this._mediaObject.endOfCandidates,delete this._mediaObject.iceUfrag,delete this._mediaObject.icePwd,delete this._mediaObject.iceOptions,this._mediaObject.rtp=[],this._mediaObject.fmtp=[],delete this._mediaObject.rtcp,delete this._mediaObject.rtcpFb,delete this._mediaObject.ssrcs,delete this._mediaObject.ssrcGroups,delete this._mediaObject.simulcast,delete this._mediaObject.simulcast_03,delete this._mediaObject.rids,delete this._mediaObject.extmapAllowMixed}};lo.MediaSection=r;class n extends r{constructor({iceParameters:c,iceCandidates:p,dtlsParameters:h,sctpParameters:f,plainRtpParameters:m,offerMediaObject:b,offerRtpParameters:_,answerRtpParameters:j,codecOptions:w}){switch(super({iceParameters:c,iceCandidates:p,dtlsParameters:h}),this._mediaObject.mid=String(b.mid),this._mediaObject.type=b.type,this._mediaObject.protocol=b.protocol,m?(this._mediaObject.connection={ip:m.ip,version:m.ipVersion},this._mediaObject.port=m.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},this._mediaObject.port=7),b.type){case"audio":case"video":{this._mediaObject.direction="recvonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[];for(const y of j.codecs){const x={payload:y.payloadType,codec:o(y),rate:y.clockRate};y.channels>1&&(x.encoding=y.channels),this._mediaObject.rtp.push(x);const S=t.clone(y.parameters)??{};let T=t.clone(y.rtcpFeedback)??[];if(w){const{opusStereo:A,opusFec:P,opusDtx:k,opusMaxPlaybackRate:R,opusMaxAverageBitrate:D,opusPtime:I,opusNack:q,videoGoogleStartBitrate:z,videoGoogleMaxBitrate:M,videoGoogleMinBitrate:F}=w,B=_.codecs.find(O=>O.payloadType===y.payloadType);switch(y.mimeType.toLowerCase()){case"audio/opus":case"audio/multiopus":{A!==void 0&&(B.parameters["sprop-stereo"]=A?1:0,S.stereo=A?1:0),P!==void 0&&(B.parameters.useinbandfec=P?1:0,S.useinbandfec=P?1:0),k!==void 0&&(B.parameters.usedtx=k?1:0,S.usedtx=k?1:0),R!==void 0&&(S.maxplaybackrate=R),D!==void 0&&(S.maxaveragebitrate=D),I!==void 0&&(B.parameters.ptime=I,S.ptime=I),q||(B.rtcpFeedback=B.rtcpFeedback.filter(O=>O.type!=="nack"||O.parameter),T=T.filter(O=>O.type!=="nack"||O.parameter));break}case"video/vp8":case"video/vp9":case"video/h264":case"video/h265":case"video/av1":{z!==void 0&&(S["x-google-start-bitrate"]=z),M!==void 0&&(S["x-google-max-bitrate"]=M),F!==void 0&&(S["x-google-min-bitrate"]=F);break}}}const N={payload:y.payloadType,config:""};for(const A of Object.keys(S))N.config&&(N.config+=";"),N.config+=`${A}=${S[A]}`;N.config&&this._mediaObject.fmtp.push(N);for(const A of T)this._mediaObject.rtcpFb.push({payload:y.payloadType,type:A.type,subtype:A.parameter})}this._mediaObject.payloads=j.codecs.map(y=>y.payloadType).join(" "),this._mediaObject.ext=[];for(const y of j.headerExtensions)(b.ext??[]).some(S=>S.uri===y.uri)&&this._mediaObject.ext.push({uri:y.uri,value:y.id});if(b.extmapAllowMixed==="extmap-allow-mixed"&&(this._mediaObject.extmapAllowMixed="extmap-allow-mixed"),b.simulcast){this._mediaObject.simulcast={dir1:"recv",list1:b.simulcast.list1},this._mediaObject.rids=[];for(const y of b.rids??[])y.direction==="send"&&this._mediaObject.rids.push({id:y.id,direction:"recv"})}else if(b.simulcast_03){this._mediaObject.simulcast_03={value:b.simulcast_03.value.replace(/send/g,"recv")},this._mediaObject.rids=[];for(const y of b.rids??[])y.direction==="send"&&this._mediaObject.rids.push({id:y.id,direction:"recv"})}this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize";break}case"application":{typeof b.sctpPort=="number"?(this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=f.port,this._mediaObject.maxMessageSize=f.maxMessageSize):b.sctpmap&&(this._mediaObject.payloads=String(f.port),this._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:f.port,maxMessageSize:f.maxMessageSize});break}}}setDtlsRole(c){switch(c){case"client":{this._mediaObject.setup="active";break}case"server":{this._mediaObject.setup="passive";break}case"auto":{this._mediaObject.setup="actpass";break}}}resume(){this._mediaObject.direction="recvonly"}muxSimulcastStreams(c){var m,b;if(!((m=this._mediaObject.simulcast)!=null&&m.list1))return;const p={};for(const _ of c)_.rid&&(p[_.rid]=_);const h=this._mediaObject.simulcast.list1,f=e.parseSimulcastStreamList(h);for(const _ of f)for(const j of _)j.paused=!((b=p[j.scid])!=null&&b.active);this._mediaObject.simulcast.list1=f.map(_=>_.map(j=>`${j.paused?"~":""}${j.scid}`).join(",")).join(";")}}lo.AnswerMediaSection=n;class a extends r{constructor({iceParameters:c,iceCandidates:p,dtlsParameters:h,sctpParameters:f,plainRtpParameters:m,mid:b,kind:_,offerRtpParameters:j,streamId:w,trackId:y}){var x;switch(super({iceParameters:c,iceCandidates:p,dtlsParameters:h}),this._mediaObject.mid=String(b),this._mediaObject.type=_,m?(this._mediaObject.connection={ip:m.ip,version:m.ipVersion},this._mediaObject.protocol="RTP/AVP",this._mediaObject.port=m.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},f?this._mediaObject.protocol="UDP/DTLS/SCTP":this._mediaObject.protocol="UDP/TLS/RTP/SAVPF",this._mediaObject.port=7),this._mediaObject.extmapAllowMixed="extmap-allow-mixed",_){case"audio":case"video":{this._mediaObject.direction="sendonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[],this._mediaObject.msid=[{id:w,appdata:y}];for(const A of j.codecs){const P={payload:A.payloadType,codec:o(A),rate:A.clockRate};A.channels>1&&(P.encoding=A.channels),this._mediaObject.rtp.push(P);const k={payload:A.payloadType,config:""};for(const R of Object.keys(A.parameters??{}))k.config&&(k.config+=";"),k.config+=`${R}=${A.parameters[R]}`;k.config&&this._mediaObject.fmtp.push(k);for(const R of A.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:A.payloadType,type:R.type,subtype:R.parameter})}this._mediaObject.payloads=j.codecs.map(A=>A.payloadType).join(" "),this._mediaObject.ext=[];for(const A of j.headerExtensions)this._mediaObject.ext.push({uri:A.uri,value:A.id});this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize";const S=j.encodings[0],T=S.ssrc,N=(x=S.rtx)==null?void 0:x.ssrc;this._mediaObject.ssrcs=[],this._mediaObject.ssrcGroups=[],T&&j.rtcp.cname&&this._mediaObject.ssrcs.push({id:T,attribute:"cname",value:j.rtcp.cname}),N&&(j.rtcp.cname&&this._mediaObject.ssrcs.push({id:N,attribute:"cname",value:j.rtcp.cname}),T&&this._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:`${T} ${N}`}));break}case"application":{this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=f.port,this._mediaObject.maxMessageSize=f.maxMessageSize;break}}}setDtlsRole(c){this._mediaObject.setup="actpass"}resume(){this._mediaObject.direction="sendonly"}}lo.OfferMediaSection=a;function o(u){const p=new RegExp("^(audio|video)/(.+)","i").exec(u.mimeType);if(!p)throw new TypeError("invalid codec.mimeType");return p[2]}return lo}var q4;function bm(){if(q4)return Ip;q4=1,Object.defineProperty(Ip,"__esModule",{value:!0}),Ip.RemoteSdp=void 0;const e=Jl(),t=xa(),r=oEe(),n=D7(),a=["av1","h264"],o=new t.Logger("RemoteSdp");let u=class{constructor({iceParameters:p,iceCandidates:h,dtlsParameters:f,sctpParameters:m,plainRtpParameters:b}){Y(this,"_iceParameters");Y(this,"_iceCandidates");Y(this,"_dtlsParameters");Y(this,"_sctpParameters");Y(this,"_plainRtpParameters");Y(this,"_mediaSections",[]);Y(this,"_midToIndex",new Map);Y(this,"_firstMid");Y(this,"_sdpObject");if(this._iceParameters=p,this._iceCandidates=h,this._dtlsParameters=f,this._sctpParameters=m,this._plainRtpParameters=b,this._sdpObject={version:0,origin:{address:"0.0.0.0",ipVer:4,netType:"IN",sessionId:"10000",sessionVersion:0,username:`mediasoup-client-v${n.version}`},name:"-",timing:{start:0,stop:0},media:[]},this._sdpObject.iceOptions="ice2",p!=null&&p.iceLite&&(this._sdpObject.icelite="ice-lite"),f){this._sdpObject.msidSemantic={semantic:"WMS",token:"*"};const _=this._dtlsParameters.fingerprints.length;this._sdpObject.fingerprint={type:f.fingerprints[_-1].algorithm,hash:f.fingerprints[_-1].value},this._sdpObject.groups=[{type:"BUNDLE",mids:""}]}b&&(this._sdpObject.origin.address=b.ip,this._sdpObject.origin.ipVer=b.ipVersion)}updateIceParameters(p){o.debug("updateIceParameters() [iceParameters:%o]",p),this._iceParameters=p,this._sdpObject.icelite=p.iceLite?"ice-lite":void 0;for(const h of this._mediaSections)h.setIceParameters(p)}updateDtlsRole(p){o.debug("updateDtlsRole() [role:%s]",p),this._dtlsParameters.role=p;for(const h of this._mediaSections)h.setDtlsRole(p)}setSessionExtmapAllowMixed(){o.debug("setSessionExtmapAllowMixed()"),this._sdpObject.extmapAllowMixed="extmap-allow-mixed"}getNextMediaSectionIdx(){for(let p=0;p<this._mediaSections.length;++p){const h=this._mediaSections[p];if(h.closed)return{idx:p,reuseMid:h.mid}}return{idx:this._mediaSections.length}}send({offerMediaObject:p,reuseMid:h,offerRtpParameters:f,answerRtpParameters:m,codecOptions:b}){var y;const _=new r.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,offerMediaObject:p,offerRtpParameters:f,answerRtpParameters:m,codecOptions:b}),j=_.getObject();j.rtp.find(x=>a.includes(x.codec.toLowerCase()))||(j.ext=(y=j.ext)==null?void 0:y.filter(x=>x.uri!=="https://aomediacodec.github.io/av1-rtp-spec/#dependency-descriptor-rtp-header-extension")),h?this.replaceMediaSection(_,h):this._midToIndex.has(_.mid)?this.replaceMediaSection(_):this.addMediaSection(_)}receive({mid:p,kind:h,offerRtpParameters:f,streamId:m,trackId:b}){this.setSessionExtmapAllowMixed();const _=new r.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,mid:p,kind:h,offerRtpParameters:f,streamId:m,trackId:b}),j=this._mediaSections.find(w=>w.closed);j?this.replaceMediaSection(_,j.mid):this.addMediaSection(_)}pauseMediaSection(p){this.findMediaSection(p).pause()}resumeSendingMediaSection(p){this.findMediaSection(p).resume()}resumeReceivingMediaSection(p){this.findMediaSection(p).resume()}disableMediaSection(p){this.findMediaSection(p).disable()}closeMediaSection(p){const h=this.findMediaSection(p);return p===this._firstMid?(o.debug("closeMediaSection() | cannot close first media section, disabling it instead [mid:%s]",p),this.disableMediaSection(p),!1):(h.close(),this.regenerateBundleMids(),!0)}muxMediaSectionSimulcast(p,h){const f=this.findMediaSection(p);f.muxSimulcastStreams(h),this.replaceMediaSection(f)}sendSctpAssociation({offerMediaObject:p}){const h=new r.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,offerMediaObject:p});this.addMediaSection(h)}receiveSctpAssociation(){const p=new r.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,mid:"datachannel",kind:"application"});this.addMediaSection(p)}getSdp(){return this._sdpObject.origin.sessionVersion++,e.write(this._sdpObject)}addMediaSection(p){this._firstMid||(this._firstMid=p.mid),this._mediaSections.push(p),this._midToIndex.set(p.mid,this._mediaSections.length-1),this._sdpObject.media.push(p.getObject()),this.regenerateBundleMids()}replaceMediaSection(p,h){if(typeof h=="string"){const f=this._midToIndex.get(h);if(f===void 0)throw new Error(`no media section found for reuseMid '${h}'`);const m=this._mediaSections[f];this._mediaSections[f]=p,this._midToIndex.delete(m.mid),this._midToIndex.set(p.mid,f),this._sdpObject.media[f]=p.getObject(),this.regenerateBundleMids()}else{const f=this._midToIndex.get(p.mid);if(f===void 0)throw new Error(`no media section found with mid '${p.mid}'`);this._mediaSections[f]=p,this._sdpObject.media[f]=p.getObject()}}findMediaSection(p){const h=this._midToIndex.get(p);if(h===void 0)throw new Error(`no media section found with mid '${p}'`);return this._mediaSections[h]}regenerateBundleMids(){this._dtlsParameters&&(this._sdpObject.groups[0].mids=this._mediaSections.filter(p=>!p.closed).map(p=>p.mid).join(" "))}};return Ip.RemoteSdp=u,Ip}var xl={},U4;function _m(){if(U4)return xl;U4=1,Object.defineProperty(xl,"__esModule",{value:!0}),xl.extractRtpCapabilities=t,xl.extractDtlsParameters=r,xl.getCname=n,xl.applyCodecParameters=a,xl.addHeaderExtension=o;const e=Jl();function t({sdpObject:u}){const c=new Map,p=new Map;for(const f of u.media){const m=f.type;switch(m){case"audio":case"video":break;default:continue}for(const b of f.rtp){const _={kind:m,mimeType:`${m}/${b.codec}`,preferredPayloadType:b.payload,clockRate:b.rate,channels:b.encoding,parameters:{},rtcpFeedback:[]};c.set(_.preferredPayloadType,_)}for(const b of f.fmtp??[]){const _=e.parseParams(b.config),j=c.get(b.payload);j&&(_!=null&&_.hasOwnProperty("profile-level-id")&&(_["profile-level-id"]=String(_["profile-level-id"])),j.parameters=_)}for(const b of f.rtcpFb??[]){const _={type:b.type,parameter:b.subtype};if(_.parameter||delete _.parameter,b.payload!=="*"){const j=c.get(Number(b.payload));if(!j)continue;j.rtcpFeedback.push(_)}else for(const j of c.values())j.kind===m&&!/.+\/rtx$/i.test(j.mimeType)&&j.rtcpFeedback.push(_)}for(const b of f.ext??[]){if(b["encrypt-uri"])continue;const _={kind:m,uri:b.uri,preferredId:b.value};p.set(_.preferredId,_)}}return{codecs:Array.from(c.values()),headerExtensions:Array.from(p.values())}}function r({sdpObject:u}){let c=u.setup,p=u.fingerprint;if(!c||!p){const m=(u.media??[]).find(b=>b.port!==0);m&&(c=c??m.setup,p=p??m.fingerprint)}if(c){if(!p)throw new Error("no a=fingerprint found at SDP session or media level")}else throw new Error("no a=setup found at SDP session or media level");let h;switch(c){case"active":{h="client";break}case"passive":{h="server";break}case"actpass":{h="auto";break}}return{role:h,fingerprints:[{algorithm:p.type,value:p.hash}]}}function n({offerMediaObject:u}){const c=(u.ssrcs??[]).find(p=>p.attribute==="cname");return c?c.value:""}function a({offerRtpParameters:u,answerMediaObject:c}){var p;for(const h of u.codecs){const f=h.mimeType.toLowerCase();if(f!=="audio/opus"||!(c.rtp??[]).find(j=>j.payload===h.payloadType))continue;c.fmtp=c.fmtp??[];let b=c.fmtp.find(j=>j.payload===h.payloadType);b||(b={payload:h.payloadType,config:""},c.fmtp.push(b));const _=e.parseParams(b.config);switch(f){case"audio/opus":{const j=(p=h.parameters)==null?void 0:p["sprop-stereo"];j!==void 0&&(_.stereo=Number(j)?1:0);break}}b.config="";for(const j of Object.keys(_))b.config&&(b.config+=";"),b.config+=`${j}=${_[j]}`}}function o({offerMediaObject:u,headerExtensionUri:c,headerExtensionId:p}){u.ext||(u.ext=[]),u.ext.push({uri:c,value:p})}return xl}var $p={},H4;function xm(){if(H4)return $p;H4=1,Object.defineProperty($p,"__esModule",{value:!0}),$p.getRtpEncodings=e,$p.addLegacySimulcast=t;function e({offerMediaObject:r,codecs:n}){const a=new Set;for(const c of r.ssrcs??[]){const p=c.id;p&&a.add(p)}if(a.size===0)throw new Error("no a=ssrc lines found");const o=new Map;for(const c of r.ssrcGroups??[]){if(c.semantics!=="FID")continue;const p=c.ssrcs.split(/\s+/),h=Number(p[0]),f=Number(p[1]);a.has(h)&&(a.delete(h),a.delete(f),o.set(h,f))}for(const c of a)o.set(c,void 0);const u=[];for(const[c,p]of o){const h={ssrc:c};p&&n.length>1&&(h.rtx={ssrc:p}),u.push(h)}return u}function t({offerMediaObject:r,numStreams:n}){if(n<=1)throw new TypeError("numStreams must be greater than 1");const a=(r.ssrcs??[]).find(_=>_.attribute==="msid");if(!a)throw new Error("a=ssrc line with msid information not found");const[o,u]=a.value.split(" "),c=Number(a.id);let p;(r.ssrcGroups??[]).some(_=>{if(_.semantics!=="FID")return!1;const j=_.ssrcs.split(/\s+/);return Number(j[0])===c?(p=Number(j[1]),!0):!1});const h=(r.ssrcs??[]).find(_=>_.attribute==="cname");if(!h)throw new Error("a=ssrc line with cname information not found");const f=h.value,m=[],b=[];for(let _=0;_<n;++_)m.push(c+_),p&&b.push(p+_);r.ssrcGroups=[],r.ssrcs=[],r.ssrcGroups.push({semantics:"SIM",ssrcs:m.join(" ")});for(const _ of m)r.ssrcs.push({id:_,attribute:"cname",value:f}),r.ssrcs.push({id:_,attribute:"msid",value:`${o} ${u}`});for(let _=0;_<b.length;++_){const j=m[_],w=b[_];r.ssrcs.push({id:w,attribute:"cname",value:f}),r.ssrcs.push({id:w,attribute:"msid",value:`${o} ${u}`}),r.ssrcGroups.push({semantics:"FID",ssrcs:`${j} ${w}`})}}return $p}var dd={},W4;function wm(){if(W4)return dd;W4=1,Object.defineProperty(dd,"__esModule",{value:!0}),dd.addNackSupportForOpus=e,dd.addHeaderExtensionSupport=t,dd.getMsidStreamIdAndTrackId=r;function e(n){var a;for(const o of n.codecs??[])(o.mimeType.toLowerCase()==="audio/opus"||o.mimeType.toLowerCase()==="audio/multiopus")&&!((a=o.rtcpFeedback)!=null&&a.some(u=>u.type==="nack"&&!u.parameter))&&(o.rtcpFeedback||(o.rtcpFeedback=[]),o.rtcpFeedback.push({type:"nack"}))}function t(n,a){var p;let o;const u=(p=n.headerExtensions)==null?void 0:p.find(h=>h.uri===a.uri);if(u){if(u.kind===a.kind)return;o=u.preferredId}if(n.headerExtensions||(n.headerExtensions=[]),o===void 0){o=1;const h=new Set(n.headerExtensions.map(f=>f.preferredId));for(;h.has(o);)++o}const c={kind:a.kind,uri:a.uri,preferredId:o,preferredEncrypt:!1,direction:a.direction};n.headerExtensions.push(c)}function r(n){if(!n||typeof n!="string")return{msidStreamId:void 0,msidTrackId:void 0};const[a,o]=n.trim().split(/\s+/);return a?{msidStreamId:a,msidTrackId:o}:{msidStreamId:void 0,msidTrackId:void 0}}return dd}var K4;function lEe(){if(K4)return Lp;K4=1,Object.defineProperty(Lp,"__esModule",{value:!0}),Lp.Chrome111=void 0;const e=Jl(),t=Fa(),r=xa(),n=Wo(),a=Vi(),o=gf(),u=bm(),c=_m(),p=xm(),h=wm(),f=new r.Logger("Chrome111"),m="Chrome111",b={OS:1024,MIS:1024};let _=class Iv extends t.EnhancedEventEmitter{constructor({direction:y,iceParameters:x,iceCandidates:S,dtlsParameters:T,sctpParameters:N,iceServers:A,iceTransportPolicy:P,additionalSettings:k,getSendExtendedRtpCapabilities:R}){super();Y(this,"_closed",!1);Y(this,"_direction");Y(this,"_remoteSdp");Y(this,"_getSendExtendedRtpCapabilities");Y(this,"_forcedLocalDtlsRole");Y(this,"_pc");Y(this,"_mapMidTransceiver",new Map);Y(this,"_sendStream",new MediaStream);Y(this,"_hasDataChannelMediaSection",!1);Y(this,"_nextSendSctpStreamId",0);Y(this,"_transportReady",!1);Y(this,"onIceGatheringStateChange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)});Y(this,"onIceCandidateError",y=>{this.emit("@icecandidateerror",y)});Y(this,"onConnectionStateChange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)});Y(this,"onIceConnectionStateChange",()=>{switch(this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}});f.debug("constructor()"),this._direction=y,this._remoteSdp=new u.RemoteSdp({iceParameters:x,iceCandidates:S,dtlsParameters:T,sctpParameters:N}),this._getSendExtendedRtpCapabilities=R,T.role&&T.role!=="auto"&&(this._forcedLocalDtlsRole=T.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:A??[],iceTransportPolicy:P??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...k}),this._pc.addEventListener("icegatheringstatechange",this.onIceGatheringStateChange),this._pc.addEventListener("icecandidateerror",this.onIceCandidateError),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",this.onConnectionStateChange):(f.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",this.onIceConnectionStateChange))}static createFactory(){return{name:m,factory:y=>new Iv(y),getNativeRtpCapabilities:async()=>{f.debug("getNativeRtpCapabilities()");let y=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});try{y.addTransceiver("audio"),y.addTransceiver("video",{sendEncodings:[{scalabilityMode:"L3T3"}]});const x=await y.createOffer();try{y.close()}catch{}y=void 0;const S=e.parse(x.sdp);return Iv.getLocalRtpCapabilities(S)}catch(x){try{y==null||y.close()}catch{}throw y=void 0,x}},getNativeSctpCapabilities:async()=>(f.debug("getNativeSctpCapabilities()"),{numStreams:b})}}static getLocalRtpCapabilities(y,x=[]){const S=c.extractRtpCapabilities({sdpObject:y});n.validateAndNormalizeRtpCapabilities(S),h.addNackSupportForOpus(S);for(const T of x)h.addHeaderExtensionSupport(S,T);return S}get name(){return m}close(){if(f.debug("close()"),!this._closed){this._closed=!0;try{this._pc.close()}catch{}this._pc.removeEventListener("icegatheringstatechange",this.onIceGatheringStateChange),this._pc.removeEventListener("icecandidateerror",this.onIceCandidateError),this._pc.removeEventListener("connectionstatechange",this.onConnectionStateChange),this._pc.removeEventListener("iceconnectionstatechange",this.onIceConnectionStateChange),this.emit("@close"),super.close()}}async updateIceServers(y){this.assertNotClosed(),f.debug("updateIceServers()");const x=this._pc.getConfiguration();x.iceServers=y,this._pc.setConfiguration(x)}async restartIce(y){if(this.assertNotClosed(),f.debug("restartIce()"),this._remoteSdp.updateIceParameters(y),!!this._transportReady)if(this._direction==="send"){const x=await this._pc.createOffer({iceRestart:!0});f.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x);const S={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",S),await this._pc.setRemoteDescription(S)}else{const x={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);const S=await this._pc.createAnswer();f.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:y,streamId:x,encodings:S,codecOptions:T,headerExtensionOptions:N,codec:A,onRtpSender:P}){if(this.assertNotClosed(),this.assertSendDirection(),f.debug("send() [kind:%s, track.id:%s, streamId:%s]",y.kind,y.id,x),S&&S.length>1){let V=1;for(const Q of S){const U=Q.scalabilityMode?(0,o.parse)(Q.scalabilityMode).temporalLayers:3;U>V&&(V=U)}S.forEach((Q,U)=>{Q.rid=`r${U}`,Q.scalabilityMode=`L1T${V}`})}const k=this._remoteSdp.getNextMediaSectionIdx(),R=this._pc.addTransceiver(y,{direction:"sendonly",streams:[this._sendStream],sendEncodings:S});P&&P(R.sender);let D=await this._pc.createOffer(),I=e.parse(D.sdp);I.extmapAllowMixed&&this._remoteSdp.setSessionExtmapAllowMixed();const q=[];q.push({uri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time",kind:y.kind,direction:"sendonly"});const z=Iv.getLocalRtpCapabilities(I,q),M=this._getSendExtendedRtpCapabilities(z),F=n.getSendingRtpParameters(y.kind,M);F.codecs=n.reduceCodecs(F.codecs,A);const B=n.getSendingRemoteRtpParameters(y.kind,M);if(B.codecs=n.reduceCodecs(B.codecs,A),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:I}),N!=null&&N.absCaptureTime){const V=I.media[k.idx];c.addHeaderExtension({offerMediaObject:V,headerExtensionUri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time",headerExtensionId:B.headerExtensions.find(Q=>Q.uri==="http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time").id}),D={type:"offer",sdp:e.write(I)}}f.debug("send() | calling pc.setLocalDescription() [offer:%o]",D),await this._pc.setLocalDescription(D);const O=R.mid;F.mid=O,I=e.parse(this._pc.localDescription.sdp);const $=I.media[k.idx];if(F.rtcp.cname=c.getCname({offerMediaObject:$}),F.msid=`${x??this._sendStream.id} ${y.id}`,!S)F.encodings=p.getRtpEncodings({offerMediaObject:$,codecs:F.codecs});else if(S.length===1){const V=p.getRtpEncodings({offerMediaObject:$,codecs:F.codecs});Object.assign(V[0],S[0]),F.encodings=V}else F.encodings=S;this._remoteSdp.send({offerMediaObject:$,reuseMid:k.reuseMid,offerRtpParameters:F,answerRtpParameters:B,codecOptions:T});const K={type:"answer",sdp:this._remoteSdp.getSdp()};return f.debug("send() | calling pc.setRemoteDescription() [answer:%o]",K),await this._pc.setRemoteDescription(K),this._mapMidTransceiver.set(O,R),{localId:O,rtpParameters:F,rtpSender:R.sender}}async stopSending(y){if(this.assertSendDirection(),f.debug("stopSending() [localId:%s]",y),this._closed)return;const x=this._mapMidTransceiver.get(y);if(!x)throw new Error("associated RTCRtpTransceiver not found");if(x.sender.replaceTrack(null),this._pc.removeTrack(x.sender),this._remoteSdp.closeMediaSection(x.mid))try{x.stop()}catch{}const T=await this._pc.createOffer();f.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",T),await this._pc.setLocalDescription(T);const N={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",N),await this._pc.setRemoteDescription(N),this._mapMidTransceiver.delete(y)}async pauseSending(y){this.assertNotClosed(),this.assertSendDirection(),f.debug("pauseSending() [localId:%s]",y);const x=this._mapMidTransceiver.get(y);if(!x)throw new Error("associated RTCRtpTransceiver not found");x.direction="inactive",this._remoteSdp.pauseMediaSection(y);const S=await this._pc.createOffer();f.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",S),await this._pc.setLocalDescription(S);const T={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",T),await this._pc.setRemoteDescription(T)}async resumeSending(y){this.assertNotClosed(),this.assertSendDirection(),f.debug("resumeSending() [localId:%s]",y);const x=this._mapMidTransceiver.get(y);if(this._remoteSdp.resumeSendingMediaSection(y),!x)throw new Error("associated RTCRtpTransceiver not found");x.direction="sendonly";const S=await this._pc.createOffer();f.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",S),await this._pc.setLocalDescription(S);const T={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",T),await this._pc.setRemoteDescription(T)}async replaceTrack(y,x){this.assertNotClosed(),this.assertSendDirection(),x?f.debug("replaceTrack() [localId:%s, track.id:%s]",y,x.id):f.debug("replaceTrack() [localId:%s, no track]",y);const S=this._mapMidTransceiver.get(y);if(!S)throw new Error("associated RTCRtpTransceiver not found");await S.sender.replaceTrack(x)}async setMaxSpatialLayer(y,x){this.assertNotClosed(),this.assertSendDirection(),f.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",y,x);const S=this._mapMidTransceiver.get(y);if(!S)throw new Error("associated RTCRtpTransceiver not found");const T=S.sender.getParameters();T.encodings.forEach((P,k)=>{k<=x?P.active=!0:P.active=!1}),await S.sender.setParameters(T),this._remoteSdp.muxMediaSectionSimulcast(y,T.encodings);const N=await this._pc.createOffer();f.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",N),await this._pc.setLocalDescription(N);const A={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",A),await this._pc.setRemoteDescription(A)}async setRtpEncodingParameters(y,x){this.assertNotClosed(),this.assertSendDirection(),f.debug("setRtpEncodingParameters() [localId:%s, params:%o]",y,x);const S=this._mapMidTransceiver.get(y);if(!S)throw new Error("associated RTCRtpTransceiver not found");const T=S.sender.getParameters();T.encodings.forEach((P,k)=>{T.encodings[k]={...P,...x}}),await S.sender.setParameters(T),this._remoteSdp.muxMediaSectionSimulcast(y,T.encodings);const N=await this._pc.createOffer();f.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",N),await this._pc.setLocalDescription(N);const A={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",A),await this._pc.setRemoteDescription(A)}async getSenderStats(y){this.assertNotClosed(),this.assertSendDirection();const x=this._mapMidTransceiver.get(y);if(!x)throw new Error("associated RTCRtpTransceiver not found");return x.sender.getStats()}async sendDataChannel({ordered:y,maxPacketLifeTime:x,maxRetransmits:S,label:T,protocol:N}){this.assertNotClosed(),this.assertSendDirection();const A={negotiated:!0,id:this._nextSendSctpStreamId,ordered:y,maxPacketLifeTime:x,maxRetransmits:S,protocol:N};f.debug("sendDataChannel() [options:%o]",A);const P=this._pc.createDataChannel(T,A);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%b.MIS,!this._hasDataChannelMediaSection){const R=await this._pc.createOffer(),D=e.parse(R.sdp),I=D.media.find(z=>z.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:D}),f.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",R),await this._pc.setLocalDescription(R),this._remoteSdp.sendSctpAssociation({offerMediaObject:I});const q={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",q),await this._pc.setRemoteDescription(q),this._hasDataChannelMediaSection=!0}const k={streamId:A.id,ordered:A.ordered,maxPacketLifeTime:A.maxPacketLifeTime,maxRetransmits:A.maxRetransmits};return{dataChannel:P,sctpStreamParameters:k}}async receive(y){var P;this.assertNotClosed(),this.assertRecvDirection();const x=[],S=new Map;for(const k of y){const{trackId:R,kind:D,rtpParameters:I,streamId:q}=k;f.debug("receive() [trackId:%s, kind:%s]",R,D);const z=I.mid??String(this._mapMidTransceiver.size);S.set(R,z);const{msidStreamId:M}=h.getMsidStreamIdAndTrackId(I.msid);this._remoteSdp.receive({mid:z,kind:D,offerRtpParameters:I,streamId:q??M??((P=I.rtcp)==null?void 0:P.cname)??"-",trackId:R})}const T={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",T),await this._pc.setRemoteDescription(T);for(const k of y){const{trackId:R,onRtpReceiver:D}=k;if(D){const I=S.get(R),q=this._pc.getTransceivers().find(z=>z.mid===I);if(!q)throw new Error("transceiver not found");D(q.receiver)}}let N=await this._pc.createAnswer();const A=e.parse(N.sdp);for(const k of y){const{trackId:R,rtpParameters:D}=k,I=S.get(R),q=A.media.find(z=>String(z.mid)===I);c.applyCodecParameters({offerRtpParameters:D,answerMediaObject:q})}N={type:"answer",sdp:e.write(A)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:A}),f.debug("receive() | calling pc.setLocalDescription() [answer:%o]",N),await this._pc.setLocalDescription(N);for(const k of y){const{trackId:R}=k,D=S.get(R),I=this._pc.getTransceivers().find(q=>q.mid===D);if(I)this._mapMidTransceiver.set(D,I),x.push({localId:D,track:I.receiver.track,rtpReceiver:I.receiver});else throw new Error("new RTCRtpTransceiver not found")}return x}async stopReceiving(y){if(this.assertRecvDirection(),this._closed)return;for(const T of y){f.debug("stopReceiving() [localId:%s]",T);const N=this._mapMidTransceiver.get(T);if(!N)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(N.mid)}const x={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);const S=await this._pc.createAnswer();f.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S);for(const T of y)this._mapMidTransceiver.delete(T)}async pauseReceiving(y){this.assertNotClosed(),this.assertRecvDirection();for(const T of y){f.debug("pauseReceiving() [localId:%s]",T);const N=this._mapMidTransceiver.get(T);if(!N)throw new Error("associated RTCRtpTransceiver not found");N.direction="inactive",this._remoteSdp.pauseMediaSection(T)}const x={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);const S=await this._pc.createAnswer();f.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S)}async resumeReceiving(y){this.assertNotClosed(),this.assertRecvDirection();for(const T of y){f.debug("resumeReceiving() [localId:%s]",T);const N=this._mapMidTransceiver.get(T);if(!N)throw new Error("associated RTCRtpTransceiver not found");N.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(T)}const x={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);const S=await this._pc.createAnswer();f.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S)}async getReceiverStats(y){this.assertNotClosed(),this.assertRecvDirection();const x=this._mapMidTransceiver.get(y);if(!x)throw new Error("associated RTCRtpTransceiver not found");return x.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:y,label:x,protocol:S}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:T,ordered:N,maxPacketLifeTime:A,maxRetransmits:P}=y,k={negotiated:!0,id:T,ordered:N,maxPacketLifeTime:A,maxRetransmits:P,protocol:S};f.debug("receiveDataChannel() [options:%o]",k);const R=this._pc.createDataChannel(x,k);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const D={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",D),await this._pc.setRemoteDescription(D);const I=await this._pc.createAnswer();if(!this._transportReady){const q=e.parse(I.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:q})}f.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",I),await this._pc.setLocalDescription(I),this._hasDataChannelMediaSection=!0}return{dataChannel:R}}async setupTransport({localDtlsRole:y,localSdpObject:x}){x||(x=e.parse(this._pc.localDescription.sdp));const S=c.extractDtlsParameters({sdpObject:x});S.role=y,this._remoteSdp.updateDtlsRole(y==="client"?"server":"client"),await new Promise((T,N)=>{this.safeEmit("@connect",{dtlsParameters:S},T,N)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new a.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return Lp.Chrome111=_,Lp}var Bp={},G4;function cEe(){if(G4)return Bp;G4=1,Object.defineProperty(Bp,"__esModule",{value:!0}),Bp.Chrome74=void 0;const e=Jl(),t=xa(),r=Fa(),n=Wo(),a=Vi(),o=gf(),u=bm(),c=_m(),p=xm(),h=wm(),f=new t.Logger("Chrome74"),m="Chrome74",b={OS:1024,MIS:1024};let _=class $v extends r.EnhancedEventEmitter{constructor({direction:y,iceParameters:x,iceCandidates:S,dtlsParameters:T,sctpParameters:N,iceServers:A,iceTransportPolicy:P,additionalSettings:k,getSendExtendedRtpCapabilities:R}){super();Y(this,"_closed",!1);Y(this,"_direction");Y(this,"_remoteSdp");Y(this,"_getSendExtendedRtpCapabilities");Y(this,"_forcedLocalDtlsRole");Y(this,"_pc");Y(this,"_mapMidTransceiver",new Map);Y(this,"_sendStream",new MediaStream);Y(this,"_hasDataChannelMediaSection",!1);Y(this,"_nextSendSctpStreamId",0);Y(this,"_transportReady",!1);Y(this,"onIceGatheringStateChange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)});Y(this,"onIceCandidateError",y=>{this.emit("@icecandidateerror",y)});Y(this,"onConnectionStateChange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)});Y(this,"onIceConnectionStateChange",()=>{switch(this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}});f.debug("constructor()"),this._direction=y,this._remoteSdp=new u.RemoteSdp({iceParameters:x,iceCandidates:S,dtlsParameters:T,sctpParameters:N}),this._getSendExtendedRtpCapabilities=R,T.role&&T.role!=="auto"&&(this._forcedLocalDtlsRole=T.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:A??[],iceTransportPolicy:P??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...k}),this._pc.addEventListener("icegatheringstatechange",this.onIceGatheringStateChange),this._pc.addEventListener("icecandidateerror",this.onIceCandidateError),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",this.onConnectionStateChange):(f.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",this.onIceConnectionStateChange))}static createFactory(){return{name:m,factory:y=>new $v(y),getNativeRtpCapabilities:async()=>{f.debug("getNativeRtpCapabilities()");let y=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});try{y.addTransceiver("audio"),y.addTransceiver("video");const x=await y.createOffer();try{y.close()}catch{}y=void 0;const S=e.parse(x.sdp);return $v.getLocalRtpCapabilities(S)}catch(x){try{y==null||y.close()}catch{}throw y=void 0,x}},getNativeSctpCapabilities:async()=>(f.debug("getNativeSctpCapabilities()"),{numStreams:b})}}static getLocalRtpCapabilities(y,x=[]){const S=c.extractRtpCapabilities({sdpObject:y});n.validateAndNormalizeRtpCapabilities(S),h.addNackSupportForOpus(S);for(const T of x)h.addHeaderExtensionSupport(S,T);return S}get name(){return m}close(){if(f.debug("close()"),!this._closed){this._closed=!0;try{this._pc.close()}catch{}this._pc.removeEventListener("icegatheringstatechange",this.onIceGatheringStateChange),this._pc.removeEventListener("icecandidateerror",this.onIceCandidateError),this._pc.removeEventListener("connectionstatechange",this.onConnectionStateChange),this._pc.removeEventListener("iceconnectionstatechange",this.onIceConnectionStateChange),this.emit("@close"),super.close()}}async updateIceServers(y){this.assertNotClosed(),f.debug("updateIceServers()");const x=this._pc.getConfiguration();x.iceServers=y,this._pc.setConfiguration(x)}async restartIce(y){if(this.assertNotClosed(),f.debug("restartIce()"),this._remoteSdp.updateIceParameters(y),!!this._transportReady)if(this._direction==="send"){const x=await this._pc.createOffer({iceRestart:!0});f.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x);const S={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",S),await this._pc.setRemoteDescription(S)}else{const x={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);const S=await this._pc.createAnswer();f.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:y,streamId:x,encodings:S,codecOptions:T,headerExtensionOptions:N,codec:A}){this.assertNotClosed(),this.assertSendDirection(),f.debug("send() [kind:%s, track.id:%s, streamId:%s]",y.kind,y.id,x),S&&S.length>1&&S.forEach((Q,U)=>{Q.rid=`r${U}`});const P=this._remoteSdp.getNextMediaSectionIdx(),k=this._pc.addTransceiver(y,{direction:"sendonly",streams:[this._sendStream],sendEncodings:S});let R=await this._pc.createOffer(),D=e.parse(R.sdp);D.extmapAllowMixed&&this._remoteSdp.setSessionExtmapAllowMixed();const I=[];I.push({uri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time",kind:y.kind,direction:"sendonly"});const q=$v.getLocalRtpCapabilities(D,I),z=this._getSendExtendedRtpCapabilities(q),M=n.getSendingRtpParameters(y.kind,z);M.codecs=n.reduceCodecs(M.codecs,A);const F=n.getSendingRemoteRtpParameters(y.kind,z);F.codecs=n.reduceCodecs(F.codecs,A),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:D});let B=!1;const O=(0,o.parse)((S??[{}])[0].scalabilityMode);let $;(S==null?void 0:S.length)===1&&O.spatialLayers>1&&M.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(f.debug("send() | enabling legacy simulcast for VP9 SVC"),B=!0,D=e.parse(R.sdp),$=D.media[P.idx],p.addLegacySimulcast({offerMediaObject:$,numStreams:O.spatialLayers}),R={type:"offer",sdp:e.write(D)}),f.debug("send() | calling pc.setLocalDescription() [offer:%o]",R),N!=null&&N.absCaptureTime&&($=D.media[P.idx],c.addHeaderExtension({offerMediaObject:$,headerExtensionUri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time",headerExtensionId:F.headerExtensions.find(Q=>Q.uri==="http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time").id}),R={type:"offer",sdp:e.write(D)}),await this._pc.setLocalDescription(R);const K=k.mid;if(M.mid=K,D=e.parse(this._pc.localDescription.sdp),$=D.media[P.idx],M.rtcp.cname=c.getCname({offerMediaObject:$}),M.msid=`${x??this._sendStream.id} ${y.id}`,!S)M.encodings=p.getRtpEncodings({offerMediaObject:$,codecs:M.codecs});else if(S.length===1){let Q=p.getRtpEncodings({offerMediaObject:$,codecs:M.codecs});Object.assign(Q[0],S[0]),B&&(Q=[Q[0]]),M.encodings=Q}else M.encodings=S;if(M.encodings.length>1&&(M.codecs[0].mimeType.toLowerCase()==="video/vp8"||M.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const Q of M.encodings)Q.scalabilityMode?Q.scalabilityMode=`L1T${O.temporalLayers}`:Q.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:$,reuseMid:P.reuseMid,offerRtpParameters:M,answerRtpParameters:F,codecOptions:T});const V={type:"answer",sdp:this._remoteSdp.getSdp()};return f.debug("send() | calling pc.setRemoteDescription() [answer:%o]",V),await this._pc.setRemoteDescription(V),this._mapMidTransceiver.set(K,k),{localId:K,rtpParameters:M,rtpSender:k.sender}}async stopSending(y){if(this.assertSendDirection(),f.debug("stopSending() [localId:%s]",y),this._closed)return;const x=this._mapMidTransceiver.get(y);if(!x)throw new Error("associated RTCRtpTransceiver not found");if(x.sender.replaceTrack(null),this._pc.removeTrack(x.sender),this._remoteSdp.closeMediaSection(x.mid))try{x.stop()}catch{}const T=await this._pc.createOffer();f.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",T),await this._pc.setLocalDescription(T);const N={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",N),await this._pc.setRemoteDescription(N),this._mapMidTransceiver.delete(y)}async pauseSending(y){this.assertNotClosed(),this.assertSendDirection(),f.debug("pauseSending() [localId:%s]",y);const x=this._mapMidTransceiver.get(y);if(!x)throw new Error("associated RTCRtpTransceiver not found");x.direction="inactive",this._remoteSdp.pauseMediaSection(y);const S=await this._pc.createOffer();f.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",S),await this._pc.setLocalDescription(S);const T={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",T),await this._pc.setRemoteDescription(T)}async resumeSending(y){this.assertNotClosed(),this.assertSendDirection(),f.debug("resumeSending() [localId:%s]",y);const x=this._mapMidTransceiver.get(y);if(this._remoteSdp.resumeSendingMediaSection(y),!x)throw new Error("associated RTCRtpTransceiver not found");x.direction="sendonly";const S=await this._pc.createOffer();f.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",S),await this._pc.setLocalDescription(S);const T={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",T),await this._pc.setRemoteDescription(T)}async replaceTrack(y,x){this.assertNotClosed(),this.assertSendDirection(),x?f.debug("replaceTrack() [localId:%s, track.id:%s]",y,x.id):f.debug("replaceTrack() [localId:%s, no track]",y);const S=this._mapMidTransceiver.get(y);if(!S)throw new Error("associated RTCRtpTransceiver not found");await S.sender.replaceTrack(x)}async setMaxSpatialLayer(y,x){this.assertNotClosed(),this.assertSendDirection(),f.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",y,x);const S=this._mapMidTransceiver.get(y);if(!S)throw new Error("associated RTCRtpTransceiver not found");const T=S.sender.getParameters();T.encodings.forEach((P,k)=>{k<=x?P.active=!0:P.active=!1}),await S.sender.setParameters(T),this._remoteSdp.muxMediaSectionSimulcast(y,T.encodings);const N=await this._pc.createOffer();f.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",N),await this._pc.setLocalDescription(N);const A={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",A),await this._pc.setRemoteDescription(A)}async setRtpEncodingParameters(y,x){this.assertNotClosed(),this.assertSendDirection(),f.debug("setRtpEncodingParameters() [localId:%s, params:%o]",y,x);const S=this._mapMidTransceiver.get(y);if(!S)throw new Error("associated RTCRtpTransceiver not found");const T=S.sender.getParameters();T.encodings.forEach((P,k)=>{T.encodings[k]={...P,...x}}),await S.sender.setParameters(T),this._remoteSdp.muxMediaSectionSimulcast(y,T.encodings);const N=await this._pc.createOffer();f.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",N),await this._pc.setLocalDescription(N);const A={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",A),await this._pc.setRemoteDescription(A)}async getSenderStats(y){this.assertNotClosed(),this.assertSendDirection();const x=this._mapMidTransceiver.get(y);if(!x)throw new Error("associated RTCRtpTransceiver not found");return x.sender.getStats()}async sendDataChannel({ordered:y,maxPacketLifeTime:x,maxRetransmits:S,label:T,protocol:N}){this.assertNotClosed(),this.assertSendDirection();const A={negotiated:!0,id:this._nextSendSctpStreamId,ordered:y,maxPacketLifeTime:x,maxRetransmits:S,protocol:N};f.debug("sendDataChannel() [options:%o]",A);const P=this._pc.createDataChannel(T,A);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%b.MIS,!this._hasDataChannelMediaSection){const R=await this._pc.createOffer(),D=e.parse(R.sdp),I=D.media.find(z=>z.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:D}),f.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",R),await this._pc.setLocalDescription(R),this._remoteSdp.sendSctpAssociation({offerMediaObject:I});const q={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",q),await this._pc.setRemoteDescription(q),this._hasDataChannelMediaSection=!0}const k={streamId:A.id,ordered:A.ordered,maxPacketLifeTime:A.maxPacketLifeTime,maxRetransmits:A.maxRetransmits};return{dataChannel:P,sctpStreamParameters:k}}async receive(y){var P;this.assertNotClosed(),this.assertRecvDirection();const x=[],S=new Map;for(const k of y){const{trackId:R,kind:D,rtpParameters:I,streamId:q}=k;f.debug("receive() [trackId:%s, kind:%s]",R,D);const z=I.mid??String(this._mapMidTransceiver.size);S.set(R,z);const{msidStreamId:M}=h.getMsidStreamIdAndTrackId(I.msid);this._remoteSdp.receive({mid:z,kind:D,offerRtpParameters:I,streamId:q??M??((P=I.rtcp)==null?void 0:P.cname)??"-",trackId:R})}const T={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",T),await this._pc.setRemoteDescription(T);let N=await this._pc.createAnswer();const A=e.parse(N.sdp);for(const k of y){const{trackId:R,rtpParameters:D}=k,I=S.get(R),q=A.media.find(z=>String(z.mid)===I);c.applyCodecParameters({offerRtpParameters:D,answerMediaObject:q})}N={type:"answer",sdp:e.write(A)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:A}),f.debug("receive() | calling pc.setLocalDescription() [answer:%o]",N),await this._pc.setLocalDescription(N);for(const k of y){const{trackId:R}=k,D=S.get(R),I=this._pc.getTransceivers().find(q=>q.mid===D);if(I)this._mapMidTransceiver.set(D,I),x.push({localId:D,track:I.receiver.track,rtpReceiver:I.receiver});else throw new Error("new RTCRtpTransceiver not found")}return x}async stopReceiving(y){if(this.assertRecvDirection(),this._closed)return;for(const T of y){f.debug("stopReceiving() [localId:%s]",T);const N=this._mapMidTransceiver.get(T);if(!N)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(N.mid)}const x={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);const S=await this._pc.createAnswer();f.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S);for(const T of y)this._mapMidTransceiver.delete(T)}async pauseReceiving(y){this.assertNotClosed(),this.assertRecvDirection();for(const T of y){f.debug("pauseReceiving() [localId:%s]",T);const N=this._mapMidTransceiver.get(T);if(!N)throw new Error("associated RTCRtpTransceiver not found");N.direction="inactive",this._remoteSdp.pauseMediaSection(T)}const x={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);const S=await this._pc.createAnswer();f.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S)}async resumeReceiving(y){this.assertNotClosed(),this.assertRecvDirection();for(const T of y){f.debug("resumeReceiving() [localId:%s]",T);const N=this._mapMidTransceiver.get(T);if(!N)throw new Error("associated RTCRtpTransceiver not found");N.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(T)}const x={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);const S=await this._pc.createAnswer();f.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S)}async getReceiverStats(y){this.assertNotClosed(),this.assertRecvDirection();const x=this._mapMidTransceiver.get(y);if(!x)throw new Error("associated RTCRtpTransceiver not found");return x.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:y,label:x,protocol:S}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:T,ordered:N,maxPacketLifeTime:A,maxRetransmits:P}=y,k={negotiated:!0,id:T,ordered:N,maxPacketLifeTime:A,maxRetransmits:P,protocol:S};f.debug("receiveDataChannel() [options:%o]",k);const R=this._pc.createDataChannel(x,k);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const D={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",D),await this._pc.setRemoteDescription(D);const I=await this._pc.createAnswer();if(!this._transportReady){const q=e.parse(I.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:q})}f.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",I),await this._pc.setLocalDescription(I),this._hasDataChannelMediaSection=!0}return{dataChannel:R}}async setupTransport({localDtlsRole:y,localSdpObject:x}){x||(x=e.parse(this._pc.localDescription.sdp));const S=c.extractDtlsParameters({sdpObject:x});S.role=y,this._remoteSdp.updateDtlsRole(y==="client"?"server":"client"),await new Promise((T,N)=>{this.safeEmit("@connect",{dtlsParameters:S},T,N)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new a.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return Bp.Chrome74=_,Bp}var zp={},V4;function uEe(){if(V4)return zp;V4=1,Object.defineProperty(zp,"__esModule",{value:!0}),zp.Firefox120=void 0;const e=Jl(),t=Fa(),r=xa(),n=Vi(),a=Wo(),o=gf(),u=bm(),c=_m(),p=xm(),h=wm(),f=new r.Logger("Firefox120"),m="Firefox120",b={OS:16,MIS:2048};let _=class Bv extends t.EnhancedEventEmitter{constructor({direction:y,iceParameters:x,iceCandidates:S,dtlsParameters:T,sctpParameters:N,iceServers:A,iceTransportPolicy:P,additionalSettings:k,getSendExtendedRtpCapabilities:R}){super();Y(this,"_closed",!1);Y(this,"_direction");Y(this,"_remoteSdp");Y(this,"_getSendExtendedRtpCapabilities");Y(this,"_pc");Y(this,"_mapMidTransceiver",new Map);Y(this,"_sendStream",new MediaStream);Y(this,"_hasDataChannelMediaSection",!1);Y(this,"_nextSendSctpStreamId",0);Y(this,"_transportReady",!1);Y(this,"onIceGatheringStateChange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)});Y(this,"onIceCandidateError",y=>{this.emit("@icecandidateerror",y)});Y(this,"onConnectionStateChange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)});Y(this,"onIceConnectionStateChange",()=>{switch(this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}});f.debug("constructor()"),this._direction=y,this._remoteSdp=new u.RemoteSdp({iceParameters:x,iceCandidates:S,dtlsParameters:T,sctpParameters:N}),this._getSendExtendedRtpCapabilities=R,this._pc=new RTCPeerConnection({iceServers:A??[],iceTransportPolicy:P??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...k}),this._pc.addEventListener("icegatheringstatechange",this.onIceGatheringStateChange),this._pc.addEventListener("icecandidateerror",this.onIceCandidateError),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",this.onConnectionStateChange):(f.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",this.onIceConnectionStateChange))}static createFactory(){return{name:m,factory:y=>new Bv(y),getNativeRtpCapabilities:async()=>{f.debug("getNativeRtpCapabilities()");let y=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});const x=document.createElement("canvas");x.getContext("2d");const T=x.captureStream().getVideoTracks()[0];try{y.addTransceiver("audio",{direction:"sendrecv"}),y.addTransceiver(T,{direction:"sendrecv",sendEncodings:[{rid:"r0",maxBitrate:1e5},{rid:"r1",maxBitrate:5e5}]});const N=await y.createOffer();try{x.remove()}catch{}try{T.stop()}catch{}try{y.close()}catch{}y=void 0;const A=e.parse(N.sdp);return Bv.getLocalRtpCapabilities(A)}catch(N){try{x.remove()}catch{}try{T.stop()}catch{}try{y==null||y.close()}catch{}throw y=void 0,N}},getNativeSctpCapabilities:async()=>(f.debug("getNativeSctpCapabilities()"),{numStreams:b})}}static getLocalRtpCapabilities(y){const x=c.extractRtpCapabilities({sdpObject:y});return a.validateAndNormalizeRtpCapabilities(x),x}get name(){return m}close(){if(f.debug("close()"),!this._closed){this._closed=!0;try{this._pc.close()}catch{}this._pc.removeEventListener("icegatheringstatechange",this.onIceGatheringStateChange),this._pc.removeEventListener("icecandidateerror",this.onIceCandidateError),this._pc.removeEventListener("connectionstatechange",this.onConnectionStateChange),this._pc.removeEventListener("iceconnectionstatechange",this.onIceConnectionStateChange),this.emit("@close"),super.close()}}async updateIceServers(y){throw this.assertNotClosed(),new n.UnsupportedError("not supported")}async restartIce(y){if(this.assertNotClosed(),f.debug("restartIce()"),this._remoteSdp.updateIceParameters(y),!!this._transportReady)if(this._direction==="send"){const x=await this._pc.createOffer({iceRestart:!0});f.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x);const S={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",S),await this._pc.setRemoteDescription(S)}else{const x={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);const S=await this._pc.createAnswer();f.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:y,streamId:x,encodings:S,codecOptions:T,codec:N,onRtpSender:A}){this.assertNotClosed(),this.assertSendDirection(),f.debug("send() [kind:%s, track.id:%s, streamId:%s]",y.kind,y.id,x),S&&S.length>1&&S.forEach(($,K)=>{$.rid=`r${K}`});const P=this._pc.addTransceiver(y,{direction:"sendonly",streams:[this._sendStream],sendEncodings:S});A&&A(P.sender);const k=await this._pc.createOffer();let R=e.parse(k.sdp);R.extmapAllowMixed&&this._remoteSdp.setSessionExtmapAllowMixed();const D=Bv.getLocalRtpCapabilities(R),I=this._getSendExtendedRtpCapabilities(D),q=a.getSendingRtpParameters(y.kind,I);q.codecs=a.reduceCodecs(q.codecs,N);const z=a.getSendingRemoteRtpParameters(y.kind,I);z.codecs=a.reduceCodecs(z.codecs,N),this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:R});const M=(0,o.parse)((S??[{}])[0].scalabilityMode);f.debug("send() | calling pc.setLocalDescription() [offer:%o]",k),await this._pc.setLocalDescription(k);const F=P.mid;q.mid=F,R=e.parse(this._pc.localDescription.sdp);const B=R.media[R.media.length-1];if(q.rtcp.cname=c.getCname({offerMediaObject:B}),q.msid=`${x??this._sendStream.id} ${y.id}`,!S)q.encodings=p.getRtpEncodings({offerMediaObject:B,codecs:q.codecs});else if(S.length===1){const $=p.getRtpEncodings({offerMediaObject:B,codecs:q.codecs});Object.assign($[0],S[0]),q.encodings=$}else q.encodings=S;if(q.encodings.length>1&&(q.codecs[0].mimeType.toLowerCase()==="video/vp8"||q.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const $ of q.encodings)$.scalabilityMode?$.scalabilityMode=`L1T${M.temporalLayers}`:$.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:B,offerRtpParameters:q,answerRtpParameters:z,codecOptions:T});const O={type:"answer",sdp:this._remoteSdp.getSdp()};return f.debug("send() | calling pc.setRemoteDescription() [answer:%o]",O),await this._pc.setRemoteDescription(O),this._mapMidTransceiver.set(F,P),{localId:F,rtpParameters:q,rtpSender:P.sender}}async stopSending(y){if(this.assertSendDirection(),f.debug("stopSending() [localId:%s]",y),this._closed)return;const x=this._mapMidTransceiver.get(y);if(!x)throw new Error("associated transceiver not found");x.sender.replaceTrack(null),this._pc.removeTrack(x.sender),this._remoteSdp.disableMediaSection(x.mid);const S=await this._pc.createOffer();f.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",S),await this._pc.setLocalDescription(S);const T={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",T),await this._pc.setRemoteDescription(T),this._mapMidTransceiver.delete(y)}async pauseSending(y){this.assertNotClosed(),this.assertSendDirection(),f.debug("pauseSending() [localId:%s]",y);const x=this._mapMidTransceiver.get(y);if(!x)throw new Error("associated RTCRtpTransceiver not found");x.direction="inactive",this._remoteSdp.pauseMediaSection(y);const S=await this._pc.createOffer();f.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",S),await this._pc.setLocalDescription(S);const T={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",T),await this._pc.setRemoteDescription(T)}async resumeSending(y){this.assertNotClosed(),this.assertSendDirection(),f.debug("resumeSending() [localId:%s]",y);const x=this._mapMidTransceiver.get(y);if(!x)throw new Error("associated RTCRtpTransceiver not found");x.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(y);const S=await this._pc.createOffer();f.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",S),await this._pc.setLocalDescription(S);const T={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",T),await this._pc.setRemoteDescription(T)}async replaceTrack(y,x){this.assertNotClosed(),this.assertSendDirection(),x?f.debug("replaceTrack() [localId:%s, track.id:%s]",y,x.id):f.debug("replaceTrack() [localId:%s, no track]",y);const S=this._mapMidTransceiver.get(y);if(!S)throw new Error("associated RTCRtpTransceiver not found");await S.sender.replaceTrack(x)}async setMaxSpatialLayer(y,x){this.assertNotClosed(),this.assertSendDirection(),f.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",y,x);const S=this._mapMidTransceiver.get(y);if(!S)throw new Error("associated transceiver not found");const T=S.sender.getParameters();T.encodings.forEach((P,k)=>{k<=x?P.active=!0:P.active=!1}),await S.sender.setParameters(T),this._remoteSdp.muxMediaSectionSimulcast(y,T.encodings);const N=await this._pc.createOffer();f.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",N),await this._pc.setLocalDescription(N);const A={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",A),await this._pc.setRemoteDescription(A)}async setRtpEncodingParameters(y,x){this.assertNotClosed(),this.assertSendDirection(),f.debug("setRtpEncodingParameters() [localId:%s, params:%o]",y,x);const S=this._mapMidTransceiver.get(y);if(!S)throw new Error("associated RTCRtpTransceiver not found");const T=S.sender.getParameters();T.encodings.forEach((P,k)=>{T.encodings[k]={...P,...x}}),await S.sender.setParameters(T),this._remoteSdp.muxMediaSectionSimulcast(y,T.encodings);const N=await this._pc.createOffer();f.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",N),await this._pc.setLocalDescription(N);const A={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",A),await this._pc.setRemoteDescription(A)}async getSenderStats(y){this.assertNotClosed(),this.assertSendDirection();const x=this._mapMidTransceiver.get(y);if(!x)throw new Error("associated RTCRtpTransceiver not found");return x.sender.getStats()}async sendDataChannel({ordered:y,maxPacketLifeTime:x,maxRetransmits:S,label:T,protocol:N}){this.assertNotClosed(),this.assertSendDirection();const A={negotiated:!0,id:this._nextSendSctpStreamId,ordered:y,maxPacketLifeTime:x,maxRetransmits:S,protocol:N};f.debug("sendDataChannel() [options:%o]",A);const P=this._pc.createDataChannel(T,A);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%b.MIS,!this._hasDataChannelMediaSection){const R=await this._pc.createOffer(),D=e.parse(R.sdp),I=D.media.find(z=>z.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:D}),f.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",R),await this._pc.setLocalDescription(R),this._remoteSdp.sendSctpAssociation({offerMediaObject:I});const q={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",q),await this._pc.setRemoteDescription(q),this._hasDataChannelMediaSection=!0}const k={streamId:A.id,ordered:A.ordered,maxPacketLifeTime:A.maxPacketLifeTime,maxRetransmits:A.maxRetransmits};return{dataChannel:P,sctpStreamParameters:k}}async receive(y){var P;this.assertNotClosed(),this.assertRecvDirection();const x=[],S=new Map;for(const k of y){const{trackId:R,kind:D,rtpParameters:I,streamId:q}=k;f.debug("receive() [trackId:%s, kind:%s]",R,D);const z=I.mid??String(this._mapMidTransceiver.size);S.set(R,z);const{msidStreamId:M}=h.getMsidStreamIdAndTrackId(I.msid);this._remoteSdp.receive({mid:z,kind:D,offerRtpParameters:I,streamId:q??M??((P=I.rtcp)==null?void 0:P.cname)??"-",trackId:R})}const T={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",T),await this._pc.setRemoteDescription(T);for(const k of y){const{trackId:R,onRtpReceiver:D}=k;if(D){const I=S.get(R),q=this._pc.getTransceivers().find(z=>z.mid===I);if(!q)throw new Error("transceiver not found");D(q.receiver)}}let N=await this._pc.createAnswer();const A=e.parse(N.sdp);for(const k of y){const{trackId:R,rtpParameters:D}=k,I=S.get(R),q=A.media.find(z=>String(z.mid)===I);c.applyCodecParameters({offerRtpParameters:D,answerMediaObject:q}),N={type:"answer",sdp:e.write(A)}}this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:A}),f.debug("receive() | calling pc.setLocalDescription() [answer:%o]",N),await this._pc.setLocalDescription(N);for(const k of y){const{trackId:R}=k,D=S.get(R),I=this._pc.getTransceivers().find(q=>q.mid===D);if(!I)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(D,I),x.push({localId:D,track:I.receiver.track,rtpReceiver:I.receiver})}return x}async stopReceiving(y){if(this.assertRecvDirection(),this._closed)return;for(const T of y){f.debug("stopReceiving() [localId:%s]",T);const N=this._mapMidTransceiver.get(T);if(!N)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(N.mid)}const x={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);const S=await this._pc.createAnswer();f.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S);for(const T of y)this._mapMidTransceiver.delete(T)}async pauseReceiving(y){this.assertNotClosed(),this.assertRecvDirection();for(const T of y){f.debug("pauseReceiving() [localId:%s]",T);const N=this._mapMidTransceiver.get(T);if(!N)throw new Error("associated RTCRtpTransceiver not found");N.direction="inactive",this._remoteSdp.pauseMediaSection(T)}const x={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);const S=await this._pc.createAnswer();f.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S)}async resumeReceiving(y){this.assertNotClosed(),this.assertRecvDirection();for(const T of y){f.debug("resumeReceiving() [localId:%s]",T);const N=this._mapMidTransceiver.get(T);if(!N)throw new Error("associated RTCRtpTransceiver not found");N.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(T)}const x={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);const S=await this._pc.createAnswer();f.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S)}async getReceiverStats(y){this.assertRecvDirection();const x=this._mapMidTransceiver.get(y);if(!x)throw new Error("associated RTCRtpTransceiver not found");return x.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:y,label:x,protocol:S}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:T,ordered:N,maxPacketLifeTime:A,maxRetransmits:P}=y,k={negotiated:!0,id:T,ordered:N,maxPacketLifeTime:A,maxRetransmits:P,protocol:S};f.debug("receiveDataChannel() [options:%o]",k);const R=this._pc.createDataChannel(x,k);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const D={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",D),await this._pc.setRemoteDescription(D);const I=await this._pc.createAnswer();if(!this._transportReady){const q=e.parse(I.sdp);await this.setupTransport({localDtlsRole:"client",localSdpObject:q})}f.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",I),await this._pc.setLocalDescription(I),this._hasDataChannelMediaSection=!0}return{dataChannel:R}}async setupTransport({localDtlsRole:y,localSdpObject:x}){x||(x=e.parse(this._pc.localDescription.sdp));const S=c.extractDtlsParameters({sdpObject:x});S.role=y,this._remoteSdp.updateDtlsRole(y==="client"?"server":"client"),await new Promise((T,N)=>{this.safeEmit("@connect",{dtlsParameters:S},T,N)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new n.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return zp.Firefox120=_,zp}var Fp={},Y4;function dEe(){if(Y4)return Fp;Y4=1,Object.defineProperty(Fp,"__esModule",{value:!0}),Fp.Safari12=void 0;const e=Jl(),t=Fa(),r=xa(),n=Wo(),a=Vi(),o=gf(),u=bm(),c=_m(),p=xm(),h=wm(),f=new r.Logger("Safari12"),m="Safari12",b={OS:1024,MIS:1024};let _=class zv extends t.EnhancedEventEmitter{constructor({direction:y,iceParameters:x,iceCandidates:S,dtlsParameters:T,sctpParameters:N,iceServers:A,iceTransportPolicy:P,additionalSettings:k,getSendExtendedRtpCapabilities:R}){super();Y(this,"_closed",!1);Y(this,"_direction");Y(this,"_remoteSdp");Y(this,"_getSendExtendedRtpCapabilities");Y(this,"_forcedLocalDtlsRole");Y(this,"_pc");Y(this,"_mapMidTransceiver",new Map);Y(this,"_sendStream",new MediaStream);Y(this,"_hasDataChannelMediaSection",!1);Y(this,"_nextSendSctpStreamId",0);Y(this,"_transportReady",!1);Y(this,"onIceGatheringStateChange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)});Y(this,"onIceCandidateError",y=>{this.emit("@icecandidateerror",y)});Y(this,"onConnectionStateChange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)});Y(this,"onIceConnectionStateChange",()=>{switch(this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}});f.debug("constructor()"),this._direction=y,this._remoteSdp=new u.RemoteSdp({iceParameters:x,iceCandidates:S,dtlsParameters:T,sctpParameters:N}),this._getSendExtendedRtpCapabilities=R,T.role&&T.role!=="auto"&&(this._forcedLocalDtlsRole=T.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:A??[],iceTransportPolicy:P??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...k}),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.addEventListener("icecandidateerror",D=>{this.emit("@icecandidateerror",D)}),this._pc.addEventListener("icegatheringstatechange",this.onIceGatheringStateChange),this._pc.addEventListener("icecandidateerror",this.onIceCandidateError),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",this.onConnectionStateChange):(f.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",this.onIceConnectionStateChange))}static createFactory(){return{name:m,factory:y=>new zv(y),getNativeRtpCapabilities:async()=>{f.debug("getNativeRtpCapabilities()");let y=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});try{y.addTransceiver("audio"),y.addTransceiver("video");const x=await y.createOffer();try{y.close()}catch{}y=void 0;const S=e.parse(x.sdp);return zv.getLocalRtpCapabilities(S)}catch(x){try{y==null||y.close()}catch{}throw y=void 0,x}},getNativeSctpCapabilities:async()=>(f.debug("getNativeSctpCapabilities()"),{numStreams:b})}}static getLocalRtpCapabilities(y,x=[]){const S=c.extractRtpCapabilities({sdpObject:y});n.validateAndNormalizeRtpCapabilities(S),h.addNackSupportForOpus(S);for(const T of x)h.addHeaderExtensionSupport(S,T);return S}get name(){return m}close(){if(f.debug("close()"),!this._closed){this._closed=!0;try{this._pc.close()}catch{}this._pc.removeEventListener("icegatheringstatechange",this.onIceGatheringStateChange),this._pc.removeEventListener("icecandidateerror",this.onIceCandidateError),this._pc.removeEventListener("connectionstatechange",this.onConnectionStateChange),this._pc.removeEventListener("iceconnectionstatechange",this.onIceConnectionStateChange),this.emit("@close"),super.close()}}async updateIceServers(y){this.assertNotClosed(),f.debug("updateIceServers()");const x=this._pc.getConfiguration();x.iceServers=y,this._pc.setConfiguration(x)}async restartIce(y){if(this.assertNotClosed(),f.debug("restartIce()"),this._remoteSdp.updateIceParameters(y),!!this._transportReady)if(this._direction==="send"){const x=await this._pc.createOffer({iceRestart:!0});f.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x);const S={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",S),await this._pc.setRemoteDescription(S)}else{const x={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);const S=await this._pc.createAnswer();f.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:y,streamId:x,encodings:S,codecOptions:T,headerExtensionOptions:N,codec:A,onRtpSender:P}){this.assertNotClosed(),this.assertSendDirection(),f.debug("send() [kind:%s, track.id:%s, streamId:%s]",y.kind,y.id,x);const k=this._remoteSdp.getNextMediaSectionIdx(),R=this._pc.addTransceiver(y,{direction:"sendonly",streams:[this._sendStream]});P&&P(R.sender);let D=await this._pc.createOffer(),I=e.parse(D.sdp);I.extmapAllowMixed&&this._remoteSdp.setSessionExtmapAllowMixed();const q=[];q.push({uri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time",kind:y.kind,direction:"sendonly"});const z=zv.getLocalRtpCapabilities(I,q),M=this._getSendExtendedRtpCapabilities(z),F=n.getSendingRtpParameters(y.kind,M);F.codecs=n.reduceCodecs(F.codecs,A);const B=n.getSendingRemoteRtpParameters(y.kind,M);B.codecs=n.reduceCodecs(B.codecs,A);let O;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:I});const $=(0,o.parse)((S??[{}])[0].scalabilityMode);S&&S.length>1&&(f.debug("send() | enabling legacy simulcast"),I=e.parse(D.sdp),O=I.media[k.idx],p.addLegacySimulcast({offerMediaObject:O,numStreams:S.length}),D={type:"offer",sdp:e.write(I)}),N!=null&&N.absCaptureTime&&(O=I.media[k.idx],c.addHeaderExtension({offerMediaObject:O,headerExtensionUri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time",headerExtensionId:B.headerExtensions.find(Q=>Q.uri==="http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time").id}),D={type:"offer",sdp:e.write(I)}),f.debug("send() | calling pc.setLocalDescription() [offer:%o]",D),await this._pc.setLocalDescription(D);const K=R.mid;if(F.mid=K,I=e.parse(this._pc.localDescription.sdp),O=I.media[k.idx],F.rtcp.cname=c.getCname({offerMediaObject:O}),F.msid=`${x??this._sendStream.id} ${y.id}`,F.encodings=p.getRtpEncodings({offerMediaObject:O,codecs:F.codecs}),S)for(let Q=0;Q<F.encodings.length;++Q)S[Q]&&Object.assign(F.encodings[Q],S[Q]);if(F.encodings.length>1&&(F.codecs[0].mimeType.toLowerCase()==="video/vp8"||F.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const Q of F.encodings)Q.scalabilityMode?Q.scalabilityMode=`L1T${$.temporalLayers}`:Q.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:O,reuseMid:k.reuseMid,offerRtpParameters:F,answerRtpParameters:B,codecOptions:T});const V={type:"answer",sdp:this._remoteSdp.getSdp()};return f.debug("send() | calling pc.setRemoteDescription() [answer:%o]",V),await this._pc.setRemoteDescription(V),this._mapMidTransceiver.set(K,R),{localId:K,rtpParameters:F,rtpSender:R.sender}}async stopSending(y){if(this.assertSendDirection(),this._closed)return;f.debug("stopSending() [localId:%s]",y);const x=this._mapMidTransceiver.get(y);if(!x)throw new Error("associated RTCRtpTransceiver not found");if(x.sender.replaceTrack(null),this._pc.removeTrack(x.sender),this._remoteSdp.closeMediaSection(x.mid))try{x.stop()}catch{}const T=await this._pc.createOffer();f.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",T),await this._pc.setLocalDescription(T);const N={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",N),await this._pc.setRemoteDescription(N),this._mapMidTransceiver.delete(y)}async pauseSending(y){this.assertNotClosed(),this.assertSendDirection(),f.debug("pauseSending() [localId:%s]",y);const x=this._mapMidTransceiver.get(y);if(!x)throw new Error("associated RTCRtpTransceiver not found");x.direction="inactive",this._remoteSdp.pauseMediaSection(y);const S=await this._pc.createOffer();f.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",S),await this._pc.setLocalDescription(S);const T={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",T),await this._pc.setRemoteDescription(T)}async resumeSending(y){this.assertNotClosed(),this.assertSendDirection(),f.debug("resumeSending() [localId:%s]",y);const x=this._mapMidTransceiver.get(y);if(!x)throw new Error("associated RTCRtpTransceiver not found");x.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(y);const S=await this._pc.createOffer();f.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",S),await this._pc.setLocalDescription(S);const T={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",T),await this._pc.setRemoteDescription(T)}async replaceTrack(y,x){this.assertNotClosed(),this.assertSendDirection(),x?f.debug("replaceTrack() [localId:%s, track.id:%s]",y,x.id):f.debug("replaceTrack() [localId:%s, no track]",y);const S=this._mapMidTransceiver.get(y);if(!S)throw new Error("associated RTCRtpTransceiver not found");await S.sender.replaceTrack(x)}async setMaxSpatialLayer(y,x){this.assertNotClosed(),this.assertSendDirection(),f.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",y,x);const S=this._mapMidTransceiver.get(y);if(!S)throw new Error("associated RTCRtpTransceiver not found");const T=S.sender.getParameters();T.encodings.forEach((P,k)=>{k<=x?P.active=!0:P.active=!1}),await S.sender.setParameters(T),this._remoteSdp.muxMediaSectionSimulcast(y,T.encodings);const N=await this._pc.createOffer();f.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",N),await this._pc.setLocalDescription(N);const A={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",A),await this._pc.setRemoteDescription(A)}async setRtpEncodingParameters(y,x){this.assertNotClosed(),this.assertSendDirection(),f.debug("setRtpEncodingParameters() [localId:%s, params:%o]",y,x);const S=this._mapMidTransceiver.get(y);if(!S)throw new Error("associated RTCRtpTransceiver not found");const T=S.sender.getParameters();T.encodings.forEach((P,k)=>{T.encodings[k]={...P,...x}}),await S.sender.setParameters(T),this._remoteSdp.muxMediaSectionSimulcast(y,T.encodings);const N=await this._pc.createOffer();f.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",N),await this._pc.setLocalDescription(N);const A={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",A),await this._pc.setRemoteDescription(A)}async getSenderStats(y){this.assertNotClosed(),this.assertSendDirection();const x=this._mapMidTransceiver.get(y);if(!x)throw new Error("associated RTCRtpTransceiver not found");return x.sender.getStats()}async sendDataChannel({ordered:y,maxPacketLifeTime:x,maxRetransmits:S,label:T,protocol:N}){this.assertNotClosed(),this.assertSendDirection();const A={negotiated:!0,id:this._nextSendSctpStreamId,ordered:y,maxPacketLifeTime:x,maxRetransmits:S,protocol:N};f.debug("sendDataChannel() [options:%o]",A);const P=this._pc.createDataChannel(T,A);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%b.MIS,!this._hasDataChannelMediaSection){const R=await this._pc.createOffer(),D=e.parse(R.sdp),I=D.media.find(z=>z.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:D}),f.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",R),await this._pc.setLocalDescription(R),this._remoteSdp.sendSctpAssociation({offerMediaObject:I});const q={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",q),await this._pc.setRemoteDescription(q),this._hasDataChannelMediaSection=!0}const k={streamId:A.id,ordered:A.ordered,maxPacketLifeTime:A.maxPacketLifeTime,maxRetransmits:A.maxRetransmits};return{dataChannel:P,sctpStreamParameters:k}}async receive(y){var P;this.assertNotClosed(),this.assertRecvDirection();const x=[],S=new Map;for(const k of y){const{trackId:R,kind:D,rtpParameters:I,streamId:q}=k;f.debug("receive() [trackId:%s, kind:%s]",R,D);const z=I.mid??String(this._mapMidTransceiver.size);S.set(R,z);const{msidStreamId:M}=h.getMsidStreamIdAndTrackId(I.msid);this._remoteSdp.receive({mid:z,kind:D,offerRtpParameters:I,streamId:q??M??((P=I.rtcp)==null?void 0:P.cname)??"-",trackId:R})}const T={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",T),await this._pc.setRemoteDescription(T);for(const k of y){const{trackId:R,onRtpReceiver:D}=k;if(D){const I=S.get(R),q=this._pc.getTransceivers().find(z=>z.mid===I);if(!q)throw new Error("transceiver not found");D(q.receiver)}}let N=await this._pc.createAnswer();const A=e.parse(N.sdp);for(const k of y){const{trackId:R,rtpParameters:D}=k,I=S.get(R),q=A.media.find(z=>String(z.mid)===I);c.applyCodecParameters({offerRtpParameters:D,answerMediaObject:q})}N={type:"answer",sdp:e.write(A)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:A}),f.debug("receive() | calling pc.setLocalDescription() [answer:%o]",N),await this._pc.setLocalDescription(N);for(const k of y){const{trackId:R}=k,D=S.get(R),I=this._pc.getTransceivers().find(q=>q.mid===D);if(!I)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(D,I),x.push({localId:D,track:I.receiver.track,rtpReceiver:I.receiver})}return x}async stopReceiving(y){if(this.assertRecvDirection(),this._closed)return;for(const T of y){f.debug("stopReceiving() [localId:%s]",T);const N=this._mapMidTransceiver.get(T);if(!N)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(N.mid)}const x={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);const S=await this._pc.createAnswer();f.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S);for(const T of y)this._mapMidTransceiver.delete(T)}async pauseReceiving(y){this.assertNotClosed(),this.assertRecvDirection();for(const T of y){f.debug("pauseReceiving() [localId:%s]",T);const N=this._mapMidTransceiver.get(T);if(!N)throw new Error("associated RTCRtpTransceiver not found");N.direction="inactive",this._remoteSdp.pauseMediaSection(T)}const x={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);const S=await this._pc.createAnswer();f.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S)}async resumeReceiving(y){this.assertNotClosed(),this.assertRecvDirection();for(const T of y){f.debug("resumeReceiving() [localId:%s]",T);const N=this._mapMidTransceiver.get(T);if(!N)throw new Error("associated RTCRtpTransceiver not found");N.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(T)}const x={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);const S=await this._pc.createAnswer();f.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S)}async getReceiverStats(y){this.assertNotClosed(),this.assertRecvDirection();const x=this._mapMidTransceiver.get(y);if(!x)throw new Error("associated RTCRtpTransceiver not found");return x.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:y,label:x,protocol:S}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:T,ordered:N,maxPacketLifeTime:A,maxRetransmits:P}=y,k={negotiated:!0,id:T,ordered:N,maxPacketLifeTime:A,maxRetransmits:P,protocol:S};f.debug("receiveDataChannel() [options:%o]",k);const R=this._pc.createDataChannel(x,k);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const D={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",D),await this._pc.setRemoteDescription(D);const I=await this._pc.createAnswer();if(!this._transportReady){const q=e.parse(I.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:q})}f.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",I),await this._pc.setLocalDescription(I),this._hasDataChannelMediaSection=!0}return{dataChannel:R}}async setupTransport({localDtlsRole:y,localSdpObject:x}){x||(x=e.parse(this._pc.localDescription.sdp));const S=c.extractDtlsParameters({sdpObject:x});S.role=y,this._remoteSdp.updateDtlsRole(y==="client"?"server":"client"),await new Promise((T,N)=>{this.safeEmit("@connect",{dtlsParameters:S},T,N)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new a.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return Fp.Safari12=_,Fp}var qp={},Q4;function fEe(){if(Q4)return qp;Q4=1,Object.defineProperty(qp,"__esModule",{value:!0}),qp.ReactNative106=void 0;const e=Jl(),t=Fa(),r=xa(),n=Wo(),a=Vi(),o=gf(),u=bm(),c=_m(),p=xm(),h=wm(),f=new r.Logger("ReactNative106"),m="ReactNative106",b={OS:1024,MIS:1024};let _=class Fv extends t.EnhancedEventEmitter{constructor({direction:y,iceParameters:x,iceCandidates:S,dtlsParameters:T,sctpParameters:N,iceServers:A,iceTransportPolicy:P,additionalSettings:k,getSendExtendedRtpCapabilities:R}){super();Y(this,"_closed",!1);Y(this,"_direction");Y(this,"_remoteSdp");Y(this,"_getSendExtendedRtpCapabilities");Y(this,"_forcedLocalDtlsRole");Y(this,"_pc");Y(this,"_mapMidTransceiver",new Map);Y(this,"_sendStream",new MediaStream);Y(this,"_hasDataChannelMediaSection",!1);Y(this,"_nextSendSctpStreamId",0);Y(this,"_transportReady",!1);Y(this,"onIceGatheringStateChange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)});Y(this,"onIceCandidateError",y=>{this.emit("@icecandidateerror",y)});Y(this,"onConnectionStateChange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)});Y(this,"onIceConnectionStateChange",()=>{switch(this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}});f.debug("constructor()"),this._direction=y,this._remoteSdp=new u.RemoteSdp({iceParameters:x,iceCandidates:S,dtlsParameters:T,sctpParameters:N}),this._getSendExtendedRtpCapabilities=R,T.role&&T.role!=="auto"&&(this._forcedLocalDtlsRole=T.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:A??[],iceTransportPolicy:P??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...k}),this._pc.addEventListener("icegatheringstatechange",this.onIceGatheringStateChange),this._pc.addEventListener("icecandidateerror",this.onIceCandidateError),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",this.onConnectionStateChange):(f.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",this.onIceConnectionStateChange))}static createFactory(){return{name:m,factory:y=>new Fv(y),getNativeRtpCapabilities:async()=>{f.debug("getNativeRtpCapabilities()");let y=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});try{y.addTransceiver("audio"),y.addTransceiver("video");const x=await y.createOffer();try{y.close()}catch{}y=void 0;const S=e.parse(x.sdp);return Fv.getLocalRtpCapabilities(S)}catch(x){try{y==null||y.close()}catch{}throw y=void 0,x}},getNativeSctpCapabilities:async()=>(f.debug("getNativeSctpCapabilities()"),{numStreams:b})}}static getLocalRtpCapabilities(y,x=[]){const S=c.extractRtpCapabilities({sdpObject:y});n.validateAndNormalizeRtpCapabilities(S),h.addNackSupportForOpus(S);for(const T of x)h.addHeaderExtensionSupport(S,T);return S}get name(){return m}close(){if(f.debug("close()"),!this._closed){this._closed=!0,this._sendStream.release(!1);try{this._pc.close()}catch{}this._pc.removeEventListener("icegatheringstatechange",this.onIceGatheringStateChange),this._pc.removeEventListener("icecandidateerror",this.onIceCandidateError),this._pc.removeEventListener("connectionstatechange",this.onConnectionStateChange),this._pc.removeEventListener("iceconnectionstatechange",this.onIceConnectionStateChange),this.emit("@close"),super.close()}}async updateIceServers(y){this.assertNotClosed(),f.debug("updateIceServers()");const x=this._pc.getConfiguration();x.iceServers=y,this._pc.setConfiguration(x)}async restartIce(y){if(this.assertNotClosed(),f.debug("restartIce()"),this._remoteSdp.updateIceParameters(y),!!this._transportReady)if(this._direction==="send"){const x=await this._pc.createOffer({iceRestart:!0});f.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x);const S={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",S),await this._pc.setRemoteDescription(S)}else{const x={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);const S=await this._pc.createAnswer();f.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:y,streamId:x,encodings:S,codecOptions:T,headerExtensionOptions:N,codec:A,onRtpSender:P}){this.assertNotClosed(),this.assertSendDirection(),f.debug("send() [kind:%s, track.id:%s, streamId:%s]",y.kind,y.id,x),S&&S.length>1&&S.forEach((U,X)=>{U.rid=`r${X}`});const k=this._remoteSdp.getNextMediaSectionIdx(),R=this._pc.addTransceiver(y,{direction:"sendonly",streams:[this._sendStream],sendEncodings:S});P&&P(R.sender);let D=await this._pc.createOffer(),I=e.parse(D.sdp);I.extmapAllowMixed&&this._remoteSdp.setSessionExtmapAllowMixed();const q=[];q.push({uri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time",kind:y.kind,direction:"sendonly"});const z=Fv.getLocalRtpCapabilities(I,q),M=this._getSendExtendedRtpCapabilities(z),F=n.getSendingRtpParameters(y.kind,M);F.codecs=n.reduceCodecs(F.codecs,A);const B=n.getSendingRemoteRtpParameters(y.kind,M);B.codecs=n.reduceCodecs(B.codecs,A),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:I});let O=!1;const $=(0,o.parse)((S??[{}])[0].scalabilityMode);let K;(S==null?void 0:S.length)===1&&$.spatialLayers>1&&F.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(f.debug("send() | enabling legacy simulcast for VP9 SVC"),O=!0,I=e.parse(D.sdp),K=I.media[k.idx],p.addLegacySimulcast({offerMediaObject:K,numStreams:$.spatialLayers}),D={type:"offer",sdp:e.write(I)}),N!=null&&N.absCaptureTime&&(K=I.media[k.idx],c.addHeaderExtension({offerMediaObject:K,headerExtensionUri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time",headerExtensionId:B.headerExtensions.find(U=>U.uri==="http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time").id}),D={type:"offer",sdp:e.write(I)}),f.debug("send() | calling pc.setLocalDescription() [offer:%o]",D),await this._pc.setLocalDescription(D);let V=R.mid??void 0;if(V||f.warn("send() | missing transceiver.mid (bug in react-native-webrtc, using a workaround"),F.mid=V,I=e.parse(this._pc.localDescription.sdp),K=I.media[k.idx],F.rtcp.cname=c.getCname({offerMediaObject:K}),F.msid=`${x??this._sendStream.id} ${y.id}`,!S)F.encodings=p.getRtpEncodings({offerMediaObject:K,codecs:F.codecs});else if(S.length===1){let U=p.getRtpEncodings({offerMediaObject:K,codecs:F.codecs});Object.assign(U[0],S[0]),O&&(U=[U[0]]),F.encodings=U}else F.encodings=S;if(F.encodings.length>1&&(F.codecs[0].mimeType.toLowerCase()==="video/vp8"||F.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const U of F.encodings)U.scalabilityMode?U.scalabilityMode=`L1T${$.temporalLayers}`:U.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:K,reuseMid:k.reuseMid,offerRtpParameters:F,answerRtpParameters:B,codecOptions:T});const Q={type:"answer",sdp:this._remoteSdp.getSdp()};return f.debug("send() | calling pc.setRemoteDescription() [answer:%o]",Q),await this._pc.setRemoteDescription(Q),V||(V=R.mid,F.mid=V),this._mapMidTransceiver.set(V,R),{localId:V,rtpParameters:F,rtpSender:R.sender}}async stopSending(y){if(this.assertSendDirection(),this._closed)return;f.debug("stopSending() [localId:%s]",y);const x=this._mapMidTransceiver.get(y);if(!x)throw new Error("associated RTCRtpTransceiver not found");if(x.sender.replaceTrack(null),this._pc.removeTrack(x.sender),this._remoteSdp.closeMediaSection(x.mid))try{x.stop()}catch{}const T=await this._pc.createOffer();f.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",T),await this._pc.setLocalDescription(T);const N={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",N),await this._pc.setRemoteDescription(N),this._mapMidTransceiver.delete(y)}async pauseSending(y){this.assertNotClosed(),this.assertSendDirection(),f.debug("pauseSending() [localId:%s]",y);const x=this._mapMidTransceiver.get(y);if(!x)throw new Error("associated RTCRtpTransceiver not found");x.direction="inactive",this._remoteSdp.pauseMediaSection(y);const S=await this._pc.createOffer();f.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",S),await this._pc.setLocalDescription(S);const T={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",T),await this._pc.setRemoteDescription(T)}async resumeSending(y){this.assertNotClosed(),this.assertSendDirection(),f.debug("resumeSending() [localId:%s]",y);const x=this._mapMidTransceiver.get(y);if(this._remoteSdp.resumeSendingMediaSection(y),!x)throw new Error("associated RTCRtpTransceiver not found");x.direction="sendonly";const S=await this._pc.createOffer();f.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",S),await this._pc.setLocalDescription(S);const T={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",T),await this._pc.setRemoteDescription(T)}async replaceTrack(y,x){this.assertNotClosed(),this.assertSendDirection(),x?f.debug("replaceTrack() [localId:%s, track.id:%s]",y,x.id):f.debug("replaceTrack() [localId:%s, no track]",y);const S=this._mapMidTransceiver.get(y);if(!S)throw new Error("associated RTCRtpTransceiver not found");await S.sender.replaceTrack(x)}async setMaxSpatialLayer(y,x){this.assertNotClosed(),this.assertSendDirection(),f.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",y,x);const S=this._mapMidTransceiver.get(y);if(!S)throw new Error("associated RTCRtpTransceiver not found");const T=S.sender.getParameters();T.encodings.forEach((P,k)=>{k<=x?P.active=!0:P.active=!1}),await S.sender.setParameters(T),this._remoteSdp.muxMediaSectionSimulcast(y,T.encodings);const N=await this._pc.createOffer();f.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",N),await this._pc.setLocalDescription(N);const A={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",A),await this._pc.setRemoteDescription(A)}async setRtpEncodingParameters(y,x){this.assertNotClosed(),this.assertSendDirection(),f.debug("setRtpEncodingParameters() [localId:%s, params:%o]",y,x);const S=this._mapMidTransceiver.get(y);if(!S)throw new Error("associated RTCRtpTransceiver not found");const T=S.sender.getParameters();T.encodings.forEach((P,k)=>{T.encodings[k]={...P,...x}}),await S.sender.setParameters(T),this._remoteSdp.muxMediaSectionSimulcast(y,T.encodings);const N=await this._pc.createOffer();f.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",N),await this._pc.setLocalDescription(N);const A={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",A),await this._pc.setRemoteDescription(A)}async getSenderStats(y){this.assertNotClosed(),this.assertSendDirection();const x=this._mapMidTransceiver.get(y);if(!x)throw new Error("associated RTCRtpTransceiver not found");return x.sender.getStats()}async sendDataChannel({ordered:y,maxPacketLifeTime:x,maxRetransmits:S,label:T,protocol:N}){this.assertNotClosed(),this.assertSendDirection();const A={negotiated:!0,id:this._nextSendSctpStreamId,ordered:y,maxPacketLifeTime:x,maxRetransmits:S,protocol:N};f.debug("sendDataChannel() [options:%o]",A);const P=this._pc.createDataChannel(T,A);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%b.MIS,!this._hasDataChannelMediaSection){const R=await this._pc.createOffer(),D=e.parse(R.sdp),I=D.media.find(z=>z.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:D}),f.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",R),await this._pc.setLocalDescription(R),this._remoteSdp.sendSctpAssociation({offerMediaObject:I});const q={type:"answer",sdp:this._remoteSdp.getSdp()};f.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",q),await this._pc.setRemoteDescription(q),this._hasDataChannelMediaSection=!0}const k={streamId:A.id,ordered:A.ordered,maxPacketLifeTime:A.maxPacketLifeTime,maxRetransmits:A.maxRetransmits};return{dataChannel:P,sctpStreamParameters:k}}async receive(y){var P;this.assertNotClosed(),this.assertRecvDirection();const x=[],S=new Map;for(const k of y){const{trackId:R,kind:D,rtpParameters:I,streamId:q}=k;f.debug("receive() [trackId:%s, kind:%s]",R,D);const z=I.mid??String(this._mapMidTransceiver.size);S.set(R,z);const{msidStreamId:M}=h.getMsidStreamIdAndTrackId(I.msid);this._remoteSdp.receive({mid:z,kind:D,offerRtpParameters:I,streamId:q??M??((P=I.rtcp)==null?void 0:P.cname)??"-",trackId:R})}const T={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",T),await this._pc.setRemoteDescription(T);for(const k of y){const{trackId:R,onRtpReceiver:D}=k;if(D){const I=S.get(R),q=this._pc.getTransceivers().find(z=>z.mid===I);if(!q)throw new Error("transceiver not found");D(q.receiver)}}let N=await this._pc.createAnswer();const A=e.parse(N.sdp);for(const k of y){const{trackId:R,rtpParameters:D}=k,I=S.get(R),q=A.media.find(z=>String(z.mid)===I);c.applyCodecParameters({offerRtpParameters:D,answerMediaObject:q})}N={type:"answer",sdp:e.write(A)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:A}),f.debug("receive() | calling pc.setLocalDescription() [answer:%o]",N),await this._pc.setLocalDescription(N);for(const k of y){const{trackId:R}=k,D=S.get(R),I=this._pc.getTransceivers().find(q=>q.mid===D);if(I)this._mapMidTransceiver.set(D,I),x.push({localId:D,track:I.receiver.track,rtpReceiver:I.receiver});else throw new Error("new RTCRtpTransceiver not found")}return x}async stopReceiving(y){if(this.assertRecvDirection(),this._closed)return;for(const T of y){f.debug("stopReceiving() [localId:%s]",T);const N=this._mapMidTransceiver.get(T);if(!N)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(N.mid)}const x={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);const S=await this._pc.createAnswer();f.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S);for(const T of y)this._mapMidTransceiver.delete(T)}async pauseReceiving(y){this.assertNotClosed(),this.assertRecvDirection();for(const T of y){f.debug("pauseReceiving() [localId:%s]",T);const N=this._mapMidTransceiver.get(T);if(!N)throw new Error("associated RTCRtpTransceiver not found");N.direction="inactive",this._remoteSdp.pauseMediaSection(T)}const x={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);const S=await this._pc.createAnswer();f.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S)}async resumeReceiving(y){this.assertNotClosed(),this.assertRecvDirection();for(const T of y){f.debug("resumeReceiving() [localId:%s]",T);const N=this._mapMidTransceiver.get(T);if(!N)throw new Error("associated RTCRtpTransceiver not found");N.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(T)}const x={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);const S=await this._pc.createAnswer();f.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S)}async getReceiverStats(y){this.assertNotClosed(),this.assertRecvDirection();const x=this._mapMidTransceiver.get(y);if(!x)throw new Error("associated RTCRtpTransceiver not found");return x.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:y,label:x,protocol:S}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:T,ordered:N,maxPacketLifeTime:A,maxRetransmits:P}=y,k={negotiated:!0,id:T,ordered:N,maxPacketLifeTime:A,maxRetransmits:P,protocol:S};f.debug("receiveDataChannel() [options:%o]",k);const R=this._pc.createDataChannel(x,k);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const D={type:"offer",sdp:this._remoteSdp.getSdp()};f.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",D),await this._pc.setRemoteDescription(D);const I=await this._pc.createAnswer();if(!this._transportReady){const q=e.parse(I.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:q})}f.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",I),await this._pc.setLocalDescription(I),this._hasDataChannelMediaSection=!0}return{dataChannel:R}}async setupTransport({localDtlsRole:y,localSdpObject:x}){x||(x=e.parse(this._pc.localDescription.sdp));const S=c.extractDtlsParameters({sdpObject:x});S.role=y,this._remoteSdp.updateDtlsRole(y==="client"?"server":"client"),await new Promise((T,N)=>{this.safeEmit("@connect",{dtlsParameters:S},T,N)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new a.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return qp.ReactNative106=_,qp}var X4;function pEe(){if(X4)return bc;X4=1,Object.defineProperty(bc,"__esModule",{value:!0}),bc.Device=void 0,bc.detectDevice=b,bc.detectDeviceAsync=_;const e=xa(),t=Fa(),r=Vi(),n=mf(),a=Wo(),o=aEe(),u=lEe(),c=cEe(),p=uEe(),h=dEe(),f=fEe(),m=new e.Logger("Device");function b(P,k){return m.debug("detectDevice()"),!P&&typeof navigator=="object"&&(P=navigator.userAgent),!k&&typeof navigator=="object"&&(k=navigator.userAgentData),w(P,k)}async function _(P,k){return m.debug("detectDeviceAsync()"),!P&&typeof navigator=="object"&&(P=navigator.userAgent),!k&&typeof navigator=="object"&&(k=navigator.userAgentData),w(P,k)}let j=class O7{constructor({handlerName:k,handlerFactory:R}={}){Y(this,"_handlerFactory");Y(this,"_handlerName");Y(this,"_loaded",!1);Y(this,"_getSendExtendedRtpCapabilities");Y(this,"_recvRtpCapabilities");Y(this,"_canProduceByKind",{audio:!1,video:!1});Y(this,"_sctpCapabilities");Y(this,"_observer",new t.EnhancedEventEmitter);if(m.debug("constructor()"),k&&R)throw new TypeError("just one of handlerName or handlerInterface can be given");if(R)this._handlerFactory=R;else{if(k)m.debug("constructor() | handler given: %s",k);else if(k=b(),k)m.debug("constructor() | detected handler: %s",k);else throw new r.UnsupportedError("device not supported");switch(k){case"Chrome111":{this._handlerFactory=u.Chrome111.createFactory();break}case"Chrome74":{this._handlerFactory=c.Chrome74.createFactory();break}case"Firefox120":{this._handlerFactory=p.Firefox120.createFactory();break}case"Safari12":{this._handlerFactory=h.Safari12.createFactory();break}case"ReactNative106":{this._handlerFactory=f.ReactNative106.createFactory();break}default:throw new TypeError(`unknown handlerName "${k}"`)}}this._handlerName=this._handlerFactory.name}static async factory({handlerName:k,handlerFactory:R}={}){if(m.debug("factory()"),k&&R)throw new TypeError("just one of handlerName or handlerInterface can be given");if(!k&&!R&&(k=await _(),!k))throw new r.UnsupportedError("device not supported");return new O7({handlerName:k,handlerFactory:R})}get handlerName(){return this._handlerName}get loaded(){return this._loaded}get rtpCapabilities(){if(!this._loaded)throw new r.InvalidStateError("not loaded");return this._recvRtpCapabilities}get sctpCapabilities(){if(!this._loaded)throw new r.InvalidStateError("not loaded");return this._sctpCapabilities}get observer(){return this._observer}async load({routerRtpCapabilities:k,preferLocalCodecsOrder:R=!1}){if(m.debug("load() [routerRtpCapabilities:%o]",k),this._loaded)throw new r.InvalidStateError("already loaded");const D=n.clone(k);a.validateAndNormalizeRtpCapabilities(D);const{getNativeRtpCapabilities:I,getNativeSctpCapabilities:q}=this._handlerFactory,z=n.clone(await I());a.validateAndNormalizeRtpCapabilities(z),m.debug("load() | got native RTP capabilities:%o",z),this._getSendExtendedRtpCapabilities=F=>n.clone(a.getExtendedRtpCapabilities(F,D,R));const M=a.getExtendedRtpCapabilities(z,D,!1);this._recvRtpCapabilities=a.getRecvRtpCapabilities(M),a.validateAndNormalizeRtpCapabilities(this._recvRtpCapabilities),m.debug("load() | got receiving RTP capabilities:%o",this._recvRtpCapabilities),this._canProduceByKind.audio=a.canSend("audio",this._recvRtpCapabilities),this._canProduceByKind.video=a.canSend("video",this._recvRtpCapabilities),this._sctpCapabilities=await q(),a.validateSctpCapabilities(this._sctpCapabilities),m.debug("load() | got native SCTP capabilities:%o",this._sctpCapabilities),m.debug("load() succeeded"),this._loaded=!0}canProduce(k){if(this._loaded){if(k!=="audio"&&k!=="video")throw new TypeError(`invalid kind "${k}"`)}else throw new r.InvalidStateError("not loaded");return this._canProduceByKind[k]}createSendTransport({id:k,iceParameters:R,iceCandidates:D,dtlsParameters:I,sctpParameters:q,iceServers:z,iceTransportPolicy:M,additionalSettings:F,appData:B}){return m.debug("createSendTransport()"),this.createTransport({direction:"send",id:k,iceParameters:R,iceCandidates:D,dtlsParameters:I,sctpParameters:q,iceServers:z,iceTransportPolicy:M,additionalSettings:F,appData:B})}createRecvTransport({id:k,iceParameters:R,iceCandidates:D,dtlsParameters:I,sctpParameters:q,iceServers:z,iceTransportPolicy:M,additionalSettings:F,appData:B}){return m.debug("createRecvTransport()"),this.createTransport({direction:"recv",id:k,iceParameters:R,iceCandidates:D,dtlsParameters:I,sctpParameters:q,iceServers:z,iceTransportPolicy:M,additionalSettings:F,appData:B})}createTransport({direction:k,id:R,iceParameters:D,iceCandidates:I,dtlsParameters:q,sctpParameters:z,iceServers:M,iceTransportPolicy:F,additionalSettings:B,appData:O}){if(this._loaded){if(typeof R!="string")throw new TypeError("missing id");if(typeof D!="object")throw new TypeError("missing iceParameters");if(Array.isArray(I)){if(typeof q!="object")throw new TypeError("missing dtlsParameters");if(z&&typeof z!="object")throw new TypeError("wrong sctpParameters");if(O&&typeof O!="object")throw new TypeError("if given, appData must be an object")}else throw new TypeError("missing iceCandidates")}else throw new r.InvalidStateError("not loaded");const $=new o.Transport({direction:k,id:R,iceParameters:D,iceCandidates:I,dtlsParameters:q,sctpParameters:z,iceServers:M,iceTransportPolicy:F,additionalSettings:B,appData:O,handlerFactory:this._handlerFactory,getSendExtendedRtpCapabilities:this._getSendExtendedRtpCapabilities,recvRtpCapabilities:this._recvRtpCapabilities,canProduceByKind:this._canProduceByKind});return this._observer.safeEmit("newtransport",$),$}};bc.Device=j;function w(P,k){m.debug('detectDeviceImpl() [userAgent:"%s", userAgentData:%o]',P,k);const R=y(P,k);if(R){if(R>=111)return m.debug("detectDeviceImpl() | using Chrome111 handler"),"Chrome111";if(R>=74)return m.debug("detectDeviceImpl() | using Chrome74 handler"),"Chrome74";m.warn("detectDeviceImpl() | unsupported Chromium based browser/version");return}const D=x(P);if(D){if(D>=120)return m.debug("detectDeviceImpl() | using Firefox120 handler"),"Firefox120";m.warn("detectDeviceImpl() | unsupported Firefox browser/version");return}const I=S(P);if(I){if(I>=605)return m.debug("detectDeviceImpl() | using Safari12 handler"),"Safari12";m.warn("detectDeviceImpl() | unsupported desktop Safari browser/version");return}const q=T(P);if(q){if(q>=605)return m.debug("detectDeviceImpl() | using Safari12 handler"),"Safari12";m.warn("detectDeviceImpl() | unsupported iOS Safari based browser/version");return}if(A()){if(typeof RTCPeerConnection<"u"&&typeof RTCRtpTransceiver<"u")return m.debug("detectDeviceImpl() | using ReactNative106 handler"),"ReactNative106";m.warn("detectDeviceImpl() | unsupported react-native-webrtc version without RTCPeerConnection or RTCRtpTransceiver, forgot to call registerGlobals() on it?");return}m.warn('detectDeviceImpl() | device not supported [userAgent:"%s", userAgentData:%o]',P,k)}function y(P,k){if(m.debug("getChromiumMajorVersion()"),N(P,k)){m.debug("getChromiumMajorVersion() | this is iOS => undefined");return}if(A()){m.debug("getChromiumMajorVersion() | this is React-Native => undefined");return}if(k){const D=(k.brands??[]).find(I=>I.brand==="Chromium");if(D){const I=Number(D.version);return m.debug(`getChromiumMajorVersion() | Chromium major version based on NavigatorUAData => ${I}`),I}}const R=P==null?void 0:P.match(/\b(?:Chrome|Chromium)\/(\w+)/i);if(R!=null&&R[1]){const D=Number(R[1]);return m.debug(`getChromiumMajorVersion() | Chromium major version based on User-Agent => ${D}`),D}m.debug("getChromiumMajorVersion() | this is not Chromium => undefined")}function x(P){if(m.debug("getFirefoxMajorVersion()"),N(P)){m.debug("getFirefoxMajorVersion() | this is iOS => undefined");return}if(A()){m.debug("getFirefoxMajorVersion() | this is React-Native => undefined");return}const k=P==null?void 0:P.match(/\bFirefox\/(\w+)/i);if(k!=null&&k[1]){const R=Number(k[1]);return m.debug(`getFirefoxMajorVersion() | Firefox major version based on User-Agent => ${R}`),R}m.debug("getFirefoxMajorVersion() | this is not Firefox => undefined")}function S(P){if(m.debug("getMacOSWebKitMajorVersion()"),N(P)){m.debug("getMacOSWebKitMajorVersion() | this is iOS => undefined");return}if(A()){m.debug("getMacOSWebKitMajorVersion() | this is React-Native => undefined");return}if(!(P&&/\bSafari\b/i.test(P)&&!/\bChrome\b/i.test(P)&&!/\bChromium\b/i.test(P)&&!/\bFirefox\b/i.test(P))){m.debug("getMacOSWebKitMajorVersion() | this is not Safari => undefined");return}const R=P.match(/AppleWebKit\/(\w+)/i);if(R!=null&&R[1]){const D=Number(R[1]);return m.debug(`getMacOSWebKitMajorVersion() | WebKit major version based on User-Agent => ${D}`),D}m.debug("getMacOSWebKitMajorVersion() | this is not WebKit => undefined")}function T(P){if(m.debug("getIOSWebKitMajorVersion()"),!N(P)){m.debug("getIOSWebKitMajorVersion() | this is not iOS => undefined");return}if(A()){m.debug("getIOSWebKitMajorVersion() | this is React-Native => undefined");return}const k=P==null?void 0:P.match(/AppleWebKit\/(\w+)/i);if(k!=null&&k[1]){const R=Number(k[1]);return m.debug(`getIOSWebKitMajorVersion() | WebKit major version based on User-Agent => ${R}`),R}m.debug("getIOSWebKitMajorVersion() | this is not WebKit => undefined")}function N(P,k){return m.debug("isIOS()"),(k==null?void 0:k.platform)==="iOS"?(m.debug("isIOS() | this is iOS based on NavigatorUAData.platform => true"),!0):k!=null&&k.platform?(m.debug("isIOS() | this is not iOS based on NavigatorUAData.platform => false"),!1):P&&/iPad|iPhone|iPod/.test(P)?(m.debug("isIOS() | this is iOS based on User-Agent => true"),!0):typeof navigator=="object"&&navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1?(m.debug("isIOS() | this is iPadOS 13+ based on User-Agent => true"),!0):(m.debug("isIOS() | this is not iOS => false"),!1)}function A(){return m.debug("isReactNative()"),typeof navigator=="object"&&navigator.product==="ReactNative"?(m.debug("isReactNative() | this is React-Native based on navigator.product"),!0):(m.debug("isReactNative() | this is not React-Native => false"),!1)}return bc}var Up={},Hp={},Fw={},Z4;function hEe(){if(Z4)return Fw;Z4=1;for(var e=256,t=[],r;e--;)t[e]=(e+256).toString(16).substring(1);function n(){var a=0,o,u="";if(!r||e+16>256){for(r=Array(a=256);a--;)r[a]=256*Math.random()|0;a=e=0}for(;a<16;a++)o=r[e+a],a==6?u+=t[o&15|64]:a==8?u+=t[o&63|128]:u+=t[o],a&1&&a>1&&a<11&&(u+="-");return e++,u}return Fw.v4=n,Fw}var Wp={},J4;function mEe(){if(J4)return Wp;J4=1,Object.defineProperty(Wp,"__esModule",{value:!0}),Wp.FakeEventTarget=void 0;class e{constructor(){Y(this,"listeners",{})}addEventListener(r,n,a){n&&(this.listeners[r]=this.listeners[r]??[],this.listeners[r].push({callback:typeof n=="function"?n:n.handleEvent,once:typeof a=="object"&&a.once===!0}))}removeEventListener(r,n,a){this.listeners[r]&&n&&(this.listeners[r]=this.listeners[r].filter(o=>o.callback!==(typeof n=="function"?n:n.handleEvent)))}dispatchEvent(r){if(!r||typeof r.type!="string")throw new Error("invalid event object");const n=this.listeners[r.type];if(!n)return!0;for(const a of[...n]){try{a.callback.call(this,r)}catch(o){setTimeout(()=>{throw o},0)}a.once&&this.removeEventListener(r.type,a.callback)}return!r.defaultPrevented}}return Wp.FakeEventTarget=e,Wp}var Kp={},eM;function gEe(){if(eM)return Kp;eM=1,Object.defineProperty(Kp,"__esModule",{value:!0}),Kp.FakeEvent=void 0;let e=class{constructor(r,n={}){Y(this,"NONE",0);Y(this,"CAPTURING_PHASE",1);Y(this,"AT_TARGET",2);Y(this,"BUBBLING_PHASE",3);Y(this,"type");Y(this,"bubbles");Y(this,"cancelable");Y(this,"defaultPrevented",!1);Y(this,"composed",!1);Y(this,"currentTarget",null);Y(this,"eventPhase",this.NONE);Y(this,"isTrusted",!0);Y(this,"target",null);Y(this,"timeStamp",0);Y(this,"cancelBubble",!1);Y(this,"returnValue",!0);Y(this,"srcElement",null);this.type=r,this.bubbles=n.bubbles??!1,this.cancelable=n.cancelable??!1}preventDefault(){this.cancelable&&(this.defaultPrevented=!0)}stopPropagation(){}stopImmediatePropagation(){}composedPath(){return[]}initEvent(r,n,a){}};return Kp.FakeEvent=e,Kp}var mv={},tM;function vEe(){if(tM)return mv;tM=1,Object.defineProperty(mv,"__esModule",{value:!0}),mv.clone=e;function e(t){if(t!==void 0)return Number.isNaN(t)?NaN:typeof structuredClone=="function"?structuredClone(t):JSON.parse(JSON.stringify(t))}return mv}var rM;function yEe(){var o,u,c,p,h,f,m,b,_,j,w,y,x,S,T,N;if(rM)return Hp;rM=1,Object.defineProperty(Hp,"__esModule",{value:!0}),Hp.FakeMediaStreamTrack=void 0;const e=hEe(),t=mEe(),r=gEe(),n=vEe(),A=class A extends t.FakeEventTarget{constructor({kind:R,id:D,label:I,contentHint:q,enabled:z,muted:M,readyState:F,capabilities:B,constraints:O,settings:$,data:K}){super();De(this,o);De(this,u);De(this,c);De(this,p);De(this,h);De(this,f);De(this,m);De(this,b);De(this,_);De(this,j);De(this,w);De(this,y,null);De(this,x,null);De(this,S,null);De(this,T,null);De(this,N,null);ke(this,o,D??(0,e.v4)()),ke(this,u,R),ke(this,c,I??""),ke(this,m,q??""),ke(this,h,z??!0),ke(this,f,M??!1),ke(this,p,F??"live"),ke(this,b,B??{}),ke(this,_,O??{}),ke(this,j,$??{}),ke(this,w,K??{})}get id(){return G(this,o)}get kind(){return G(this,u)}get label(){return G(this,c)}get contentHint(){return G(this,m)}set contentHint(R){ke(this,m,R)}get enabled(){return G(this,h)}set enabled(R){const D=G(this,h)!==R;ke(this,h,R),D&&this.dispatchEvent(new r.FakeEvent("enabledchange"))}get muted(){return G(this,f)}get readyState(){return G(this,p)}get data(){return G(this,w)}set data(R){ke(this,w,R)}get onmute(){return G(this,y)}set onmute(R){G(this,y)&&this.removeEventListener("mute",G(this,y)),ke(this,y,R),R&&this.addEventListener("mute",R)}get onunmute(){return G(this,x)}set onunmute(R){G(this,x)&&this.removeEventListener("unmute",G(this,x)),ke(this,x,R),R&&this.addEventListener("unmute",R)}get onended(){return G(this,S)}set onended(R){G(this,S)&&this.removeEventListener("ended",G(this,S)),ke(this,S,R),R&&this.addEventListener("ended",R)}get onenabledchange(){return G(this,T)}set onenabledchange(R){G(this,T)&&this.removeEventListener("enabledchange",G(this,T)),ke(this,T,R),R&&this.addEventListener("enabledchange",R)}get onstopped(){return G(this,N)}set onstopped(R){G(this,N)&&this.removeEventListener("stopped",G(this,N)),ke(this,N,R),R&&this.addEventListener("stopped",R)}addEventListener(R,D,I){super.addEventListener(R,D,I)}removeEventListener(R,D,I){super.removeEventListener(R,D,I)}stop(){G(this,p)!=="ended"&&(ke(this,p,"ended"),this.dispatchEvent(new r.FakeEvent("stopped")))}clone({id:R,data:D}={}){return new A({id:R??(0,e.v4)(),kind:G(this,u),label:G(this,c),contentHint:G(this,m),enabled:G(this,h),muted:G(this,f),readyState:G(this,p),capabilities:(0,n.clone)(G(this,b)),constraints:(0,n.clone)(G(this,_)),settings:(0,n.clone)(G(this,j)),data:D??(0,n.clone)(G(this,w))})}getCapabilities(){return G(this,b)}getConstraints(){return G(this,_)}async applyConstraints(R={}){return ke(this,_,R),Promise.resolve()}getSettings(){return G(this,j)}remoteStop(){G(this,p)!=="ended"&&(ke(this,p,"ended"),this.dispatchEvent(new r.FakeEvent("stopped")),this.dispatchEvent(new r.FakeEvent("ended")))}remoteMute(){G(this,f)||(ke(this,f,!0),this.dispatchEvent(new r.FakeEvent("mute")))}remoteUnmute(){G(this,f)&&(ke(this,f,!1),this.dispatchEvent(new r.FakeEvent("unmute")))}};o=new WeakMap,u=new WeakMap,c=new WeakMap,p=new WeakMap,h=new WeakMap,f=new WeakMap,m=new WeakMap,b=new WeakMap,_=new WeakMap,j=new WeakMap,w=new WeakMap,y=new WeakMap,x=new WeakMap,S=new WeakMap,T=new WeakMap,N=new WeakMap;let a=A;return Hp.FakeMediaStreamTrack=a,Hp}var Gp={},nM;function bEe(){if(nM)return Gp;nM=1,Object.defineProperty(Gp,"__esModule",{value:!0}),Gp.FakeEventTarget=void 0;let e=class{constructor(){Y(this,"listeners",{})}addEventListener(r,n,a){n&&(this.listeners[r]=this.listeners[r]??[],this.listeners[r].push({callback:typeof n=="function"?n:n.handleEvent,once:typeof a=="object"&&a.once===!0}))}removeEventListener(r,n,a){this.listeners[r]&&n&&(this.listeners[r]=this.listeners[r].filter(o=>o.callback!==(typeof n=="function"?n:n.handleEvent)))}dispatchEvent(r){if(!r||typeof r.type!="string")throw new Error("invalid event object");const n=this.listeners[r.type];if(!n)return!0;for(const a of[...n]){try{a.callback.call(this,r)}catch(o){setTimeout(()=>{throw o},0)}a.once&&this.removeEventListener(r.type,a.callback)}return!r.defaultPrevented}};return Gp.FakeEventTarget=e,Gp}var aM;function _Ee(){if(aM)return Up;aM=1,Object.defineProperty(Up,"__esModule",{value:!0}),Up.FakeHandler=void 0;const e=yEe(),t=Fa(),r=xa(),n=mf(),a=Wo(),o=Vi(),u=bEe(),c=new r.Logger("FakeHandler"),p="FakeHandler";let h=class qv extends t.EnhancedEventEmitter{constructor({getSendExtendedRtpCapabilities:_},j){super();Y(this,"_closed",!1);Y(this,"_fakeParameters");Y(this,"_getSendExtendedRtpCapabilities");Y(this,"_cname",`CNAME-${n.generateRandomNumber()}`);Y(this,"_defaultSendStreamId",`${n.generateRandomNumber()}`);Y(this,"_transportReady",!1);Y(this,"_nextLocalId",1);Y(this,"_tracks",new Map);Y(this,"_nextSctpStreamId",0);c.debug("constructor()"),this._getSendExtendedRtpCapabilities=_,this._fakeParameters=j}static createFactory(_){return{name:p,factory:j=>new qv(j,_),getNativeRtpCapabilities:async()=>(c.debug("getNativeRtpCapabilities()"),qv.getLocalRtpCapabilities(_)),getNativeSctpCapabilities:async()=>(c.debug("getNativeSctpCapabilities()"),_.generateNativeSctpCapabilities())}}static getLocalRtpCapabilities(_){const j=_.generateNativeRtpCapabilities();return a.validateAndNormalizeRtpCapabilities(j),j}get name(){return p}close(){c.debug("close()"),!this._closed&&(this._closed=!0,super.close())}setIceGatheringState(_){this.emit("@icegatheringstatechange",_)}setConnectionState(_){this.emit("@connectionstatechange",_)}async updateIceServers(_){this.assertNotClosed(),c.debug("updateIceServers()")}async restartIce(_){this.assertNotClosed(),c.debug("restartIce()")}async getTransportStats(){return this.assertNotClosed(),new Map}async send({track:_,streamId:j,encodings:w,codecOptions:y,codec:x}){this.assertNotClosed(),c.debug("send() [kind:%s, track.id:%s]",_.kind,_.id),this._transportReady||await this.setupTransport({localDtlsRole:"server"});const S=qv.getLocalRtpCapabilities(this._fakeParameters),T=this._getSendExtendedRtpCapabilities(S),N=a.getSendingRtpParameters(_.kind,T);N.codecs=a.reduceCodecs(N.codecs,x);const A=N.codecs.some(k=>/.+\/rtx$/i.test(k.mimeType));N.mid=`mid-${n.generateRandomNumber()}`,N.msid=`${j??"-"} ${_.id}`,w||(w=[{}]);for(const k of w)k.ssrc=n.generateRandomNumber(),A&&(k.rtx={ssrc:n.generateRandomNumber()});N.encodings=w,N.rtcp={cname:this._cname,reducedSize:!0,mux:!0},N.msid=`${j??this._defaultSendStreamId} ${_.id}`;const P=this._nextLocalId++;return this._tracks.set(P,_),{localId:String(P),rtpParameters:N}}async stopSending(_){if(c.debug("stopSending() [localId:%s]",_),!this._closed){if(!this._tracks.has(Number(_)))throw new Error("local track not found");this._tracks.delete(Number(_))}}async pauseSending(_){this.assertNotClosed()}async resumeSending(_){this.assertNotClosed()}async replaceTrack(_,j){this.assertNotClosed(),j?c.debug("replaceTrack() [localId:%s, track.id:%s]",_,j.id):c.debug("replaceTrack() [localId:%s, no track]",_),this._tracks.delete(Number(_)),this._tracks.set(Number(_),j)}async setMaxSpatialLayer(_,j){this.assertNotClosed(),c.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",_,j)}async setRtpEncodingParameters(_,j){this.assertNotClosed(),c.debug("setRtpEncodingParameters() [localId:%s, params:%o]",_,j)}async getSenderStats(_){return this.assertNotClosed(),new Map}async sendDataChannel({ordered:_,maxPacketLifeTime:j,maxRetransmits:w,label:y,protocol:x}){this.assertNotClosed(),this._transportReady||await this.setupTransport({localDtlsRole:"server"}),c.debug("sendDataChannel()");const S=new f({id:this._nextSctpStreamId++,ordered:_,maxPacketLifeTime:j,maxRetransmits:w,label:y,protocol:x}),T={streamId:this._nextSctpStreamId,ordered:_,maxPacketLifeTime:j,maxRetransmits:w};return{dataChannel:S,sctpStreamParameters:T}}async receive(_){this.assertNotClosed();const j=[];for(const w of _){const{trackId:y,kind:x}=w;this._transportReady||await this.setupTransport({localDtlsRole:"client"}),c.debug("receive() [trackId:%s, kind:%s]",y,x);const S=this._nextLocalId++,T=new e.FakeMediaStreamTrack({kind:x});this._tracks.set(S,T),j.push({localId:String(S),track:T})}return j}async stopReceiving(_){if(!this._closed)for(const j of _)c.debug("stopReceiving() [localId:%s]",j),this._tracks.delete(Number(j))}async pauseReceiving(_){this.assertNotClosed()}async resumeReceiving(_){this.assertNotClosed()}async getReceiverStats(_){return this.assertNotClosed(),new Map}async receiveDataChannel({sctpStreamParameters:_,label:j,protocol:w}){return this.assertNotClosed(),this._transportReady||await this.setupTransport({localDtlsRole:"client"}),c.debug("receiveDataChannel()"),{dataChannel:new f({id:_.streamId,ordered:_.ordered,maxPacketLifeTime:_.maxPacketLifeTime,maxRetransmits:_.maxRetransmits,label:j,protocol:w})}}async setupTransport({localDtlsRole:_,localSdpObject:j}){const w=n.clone(this._fakeParameters.generateLocalDtlsParameters());_&&(w.role=_),this.emit("@connectionstatechange","connecting"),await new Promise((y,x)=>this.emit("@connect",{dtlsParameters:w},y,x)),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new o.InvalidStateError("method called in a closed handler")}};Up.FakeHandler=h;class f extends u.FakeEventTarget{constructor({id:_,ordered:j=!0,maxPacketLifeTime:w=null,maxRetransmits:y=null,label:x="",protocol:S=""}){super();Y(this,"_id");Y(this,"_negotiated",!0);Y(this,"_ordered");Y(this,"_maxPacketLifeTime");Y(this,"_maxRetransmits");Y(this,"_label");Y(this,"_protocol");Y(this,"_readyState","connecting");Y(this,"_bufferedAmount",0);Y(this,"_bufferedAmountLowThreshold",0);Y(this,"_binaryType","arraybuffer");Y(this,"_onopen",null);Y(this,"_onclosing",null);Y(this,"_onclose",null);Y(this,"_onmessage",null);Y(this,"_onbufferedamountlow",null);Y(this,"_onerror",null);c.debug(`constructor() [id:${_}, ordered:${j}, maxPacketLifeTime:${w}, maxRetransmits:${y}, label:${x}, protocol:${S}`),this._id=_,this._ordered=j,this._maxPacketLifeTime=w,this._maxRetransmits=y,this._label=x,this._protocol=S}get id(){return this._id}get negotiated(){return this._negotiated}get ordered(){return this._ordered}get maxPacketLifeTime(){return this._maxPacketLifeTime}get maxRetransmits(){return this._maxRetransmits}get label(){return this._label}get protocol(){return this._protocol}get readyState(){return this._readyState}get bufferedAmount(){return this._bufferedAmount}get bufferedAmountLowThreshold(){return this._bufferedAmountLowThreshold}set bufferedAmountLowThreshold(_){this._bufferedAmountLowThreshold=_}get binaryType(){return this._binaryType}set binaryType(_){this._binaryType=_}get onopen(){return this._onopen}set onopen(_){this._onopen&&this.removeEventListener("open",this._onopen),this._onopen=_,_&&this.addEventListener("open",_)}get onclosing(){return this._onclosing}set onclosing(_){this._onclosing&&this.removeEventListener("closing",this._onclosing),this._onclosing=_,_&&this.addEventListener("closing",_)}get onclose(){return this._onclose}set onclose(_){this._onclose&&this.removeEventListener("close",this._onclose),this._onclose=_,_&&this.addEventListener("close",_)}get onmessage(){return this._onmessage}set onmessage(_){this._onmessage&&this.removeEventListener("message",this._onmessage),this._onmessage=_,_&&this.addEventListener("message",_)}get onbufferedamountlow(){return this._onbufferedamountlow}set onbufferedamountlow(_){this._onbufferedamountlow&&this.removeEventListener("bufferedamountlow",this._onbufferedamountlow),this._onbufferedamountlow=_,_&&this.addEventListener("bufferedamountlow",_)}get onerror(){return this._onerror}set onerror(_){this._onerror&&this.removeEventListener("error",this._onerror),this._onerror=_,_&&this.addEventListener("error",_)}addEventListener(_,j,w){super.addEventListener(_,j,w)}removeEventListener(_,j,w){super.removeEventListener(_,j,w)}close(){["closing","closed"].includes(this._readyState)||(this._readyState="closed")}send(_){if(this._readyState!=="open")throw new o.InvalidStateError("not open")}}return Up}var ii={},iM;function xEe(){if(iM)return ii;iM=1,Object.defineProperty(ii,"__esModule",{value:!0}),ii.generateRouterRtpCapabilities=r,ii.generateNativeRtpCapabilities=n,ii.generateNativeSctpCapabilities=a,ii.generateLocalDtlsParameters=o,ii.generateTransportRemoteParameters=u,ii.generateProducerRemoteParameters=c,ii.generateConsumerRemoteParameters=p,ii.generateDataProducerRemoteParameters=h,ii.generateDataConsumerRemoteParameters=f;const e=mf();function t(){return String(e.generateRandomNumber())}function r(){return e.deepFreeze({codecs:[{mimeType:"audio/opus",kind:"audio",preferredPayloadType:100,clockRate:48e3,channels:2,rtcpFeedback:[{type:"transport-cc"}],parameters:{useinbandfec:1,foo:"bar"}},{mimeType:"video/VP8",kind:"video",preferredPayloadType:101,clockRate:9e4,rtcpFeedback:[{type:"nack"},{type:"nack",parameter:"pli"},{type:"ccm",parameter:"fir"},{type:"goog-remb"},{type:"transport-cc"}],parameters:{"x-google-start-bitrate":1500}},{mimeType:"video/rtx",kind:"video",preferredPayloadType:102,clockRate:9e4,rtcpFeedback:[],parameters:{apt:101}},{mimeType:"video/H264",kind:"video",preferredPayloadType:103,clockRate:9e4,rtcpFeedback:[{type:"nack"},{type:"nack",parameter:"pli"},{type:"ccm",parameter:"fir"},{type:"goog-remb"},{type:"transport-cc"}],parameters:{"level-asymmetry-allowed":1,"packetization-mode":1,"profile-level-id":"42e01f"}},{mimeType:"video/rtx",kind:"video",preferredPayloadType:104,clockRate:9e4,rtcpFeedback:[],parameters:{apt:103}},{mimeType:"video/VP9",kind:"video",preferredPayloadType:105,clockRate:9e4,rtcpFeedback:[{type:"nack"},{type:"nack",parameter:"pli"},{type:"ccm",parameter:"fir"},{type:"goog-remb"},{type:"transport-cc"}],parameters:{"profile-id":0,"x-google-start-bitrate":1500}},{mimeType:"video/rtx",kind:"video",preferredPayloadType:106,clockRate:9e4,rtcpFeedback:[],parameters:{apt:105}}],headerExtensions:[{kind:"audio",uri:"urn:ietf:params:rtp-hdrext:sdes:mid",preferredId:1,preferredEncrypt:!1,direction:"sendrecv"},{kind:"video",uri:"urn:ietf:params:rtp-hdrext:sdes:mid",preferredId:1,preferredEncrypt:!1,direction:"sendrecv"},{kind:"video",uri:"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id",preferredId:2,preferredEncrypt:!1,direction:"recvonly"},{kind:"video",uri:"urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id",preferredId:3,preferredEncrypt:!1,direction:"recvonly"},{kind:"audio",uri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time",preferredId:4,preferredEncrypt:!1,direction:"sendrecv"},{kind:"video",uri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time",preferredId:4,preferredEncrypt:!1,direction:"sendrecv"},{kind:"audio",uri:"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01",preferredId:5,preferredEncrypt:!1,direction:"recvonly"},{kind:"video",uri:"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01",preferredId:5,preferredEncrypt:!1,direction:"sendrecv"},{kind:"audio",uri:"urn:ietf:params:rtp-hdrext:ssrc-audio-level",preferredId:10,preferredEncrypt:!1,direction:"sendrecv"},{kind:"video",uri:"urn:3gpp:video-orientation",preferredId:11,preferredEncrypt:!1,direction:"sendrecv"},{kind:"video",uri:"urn:ietf:params:rtp-hdrext:toffset",preferredId:12,preferredEncrypt:!1,direction:"sendrecv"}]})}function n(){return{codecs:[{mimeType:"audio/opus",kind:"audio",preferredPayloadType:111,clockRate:48e3,channels:2,rtcpFeedback:[{type:"transport-cc"}],parameters:{minptime:10,useinbandfec:1}},{mimeType:"audio/ISAC",kind:"audio",preferredPayloadType:103,clockRate:16e3,channels:1,rtcpFeedback:[{type:"transport-cc"}],parameters:{}},{mimeType:"audio/CN",kind:"audio",preferredPayloadType:106,clockRate:32e3,channels:1,rtcpFeedback:[{type:"transport-cc"}],parameters:{}},{mimeType:"audio/foo",kind:"audio",preferredPayloadType:107,clockRate:9e4,channels:4,rtcpFeedback:[{type:"foo-qwe-qwe"}],parameters:{foo:"lalala"}},{mimeType:"video/BAZCODEC",kind:"video",preferredPayloadType:100,clockRate:9e4,rtcpFeedback:[{type:"foo"},{type:"transport-cc"},{type:"ccm",parameter:"fir"},{type:"nack"},{type:"nack",parameter:"pli"}],parameters:{baz:"1234abcd"}},{mimeType:"video/rtx",kind:"video",preferredPayloadType:101,clockRate:9e4,rtcpFeedback:[],parameters:{apt:100}},{mimeType:"video/VP8",kind:"video",preferredPayloadType:96,clockRate:9e4,rtcpFeedback:[{type:"goog-remb"},{type:"transport-cc"},{type:"ccm",parameter:"fir"},{type:"nack"},{type:"nack",parameter:"pli"}],parameters:{baz:"1234abcd"}},{mimeType:"video/rtx",kind:"video",preferredPayloadType:97,clockRate:9e4,rtcpFeedback:[],parameters:{apt:96}},{mimeType:"video/VP9",kind:"video",preferredPayloadType:98,clockRate:9e4,rtcpFeedback:[{type:"goog-remb"},{type:"transport-cc"},{type:"ccm",parameter:"fir"},{type:"nack"},{type:"nack",parameter:"pli"}],parameters:{"profile-id":0}},{mimeType:"video/rtx",kind:"video",preferredPayloadType:99,clockRate:9e4,rtcpFeedback:[],parameters:{apt:98}}],headerExtensions:[{kind:"audio",uri:"urn:ietf:params:rtp-hdrext:sdes:mid",preferredId:1},{kind:"video",uri:"urn:ietf:params:rtp-hdrext:sdes:mid",preferredId:1},{kind:"video",uri:"urn:ietf:params:rtp-hdrext:toffset",preferredId:2},{kind:"video",uri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time",preferredId:3},{kind:"video",uri:"urn:3gpp:video-orientation",preferredId:4},{kind:"video",uri:"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01",preferredId:5},{kind:"video",uri:"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay",preferredId:6},{kind:"video",uri:"http://www.webrtc.org/experiments/rtp-hdrext/video-content-type",preferredId:7},{kind:"video",uri:"http://www.webrtc.org/experiments/rtp-hdrext/video-timing",preferredId:8},{kind:"audio",uri:"urn:ietf:params:rtp-hdrext:ssrc-audio-level",preferredId:10}]}}function a(){return e.deepFreeze({numStreams:{OS:2048,MIS:2048}})}function o(){return e.deepFreeze({fingerprints:[{algorithm:"sha-256",value:"82:5A:68:3D:36:C3:0A:DE:AF:E7:32:43:D2:88:83:57:AC:2D:65:E5:80:C4:B6:FB:AF:1A:A0:21:9F:6D:0C:AD"}],role:"auto"})}function u(){return{id:t(),iceParameters:e.deepFreeze({iceLite:!0,password:"yku5ej8nvfaor28lvtrabcx0wkrpkztz",usernameFragment:"h3hk1iz6qqlnqlne"}),iceCandidates:e.deepFreeze([{foundation:"udpcandidate",address:"9.9.9.9",ip:"9.9.9.9",port:40533,priority:1078862079,protocol:"udp",type:"host",tcpType:"passive"},{foundation:"udpcandidate",address:"9.9.9.9",ip:"9:9:9:9:9:9",port:41333,priority:1078862089,protocol:"udp",type:"host",tcpType:"passive"}]),dtlsParameters:e.deepFreeze({fingerprints:[{algorithm:"sha-256",value:"A9:F4:E0:D2:74:D3:0F:D9:CA:A5:2F:9F:7F:47:FA:F0:C4:72:DD:73:49:D0:3B:14:90:20:51:30:1B:90:8E:71"},{algorithm:"sha-384",value:"03:D9:0B:87:13:98:F6:6D:BC:FC:92:2E:39:D4:E1:97:32:61:30:56:84:70:81:6E:D1:82:97:EA:D9:C1:21:0F:6B:C5:E7:7F:E1:97:0C:17:97:6E:CF:B3:EF:2E:74:B0"},{algorithm:"sha-512",value:"84:27:A4:28:A4:73:AF:43:02:2A:44:68:FF:2F:29:5C:3B:11:9A:60:F4:A8:F0:F5:AC:A0:E3:49:3E:B1:34:53:A9:85:CE:51:9B:ED:87:5E:B8:F4:8E:3D:FA:20:51:B8:96:EE:DA:56:DC:2F:5C:62:79:15:23:E0:21:82:2B:2C"}],role:"auto"}),sctpParameters:e.deepFreeze({port:5e3,OS:2048,MIS:2048,maxMessageSize:2e6})}}function c(){return e.deepFreeze({id:t()})}function p({id:m,codecMimeType:b}={}){switch(b){case"audio/opus":return{id:m??t(),producerId:t(),kind:"audio",rtpParameters:e.deepFreeze({codecs:[{mimeType:"audio/opus",payloadType:100,clockRate:48e3,channels:2,rtcpFeedback:[{type:"transport-cc"}],parameters:{useinbandfec:1,foo:"bar"}}],encodings:[{ssrc:46687003}],headerExtensions:[{uri:"urn:ietf:params:rtp-hdrext:sdes:mid",id:1},{uri:"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01",id:5},{uri:"urn:ietf:params:rtp-hdrext:ssrc-audio-level",id:10}],rtcp:{cname:"wB4Ql4lrsxYLjzuN",reducedSize:!0,mux:!0}})};case"audio/ISAC":return{id:m??t(),producerId:t(),kind:"audio",rtpParameters:e.deepFreeze({codecs:[{mimeType:"audio/ISAC",payloadType:111,clockRate:16e3,channels:1,rtcpFeedback:[{type:"transport-cc"}],parameters:{}}],encodings:[{ssrc:46687004}],headerExtensions:[{uri:"urn:ietf:params:rtp-hdrext:sdes:mid",id:1},{uri:"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01",id:5}],rtcp:{cname:"wB4Ql4lrsxYLjzuN",reducedSize:!0,mux:!0}})};case"video/VP8":return{id:m??t(),producerId:t(),kind:"video",rtpParameters:e.deepFreeze({codecs:[{mimeType:"video/VP8",payloadType:101,clockRate:9e4,rtcpFeedback:[{type:"nack"},{type:"nack",parameter:"pli"},{type:"ccm",parameter:"fir"},{type:"goog-remb"},{type:"transport-cc"}],parameters:{"x-google-start-bitrate":1500}},{mimeType:"video/rtx",payloadType:102,clockRate:9e4,rtcpFeedback:[],parameters:{apt:101}}],encodings:[{ssrc:99991111,rtx:{ssrc:99991112}}],headerExtensions:[{uri:"urn:ietf:params:rtp-hdrext:sdes:mid",id:1},{uri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time",id:4},{uri:"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01",id:5},{uri:"urn:3gpp:video-orientation",id:11},{uri:"urn:ietf:params:rtp-hdrext:toffset",id:12}],rtcp:{cname:"wB4Ql4lrsxYLjzuN",reducedSize:!0,mux:!0}})};case"video/H264":return{id:m??t(),producerId:t(),kind:"video",rtpParameters:e.deepFreeze({codecs:[{mimeType:"video/H264",payloadType:103,clockRate:9e4,rtcpFeedback:[{type:"nack"},{type:"nack",parameter:"pli"},{type:"ccm",parameter:"fir"},{type:"goog-remb"},{type:"transport-cc"}],parameters:{"level-asymmetry-allowed":1,"packetization-mode":1,"profile-level-id":"42e01f"}},{mimeType:"video/rtx",payloadType:104,clockRate:9e4,rtcpFeedback:[],parameters:{apt:103}}],encodings:[{ssrc:99991113,rtx:{ssrc:99991114}}],headerExtensions:[{uri:"urn:ietf:params:rtp-hdrext:sdes:mid",id:1},{uri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time",id:4},{uri:"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01",id:5},{uri:"urn:3gpp:video-orientation",id:11},{uri:"urn:ietf:params:rtp-hdrext:toffset",id:12}],rtcp:{cname:"wB4Ql4lrsxYLjzuN",reducedSize:!0,mux:!0}})};default:throw new TypeError(`unknown codecMimeType '${b}'`)}}function h(){return e.deepFreeze({id:t()})}function f({id:m}={}){return{id:m??t(),dataProducerId:t(),sctpStreamParameters:e.deepFreeze({streamId:666,maxPacketLifeTime:5e3,maxRetransmits:void 0})}}return ii}var sM;function D7(){return sM||(sM=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.debug=e.testFakeParameters=e.FakeHandler=e.enhancedEvents=e.ortc=e.parseScalabilityMode=e.detectDeviceAsync=e.detectDevice=e.Device=e.version=e.types=void 0;const t=m_();e.debug=t.default,e.types=GNe(),e.version="3.18.6";var r=pEe();Object.defineProperty(e,"Device",{enumerable:!0,get:function(){return r.Device}}),Object.defineProperty(e,"detectDevice",{enumerable:!0,get:function(){return r.detectDevice}}),Object.defineProperty(e,"detectDeviceAsync",{enumerable:!0,get:function(){return r.detectDeviceAsync}});var n=gf();Object.defineProperty(e,"parseScalabilityMode",{enumerable:!0,get:function(){return n.parse}}),e.ortc=Wo(),e.enhancedEvents=Fa();var a=_Ee();Object.defineProperty(e,"FakeHandler",{enumerable:!0,get:function(){return a.FakeHandler}}),e.testFakeParameters=xEe()})(Ow)),Ow}var wEe=D7();function M7(e,t){const[r,n]=v.useState(new Map),[a,o]=v.useState(null),[u,c]=v.useState(!1),p=v.useRef(null),h=v.useRef(null),f=v.useRef(m=>{const b=h.current;b&&(m?b.pause():b.resume())});return v.useEffect(()=>{if(!e||!t)return;c(!1);const m=e,b=t;let _=!1,j=null,w=null,y=null,x=null,S=null;const T=new Map;function N(P){return new Promise((k,R)=>{const D=setTimeout(()=>R(new Error(`Timeout waiting for ${P}`)),15e3),I=T.get(P)??[];I.push(q=>{clearTimeout(D);const z=I.indexOf(I[I.length-1]);z!==-1&&I.splice(z,1),k(q)}),T.set(P,I)})}async function A(P,k){try{const R=P.startsWith("ws")?P:P.replace(/^http/,"ws");if(j=new WebSocket(`${R}?roomId=${encodeURIComponent(k)}`),await new Promise((V,Q)=>{j.onopen=()=>V(),j.onerror=()=>Q(new Error("WebSocket failed"))}),_)return;let D=()=>{};j.onmessage=V=>{try{const Q=JSON.parse(V.data);if(Q.type==="newProducer"&&typeof Q.producerId=="string"){D(Q.producerId);return}const U=T.get(Q.type);if(U!=null&&U.length){const X=U.shift();X&&X(Q)}}catch{}},j.send(JSON.stringify({type:"getRouterRtpCapabilities"}));const I=await N("routerRtpCapabilities");if(_||(w=new wEe.Device,await w.load({routerRtpCapabilities:I.rtpCapabilities}),_))return;S=await navigator.mediaDevices.getUserMedia({audio:!0,video:!1});const q=S.getAudioTracks()[0];if(!q)throw new Error("No audio track");j.send(JSON.stringify({type:"createWebRtcTransport"}));const z=await N("webRtcTransportCreated");if(_)return;y=w.createSendTransport({id:z.id,iceParameters:z.iceParameters,iceCandidates:z.iceCandidates,dtlsParameters:z.dtlsParameters}),y.on("connect",async({dtlsParameters:V},Q)=>{j==null||j.send(JSON.stringify({type:"connectWebRtcTransport",transportId:z.id,dtlsParameters:V})),await N("webRtcTransportConnected"),Q()}),y.on("produce",async({kind:V,rtpParameters:Q},U,X)=>{try{j==null||j.send(JSON.stringify({type:"produce",transportId:z.id,kind:V,rtpParameters:Q}));const ee=await N("produced");if(_)return;U({id:ee.id})}catch(ee){X(ee)}});const M=await y.produce({track:q});if(_)return;h.current=M,c(!0);const F=M.id;j.send(JSON.stringify({type:"createWebRtcTransport"}));const B=await N("webRtcTransportCreated");if(_)return;x=w.createRecvTransport({id:B.id,iceParameters:B.iceParameters,iceCandidates:B.iceCandidates,dtlsParameters:B.dtlsParameters}),x.on("connect",async({dtlsParameters:V},Q)=>{j==null||j.send(JSON.stringify({type:"connectWebRtcTransport",transportId:B.id,dtlsParameters:V})),await N("webRtcTransportConnected"),Q()});async function O(V){j==null||j.send(JSON.stringify({type:"consume",transportId:B.id,producerId:V,rtpCapabilities:w.rtpCapabilities}));const Q=await N("consumed");return await x.consume({id:Q.id,producerId:Q.producerId,kind:Q.kind,rtpParameters:Q.rtpParameters})}j.send(JSON.stringify({type:"getProducers"}));const $=await N("producers");if(_)return;const K=new Set;for(const V of $.producerIds||[])if(V!==F)try{const Q=await O(V);if(_)return;K.add(V),n(U=>new Map(U).set(Q.id,Q.track))}catch{}D=async V=>{if(!(V===F||K.has(V)||_))try{const Q=await O(V);if(_)return;K.add(V),n(U=>new Map(U).set(Q.id,Q.track))}catch{}}}catch(R){_||o(R instanceof Error?R.message:"Media failed")}}return A(m,b),()=>{var P;_=!0,(P=p.current)==null||P.call(p),T.forEach(k=>k.forEach(R=>R(null))),j==null||j.close(),S==null||S.getTracks().forEach(k=>k.stop()),y==null||y.close(),x==null||x.close()}},[e,t]),{remoteTracks:r,error:a,ready:u,setMuted:m=>f.current(m)}}const SEe="_enableAudioBtn_xu8h7_1",jEe={enableAudioBtn:SEe};function L7({track:e}){const t=v.useRef(null),[r,n]=v.useState(!1);v.useEffect(()=>{const o=t.current;!o||!e||(o.srcObject=new MediaStream([e]),o.volume=1,o.play().then(()=>n(!1)).catch(()=>n(!0)))},[e]);const a=()=>{var o;(o=t.current)==null||o.play().then(()=>n(!1)).catch(()=>{})};return i.jsxs(i.Fragment,{children:[i.jsx("audio",{ref:t,autoPlay:!0,playsInline:!0,style:{position:"absolute",left:-9999,width:1,height:1,overflow:"hidden"},"aria-hidden":!0}),r&&i.jsx("button",{type:"button",onClick:a,className:jEe.enableAudioBtn,children:"Click to enable audio"})]})}const CEe="_panel_1ouf0_1",kEe="_header_1ouf0_27",NEe="_title_1ouf0_34",EEe="_mediaUnavailableBanner_1ouf0_39",TEe="_joinRow_1ouf0_49",PEe="_joinInput_1ouf0_54",AEe="_copyBtn_1ouf0_65",REe="_participants_1ouf0_85",OEe="_recordingProcessing_1ouf0_91",DEe="_mediaError_1ouf0_101",MEe="_participantsLabel_1ouf0_107",LEe="_participantsList_1ouf0_114",IEe="_participant_1ouf0_85",$Ee="_participantName_1ouf0_132",BEe="_participantActions_1ouf0_137",zEe="_muteBtn_1ouf0_143",FEe="_disconnectBtn_1ouf0_144",qEe="_recordSection_1ouf0_164",UEe="_recordRow_1ouf0_171",HEe="_recordSegmentBtn_1ouf0_176",WEe="_stopRecordBtn_1ouf0_177",KEe="_footer_1ouf0_207",GEe="_endBtn_1ouf0_212",wr={panel:CEe,header:kEe,title:NEe,mediaUnavailableBanner:EEe,joinRow:TEe,joinInput:PEe,copyBtn:AEe,participants:REe,recordingProcessing:OEe,mediaError:DEe,participantsLabel:MEe,participantsList:LEe,participant:IEe,participantName:$Ee,participantActions:BEe,muteBtn:zEe,disconnectBtn:FEe,recordSection:qEe,recordRow:UEe,recordSegmentBtn:HEe,stopRecordBtn:WEe,footer:KEe,endBtn:GEe},VEe=3e4;function YEe({sessionId:e,joinUrl:t,webrtcUrl:r,roomId:n,mediaUnavailable:a,onEnd:o,onCallEnded:u,onSegmentRecorded:c}){const[p,h]=v.useState([]),[f,m]=v.useState(!1),[b,_]=v.useState(!1),[j,w]=v.useState(!1),[y,x]=v.useState(null),[S,T]=v.useState(void 0),[N,A]=v.useState(void 0),P=v.useRef(null),k=v.useRef(null),R=S??r,D=N??n,{remoteTracks:I,error:q,ready:z,setMuted:M}=M7(R,D),F=a&&!R&&!D;v.useEffect(()=>{T(void 0),A(void 0);const U=A7(),X=new WebSocket(U);return P.current=X,X.onopen=()=>{X.send(JSON.stringify({type:"host",sessionId:e}))},X.onmessage=ee=>{try{const te=JSON.parse(ee.data);te.type==="joined"&&te.participants?(h(te.participants),te.webrtcUrl&&T(te.webrtcUrl),te.roomId&&A(te.roomId)):te.type==="participants"?h(te.participants??[]):te.type==="participantJoined"?h(me=>{const Ce=te.participant;return Ce&&!me.some(xe=>xe.id===Ce.id)?[...me,Ce]:me}):te.type==="callEnded"||te.type==="error"?u():te.type==="recordingStarted"?(_(!0),w(!1)):te.type==="recordingStopped"?(_(!1),x(null),w(!0)):te.type==="recordingError"?(w(!1),x(te.error??"Recording failed")):te.type==="recordingStopFailed"?(_(!1),w(!1),x(te.error??"Failed to stop recording")):te.type==="segmentRecorded"?(_(!1),x(null),w(!1),c==null||c()):te.type==="setMute"&&M(te.muted===!0)}catch{}},X.onclose=()=>{u()},X.onerror=()=>{u()},k.current=setInterval(()=>{X.readyState===WebSocket.OPEN&&X.send(JSON.stringify({type:"heartbeat"}))},VEe),()=>{k.current&&clearInterval(k.current),X.readyState===WebSocket.OPEN&&(X.send(JSON.stringify({type:"endCall"})),X.close()),P.current=null}},[e,u]);const B=()=>{navigator.clipboard.writeText(t).then(()=>{m(!0),setTimeout(()=>m(!1),2e3)})},O=()=>{var U;((U=P.current)==null?void 0:U.readyState)===WebSocket.OPEN&&(P.current.send(JSON.stringify({type:"endCall"})),P.current.close()),o()},$=()=>{var U;((U=P.current)==null?void 0:U.readyState)===WebSocket.OPEN&&(P.current.send(JSON.stringify({type:"startRecording"})),_(!0))},K=()=>{var U;((U=P.current)==null?void 0:U.readyState)===WebSocket.OPEN&&(P.current.send(JSON.stringify({type:"stopRecording"})),_(!1))},V=(U,X)=>{var ee;((ee=P.current)==null?void 0:ee.readyState)===WebSocket.OPEN&&P.current.send(JSON.stringify({type:"setMute",participantId:U,muted:X}))},Q=U=>{var X;((X=P.current)==null?void 0:X.readyState)===WebSocket.OPEN&&P.current.send(JSON.stringify({type:"disconnectParticipant",participantId:U}))};return i.jsxs("div",{className:wr.panel,role:"region","aria-label":"Group call",children:[i.jsxs("div",{className:wr.header,children:[i.jsx(Aj,{size:18,strokeWidth:2,"aria-hidden":!0}),i.jsx("span",{className:wr.title,children:"Group call"})]}),F&&i.jsx("p",{className:wr.mediaUnavailableBanner,role:"status",children:"Audio is unavailable  WebRTC service is not running or unreachable. Guests can join the call but won't have audio until the service is started."}),i.jsxs("div",{className:wr.joinRow,children:[i.jsx("input",{type:"text",readOnly:!0,value:t,className:wr.joinInput,"aria-label":"Join link"}),i.jsxs("button",{type:"button",className:wr.copyBtn,onClick:B,"aria-label":f?"Copied":"Copy join link",title:"Copy link",children:[i.jsx(dh,{size:16,strokeWidth:2}),f?" Copied":" Copy"]})]}),i.jsxs("div",{className:wr.participants,children:[i.jsxs("span",{className:wr.participantsLabel,children:["Participants (",p.length,")"]}),i.jsx("ul",{className:wr.participantsList,children:p.map(U=>i.jsxs("li",{className:wr.participant,children:[i.jsxs("span",{className:wr.participantName,children:[U.name,U.isHost&&" (Host)",U.muted&&" (muted)"]}),!U.isHost&&i.jsxs("span",{className:wr.participantActions,children:[i.jsx("button",{type:"button",className:wr.muteBtn,onClick:()=>V(U.id,!U.muted),"aria-label":U.muted?"Unmute":"Mute",title:U.muted?"Unmute":"Mute",children:U.muted?i.jsx(uq,{size:14}):i.jsx(Id,{size:14})}),i.jsx("button",{type:"button",className:wr.disconnectBtn,onClick:()=>Q(U.id),"aria-label":"Disconnect",title:"Disconnect",children:i.jsx(Bq,{size:14})})]})]},U.id))}),q&&i.jsx("p",{className:wr.mediaError,children:q}),Array.from(I.entries()).map(([U,X])=>i.jsx(L7,{track:X},U))]}),i.jsxs("div",{className:wr.recordSection,children:[i.jsx("div",{className:wr.recordRow,children:b?i.jsxs("button",{type:"button",className:wr.stopRecordBtn,onClick:K,"aria-label":"Stop recording",children:[i.jsx(Rq,{size:16,strokeWidth:2,"aria-hidden":!0}),"Stop recording"]}):i.jsxs("button",{type:"button",className:wr.recordSegmentBtn,onClick:$,disabled:!!R&&!z,"aria-label":"Record segment from call","data-producer-ready":R&&z?"true":void 0,children:[i.jsx(Id,{size:16,strokeWidth:2,"aria-hidden":!0}),"Record segment"]})}),j&&i.jsx("p",{className:wr.recordingProcessing,role:"status",children:"Recording stopped successfully. We're now processing the segment. It should be added shortly."}),y&&i.jsx("p",{className:wr.mediaError,children:y})]}),i.jsx("div",{className:wr.footer,children:i.jsxs("button",{type:"button",className:wr.endBtn,onClick:O,"aria-label":"End call",children:[i.jsx(vq,{size:18,strokeWidth:2,"aria-hidden":!0}),"End call"]})})]})}function QEe({episode:e,podcast:t,segments:r,segmentsLoading:n,asrAvail:a}){var ia,ji,sa,Ko,Sa,pe,Se,gt,Re,ne,Fe;const o=e.id,u=e.podcast_id,c=Lt(),{user:p}=As(),{data:h}=Oe({queryKey:["me"],queryFn:_i}),f=((t==null?void 0:t.can_record_new_section)??HH(h))===!0,m=ou((h==null?void 0:h.user)??p),b=t==null?void 0:t.my_role,_=b==="owner"||b==="manager",j=b==="owner"||b==="manager"||b==="editor",w=m||!j,y=m||!_,[x,S]=v.useState(()=>Tw(e)),[T,N]=v.useState(()=>Tw(e)),[A,P]=v.useState(!1),[k,R]=v.useState(!1),[D,I]=v.useState(!1),[q,z]=v.useState(null),[M,F]=v.useState(null),[B,O]=v.useState(null),[$,K]=v.useState("url"),[V,Q]=v.useState(null),[U,X]=v.useState(null),[ee,te]=v.useState(0),[me,Ce]=v.useState(""),[xe,He]=v.useState(!1),[re,Pe]=v.useState(null),[Ne,ge]=v.useState(null),[_t,Ge]=v.useState(!1),[lt,at]=v.useState(null),[Ve,_e]=v.useState(null),We=v.useRef(new Map),er=v.useRef(null),ht=v.useRef(null),qa=v.useRef(null),Pn=v.useRef(null);v.useEffect(()=>{!o||w||HNe(o).then(le=>{le&&at({sessionId:le.sessionId,token:le.token,joinUrl:le.joinUrl,webrtcUrl:le.webrtcUrl,roomId:le.roomId,webrtcUnavailable:le.webrtcUnavailable})}).catch(()=>{})},[o,w]);const It=v.useCallback(()=>at(null),[]),Fn=v.useCallback(()=>{_e(null),qNe(o).then(le=>{at({sessionId:le.sessionId,token:le.token,joinUrl:le.joinUrl,webrtcUrl:le.webrtcUrl,roomId:le.roomId,webrtcUnavailable:le.webrtcUnavailable})}).catch(le=>{_e((le==null?void 0:le.message)??"Failed to start call. Please try again.")})},[o]),ra=v.useCallback(le=>{var Te;for(const[Je,$t]of We.current)Je!==le&&$t();(Te=Pn.current)==null||Te.call(Pn),ht.current=le},[]),na=v.useCallback((le,Te)=>{We.current.set(le,Te)},[]),Ae=v.useCallback(le=>{We.current.delete(le),ht.current===le&&(ht.current=null)},[]),it=v.useCallback(()=>{for(const le of We.current.values())le();ht.current=null},[]);v.useEffect(()=>{S(Tw(e))},[e]),v.useEffect(()=>{const le=(T.artworkUrl??"").trim();if(!le){Ce("");return}const Te=setTimeout(()=>Ce(le),400);return()=>clearTimeout(Te)},[T.artworkUrl]),v.useEffect(()=>{if(!V){X(Te=>(Te&&URL.revokeObjectURL(Te),null));return}const le=URL.createObjectURL(V);return X(le),()=>URL.revokeObjectURL(le)},[V]);const nt=Ue({mutationFn:le=>zwe(o,le),onSuccess:()=>{c.invalidateQueries({queryKey:["episode",o]}),c.invalidateQueries({queryKey:["episodes",u]}),I(!1),Q(null),te(le=>le+1)}}),ut=Ue({mutationFn:le=>Fwe(u,o,le),onSuccess:()=>{c.invalidateQueries({queryKey:["episode",o]}),c.invalidateQueries({queryKey:["episodes",u]}),te(le=>le+1)}});v.useEffect(()=>{D&&(N(x),K(e.artwork_filename?"upload":"url"),Q(null),Ce((x.artworkUrl??"").trim()),nt.reset(),ut.reset())},[D,x,e.artwork_filename,x.artworkUrl]);const mt=Ue({mutationFn:({file:le,name:Te})=>ySe(o,le,Te),onSuccess:()=>{c.invalidateQueries({queryKey:["segments",o]}),c.invalidateQueries({queryKey:["me"]}),P(!1)}}),Tt=Ue({mutationFn:({segmentId:le,name:Te})=>xSe(o,le,{name:Te}),onSuccess:()=>c.invalidateQueries({queryKey:["segments",o]})}),Ot=Ue({mutationFn:le=>bSe(o,le),onSuccess:()=>{c.invalidateQueries({queryKey:["segments",o]}),R(!1)}}),lr=Ue({mutationFn:le=>_Se(o,le),onSuccess:()=>c.invalidateQueries({queryKey:["segments",o]})}),tr=Ue({mutationFn:le=>jSe(o,le),onSuccess:()=>{c.invalidateQueries({queryKey:["segments",o]}),c.invalidateQueries({queryKey:["me"]})}}),ln=Ue({mutationFn:()=>OSe(o),onSuccess:le=>{(le.status==="building"||le.status==="already_building")&&(ge(null),He(!0),Pe(le.status==="already_building"?le.message??"A build is already in progress.":null))}}),wa=5e3,aa=Ue({mutationFn:async()=>{for(await NSe(o);;){await new Promise(Je=>setTimeout(Je,wa));const{status:le,error:Te}=await ESe(o);if(le==="done")return;if(le==="failed")throw new Error(Te??"Transcript generation failed")}},onSuccess:()=>{c.invalidateQueries({queryKey:["episode",o]}),Ge(!0)}});v.useEffect(()=>{o&&c4(o).then(({status:le})=>{le==="building"&&(He(!0),Pe("A build is already in progress."))}).catch(()=>{})},[o]),v.useEffect(()=>{if(!xe||!o)return;const le=()=>{c4(o).then(({status:Te,error:Je})=>{Te==="done"?(er.current&&(clearInterval(er.current),er.current=null),He(!1),Pe(null),ge(null),c.invalidateQueries({queryKey:["episode",o]}),c.invalidateQueries({queryKey:["segments",o]})):Te==="failed"&&(er.current&&(clearInterval(er.current),er.current=null),He(!1),Pe(null),ge(Je??"Build failed"))}).catch(()=>{})};return le(),er.current=setInterval(le,5e3),()=>{er.current&&(clearInterval(er.current),er.current=null)}},[xe,o,c]);function Qi(le){if(le<=0)return;const Te=[...r];[Te[le-1],Te[le]]=[Te[le],Te[le-1]],lr.mutate(Te.map(Je=>Je.id))}function Si(le){if(le>=r.length-1)return;const Te=[...r];[Te[le],Te[le+1]]=[Te[le+1],Te[le]],lr.mutate(Te.map(Je=>Je.id))}const Xi=[{label:"Home",href:"/"},{label:(t==null?void 0:t.title)??"Show",href:`/podcasts/${u}`,mobileLabel:"Podcast"},{label:"Episodes",href:`/podcasts/${u}/episodes`},{label:e.title,hideOnMobile:!0}];return i.jsxs("div",{className:W.page,children:[i.jsx(tf,{items:Xi}),i.jsx(pNe,{title:x.title,status:x.status,seasonNumber:x.seasonNumber===""?null:parseInt(x.seasonNumber,10)||null,episodeNumber:x.episodeNumber===""?null:parseInt(x.episodeNumber,10)||null,artworkUrl:e.artwork_url?e.artwork_url:e.artwork_filename?`/api/podcasts/${u}/episodes/${o}/artwork/${encodeURIComponent(e.artwork_filename)}`:null,onEditClick:y?void 0:()=>I(!0),subscriberOnly:e.subscriber_only,shareUrl:t&&e.slug&&(e.status==="scheduled"||e.status==="published")?t.canonical_feed_url?`${t.canonical_feed_url.replace(/\/$/,"")}/${e.slug}`:typeof window<"u"?`${window.location.origin}/feed/${t.slug}/${e.slug}`:void 0:void 0,shareTitle:t?`${e.title} - ${t.title}`:void 0,embedCode:t&&e.slug&&(e.status==="scheduled"||e.status==="published")&&typeof window<"u"?(()=>{const le=t.canonical_feed_url?t.canonical_feed_url.replace(/\/$/,""):window.location.origin;return`<iframe src="${t.canonical_feed_url?`${le}/embed/${e.slug}`:`${le}/embed/${t.slug}/${e.slug}`}" width="100%" height="200" frameborder="0" allowfullscreen></iframe>`})():void 0,onStartGroupCall:!w&&j?Fn:void 0}),i.jsx("div",{className:W.card,children:i.jsx(jNe,{episodeId:o,segments:r,segmentsLoading:n,onAddRecord:()=>P(!0),onAddLibrary:()=>R(!0),recordDisabled:!f,recordDisabledMessage:KH,readOnly:w,onMoveUp:Qi,onMoveDown:Si,onDeleteRequest:z,onUpdateSegmentName:(le,Te)=>Tt.mutate({segmentId:le,name:Te}),isDeletingSegment:tr.isPending,deletingSegmentId:tr.variables??null,onSegmentPlayRequest:ra,onSegmentMoreInfo:le=>{it(),F(le)},registerSegmentPause:na,unregisterSegmentPause:Ae})}),i.jsx(xNe,{episodeId:o,segmentCount:r.length,onBuild:()=>{ge(null),ln.mutate()},isBuilding:ln.isPending||xe,buildMessage:re,hasFinalAudio:!!e.audio_final_path,finalDurationSec:e.audio_duration_sec??0,finalUpdatedAt:e.updated_at,readOnly:w,onFinalPlayStart:it,pauseAndResetRef:Pn,hasTranscript:e.has_transcript===!0,onOpenTranscript:()=>Ge(!0),onGenerateTranscript:e.has_transcript!==!0?async()=>{await aa.mutateAsync()}:void 0,canGenerateTranscript:((ia=h==null?void 0:h.user)==null?void 0:ia.can_transcribe)===1,error:Ne??(ln.isError?(ji=ln.error)==null?void 0:ji.message:null)??(aa.isError?(sa=aa.error)==null?void 0:sa.message:null)}),i.jsx(wNe,{podcastId:u,episodeId:o,canAssign:j&&!m}),_t&&i.jsx(FNe,{episodeId:o,onClose:()=>Ge(!1),canEdit:j&&!m}),i.jsx(ur,{open:D,onOpenChange:le=>!le&&I(!1),children:i.jsxs(br,{children:[i.jsx(dr,{className:W.dialogOverlay}),i.jsxs(fr,{className:`${ae.dialogContent} ${ae.dialogContentWide} ${ae.dialogContentScrollable} ${W.episodeDetailsDialog}`,children:[i.jsxs("div",{className:ae.dialogHeaderRow,children:[i.jsx(pr,{className:ae.dialogTitle,children:"Episode Details"}),i.jsx(pt,{asChild:!0,children:i.jsx("button",{type:"button",className:ae.dialogClose,"aria-label":"Close",disabled:nt.isPending||ut.isPending,children:i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":"true"})})})]}),i.jsx(Nr,{className:ae.dialogDescription,children:"Edit the episode title, description, and publish settings."}),i.jsx("div",{className:ae.dialogBodyScroll,children:i.jsx(mNe,{form:T,setForm:N,descriptionTextareaRef:qa,slugDisabled:(p==null?void 0:p.role)!=="admin",onSave:async()=>{const le=ISe(T),Te=V;if(Te){try{await ut.mutateAsync(Te),Q(null);const{artwork_url:$t,...St}=le;nt.mutate(St)}catch{}return}const Je=$==="upload"?(()=>{const{artwork_url:$t,...St}=le;return St})():le;nt.mutate(Je)},onCancel:()=>I(!1),isSaving:nt.isPending,saveError:nt.isError?((Ko=nt.error)==null?void 0:Ko.message)??null:ut.isError?((Sa=ut.error)==null?void 0:Sa.message)??null:null,saveSuccess:nt.isSuccess,coverImageConfig:{podcastId:u,episodeId:o,artworkFilename:e.artwork_filename??null,coverMode:$,setCoverMode:K,pendingArtworkFile:V,setPendingArtworkFile:Q,pendingArtworkPreviewUrl:U,coverUploadKey:ee,debouncedArtworkUrl:me,uploadArtworkPending:ut.isPending}})}),i.jsxs("div",{className:W.dialogFooter,children:[i.jsx("button",{type:"button",className:W.cancel,onClick:()=>I(!1),"aria-label":"Cancel editing episode",children:"Cancel"}),i.jsx("button",{type:"submit",form:"episode-details-form",className:W.submit,disabled:nt.isPending||ut.isPending,"aria-label":"Save episode details",children:ut.isPending?"Uploading...":nt.isPending?"Saving...":"Save"})]})]})]})}),Ve&&i.jsxs("div",{className:W.callErrorBanner,role:"alert",children:[Ve,i.jsx("button",{type:"button",className:W.callErrorBannerDismiss,onClick:()=>_e(null),"aria-label":"Dismiss",children:""})]}),lt&&i.jsx(YEe,{sessionId:lt.sessionId,joinUrl:lt.joinUrl,webrtcUrl:lt.webrtcUrl,roomId:lt.roomId,mediaUnavailable:!lt.webrtcUrl||!lt.roomId||lt.webrtcUnavailable,onEnd:It,onCallEnded:It,onSegmentRecorded:()=>c.invalidateQueries({queryKey:["segments",o]})}),A&&i.jsx(CNe,{onClose:()=>P(!1),onAdd:(le,Te)=>mt.mutate({file:le,name:Te}),isAdding:mt.isPending,error:mt.isError?(pe=mt.error)==null?void 0:pe.message:void 0}),k&&i.jsx(MNe,{onClose:()=>R(!1),onSelect:le=>Ot.mutate(le),isAdding:Ot.isPending,error:Ot.isError?(Se=Ot.error)==null?void 0:Se.message:void 0}),M&&i.jsx(zNe,{episodeId:o,segmentId:M,segmentName:((Re=(gt=r.find(le=>le.id===M))==null?void 0:gt.name)==null?void 0:Re.trim())||"Section",segmentDuration:((ne=r.find(le=>le.id===M))==null?void 0:ne.duration_sec)??0,segmentAudioPath:(Fe=r.find(le=>le.id===M))==null?void 0:Fe.audio_path,asrAvailable:!!(a!=null&&a.available),ownerCanTranscribe:(t==null?void 0:t.owner_can_transcribe)===1,onClose:()=>F(null),onDeleteEntry:le=>{O({episodeId:o,segmentId:M,entryIndex:le})}}),i.jsx(INe,{open:B!==null,onOpenChange:le=>!le&&O(null),onConfirm:async()=>{if(B)try{if(await w7(B.episodeId,B.segmentId,B.entryIndex),c.invalidateQueries({queryKey:["segments",B.episodeId]}),O(null),M===B.segmentId){const le=M;F(null),setTimeout(()=>{F(le)},100)}}catch(le){console.error("Failed to delete transcript entry:",le)}},isDeleting:!1}),i.jsx(LNe,{open:!!q,onOpenChange:le=>!le&&z(null),description:q?(()=>{var Je;const le=r.find($t=>$t.id===q);return`"${((Je=le==null?void 0:le.name)==null?void 0:Je.trim())||((le==null?void 0:le.type)==="recorded"?"Recorded section":le==null?void 0:le.asset_name)||"This section"}" will be removed. This cannot be undone.`})():"",onConfirm:()=>{q&&(tr.mutate(q),z(null))},isDeleting:tr.isPending&&tr.variables===q})]})}function XEe(){const{id:e}=bi(),{data:t,isLoading:r,isFetching:n,isError:a}=Oe({queryKey:["episode",e],queryFn:()=>$we(e),enabled:!!e}),{data:o}=Oe({queryKey:["podcast",t==null?void 0:t.podcast_id],queryFn:()=>fu(t.podcast_id),enabled:!!(t!=null&&t.podcast_id)}),{data:u,isLoading:c}=Oe({queryKey:["segments",e],queryFn:()=>vSe(e),enabled:!!e}),p=v.useRef([]),h=v.useMemo(()=>(u==null?void 0:u.segments)??p.current,[u==null?void 0:u.segments]),{data:f}=Oe({queryKey:["asrAvailable"],queryFn:DSe,enabled:!!e,staleTime:3e4,retry:!1});return e?r||!t&&n?i.jsx(ba,{}):a||!t?i.jsx("p",{className:W.error,children:"Episode not found."}):i.jsx(QEe,{episode:t,podcast:o,segments:h,segmentsLoading:c,asrAvail:f}):null}function ZEe(){return Et("/version")}const c2="llama3.2:latest",I7="gpt-5-mini",JEe={whisper_asr_url:"http://whisper:9000",transcription_provider:"none",openai_transcription_url:"https://api.openai.com/v1/audio/transcriptions",openai_transcription_api_key:"",transcription_model:"whisper-1",default_can_transcribe:!0,llm_provider:"none",ollama_url:"http://localhost:11434",openai_api_key:"",model:c2,registration_enabled:!0,public_feeds_enabled:!0,websub_discovery_enabled:!1,hostname:"",websub_hub:"",final_bitrate_kbps:128,final_channels:"mono",final_format:"mp3",maxmind_account_id:"",maxmind_license_key:"",default_max_podcasts:null,default_storage_mb:null,default_max_episodes:null,default_max_collaborators:null,default_max_subscriber_tokens:null,captcha_provider:"none",captcha_site_key:"",captcha_secret_key:"",email_provider:"none",smtp_host:"",smtp_port:587,smtp_secure:!0,smtp_user:"",smtp_password:"",smtp_from:"",sendgrid_api_key:"",sendgrid_from:"",email_enable_registration_verification:!0,email_enable_welcome_after_verify:!0,email_enable_password_reset:!0,email_enable_admin_welcome:!0,email_enable_new_show:!0,email_enable_invite:!0,email_enable_contact:!0,welcome_banner:"",custom_terms:"",custom_privacy:"",dns_provider:"none",dns_use_cname:!0,dns_a_record_ip:"",dns_allow_linking_domain:!1,dns_default_allow_domain:!1,dns_default_allow_domains:"[]",dns_default_allow_custom_key:!1,dns_default_allow_sub_domain:!1,dns_default_domain:"",dns_default_enable_cloudflare_proxy:!1,gdpr_consent_banner_enabled:!1,webrtc_service_url:"",webrtc_public_ws_url:"",recording_callback_secret:""};function eTe(e){const[t,r]=v.useState(JEe);v.useEffect(()=>{e&&r(e)},[e]);const n=v.useCallback(a=>{r(o=>({...o,...a}))},[]);return{form:t,updateForm:n,setForm:r}}function tTe({form:e}){const t=Ue({mutationFn:()=>{const h={llm_provider:e.llm_provider};return e.llm_provider==="ollama"&&(h.ollama_url=e.ollama_url),e.llm_provider==="openai"&&(h.openai_api_key=e.openai_api_key==="(set)"?void 0:e.openai_api_key),IG(h)}});v.useEffect(()=>{t.reset()},[e.llm_provider]);const r=Ue({mutationFn:()=>$G(e.whisper_asr_url)});v.useEffect(()=>{r.reset()},[e.whisper_asr_url]);const n=Ue({mutationFn:()=>{var h,f;return BG({openai_transcription_url:((h=e.openai_transcription_url)==null?void 0:h.trim())||void 0,openai_transcription_api_key:e.openai_transcription_api_key==="(set)"?void 0:((f=e.openai_transcription_api_key)==null?void 0:f.trim())||void 0})}});v.useEffect(()=>{n.reset()},[e.openai_transcription_url,e.openai_transcription_api_key]);const a=Ue({mutationFn:()=>zG({smtp_host:e.smtp_host.trim(),smtp_port:e.smtp_port,smtp_secure:e.smtp_secure,smtp_user:e.smtp_user.trim(),smtp_password:e.smtp_password==="(set)"?"":e.smtp_password})}),o=Ue({mutationFn:()=>FG({sendgrid_api_key:e.sendgrid_api_key==="(set)"?"":e.sendgrid_api_key})});v.useEffect(()=>{a.reset()},[e.email_provider,e.smtp_host,e.smtp_port,e.smtp_secure,e.smtp_user,e.smtp_password]),v.useEffect(()=>{o.reset()},[e.email_provider,e.sendgrid_api_key]);const u=Ue({mutationFn:h=>qG(h)}),c=Ue({mutationFn:UG}),p=Ue({mutationFn:h=>HG(h),onSuccess:()=>{c.mutate()}});return{testMutation:t,whisperTestMutation:r,transcriptionOpenaiTestMutation:n,smtpTestMutation:a,sendgridTestMutation:o,geoliteTestMutation:u,geoliteCheckMutation:c,geoliteUpdateMutation:p}}function rTe(e,t){return v.useMemo(()=>t===null?!1:JSON.stringify(e)!==t,[e,t])}const nTe="_card_wkp6h_1",aTe="_cardTitle_wkp6h_9",iTe="_cardSub_wkp6h_17",sTe="_cardBody_wkp6h_24",gv={card:nTe,cardTitle:aTe,cardSub:iTe,cardBody:sTe};function Yi({title:e,subtitle:t,children:r}){return i.jsxs("section",{className:gv.card,children:[i.jsx("h2",{className:gv.cardTitle,children:e}),i.jsx("p",{className:gv.cardSub,children:t}),i.jsx("div",{className:gv.cardBody,children:r})]})}const oTe="_toggle_1uiiv_1",lTe="_btn_1uiiv_11",cTe="_btnActive_1uiiv_12",qw={toggle:oTe,btn:lTe,btnActive:cTe};function Sm({value:e,options:t,onChange:r,ariaLabel:n}){return i.jsx("div",{className:qw.toggle,role:"group","aria-label":n,children:t.map(a=>i.jsx("button",{type:"button",className:e===a.value?qw.btnActive:qw.btn,onClick:()=>r(a.value),children:a.label},String(a.value)))})}const uTe="_testBlock_1p5y0_1",dTe="_testRow_1p5y0_7",fTe="_testBtn_1p5y0_12",pTe="_noticeSuccess_1p5y0_34",hTe="_noticeError_1p5y0_35",mTe="_noticeTitle_1p5y0_54",gTe="_noticeBody_1p5y0_69",wc={testBlock:uTe,testRow:dTe,testBtn:fTe,noticeSuccess:pTe,noticeError:hTe,noticeTitle:mTe,noticeBody:gTe};function Dh({testMutation:e,onTest:t,disabled:r=!1,successMessage:n,testLabel:a="Test"}){var c,p,h,f;const o=((c=e.data)==null?void 0:c.ok)===!0,u=((p=e.data)==null?void 0:p.ok)===!0?n:((h=e.data)==null?void 0:h.error)??((f=e.error)==null?void 0:f.message)??"Connection failed";return i.jsxs("div",{className:wc.testBlock,children:[(e.data!=null||e.error!=null)&&i.jsxs("div",{className:o?wc.noticeSuccess:wc.noticeError,role:"status","aria-live":"polite",children:[i.jsx("span",{className:wc.noticeTitle,children:o?"Success":"Error"}),i.jsx("p",{className:wc.noticeBody,children:u})]}),i.jsx("div",{className:wc.testRow,children:i.jsx("button",{type:"button",className:wc.testBtn,onClick:t,disabled:r||e.isPending,children:e.isPending?"Testing...":a})})]})}const vTe="_page_stf0w_1",yTe="_hero_stf0w_6",bTe="_heroTitle_stf0w_10",_Te="_heroSub_stf0w_19",xTe="_saveNoticeCard_stf0w_25",wTe="_versionCard_stf0w_29",STe="_versionCommands_stf0w_43",jTe="_commandBadge_stf0w_50",CTe="_commandDot_stf0w_57",kTe="_commandName_stf0w_64",NTe="_versionBlock_stf0w_70",ETe="_versionLabel_stf0w_76",TTe="_versionValue_stf0w_82",PTe="_form_stf0w_89",ATe="_label_stf0w_123",RTe="_inputHelp_stf0w_132",OTe="_modelName_stf0w_138",DTe="_link_stf0w_146",MTe="_toggleHelp_stf0w_154",LTe="_emailNotifications_stf0w_172",ITe="_emailNotificationsTitle_stf0w_178",$Te="_emailNotificationsIntro_stf0w_185",BTe="_emailNotificationsFieldset_stf0w_192",zTe="_emailNotificationsGroup_stf0w_204",FTe="_emailNotificationsGroupTitle_stf0w_210",qTe="_emailNotificationsGroupHelp_stf0w_218",UTe="_emailNotificationsGrid_stf0w_225",HTe="_input_stf0w_132",WTe="_textareaLarge_stf0w_253",KTe="_llmToggle_stf0w_266",GTe="_llmToggleBtn_stf0w_274",VTe="_llmToggleBtnActive_stf0w_275",YTe="_noticeSuccess_stf0w_316",QTe="_noticeError_stf0w_317",XTe="_noticeTitle_stf0w_338",ZTe="_noticeBody_stf0w_344",JTe="_testBlock_stf0w_350",ePe="_testBtn_stf0w_364",tPe="_actions_stf0w_383",rPe="_submit_stf0w_392",nPe="_floatingSaveWrap_stf0w_411",aPe="_floatingSaveBar_stf0w_427",iPe="_floatingSaveLabel_stf0w_442",sPe="_floatingSaveBtn_stf0w_448",ie={page:vTe,hero:yTe,heroTitle:bTe,heroSub:_Te,saveNoticeCard:xTe,versionCard:wTe,versionCommands:STe,commandBadge:jTe,commandDot:CTe,commandName:kTe,versionBlock:NTe,versionLabel:ETe,versionValue:TTe,form:PTe,label:ATe,inputHelp:RTe,modelName:OTe,link:DTe,toggleHelp:MTe,emailNotifications:LTe,emailNotificationsTitle:ITe,emailNotificationsIntro:$Te,emailNotificationsFieldset:BTe,emailNotificationsGroup:zTe,emailNotificationsGroupTitle:FTe,emailNotificationsGroupHelp:qTe,emailNotificationsGrid:UTe,input:HTe,textareaLarge:WTe,llmToggle:KTe,llmToggleBtn:GTe,llmToggleBtnActive:VTe,noticeSuccess:YTe,noticeError:QTe,noticeTitle:XTe,noticeBody:ZTe,testBlock:JTe,testBtn:ePe,actions:tPe,submit:rPe,floatingSaveWrap:nPe,floatingSaveBar:aPe,floatingSaveLabel:iPe,floatingSaveBtn:sPe};function oPe({form:e,onFormChange:t,welcomeBannerRef:r,onResizeWelcomeBanner:n}){return i.jsxs(Yi,{title:"Access & General",subtitle:"Control who can sign up, whether public feeds are visible, and general server settings.",children:[i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:e.registration_enabled,onChange:a=>t({registration_enabled:a.target.checked})}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Enable Account Registration"})]}),i.jsx("p",{className:ie.toggleHelp,children:"When enabled, new users can create accounts. When disabled, only existing users can log in."}),i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:e.public_feeds_enabled,onChange:a=>t({public_feeds_enabled:a.target.checked})}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Enable Public Feeds"})]}),i.jsx("p",{className:ie.toggleHelp,children:"When disabled, public feed pages and RSS endpoints are hidden and require login to access the app."}),i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:e.gdpr_consent_banner_enabled,onChange:a=>t({gdpr_consent_banner_enabled:a.target.checked})}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Enable Cookie / Tracking Consent Banner"})]}),i.jsx("p",{className:ie.toggleHelp,children:"Show cookie/tracking consent banner on public feed and embed pages. When enabled, visitors see a GDPR-style banner before optional analytics/tracking. Off by default."}),i.jsxs("label",{className:ie.label,children:["Hostname",i.jsx("input",{type:"url",className:ie.input,placeholder:"https://example.com",value:e.hostname,onChange:a=>t({hostname:a.target.value})}),i.jsx("p",{className:ie.inputHelp,children:"Base URL for RSS feed enclosures when hosting audio files on this server. Used if no S3 export is configured."})]}),i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:e.websub_discovery_enabled,onChange:a=>t({websub_discovery_enabled:a.target.checked})}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Enable WebSub Discovery"})]}),e.websub_discovery_enabled&&i.jsxs("label",{className:ie.label,children:["WebSub Discovery",i.jsx("input",{type:"url",className:ie.input,placeholder:"https://pubsubhubbub.appspot.com/",value:e.websub_hub,onChange:a=>t({websub_hub:a.target.value})}),i.jsx("p",{className:ie.inputHelp,children:'When set, the feed XML includes a WebSub hub link (rel="hub") so hubs can discover and subscribe to feed updates.'})]}),i.jsxs("label",{className:ie.label,children:["Welcome Banner",i.jsx("textarea",{ref:r,className:ie.input,rows:1,placeholder:"Optional message above the sign in form...",value:e.welcome_banner,onChange:a=>t({welcome_banner:a.target.value}),onInput:n}),i.jsx("p",{className:ie.inputHelp,children:"Shown above the sign in form. New lines are preserved. Leave empty to hide."})]})]})}function lPe({form:e,onFormChange:t}){return i.jsxs(Yi,{title:"Default Limits for New Users",subtitle:"Optional. When set, new users get these limits. Leave empty for no limit.",children:[i.jsxs("label",{className:ie.label,children:["Default max podcasts",i.jsx("input",{type:"number",min:0,step:1,className:ie.input,placeholder:"No limit",value:e.default_max_podcasts??"",onChange:r=>{const n=r.target.value;t({default_max_podcasts:n===""?null:Number(n)})}})]}),i.jsxs("label",{className:ie.label,children:["Default Max Episodes",i.jsx("input",{type:"number",min:0,step:1,className:ie.input,placeholder:"No limit",value:e.default_max_episodes??"",onChange:r=>{const n=r.target.value;t({default_max_episodes:n===""?null:Number(n)})}})]}),i.jsxs("label",{className:ie.label,children:["Default Storage Space (MB)",i.jsx("input",{type:"number",min:0,step:1,className:ie.input,placeholder:"No limit",value:e.default_storage_mb??"",onChange:r=>{const n=r.target.value;t({default_storage_mb:n===""?null:Number(n)})}})]}),i.jsxs("label",{className:ie.label,children:["Default Max Collaborators",i.jsx("input",{type:"number",min:0,step:1,className:ie.input,placeholder:"No limit",value:e.default_max_collaborators??"",onChange:r=>{const n=r.target.value;t({default_max_collaborators:n===""?null:Number(n)})}})]}),i.jsxs("label",{className:ie.label,children:["Default Max Subscriber Tokens",i.jsx("input",{type:"number",min:0,step:1,className:ie.input,placeholder:"No limit",value:e.default_max_subscriber_tokens??"",onChange:r=>{const n=r.target.value;t({default_max_subscriber_tokens:n===""?null:Number(n)})}})]}),i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:e.default_can_transcribe,onChange:r=>t({default_can_transcribe:r.target.checked})}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Default Can Transcribe"})]}),i.jsx("p",{className:ie.toggleHelp,children:"When enabled, new users get transcription permission by default. When disabled, new users cannot generate transcripts until an admin enables it."})]})}function cPe({form:e,onFormChange:t}){return i.jsxs(Yi,{title:"Final Episode Output",subtitle:"Choose the format and quality for the final audio file.",children:[i.jsxs("label",{className:ie.label,children:["Bitrate (kbps)",i.jsx("input",{type:"number",min:16,max:320,step:1,className:ie.input,value:e.final_bitrate_kbps,onChange:r=>t({final_bitrate_kbps:Number(r.target.value)})})]}),i.jsxs("div",{className:ie.label,children:["Channels",i.jsxs("div",{className:ie.llmToggle,role:"group","aria-label":"Output channels",children:[i.jsx("button",{type:"button",className:e.final_channels==="mono"?ie.llmToggleBtnActive:ie.llmToggleBtn,onClick:()=>t({final_channels:"mono"}),children:"Mono"}),i.jsx("button",{type:"button",className:e.final_channels==="stereo"?ie.llmToggleBtnActive:ie.llmToggleBtn,onClick:()=>t({final_channels:"stereo"}),children:"Stereo"})]})]}),i.jsxs("div",{className:ie.label,children:["Format",i.jsxs("div",{className:ie.llmToggle,role:"group","aria-label":"Output format",children:[i.jsx("button",{type:"button",className:e.final_format==="mp3"?ie.llmToggleBtnActive:ie.llmToggleBtn,onClick:()=>t({final_format:"mp3"}),children:"MP3"}),i.jsx("button",{type:"button",className:e.final_format==="m4a"?ie.llmToggleBtnActive:ie.llmToggleBtn,onClick:()=>t({final_format:"m4a"}),children:"M4A"})]})]})]})}function uPe({form:e,onFormChange:t,geoliteTestMutation:r,geoliteCheckMutation:n,geoliteUpdateMutation:a,onGeoliteTest:o,onGeoliteCheck:u,onGeoliteUpdate:c}){var p,h,f,m,b,_,j,w,y,x,S;return i.jsxs(Yi,{title:"GeoLite2 / MaxMind",subtitle:i.jsxs(i.Fragment,{children:["Optional. Create a free ",i.jsx("a",{href:"https://www.maxmind.com/en/geolite2/signup",target:"_blank",rel:"noopener noreferrer",className:ie.link,children:"GeoLite2 account"}),". When Account ID and License Key are set and saved, the server will run the GeoIP Update program to download GeoLite2-Country and GeoLite2-City into the data folder. Requires ",i.jsx("a",{href:"https://github.com/maxmind/geoipupdate/releases",target:"_blank",rel:"noopener noreferrer",className:ie.link,children:"geoipupdate"})," to be installed on the server."]}),children:[i.jsxs("label",{className:ie.label,children:["MaxMind Account ID",i.jsx("input",{type:"text",className:ie.input,placeholder:"123456",value:e.maxmind_account_id,onChange:T=>t({maxmind_account_id:T.target.value}),autoComplete:"off"})]}),i.jsxs("label",{className:ie.label,children:["MaxMind License Key",i.jsx("input",{type:"password",className:ie.input,placeholder:e.maxmind_license_key==="(set)"?"(saved)":"Enter license key",value:e.maxmind_license_key==="(set)"?"":e.maxmind_license_key,onChange:T=>t({maxmind_license_key:T.target.value}),autoComplete:"off"})]}),i.jsxs("div",{className:ie.testBlock,children:[(r.data!=null||r.error!=null)&&i.jsx("div",{className:(p=r.data)!=null&&p.ok?ie.noticeSuccess:ie.noticeError,role:"status","aria-live":"polite",children:i.jsx("p",{className:ie.noticeBody,children:(h=r.data)!=null&&h.ok?"MaxMind credentials are valid.":((f=r.data)==null?void 0:f.error)??((m=r.error)==null?void 0:m.message)??"Test failed"})}),(n.data!=null||n.error!=null)&&i.jsx("div",{className:(b=n.data)!=null&&b.city||(_=n.data)!=null&&_.country?ie.noticeSuccess:ie.noticeError,role:"status","aria-live":"polite",children:n.data!=null?i.jsx("p",{className:ie.noticeBody,children:n.data.city&&n.data.country?"GeoLite2-City and GeoLite2-Country databases are present.":n.data.city?"GeoLite2-City database is present. GeoLite2-Country is missing.":n.data.country?"GeoLite2-Country database is present. GeoLite2-City is missing.":"No GeoLite2 database files found. Save Account ID and License Key, then run Update."}):i.jsx("p",{className:ie.noticeBody,children:((j=n.error)==null?void 0:j.message)??"Check failed"})}),(a.data!=null||a.error!=null)&&i.jsx("div",{className:(w=a.data)!=null&&w.ok?ie.noticeSuccess:ie.noticeError,role:"status","aria-live":"polite",children:i.jsx("p",{className:ie.noticeBody,children:(y=a.data)!=null&&y.ok?"Databases updated successfully. Reader refreshed.":((x=a.data)==null?void 0:x.error)??((S=a.error)==null?void 0:S.message)??"Update failed"})}),i.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",justifyContent:"flex-end"},children:[i.jsx("button",{type:"button",className:ie.testBtn,onClick:o,disabled:!e.maxmind_account_id.trim()||e.maxmind_license_key!=="(set)"&&!e.maxmind_license_key.trim()||r.isPending,"aria-busy":r.isPending,children:r.isPending?"Testing...":"Test"}),i.jsx("button",{type:"button",className:ie.testBtn,onClick:u,disabled:!e.maxmind_account_id.trim()||e.maxmind_license_key!=="(set)"&&!e.maxmind_license_key.trim()||n.isPending,"aria-busy":n.isPending,children:n.isPending?"Checking...":"Check"}),i.jsx("button",{type:"button",className:ie.testBtn,onClick:c,disabled:!e.maxmind_account_id.trim()||e.maxmind_license_key!=="(set)"&&!e.maxmind_license_key.trim()||a.isPending,"aria-busy":a.isPending,children:a.isPending?"Updating...":"Update"})]})]})]})}const dPe=[{value:"none",label:"None"},{value:"self_hosted",label:"Self-Hosted"},{value:"openai",label:"OpenAI"}];function fPe({form:e,onFormChange:t,whisperTestMutation:r,onWhisperTest:n,transcriptionOpenaiTestMutation:a,onTranscriptionOpenaiTest:o}){return i.jsxs(Yi,{title:"Transcription",subtitle:"Generate episode and segment transcripts. Self-Hosted uses a Whisper ASR service; OpenAI uses the Audio API.",children:[i.jsxs("div",{className:ie.label,children:["Transcription Provider",i.jsx(Sm,{value:e.transcription_provider,options:dPe,onChange:u=>t({transcription_provider:u}),ariaLabel:"Transcription provider"})]}),e.transcription_provider==="self_hosted"&&i.jsxs(i.Fragment,{children:[i.jsxs("label",{className:ie.label,children:["Whisper ASR URL",i.jsx("input",{type:"url",className:ie.input,placeholder:"http://whisper:9000",value:e.whisper_asr_url,onChange:u=>t({whisper_asr_url:u.target.value})})]}),i.jsx(Dh,{testMutation:r,onTest:n,successMessage:"Connection successful"})]}),e.transcription_provider==="openai"&&i.jsxs(i.Fragment,{children:[i.jsxs("label",{className:ie.label,children:["OpenAI transcription API URL (optional)",i.jsx("input",{type:"url",className:ie.input,placeholder:"https://api.openai.com/v1/audio/transcriptions",value:e.openai_transcription_url,onChange:u=>t({openai_transcription_url:u.target.value})})]}),i.jsxs("label",{className:ie.label,children:["OpenAI API key (required for transcription)",i.jsx("input",{type:"password",className:ie.input,placeholder:e.openai_transcription_api_key==="(set)"?"(set)":"sk-...",value:e.openai_transcription_api_key==="(set)"?"":e.openai_transcription_api_key,onChange:u=>t({openai_transcription_api_key:u.target.value}),autoComplete:"off"})]}),i.jsxs("label",{className:ie.label,children:["Transcription model",i.jsx("input",{type:"text",className:ie.input,placeholder:"whisper-1",value:e.transcription_model,onChange:u=>t({transcription_model:u.target.value})}),i.jsxs("span",{className:ie.inputHelp,children:[i.jsx("span",{className:ie.modelName,children:"whisper-1"})," is $0.06/min and provides timestamps."," ",i.jsx("span",{className:ie.modelName,children:"gpt-4o-mini-transcribe"})," is $0.03/min but does not provide timestamps."]})]}),i.jsx(Dh,{testMutation:a,onTest:o,successMessage:"API key valid"})]})]})}const pPe=[{value:"none",label:"None"},{value:"ollama",label:"Ollama"},{value:"openai",label:"OpenAI"}];function hPe({form:e,onFormChange:t,testMutation:r,onTest:n,onProviderChange:a}){const o=e.llm_provider==="openai"?I7:c2;return i.jsxs(Yi,{title:"LLM",subtitle:"Optional. Used for AI-powered features such as chapter generation and summarization. Connect to Ollama (local) or OpenAI.",children:[i.jsxs("div",{className:ie.label,children:["LLM Provider",i.jsx(Sm,{value:e.llm_provider,options:pPe,onChange:u=>{a(u),r.reset()},ariaLabel:"LLM provider"})]}),e.llm_provider==="ollama"?i.jsxs("label",{className:ie.label,children:["Ollama URL",i.jsx("input",{type:"url",className:ie.input,placeholder:"http://localhost:11434",value:e.ollama_url,onChange:u=>t({ollama_url:u.target.value})})]}):e.llm_provider==="openai"?i.jsxs("label",{className:ie.label,children:["OpenAI API key",i.jsx("input",{type:"password",className:ie.input,placeholder:e.openai_api_key==="(set)"?"(saved)":"sk-...",value:e.openai_api_key==="(set)"?"":e.openai_api_key,onChange:u=>t({openai_api_key:u.target.value}),autoComplete:"off"})]}):null,e.llm_provider!=="none"&&i.jsxs(i.Fragment,{children:[i.jsxs("label",{className:ie.label,children:["Model",i.jsx("input",{type:"text",className:ie.input,placeholder:o,value:e.model,onChange:u=>t({model:u.target.value})})]}),i.jsx(Dh,{testMutation:r,onTest:n,successMessage:"Connection successful"})]})]})}const mPe=[{value:"none",label:"None"},{value:"hcaptcha",label:"hCaptcha"},{value:"recaptcha_v2",label:"Google v2"},{value:"recaptcha_v3",label:"Google v3"}],gPe=i.jsxs(i.Fragment,{children:["Optional. When enabled, users must complete a CAPTCHA when signing in or registering."," ","Get keys from ",i.jsx("a",{href:"https://www.google.com/recaptcha/admin",target:"_blank",rel:"noopener noreferrer",className:ie.link,children:"Google reCAPTCHA"})," or ",i.jsx("a",{href:"https://dashboard.hcaptcha.com/",target:"_blank",rel:"noopener noreferrer",className:ie.link,children:"hCaptcha"}),"."]});function vPe({form:e,onFormChange:t}){return i.jsxs(Yi,{title:"CAPTCHA (Sign-In & Registration)",subtitle:gPe,children:[i.jsxs("div",{className:ie.label,children:["Provider",i.jsx(Sm,{value:e.captcha_provider,options:mPe,onChange:r=>t({captcha_provider:r}),ariaLabel:"CAPTCHA provider"})]}),e.captcha_provider!=="none"&&i.jsxs(i.Fragment,{children:[i.jsxs("label",{className:ie.label,children:["Site key",i.jsx("input",{type:"text",className:ie.input,placeholder:e.captcha_provider.startsWith("recaptcha")?"6Lc...":"Paste your site key from the provider dashboard",value:e.captcha_site_key,onChange:r=>t({captcha_site_key:r.target.value}),autoComplete:"off"})]}),i.jsxs("label",{className:ie.label,children:["Secret key",i.jsx("input",{type:"password",className:ie.input,placeholder:e.captcha_secret_key==="(set)"?"(saved)":"Paste your secret key",value:e.captcha_secret_key==="(set)"?"":e.captcha_secret_key,onChange:r=>t({captcha_secret_key:r.target.value}),autoComplete:"off"})]})]})]})}const yPe=i.jsxs(i.Fragment,{children:["Configure the optional WebRTC service for group calls and server-side recording. When both service URL and public WebSocket URL are set, hosts can start group calls with audio. Leave blank to disable."," ",i.jsx("a",{href:"https://github.com/versatica/mediasoup",target:"_blank",rel:"noopener noreferrer",className:ie.link,children:"Mediasoup"})," ","runs in a separate Docker service (profile webrtc)."]});function bPe({form:e,onFormChange:t}){return i.jsxs(Yi,{title:"WebRTC (Group Calls & Recording)",subtitle:yPe,children:[i.jsxs("label",{className:ie.label,children:["Service URL",i.jsx("input",{type:"url",className:ie.input,placeholder:"http://webrtc:3002",value:e.webrtc_service_url,onChange:r=>t({webrtc_service_url:r.target.value}),autoComplete:"off"})]}),i.jsx("p",{className:ie.inputHelp,children:"Internal URL to reach the WebRTC service (e.g. in Docker: http://webrtc:3002). Used to create mediasoup rooms."}),i.jsxs("label",{className:ie.label,children:["Public WebSocket URL",i.jsx("input",{type:"url",className:ie.input,placeholder:"wss://example.com/webrtc-ws or ws://localhost:3002",value:e.webrtc_public_ws_url,onChange:r=>t({webrtc_public_ws_url:r.target.value}),autoComplete:"off"})]}),i.jsx("p",{className:ie.inputHelp,children:"Public URL clients use to connect (wss:// in production). Must be reachable from browsers joining the call."}),i.jsxs("label",{className:ie.label,children:["Recording callback secret",i.jsx("input",{type:"password",className:ie.input,placeholder:e.recording_callback_secret==="(set)"?"(saved)":"Shared secret for webrtc service",value:e.recording_callback_secret==="(set)"?"":e.recording_callback_secret,onChange:r=>t({recording_callback_secret:r.target.value}),autoComplete:"off"})]}),i.jsx("p",{className:ie.inputHelp,children:"Shared secret the WebRTC service sends when a recording is ready. Set the same value as RECORDING_CALLBACK_SECRET in the webrtc container. Env var overrides this when set."})]})}const _Pe=[{value:"none",label:"None"},{value:"smtp",label:"SMTP"},{value:"sendgrid",label:"SendGrid"}];function xPe({form:e,onFormChange:t,smtpTestMutation:r,sendgridTestMutation:n,onSmtpTest:a,onSendGridTest:o}){return i.jsxs(Yi,{title:"Email",subtitle:"Optional. Configure how the server sends email (e.g. for notifications or password reset). Choose None to disable.",children:[i.jsxs("div",{className:ie.label,children:["Provider",i.jsx(Sm,{value:e.email_provider,options:_Pe,onChange:u=>t({email_provider:u}),ariaLabel:"Email provider"})]}),e.email_provider==="smtp"&&i.jsxs(i.Fragment,{children:[i.jsxs("label",{className:ie.label,children:["SMTP host",i.jsx("input",{type:"text",className:ie.input,placeholder:"smtp.example.com",value:e.smtp_host,onChange:u=>t({smtp_host:u.target.value}),autoComplete:"off"})]}),i.jsxs("label",{className:ie.label,children:["SMTP port",i.jsx("input",{type:"number",min:1,max:65535,step:1,className:ie.input,placeholder:"587",value:e.smtp_port,onChange:u=>t({smtp_port:Number(u.target.value)||587})})]}),i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:e.smtp_secure,onChange:u=>t({smtp_secure:u.target.checked})}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Use TLS (recommended for port 587)"})]}),i.jsxs("label",{className:ie.label,children:["SMTP username",i.jsx("input",{type:"text",className:ie.input,placeholder:"user@example.com",value:e.smtp_user,onChange:u=>t({smtp_user:u.target.value}),autoComplete:"off"})]}),i.jsxs("label",{className:ie.label,children:["SMTP password",i.jsx("input",{type:"password",className:ie.input,placeholder:e.smtp_password==="(set)"?"(saved)":"Enter password",value:e.smtp_password==="(set)"?"":e.smtp_password,onChange:u=>t({smtp_password:u.target.value}),autoComplete:"off"})]}),i.jsxs("label",{className:ie.label,children:["From address",i.jsx("input",{type:"email",className:ie.input,placeholder:"noreply@example.com",value:e.smtp_from,onChange:u=>t({smtp_from:u.target.value}),autoComplete:"off"}),i.jsx("p",{className:ie.inputHelp,children:"Email address used as the sender for outgoing mail."})]}),i.jsx(Dh,{testMutation:r,onTest:a,successMessage:"Credentials verified."})]}),e.email_provider==="sendgrid"&&i.jsxs(i.Fragment,{children:[i.jsxs("label",{className:ie.label,children:["SendGrid API key",i.jsx("input",{type:"password",className:ie.input,placeholder:e.sendgrid_api_key==="(set)"?"(saved)":"SG....",value:e.sendgrid_api_key==="(set)"?"":e.sendgrid_api_key,onChange:u=>t({sendgrid_api_key:u.target.value}),autoComplete:"off"}),i.jsxs("p",{className:ie.inputHelp,children:["Create an API key in the"," ",i.jsx("a",{href:"https://app.sendgrid.com/settings/api_keys",target:"_blank",rel:"noopener noreferrer",className:ie.link,children:"SendGrid dashboard"}),"."]})]}),i.jsxs("label",{className:ie.label,children:["From address",i.jsx("input",{type:"email",className:ie.input,placeholder:"noreply@example.com",value:e.sendgrid_from,onChange:u=>t({sendgrid_from:u.target.value}),autoComplete:"off"}),i.jsx("p",{className:ie.inputHelp,children:"Verified sender in SendGrid. Used as the sender for outgoing mail."})]}),i.jsx(Dh,{testMutation:n,onTest:o,successMessage:"API key verified."})]}),(e.email_provider==="smtp"||e.email_provider==="sendgrid")&&i.jsxs("div",{className:ie.emailNotifications,children:[i.jsx("h3",{className:ie.emailNotificationsTitle,children:"Email notifications"}),i.jsx("p",{className:ie.emailNotificationsIntro,children:"Choose which emails the server sends when email is configured."}),i.jsxs("div",{className:ie.emailNotificationsFieldset,role:"group","aria-label":"Email notification toggles",children:[i.jsxs("div",{className:ie.emailNotificationsGroup,children:[i.jsx("h4",{className:ie.emailNotificationsGroupTitle,children:"Account & sign-in"}),i.jsx("p",{className:ie.emailNotificationsGroupHelp,children:"Verification requires new users to confirm their email before signing in."}),i.jsxs("div",{className:ie.emailNotificationsGrid,children:[i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:e.email_enable_registration_verification,onChange:u=>t({email_enable_registration_verification:u.target.checked})}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Verification on register"})]}),i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:e.email_enable_welcome_after_verify,onChange:u=>t({email_enable_welcome_after_verify:u.target.checked})}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Welcome after verification"})]}),i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:e.email_enable_password_reset,onChange:u=>t({email_enable_password_reset:u.target.checked})}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Password reset"})]}),i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:e.email_enable_admin_welcome,onChange:u=>t({email_enable_admin_welcome:u.target.checked})}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Admin welcome (set-password)"})]})]})]}),i.jsxs("div",{className:ie.emailNotificationsGroup,children:[i.jsx("h4",{className:ie.emailNotificationsGroupTitle,children:"Notifications"}),i.jsxs("div",{className:ie.emailNotificationsGrid,children:[i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:e.email_enable_new_show,onChange:u=>t({email_enable_new_show:u.target.checked})}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"New show created"})]}),i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:e.email_enable_invite,onChange:u=>t({email_enable_invite:u.target.checked})}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Invite to platform"})]}),i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:e.email_enable_contact,onChange:u=>t({email_enable_contact:u.target.checked})}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Contact form"})]})]})]})]})]})]})}const wPe="https://dash.cloudflare.com/profile/api-tokens",SPe=[{value:"none",label:"None"},{value:"cloudflare",label:"CloudFlare"}];function jPe(e){const t=(e||"").trim();if(!t)return[];if(t.startsWith("["))try{const r=JSON.parse(t);return Array.isArray(r)?r.filter(n=>typeof n=="string"):[]}catch{return t.split(",").map(r=>r.trim()).filter(Boolean)}return t.split(",").map(r=>r.trim()).filter(Boolean)}function CPe(e){return e.length===0?"":e.join(", ")}function kPe({form:e,onFormChange:t}){const r=jPe(typeof e.dns_default_allow_domains=="string"?e.dns_default_allow_domains:"[]");return i.jsxs(Yi,{title:"DNS Configuration",subtitle:"Optional. Configure custom domains for podcast feeds (e.g. Link Domain, Managed Domain). Use None to disable; CloudFlare to manage CNAME records.",children:[i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:e.dns_allow_linking_domain,onChange:n=>t({dns_allow_linking_domain:n.target.checked})}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Allow Linking Domain"})]}),i.jsx("p",{className:ie.inputHelp,children:'When on, podcast owners can set a "link domain" so their feed is reachable at their own domain (e.g. podcast.example.com) instead of only the main HarborFM URL.'}),i.jsxs("div",{className:ie.label,children:["Provider",i.jsx(Sm,{value:e.dns_provider,options:SPe,onChange:n=>t({dns_provider:n}),ariaLabel:"DNS provider"})]}),i.jsx("p",{className:ie.inputHelp,children:'Choose how custom domains are set up. "None" turns off automatic DNS. "CloudFlare" lets HarborFM create or update DNS records in your CloudFlare account so custom domains work.'}),e.dns_provider==="cloudflare"&&i.jsxs(i.Fragment,{children:[i.jsxs("label",{className:ie.label,children:["Provider API Token",i.jsx("input",{type:"password",className:ie.input,placeholder:e.dns_provider_api_token_set?"(saved)":"Enter API token",value:e.dns_provider_api_token??"",onChange:n=>t({dns_provider_api_token:n.target.value}),autoComplete:"off"}),i.jsxs("p",{className:ie.inputHelp,children:['Your CloudFlare API token is used to create or update DNS records. Create one with "Zone:DNS:Edit" permission.'," ",i.jsx("a",{href:wPe,target:"_blank",rel:"noopener noreferrer",children:"Create a token at CloudFlare"}),"."]})]}),i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:e.dns_use_cname,onChange:n=>t({dns_use_cname:n.target.checked})}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Use CNAME"})]}),i.jsx("p",{className:ie.inputHelp,children:"When on, HarborFM creates a CNAME record pointing your custom domain to this server. Turn off if your host or network requires an A record (a numeric IP) instead."}),!e.dns_use_cname&&i.jsxs("label",{className:ie.label,children:["Server IP for A Record",i.jsx("input",{type:"text",className:ie.input,placeholder:"e.g. 192.0.2.1",value:e.dns_a_record_ip??"",onChange:n=>t({dns_a_record_ip:n.target.value}),autoComplete:"off"}),i.jsx("p",{className:ie.inputHelp,children:"The public IPv4 address of this server. Used when creating an A record so the custom domain points to this machine. Ask your host or network admin if you dont know it."})]}),i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:e.dns_default_allow_domain,onChange:n=>t({dns_default_allow_domain:n.target.checked})}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Allow Domain"})]}),i.jsx("p",{className:ie.inputHelp,children:'When on, podcast owners can set a "managed domain" (a full domain you allow). You can restrict which domains they can pick using the list below.'}),e.dns_default_allow_domain&&i.jsxs("label",{className:ie.label,children:["Allow Domains",i.jsx("input",{type:"text",className:ie.input,placeholder:"example.com, show.example.com",value:CPe(r),onChange:n=>t({dns_default_allow_domains:JSON.stringify(n.target.value.split(",").map(a=>a.trim()).filter(Boolean))})}),i.jsx("p",{className:ie.inputHelp,children:'Comma-separated list of domains you allow. When non-empty, the managed-domain dropdown in each podcast will only offer these. Leave empty to allow any domain (if "Allow Domain" is on).'})]}),i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:e.dns_default_allow_custom_key,onChange:n=>t({dns_default_allow_custom_key:n.target.checked})}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Allow Custom Key"})]}),i.jsx("p",{className:ie.inputHelp,children:"When on, each podcast can use its own CloudFlare API token instead of the global one above. Useful if different shows are in different CloudFlare accounts."}),i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:e.dns_default_allow_sub_domain,onChange:n=>t({dns_default_allow_sub_domain:n.target.checked})}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Allow Sub-Domain"})]}),i.jsx("p",{className:ie.inputHelp,children:'When on, podcast owners can use a sub-domain of a shared base domain (e.g. "myshow" under example.com  myshow.example.com). You must set the base domain below.'}),e.dns_default_allow_sub_domain&&i.jsxs("label",{className:ie.label,children:["Domain (Required)",i.jsx("input",{type:"text",className:ie.input,placeholder:"e.g. example.com",value:e.dns_default_domain,onChange:n=>t({dns_default_domain:n.target.value}),autoComplete:"off"}),i.jsx("p",{className:ie.inputHelp,children:'The base domain used for sub-domains (e.g. example.com). Podcasts can then choose a sub-name like "myshow" to get myshow.example.com. Required when "Allow Sub-Domain" is on.'})]}),i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:e.dns_default_enable_cloudflare_proxy,onChange:n=>t({dns_default_enable_cloudflare_proxy:n.target.checked})}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Enable CloudFlare Proxy"})]}),i.jsx("p",{className:ie.inputHelp,children:"When on, new DNS records are created with CloudFlares proxy (orange cloud) so traffic goes through CloudFlare. This can improve performance and add DDoS protection; turn off if you need traffic to hit your server IP directly."})]})]})}function NPe({form:e,onFormChange:t}){return i.jsxs(Yi,{title:"Custom Terms & Privacy",subtitle:"Optional. When set, the public Terms of Service and Privacy Policy pages show your custom text instead of the default. Markdown is supported.",children:[i.jsxs("label",{className:ie.label,children:["Custom Terms of Service (Markdown)",i.jsx("textarea",{className:`${ie.input} ${ie.textareaLarge}`,rows:8,placeholder:"Paste or write your terms in Markdown. Leave empty to use the default terms.",value:e.custom_terms,onChange:r=>t({custom_terms:r.target.value})})]}),i.jsxs("label",{className:ie.label,children:["Custom Privacy Policy (Markdown)",i.jsx("textarea",{className:`${ie.input} ${ie.textareaLarge}`,rows:8,placeholder:"Paste or write your privacy policy in Markdown. Leave empty to use the default policy.",value:e.custom_privacy,onChange:r=>t({custom_privacy:r.target.value})})]})]})}function EPe(){const e=Lt(),{data:t,isLoading:r,isFetching:n,isError:a}=Oe({queryKey:["settings"],queryFn:()=>DG()}),{data:o}=Oe({queryKey:["version"],queryFn:ZEe,staleTime:300*1e3}),{data:u}=Oe({queryKey:["settings","commands"],queryFn:()=>MG().then(M=>M.commands),staleTime:120*1e3}),[c,p]=v.useState(null),h=v.useRef(!1),f=v.useRef(null),m=v.useRef(null),{form:b,updateForm:_,setForm:j}=eTe(t),{testMutation:w,whisperTestMutation:y,transcriptionOpenaiTestMutation:x,smtpTestMutation:S,sendgridTestMutation:T,geoliteTestMutation:N,geoliteCheckMutation:A,geoliteUpdateMutation:P}=tTe({form:b});v.useEffect(()=>{t&&(f.current=JSON.stringify(t))},[t]);const k=v.useCallback(()=>{const M=m.current;if(!M)return;M.style.height="0";const F=Math.max(M.scrollHeight,60);M.style.height=`${F}px`},[]);v.useEffect(()=>{k()},[b.welcome_banner,k]);const R=Ue({mutationFn:()=>{var M,F,B,O;return LG({whisper_asr_url:b.whisper_asr_url.trim().replace(/\/+$/,""),transcription_provider:b.transcription_provider,openai_transcription_url:((M=b.openai_transcription_url)==null?void 0:M.trim())||void 0,openai_transcription_api_key:b.openai_transcription_api_key==="(set)"?void 0:b.openai_transcription_api_key,transcription_model:((F=b.transcription_model)==null?void 0:F.trim())||void 0,default_can_transcribe:b.default_can_transcribe,llm_provider:b.llm_provider,ollama_url:b.ollama_url,openai_api_key:b.openai_api_key==="(set)"?void 0:b.openai_api_key,model:b.model,registration_enabled:b.registration_enabled,public_feeds_enabled:b.public_feeds_enabled,gdpr_consent_banner_enabled:b.gdpr_consent_banner_enabled,websub_discovery_enabled:b.websub_discovery_enabled,hostname:b.hostname,websub_hub:b.websub_hub,final_bitrate_kbps:b.final_bitrate_kbps,final_channels:b.final_channels,final_format:b.final_format,maxmind_account_id:b.maxmind_account_id.trim(),maxmind_license_key:b.maxmind_license_key==="(set)"?void 0:b.maxmind_license_key,default_max_podcasts:b.default_max_podcasts,default_storage_mb:b.default_storage_mb,default_max_episodes:b.default_max_episodes,default_max_collaborators:b.default_max_collaborators,default_max_subscriber_tokens:b.default_max_subscriber_tokens,captcha_provider:b.captcha_provider,captcha_site_key:b.captcha_provider==="none"?"":b.captcha_site_key.trim(),captcha_secret_key:b.captcha_provider==="none"?"":b.captcha_secret_key==="(set)"?void 0:b.captcha_secret_key,email_provider:b.email_provider,smtp_host:b.email_provider==="smtp"?b.smtp_host.trim():"",smtp_port:b.smtp_port,smtp_secure:b.smtp_secure,smtp_user:b.email_provider==="smtp"?b.smtp_user.trim():"",smtp_password:b.email_provider==="smtp"&&b.smtp_password!=="(set)"?b.smtp_password:void 0,smtp_from:b.email_provider==="smtp"?b.smtp_from.trim():"",sendgrid_api_key:b.email_provider==="sendgrid"&&b.sendgrid_api_key!=="(set)"?b.sendgrid_api_key:void 0,sendgrid_from:b.email_provider==="sendgrid"?b.sendgrid_from.trim():"",email_enable_registration_verification:b.email_enable_registration_verification,email_enable_welcome_after_verify:b.email_enable_welcome_after_verify,email_enable_password_reset:b.email_enable_password_reset,email_enable_admin_welcome:b.email_enable_admin_welcome,email_enable_new_show:b.email_enable_new_show,email_enable_invite:b.email_enable_invite,email_enable_contact:b.email_enable_contact,welcome_banner:b.welcome_banner,custom_terms:b.custom_terms,custom_privacy:b.custom_privacy,dns_provider:b.dns_provider,dns_provider_api_token:b.dns_provider_api_token&&b.dns_provider_api_token!=="(set)"?b.dns_provider_api_token:b.dns_provider_api_token_set?"(set)":void 0,dns_use_cname:b.dns_use_cname,dns_a_record_ip:b.dns_a_record_ip,dns_allow_linking_domain:b.dns_allow_linking_domain,dns_default_allow_domain:b.dns_default_allow_domain,dns_default_allow_domains:(()=>{const $=b.dns_default_allow_domains;if(typeof $=="string"){if($.trim().startsWith("["))try{const K=JSON.parse($);return Array.isArray(K)?K.filter(V=>typeof V=="string"):[]}catch{return $.split(",").map(K=>K.trim()).filter(Boolean)}return $.split(",").map(K=>K.trim()).filter(Boolean)}return[]})(),dns_default_allow_custom_key:b.dns_default_allow_custom_key,dns_default_allow_sub_domain:b.dns_default_allow_sub_domain,dns_default_domain:b.dns_default_domain,dns_default_enable_cloudflare_proxy:b.dns_default_enable_cloudflare_proxy,webrtc_service_url:((B=b.webrtc_service_url)==null?void 0:B.trim())??"",webrtc_public_ws_url:((O=b.webrtc_public_ws_url)==null?void 0:O.trim())??"",recording_callback_secret:b.recording_callback_secret==="(set)"?void 0:b.recording_callback_secret})},onSuccess:M=>{e.invalidateQueries({queryKey:["settings"]}),j(M),f.current=JSON.stringify(M),p({type:"success",message:"Settings saved."}),h.current||window.scrollTo({top:0,behavior:"smooth"}),h.current=!1},onError:M=>{const F=M instanceof Error?M.message:"Failed to save settings.";p({type:"error",message:F})}}),D=rTe(b,f.current);function I(M){M.preventDefault(),p(null),h.current=!1,R.mutate()}function q(){p(null),h.current=!0,R.mutate()}const z=v.useCallback(M=>{_({llm_provider:M,model:M==="openai"?I7:M==="ollama"?c2:b.model})},[_,b]);return r||!t&&n?i.jsx(ba,{}):a?i.jsxs("div",{className:ie.page,children:[i.jsxs("header",{className:ie.hero,children:[i.jsx("h1",{className:ie.heroTitle,children:"Settings"}),i.jsx("p",{className:ie.heroSub,children:"Control your server configuration and access settings."})]}),i.jsx(ef,{title:"Failed to load settings"})]}):i.jsxs("div",{className:ie.page,children:[i.jsxs("header",{className:ie.hero,children:[i.jsx("h1",{className:ie.heroTitle,children:"Settings"}),i.jsx("p",{className:ie.heroSub,children:"Control your server configuration and access settings."})]}),(c==null?void 0:c.type)==="success"&&i.jsxs("div",{className:`${ie.noticeSuccess} ${ie.saveNoticeCard}`,role:"status","aria-live":"polite",children:[i.jsx("span",{className:ie.noticeTitle,children:"Success"}),i.jsx("p",{className:ie.noticeBody,children:c.message})]}),(c==null?void 0:c.type)==="error"&&i.jsxs("div",{className:`${ie.noticeError} ${ie.saveNoticeCard}`,role:"alert","aria-live":"polite",children:[i.jsx("span",{className:ie.noticeTitle,children:"Error"}),i.jsx("p",{className:ie.noticeBody,children:c.message})]}),((o==null?void 0:o.version)!=null||u!=null)&&i.jsxs("div",{className:ie.versionCard,children:[i.jsx("div",{className:ie.versionCommands,children:u!=null&&Object.entries(u).sort(([M],[F])=>M.localeCompare(F)).map(([M])=>i.jsxs("span",{className:ie.commandBadge,title:u[M]?"Present":"Not found",children:[i.jsx("span",{className:ie.commandDot,style:{background:u[M]?"var(--accent)":"var(--error)"},"aria-hidden":!0}),i.jsx("code",{className:ie.commandName,children:M})]},M))}),(o==null?void 0:o.version)&&i.jsxs("div",{className:ie.versionBlock,children:[i.jsx("span",{className:ie.versionLabel,children:"Version"}),i.jsx("span",{className:ie.versionValue,children:o.version})]})]}),i.jsxs("form",{onSubmit:I,className:ie.form,children:[i.jsx(oPe,{form:b,onFormChange:_,welcomeBannerRef:m,onResizeWelcomeBanner:k}),i.jsx(lPe,{form:b,onFormChange:_}),i.jsx(cPe,{form:b,onFormChange:_}),i.jsx(uPe,{form:b,onFormChange:_,geoliteTestMutation:N,geoliteCheckMutation:A,geoliteUpdateMutation:P,onGeoliteTest:()=>N.mutate({maxmind_account_id:b.maxmind_account_id.trim(),maxmind_license_key:b.maxmind_license_key==="(set)"?void 0:b.maxmind_license_key.trim()||void 0}),onGeoliteCheck:()=>A.mutate(),onGeoliteUpdate:()=>P.mutate({maxmind_account_id:b.maxmind_account_id.trim(),maxmind_license_key:b.maxmind_license_key==="(set)"?void 0:b.maxmind_license_key.trim()||void 0})}),i.jsx(fPe,{form:b,onFormChange:_,whisperTestMutation:y,onWhisperTest:()=>y.mutate(),transcriptionOpenaiTestMutation:x,onTranscriptionOpenaiTest:()=>x.mutate()}),i.jsx(hPe,{form:b,onFormChange:_,testMutation:w,onTest:()=>w.mutate(),onProviderChange:z}),i.jsx(vPe,{form:b,onFormChange:_}),i.jsx(bPe,{form:b,onFormChange:_}),i.jsx(xPe,{form:b,onFormChange:_,smtpTestMutation:S,sendgridTestMutation:T,onSmtpTest:()=>S.mutate(),onSendGridTest:()=>T.mutate()}),i.jsx(kPe,{form:b,onFormChange:_}),i.jsx(NPe,{form:b,onFormChange:_}),i.jsx("div",{className:ie.actions,children:i.jsx("button",{type:"submit",className:ie.submit,disabled:R.isPending,"aria-label":"Save settings",children:R.isPending?"Saving...":"Save"})})]}),i.jsx("div",{className:ie.floatingSaveWrap,"data-visible":D,role:"region","aria-label":"Save settings","aria-hidden":!D,children:i.jsxs("div",{className:ie.floatingSaveBar,children:[i.jsx("span",{className:ie.floatingSaveLabel,children:"Unsaved changes"}),i.jsx("button",{type:"button",className:ie.floatingSaveBtn,onClick:q,disabled:R.isPending,"aria-label":"Save settings",tabIndex:D?void 0:-1,children:R.isPending?"Saving...":"Save"})]})})]})}function oM(e){const t=new URLSearchParams;(e==null?void 0:e.limit)!=null&&t.set("limit",String(e.limit)),(e==null?void 0:e.offset)!=null&&t.set("offset",String(e.offset)),e!=null&&e.q&&t.set("q",e.q),e!=null&&e.sort&&t.set("sort",e.sort);const r=t.toString(),n=`/auth/api-keys${r?`?${r}`:""}`;return Et(n)}function TPe(e){return nn("/auth/api-keys",e??{})}function PPe(e,t){return Kl(`/auth/api-keys/${encodeURIComponent(e)}`,t)}function APe(e){return Hh(`/auth/api-keys/${encodeURIComponent(e)}`)}const wl={...ae,...za};function RPe({keyValue:e,onDismiss:t,copied:r,onCopy:n}){return i.jsx("div",{className:wl.tokenCreatedCard,role:"status",children:i.jsxs("div",{className:wl.tokenCreatedHeader,children:[i.jsxs("div",{className:wl.tokenCreatedContent,children:[i.jsx("p",{className:wl.tokenCreatedTitle,children:"API key created. Copy the key now - it won't be shown again."}),i.jsx("code",{className:wl.tokenUrl,style:{fontFamily:"ui-monospace, monospace"},children:e})]}),i.jsxs("div",{className:wl.tokenCreatedActions,children:[i.jsxs("button",{type:"button",className:wl.tokenCreatedCopyBtn,onClick:n,"aria-label":"Copy API key",children:[r?i.jsx(Nj,{size:16,"aria-hidden":!0}):i.jsx(dh,{size:16,"aria-hidden":!0}),r?"Copied":"Copy key"]}),i.jsxs("button",{type:"button",className:wl.tokenCreatedDismissBtn,onClick:t,children:[i.jsx(Nt,{size:16,"aria-hidden":!0}),"Dismiss"]})]})]})})}const Sc={...ae,...za};function OPe({atLimit:e,limitValue:t,readOnly:r,onSuccess:n}){const a=Lt(),[o,u]=v.useState(""),[c,p]=v.useState(!0),[h,f]=v.useState(()=>{const _=new Date(Date.now()+31536e6);return $d(_)}),m=Ue({mutationFn:_=>TPe(_),onSuccess:_=>{a.invalidateQueries({queryKey:["api-keys"]}),a.invalidateQueries({queryKey:["api-keys-count"]}),n(_),u(""),p(!0);const j=new Date(Date.now()+365*24*60*60*1e3);f($d(j))}}),b=_=>{if(_.preventDefault(),!o.trim())return;const j=c&&h.trim()?new Date(h).toISOString():void 0;m.mutate({name:o.trim(),...j?{valid_until:j}:{}})};return r?null:i.jsxs("form",{className:Sc.tokenForm,onSubmit:b,children:[i.jsx("div",{className:Sc.tokenFormInputWrap,children:i.jsx("input",{type:"text",placeholder:"Key name (e.g. Production script)",value:o,onChange:_=>u(_.target.value),className:Sc.tokenFormInput,disabled:e,required:!0})}),i.jsxs("div",{className:Sc.tokenFormActions,"data-expires":c,children:[i.jsxs("label",{className:"toggle",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx("input",{type:"checkbox",checked:c,disabled:e,onChange:_=>p(_.target.checked)}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{style:{fontSize:"0.875rem",fontWeight:500},children:"Expires"})]}),c&&i.jsx("input",{type:"datetime-local",placeholder:"Valid until",disabled:e,value:h,onChange:_=>f(_.target.value),className:Sc.tokenFormInput}),i.jsxs("button",{type:"submit",className:Sc.createTokenBtn,disabled:m.isPending||e,title:e?`You can have at most ${t} API keys. Revoke one to create another.`:void 0,children:[i.jsx(Yr,{size:16,strokeWidth:2,"aria-hidden":!0}),m.isPending?"Creating...":"Create Key"]})]}),m.isError&&i.jsx("p",{className:Sc.error,children:m.error.message})]})}const co={...ae,...za};function DPe({apiKey:e,isOpen:t,onClose:r,onConfirm:n,isPending:a}){var u;const o=((u=e==null?void 0:e.name)==null?void 0:u.trim())||"API Key";return i.jsx(ur,{open:t,onOpenChange:c=>!c&&r(),children:i.jsxs(br,{children:[i.jsx(dr,{className:co.dialogOverlay}),i.jsxs(fr,{className:co.dialogContent,children:[i.jsxs("div",{className:co.dialogHeaderRow,children:[i.jsx(pr,{className:co.dialogTitle,children:"Revoke API key?"}),i.jsx(pt,{asChild:!0,children:i.jsx("button",{type:"button",className:co.dialogClose,"aria-label":"Close",children:i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":"true"})})})]}),i.jsx(Nr,{className:co.dialogDescription,children:e?`This will permanently revoke the API key "${o}". Any scripts or apps using this key will stop working. This cannot be undone.`:"This will permanently revoke this API key. This cannot be undone."}),i.jsxs("div",{className:co.dialogActions,children:[i.jsx(pt,{asChild:!0,children:i.jsx("button",{type:"button",className:co.subscriberDialogCancelBtn,"aria-label":"Cancel",children:"Cancel"})}),i.jsx("button",{type:"button",className:co.dialogConfirmRemove,onClick:()=>{e&&(n(e.id),r())},disabled:a,"aria-label":"Confirm revoke API key",children:a?"Revoking...":"Revoke"})]})]})]})})}const MPe="_page_1wcdw_1",LPe="_hero_1wcdw_9",IPe="_heroTitle_1wcdw_13",$Pe="_heroSub_1wcdw_22",BPe="_heroLink_1wcdw_28",zPe="_card_1wcdw_37",FPe="_cardTitle_1wcdw_46",qPe="_cardSub_1wcdw_53",UPe="_docsLink_1wcdw_60",HPe="_list_1wcdw_68",WPe="_row_1wcdw_75",KPe="_term_1wcdw_82",GPe="_detail_1wcdw_89",VPe="_badge_1wcdw_95",YPe="_cardNote_1wcdw_106",QPe="_apiKeysSection_1wcdw_126",XPe="_apiKeyLimitCard_1wcdw_131",ZPe="_apiKeyLimitText_1wcdw_141",Ke={page:MPe,hero:LPe,heroTitle:IPe,heroSub:$Pe,heroLink:BPe,card:zPe,cardTitle:FPe,cardSub:qPe,docsLink:UPe,list:HPe,row:WPe,term:KPe,detail:GPe,badge:VPe,cardNote:YPe,apiKeysSection:QPe,apiKeyLimitCard:XPe,apiKeyLimitText:ZPe},ls={...ae,...za},Vp=10;function JPe(e){return h_(e)||"-"}function vv(e){return i2(e)||"-"}function eAe(e){if(e===0)return"0 B";const t=1024,r=["B","KB","MB","GB"],n=Math.floor(Math.log(e)/Math.log(t));return`${parseFloat((e/Math.pow(t,n)).toFixed(1))} ${r[n]}`}function tAe(){var He;const e=Lt(),[t,r]=v.useState(null),[n,a]=v.useState(!1),[o,u]=v.useState(null),[c,p]=v.useState(null),[h,f]=v.useState(""),[m,b]=v.useState(""),[_,j]=v.useState(""),[w,y]=v.useState(!0),[x,S]=v.useState(1),T=v.useRef(null),N=v.useRef(!0),A=v.useRef(void 0),{data:P,isLoading:k,isError:R}=Oe({queryKey:["me"],queryFn:_i});v.useEffect(()=>{if(m.trim()===""){j(""),S(1);return}const re=window.setTimeout(()=>{j(m.trim()),S(1)},300);return()=>window.clearTimeout(re)},[m]),v.useEffect(()=>{S(1)},[w]),v.useEffect(()=>{A.current!==void 0&&A.current!==x&&(N.current=!1),A.current=x},[x]);const{data:D,isLoading:I}=Oe({queryKey:["api-keys",x,_,w],queryFn:()=>oM({limit:Vp,offset:(x-1)*Vp,q:_||void 0,sort:w?"newest":"oldest"})}),{data:q}=Oe({queryKey:["api-keys-count"],queryFn:()=>oM({limit:1,offset:0})}),z=Ue({mutationFn:APe,onSuccess:()=>{e.invalidateQueries({queryKey:["api-keys"]}),e.invalidateQueries({queryKey:["api-keys-count"]})}}),M=Ue({mutationFn:({id:re,body:Pe})=>PPe(re,Pe),onSuccess:()=>{e.invalidateQueries({queryKey:["api-keys"]}),e.invalidateQueries({queryKey:["api-keys-count"]}),p(null),f("")}});v.useEffect(()=>{if(N.current||I)return;N.current=!0;const re=T.current,Pe=requestAnimationFrame(()=>{re==null||re.scrollIntoView({behavior:"smooth",block:"start"})});return()=>cancelAnimationFrame(Pe)},[x,I]);const F=(D==null?void 0:D.api_keys)??[],B=(D==null?void 0:D.total)??0,O=Math.max(1,Math.ceil(B/Vp)),$=Math.max(1,Math.min(x,O)),K=B===0?0:($-1)*Vp+1,V=($-1)*Vp+F.length;v.useEffect(()=>{D!=null&&B>0&&x>O&&S(Math.max(1,O))},[O,D,B,x]);const Q=(q==null?void 0:q.total)??0,U=((He=P==null?void 0:P.user)==null?void 0:He.max_api_keys)??5,X=Q>=U;function ee(re){navigator.clipboard.writeText(re).then(()=>{a(!0),window.setTimeout(()=>a(!1),2e3)})}if(k)return i.jsx(ba,{});if(R||!(P!=null&&P.user))return i.jsxs("div",{className:Ke.page,children:[i.jsxs("header",{className:Ke.hero,children:[i.jsx("h1",{className:Ke.heroTitle,children:"Profile"}),i.jsxs("p",{className:Ke.heroSub,children:["Your account details and settings."," ",i.jsx(Ye,{to:"/contact",className:Ke.heroLink,children:"Contact site administrators."})]})]}),i.jsx(ef,{title:"Failed to load profile"})]});const{user:te}=P,me=te.role==="admin"?"Administrator":"User",Ce=te.max_podcasts!=null||te.max_episodes!=null||te.max_storage_mb!=null,xe=!te.read_only&&(te.last_login_at!=null||te.last_login_ip!=null||te.last_login_location!=null);return i.jsxs("div",{className:Ke.page,children:[i.jsxs("header",{className:Ke.hero,children:[i.jsx("h1",{className:Ke.heroTitle,children:"Profile"}),i.jsxs("p",{className:Ke.heroSub,children:["Your account details and settings."," ",i.jsx(Ye,{to:"/contact",className:Ke.heroLink,children:"Contact site administrators."})]})]}),i.jsxs("section",{className:Ke.card,children:[i.jsx("h2",{className:Ke.cardTitle,children:"Account"}),i.jsx("p",{className:Ke.cardSub,children:"Basic information about your account"}),i.jsxs("dl",{className:Ke.list,children:[i.jsxs("div",{className:Ke.row,children:[i.jsx("dt",{className:Ke.term,children:"Email"}),i.jsx("dd",{className:Ke.detail,children:te.email})]}),i.jsxs("div",{className:Ke.row,children:[i.jsx("dt",{className:Ke.term,children:"Role"}),i.jsx("dd",{className:Ke.detail,children:me})]}),i.jsxs("div",{className:Ke.row,children:[i.jsx("dt",{className:Ke.term,children:"Account created"}),i.jsx("dd",{className:Ke.detail,children:JPe(te.created_at)})]}),te.read_only?i.jsxs("div",{className:Ke.row,children:[i.jsx("dt",{className:Ke.term,children:"Mode"}),i.jsxs("dd",{className:Ke.detail,children:[i.jsx("span",{className:Ke.badge,children:"Read-only"})," - You can view content but not create or edit."]})]}):null]})]}),xe&&i.jsxs("section",{className:Ke.card,children:[i.jsx("h2",{className:Ke.cardTitle,children:"Last login"}),i.jsx("p",{className:Ke.cardSub,children:"When and where you last signed in"}),i.jsxs("dl",{className:Ke.list,children:[te.last_login_at!=null&&i.jsxs("div",{className:Ke.row,children:[i.jsx("dt",{className:Ke.term,children:"Time"}),i.jsx("dd",{className:Ke.detail,children:vv(te.last_login_at)})]}),te.last_login_ip!=null&&i.jsxs("div",{className:Ke.row,children:[i.jsx("dt",{className:Ke.term,children:"IP address"}),i.jsx("dd",{className:Ke.detail,children:te.last_login_ip})]}),te.last_login_location!=null&&i.jsxs("div",{className:Ke.row,children:[i.jsx("dt",{className:Ke.term,children:"Location"}),i.jsx("dd",{className:Ke.detail,children:te.last_login_location})]})]})]}),i.jsxs("section",{className:Ke.card,children:[i.jsx("h2",{className:Ke.cardTitle,children:"Usage"}),i.jsx("p",{className:Ke.cardSub,children:"Your podcasts and storage"}),i.jsxs("dl",{className:Ke.list,children:[i.jsxs("div",{className:Ke.row,children:[i.jsx("dt",{className:Ke.term,children:"Podcasts"}),i.jsxs("dd",{className:Ke.detail,children:[P.podcast_count,te.max_podcasts!=null&&te.max_podcasts>0?` of ${te.max_podcasts}`:""]})]}),i.jsxs("div",{className:Ke.row,children:[i.jsx("dt",{className:Ke.term,children:"Episodes"}),i.jsxs("dd",{className:Ke.detail,children:[P.episode_count,te.max_episodes!=null&&te.max_episodes>0?` of ${te.max_episodes}`:""]})]}),i.jsxs("div",{className:Ke.row,children:[i.jsx("dt",{className:Ke.term,children:"Storage used"}),i.jsxs("dd",{className:Ke.detail,children:[eAe(te.disk_bytes_used??0),te.max_storage_mb!=null&&te.max_storage_mb>0?` of ${te.max_storage_mb} MB`:""]})]})]}),!Ce&&i.jsx("p",{className:Ke.cardNote,children:"You dont have any limits set on your account."})]}),i.jsxs("section",{className:`${ls.card} ${Ke.apiKeysSection}`,children:[i.jsx("div",{className:ls.exportHeader,children:i.jsxs("div",{className:ls.exportTitle,children:[i.jsx(KM,{size:18,strokeWidth:2,"aria-hidden":"true"}),i.jsx("h2",{ref:T,className:ls.sectionTitle,children:"API Keys"})]})}),i.jsxs("p",{className:ls.sectionSub,children:["Use API keys for scripted or programmatic access. Each key has the same access as your account. You can have up to ",U," keys."," ",i.jsx("a",{href:"/api/docs",target:"_blank",rel:"noopener noreferrer",className:Ke.docsLink,children:"View API documentation"})," ","to explore and try endpoints with your key."]}),!te.read_only&&i.jsx(OPe,{atLimit:X,limitValue:U,readOnly:!!te.read_only,onSuccess:r}),t&&i.jsx(RPe,{keyValue:t.key,onDismiss:()=>r(null),copied:n,onCopy:()=>ee(t.key)}),X&&i.jsx("div",{className:Ke.apiKeyLimitCard,children:i.jsxs("p",{className:Ke.apiKeyLimitText,children:["You can have at most ",U," API keys. Revoke one to create another."]})}),i.jsx(f6,{searchQuery:m,onSearchChange:b,sortNewestFirst:w,onSortChange:y,totalCount:Q}),I?i.jsx("p",{className:ls.tokenMuted,children:"Loading..."}):Q===0?i.jsx("p",{className:ls.tokenMuted,children:"No API keys yet. Create one above to use the API."}):B===0?i.jsx("div",{className:ls.tokenNoMatch,children:i.jsx("p",{className:ls.tokenNoMatchText,children:"No keys match your search."})}):i.jsxs(i.Fragment,{children:[i.jsx("ul",{className:ls.exportList,children:F.map(re=>{var lt;const Pe=re.valid_until!=null&&new Date(re.valid_until)<new Date,Ne=re.disabled===1,ge=Pe?"expired":Ne?"disabled":"active",_t=((lt=re.name)==null?void 0:lt.trim())||"API Key",Ge=[`Created ${vv(re.created_at)}`];return re.valid_until&&Ge.push(`Expires ${vv(re.valid_until)}`),re.last_used_at!=null&&Ge.push(`Last used ${vv(re.last_used_at)}`),i.jsx(p6,{name:_t,status:ge,metaText:Ge.join("  "),readOnly:!!te.read_only,extendEditing:c===re.id,extendValue:h,onExtendValueChange:f,onExtendSave:()=>{h.trim()&&M.mutate({id:re.id,body:{valid_until:new Date(h).toISOString()}})},onExtendCancel:()=>{p(null),f("")},onExtendClick:()=>{p(re.id);const at=new Date(Date.now()+365*24*60*60*1e3);f($d(at))},onEnableDisable:()=>M.mutate({id:re.id,body:{disabled:!Ne}}),enableDisableDisabled:M.isPending||ge==="expired",onRevoke:()=>u(re),revokeDisabled:z.isPending,updatePending:M.isPending,revokeLabel:"Revoke"},re.id)})}),i.jsx(h6,{page:$,totalPages:O,rangeStart:K,rangeEnd:V,totalTokens:B,onPageChange:S,itemLabel:"key"})]})]}),i.jsx(DPe,{apiKey:o,isOpen:!!o,onClose:()=>u(null),onConfirm:re=>z.mutate(re),isPending:z.isPending})]})}const rAe="_users_gj9oj_1",nAe="_head_gj9oj_6",aAe="_searchRow_gj9oj_13",iAe="_searchInput_gj9oj_21",sAe="_createUserBtn_gj9oj_43",oAe="_title_gj9oj_63",lAe="_subtitleRight_gj9oj_76",cAe="_muted_gj9oj_83",uAe="_empty_gj9oj_93",dAe="_userList_gj9oj_99",fAe="_userCard_gj9oj_105",pAe="_userCardRow_gj9oj_118",hAe="_userCardLeft_gj9oj_126",mAe="_userCardEmail_gj9oj_134",gAe="_userCardDetailsRow_gj9oj_144",vAe="_userCardMeta_gj9oj_153",yAe="_userCardLastLogin_gj9oj_162",bAe="_userCardActions_gj9oj_168",_Ae="_pagination_gj9oj_175",xAe="_pageBtn_gj9oj_183",wAe="_pageInfo_gj9oj_205",SAe="_roleUser_gj9oj_210",jAe="_roleAdmin_gj9oj_211",CAe="_actionBtn_gj9oj_226",kAe="_actionBtnDanger_gj9oj_247",NAe="_dialogOverlay_gj9oj_298",EAe="_dialogContent_gj9oj_306",TAe="_dialogContentWide_gj9oj_322",PAe="_dialogContentScrollable_gj9oj_326",AAe="_dialogHeaderRow_gj9oj_332",RAe="_dialogTitle_gj9oj_335",OAe="_dialogDescription_gj9oj_339",DAe="_dialogBodyScroll_gj9oj_343",MAe="_dialogFormWrap_gj9oj_372",LAe="_dialogClose_gj9oj_394",IAe="_dialogActions_gj9oj_435",$Ae="_dialogActionsCancelLeft_gj9oj_445",BAe="_cancel_gj9oj_449",zAe="_dialogConfirmRemove_gj9oj_469",FAe="_dialogConfirm_gj9oj_469",qAe="_noticeError_gj9oj_516",UAe="_noticeTitle_gj9oj_526",HAe="_noticeBody_gj9oj_532",WAe="_formGroup_gj9oj_538",KAe="_formLabel_gj9oj_542",GAe="_formSectionHeader_gj9oj_550",VAe="_formInput_gj9oj_559",YAe="_roleToggle_gj9oj_580",QAe="_roleToggleBtn_gj9oj_588",XAe="_roleToggleBtnActive_gj9oj_589",we={users:rAe,head:nAe,searchRow:aAe,searchInput:iAe,createUserBtn:sAe,title:oAe,subtitleRight:lAe,muted:cAe,empty:uAe,userList:dAe,userCard:fAe,userCardRow:pAe,userCardLeft:hAe,userCardEmail:mAe,userCardDetailsRow:gAe,userCardMeta:vAe,userCardLastLogin:yAe,userCardActions:bAe,pagination:_Ae,pageBtn:xAe,pageInfo:wAe,roleUser:SAe,roleAdmin:jAe,actionBtn:CAe,actionBtnDanger:kAe,dialogOverlay:NAe,dialogContent:EAe,dialogContentWide:TAe,dialogContentScrollable:PAe,dialogHeaderRow:AAe,dialogTitle:RAe,dialogDescription:OAe,dialogBodyScroll:DAe,dialogFormWrap:MAe,dialogClose:LAe,dialogActions:IAe,dialogActionsCancelLeft:$Ae,cancel:BAe,dialogConfirmRemove:zAe,dialogConfirm:FAe,noticeError:qAe,noticeTitle:UAe,noticeBody:HAe,formGroup:WAe,formLabel:KAe,formSectionHeader:GAe,formInput:VAe,roleToggle:YAe,roleToggleBtn:QAe,roleToggleBtnActive:XAe};function ZAe(e){const t=Number(e);if(!Number.isFinite(t)||t<=0)return"0 B";const r=["B","KB","MB","GB","TB"];let n=t,a=0;for(;n>=1024&&a<r.length-1;)n/=1024,a+=1;return`${n.toFixed(2)} ${r[a]}`}function JAe(){const e=yi(),[t,r]=v.useState(1),[n,a]=v.useState(""),[o,u]=v.useState(null),[c,p]=v.useState(null),[h,f]=v.useState(""),[m,b]=v.useState("user"),[_,j]=v.useState(!1),[w,y]=v.useState(!1),[x,S]=v.useState(""),[T,N]=v.useState(null),[A,P]=v.useState(null),[k,R]=v.useState(null),[D,I]=v.useState(null),[q,z]=v.useState(null),[M,F]=v.useState(!1),[B,O]=v.useState(!1),[$,K]=v.useState(""),[V,Q]=v.useState(""),[U,X]=v.useState("user"),ee=50,te=Lt(),{data:me,isLoading:Ce,isError:xe}=Oe({queryKey:["users",t,n],queryFn:()=>UZ(t,ee,n||void 0),refetchOnMount:"always"}),He=Ue({mutationFn:KZ,onSuccess:()=>{te.invalidateQueries({queryKey:["users"]}),u(null)}}),re=Ue({mutationFn:({userId:_e,data:We})=>HZ(_e,We),onSuccess:()=>{te.invalidateQueries({queryKey:["users"]}),p(null)}}),Pe=Ue({mutationFn:()=>WZ({email:$.trim(),password:V,role:U}),onSuccess:()=>{te.invalidateQueries({queryKey:["users"]}),O(!1),K(""),Q(""),X("user")}});function Ne(_e){a(_e.target.value),r(1)}function ge(_e){p(_e),f(_e.email),b(_e.role),j(_e.disabled===1),y(_e.read_only===1),S(""),N(_e.max_podcasts??null),P(_e.max_episodes??null),R(_e.max_storage_mb??null),I(_e.max_collaborators??null),z(_e.max_subscriber_tokens??null),F(_e.can_transcribe===1)}function _t(_e){if(_e.preventDefault(),!c)return;const We={};h!==c.email&&(We.email=h),m!==c.role&&(We.role=m),_!==(c.disabled===1)&&(We.disabled=_),w!==(c.read_only===1)&&(We.read_only=w),x.trim()!==""&&(We.password=x),T!==(c.max_podcasts??null)&&(We.max_podcasts=T),A!==(c.max_episodes??null)&&(We.max_episodes=A),k!==(c.max_storage_mb??null)&&(We.max_storage_mb=k),D!==(c.max_collaborators??null)&&(We.max_collaborators=D),q!==(c.max_subscriber_tokens??null)&&(We.max_subscriber_tokens=q);const er=c.can_transcribe===1;M!==er&&(We.can_transcribe=M),Object.keys(We).length>0?re.mutate({userId:c.id,data:We}):p(null)}function Ge(_e){u(_e)}function lt(){o&&He.mutate(o)}const at=(me==null?void 0:me.users)??[],Ve=me==null?void 0:me.pagination;return i.jsxs("div",{className:we.users,children:[i.jsx("div",{className:we.head,children:i.jsx("h1",{className:we.title,children:"Users"})}),i.jsxs("div",{className:we.searchRow,children:[i.jsx("input",{type:"text",className:we.searchInput,placeholder:"Search by email...",value:n,onChange:Ne,"aria-label":"Search by email"}),i.jsxs("button",{type:"button",className:we.createUserBtn,onClick:()=>{X("user"),O(!0)},"aria-label":"Create user",children:[i.jsx(Yr,{size:18,strokeWidth:2,"aria-hidden":!0}),"Create User"]})]}),Ce&&i.jsx("p",{className:we.muted,children:"Loading users..."}),xe&&i.jsx(ef,{title:"Failed to load users"}),!Ce&&!xe&&i.jsxs(i.Fragment,{children:[at.length===0?i.jsx("div",{className:we.empty,children:i.jsx("p",{children:"No users found."})}):i.jsx("div",{className:we.userList,children:at.map(_e=>i.jsxs("div",{className:we.userCard,children:[i.jsxs("div",{className:we.userCardRow,children:[i.jsx("div",{className:we.userCardLeft,children:i.jsx("h2",{className:we.userCardEmail,children:_e.email})}),i.jsxs("div",{className:we.userCardActions,children:[i.jsxs("button",{type:"button",className:we.actionBtn,onClick:()=>e(`/dashboard/${_e.id}`),title:"View podcasts","aria-label":`View podcasts for ${_e.email}`,children:[i.jsx(ab,{size:16,strokeWidth:2,"aria-hidden":!0}),i.jsx("span",{children:"Podcasts"})]}),i.jsxs("button",{type:"button",className:we.actionBtn,onClick:()=>e(`/library/${_e.id}`),title:"View library","aria-label":`View library for ${_e.email}`,children:[i.jsx(Vv,{size:16,strokeWidth:2,"aria-hidden":!0}),i.jsx("span",{children:"Library"})]}),i.jsxs("button",{type:"button",className:we.actionBtn,onClick:()=>ge(_e),title:"Edit User","aria-label":`Edit user ${_e.email}`,children:[i.jsx(QM,{size:16,strokeWidth:2,"aria-hidden":!0}),i.jsx("span",{children:"Edit"})]}),i.jsx("button",{type:"button",className:`${we.actionBtn} ${we.actionBtnDanger}`,onClick:()=>Ge(_e.id),title:"Delete user","aria-label":`Delete user ${_e.email}`,children:i.jsx(Wl,{size:16,strokeWidth:2,"aria-hidden":!0})})]})]}),i.jsxs("div",{className:we.userCardDetailsRow,children:[i.jsxs("p",{className:we.userCardMeta,children:[i.jsx("span",{className:_e.role==="admin"?we.roleAdmin:we.roleUser,children:_e.role}),"  ","Created ",h_(_e.created_at),"  ","Storage ",ZAe(_e.disk_bytes_used??0)]}),(_e.last_login_at!=null||_e.last_login_ip!=null||_e.last_login_location)&&i.jsxs("p",{className:we.userCardLastLogin,children:["Last login: ",_e.last_login_at!=null?i2(_e.last_login_at):"-",_e.last_login_ip!=null&&i.jsxs(i.Fragment,{children:["  ",_e.last_login_ip]}),_e.last_login_location!=null&&_e.last_login_location!==""&&i.jsxs(i.Fragment,{children:["  ",_e.last_login_location]})]})]})]},_e.id))}),Ve&&i.jsxs("p",{className:we.subtitleRight,children:["Showing ",at.length," of ",Ve.total," users",n&&` matching "${n}"`]}),Ve&&Ve.totalPages>1&&i.jsxs("div",{className:we.pagination,children:[i.jsx("button",{type:"button",className:we.pageBtn,onClick:()=>r(_e=>Math.max(1,_e-1)),disabled:t===1,"aria-label":"Go to previous page",children:"Previous"}),i.jsxs("span",{className:we.pageInfo,children:["Page ",Ve.page," of ",Ve.totalPages]}),i.jsx("button",{type:"button",className:we.pageBtn,onClick:()=>r(_e=>Math.min(Ve.totalPages,_e+1)),disabled:t>=Ve.totalPages,"aria-label":"Go to next page",children:"Next"})]})]}),i.jsx(ur,{open:!!c,onOpenChange:_e=>!_e&&p(null),children:i.jsxs(br,{children:[i.jsx(dr,{className:we.dialogOverlay}),i.jsxs(fr,{className:`${we.dialogContent} ${we.dialogContentWide} ${we.dialogContentScrollable}`,children:[i.jsxs("div",{className:we.dialogHeaderRow,children:[i.jsx(pr,{className:we.dialogTitle,children:"Edit User"}),i.jsx(pt,{asChild:!0,children:i.jsx("button",{type:"button",className:we.dialogClose,"aria-label":"Close",children:i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":"true"})})})]}),i.jsx(Nr,{className:we.dialogDescription,children:"Update the user email, password, role, and limits."}),i.jsxs("form",{onSubmit:_t,className:we.dialogFormWrap,children:[i.jsxs("div",{className:we.dialogBodyScroll,children:[i.jsx("div",{className:we.formGroup,children:i.jsxs("label",{className:we.formLabel,children:["Email",i.jsx("input",{type:"email",className:we.formInput,value:h,onChange:_e=>f(_e.target.value),required:!0})]})}),i.jsxs("div",{className:we.formGroup,children:[i.jsxs("label",{className:we.formLabel,children:["Password",i.jsx("input",{type:"password",className:we.formInput,value:x,onChange:_e=>S(_e.target.value),placeholder:"Leave blank to keep current password"})]}),i.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginTop:"0.25rem"},children:"Leave blank to keep the current password."})]}),i.jsxs("div",{className:we.formGroup,children:[i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:_,onChange:_e=>j(_e.target.checked)}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Disabled"})]}),i.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginTop:"0.25rem",marginLeft:"3.5rem"},children:"When enabled, a user cannot log in."})]}),i.jsxs("div",{className:we.formGroup,children:[i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:w,onChange:_e=>y(_e.target.checked)}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Read Only"})]}),i.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginTop:"0.25rem",marginLeft:"3.5rem"},children:"When enabled, the user can view content but cannot create or edit podcasts, episodes, library items, or run build/S3 export."})]}),i.jsxs("div",{className:we.formGroup,children:[i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",checked:M,onChange:_e=>F(_e.target.checked)}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Can Transcribe"})]}),i.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginTop:"0.25rem",marginLeft:"3.5rem"},children:"When enabled, the user can generate episode and segment transcripts (when a transcription provider is configured)."})]}),i.jsx("div",{className:we.formGroup,children:i.jsxs("label",{className:we.formLabel,children:["Role",i.jsxs("div",{className:we.roleToggle,role:"group","aria-label":"User role",children:[i.jsx("button",{type:"button",className:m==="user"?we.roleToggleBtnActive:we.roleToggleBtn,onClick:()=>b("user"),"aria-label":"Set role to User","aria-pressed":m==="user",children:"User"}),i.jsx("button",{type:"button",className:m==="admin"?we.roleToggleBtnActive:we.roleToggleBtn,onClick:()=>b("admin"),"aria-label":"Set role to Admin","aria-pressed":m==="admin",children:"Admin"})]})]})}),i.jsxs("div",{className:we.formGroup,children:[i.jsx("p",{className:we.formSectionHeader,children:"Limits (Leave Empty for No Limit)"}),i.jsxs("label",{className:we.formLabel,children:["Max Podcasts",i.jsx("input",{type:"number",min:0,step:1,className:we.formInput,placeholder:"No limit",value:T??"",onChange:_e=>{const We=_e.target.value;N(We===""?null:Number(We))}})]}),i.jsxs("label",{className:we.formLabel,style:{marginTop:"0.5rem"},children:["Max Episodes",i.jsx("input",{type:"number",min:0,step:1,className:we.formInput,placeholder:"No limit",value:A??"",onChange:_e=>{const We=_e.target.value;P(We===""?null:Number(We))}})]}),i.jsxs("label",{className:we.formLabel,style:{marginTop:"0.5rem"},children:["Max Storage (MB)",i.jsx("input",{type:"number",min:0,step:1,className:we.formInput,placeholder:"No limit",value:k??"",onChange:_e=>{const We=_e.target.value;R(We===""?null:Number(We))}})]}),i.jsxs("label",{className:we.formLabel,style:{marginTop:"0.5rem"},children:["Max Collaborators",i.jsx("input",{type:"number",min:0,step:1,className:we.formInput,placeholder:"No limit",value:D??"",onChange:_e=>{const We=_e.target.value;I(We===""?null:Number(We))}})]}),i.jsxs("label",{className:we.formLabel,style:{marginTop:"0.5rem"},children:["Max Subscriber Tokens",i.jsx("input",{type:"number",min:0,step:1,className:we.formInput,placeholder:"No limit",value:q??"",onChange:_e=>{const We=_e.target.value;z(We===""?null:Number(We))}})]})]})]}),re.isError&&i.jsxs("div",{className:we.noticeError,role:"alert",style:{marginTop:"0.5rem",marginBottom:"0.5rem"},children:[i.jsx("span",{className:we.noticeTitle,children:"Error"}),i.jsx("p",{className:we.noticeBody,children:re.error instanceof Error?re.error.message:"Failed to update user"})]}),i.jsxs("div",{className:`${we.dialogActions} ${we.dialogActionsCancelLeft}`,children:[i.jsx(pt,{asChild:!0,children:i.jsx("button",{type:"button",className:we.cancel,"aria-label":"Cancel editing user",children:"Cancel"})}),i.jsx("button",{type:"submit",className:we.dialogConfirm,disabled:re.isPending,"aria-label":"Save user changes",children:re.isPending?"Saving...":"Save"})]})]})]})]})}),i.jsx(ur,{open:B,onOpenChange:_e=>!_e&&O(!1),children:i.jsxs(br,{children:[i.jsx(dr,{className:we.dialogOverlay}),i.jsxs(fr,{className:we.dialogContent,children:[i.jsxs("div",{className:we.dialogHeaderRow,children:[i.jsx(pr,{className:we.dialogTitle,children:"Create User"}),i.jsx(pt,{asChild:!0,children:i.jsx("button",{type:"button",className:we.dialogClose,"aria-label":"Close",children:i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":"true"})})})]}),i.jsx(Nr,{className:we.dialogDescription,children:"Add a new user account. They can sign in with this email and password."}),i.jsxs("form",{onSubmit:_e=>{_e.preventDefault();const We=$.trim();!We||!We.includes("@")||V.length<8||Pe.mutate()},className:we.dialogFormWrap,children:[i.jsx("div",{className:we.formGroup,children:i.jsxs("label",{className:we.formLabel,children:["Email",i.jsx("input",{type:"email",className:we.formInput,value:$,onChange:_e=>K(_e.target.value),required:!0,autoComplete:"off"})]})}),i.jsxs("div",{className:we.formGroup,children:[i.jsxs("label",{className:we.formLabel,children:["Password",i.jsx("input",{type:"password",className:we.formInput,value:V,onChange:_e=>Q(_e.target.value),required:!0,minLength:8,autoComplete:"new-password"})]}),i.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginTop:"0.25rem"},children:"At least 8 characters."})]}),i.jsx("div",{className:we.formGroup,children:i.jsxs("label",{className:we.formLabel,children:["Role",i.jsxs("div",{className:we.roleToggle,role:"group","aria-label":"User role",children:[i.jsx("button",{type:"button",className:U==="user"?we.roleToggleBtnActive:we.roleToggleBtn,onClick:()=>X("user"),"aria-pressed":U==="user",children:"User"}),i.jsx("button",{type:"button",className:U==="admin"?we.roleToggleBtnActive:we.roleToggleBtn,onClick:()=>X("admin"),"aria-pressed":U==="admin",children:"Admin"})]})]})}),Pe.isError&&i.jsxs("div",{className:we.noticeError,role:"alert",style:{marginTop:"0.5rem",marginBottom:"0.5rem"},children:[i.jsx("span",{className:we.noticeTitle,children:"Error"}),i.jsx("p",{className:we.noticeBody,children:Pe.error instanceof Error?Pe.error.message:"Failed to create user"})]}),i.jsxs("div",{className:`${we.dialogActions} ${we.dialogActionsCancelLeft}`,children:[i.jsx(pt,{asChild:!0,children:i.jsxs("button",{type:"button",className:we.cancel,"aria-label":"Cancel",children:[i.jsx(Nt,{size:16,strokeWidth:2,"aria-hidden":!0}),"Cancel"]})}),i.jsxs("button",{type:"submit",className:we.dialogConfirm,disabled:Pe.isPending||!$.trim()||V.length<8,"aria-label":"Create user",children:[i.jsx(Yr,{size:16,strokeWidth:2,"aria-hidden":!0}),Pe.isPending?"Creating...":"Create User"]})]})]})]})]})}),i.jsx(ur,{open:!!o,onOpenChange:_e=>!_e&&u(null),children:i.jsxs(br,{children:[i.jsx(dr,{className:we.dialogOverlay}),i.jsxs(fr,{className:we.dialogContent,children:[i.jsxs("div",{className:we.dialogHeaderRow,children:[i.jsx(pr,{className:we.dialogTitle,children:"Delete user?"}),i.jsx(pt,{asChild:!0,children:i.jsx("button",{type:"button",className:we.dialogClose,"aria-label":"Close",children:i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":"true"})})})]}),i.jsx(Nr,{className:we.dialogDescription,children:o&&(()=>{const _e=at.find(We=>We.id===o);return _e?`Are you sure you want to delete "${_e.email}"? This action cannot be undone.`:"Are you sure you want to delete this user? This action cannot be undone."})()}),i.jsxs("div",{className:we.dialogActions,children:[i.jsx(pt,{asChild:!0,children:i.jsx("button",{type:"button",className:we.cancel,"aria-label":"Cancel deleting user",children:"Cancel"})}),i.jsx("button",{type:"button",className:we.dialogConfirmRemove,onClick:lt,disabled:He.isPending,"aria-label":"Confirm delete user",children:He.isPending?"Deleting...":"Delete"})]})]})]})})]})}function eRe(e=1,t=50,r,n){const a=new URLSearchParams;return a.set("page",String(e)),a.set("limit",String(t)),r&&a.set("search",r),n&&a.set("sort",n),Et(`/messages?${a.toString()}`)}const tRe="_messages_18qla_1",rRe="_head_18qla_6",nRe="_title_18qla_13",aRe="_subtitleRight_18qla_20",iRe="_bar_18qla_27",sRe="_searchInput_18qla_35",oRe="_sortToggle_18qla_57",lRe="_sortBtn_18qla_66",cRe="_sortBtnActive_18qla_67",uRe="_muted_18qla_91",dRe="_emptyCardText_18qla_101",fRe="_messageList_18qla_109",pRe="_messageCard_18qla_115",hRe="_messageCardRow_18qla_128",mRe="_messageCardName_18qla_136",gRe="_messageCardDate_18qla_143",vRe="_messageCardContext_18qla_149",yRe="_messageCardEmail_18qla_155",bRe="_emailLink_18qla_160",_Re="_messageCardBody_18qla_169",xRe="_messageCardText_18qla_175",wRe="_messageCardTextClamped_18qla_184",SRe="_viewMoreWrap_18qla_191",jRe="_viewMoreBtn_18qla_197",CRe="_pagination_18qla_214",kRe="_pageBtn_18qla_222",NRe="_pageInfo_18qla_244",qt={messages:tRe,head:rRe,title:nRe,subtitleRight:aRe,bar:iRe,searchInput:sRe,sortToggle:oRe,sortBtn:lRe,sortBtnActive:cRe,muted:uRe,emptyCardText:dRe,messageList:fRe,messageCard:pRe,messageCardRow:hRe,messageCardName:mRe,messageCardDate:gRe,messageCardContext:vRe,messageCardEmail:yRe,emailLink:bRe,messageCardBody:_Re,messageCardText:xRe,messageCardTextClamped:wRe,viewMoreWrap:SRe,viewMoreBtn:jRe,pagination:CRe,pageBtn:kRe,pageInfo:NRe},ERe=10,TRe=300;function PRe(){const[e,t]=v.useState(1),[r,n]=v.useState(""),[a,o]=v.useState(""),[u,c]=v.useState("newest");v.useEffect(()=>{if(r===""){o(""),t(1);return}const y=window.setTimeout(()=>{o(r),t(1)},TRe);return()=>window.clearTimeout(y)},[r]),v.useEffect(()=>{window.scrollTo(0,0)},[e]);const{data:p,isLoading:h,isError:f}=Oe({queryKey:["messages",e,a,u],queryFn:()=>eRe(e,ERe,a||void 0,u),refetchOnMount:"always"});function m(y){n(y.target.value)}function b(){c("newest"),t(1)}function _(){c("oldest"),t(1)}const j=(p==null?void 0:p.messages)??[],w=p==null?void 0:p.pagination;return i.jsxs("div",{className:qt.messages,children:[i.jsx("div",{className:qt.head,children:i.jsx("h1",{className:qt.title,children:"Messages"})}),i.jsxs("div",{className:qt.bar,children:[i.jsx("input",{type:"search",className:qt.searchInput,placeholder:"Search by name, email, or message...",value:r,onChange:m,"aria-label":"Search messages"}),i.jsxs("div",{className:qt.sortToggle,role:"group","aria-label":"Sort order",children:[i.jsxs("button",{type:"button",className:u==="newest"?qt.sortBtnActive:qt.sortBtn,"aria-label":"Sort newest first",onClick:b,children:[i.jsx(Vd,{size:16,strokeWidth:2,"aria-hidden":!0}),"Newest"]}),i.jsxs("button",{type:"button",className:u==="oldest"?qt.sortBtnActive:qt.sortBtn,"aria-label":"Sort oldest first",onClick:_,children:[i.jsx(Yd,{size:16,strokeWidth:2,"aria-hidden":!0}),"Oldest"]})]})]}),h&&i.jsx("p",{className:qt.muted,children:"Loading messages..."}),f&&i.jsx(ef,{title:"Failed to load messages"}),!h&&!f&&i.jsxs(i.Fragment,{children:[j.length===0?i.jsx("div",{className:qt.messageCard,children:i.jsx("p",{className:qt.emptyCardText,children:"No contact messages found."})}):i.jsx("div",{className:qt.messageList,children:j.map(y=>i.jsx(ARe,{message:y},y.id))}),w&&i.jsxs("p",{className:qt.subtitleRight,children:["Showing ",j.length," of ",w.total," messages",a&&` matching "${a}"`]}),w&&w.totalPages>1&&i.jsxs("div",{className:qt.pagination,children:[i.jsx("button",{type:"button",className:qt.pageBtn,onClick:()=>t(y=>Math.max(1,y-1)),disabled:e===1,"aria-label":"Go to previous page",children:"Previous"}),i.jsxs("span",{className:qt.pageInfo,children:["Page ",w.page," of ",w.totalPages]}),i.jsx("button",{type:"button",className:qt.pageBtn,onClick:()=>t(y=>Math.min(w.totalPages,y+1)),disabled:e>=w.totalPages,"aria-label":"Go to next page",children:"Next"})]})]})]})}function ARe({message:e}){const[t,r]=v.useState(!1),[n,a]=v.useState(!1),o=v.useRef(null),u=e.message.trim();v.useEffect(()=>{if(t||!u||!o.current)return;const b=()=>{if(!o.current)return;const j=o.current.scrollHeight>o.current.clientHeight;a(j)};b();const _=requestAnimationFrame(()=>{requestAnimationFrame(b)});return()=>cancelAnimationFrame(_)},[t,u]);const c=u.length>200,h=n||c&&!t||t,f=e.episode_title&&e.podcast_title?`${e.episode_title} - ${e.podcast_title}`:e.podcast_title?e.podcast_title:null;return i.jsxs("div",{className:qt.messageCard,children:[i.jsxs("div",{className:qt.messageCardRow,children:[i.jsx("h2",{className:qt.messageCardName,children:e.name}),i.jsx("time",{className:qt.messageCardDate,dateTime:e.created_at,children:i2(e.created_at)})]}),f&&i.jsxs("p",{className:qt.messageCardContext,children:["Re: ",f]}),i.jsx("p",{className:qt.messageCardEmail,children:i.jsx("a",{href:`mailto:${e.email}`,className:qt.emailLink,children:e.email})}),i.jsxs("div",{className:qt.messageCardBody,children:[i.jsx("p",{ref:o,className:t?qt.messageCardText:`${qt.messageCardText} ${qt.messageCardTextClamped}`,children:u}),h&&i.jsx("div",{className:qt.viewMoreWrap,children:i.jsx("button",{type:"button",className:qt.viewMoreBtn,onClick:()=>r(m=>!m),"aria-expanded":t,children:t?"View less":"View more"})})]})]})}const RRe="_wrap_146n2_1",ORe="_title_146n2_9",DRe="_message_146n2_16",MRe="_retryBtn_146n2_23",yv={wrap:RRe,title:ORe,message:DRe,retryBtn:MRe};function Wd({onRetry:e}){return i.jsxs("div",{className:yv.wrap,role:"alert",children:[i.jsx("p",{className:yv.title,children:"Feed temporarily unavailable"}),i.jsx("p",{className:yv.message,children:"We couldnt load this page. Check your connection and try again."}),e&&i.jsxs("button",{type:"button",className:yv.retryBtn,onClick:e,"aria-label":"Try again",children:[i.jsx(ib,{size:16,"aria-hidden":!0}),"Try again"]})]})}const lM="HarborFM - Create and manage your podcast with ease. Record, edit, and publish episodes all in one place.",LRe="HarborFM",Uw="/og-image.png";function Yp(e,t="property"){let r=document.querySelector(`meta[${t}="${e}"]`);return r||(r=document.createElement("meta"),r.setAttribute(t,e),document.head.appendChild(r)),r}function u2({title:e,description:t,image:r}){v.useEffect(()=>{const n=document.title,a=Yp("description","name"),o=Yp("og:title"),u=Yp("og:description"),c=Yp("og:image"),p=Yp("twitter:image","name");e&&(document.title=e,o.setAttribute("content",e)),t&&(a.setAttribute("content",t),u.setAttribute("content",t));const h=r||Uw;return c.setAttribute("content",h),p.setAttribute("content",h),()=>{e&&(document.title=n,o.setAttribute("content",LRe)),t&&(a.setAttribute("content",lM),u.setAttribute("content",lM)),c.setAttribute("content",Uw),p.setAttribute("content",Uw)}},[e,t,r])}const IRe=300;function $Re(){const[e,t]=v.useState(""),[r,n]=v.useState(""),[a,o]=v.useState(!0);return v.useEffect(()=>{if(e.trim()===""){n("");return}const u=window.setTimeout(()=>{n(e.trim())},IRe);return()=>window.clearTimeout(u)},[e]),{searchQuery:e,searchDebounced:r,setSearchQuery:t,sortNewestFirst:a,setSortNewestFirst:o}}const BRe="_wrapper_1amzl_2",zRe="_container_1amzl_13",FRe="_card_1amzl_19",qRe="_error_1amzl_43",URe="_muted_1amzl_53",Vr={wrapper:BRe,container:zRe,card:FRe,error:qRe,muted:URe},HRe="_castCard_15sgy_1",WRe="_castTitle_15sgy_5",KRe="_castSectionTitle_15sgy_12",GRe="_castList_15sgy_19",VRe="_castRow_15sgy_34",YRe="_castAvatar_15sgy_44",QRe="_castAvatarPlaceholder_15sgy_54",XRe="_castMeta_15sgy_67",ZRe="_castName_15sgy_72",JRe="_castDesc_15sgy_78",eOe="_castSocial_15sgy_85",tOe="_loadMore_15sgy_100",rOe="_loadMoreBtn_15sgy_108",Yn={castCard:HRe,castTitle:WRe,castSectionTitle:KRe,castList:GRe,castRow:VRe,castAvatar:YRe,castAvatarPlaceholder:QRe,castMeta:XRe,castName:ZRe,castDesc:JRe,castSocial:eOe,loadMore:tOe,loadMoreBtn:rOe};function nb({cast:e,className:t}){return e.length===0?null:i.jsx("ul",{className:`${Yn.castList} ${t??""}`.trim(),children:e.map(r=>i.jsx(nOe,{member:r},r.id))})}function nOe({member:e}){return i.jsxs("li",{className:Yn.castRow,children:[e.photo_url?i.jsx("img",{src:e.photo_url,alt:"",className:Yn.castAvatar}):i.jsx("div",{className:Yn.castAvatarPlaceholder,children:i.jsx(ph,{size:24})}),i.jsxs("div",{className:Yn.castMeta,children:[i.jsx("span",{className:Yn.castName,children:e.name}),e.description&&i.jsx("p",{className:Yn.castDesc,children:e.description}),e.social_link_text&&(()=>{const t=e.social_link_text.trim();return t.startsWith("http://")||t.startsWith("https://")?i.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:Yn.castSocial,children:t.replace(/^https?:\/\/(www\.)?/,"").replace(/\/$/,"")}):i.jsx("span",{className:Yn.castSocial,children:e.social_link_text})})()]})]})}function aOe({podcastSlug:e}){var p;const{data:t,isLoading:r,fetchNextPage:n,hasNextPage:a,isFetchingNextPage:o}=zM({queryKey:["public-cast",e],queryFn:({pageParam:h})=>iW(e,{limit:10,offset:h}),getNextPageParam:(h,f)=>{const m=f.reduce((b,_)=>b+_.guests.length,0);return h.guests_has_more?m:void 0},initialPageParam:0,enabled:!!e}),u=((p=t==null?void 0:t.pages[0])==null?void 0:p.hosts)??[],c=(t==null?void 0:t.pages.flatMap(h=>h.guests))??[];return r||u.length===0&&c.length===0?null:i.jsxs("div",{className:`${Vr.card} ${Yn.castCard}`,children:[i.jsx("h2",{className:Yn.castTitle,children:"Cast"}),u.length>0&&i.jsxs("section",{style:{marginBottom:"1.5rem"},children:[i.jsx("h3",{className:Yn.castSectionTitle,children:"Hosts"}),i.jsx(nb,{cast:u})]}),c.length>0&&i.jsxs("section",{children:[i.jsx("h3",{className:Yn.castSectionTitle,children:"Guests"}),i.jsx(nb,{cast:c}),a&&i.jsx("div",{className:Yn.loadMore,children:i.jsx("button",{type:"button",onClick:()=>n(),disabled:o,className:Yn.loadMoreBtn,"aria-label":"Load more guests",children:o?"Loading...":"Load more"})})]})]})}const iOe="_siteHeader_1ox0x_1",sOe="_siteHeaderContent_1ox0x_14",oOe="_logo_1ox0x_24",lOe="_logoIcon_1ox0x_41",cOe="_signInIcon_1ox0x_68",Qp={siteHeader:iOe,siteHeaderContent:sOe,logo:oOe,logoIcon:lOe,signInIcon:cOe};function Mh(){return i.jsx("header",{className:Qp.siteHeader,children:i.jsxs("div",{className:Qp.siteHeaderContent,children:[i.jsxs(Ye,{to:"/feed",className:Qp.logo,children:[i.jsx("img",{src:"/favicon.svg",alt:"",className:Qp.logoIcon}),"HarborFM"]}),i.jsx(Ye,{to:"/",className:Qp.signInIcon,title:"Dashboard",children:i.jsx(zF,{size:16,strokeWidth:2,"aria-label":"Dashboard"})})]})})}const uOe="_linksContainer_1fxho_1",dOe="_linkGroup_1fxho_12",fOe="_linkGroupLabel_1fxho_20",pOe="_linkGroupIcons_1fxho_28",hOe="_linkIcon_1fxho_35",oh={linksContainer:uOe,linkGroup:dOe,linkGroupLabel:fOe,linkGroupIcons:pOe,linkIcon:hOe},mOe=["apple_podcasts_url","spotify_url","amazon_music_url","podcast_index_url","listen_notes_url","castbox_url","x_url","facebook_url","instagram_url","tiktok_url","youtube_url"],gOe=[{key:"apple_podcasts_url",label:"Apple Podcasts",Icon:VSe},{key:"spotify_url",label:"Spotify",Icon:JSe},{key:"amazon_music_url",label:"Amazon Music",Icon:GSe},{key:"podcast_index_url",label:"Podcast Index",Icon:XSe},{key:"listen_notes_url",label:"Listen Notes",Icon:Gv},{key:"castbox_url",label:"Castbox",Icon:YSe}],vOe=[{key:"x_url",label:"X",Icon:N7},{key:"facebook_url",label:"Facebook",Icon:k7},{key:"instagram_url",label:"Instagram",Icon:QSe},{key:"tiktok_url",label:"TikTok",Icon:eje},{key:"youtube_url",label:"YouTube",Icon:tje}];function cM({label:e,platforms:t,podcast:r}){const n=t.filter(a=>{const o=r[a.key];return o&&typeof o=="string"&&o.trim().length>0});return n.length===0?null:i.jsxs("div",{className:oh.linkGroup,children:[i.jsx("span",{className:oh.linkGroupLabel,children:e}),i.jsx("div",{className:oh.linkGroupIcons,children:n.map(({key:a,label:o,Icon:u})=>{const c=r[a];if(!c||typeof c!="string")return null;const p=c.startsWith("http")?c:`https://${c}`;return i.jsx("a",{href:p,target:"_blank",rel:"noopener noreferrer",className:oh.linkIcon,title:o,"aria-label":`${o} (opens in new tab)`,children:i.jsx(u,{size:20,"aria-hidden":!0})},a)})})]})}function g_(e){return mOe.some(t=>{const r=e[t];return r&&typeof r=="string"&&r.trim().length>0})}function yOe({podcast:e}){return g_(e)?i.jsxs("div",{className:oh.linksContainer,children:[i.jsx(cM,{label:"Listen on",platforms:gOe,podcast:e}),i.jsx(cM,{label:"Follow",platforms:vOe,podcast:e})]}):null}function $7({podcast:e}){return g_(e)?i.jsx("div",{className:Vr.card,children:i.jsx(yOe,{podcast:e})}):null}const bOe="_controls_1kty4_1",_Oe="_searchWrap_1kty4_12",xOe="_sortToggle_1kty4_16",wOe="_sortBtn_1kty4_20",SOe="_sortBtnActive_1kty4_21",jOe="_searchIcon_1kty4_34",COe="_searchInput_1kty4_43",uo={controls:bOe,searchWrap:_Oe,sortToggle:xOe,sortBtn:wOe,sortBtnActive:SOe,searchIcon:jOe,searchInput:COe};function B7({searchQuery:e,onSearchChange:t,sortNewestFirst:r,onSortToggle:n,placeholder:a="Search..."}){return i.jsxs("div",{className:uo.controls,children:[i.jsxs("div",{className:uo.searchWrap,children:[i.jsx(Pj,{size:18,className:uo.searchIcon,"aria-hidden":!0}),i.jsx("input",{type:"search",placeholder:a,value:e,onChange:o=>t(o.target.value),className:uo.searchInput,"aria-label":a})]}),i.jsxs("div",{className:uo.sortToggle,children:[i.jsxs("button",{type:"button",className:r?uo.sortBtnActive:uo.sortBtn,onClick:()=>n(!0),"aria-label":"Sort by newest","aria-pressed":r,children:[i.jsx(Vd,{size:14,strokeWidth:2.5,"aria-hidden":!0}),"Newest"]}),i.jsxs("button",{type:"button",className:r?uo.sortBtn:uo.sortBtnActive,onClick:()=>n(!1),"aria-label":"Sort by oldest","aria-pressed":!r,children:[i.jsx(Yd,{size:14,strokeWidth:2.5,"aria-hidden":!0}),"Oldest"]})]})]})}function d2({audioUrl:e,podcastSlug:t,episodeSlug:r,durationSec:n=0,waveformUrlFn:a,privateWaveformUrl:o,onPlay:u,onPause:c}){const p=v.useRef(null),[h,f]=v.useState(null),[m,b]=v.useState(0),[_,j]=v.useState(!1),w=!!(h&&n>0);v.useEffect(()=>{if(n<=0||!e){f(null);return}let S=null;if(o?S=o:t&&r&&a&&(S=a(t,r)),!S){f(null);return}let T=!1;return fetch(S).then(N=>N.ok?N.json():null).then(N=>{var A;!T&&((A=N==null?void 0:N.data)!=null&&A.length)?f(N):T||f(null)}).catch(()=>{T||f(null)}),()=>{T=!0}},[t,r,n,e,a,o]),v.useEffect(()=>{const S=p.current;if(!S||!e)return;const T=()=>{j(!0),u==null||u()},N=()=>{j(!1),c==null||c()},A=()=>{j(!1),b(0),c==null||c()},P=()=>b(S.currentTime),k=()=>b(S.currentTime);return S.addEventListener("play",T),S.addEventListener("pause",N),S.addEventListener("ended",A),S.addEventListener("timeupdate",P),S.addEventListener("loadedmetadata",k),()=>{S.removeEventListener("play",T),S.removeEventListener("pause",N),S.removeEventListener("ended",A),S.removeEventListener("timeupdate",P),S.removeEventListener("loadedmetadata",k)}},[e,u,c]);const y=v.useCallback(()=>{const S=p.current;!S||!e||(S.paused?((!S.src||S.ended)&&(S.src=e,S.currentTime=m),S.play().catch(()=>{j(!1),c==null||c()})):(S.pause(),j(!1),c==null||c()))},[e,m,c]),x=v.useCallback(S=>{const T=p.current;T&&(T.currentTime=S,b(S))},[]);return{audioRef:p,waveformData:h,currentTime:m,isPlaying:_,hasWaveform:w,togglePlay:y,seek:x,setIsPlaying:j,setCurrentTime:b}}const kOe="_player_1mxb6_1",NOe="_playbackRow_1mxb6_5",EOe="_playPauseBtn_1mxb6_12",TOe="_waveform_1mxb6_38",POe="_audio_1mxb6_47",Xp={player:kOe,playbackRow:NOe,playPauseBtn:EOe,waveform:TOe,audio:POe};function AOe({episode:e,podcastSlug:t,isPlaying:r,onPlay:n,onPause:a}){const o=e,u=o.private_audio_url||e.audio_url||null,c=e.audio_duration_sec??0,{audioRef:p,waveformData:h,currentTime:f,hasWaveform:m,togglePlay:b,seek:_}=d2({audioUrl:u,podcastSlug:t,episodeSlug:e.slug,durationSec:c,waveformUrlFn:zj,privateWaveformUrl:o.private_waveform_url,onPlay:n,onPause:a});return u?i.jsxs("div",{className:Xp.player,children:[m?i.jsxs("div",{className:Xp.playbackRow,children:[i.jsx("button",{type:"button",className:Xp.playPauseBtn,onClick:b,title:r?"Pause":"Play","aria-label":r?"Pause":"Play",children:r?i.jsx(_s,{size:22,"aria-hidden":!0}):i.jsx(xs,{size:22,"aria-hidden":!0})}),i.jsx(hf,{data:h,durationSec:c,currentTime:f,onSeek:_,className:Xp.waveform})]}):null,m?i.jsx("audio",{ref:p,id:`audio-${e.id}`,preload:"metadata",style:{display:"none"},children:i.jsx("source",{src:u,type:e.audio_mime||"audio/mpeg"})}):i.jsx("audio",{ref:p,id:`audio-${e.id}`,src:u,controls:!0,className:Xp.audio,preload:"metadata"})]}):null}function ROe(e){if(!e||typeof e!="string")return null;const t=e.trim();if(!t)return null;if(t.startsWith("hfm_sub_"))return t;const r=t.match(/\/private\/(hfm_sub_[a-zA-Z0-9_-]+)/);return r&&r[1]?r[1]:null}function OOe(e){return!e||typeof e!="string"?!1:/^hfm_sub_[a-zA-Z0-9_-]+$/.test(e)}const z7=v.createContext(void 0);function DOe({children:e}){const[t,r]=v.useState(!1),[n,a]=v.useState([]),[o,u]=v.useState({}),[c,p]=v.useState(!1),[h,f]=v.useState(null),m=v.useCallback(async()=>{try{const x=await oW();r(x.authenticated),a(x.podcastSlugs),u(x.tokens)}catch(x){console.error("Failed to check subscriber auth status:",x),r(!1),a([]),u({})}},[]);v.useEffect(()=>{m()},[m]);const b=v.useCallback(x=>n.includes(x),[n]),_=v.useCallback(x=>(o==null?void 0:o[x])||null,[o]),j=v.useCallback(async(x,S)=>{p(!0),f(null);try{const T=ROe(x);if(!T)throw new Error("Invalid token or URL format");if(!OOe(T))throw new Error("Invalid token format");await sW(T,S),window.location.reload()}catch(T){const N=T instanceof Error?T.message:"Authentication failed";f(N),p(!1)}},[]),w=v.useCallback(async x=>{p(!0),f(null);try{await lW(x),window.location.reload()}catch(S){const T=S instanceof Error?S.message:"Logout failed";f(T),p(!1)}},[]),y={isAuthenticated:t,authenticatedPodcasts:n,tokenMap:o,isAuthenticatedForPodcast:b,getTokenIdForPodcast:_,authenticate:j,logout:w,checkStatus:m,isLoading:c,error:h};return i.jsx(z7.Provider,{value:y,children:e})}function F7(){const e=v.useContext(z7);if(e===void 0)throw new Error("useSubscriberAuth must be used within a SubscriberAuthProvider");return e}const MOe="_overlay_10rqh_1",LOe="_dialog_10rqh_22",IOe="_header_10rqh_33",$Oe="_lockIcon_10rqh_40",BOe="_lockIconGold_10rqh_44",zOe="_title_10rqh_48",FOe="_closeButton_10rqh_56",qOe="_message_10rqh_79",UOe="_form_10rqh_86",HOe="_label_10rqh_92",WOe="_input_10rqh_99",KOe="_helpText_10rqh_120",GOe="_errorCard_10rqh_126",VOe="_unlockButton_10rqh_137",YOe="_logoutButton_10rqh_138",Wn={overlay:MOe,dialog:LOe,header:IOe,lockIcon:$Oe,lockIconGold:BOe,title:zOe,closeButton:FOe,message:qOe,form:UOe,label:HOe,input:WOe,helpText:KOe,errorCard:GOe,unlockButton:VOe,logoutButton:YOe};function f2({open:e,onClose:t,isSubscriberOnly:r,podcastSlug:n}){const[a,o]=v.useState(""),{isAuthenticatedForPodcast:u,authenticate:c,logout:p,isLoading:h,error:f}=F7();if(!e)return null;const m=u(n),b=m?"Subscriber Access Granted":r?"Subscription Required":"Premium Episodes Available",_=m?"You have access to all subscriber-only content for this podcast.":r?"This podcast is subscriber-only. You must subscribe to access all episodes.":"This podcast offers premium subscriber-only episodes alongside free content.",j=async y=>{y.preventDefault(),a.trim()&&await c(a.trim(),n)},w=async()=>{await p(n)};return i.jsx("div",{className:Wn.overlay,onClick:t,children:i.jsxs("div",{className:Wn.dialog,onClick:y=>y.stopPropagation(),children:[i.jsxs("div",{className:Wn.header,children:[i.jsx(Ps,{size:20,strokeWidth:2,className:r?Wn.lockIconGold:Wn.lockIcon}),i.jsx("h3",{className:Wn.title,children:b}),i.jsx("button",{type:"button",className:Wn.closeButton,onClick:t,"aria-label":"Close",children:i.jsx(Nt,{size:20,strokeWidth:2})})]}),i.jsx("p",{className:Wn.message,children:_}),!m&&i.jsxs("form",{onSubmit:j,className:Wn.form,children:[i.jsx("label",{htmlFor:"token-input",className:Wn.label,children:"Enter your subscriber token or RSS feed URL"}),i.jsx("input",{id:"token-input",type:"text",value:a,onChange:y=>o(y.target.value),placeholder:"hfm_sub_... or paste RSS URL",className:Wn.input,disabled:h}),i.jsx("p",{className:Wn.helpText,children:"Paste your private RSS feed URL or subscriber token"}),f&&i.jsx("div",{className:Wn.errorCard,children:f}),i.jsx("button",{type:"submit",className:Wn.unlockButton,disabled:h||!a.trim(),children:h?"Authenticating...":i.jsxs(i.Fragment,{children:[i.jsx(tq,{size:18}),"Unlock Content"]})})]}),m&&i.jsxs("button",{type:"button",onClick:w,className:Wn.logoutButton,disabled:h,children:[i.jsx(VM,{size:18}),h?"Logging out...":"Logout"]})]})})}const QOe="_card_1cm1p_1",XOe="_cardSubscriberOnly_1cm1p_16",ZOe="_cardLink_1cm1p_25",JOe="_artworkWrapper_1cm1p_41",e3e="_artwork_1cm1p_41",t3e="_artworkPlaceholder_1cm1p_56",r3e="_body_1cm1p_66",n3e="_title_1cm1p_74",a3e="_slug_1cm1p_91",i3e="_desc_1cm1p_99",s3e="_actions_1cm1p_110",o3e="_lockButton_1cm1p_119",l3e="_lockIcon_1cm1p_140",c3e="_lockIconGold_1cm1p_149",u3e="_arrow_1cm1p_157",Mn={card:QOe,cardSubscriberOnly:XOe,cardLink:ZOe,artworkWrapper:JOe,artwork:e3e,artworkPlaceholder:t3e,body:r3e,title:n3e,slug:a3e,desc:i3e,actions:s3e,lockButton:o3e,lockIcon:l3e,lockIconGold:c3e,arrow:u3e};function d3e(e){return e.artwork_url?e.artwork_url:e.artwork_filename?`/api/public/artwork/${e.id}/${encodeURIComponent(e.artwork_filename)}`:null}function f3e({podcast:e,showLockIcon:t}){const[r,n]=v.useState(!1),a=p=>{p.preventDefault(),p.stopPropagation(),n(!0)},o=d3e(e),u=e.subscriber_only_feed_enabled===1&&e.public_feed_disabled===1,c=e.subscriber_only_feed_enabled===1;return i.jsx(i.Fragment,{children:i.jsxs("article",{className:`${Mn.card} ${u?Mn.cardSubscriberOnly:""}`,children:[i.jsxs(Ye,{to:`/feed/${e.slug}`,className:Mn.cardLink,children:[i.jsx("div",{className:Mn.artworkWrapper,children:o?i.jsx("img",{src:o,alt:"",className:Mn.artwork,loading:"lazy"}):i.jsx("div",{className:Mn.artworkPlaceholder,children:i.jsx(ab,{size:32,strokeWidth:1.5})})}),i.jsxs("div",{className:Mn.body,children:[i.jsx("h2",{className:Mn.title,children:e.title}),i.jsx("p",{className:Mn.slug,children:e.slug}),e.description?i.jsxs("p",{className:Mn.desc,children:[e.description.slice(0,120),e.description.length>120?"...":""]}):null]}),i.jsxs("div",{className:Mn.actions,children:[t&&c&&i.jsx("button",{type:"button",className:Mn.lockButton,onClick:a,"aria-label":"Subscription information",children:i.jsx(Ps,{size:18,strokeWidth:2,className:u?`${Mn.lockIcon} ${Mn.lockIconGold}`:Mn.lockIcon})}),i.jsx("span",{className:Mn.arrow,children:i.jsx(UM,{size:18,strokeWidth:2,"aria-hidden":!0})})]})]}),r&&i.jsx(f2,{open:r,onClose:()=>n(!1),isSubscriberOnly:u,podcastSlug:e.slug})]})})}const p3e="_episode_1w72o_1",h3e="_episodeSubscriberOnly_1w72o_14",m3e="_header_1w72o_23",g3e="_headerContent_1w72o_31",v3e="_title_1w72o_36",y3e="_meta_1w72o_44",b3e="_date_1w72o_52",_3e="_duration_1w72o_53",x3e="_seasonEpisode_1w72o_54",w3e="_description_1w72o_58",S3e="_viewBtn_1w72o_69",j3e="_lockedCard_1w72o_93",C3e="_lockedIcon_1w72o_106",k3e="_lockedLabel_1w72o_111",Kn={episode:p3e,episodeSubscriberOnly:h3e,header:m3e,headerContent:g3e,title:v3e,meta:y3e,date:b3e,duration:_3e,seasonEpisode:x3e,description:w3e,viewBtn:S3e,lockedCard:j3e,lockedIcon:C3e,lockedLabel:k3e};function N3e({episode:e,podcastSlug:t,isSubscriberOnly:r,showPlayer:n=!0,playingEpisodeId:a,onPlay:o,onPause:u,useShortEpisodeUrls:c=!1}){const p=a===e.id,h=c?`/${e.slug}`:`/feed/${t}/${e.slug}`,m=!!(e.private_audio_url||e.audio_url);return i.jsxs("li",{className:r?`${Kn.episode} ${Kn.episodeSubscriberOnly}`:Kn.episode,children:[i.jsxs("div",{className:Kn.header,children:[i.jsxs("div",{className:Kn.headerContent,children:[i.jsx("h3",{className:Kn.title,children:e.title}),i.jsxs("div",{className:Kn.meta,children:[(e.season_number!=null||e.episode_number!=null)&&i.jsx("span",{className:Kn.seasonEpisode,children:s2(e.season_number,e.episode_number)}),e.publish_at&&i.jsx("span",{className:Kn.date,children:h_(e.publish_at)}),e.audio_duration_sec&&i.jsx("span",{className:Kn.duration,children:S7(e.audio_duration_sec)})]})]}),i.jsxs(Ye,{to:h,className:Kn.viewBtn,children:["View Episode",i.jsx(nF,{size:14,strokeWidth:2.5})]})]}),e.description&&i.jsx("p",{className:Kn.description,children:e.description}),n&&m?i.jsx(AOe,{episode:e,podcastSlug:t,isPlaying:p,onPlay:()=>o(e.id),onPause:u}):r&&!m?i.jsxs("div",{className:Kn.lockedCard,"aria-label":"Subscriber only",children:[i.jsx(Ps,{size:20,strokeWidth:2,className:Kn.lockedIcon,"aria-hidden":!0}),i.jsx("span",{className:Kn.lockedLabel,children:"Subscriber Only - Subscribe to Listen"})]}):null]})}const E3e="_pagination_1lnvn_1",T3e="_meta_1lnvn_11",P3e="_controls_1lnvn_17",A3e="_button_1lnvn_23",R3e="_pageInfo_1lnvn_47",fd={pagination:E3e,meta:T3e,controls:P3e,button:A3e,pageInfo:R3e};function O3e({currentPage:e,totalPages:t,onPageChange:r,totalItems:n,rangeStart:a,rangeEnd:o}){return i.jsxs("div",{className:fd.pagination,children:[i.jsxs("p",{className:fd.meta,children:["Showing ",a,"",o," of ",n]}),i.jsxs("div",{className:fd.controls,children:[i.jsx("button",{className:fd.button,onClick:()=>{const u=Math.max(1,e-1);u!==e&&r(u)},disabled:e===1,"aria-label":"Previous page",children:"Previous"}),i.jsxs("span",{className:fd.pageInfo,children:["Page ",e," of ",t]}),i.jsx("button",{className:fd.button,onClick:()=>{const u=Math.min(t,e+1);u!==e&&r(u)},disabled:e>=t,"aria-label":"Next page",children:"Next"})]})]})}const D3e="_promo_1jl3z_1",M3e="_promoContent_1jl3z_24",L3e="_promoTextContent_1jl3z_33",I3e="_promoTitle_1jl3z_41",$3e="_promoText_1jl3z_33",B3e="_promoButton_1jl3z_56",pd={promo:D3e,promoContent:M3e,promoTextContent:L3e,promoTitle:I3e,promoText:$3e,promoButton:B3e};function z3e(){return i.jsx("div",{className:pd.promo,children:i.jsxs("div",{className:pd.promoContent,children:[i.jsxs("div",{className:pd.promoTextContent,children:[i.jsx("h2",{className:pd.promoTitle,children:"Create Your Own Podcast"}),i.jsx("p",{className:pd.promoText,children:"Start your podcasting journey with HarborFM. Upload, edit, and share your episodes with the world."})]}),i.jsxs(Ye,{to:"/login",className:pd.promoButton,children:[i.jsx(Yr,{size:16,strokeWidth:2.5,"aria-hidden":!0}),"Get Started"]})]})})}const F3e="_empty_awvfr_1",q3e="_emptyText_awvfr_9",uM={empty:F3e,emptyText:q3e};function U3e({searchQuery:e}){return i.jsx("div",{className:uM.empty,children:i.jsx("p",{className:uM.emptyText,children:e?"No podcasts match your search. Try a different search term.":"No podcasts available yet. Check back soon!"})})}const H3e="_header_14457_1",W3e="_artwork_14457_8",K3e="_content_14457_16",G3e="_top_14457_25",V3e="_title_14457_33",Y3e="_author_14457_40",Q3e="_description_14457_46",X3e="_actions_14457_55",Z3e="_messageBtn_14457_64",J3e="_lockButton_14457_86",eDe="_lockIcon_14457_111",tDe="_lockIconGold_14457_120",rDe="_shareBtn_14457_128",nDe="_rssButton_14457_155",aDe="_disabled_14457_178",Nn={header:H3e,artwork:W3e,content:K3e,top:G3e,title:V3e,author:Y3e,description:Q3e,actions:X3e,messageBtn:Z3e,lockButton:J3e,lockIcon:eDe,lockIconGold:tDe,shareBtn:rDe,rssButton:nDe,disabled:aDe};function iDe({podcast:e,podcastSlug:t,onMessageClick:r,shareUrl:n,shareTitle:a}){const[o,u]=v.useState(!1),[c,p]=v.useState(!1),{getTokenIdForPodcast:h}=F7(),f=e.subscriber_only_feed_enabled===1&&e.public_feed_disabled===1,m=e.subscriber_only_feed_enabled===1,b=h(t),_=!!b,j=b?`/api/public/podcasts/${encodeURIComponent(t)}/private/${encodeURIComponent(b)}/rss`:e.rss_url??`/api/public/podcasts/${t}/rss`,w=f&&!_;return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:Nn.header,children:[(e.artwork_url||e.artwork_filename)&&i.jsx("img",{src:e.artwork_url??(e.artwork_filename?`/api/public/artwork/${e.id}/${encodeURIComponent(e.artwork_filename)}`:""),alt:e.title,className:Nn.artwork}),i.jsxs("div",{className:Nn.content,children:[i.jsxs("div",{className:Nn.top,children:[i.jsxs("div",{children:[i.jsx("h1",{className:Nn.title,children:e.title}),e.author_name&&i.jsxs("p",{className:Nn.author,children:["by ",e.author_name]})]}),i.jsxs("div",{className:Nn.actions,children:[m&&i.jsx("button",{type:"button",className:Nn.lockButton,onClick:()=>u(!0),"aria-label":"Subscription information",children:i.jsx(Ps,{size:18,strokeWidth:2.5,className:f?`${Nn.lockIcon} ${Nn.lockIconGold}`:Nn.lockIcon})}),i.jsxs("button",{type:"button",className:Nn.messageBtn,onClick:r,"aria-label":"Send message",children:[i.jsx(YM,{size:18,strokeWidth:2.5,"aria-hidden":!0}),"Message"]}),w?i.jsx("button",{type:"button",className:`${Nn.rssButton} ${Nn.disabled}`,disabled:!0,title:"Subscriber-only feed. Authenticate to access.","aria-label":"RSS Feed (Requires subscription)",children:i.jsx(Ss,{size:18,strokeWidth:2.5})}):i.jsx("a",{href:j,className:Nn.rssButton,title:b?"Private RSS Feed (Subscriber)":"RSS Feed","aria-label":b?"Private RSS Feed (Subscriber)":"RSS Feed",children:i.jsx(Ss,{size:18,strokeWidth:2.5})}),n!=null&&i.jsx("button",{type:"button",className:Nn.shareBtn,onClick:()=>p(!0),"aria-label":"Share",title:"Share",children:i.jsx(sb,{size:18,strokeWidth:2.5,"aria-hidden":!0})})]})]}),e.description&&i.jsx("p",{className:Nn.description,children:e.description})]})]}),o&&i.jsx(f2,{open:o,onClose:()=>u(!1),isSubscriberOnly:f,podcastSlug:t}),n!=null&&i.jsx(o2,{open:c,onOpenChange:p,url:n,title:a})]})}const sDe="_list_1x7yk_1",oDe="_muted_1x7yk_10",lDe="_loadMore_1x7yk_16",cDe="_loadMoreBtn_1x7yk_24",bv={list:sDe,muted:oDe,loadMore:lDe,loadMoreBtn:cDe};function uDe({episodes:e,podcast:t,podcastSlug:r,playingEpisodeId:n,onPlay:a,onPause:o,hasNextPage:u,isFetchingNextPage:c,onLoadMore:p,useShortEpisodeUrls:h=!1}){return e.length===0?i.jsx("p",{className:bv.muted,children:"No episodes found."}):i.jsxs(i.Fragment,{children:[i.jsx("ul",{className:bv.list,children:e.map(f=>i.jsx(N3e,{episode:f,podcastSlug:r,isSubscriberOnly:f.subscriber_only===1||t.public_feed_disabled===1,showPlayer:!0,playingEpisodeId:n,onPlay:a,onPause:o,useShortEpisodeUrls:h},f.id))}),u&&p&&i.jsx("div",{className:bv.loadMore,children:i.jsx("button",{type:"button",onClick:p,disabled:c,className:bv.loadMoreBtn,"aria-label":"Load More Episodes",children:c?"Loading...":"Load More Episodes"})})]})}const dDe="_breadcrumb_75kfm_1",fDe="_link_75kfm_14",pDe="_sep_75kfm_26",hDe="_current_75kfm_32",_v={breadcrumb:dDe,link:fDe,sep:pDe,current:hDe};function mDe({podcast:e,episode:t,podcastSlug:r,feedRootTo:n}){const a=n??`/feed/${r}`;return i.jsxs("nav",{"aria-label":"Breadcrumb",className:_v.breadcrumb,children:[i.jsx(Ye,{to:a,className:_v.link,children:e.title}),i.jsx(Qd,{size:16,className:_v.sep,"aria-hidden":!0}),i.jsx("span",{className:_v.current,title:t.title,children:t.title})]})}const gDe="_header_dtz26_1",vDe="_artwork_dtz26_9",yDe="_content_dtz26_18",bDe="_badgeWrap_dtz26_25",_De="_badgeSep_dtz26_33",xDe="_duration_dtz26_42",wDe="_seasonEpisode_dtz26_56",SDe="_title_dtz26_67",jDe="_subRow_dtz26_75",CDe="_lockButton_dtz26_82",kDe="_lockIcon_dtz26_103",NDe="_lockIconGold_dtz26_107",EDe="_messageBtn_dtz26_111",TDe="_shareBtn_dtz26_112",PDe="_metaRow_dtz26_135",ADe="_date_dtz26_142",en={header:gDe,artwork:vDe,content:yDe,badgeWrap:bDe,badgeSep:_De,duration:xDe,seasonEpisode:wDe,title:SDe,subRow:jDe,lockButton:CDe,lockIcon:kDe,lockIconGold:NDe,messageBtn:EDe,shareBtn:TDe,metaRow:PDe,date:ADe};function RDe({episode:e,podcast:t,onMessageClick:r,onLockClick:n,shareUrl:a,shareTitle:o,embedCode:u}){const[c,p]=v.useState(!1),h=t.subscriber_only_feed_enabled===1,f=t.public_feed_disabled===1,m=e.subscriber_only===1,b=f||m;return i.jsxs("div",{className:en.header,children:[e.artwork_url?i.jsx("img",{src:e.artwork_url,alt:e.title,className:en.artwork}):e.artwork_filename?i.jsx("img",{src:`/api/public/artwork/${e.podcast_id}/episodes/${e.id}/${encodeURIComponent(e.artwork_filename)}`,alt:e.title,className:en.artwork}):t.artwork_url||t.artwork_filename?i.jsx("img",{src:t.artwork_url??(t.artwork_filename?`/api/public/artwork/${t.id}/${encodeURIComponent(t.artwork_filename)}`:""),alt:t.title,className:en.artwork}):null,i.jsxs("div",{className:en.content,children:[e.season_number!=null||e.episode_number!=null||e.audio_duration_sec?i.jsxs("div",{className:en.badgeWrap,children:[(e.season_number!=null||e.episode_number!=null)&&i.jsx("span",{className:en.seasonEpisode,children:s2(e.season_number,e.episode_number)}),e.audio_duration_sec&&i.jsxs(i.Fragment,{children:[(e.season_number!=null||e.episode_number!=null)&&i.jsx("span",{className:en.badgeSep,"aria-hidden":!0}),i.jsx("span",{className:en.duration,children:S7(e.audio_duration_sec)})]})]}):null,i.jsx("h1",{className:en.title,children:e.title}),i.jsxs("div",{className:en.subRow,children:[h&&n&&i.jsx("button",{type:"button",className:en.lockButton,onClick:n,"aria-label":"Subscription information",children:i.jsx(Ps,{size:18,strokeWidth:2.5,className:b?`${en.lockIcon} ${en.lockIconGold}`:en.lockIcon,"aria-hidden":!0})}),i.jsxs("button",{type:"button",className:en.messageBtn,onClick:r,"aria-label":"Send message",children:[i.jsx(YM,{size:18,strokeWidth:2.5,"aria-hidden":!0}),"Message"]}),a!=null&&i.jsxs("button",{type:"button",className:en.shareBtn,onClick:()=>p(!0),"aria-label":"Share",title:"Share",children:[i.jsx(sb,{size:18,strokeWidth:2.5,"aria-hidden":!0}),"Share"]})]}),a!=null&&i.jsx(o2,{open:c,onOpenChange:p,url:a,title:o,embedCode:u}),i.jsx("div",{className:en.metaRow,children:e.publish_at&&i.jsx("span",{className:en.date,children:h_(e.publish_at)})})]})]})}const ODe="_locked_1rf12_1",DDe="_icon_1rf12_13",MDe="_label_1rf12_18",Hw={locked:ODe,icon:DDe,label:MDe};function q7({message:e="Subscriber Only - Subscribe to Listen"}){return i.jsxs("div",{className:Hw.locked,"aria-label":"Subscriber only",children:[i.jsx(Ps,{size:20,strokeWidth:2,className:Hw.icon,"aria-hidden":!0}),i.jsx("p",{className:Hw.label,children:e})]})}const LDe="_header_120ro_2",IDe="_headerLeft_120ro_11",$De="_title_120ro_15",BDe="_subtitle_120ro_24",zDe="_loading_120ro_32",FDe="_loadingSpinner_120ro_43",qDe="_searchingIndicator_120ro_56",UDe="_searchingSpinner_120ro_69",HDe="_grid_120ro_79",fo={header:LDe,headerLeft:IDe,title:$De,subtitle:BDe,loading:zDe,loadingSpinner:FDe,searchingIndicator:qDe,searchingSpinner:UDe,grid:HDe},xv=25;function WDe(){const e=Lt(),[t,r]=v.useState(1),{searchQuery:n,searchDebounced:a,setSearchQuery:o,sortNewestFirst:u,setSortNewestFirst:c}=$Re();v.useEffect(()=>{console.log("[FeedHome] canceling active import polling"),e.cancelQueries({queryKey:["activeImport"]}),e.removeQueries({queryKey:["activeImport"]})},[e]),v.useEffect(()=>{r(1)},[a]);const{data:p,isLoading:h,isFetching:f,isError:m,refetch:b}=Oe({queryKey:["public-podcasts",t,a,u?"newest":"oldest"],queryFn:()=>rW({limit:xv,offset:(t-1)*xv,q:a||void 0,sort:u?"newest":"oldest"}),refetchOnMount:"always",placeholderData:S=>S}),_=(p==null?void 0:p.total)??0,j=Math.max(1,Math.ceil(_/xv)),w=(p==null?void 0:p.podcasts)??[],y=_===0?0:((p==null?void 0:p.offset)??0)+1,x=((p==null?void 0:p.offset)??0)+w.length;return v.useEffect(()=>{r(S=>S>j?Math.max(1,j):S)},[j]),u2({title:"Podcasts - HarborFM",description:"Browse all podcasts on HarborFM."}),i.jsx("div",{className:Vr.wrapper,children:i.jsxs("div",{className:Vr.container,children:[i.jsx(Mh,{}),i.jsxs("main",{children:[i.jsx("header",{className:fo.header,children:i.jsxs("div",{className:fo.headerLeft,children:[i.jsx("h1",{className:fo.title,children:"Podcasts"}),i.jsx("p",{className:fo.subtitle,children:p!=null&&_>0?`${_} show${_===1?"":"s"}  Browse and listen`:"Browse and listen to shows on the platform"})]})}),i.jsx(z3e,{}),m&&i.jsx(Wd,{onRetry:()=>void b()}),!m&&i.jsxs(i.Fragment,{children:[i.jsx(B7,{searchQuery:n,onSearchChange:S=>{o(S),r(1)},sortNewestFirst:u,onSortToggle:S=>{c(S),r(1)},placeholder:"Search by title, author, or description..."}),h&&!p&&i.jsxs("div",{className:fo.loading,children:[i.jsx("div",{className:fo.loadingSpinner}),i.jsx("p",{children:"Loading..."})]}),f&&p&&i.jsxs("div",{className:fo.searchingIndicator,children:[i.jsx("div",{className:fo.searchingSpinner}),i.jsx("span",{children:"Searching..."})]}),!h&&p!=null&&_===0&&i.jsx(U3e,{searchQuery:n}),p!=null&&_>0&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:fo.grid,children:w.map(S=>i.jsx(f3e,{podcast:S,showLockIcon:!0},S.id))}),j>1&&i.jsx(O3e,{currentPage:t,totalPages:j,onPageChange:S=>{r(S),window.scrollTo(0,0)},totalItems:_,itemsPerPage:xv,rangeStart:y,rangeEnd:x})]})]})]})]})})}const KDe="_overlay_nz94c_1",GDe="_dialog_nz94c_9",VDe="_dialogHeader_nz94c_29",YDe="_bodyScroll_nz94c_44",QDe="_title_nz94c_73",XDe="_sub_nz94c_80",ZDe="_close_nz94c_87",JDe="_form_nz94c_109",e4e="_label_nz94c_115",t4e="_input_nz94c_124",r4e="_actions_nz94c_144",n4e="_submit_nz94c_150",a4e="_error_nz94c_171",i4e="_errorText_nz94c_178",s4e="_success_nz94c_185",o4e="_successText_nz94c_192",Ar={overlay:KDe,dialog:GDe,dialogHeader:VDe,bodyScroll:YDe,title:QDe,sub:XDe,close:ZDe,form:JDe,label:e4e,input:t4e,actions:r4e,submit:n4e,error:a4e,errorText:i4e,success:s4e,successText:o4e},l4e=80;function U7({open:e,onOpenChange:t,context:r}){var y;const[n,a]=v.useState(""),[o,u]=v.useState(""),[c,p]=v.useState(""),h=v.useRef(null),f=v.useRef(null);pi(h,c,{minHeight:l4e});const{data:m}=Oe({queryKey:["setupStatus"],queryFn:lu,retry:!1,staleTime:1e4,enabled:e}),b=Ue({mutationFn:async()=>{var S;let x;if(m!=null&&m.captchaProvider&&m.captchaProvider!=="none"&&m.captchaSiteKey&&(x=await((S=f.current)==null?void 0:S.getToken()),!(x!=null&&x.trim())))throw new Error("Please complete the CAPTCHA.");return NL({name:n,email:o,message:c,captchaToken:x,...(r==null?void 0:r.podcastSlug)&&{podcastSlug:r.podcastSlug},...(r==null?void 0:r.episodeSlug)&&(r==null?void 0:r.podcastSlug)&&{episodeSlug:r.episodeSlug}})}});function _(x){t(x),x||(b.reset(),a(""),u(""),p(""))}function j(x){x.preventDefault(),b.mutate()}const w=r!=null&&r.episodeTitle&&(r!=null&&r.podcastTitle)?`${r.episodeTitle} - ${r.podcastTitle}`:r!=null&&r.podcastTitle?r.podcastTitle:null;return i.jsxs(ur,{open:e,onOpenChange:_,modal:!0,children:[i.jsx(dr,{className:Ar.overlay}),i.jsxs(fr,{className:Ar.dialog,"aria-describedby":void 0,children:[i.jsxs("div",{className:Ar.dialogHeader,children:[i.jsxs("div",{children:[i.jsx(pr,{className:Ar.title,children:"Message"}),w&&i.jsxs("p",{className:Ar.sub,children:["About: ",w]})]}),i.jsx(pt,{asChild:!0,children:i.jsx("button",{type:"button",className:Ar.close,"aria-label":"Close",children:i.jsx(Nt,{size:20,strokeWidth:2})})})]}),i.jsx("div",{className:Ar.bodyScroll,children:b.isSuccess?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:Ar.success,children:i.jsx("p",{className:Ar.successText,children:"Thanks for your message. Well get back to you as soon as we can."})}),i.jsx("div",{className:Ar.actions,children:i.jsx("button",{type:"button",className:Ar.submit,onClick:()=>_(!1),children:"Close"})})]}):i.jsxs("form",{onSubmit:j,className:Ar.form,children:[i.jsxs("label",{className:Ar.label,children:["Name",i.jsx("input",{type:"text",autoComplete:"name",value:n,onChange:x=>a(x.target.value),className:Ar.input,required:!0,maxLength:200})]}),i.jsxs("label",{className:Ar.label,children:["Email",i.jsx("input",{type:"email",autoComplete:"email",value:o,onChange:x=>u(x.target.value),className:Ar.input,required:!0})]}),i.jsxs("label",{className:Ar.label,children:["Message",i.jsx("textarea",{ref:h,value:c,onChange:x=>p(x.target.value),className:Ar.input,required:!0,rows:2,maxLength:1e4,style:{resize:"none",overflow:"hidden"}})]}),(m==null?void 0:m.captchaProvider)&&m.captchaProvider!=="none"&&m.captchaSiteKey&&i.jsx(Wh,{ref:f,provider:m.captchaProvider,siteKey:m.captchaSiteKey,action:"contact"}),b.isError&&i.jsx("div",{className:Ar.error,children:i.jsx("p",{className:Ar.errorText,children:(y=b.error)==null?void 0:y.message})}),i.jsx("div",{className:Ar.actions,children:i.jsx("button",{type:"submit",className:Ar.submit,disabled:b.isPending,"aria-label":"Send message",children:b.isPending?"Sending...":"Send message"})})]})})]})]})}const c4e="_heroCardSubscriberOnly_1e6dy_2",u4e="_linksCardWrap_1e6dy_7",d4e="_episodesCard_1e6dy_12",f4e="_episodes_1e6dy_12",p4e="_episodesHeader_1e6dy_20",h4e="_episodesTitle_1e6dy_25",hd={heroCardSubscriberOnly:c4e,linksCardWrap:u4e,episodesCard:d4e,episodes:f4e,episodesHeader:p4e,episodesTitle:h4e};function H7({podcastSlugOverride:e}={}){const t=Lt(),{podcastSlug:r}=bi(),n=e??r??"",[a,o]=v.useState(null),[u,c]=v.useState(""),p=tC(u),[h,f]=v.useState(!0),[m,b]=v.useState(!1);v.useEffect(()=>{t.cancelQueries({queryKey:["activeImport"]}),t.removeQueries({queryKey:["activeImport"]})},[t]);const{data:_,isLoading:j,isError:w,error:y,refetch:x}=Oe({queryKey:["public-podcast",n],queryFn:()=>ub(n),enabled:!!n,refetchOnMount:"always"}),{data:S,fetchNextPage:T,hasNextPage:N,isFetchingNextPage:A,isLoading:P}=zM({queryKey:["public-episodes",n,h,p],queryFn:({pageParam:z=0})=>nW(n,10,z,h?"newest":"oldest",p||void 0),enabled:!!n,refetchOnMount:"always",getNextPageParam:z=>{if(z.hasMore)return z.offset+z.episodes.length},initialPageParam:0}),k=v.useMemo(()=>(S==null?void 0:S.pages.flatMap(z=>z.episodes))??[],[S]),R=v.useCallback(z=>{o(M=>{if(M&&M!==z){const F=document.getElementById(`audio-${M}`);F&&(F.pause(),F.currentTime=0)}return z})},[]),D=v.useCallback(()=>{o(null)},[]),I=v.useMemo(()=>[...k].sort((z,M)=>{const F=z.publish_at?new Date(z.publish_at).getTime():new Date(z.created_at).getTime(),B=M.publish_at?new Date(M.publish_at).getTime():new Date(M.created_at).getTime();return h?B-F:F-B}),[k,h]);if(u2({title:_?`${_.title} - HarborFM`:void 0,description:(_==null?void 0:_.description)||(_?`Listen to ${_.title}${_.author_name?` by ${_.author_name}`:""} on HarborFM.`:void 0)}),!n)return null;if(j)return i.jsx(ba,{});if(w||!_){const z=w&&mh(y);return i.jsx("div",{className:Vr.wrapper,children:i.jsxs("div",{className:Vr.container,children:[i.jsx(Mh,{}),i.jsx("main",{children:z?i.jsx(Wd,{onRetry:()=>void x()}):i.jsx("div",{className:Vr.error,children:"Podcast not found"})})]})})}const q=_.subscriber_only_feed_enabled===1&&_.public_feed_disabled===1;return i.jsxs("div",{className:Vr.wrapper,children:[i.jsxs("div",{className:Vr.container,children:[i.jsx(Mh,{}),i.jsxs("main",{children:[i.jsx("div",{className:`${Vr.card} ${q?hd.heroCardSubscriberOnly:""}`,children:i.jsx(iDe,{podcast:_,podcastSlug:n,onMessageClick:()=>b(!0),shareUrl:(_==null?void 0:_.canonical_feed_url)??(typeof window<"u"?`${window.location.origin}${window.location.pathname}`:void 0),shareTitle:_?`${_.title} - HarborFM`:void 0})}),_&&g_(_)&&i.jsx("div",{className:hd.linksCardWrap,children:i.jsx($7,{podcast:_})}),i.jsx("div",{className:`${Vr.card} ${hd.episodesCard}`,children:i.jsxs("div",{className:hd.episodes,children:[i.jsx("div",{className:hd.episodesHeader,children:i.jsx("h2",{className:hd.episodesTitle,children:"Episodes"})}),i.jsx(B7,{searchQuery:u,onSearchChange:c,sortNewestFirst:h,onSortToggle:f,placeholder:"Search episodes..."}),P&&i.jsx("p",{className:Vr.muted,children:"Loading episodes..."}),!P&&I.length===0&&i.jsx("p",{className:Vr.muted,children:u?"No episodes match your search.":"No episodes yet."}),!P&&I.length>0&&i.jsx(uDe,{episodes:I,podcast:_,podcastSlug:n,playingEpisodeId:a,onPlay:R,onPause:D,hasNextPage:N,isFetchingNextPage:A,onLoadMore:()=>T(),useShortEpisodeUrls:!!e})]})}),i.jsx(aOe,{podcastSlug:n})]})]}),i.jsx(U7,{open:m,onOpenChange:b,context:{podcastSlug:n??void 0,podcastTitle:_.title}})]})}const m4e="_linksCardWrap_5x00q_2",g4e="_player_5x00q_7",v4e="_playbackRow_5x00q_11",y4e="_playPauseBtn_5x00q_18",b4e="_waveform_5x00q_44",_4e="_audio_5x00q_53",x4e="_noAudioText_5x00q_58",w4e="_description_5x00q_66",S4e="_castCard_5x00q_81",j4e="_castTitle_5x00q_85",C4e="_castSectionTitle_5x00q_92",si={linksCardWrap:m4e,player:g4e,playbackRow:v4e,playPauseBtn:y4e,waveform:b4e,audio:_4e,noAudioText:x4e,description:w4e,castCard:S4e,castTitle:j4e,castSectionTitle:C4e};function W7({podcastSlugOverride:e,episodeSlugOverride:t}={}){var me,Ce;const r=Lt(),n=bi(),a=e??n.podcastSlug??"",o=t??n.episodeSlug??"",u=!!(e&&t),[c,p]=v.useState(!1),[h,f]=v.useState(!1);v.useEffect(()=>{r.cancelQueries({queryKey:["activeImport"]}),r.removeQueries({queryKey:["activeImport"]})},[r]);const{data:m,isLoading:b,isError:_,error:j,refetch:w}=Oe({queryKey:["public-podcast",a],queryFn:()=>ub(a),enabled:!!a}),{data:y,isLoading:x,isError:S,error:T,refetch:N}=Oe({queryKey:["public-episode",a,o],queryFn:()=>Bj(a,o),enabled:!!a&&!!o}),{data:A}=Oe({queryKey:["public-episode-cast",a,o],queryFn:()=>aW(a,o),enabled:!!a&&!!o}),P=((me=A==null?void 0:A.cast)==null?void 0:me.filter(xe=>xe.role==="host"))??[],k=((Ce=A==null?void 0:A.cast)==null?void 0:Ce.filter(xe=>xe.role==="guest"))??[],R=(y==null?void 0:y.private_audio_url)||(y==null?void 0:y.audio_url)||null,D=(y==null?void 0:y.audio_duration_sec)??0,{audioRef:I,waveformData:q,currentTime:z,isPlaying:M,hasWaveform:F,togglePlay:B,seek:O}=d2({audioUrl:R,podcastSlug:a,episodeSlug:o,durationSec:D,waveformUrlFn:zj,privateWaveformUrl:y==null?void 0:y.private_waveform_url});if(u2({title:y&&m?`${y.title} - ${m.title} - HarborFM`:void 0,description:(y==null?void 0:y.description)||(y&&m?`Listen to ${y.title} from ${m.title}${m.author_name?` by ${m.author_name}`:""} on HarborFM.`:void 0)}),!a||!o)return null;if(b||x)return i.jsx(ba,{});const $=_&&mh(j),K=S&&mh(T),V=xe=>i.jsx("div",{className:Vr.wrapper,children:i.jsxs("div",{className:Vr.container,children:[i.jsx(Mh,{}),i.jsx("main",{children:xe})]})});if($)return V(i.jsx(Wd,{onRetry:()=>void w()}));if(K)return V(i.jsx(Wd,{onRetry:()=>void N()}));if(S||!y||!m)return V(i.jsx("div",{className:Vr.error,children:"Episode not found"}));const Q=typeof window<"u"?window.location.origin:"",U=`${Q}${u?`/${o}`:`/feed/${a}/${o}`}`,X=`${y.title} - ${m.title}`,te=`<iframe src="${`${Q}${u?`/embed/${o}`:`/embed/${a}/${o}`}`}" width="100%" height="200" frameborder="0" allowfullscreen></iframe>`;return i.jsxs("div",{className:Vr.wrapper,children:[i.jsxs("div",{className:Vr.container,children:[i.jsx(Mh,{}),i.jsxs("main",{children:[i.jsx(mDe,{podcast:m,episode:y,podcastSlug:a,feedRootTo:u?"/":void 0}),i.jsxs("div",{className:Vr.card,children:[i.jsx(RDe,{episode:y,podcast:m,onMessageClick:()=>p(!0),onLockClick:()=>f(!0),shareUrl:U,shareTitle:X,embedCode:te}),R&&i.jsxs("div",{className:si.player,children:[F&&i.jsxs("div",{className:si.playbackRow,children:[i.jsx("button",{type:"button",className:si.playPauseBtn,onClick:B,title:M?"Pause":"Play","aria-label":M?"Pause":"Play",children:M?i.jsx(_s,{size:22,"aria-hidden":!0}):i.jsx(xs,{size:22,"aria-hidden":!0})}),i.jsx(hf,{data:q,durationSec:D,currentTime:z,onSeek:O,className:si.waveform})]}),F?i.jsx("audio",{ref:I,preload:"metadata",style:{display:"none"},children:i.jsx("source",{src:R,type:y.audio_mime||"audio/mpeg"})}):i.jsxs("audio",{ref:I,controls:!0,className:si.audio,preload:"metadata",children:[i.jsx("source",{src:R,type:y.audio_mime||"audio/mpeg"}),"Your browser does not support the audio element."]})]}),!R&&(y.subscriber_only===1||m.subscriber_only_feed_enabled===1?i.jsx(q7,{}):i.jsx("p",{className:si.noAudioText,children:"Audio not available."})),y.description&&i.jsx("div",{className:si.description,children:i.jsx("p",{children:y.description})})]}),(P.length>0||k.length>0)&&i.jsxs("div",{className:`${Vr.card} ${si.castCard}`,children:[i.jsx("h2",{className:si.castTitle,children:"Cast"}),P.length>0&&i.jsxs("section",{style:{marginBottom:"1.5rem"},children:[i.jsx("h3",{className:si.castSectionTitle,children:"Hosts"}),i.jsx(nb,{cast:P})]}),k.length>0&&i.jsxs("section",{children:[i.jsx("h3",{className:si.castSectionTitle,children:"Guests"}),i.jsx(nb,{cast:k})]})]}),g_(m)&&i.jsx("div",{className:si.linksCardWrap,children:i.jsx($7,{podcast:m})})]})]}),i.jsx(U7,{open:c,onOpenChange:p,context:{podcastSlug:a??void 0,episodeSlug:o??void 0,podcastTitle:m.title,episodeTitle:y.title}}),h&&i.jsx(f2,{open:h,onClose:()=>f(!1),isSubscriberOnly:m.subscriber_only_feed_enabled===1&&m.public_feed_disabled===1,podcastSlug:a})]})}const k4e="_wrapper_1kg9b_1",N4e="_layout_1kg9b_16",E4e="_artworkWrap_1kg9b_24",T4e="_artwork_1kg9b_24",P4e="_artworkPlaceholder_1kg9b_36",A4e="_content_1kg9b_49",R4e="_topRow_1kg9b_58",O4e="_topRowRight_1kg9b_66",D4e="_podcastTitle_1kg9b_76",M4e="_seasonEpisode_1kg9b_86",L4e="_metaRowMobile_1kg9b_92",I4e="_seasonEpisodeShort_1kg9b_96",$4e="_brandMobile_1kg9b_102",B4e="_brand_1kg9b_102",z4e="_favicon_1kg9b_130",F4e="_episodeTitle_1kg9b_136",q4e="_subscriberOnlyCardLink_1kg9b_146",U4e="_player_1kg9b_161",H4e="_playbackRow_1kg9b_165",W4e="_playPauseBtn_1kg9b_172",K4e="_waveform_1kg9b_198",G4e="_audioNative_1kg9b_207",V4e="_actions_1kg9b_212",Y4e="_actionBtn_1kg9b_220",Q4e="_actionBtnIcon_1kg9b_241",X4e="_actionBtnLabel_1kg9b_247",Z4e="_controlsRow_1kg9b_251",J4e="_time_1kg9b_259",eMe="_speedBtn_1kg9b_266",tMe="_volumeWrap_1kg9b_284",rMe="_volumeIcon_1kg9b_293",nMe="_volumeSlider_1kg9b_298",aMe="_error_1kg9b_305",iMe="_titleRowWrapper_1kg9b_404",tt={wrapper:k4e,layout:N4e,artworkWrap:E4e,artwork:T4e,artworkPlaceholder:P4e,content:A4e,topRow:R4e,topRowRight:O4e,podcastTitle:D4e,seasonEpisode:M4e,metaRowMobile:L4e,seasonEpisodeShort:I4e,brandMobile:$4e,brand:B4e,favicon:z4e,episodeTitle:F4e,subscriberOnlyCardLink:q4e,player:U4e,playbackRow:H4e,playPauseBtn:W4e,waveform:K4e,audioNative:G4e,actions:V4e,actionBtn:Y4e,actionBtnIcon:Q4e,actionBtnLabel:X4e,controlsRow:Z4e,time:J4e,speedBtn:eMe,volumeWrap:tMe,volumeIcon:rMe,volumeSlider:nMe,error:aMe,titleRowWrapper:iMe},sMe="harborfm-embed-height";function dM(){const e=Lt(),t=bi(),r=t.podcastSlug,n=t.episodeSlug??"",a=v.useRef(null),[o,u]=v.useState(1),[c,p]=v.useState(1),h=typeof window<"u"?window.location.host:"",{data:f,isLoading:m,isFetched:b}=Oe({queryKey:["publicConfig",h],queryFn:cu,retry:!1,staleTime:0,refetchOnMount:"always",enabled:!r}),_=r??(f==null?void 0:f.custom_feed_slug)??"",j=!r&&!!(f!=null&&f.custom_feed_slug),{data:w,isLoading:y,isError:x,error:S,refetch:T}=Oe({queryKey:["public-podcast",_],queryFn:()=>ub(_),enabled:!!_}),{data:N,isLoading:A,isError:P,error:k,refetch:R}=Oe({queryKey:["public-episode",_,n],queryFn:()=>Bj(_,n),enabled:!!_&&!!n});v.useEffect(()=>{e.cancelQueries({queryKey:["activeImport"]}),e.removeQueries({queryKey:["activeImport"]})},[e]);const D=(N==null?void 0:N.private_audio_url)||(N==null?void 0:N.audio_url)||null,I=(N==null?void 0:N.audio_duration_sec)??0,{audioRef:q,waveformData:z,currentTime:M,isPlaying:F,hasWaveform:B,togglePlay:O,seek:$}=d2({audioUrl:D,podcastSlug:_,episodeSlug:n,durationSec:I,waveformUrlFn:zj,privateWaveformUrl:N==null?void 0:N.private_waveform_url});v.useEffect(()=>{const Ve=q.current;Ve&&(Ve.playbackRate=o)},[q,o]),v.useEffect(()=>{const Ve=q.current;Ve&&(Ve.volume=c)},[q,c]);const K=v.useCallback(()=>{u(Ve=>Ve===1?1.5:Ve===1.5?2:Ve===2?2.5:1)},[]),V=v.useCallback(Ve=>{if(Ve.key!==" "&&Ve.key!=="Space")return;const _e=document.activeElement;_e&&(_e.tagName==="BUTTON"||_e.tagName==="A"||_e.tagName==="INPUT"||_e.tagName==="SELECT"||_e.tagName==="TEXTAREA")||(Ve.preventDefault(),O())},[O]),Q=v.useCallback(Ve=>{(Ve.key===" "||Ve.key==="Enter")&&(Ve.preventDefault(),Ve.currentTarget.click())},[]),U=typeof window<"u"&&window.self!==window.top,X=!!_&&!!n,ee=r!==void 0||b;if(!n)return null;if(!r&&b&&!(f!=null&&f.custom_feed_slug))return i.jsx(Fi,{to:"/",replace:!0});if(!U&&ee&&X){const Ve=j?`/${n}`:`/feed/${_}/${n}`;return i.jsx(Fi,{to:Ve,replace:!0})}if(!_)return!r&&(m||!b)?i.jsx(ba,{}):i.jsx("div",{className:tt.wrapper,children:i.jsx("div",{className:tt.error,children:"Episode not found"})});if(y||A)return i.jsx(ba,{});const te=x&&mh(S),me=P&&mh(k);if(te)return i.jsx("div",{className:tt.wrapper,children:i.jsx(Wd,{onRetry:()=>void T()})});if(me)return i.jsx("div",{className:tt.wrapper,children:i.jsx(Wd,{onRetry:()=>void R()})});if(P||!N||!w)return i.jsx("div",{className:tt.wrapper,children:i.jsx("div",{className:tt.error,children:"Episode not found"})});const Ce=typeof window<"u"?window.location.origin:"",xe=j?`/${n}`:`/feed/${_}/${n}`,He=`${Ce}${xe}`,re=gb(_),Pe=`${Ce}${re}`,Ne=D?D.startsWith("http")?D:`${Ce}${D}`:null,ge=N.private_srt_url||N.srt_url?(N.private_srt_url||N.srt_url).startsWith("http")?N.private_srt_url||N.srt_url:`${Ce}${N.private_srt_url||N.srt_url}`:null,_t=LSe(N.season_number,N.episode_number),Ge=s2(N.season_number,N.episode_number),lt=!D&&(N.subscriber_only===1||w.subscriber_only_feed_enabled===1);let at=null;return N.artwork_url?at=N.artwork_url:N.artwork_filename?at=`/api/public/artwork/${N.podcast_id}/episodes/${N.id}/${encodeURIComponent(N.artwork_filename)}`:w.artwork_url?at=w.artwork_url:w.artwork_filename&&(at=`/api/public/artwork/${w.id}/${encodeURIComponent(w.artwork_filename)}`),i.jsxs("div",{ref:a,className:tt.wrapper,tabIndex:0,onKeyDown:V,role:"region","aria-label":"Episode player",children:[i.jsxs("div",{className:tt.layout,children:[i.jsx("div",{className:tt.artworkWrap,children:at?i.jsx("img",{src:at,alt:N.title,className:tt.artwork}):i.jsx("div",{className:tt.artworkPlaceholder,"aria-hidden":!0,children:"No image"})}),i.jsxs("div",{className:tt.content,children:[i.jsxs("div",{className:tt.titleRowWrapper,children:[i.jsxs("div",{className:tt.topRow,children:[i.jsx("span",{className:tt.podcastTitle,children:w.title}),i.jsxs("div",{className:tt.topRowRight,children:[_t&&i.jsx("span",{className:tt.seasonEpisode,children:_t}),i.jsxs("a",{href:Ce+(j?"/":"/feed"),target:"_blank",rel:"noopener noreferrer",className:tt.brand,children:[i.jsx("img",{src:"/favicon.png",alt:"",className:tt.favicon,onError:Ve=>{Ve.target.src="/favicon.svg"}}),"HarborFM"]})]})]}),i.jsx("h1",{className:tt.episodeTitle,title:N.title,children:N.title})]}),i.jsxs("div",{className:tt.metaRowMobile,children:[Ge&&i.jsx("span",{className:tt.seasonEpisodeShort,children:Ge}),i.jsxs("a",{href:Ce+(j?"/":"/feed"),target:"_blank",rel:"noopener noreferrer",className:tt.brandMobile,children:[i.jsx("img",{src:"/favicon.png",alt:"",className:tt.favicon,onError:Ve=>{Ve.target.src="/favicon.svg"}}),"HarborFM"]})]}),lt?i.jsx(i.Fragment,{children:i.jsx("a",{href:He,target:"_blank",rel:"noopener noreferrer",className:tt.subscriberOnlyCardLink,children:i.jsx(q7,{})})}):D?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:tt.player,children:[B&&i.jsxs("div",{className:tt.playbackRow,children:[i.jsx("button",{type:"button",className:tt.playPauseBtn,onClick:O,title:F?"Pause":"Play","aria-label":F?"Pause":"Play",children:F?i.jsx(_s,{size:22,"aria-hidden":!0}):i.jsx(xs,{size:22,"aria-hidden":!0})}),i.jsx(hf,{data:z,durationSec:I,currentTime:M,onSeek:$,className:tt.waveform})]}),B?i.jsx("audio",{ref:q,preload:"metadata",style:{display:"none"},children:i.jsx("source",{src:D,type:N.audio_mime||"audio/mpeg"})}):i.jsx("audio",{ref:q,controls:!0,className:tt.audioNative,preload:"metadata",children:i.jsx("source",{src:D,type:N.audio_mime||"audio/mpeg"})})]}),i.jsxs("div",{className:tt.actions,children:[i.jsxs("a",{href:He,target:"_blank",rel:"noopener noreferrer",className:tt.actionBtn,onKeyDown:Q,children:[i.jsx("span",{className:tt.actionBtnIcon,children:i.jsx(sb,{size:16,"aria-hidden":!0})}),i.jsx("span",{className:tt.actionBtnLabel,children:"Share"})]}),Ne&&i.jsxs("a",{href:Ne,download:!0,className:tt.actionBtn,onKeyDown:Q,children:[i.jsx("span",{className:tt.actionBtnIcon,children:i.jsx(Kv,{size:16,"aria-hidden":!0})}),i.jsx("span",{className:tt.actionBtnLabel,children:"Download"})]}),i.jsxs("a",{href:Pe,target:"_blank",rel:"noopener noreferrer",className:tt.actionBtn,onKeyDown:Q,children:[i.jsx("span",{className:tt.actionBtnIcon,children:i.jsx(Ss,{size:16,"aria-hidden":!0})}),i.jsx("span",{className:tt.actionBtnLabel,children:"Subscribe"})]}),ge&&i.jsxs("a",{href:ge,target:"_blank",rel:"noopener noreferrer",className:tt.actionBtn,onKeyDown:Q,children:[i.jsx("span",{className:tt.actionBtnIcon,children:i.jsx(Ej,{size:16,"aria-hidden":!0})}),i.jsx("span",{className:tt.actionBtnLabel,children:"Transcript"})]})]}),i.jsxs("div",{className:tt.controlsRow,children:[i.jsxs("span",{className:tt.time,children:[u4(Math.ceil(M))," / ",u4(Math.ceil(I))]}),i.jsxs("button",{type:"button",className:tt.speedBtn,onClick:K,"aria-label":"Playback speed",children:[o,"x"]}),i.jsxs("div",{className:tt.volumeWrap,children:[i.jsx(Uq,{size:18,className:tt.volumeIcon,"aria-hidden":!0}),i.jsx("input",{id:"embed-volume",type:"range",min:0,max:1,step:.05,value:c,onChange:Ve=>p(Number(Ve.target.value)),className:tt.volumeSlider,"aria-label":"Volume"})]})]})]}):null]})]}),i.jsx(oMe,{rootRef:a})]})}function oMe({rootRef:e}){return v.useEffect(()=>{const t=e.current;if(!t||typeof ResizeObserver>"u")return;let r;const n=()=>{r=requestAnimationFrame(()=>{const o=t.offsetHeight;window.parent.postMessage({type:sMe,height:o},"*")})},a=new ResizeObserver(()=>{n()});return a.observe(t),n(),()=>{cancelAnimationFrame(r),a.disconnect()}},[e]),null}const lMe="_page_1wz25_1",cMe="_card_1wz25_10",uMe="_title_1wz25_20",dMe="_sub_1wz25_27",fMe="_audioUnavailable_1wz25_33",pMe="_loading_1wz25_43",hMe="_error_1wz25_48",mMe="_form_1wz25_54",gMe="_label_1wz25_60",vMe="_input_1wz25_66",yMe="_select_1wz25_67",bMe="_joinBtn_1wz25_83",_Me="_micTestHint_1wz25_104",xMe="_micLevel_1wz25_110",wMe="_micLevelBar_1wz25_119",SMe="_participantsLabel_1wz25_126",jMe="_participantsList_1wz25_134",CMe="_note_1wz25_146",Dt={page:lMe,card:cMe,title:uMe,sub:dMe,audioUnavailable:fMe,loading:pMe,error:hMe,form:mMe,label:gMe,input:vMe,select:yMe,joinBtn:bMe,micTestHint:_Me,micLevel:xMe,micLevelBar:wMe,participantsLabel:SMe,participantsList:jMe,note:CMe};function kMe(){const{token:e}=bi(),[t,r]=v.useState(null),[n,a]=v.useState(null),[o,u]=v.useState(!0),[c,p]=v.useState(""),[h,f]=v.useState(""),[m,b]=v.useState(""),[_,j]=v.useState([]),[w,y]=v.useState(0),[x,S]=v.useState(!1),[T,N]=v.useState(!1),[A,P]=v.useState(void 0),[k,R]=v.useState(void 0),[D,I]=v.useState([]),q=v.useRef(null),z=v.useRef(null),M=v.useRef(null),F=v.useRef(null),{remoteTracks:B,setMuted:O}=M7(A,k),$=v.useRef(O);$.current=O,v.useEffect(()=>{if(!e){a("Invalid link"),u(!1);return}UNe(e).then(r).catch(()=>a("Invalid or expired link")).finally(()=>u(!1))},[e]),v.useEffect(()=>{navigator.mediaDevices.enumerateDevices().then(Q=>{const U=Q.filter(X=>X.kind==="audioinput");j(U),U.length>0&&!m&&b(U[0].deviceId)}).catch(()=>{})},[m]),v.useEffect(()=>{if(!m)return;const Q={audio:{deviceId:{exact:m}},video:!1};let U=null,X=null;return navigator.mediaDevices.getUserMedia(Q).then(ee=>{U=ee,q.current=ee;const te=window.AudioContext||window.webkitAudioContext;X=new te,M.current=X;const me=X.createMediaStreamSource(ee),Ce=X.createAnalyser();Ce.fftSize=256,Ce.smoothingTimeConstant=.7,Ce.minDecibels=-60,Ce.maxDecibels=-10,me.connect(Ce),z.current=Ce,X.resume().catch(()=>{});const xe=new Uint8Array(Ce.frequencyBinCount);function He(){const re=z.current;if(!re||!X)return;if(X.state!=="running"){F.current=requestAnimationFrame(He);return}re.getByteFrequencyData(xe);let Pe=0;for(let Ne=0;Ne<xe.length;Ne++)xe[Ne]>Pe&&(Pe=xe[Ne]);y(Math.min(100,Math.round(Pe/255*100))),F.current=requestAnimationFrame(He)}He()}).catch(()=>y(0)),()=>{F.current&&cancelAnimationFrame(F.current),U&&U.getTracks().forEach(ee=>ee.stop()),X==null||X.close(),q.current=null,z.current=null,M.current=null}},[m]);const K=()=>{var Q;(Q=M.current)==null||Q.resume().catch(()=>{})},V=()=>{if(!e||!c.trim())return;a(null),S(!0);const Q=new WebSocket(A7());let U=!1,X=null;const ee=()=>{X&&(clearTimeout(X),X=null)};X=setTimeout(()=>{if(!U){U=!0,a("Join timed out. Please try again."),S(!1);try{Q.close()}catch{}}},15e3),Q.onopen=()=>{Q.send(JSON.stringify({type:"guest",token:e,name:c.trim(),password:h||void 0}))},Q.onmessage=te=>{try{const me=JSON.parse(te.data);me.type==="joined"?(U=!0,ee(),N(!0),I(me.participants??[]),me.webrtcUrl&&P(me.webrtcUrl),me.roomId&&R(me.roomId)):me.type==="participants"?I(me.participants??[]):me.type==="participantJoined"?I(Ce=>{const xe=me.participant;return xe&&!Ce.some(He=>He.id===xe.id)?[...Ce,xe]:Ce}):me.type==="callEnded"?(ee(),N(!1),S(!1),Q.close()):me.type==="error"?(U=!0,ee(),a(me.error??"Could not join"),S(!1),Q.close()):me.type==="setMute"?$.current(me.muted===!0):me.type==="disconnected"&&(ee(),P(void 0),R(void 0),N(!1),a("You were disconnected by the host"),S(!1),Q.close())}catch{}},Q.onclose=()=>{ee(),S(!1),U||a("Connection closed. Please try again.")},Q.onerror=()=>{U||a("Connection failed"),S(!1)}};if(o)return i.jsx("div",{className:Dt.page,children:i.jsx("div",{className:Dt.card,children:i.jsx("p",{className:Dt.loading,children:"Loading"})})});if(n&&!t)return i.jsx("div",{className:Dt.page,children:i.jsxs("div",{className:Dt.card,children:[i.jsx("h1",{className:Dt.title,children:"Could not load call"}),i.jsx("p",{className:Dt.error,children:n})]})});if(T){const Q=!A||!k;return i.jsx("div",{className:Dt.page,children:i.jsxs("div",{className:Dt.card,children:[i.jsx("h1",{className:Dt.title,children:"You're in the call"}),i.jsxs("p",{className:Dt.sub,children:[t==null?void 0:t.podcast.title,"  ",t==null?void 0:t.episode.title]}),Q&&i.jsx("p",{className:Dt.audioUnavailable,role:"status",children:"Audio is unavailable  the host's WebRTC service is not running. You can stay in the call but won't hear or be heard until it's started."}),i.jsx("div",{className:Dt.micLevel,role:"button",tabIndex:0,onClick:K,onKeyDown:U=>U.key==="Enter"&&K(),title:"Click if the bar doesn't move","aria-label":"Microphone level  click to enable if needed",children:i.jsx("div",{className:Dt.micLevelBar,style:{width:`${w}%`}})}),i.jsxs("p",{className:Dt.participantsLabel,children:["Participants (",D.length,")"]}),i.jsx("ul",{className:Dt.participantsList,children:D.map(U=>i.jsxs("li",{children:[U.name,U.isHost?" (Host)":""]},U.id))}),Array.from(B.entries()).map(([U,X])=>i.jsx(L7,{track:X},U)),i.jsx("p",{className:Dt.note,children:"You can close this page to leave the call."})]})})}return i.jsx("div",{className:Dt.page,children:i.jsxs("div",{className:Dt.card,children:[i.jsx("h1",{className:Dt.title,children:"Join group call"}),t&&i.jsxs(i.Fragment,{children:[i.jsxs("p",{className:Dt.sub,children:[t.podcast.title,"  ",t.episode.title]}),i.jsxs("div",{className:Dt.form,children:[i.jsx("label",{className:Dt.label,htmlFor:"call-join-name",children:"Your name"}),i.jsx("input",{id:"call-join-name",type:"text",className:Dt.input,value:c,onChange:Q=>p(Q.target.value),placeholder:"Enter your name",maxLength:100}),_.length>0&&i.jsxs(i.Fragment,{children:[i.jsx("label",{className:Dt.label,htmlFor:"call-join-mic",children:"Microphone"}),i.jsx("select",{id:"call-join-mic",className:Dt.select,value:m,onChange:Q=>b(Q.target.value),children:_.map(Q=>i.jsx("option",{value:Q.deviceId,children:Q.label||`Microphone ${Q.deviceId.slice(0,8)}`},Q.deviceId))}),i.jsx("div",{className:Dt.micLevel,role:"button",tabIndex:0,onClick:K,onKeyDown:Q=>Q.key==="Enter"&&K(),title:"Click if the bar doesn't move","aria-label":"Microphone level  click to enable if needed",children:i.jsx("div",{className:Dt.micLevelBar,style:{width:`${w}%`}})}),i.jsx("p",{className:Dt.micTestHint,children:"Speak to test your microphone. Level should move when you talk. Click the bar if it doesn't."})]}),i.jsx("label",{className:Dt.label,htmlFor:"call-join-password",children:"Password (if required)"}),i.jsx("input",{id:"call-join-password",type:"password",className:Dt.input,value:h,onChange:Q=>f(Q.target.value),placeholder:"Leave blank if no password"}),n&&i.jsx("p",{className:Dt.error,children:n}),i.jsx("button",{type:"button",className:Dt.joinBtn,onClick:V,disabled:x||!c.trim(),children:x?"Joining":"Join call"})]})]})]})})}const NMe="_page_1b3fa_1",EMe="_header_1b3fa_6",TMe="_title_1b3fa_15",PMe="_subtitle_1b3fa_24",AMe="_controls_1b3fa_30",RMe="_uploadCard_1b3fa_38",OMe="_uploadHeader_1b3fa_63",DMe="_uploadTitle_1b3fa_67",MMe="_uploadSub_1b3fa_74",LMe="_uploadChooseRow_1b3fa_80",IMe="_uploadChooseBtn_1b3fa_87",$Me="_pixabayImportForm_1b3fa_102",BMe="_input_1b3fa_111",zMe="_pixabayImportActions_1b3fa_117",FMe="_uploadForm_1b3fa_129",qMe="_uploadPendingFile_1b3fa_134",UMe="_uploadLabel_1b3fa_140",HMe="_optional_1b3fa_148",WMe="_uploadActions_1b3fa_154",KMe="_uploadSubmit_1b3fa_160",GMe="_uploadCancel_1b3fa_180",VMe="_uploadError_1b3fa_201",YMe="_select_1b3fa_208",QMe="_sortToggle_1b3fa_223",XMe="_sortBtn_1b3fa_232",ZMe="_sortBtnActive_1b3fa_233",JMe="_stateCard_1b3fa_253",eLe="_stateText_1b3fa_262",tLe="_metaRow_1b3fa_268",rLe="_metaText_1b3fa_274",nLe="_list_1b3fa_278",aLe="_item_1b3fa_284",iLe="_itemMain_1b3fa_296",sLe="_itemTitleRow_1b3fa_300",oLe="_itemName_1b3fa_307",lLe="_itemCopyrightLicense_1b3fa_314",cLe="_itemTag_1b3fa_321",uLe="_itemMeta_1b3fa_331",dLe="_itemMetaLabels_1b3fa_343",fLe="_itemMetaRight_1b3fa_349",pLe="_itemMetaDot_1b3fa_355",hLe="_itemWaveformRow_1b3fa_363",mLe="_itemPlayPauseBtn_1b3fa_372",gLe="_itemWaveform_1b3fa_363",vLe="_itemWaveformPlaceholder_1b3fa_413",yLe="_itemWaveformPlaceholderFill_1b3fa_429",bLe="_itemActions_1b3fa_436",_Le="_editBtn_1b3fa_443",xLe="_deleteBtn_1b3fa_467",wLe="_pagination_1b3fa_490",SLe="_paginationLabel_1b3fa_499",jLe="_paginationBtns_1b3fa_504",CLe="_pageBtn_1b3fa_509",kLe="_dialogOverlay_1b3fa_532",NLe="_dialogContent_1b3fa_540",ELe="_dialogHeaderRow_1b3fa_556",TLe="_dialogTitle_1b3fa_564",PLe="_dialogClose_1b3fa_571",ALe="_dialogDescription_1b3fa_605",RLe="_dialogActions_1b3fa_612",OLe="_dialogForm_1b3fa_618",DLe="_dialogLabel_1b3fa_624",MLe="_cancel_1b3fa_632",LLe="_dialogConfirmRemove_1b3fa_649",ILe="_dialogConfirm_1b3fa_649",je={page:NMe,header:EMe,title:TMe,subtitle:PMe,controls:AMe,uploadCard:RMe,uploadHeader:OMe,uploadTitle:DMe,uploadSub:MMe,uploadChooseRow:LMe,uploadChooseBtn:IMe,pixabayImportForm:$Me,input:BMe,pixabayImportActions:zMe,uploadForm:FMe,uploadPendingFile:qMe,uploadLabel:UMe,optional:HMe,uploadActions:WMe,uploadSubmit:KMe,uploadCancel:GMe,uploadError:VMe,select:YMe,sortToggle:QMe,sortBtn:XMe,sortBtnActive:ZMe,stateCard:JMe,stateText:eLe,metaRow:tLe,metaText:rLe,list:nLe,item:aLe,itemMain:iLe,itemTitleRow:sLe,itemName:oLe,itemCopyrightLicense:lLe,itemTag:cLe,itemMeta:uLe,itemMetaLabels:dLe,itemMetaRight:fLe,itemMetaDot:pLe,itemWaveformRow:hLe,itemPlayPauseBtn:mLe,itemWaveform:gLe,itemWaveformPlaceholder:vLe,itemWaveformPlaceholderFill:yLe,itemActions:bLe,editBtn:_Le,deleteBtn:xLe,pagination:wLe,paginationLabel:SLe,paginationBtns:jLe,pageBtn:CLe,dialogOverlay:kLe,dialogContent:NLe,dialogHeaderRow:ELe,dialogTitle:TLe,dialogClose:PLe,dialogDescription:ALe,dialogActions:RLe,dialogForm:OLe,dialogLabel:DLe,cancel:MLe,dialogConfirmRemove:LLe,dialogConfirm:ILe},Zp=25,Jp=["Ad","Intro","Outro","Bumper","Other"],$Le=[];function BLe({asset:e,waveformUrl:t,currentTime:r,isPlaying:n,onSeek:a,onPlayPause:o}){const[u,c]=v.useState(null),p=e.duration_sec??0;return v.useEffect(()=>{if(p<=0){c(null);return}let h=!1;return fetch(t,{credentials:"include"}).then(f=>f.ok?f.json():null).then(f=>{var m;!h&&((m=f==null?void 0:f.data)!=null&&m.length)?c(f):h||c(null)}).catch(()=>{h||c(null)}),()=>{h=!0}},[t,p]),p<=0?null:i.jsxs("div",{className:je.itemWaveformRow,children:[i.jsx("button",{type:"button",className:je.itemPlayPauseBtn,onClick:o,title:n?"Pause":"Play","aria-label":n?`Pause ${e.name}`:`Play ${e.name}`,children:n?i.jsx(_s,{size:20,strokeWidth:2,"aria-hidden":!0}):i.jsx(xs,{size:20,strokeWidth:2,"aria-hidden":!0})}),u?i.jsx(hf,{data:u,durationSec:p,currentTime:r,onSeek:h=>a(e,h),onPlayPause:o,className:je.itemWaveform}):i.jsx("div",{className:je.itemWaveformPlaceholder,role:"progressbar","aria-valuenow":Math.round(r),"aria-valuemin":0,"aria-valuemax":p,"aria-label":"Playback position",onClick:()=>o(),children:i.jsx("div",{className:je.itemWaveformPlaceholderFill,style:{width:`${p>0?r/p*100:0}%`}})})]})}function zLe(e){if(!Number.isFinite(e)||e<0)return"0:00";const t=Math.floor(e/60),r=Math.floor(e%60);return`${t}:${String(r).padStart(2,"0")}`}function fM(){var Se,gt,Re;const{userId:e}=bi(),t=!!e,r=Lt(),{data:n}=Oe({queryKey:["user",e],queryFn:()=>u6(e),enabled:!!e}),{data:a}=Oe({queryKey:["me"],queryFn:_i,staleTime:300*1e3}),o=a==null?void 0:a.user,u=((Se=o==null?void 0:o.role)==null?void 0:Se.toLowerCase())==="admin",c=(o==null?void 0:o.id)??void 0,p=!t&&ou(o),{data:h,isLoading:f,isError:m}=Oe({queryKey:["library",e],queryFn:()=>e?kNe(e):T7()}),b=v.useMemo(()=>(h==null?void 0:h.assets)??$Le,[h==null?void 0:h.assets]),[_,j]=v.useState(""),[w,y]=v.useState(""),[x,S]=v.useState(!0),[T,N]=v.useState(1),[A,P]=v.useState(null),[k,R]=v.useState(!1),[D,I]=v.useState(0),q=v.useRef(null),z=v.useRef(null),[M,F]=v.useState(""),[B,O]=v.useState(""),[$,K]=v.useState(""),[V,Q]=v.useState(""),[U,X]=v.useState(""),[ee,te]=v.useState(!1),[me,Ce]=v.useState(null),[xe,He]=v.useState(null),[re,Pe]=v.useState(null),[Ne,ge]=v.useState(""),[_t,Ge]=v.useState(""),[lt,at]=v.useState(""),[Ve,_e]=v.useState(""),[We,er]=v.useState(""),ht=v.useRef(null),[qa,Pn]=v.useState(!1),[It,Fn]=v.useState("");v.useEffect(()=>{const ne=new Audio;ne.preload="none";const Fe=()=>R(!1),le=()=>R(!1),Te=()=>R(!0),Je=()=>I(ne.currentTime),$t=()=>{if(z.current!=null){const St=z.current;z.current=null,ne.currentTime=St,I(St)}};return ne.addEventListener("ended",Fe),ne.addEventListener("pause",le),ne.addEventListener("play",Te),ne.addEventListener("timeupdate",Je),ne.addEventListener("loadedmetadata",$t),q.current=ne,()=>{ne.pause(),ne.removeEventListener("ended",Fe),ne.removeEventListener("pause",le),ne.removeEventListener("play",Te),ne.removeEventListener("timeupdate",Je),ne.removeEventListener("loadedmetadata",$t),q.current=null}},[]);const ra=Ue({mutationFn:ne=>e?ANe(e,ne):PNe(ne),onSuccess:()=>r.invalidateQueries({queryKey:["library",e]})}),na=Ue({mutationFn:({id:ne,name:Fe,tag:le,copyright:Te,license:Je,global_asset:$t})=>{const St={name:Fe,tag:le||null,copyright:Te===""?null:Te??void 0,license:Je===""?null:Je??void 0,...$t!==void 0&&{global_asset:$t}};return e?TNe(e,ne,St):ENe(ne,St)},onSuccess:()=>{r.invalidateQueries({queryKey:["library",e]}),F(""),O(""),K(""),Q(""),X(""),te(!1),He(null)}}),Ae=Ue({mutationFn:({file:ne,name:Fe,tag:le,copyright:Te,license:Je})=>P7(ne,Fe,le||void 0,Te||void 0,Je||void 0),onSuccess:()=>{r.invalidateQueries({queryKey:["library",e]}),Pe(null),ge(""),Ge(""),at(""),_e(""),er(""),ht.current&&(ht.current.value="")}}),it=Ue({mutationFn:ne=>NNe(ne),onSuccess:()=>{r.invalidateQueries({queryKey:["library",e]}),Pn(!1),Fn("")}}),nt=v.useMemo(()=>{const ne=new Set(Jp),Fe=new Set;return b.forEach(Te=>{Te.tag&&Fe.add(Te.tag)}),[...Jp.filter(Te=>Te!=="Other"),...Array.from(Fe).filter(Te=>!ne.has(Te)).sort()]},[b]),ut=v.useMemo(()=>{const ne=_.trim().toLowerCase();let Fe=b.filter(le=>!(w&&le.tag!==w||ne&&!le.name.toLowerCase().includes(ne)));return Fe=[...Fe].sort((le,Te)=>{const Je=new Date(le.created_at).getTime(),$t=new Date(Te.created_at).getTime();return x?$t-Je:Je-$t}),Fe},[b,_,w,x]),mt=Math.max(1,Math.ceil(ut.length/Zp)),Tt=Math.max(1,Math.min(T,mt)),Ot=v.useMemo(()=>ut.slice((Tt-1)*Zp,Tt*Zp),[ut,Tt]),lr=ut.length===0?0:(Tt-1)*Zp+1,tr=(Tt-1)*Zp+Ot.length;v.useEffect(()=>{N(ne=>ne>mt?Math.max(1,mt):ne)},[mt]);function ln(ne){const Fe=q.current;if(Fe){if(A===ne.id&&k){Fe.pause();return}A!==ne.id&&(Fe.src=e?h4(e,ne.id):p4(ne.id),P(ne.id),I(0)),Fe.play().catch(()=>{R(!1)})}}function wa(ne,Fe){const le=q.current;if(le){if(A===ne.id){le.currentTime=Fe,I(Fe);return}z.current=Fe,P(ne.id),I(0),le.src=e?h4(e,ne.id):p4(ne.id),le.load()}}function aa(){var ne;me&&(A===me.id&&((ne=q.current)==null||ne.pause(),P(null)),ra.mutate(me.id,{onSuccess:()=>Ce(null)}))}function Qi(ne){Ce(ne)}function Si(ne){if(p)return!1;const Fe=ne.owner_user_id??e??c;return c!=null&&String(Fe)===String(c)||!!u}function Xi(ne){return Si(ne)}function ia(ne){He(ne),F(ne.name),Q(ne.copyright??""),X(ne.license??""),te(!!ne.global_asset),ne.tag?Jp.includes(ne.tag)?(O(ne.tag),K("")):(O("Other"),K(ne.tag)):(O(""),K(""))}function ji(){F(""),O(""),K(""),Q(""),X(""),te(!1),He(null)}function sa(){if(!xe)return;const ne=M.trim();if(!ne)return;const Fe=B==="Other"?$.trim()||"":B.trim(),le=V.trim()||null,Te=U.trim()||null,Je=u?ee:void 0;na.mutate({id:xe.id,name:ne,tag:Fe,copyright:le,license:Te,global_asset:Je})}function Ko(ne){var le;const Fe=(le=ne.target.files)==null?void 0:le[0];Fe&&(Pe(Fe),ge(Fe.name.replace(/\.[^.]+$/,"")),Ge(""))}function Sa(){if(!re)return;const ne=Ne.trim()||re.name.replace(/\.[^.]+$/,""),Fe=_t==="Other"?We.trim()||null:_t||null,le=lt.trim()||null,Te=Ve.trim()||null;Ae.mutate({file:re,name:ne,tag:Fe,copyright:le,license:Te})}function pe(){Pe(null),ge(""),Ge(""),at(""),_e(""),er(""),ht.current&&(ht.current.value="")}return i.jsxs("div",{className:je.page,children:[i.jsx("header",{className:je.header,children:i.jsxs("div",{children:[i.jsx("h1",{className:je.title,children:t?`Library (${(n==null?void 0:n.email)??e})`:"Library"}),i.jsx("p",{className:je.subtitle,children:"Explore, search, listen, and manage your reusable audio clips."})]})}),!t&&!p&&i.jsxs("section",{className:je.uploadCard,children:[i.jsxs("div",{className:je.uploadHeader,children:[i.jsx("h2",{className:je.uploadTitle,children:"Add to Library"}),i.jsx("p",{className:je.uploadSub,children:"Upload a reusable clip you can insert into any episode."})]}),re?i.jsxs("div",{className:je.uploadForm,children:[i.jsx("p",{className:je.uploadPendingFile,children:re.name}),i.jsxs("label",{className:je.uploadLabel,children:["Name",i.jsx("input",{type:"text",className:je.input,placeholder:"e.g. Mid-roll ad, Show intro",value:Ne,onChange:ne=>ge(ne.target.value)})]}),i.jsxs("label",{className:je.uploadLabel,children:["Tag",i.jsxs("select",{className:je.select,value:_t,onChange:ne=>Ge(ne.target.value),children:[i.jsx("option",{value:"",children:"None"}),Jp.map(ne=>i.jsx("option",{value:ne,children:ne},ne))]})]}),_t==="Other"&&i.jsxs("label",{className:je.uploadLabel,children:["Custom tag",i.jsx("input",{type:"text",className:je.input,placeholder:"e.g. Promo, Transition",value:We,onChange:ne=>er(ne.target.value)})]}),i.jsxs("label",{className:je.uploadLabel,children:[i.jsxs("span",{children:["Copyright ",i.jsx("span",{className:je.optional,children:"(optional)"})]}),i.jsx("input",{type:"text",className:je.input,placeholder:"e.g. 2026 Acme Media",value:lt,onChange:ne=>at(ne.target.value)})]}),i.jsxs("label",{className:je.uploadLabel,children:[i.jsxs("span",{children:["License ",i.jsx("span",{className:je.optional,children:"(optional)"})]}),i.jsx("input",{type:"text",className:je.input,placeholder:"e.g. CC BY 4.0, All rights reserved",value:Ve,onChange:ne=>_e(ne.target.value)})]}),i.jsxs("div",{className:je.uploadActions,children:[i.jsx("button",{type:"button",className:je.uploadCancel,onClick:pe,"aria-label":"Cancel adding to library",children:"Cancel"}),i.jsx("button",{type:"button",className:je.uploadSubmit,onClick:Sa,disabled:Ae.isPending,"aria-label":"Add file to library",children:Ae.isPending?"Adding...":"Add to Library"})]})]}):i.jsx(i.Fragment,{children:i.jsxs("div",{className:je.uploadChooseRow,children:[i.jsxs("button",{type:"button",className:je.uploadChooseBtn,onClick:()=>{var ne;return(ne=ht.current)==null?void 0:ne.click()},"aria-label":"Choose audio file to add to library",children:[i.jsx(Qv,{size:20,strokeWidth:2,"aria-hidden":!0}),"Upload Audio"]}),u&&(qa?i.jsxs("div",{className:je.pixabayImportForm,children:[i.jsx("input",{type:"url",inputMode:"url",autoComplete:"url",className:je.input,placeholder:"https://pixabay.com/sound-effects/...",value:It,onChange:ne=>Fn(ne.target.value),"aria-label":"Pixabay sound effect URL"}),i.jsxs("div",{className:je.pixabayImportActions,children:[i.jsxs("button",{type:"button",className:je.uploadCancel,onClick:()=>{Pn(!1),Fn("")},"aria-label":"Cancel Pixabay import",children:[i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":!0}),"Cancel"]}),i.jsxs("button",{type:"button",className:je.uploadSubmit,onClick:()=>it.mutate(It.trim()),disabled:!It.trim()||it.isPending,"aria-label":"Import from Pixabay",children:[i.jsx(Kv,{size:18,strokeWidth:2,"aria-hidden":!0}),it.isPending?"Importing...":"Import"]})]})]}):i.jsxs("button",{type:"button",className:je.uploadChooseBtn,onClick:()=>Pn(!0),"aria-label":"Import from Pixabay",children:[i.jsx(Kv,{size:20,strokeWidth:2,"aria-hidden":!0}),"Import from Pixabay"]}))]})}),i.jsx("input",{ref:ht,type:"file",accept:"audio/mpeg,audio/mp3,audio/wav,audio/wave,audio/x-wav,audio/mp4,audio/webm,audio/ogg,.mp3,.wav,.m4a,.webm,.ogg",style:{display:"none"},onChange:Ko}),Ae.isError&&i.jsx("p",{className:je.uploadError,children:(gt=Ae.error)==null?void 0:gt.message}),it.isError&&i.jsx("p",{className:je.uploadError,children:(Re=it.error)==null?void 0:Re.message})]}),i.jsxs("div",{className:je.controls,children:[i.jsx("input",{type:"search",className:je.input,placeholder:"Search by name...",value:_,onChange:ne=>{j(ne.target.value),N(1)},"aria-label":"Search library"}),i.jsxs("select",{className:je.select,value:w,onChange:ne=>{y(ne.target.value),N(1)},"aria-label":"Filter by tag",children:[i.jsx("option",{value:"",children:"All tags"}),nt.map(ne=>i.jsx("option",{value:ne,children:ne},ne))]}),i.jsxs("div",{className:je.sortToggle,role:"group","aria-label":"Sort order",children:[i.jsxs("button",{type:"button",className:x?je.sortBtnActive:je.sortBtn,"aria-label":"Sort newest first",onClick:()=>{S(!0),N(1)},children:[i.jsx(Vd,{size:16,strokeWidth:2,"aria-hidden":!0}),"Newest"]}),i.jsxs("button",{type:"button",className:x?je.sortBtn:je.sortBtnActive,"aria-label":"Sort oldest first",onClick:()=>{S(!1),N(1)},children:[i.jsx(Yd,{size:16,strokeWidth:2,"aria-hidden":!0}),"Oldest"]})]})]}),f&&i.jsx("div",{className:je.stateCard,children:i.jsx("p",{className:je.stateText,children:"Loading library..."})}),m&&i.jsx(ef,{title:"Failed to load library"}),!f&&!m&&b.length===0&&i.jsx("div",{className:je.stateCard,children:i.jsx("p",{className:je.stateText,children:"Your library is empty. Add clips from the episode editor."})}),!f&&!m&&b.length>0&&ut.length===0&&i.jsx("div",{className:je.stateCard,children:i.jsx("p",{className:je.stateText,children:"No files match your filters."})}),!f&&!m&&ut.length>0&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:je.metaRow,children:i.jsxs("span",{className:je.metaText,children:["Showing ",lr,"-",tr," of ",ut.length," files"]})}),i.jsx("div",{className:je.list,children:Ot.map(ne=>{var le,Te,Je,$t;const Fe=A===ne.id&&k;return i.jsxs("div",{className:je.item,children:[i.jsxs("div",{className:je.itemMain,children:[i.jsx("div",{className:je.itemTitleRow,children:i.jsx("span",{className:je.itemName,children:ne.name})}),(((le=ne.copyright)==null?void 0:le.trim())||((Te=ne.license)==null?void 0:Te.trim()))&&i.jsx("p",{className:je.itemCopyrightLicense,children:[(Je=ne.copyright)==null?void 0:Je.trim(),($t=ne.license)==null?void 0:$t.trim()].filter(Boolean).join("  ")}),i.jsxs("div",{className:je.itemMeta,children:[(ne.tag||ne.global_asset)&&i.jsxs("span",{className:je.itemMetaLabels,children:[ne.tag&&i.jsx("span",{className:je.itemTag,children:ne.tag}),!!ne.global_asset&&i.jsx("span",{className:je.itemTag,title:"Visible to everyone in the library",children:"Global"})]}),i.jsxs("span",{className:je.itemMetaRight,children:[i.jsx("span",{children:zLe(ne.duration_sec)}),i.jsx("span",{className:je.itemMetaDot,"aria-hidden":!0}),i.jsx("span",{children:MSe(ne.created_at)})]})]})]}),i.jsxs("div",{className:je.itemActions,children:[Si(ne)&&i.jsxs("button",{type:"button",className:je.editBtn,onClick:()=>ia(ne),"aria-label":`Edit ${ne.name}`,children:[i.jsx(QM,{size:16,strokeWidth:2}),"Edit"]}),Xi(ne)&&i.jsx("button",{type:"button",className:je.deleteBtn,onClick:()=>Qi(ne),disabled:ra.isPending,"aria-label":`Delete ${ne.name}`,children:i.jsx(Wl,{size:16,strokeWidth:2})})]}),i.jsx(BLe,{asset:ne,waveformUrl:e?ONe(e,ne.id):RNe(ne.id),currentTime:A===ne.id?D:0,isPlaying:Fe,onSeek:wa,onPlayPause:()=>ln(ne)})]},ne.id)})}),mt>1&&i.jsxs("div",{className:je.pagination,children:[i.jsxs("span",{className:je.paginationLabel,children:["Page ",Tt," of ",mt]}),i.jsxs("div",{className:je.paginationBtns,children:[i.jsx("button",{type:"button",className:je.pageBtn,onClick:()=>N(ne=>Math.max(1,ne-1)),disabled:Tt<=1,"aria-label":"Previous page of library",children:""}),i.jsx("button",{type:"button",className:je.pageBtn,onClick:()=>N(ne=>Math.min(mt,ne+1)),disabled:Tt>=mt,"aria-label":"Next page of library",children:""})]})]})]}),i.jsx(ur,{open:!!me,onOpenChange:ne=>!ne&&Ce(null),children:i.jsxs(br,{children:[i.jsx(dr,{className:je.dialogOverlay}),i.jsxs(fr,{className:je.dialogContent,children:[i.jsxs("div",{className:je.dialogHeaderRow,children:[i.jsx(pr,{className:je.dialogTitle,children:"Delete library item?"}),i.jsx(pt,{asChild:!0,children:i.jsx("button",{type:"button",className:je.dialogClose,"aria-label":"Close",children:i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":"true"})})})]}),i.jsx(Nr,{className:je.dialogDescription,children:me?`This will permanently delete "${me.name}".`:"This will permanently delete this item."}),i.jsxs("div",{className:je.dialogActions,children:[i.jsx(pt,{asChild:!0,children:i.jsx("button",{type:"button",className:je.cancel,"aria-label":"Cancel deleting library item",children:"Cancel"})}),i.jsx("button",{type:"button",className:je.dialogConfirmRemove,onClick:aa,disabled:ra.isPending,"aria-label":"Confirm delete library item",children:ra.isPending?"Deleting...":"Delete"})]})]})]})}),i.jsx(ur,{open:!!xe,onOpenChange:ne=>!ne&&ji(),children:i.jsxs(br,{children:[i.jsx(dr,{className:je.dialogOverlay}),i.jsxs(fr,{className:je.dialogContent,children:[i.jsxs("div",{className:je.dialogHeaderRow,children:[i.jsx(pr,{className:je.dialogTitle,children:"Edit library item"}),i.jsx(pt,{asChild:!0,children:i.jsx("button",{type:"button",className:je.dialogClose,"aria-label":"Close",children:i.jsx(Nt,{size:18,strokeWidth:2,"aria-hidden":"true"})})})]}),i.jsx(Nr,{className:je.dialogDescription,children:"Update the name and tag for this library item."}),i.jsxs("div",{className:je.dialogForm,children:[i.jsxs("label",{className:je.dialogLabel,children:["Name",i.jsx("input",{type:"text",className:je.input,value:M,onChange:ne=>F(ne.target.value)})]}),i.jsxs("label",{className:je.dialogLabel,children:["Tag",i.jsxs("select",{className:je.select,value:B,onChange:ne=>O(ne.target.value),children:[i.jsx("option",{value:"",children:"None"}),Jp.map(ne=>i.jsx("option",{value:ne,children:ne},ne))]})]}),B==="Other"&&i.jsxs("label",{className:je.dialogLabel,children:["Custom tag",i.jsx("input",{type:"text",className:je.input,placeholder:"e.g. Promo, Transition",value:$,onChange:ne=>K(ne.target.value)})]}),i.jsxs("label",{className:je.dialogLabel,children:[i.jsxs("span",{children:["Copyright ",i.jsx("span",{className:je.optional,children:"(optional)"})]}),i.jsx("input",{type:"text",className:je.input,placeholder:"e.g. 2026 Acme Media",value:V,onChange:ne=>Q(ne.target.value)})]}),i.jsxs("label",{className:je.dialogLabel,children:[i.jsxs("span",{children:["License ",i.jsx("span",{className:je.optional,children:"(optional)"})]}),i.jsx("input",{type:"text",className:je.input,placeholder:"e.g. CC BY 4.0, All rights reserved",value:U,onChange:ne=>X(ne.target.value)})]}),u&&i.jsxs("label",{className:"toggle",style:{marginTop:"0.5rem"},children:[i.jsx("input",{type:"checkbox",checked:ee,onChange:ne=>te(ne.target.checked),"aria-label":"Global Asset"}),i.jsx("span",{className:"toggle__track","aria-hidden":"true"}),i.jsx("span",{children:"Global Asset"})]})]}),i.jsxs("div",{className:je.dialogActions,children:[i.jsx(pt,{asChild:!0,children:i.jsx("button",{type:"button",className:je.cancel,"aria-label":"Cancel editing library item",children:"Cancel"})}),i.jsx("button",{type:"button",className:je.dialogConfirm,onClick:sa,disabled:na.isPending||M.trim()==="","aria-label":"Save library item",children:na.isPending?"Saving...":"Save"})]})]})]})})]})}const bj="harborfm_consent";function pM(){if(typeof window>"u")return null;try{const e=localStorage.getItem(bj);return e==="accepted"||e==="rejected"?e:null}catch{return null}}function Ww(){return typeof navigator>"u"?!1:navigator.globalPrivacyControl===!0}function FLe(){const e=typeof window<"u"?window.location.host:"",{data:t}=Oe({queryKey:["publicConfig",e],queryFn:cu,retry:!1,staleTime:1e4}),[r,n]=v.useState(()=>{if(Ww())return!1;const p=pM();return p==="accepted"?!0:p==="rejected"?!1:null});v.useEffect(()=>{const p=pM();p==="accepted"?n(!0):(p==="rejected"||Ww())&&n(!1)},[]);const a=v.useCallback(()=>{try{localStorage.setItem(bj,"accepted"),n(!0)}catch{n(!0)}},[]),o=v.useCallback(()=>{try{localStorage.setItem(bj,"rejected"),n(!1)}catch{n(!1)}},[]),c=!!(t!=null&&t.gdpr_consent_banner_enabled)&&r===null&&!Ww();return{consentGiven:r,showBanner:c,accept:a,reject:o}}const qLe="_banner_7tftm_1",ULe="_inner_7tftm_16",HLe="_text_7tftm_33",WLe="_link_7tftm_40",KLe="_actions_7tftm_50",GLe="_accept_7tftm_64",VLe="_reject_7tftm_65",jc={banner:qLe,inner:ULe,text:HLe,link:WLe,actions:KLe,accept:GLe,reject:VLe};function YLe(){const{showBanner:e,accept:t,reject:r}=FLe();return e?i.jsx("div",{className:jc.banner,role:"dialog","aria-label":"Cookie consent","aria-describedby":"consent-description",children:i.jsxs("div",{className:jc.inner,children:[i.jsxs("p",{id:"consent-description",className:jc.text,children:["We use cookies and similar technologies for analytics and to improve the site. You can accept or reject non-essential cookies. See our"," ",i.jsx(Ye,{to:"/privacy",className:jc.link,children:"Privacy Policy"})," ","for details."]}),i.jsxs("div",{className:jc.actions,children:[i.jsx("button",{type:"button",className:jc.reject,onClick:r,"aria-label":"Reject non-essential cookies",children:"Reject"}),i.jsx("button",{type:"button",className:jc.accept,onClick:t,"aria-label":"Accept cookies",children:"Accept"})]})]})}):null}function QLe(){const{pathname:e}=$a();return v.useEffect(()=>{const t=requestAnimationFrame(()=>{requestAnimationFrame(()=>{window.scrollTo(0,0),document.documentElement.scrollTop=0,document.documentElement.scrollLeft=0,document.body.scrollTop=0,document.body.scrollLeft=0})});return()=>cancelAnimationFrame(t)},[e]),null}function wv({children:e}){const{user:t}=As(),{data:r,isLoading:n}=Oe({queryKey:["me"],queryFn:_i,retry:!1,staleTime:300*1e3,enabled:!t}),a=t??(r==null?void 0:r.user);return n?i.jsxs("div",{className:"app-loading",children:[i.jsx("span",{className:"app-loading__dot"}),i.jsx("span",{className:"app-loading__dot"}),i.jsx("span",{className:"app-loading__dot"})]}):(a==null?void 0:a.role)!=="admin"?i.jsx(Fi,{to:"/",replace:!0}):i.jsx(i.Fragment,{children:e})}function Kw({children:e}){const{user:t}=As(),{data:r,isLoading:n}=Oe({queryKey:["me"],queryFn:_i,retry:!1,staleTime:300*1e3,enabled:!t});return t||r!=null&&r.user?i.jsx(Fi,{to:"/",replace:!0}):n?i.jsxs("div",{className:"app-loading",children:[i.jsx("span",{className:"app-loading__dot"}),i.jsx("span",{className:"app-loading__dot"}),i.jsx("span",{className:"app-loading__dot"})]}):i.jsx(i.Fragment,{children:e})}function XLe({children:e}){const{user:t,setUser:r}=As(),{data:n,isLoading:a,isError:o}=Oe({queryKey:["me"],queryFn:_i,retry:!1,staleTime:300*1e3});return v.useEffect(()=>{n!=null&&n.user&&r(n.user),o&&!t&&r(null)},[n,o,r,t]),a?i.jsxs("div",{className:"app-loading",children:[i.jsx("span",{className:"app-loading__dot"}),i.jsx("span",{className:"app-loading__dot"}),i.jsx("span",{className:"app-loading__dot"})]}):!t&&o?i.jsx(Fi,{to:"/login",replace:!0}):i.jsx(i.Fragment,{children:e})}function gd({children:e}){const t=$a(),{data:r,isLoading:n,isError:a,error:o,refetch:u}=Oe({queryKey:["setupStatus"],queryFn:lu,retry:!1,staleTime:1e4});if(n)return i.jsxs("div",{className:"app-loading",children:[i.jsx("span",{className:"app-loading__dot"}),i.jsx("span",{className:"app-loading__dot"}),i.jsx("span",{className:"app-loading__dot"})]});if(a){const c=o instanceof Error?o.message:"Failed to reach server";return i.jsx(hL,{title:"Server is offline",message:"Could not load setup status. The server may be down or restarting.",details:c,onRetry:()=>{u()}})}return r!=null&&r.setupRequired?i.jsx(Fi,{to:"/setup",replace:!0,state:{from:t.pathname}}):t.pathname==="/register"&&r&&r.registrationEnabled===!1?i.jsx(Fi,{to:"/login",replace:!0}):i.jsx(i.Fragment,{children:e})}function Ec({children:e}){const{data:t,isLoading:r}=Oe({queryKey:["publicConfig",typeof window<"u"?window.location.host:""],queryFn:cu,retry:!1,staleTime:1e4});return r?i.jsxs("div",{className:"app-loading",children:[i.jsx("span",{className:"app-loading__dot"}),i.jsx("span",{className:"app-loading__dot"}),i.jsx("span",{className:"app-loading__dot"})]}):t&&t.public_feeds_enabled===!1?i.jsx(Fi,{to:"/",replace:!0}):i.jsx(i.Fragment,{children:e})}function ZLe(){const e=typeof window<"u"?window.location.host:"",{data:t,isLoading:r,isFetching:n,isFetched:a}=Oe({queryKey:["publicConfig",e],queryFn:cu,retry:!1,staleTime:0,refetchOnMount:"always"});return!a||n||r?i.jsxs("div",{className:"app-loading",children:[i.jsx("span",{className:"app-loading__dot"}),i.jsx("span",{className:"app-loading__dot"}),i.jsx("span",{className:"app-loading__dot"})]}):t!=null&&t.custom_feed_slug?i.jsx(Ec,{children:i.jsx(H7,{podcastSlugOverride:t.custom_feed_slug})}):i.jsx(gd,{children:i.jsx(XLe,{children:i.jsx(VW,{})})})}function JLe(){const e=typeof window<"u"?window.location.host:"",{episodeSlug:t}=bi(),{data:r,isLoading:n,isFetching:a,isFetched:o}=Oe({queryKey:["publicConfig",e],queryFn:cu,retry:!1,staleTime:0,refetchOnMount:"always"});return!o||a||n?i.jsxs("div",{className:"app-loading",children:[i.jsx("span",{className:"app-loading__dot"}),i.jsx("span",{className:"app-loading__dot"}),i.jsx("span",{className:"app-loading__dot"})]}):r!=null&&r.custom_feed_slug&&t?i.jsx(W7,{podcastSlugOverride:r.custom_feed_slug,episodeSlugOverride:t}):i.jsx(Fi,{to:"/",replace:!0})}function e6e(){return i.jsxs(SH,{children:[i.jsx(QLe,{}),i.jsxs(DOe,{children:[i.jsx(YLe,{}),i.jsxs(ZU,{children:[i.jsx(Ft,{path:"/setup",element:i.jsx(VK,{})}),i.jsx(Ft,{path:"/login",element:i.jsx(gd,{children:i.jsx(Kw,{children:i.jsx(WK,{})})})}),i.jsx(Ft,{path:"/register",element:i.jsx(gd,{children:i.jsx(Kw,{children:i.jsx(KK,{})})})}),i.jsx(Ft,{path:"/reset-password",element:i.jsx(gd,{children:i.jsx(Kw,{children:i.jsx(YK,{})})})}),i.jsx(Ft,{path:"/verify-email",element:i.jsx(gd,{children:i.jsx(QK,{})})}),i.jsx(Ft,{path:"/privacy",element:i.jsx(nV,{})}),i.jsx(Ft,{path:"/terms",element:i.jsx(gV,{})}),i.jsx(Ft,{path:"/contact",element:i.jsx(gd,{children:i.jsx(yV,{})})}),i.jsx(Ft,{path:"/feed",element:i.jsx(Ec,{children:i.jsx(WDe,{})})}),i.jsx(Ft,{path:"/feed/:podcastSlug",element:i.jsx(Ec,{children:i.jsx(H7,{})})}),i.jsx(Ft,{path:"/feed/:podcastSlug/:episodeSlug",element:i.jsx(Ec,{children:i.jsx(W7,{})})}),i.jsx(Ft,{path:"/embed/:podcastSlug/:episodeSlug",element:i.jsx(Ec,{children:i.jsx(dM,{})})}),i.jsx(Ft,{path:"/embed/:episodeSlug",element:i.jsx(Ec,{children:i.jsx(dM,{})})}),i.jsx(Ft,{path:"/call/join/:token",element:i.jsx(kMe,{})}),i.jsxs(Ft,{path:"/",element:i.jsx(ZLe,{}),children:[i.jsx(Ft,{index:!0,element:i.jsx(tA,{})}),i.jsx(Ft,{path:"podcasts/new",element:i.jsx(Bee,{})}),i.jsx(Ft,{path:"podcasts/:id",element:i.jsx(gae,{})}),i.jsx(Ft,{path:"podcasts/:id/analytics",element:i.jsx(Mwe,{})}),i.jsx(Ft,{path:"podcasts/:id/episodes",element:i.jsx(mSe,{})}),i.jsx(Ft,{path:"podcasts/:id/episodes/new",element:i.jsx(gSe,{})}),i.jsx(Ft,{path:"episodes/:id",element:i.jsx(XEe,{})}),i.jsx(Ft,{path:"library",element:i.jsx(fM,{})}),i.jsx(Ft,{path:"library/:userId",element:i.jsx(wv,{children:i.jsx(fM,{})})}),i.jsx(Ft,{path:"dashboard/:userId",element:i.jsx(wv,{children:i.jsx(tA,{})})}),i.jsx(Ft,{path:"profile",element:i.jsx(tAe,{})}),i.jsx(Ft,{path:"users",element:i.jsx(wv,{children:i.jsx(JAe,{})})}),i.jsx(Ft,{path:"messages",element:i.jsx(PRe,{})}),i.jsx(Ft,{path:"settings",element:i.jsx(wv,{children:i.jsx(EPe,{})})})]}),i.jsx(Ft,{path:"/:episodeSlug",element:i.jsx(Ec,{children:i.jsx(JLe,{})})}),i.jsx(Ft,{path:"*",element:i.jsx(Fi,{to:"/",replace:!0})})]})]})]})}const t6e=new Iz({defaultOptions:{queries:{staleTime:3e4,retry:!1,retryOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1}}});fz.createRoot(document.getElementById("root")).render(i.jsx(v.StrictMode,{children:i.jsx(Zq,{children:i.jsx($z,{client:t6e,children:i.jsx(e6e,{})})})}));"serviceWorker"in navigator&&(location.protocol==="https:"||location.hostname==="localhost")&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").catch(()=>{})});
